!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=709)}([function(e,t,n){"use strict";(function(e){n.d(t,"t",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"m",(function(){return p})),n.d(t,"r",(function(){return y})),n.d(t,"q",(function(){return v})),n.d(t,"v",(function(){return g})),n.d(t,"D",(function(){return b})),n.d(t,"z",(function(){return w})),n.d(t,"u",(function(){return E})),n.d(t,"y",(function(){return _})),n.d(t,"F",(function(){return S})),n.d(t,"E",(function(){return T})),n.d(t,"g",(function(){return A})),n.d(t,"B",(function(){return P})),n.d(t,"C",(function(){return k})),n.d(t,"w",(function(){return x})),n.d(t,"a",(function(){return C})),n.d(t,"p",(function(){return R})),n.d(t,"A",(function(){return I})),n.d(t,"x",(function(){return O})),n.d(t,"c",(function(){return M})),n.d(t,"e",(function(){return N})),n.d(t,"i",(function(){return D})),n.d(t,"n",(function(){return L})),n.d(t,"j",(function(){return j})),n.d(t,"l",(function(){return B})),n.d(t,"f",(function(){return F})),n.d(t,"s",(function(){return U})),n.d(t,"o",(function(){return q})),n.d(t,"k",(function(){return H})),n.d(t,"d",(function(){return K}));var r=n(424),i=n.n(r),o=n(208),a=n.n(o),u=n(309),s=n.n(u),c=n(87),f=n(3);function l(e){var t=e.split("-"),n="RxDB";return t.forEach((function(e){n+=S(e)})),n+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+n+" } from 'rxdb/plugins/"+e+"';\n            addRxPlugin("+n+");\n        ")}function d(e){"string"!=typeof e&&(e=JSON.stringify(e));var t,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r<0&&(r*=-1),r}var h="rxdb-specific-hash-salt";function p(e){return"string"!=typeof e&&(e=JSON.stringify(e)),a.a.hash(h+e)}var m=0;function y(){var e=(new Date).getTime();return e<=m&&(e=m+1),m=e,e}function v(){return new Promise((function(e){return setTimeout(e,0)}))}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return setTimeout(t,e)}))}function b(e){return e&&"function"==typeof e.then?e:Promise.resolve(e)}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"object"==typeof window&&window.requestIdleCallback?new Promise((function(t){return window.requestIdleCallback(t,{timeout:e})})):Promise.resolve()}function E(e,t){return e.reduce((function(e,t){return e.then(t)}),Promise.resolve(t))}function _(e){"object"==typeof window&&window.requestIdleCallback&&window.requestIdleCallback(e)}function S(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)}function T(e){for(;"."===e.charAt(0);)e=e.substr(1);for(;"."===e.slice(-1);)e=e.slice(0,-1);return e}function A(e){if(!e)throw new Error("ensureNotFalsy() is falsy");return e}function P(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return e;if(!t&&Array.isArray(e))return e.sort((function(e,t){return"string"==typeof e&&"string"==typeof t?e.localeCompare(t):"object"==typeof e?1:-1})).map((function(e){return P(e,t)}));if("object"==typeof e&&!Array.isArray(e)){if(e instanceof RegExp)return e;var n={};return Object.keys(e).sort((function(e,t){return e.localeCompare(t)})).forEach((function(r){n[r]=P(e[r],t)})),n}return e}function k(e,t){return t instanceof RegExp?t.toString():t}function x(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="abcdefghijklmnopqrstuvwxyz",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var C="Fz7SZXPmYJujkzjY1rpXWvlWBqoGAfAX";function R(e){return e[e.length-1]}function I(e){return e.sort((function(){return Math.random()-.5}))}function O(e,t){for(var n=(e=e.slice()).length,r=!1;n--&&!r;)t(e[n])&&(r=!0,e.splice(n,1));return e}function M(e){var t={db:e};return"string"==typeof e&&(t={adapter:e}),t}var N=function(e){return e?i()(e,!1):e};function D(e){return Object.assign({},e)}var L=s()();function j(e){var t={};for(var n in e)if(e.hasOwnProperty(n))if("object"==typeof e[n]){var r=j(e[n]);for(var i in r)r.hasOwnProperty(i)&&(t[n+"."+i]=r[i])}else t[n]=e[n];return t}function B(e){var t=e.split("-")[0];return parseInt(t,10)}function F(e,t){if(!t)return Object(f.t)(e,!1);var n=Object.assign({},e,{_rev:void 0,_rev_tree:void 0});return Object(c.b)(JSON.stringify(n))}function U(e,t,n){return Object.defineProperty(e,t,{get:function(){return n}}),n}function q(e){return!(!e.includes("/")&&!e.includes("\\"))}function H(e,t){var n=e.get(t);if(!n)throw new Error("missing value from map "+t);return n}var K={createBlobBuffer:function(t,n){var r;if(L)return e.from(t,{type:n});try{r=new Blob([t],{type:n})}catch(i){r=e.from(t,{type:n})}return r},isBlobBuffer:function(t){return!!(e.isBuffer(t)||t instanceof Blob)},toString:function(t){return t instanceof e?v().then((function(){return t.toString()})):new Promise((function(e){var n=new FileReader;n.addEventListener("loadend",(function(t){var n=t.target.result;e(n)})),"[object Uint8Array]"===Object.prototype.toString.call(t)&&(t=new Blob([t])),n.readAsText(t)}))}}}).call(this,n(27).Buffer)},function(e,t,n){e.exports=n(750)},function(e,t,n){"use strict";var r=n(848),i=n(88),o=n(23),a=n(24),u=n(60),s=function(e){this.map=e},c=function(e){return e.map},f=new s((function(e){return function(e){return u.Proxy.value}})),l=new s(i.compose(i.semigroupoidFn)),d=new s(r.arrayMap);e.exports={Functor:s,map:c,mapFlipped:function(e){return function(t){return function(n){return c(e)(n)(t)}}},void:function(e){return c(e)(o.const(a.unit))},voidRight:function(e){return function(t){return c(e)(o.const(t))}},voidLeft:function(e){return function(t){return function(n){return c(e)(o.const(n))(t)}}},flap:function(e){return function(t){return function(n){return c(e)((function(e){return e(n)}))(t)}}},functorFn:l,functorArray:d,functorProxy:f}},function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return B})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return L})),n.d(t,"g",(function(){return j})),n.d(t,"h",(function(){return F})),n.d(t,"i",(function(){return U})),n.d(t,"j",(function(){return D})),n.d(t,"k",(function(){return M})),n.d(t,"l",(function(){return q})),n.d(t,"m",(function(){return H})),n.d(t,"n",(function(){return K})),n.d(t,"o",(function(){return c.a})),n.d(t,"p",(function(){return z})),n.d(t,"q",(function(){return A})),n.d(t,"r",(function(){return V})),n.d(t,"s",(function(){return x})),n.d(t,"t",(function(){return $})),n.d(t,"u",(function(){return W})),n.d(t,"v",(function(){return P})),n.d(t,"w",(function(){return G})),n.d(t,"x",(function(){return J}));var r=n(157),i=n.n(r),o=n(61),a=n(22),u=n.n(a),s=n(425),c=n.n(s),f=n(9),l=n(33),d=n.n(l),h="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),p=new Uint8Array(16);function m(){if(!h)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h(p)}for(var y=[],v=0;v<256;++v)y.push((v+256).toString(16).substr(1));var g=function(e,t){var n=t||0,r=y;return(r[e[n+0]]+r[e[n+1]]+r[e[n+2]]+r[e[n+3]]+"-"+r[e[n+4]]+r[e[n+5]]+"-"+r[e[n+6]]+r[e[n+7]]+"-"+r[e[n+8]]+r[e[n+9]]+"-"+r[e[n+10]]+r[e[n+11]]+r[e[n+12]]+r[e[n+13]]+r[e[n+14]]+r[e[n+15]]).toLowerCase()};var b=function(e,t,n){"string"==typeof e&&(t="binary"===e?new Uint8Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||m)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){for(var i=n||0,o=0;o<16;++o)t[i+o]=r[o];return t}return g(r)},w=n(87);function E(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}var _=Function.prototype.toString,S=_.call(Object);function T(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=T(e[n]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return E(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&_.call(n)==S}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=T(e[n]);void 0!==i&&(t[n]=i)}return t}function A(e){var t=!1;return i()((function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}))}function P(e){return i()((function(t){t=T(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),i=new Promise((function(r,i){var o;try{var a=A((function(e,t){e?i(e):r(t)}));t.push(a),(o=e.apply(n,t))&&"function"==typeof o.then&&r(o)}catch(e){i(e)}}));return r&&i.then((function(e){r(null,e)}),r),i}))}function k(e,t){return P(i()((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],i=0;i<n.length-1;i++)r.push(n[i]);e.constructor.emit("debug",r);var o=n[n.length-1];n[n.length-1]=function(n,r){var i=["api",e.name,t];i=i.concat(n?["error",n]:["success",r]),e.constructor.emit("debug",i),o(n,r)}}}(r,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise((function(t,i){r.taskqueue.addTask((function(o){o?i(o):t(r[e].apply(r,n))}))}))})))}function x(e,t){for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];o in e&&(n[o]=e[o])}return n}var C;function R(e){return e}function I(e){return[{ok:e}]}function O(e,t,n){var r=t.docs,i=new o.a;r.forEach((function(e){i.has(e.id)?i.get(e.id).push(e):i.set(e.id,[e])}));var a=i.size,u=0,s=new Array(a);function c(){var e;++u===a&&(e=[],s.forEach((function(t){t.docs.forEach((function(n){e.push({id:t.id,docs:[n]})}))})),n(null,{results:e}))}var f=[];i.forEach((function(e,t){f.push(t)}));var l=0;function d(){if(!(l>=f.length)){var n=Math.min(l+6,f.length),r=f.slice(l,n);!function(n,r){n.forEach((function(n,o){var a=r+o,u=i.get(n),f=x(u[0],["atts_since","attachments"]);f.open_revs=u.map((function(e){return e.rev})),f.open_revs=f.open_revs.filter(R);var l=R;0===f.open_revs.length&&(delete f.open_revs,l=I),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(f[e]=t[e])})),e.get(n,f,(function(e,t){var r,i,o;r=e?[{error:e}]:l(t),i=n,o=r,s[a]={id:i,docs:o},c(),d()}))}))}(r,l),l+=r.length}}d()}try{localStorage.setItem("_pouch_check_localstorage",1),C=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){C=!1}function M(){return C}function N(){d.a.call(this),this._listeners={},function(e){M()&&addEventListener("storage",(function(t){e.emit(t.key)}))}(this)}function D(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function L(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function j(e,t){D("info","The above "+e+" is totally normal. "+t)}u()(N,d.a),N.prototype.addListener=function(e,t,n,r){if(!this._listeners[t]){var i=this,o=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(i._listeners[t])if(o)o="waiting";else{o=!0;var e=x(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",(function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))})).on("complete",(function(){"waiting"===o&&c()(a),o=!1})).on("error",(function(){o=!1}))}}},N.prototype.removeListener=function(e,t){t in this._listeners&&(d.a.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},N.prototype.notifyLocalWindows=function(e){M()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},N.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var B="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};function F(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var i=n&&function(e,t,n){try{return!e(t,n)}catch(e){var r="Filter function threw: "+e.toString();return Object(f.p)(f.b,r)}}(e.filter,r.doc,t);if("object"==typeof i)return i;if(i)return!1;if(e.include_docs){if(!e.attachments)for(var o in r.doc._attachments)r.doc._attachments.hasOwnProperty(o)&&(r.doc._attachments[o].stub=!0)}else delete r.doc;return!0}}function U(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function q(e){var t;if(e?"string"!=typeof e?t=Object(f.p)(f.e):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Object(f.p)(f.m)):t=Object(f.p)(f.i),t)throw t}function H(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(D("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function K(e,t){return"listenerCount"in e?e.listenerCount(t):d.a.listenerCount(e,t)}function V(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function z(e){var t=V(e);return t?t.join("/"):null}function W(e,t){var n=[],r=[];for(var i in t)t.hasOwnProperty(i)&&(n.push(i),r.push(t[i]));return n.push(e),Function.apply(null,n).apply(null,r)}function G(e,t,n){return new Promise((function(r,i){e.get(t,(function(o,a){if(o){if(404!==o.status)return i(o);a={}}var u=a._rev,s=n(a);if(!s)return r({updated:!1,rev:u});s._id=t,s._rev=u,r(function(e,t,n){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(r){if(409!==r.status)throw r;return G(e,t._id,n)}))}(e,s,n))}))}))}function $(e,t){var n=T(e);return t?(delete n._rev_tree,Object(w.b)(JSON.stringify(n))):b().replace(/-/g,"").toLowerCase()}var J=b},function(e,t,n){"use strict";function r(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}e.exports=function(e,t,n){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");n||(n={}),"object"==typeof t&&(n=t,t=""),t&&(n.code=t);try{return r(e,n)}catch(t){n.message=e.message,n.stack=e.stack;const i=function(){};i.prototype=Object.create(Object.getPrototypeOf(e));return r(new i,n)}}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(25),c=n(105),f=n(40),l=n(73),d=n(46),h=n(63),p=n(13),m=n(23),y=n(2),v=n(125),g=n(144),b=n(28),w=n(16),E=n(34),_=n(20),S=n(18),T=n(24),A=function(){function e(){}return e.value=new e,e}(),P=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),k=function(e){return new _.Semigroup((function(t){return function(n){if(t instanceof A)return n;if(n instanceof A)return t;if(t instanceof P&&n instanceof P)return new P(_.append(e)(t.value0)(n.value0));throw new Error("Failed pattern match at Data.Maybe (line 185, column 1 - line 188, column 43): "+[t.constructor.name,n.constructor.name])}}))},x=function(e){return function(t){return function(n){if(n instanceof A)return e(T.unit);if(n instanceof P)return t(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 243, column 1 - line 243, column 62): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}},C=function(e){return function(t){return function(n){if(n instanceof A)return e;if(n instanceof P)return t(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 230, column 1 - line 230, column 51): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}},R=C(!0)(m.const(!1)),I=C(!1)(m.const(!0)),O=new g.Generic((function(e){if(e instanceof A)return new g.Inl(g.NoArguments.value);if(e instanceof P)return new g.Inr(e.value0);throw new Error("Failed pattern match at Data.Maybe (line 220, column 1 - line 220, column 52): "+[e.constructor.name])}),(function(e){if(e instanceof g.Inl)return A.value;if(e instanceof g.Inr)return new P(e.value0);throw new Error("Failed pattern match at Data.Maybe (line 220, column 1 - line 220, column 52): "+[e.constructor.name])})),M=new y.Functor((function(e){return function(t){return t instanceof P?new P(e(t.value0)):A.value}})),N=new v.Invariant(v.imapF(M)),D=new c.Extend((function(){return M}),(function(e){return function(t){return t instanceof A?A.value:new P(e(t))}})),L=function(e){return new p.Eq((function(t){return function(n){return t instanceof A&&n instanceof A||t instanceof P&&n instanceof P&&p.eq(e)(t.value0)(n.value0)}}))},j=function(e){return new w.Ord((function(){return L(e.Eq0())}),(function(t){return function(n){if(t instanceof A&&n instanceof A)return E.EQ.value;if(t instanceof A)return E.LT.value;if(n instanceof A)return E.GT.value;if(t instanceof P&&n instanceof P)return w.compare(e)(t.value0)(n.value0);throw new Error("Failed pattern match at Data.Maybe (line 205, column 1 - line 205, column 51): "+[t.constructor.name,n.constructor.name])}}))},B=new p.Eq1((function(e){return p.eq(L(e))})),F=new w.Ord1((function(){return B}),(function(e){return w.compare(j(e))})),U=new a.Apply((function(){return M}),(function(e){return function(t){if(e instanceof P)return y.map(M)(e.value0)(t);if(e instanceof A)return A.value;throw new Error("Failed pattern match at Data.Maybe (line 68, column 1 - line 70, column 30): "+[e.constructor.name,t.constructor.name])}})),q=new u.Bind((function(){return U}),(function(e){return function(t){if(e instanceof P)return t(e.value0);if(e instanceof A)return A.value;throw new Error("Failed pattern match at Data.Maybe (line 126, column 1 - line 128, column 28): "+[e.constructor.name,t.constructor.name])}})),H=new o.Applicative((function(){return U}),P.create),K=new f.Monad((function(){return H}),(function(){return q})),V=new r.Alt((function(){return M}),(function(e){return function(t){return e instanceof A?t:e}})),z=new d.Plus((function(){return V}),A.value),W=new i.Alternative((function(){return H}),(function(){return z})),G=new l.MonadZero((function(){return W}),(function(){return K}),(function(){}));e.exports={Nothing:A,Just:P,maybe:C,"maybe'":x,fromMaybe:function(e){return C(e)(s.identity(s.categoryFn))},"fromMaybe'":function(e){return x(e)(s.identity(s.categoryFn))},isJust:I,isNothing:R,fromJust:function(e){return function(e){if(e instanceof P)return e.value0;throw new Error("Failed pattern match at Data.Maybe (line 281, column 1 - line 281, column 46): "+[e.constructor.name])}},optional:function(e){return function(t){return function(n){return r.alt(e)(y.map(e.Functor0())(P.create)(n))(o.pure(t)(A.value))}}},functorMaybe:M,applyMaybe:U,applicativeMaybe:H,altMaybe:V,plusMaybe:z,alternativeMaybe:W,bindMaybe:q,monadMaybe:K,monadZeroMaybe:G,extendMaybe:D,invariantMaybe:N,semigroupMaybe:k,monoidMaybe:function(e){return new b.Monoid((function(){return k(e)}),A.value)},eqMaybe:L,eq1Maybe:B,ordMaybe:j,ord1Maybe:F,boundedMaybe:function(e){return new h.Bounded((function(){return j(e.Ord0())}),A.value,new P(h.top(e)))},showMaybe:function(e){return new S.Show((function(t){if(t instanceof P)return"(Just "+S.show(e)(t.value0)+")";if(t instanceof A)return"Nothing";throw new Error("Failed pattern match at Data.Maybe (line 216, column 1 - line 218, column 28): "+[t.constructor.name])}))},genericMaybe:O}},function(e,t,n){(function(r){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(1163)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(49))},function(e,t,n){"use strict";var r=n(399);e.exports=function(e){return function(t){return e(new r(t),t)}}},function(e,t,n){"use strict";var r=["arg","searchParams","hashAlg","mtime","mode"];function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=n(400),c=n(641);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.arg,n=e.searchParams,i=e.hashAlg,a=e.mtime,f=e.mode,l=u(e,r);n&&(l=o(o({},l),n)),i&&(l.hash=i),null!=a&&(a=c(a),l.mtime=a.secs,l.mtimeNsecs=a.nsecs),null!=f&&(l.mode=s(f)),l.timeout&&!isNaN(l.timeout)&&(l.timeout="".concat(l.timeout,"ms")),null==t?t=[]:Array.isArray(t)||(t=[t]);var d=new URLSearchParams(l);return t.forEach((function(e){return d.append("arg",e)})),d}},function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return a})),n.d(t,"n",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"m",(function(){return f})),n.d(t,"o",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"l",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"k",(function(){return y})),n.d(t,"f",(function(){return g})),n.d(t,"j",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"p",(function(){return w})),n.d(t,"q",(function(){return E}));var r=n(22);function i(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}n.n(r)()(i,Error),i.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new i(401,"unauthorized","Name or password is incorrect.");var o=new i(400,"bad_request","Missing JSON list of 'docs'"),a=new i(404,"not_found","missing"),u=new i(409,"conflict","Document update conflict"),s=new i(400,"bad_request","_id field must contain a string"),c=new i(412,"missing_id","_id is required for puts"),f=new i(400,"bad_request","Only reserved document ids may start with underscore."),l=(new i(412,"precondition_failed","Database not open"),new i(500,"unknown_error","Database encountered an unknown error")),d=new i(500,"badarg","Some query argument is invalid"),h=(new i(400,"invalid_request","Request was invalid"),new i(400,"query_parse_error","Some query parameter is invalid")),p=new i(500,"doc_validation","Bad special document member"),m=new i(400,"bad_request","Something wrong with the request"),y=new i(400,"bad_request","Document must be a JSON object"),v=(new i(404,"not_found","Database not found"),new i(500,"indexed_db_went_bad","unknown")),g=(new i(500,"web_sql_went_bad","unknown"),new i(500,"levelDB_went_went_bad","unknown"),new i(403,"forbidden","Forbidden by design doc validate_doc_update function"),new i(400,"bad_request","Invalid rev format")),b=(new i(412,"file_exists","The database could not be created, the file already exists."),new i(412,"missing_stub","A pre-existing attachment stub wasn't found"));new i(413,"invalid_url","Provided URL is invalid");function w(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),r=0,i=n.length;r<i;r++)"function"!=typeof e[n[r]]&&(this[n[r]]=e[n[r]]);void 0!==t&&(this.reason=t)}return n.prototype=i.prototype,new n(t)}function E(e){if("object"!=typeof e){var t=e;(e=l).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}},function(e,t,n){"use strict";var r=n(866);e.exports={unsafeCoerce:r.unsafeCoerce}},function(e,t,n){"use strict";var r=n(19),i=n(2),o=n(24),a=n(60),u=function(e,t){this.Apply0=e,this.pure=t},s=function(e){return e.pure},c=new u((function(){return r.applyProxy}),(function(e){return a.Proxy.value})),f=new u((function(){return r.applyFn}),(function(e){return function(t){return e}})),l=new u((function(){return r.applyArray}),(function(e){return[e]}));e.exports={Applicative:u,pure:s,liftA1:function(e){return function(t){return function(n){return r.apply(e.Apply0())(s(e)(t))(n)}}},unless:function(e){return function(t){return function(n){if(!t)return n;if(t)return s(e)(o.unit);throw new Error("Failed pattern match at Control.Applicative (line 66, column 1 - line 66, column 65): "+[t.constructor.name,n.constructor.name])}}},when:function(e){return function(t){return function(n){if(t)return n;if(!t)return s(e)(o.unit);throw new Error("Failed pattern match at Control.Applicative (line 61, column 1 - line 61, column 63): "+[t.constructor.name,n.constructor.name])}}},applicativeFn:f,applicativeArray:l,applicativeProxy:c,Apply:r.Apply,apply:r.apply,Functor:i.Functor,map:i.map,void:i.void}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(276),i=n(84),o=n(64),a=n(85),u=n(130);class s{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:v,byteLength:v,code:y,version:y,multihash:y,bytes:y,_baseCache:v,asCID:v})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==d)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==h)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return s.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=i.create(e,t);return s.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&i.equals(this.multihash,e.multihash)}toString(e){const{bytes:t,version:n,_baseCache:r}=this;switch(n){case 0:return f(t,r,e||o.base58btc.encoder);default:return l(t,r,e||a.base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return g(/^0\.0/,b),!(!e||!e[m]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof s)return e;if(null!=e&&e.asCID===e){const{version:t,code:n,multihash:r,bytes:i}=e;return new s(t,n,r,i||p(t,n,r.bytes))}if(null!=e&&!0===e[m]){const{version:t,multihash:n,code:r}=e,o=i.decode(n);return s.create(t,r,o)}return null}static create(e,t,n){if("number"!=typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==d)throw new Error(`Version 0 CID must use dag-pb (code: ${d}) block encoding`);return new s(e,t,n,n.bytes);case 1:{const r=p(e,t,n.bytes);return new s(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return s.create(0,d,e)}static createV1(e,t){return s.create(1,e,t)}static decode(e){const[t,n]=s.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=s.inspectBytes(e),n=t.size-t.multihashSize,r=u.coerce(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),a=new i.Digest(t.multihashCode,t.digestSize,o,r);return[0===t.version?s.createV0(a):s.createV1(t.codec,a),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,i]=r.decode(e.subarray(t));return t+=i,n};let i=n(),o=d;if(18===i?(i=0,t=0):1===i&&(o=n()),0!==i&&1!==i)throw new RangeError("Invalid CID version "+i);const a=t,u=n(),s=n(),c=t+s;return{version:i,codec:o,multihashCode:u,digestSize:s,multihashSize:c-a,size:c}}static parse(e,t){const[n,r]=c(e,t),i=s.decode(r);return i._baseCache.set(n,e),i}}const c=(e,t)=>{switch(e[0]){case"Q":{const n=t||o.base58btc;return[o.base58btc.prefix,n.decode(`${o.base58btc.prefix}${e}`)]}case o.base58btc.prefix:{const n=t||o.base58btc;return[o.base58btc.prefix,n.decode(e)]}case a.base32.prefix:{const n=t||a.base32;return[a.base32.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},f=(e,t,n)=>{const{prefix:r}=n;if(r!==o.base58btc.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const i=t.get(r);if(null==i){const i=n.encode(e).slice(1);return t.set(r,i),i}return i},l=(e,t,n)=>{const{prefix:r}=n,i=t.get(r);if(null==i){const i=n.encode(e);return t.set(r,i),i}return i},d=112,h=18,p=(e,t,n)=>{const i=r.encodingLength(e),o=i+r.encodingLength(t),a=new Uint8Array(o+n.byteLength);return r.encodeTo(e,a,0),r.encodeTo(t,a,i),a.set(n,o),a},m=Symbol.for("@ipld/js-cid/CID"),y={writable:!1,configurable:!1,enumerable:!0},v={writable:!1,enumerable:!1,configurable:!1},g=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},b="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n";t.CID=s},function(e,t,n){"use strict";var r=n(858),i=n(59),o=n(111),a=n(60),u=function(e){this.eqRecord=e},s=function(e){this.eq=e},c=function(e){this.eq1=e},f=new s((function(e){return function(e){return!0}})),l=new s((function(e){return function(e){return!0}})),d=new s(r.eqStringImpl),h=new u((function(e){return function(e){return function(e){return!0}}})),p=function(e){return e.eqRecord},m=new s((function(e){return function(e){return!0}})),y=new s((function(e){return function(e){return!0}})),v=new s((function(e){return function(e){return!0}})),g=new s(r.eqNumberImpl),b=new s(r.eqIntImpl),w=new s(r.eqCharImpl),E=new s(r.eqBooleanImpl),_=function(e){return e.eq1},S=function(e){return e.eq},T=function(e){return new s(r.eqArrayImpl(S(e)))},A=new c((function(e){return S(T(e))}));e.exports={Eq:s,eq:S,notEq:function(e){return function(t){return function(n){return S(E)(S(e)(t)(n))(!1)}}},Eq1:c,eq1:_,notEq1:function(e){return function(t){return function(n){return function(r){return S(E)(_(e)(t)(n)(r))(!1)}}}},EqRecord:u,eqRecord:p,eqBoolean:E,eqInt:b,eqNumber:g,eqChar:w,eqString:d,eqUnit:l,eqVoid:f,eqArray:T,eqRec:function(e){return function(e){return new s(p(e)(a.Proxy.value))}},eqProxy:v,eqProxy2:y,eqProxy3:m,eq1Array:A,eqRowNil:h,eqRowCons:function(e){return function(t){return function(t){return function(n){return new u((function(r){return function(r){return function(u){var s=p(e)(a.Proxy.value)(r)(u),c=i.reflectSymbol(t)(a.Proxy.value),f=o.unsafeGet(c);return S(n)(f(r))(f(u))&&s}}}))}}}}}},function(e,t){function n(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function u(e){n(a,i,o,u,s,"next",e)}function s(e){n(a,i,o,u,s,"throw",e)}u(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(853),i=n(11),o=n(19),a=n(25),u=n(23),s=n(2),c=n(60),f=function(e,t){this.Apply0=e,this.bind=t},l=function(e){this.discard=e},d=new f((function(){return o.applyProxy}),(function(e){return function(e){return c.Proxy.value}})),h=new f((function(){return o.applyFn}),(function(e){return function(t){return function(n){return t(e(n))(n)}}})),p=new f((function(){return o.applyArray}),r.arrayBind),m=function(e){return e.bind},y=function(e){return u.flip(m(e))},v=new l((function(e){return m(e)})),g=new l((function(e){return m(e)})),b=new l((function(e){return m(e)})),w=new l((function(e){return m(e)}));e.exports={Bind:f,bind:m,bindFlipped:y,Discard:l,discard:function(e){return e.discard},join:function(e){return function(t){return m(e)(t)(a.identity(a.categoryFn))}},composeKleisli:function(e){return function(t){return function(n){return function(r){return m(e)(t(r))(n)}}}},composeKleisliFlipped:function(e){return function(t){return function(n){return function(r){return y(e)(t)(n(r))}}}},ifM:function(e){return function(t){return function(n){return function(r){return m(e)(t)((function(e){return e?n:r}))}}}},bindFn:h,bindArray:p,bindProxy:d,discardUnit:w,discardProxy:v,discardProxy2:g,discardProxy3:b,Applicative:i.Applicative,liftA1:i.liftA1,pure:i.pure,unless:i.unless,when:i.when,Apply:o.Apply,apply:o.apply,Functor:s.Functor,map:s.map,void:s.void}},function(e,t,n){"use strict";var r=n(857),i=n(13),o=n(34),a=n(143),u=n(69),s=n(59),c=n(111),f=n(60),l=function(e,t){this.EqRecord0=e,this.compareRecord=t},d=function(e,t){this.Eq0=e,this.compare=t},h=function(e,t){this.Eq10=e,this.compare1=t},p=new d((function(){return i.eqVoid}),(function(e){return function(e){return o.EQ.value}})),m=new d((function(){return i.eqUnit}),(function(e){return function(e){return o.EQ.value}})),y=new d((function(){return i.eqString}),r.ordStringImpl(o.LT.value)(o.EQ.value)(o.GT.value)),v=new l((function(){return i.eqRowNil}),(function(e){return function(e){return function(e){return o.EQ.value}}})),g=new d((function(){return i.eqProxy3}),(function(e){return function(e){return o.EQ.value}})),b=new d((function(){return i.eqProxy2}),(function(e){return function(e){return o.EQ.value}})),w=new d((function(){return i.eqProxy}),(function(e){return function(e){return o.EQ.value}})),E=new d((function(){return o.eqOrdering}),(function(e){return function(t){if(e instanceof o.LT&&t instanceof o.LT)return o.EQ.value;if(e instanceof o.EQ&&t instanceof o.EQ)return o.EQ.value;if(e instanceof o.GT&&t instanceof o.GT)return o.EQ.value;if(e instanceof o.LT)return o.LT.value;if(e instanceof o.EQ&&t instanceof o.LT)return o.GT.value;if(e instanceof o.EQ&&t instanceof o.GT)return o.LT.value;if(e instanceof o.GT)return o.GT.value;throw new Error("Failed pattern match at Data.Ord (line 121, column 1 - line 128, column 21): "+[e.constructor.name,t.constructor.name])}})),_=new d((function(){return i.eqNumber}),r.ordNumberImpl(o.LT.value)(o.EQ.value)(o.GT.value)),S=new d((function(){return i.eqInt}),r.ordIntImpl(o.LT.value)(o.EQ.value)(o.GT.value)),T=new d((function(){return i.eqChar}),r.ordCharImpl(o.LT.value)(o.EQ.value)(o.GT.value)),A=new d((function(){return i.eqBoolean}),r.ordBooleanImpl(o.LT.value)(o.EQ.value)(o.GT.value)),P=function(e){return e.compareRecord},k=function(e){return e.compare},x=function(e){return function(t){return function(n){return k(e)(t)(n)instanceof o.GT}}},C=function(e){return function(t){return function(n){return!(k(e)(t)(n)instanceof o.LT)}}},R=function(e){return function(t){return function(n){return k(e)(t)(n)instanceof o.LT}}},I=function(e){return function(t){return function(n){var r=k(e)(t)(n);if(r instanceof o.LT)return n;if(r instanceof o.EQ)return t;if(r instanceof o.GT)return t;throw new Error("Failed pattern match at Data.Ord (line 176, column 3 - line 179, column 12): "+[r.constructor.name])}}},O=function(e){return function(t){return function(n){var r=k(e)(t)(n);if(r instanceof o.LT)return t;if(r instanceof o.EQ)return t;if(r instanceof o.GT)return n;throw new Error("Failed pattern match at Data.Ord (line 167, column 3 - line 170, column 12): "+[r.constructor.name])}}},M=function(e){return new d((function(){return i.eqArray(e.Eq0())}),(t=function(t){return function(n){var r=k(e)(t)(n);if(r instanceof o.EQ)return 0;if(r instanceof o.LT)return 1;if(r instanceof o.GT)return-1;throw new Error("Failed pattern match at Data.Ord (line 74, column 7 - line 77, column 17): "+[r.constructor.name])}},function(e){return function(n){return k(S)(0)(r.ordArrayImpl(t)(e)(n))}}));var t},N=new h((function(){return i.eq1Array}),(function(e){return k(M(e))}));e.exports={Ord:d,compare:k,Ord1:h,compare1:function(e){return e.compare1},lessThan:R,lessThanOrEq:function(e){return function(t){return function(n){return!(k(e)(t)(n)instanceof o.GT)}}},greaterThan:x,greaterThanOrEq:C,comparing:function(e){return function(t){return function(n){return function(r){return k(e)(t(n))(t(r))}}}},min:O,max:I,clamp:function(e){return function(t){return function(n){return function(r){return O(e)(n)(I(e)(t)(r))}}}},between:function(e){return function(t){return function(n){return function(r){return!R(e)(r)(t)&&!x(e)(r)(n)}}}},abs:function(e){return function(t){return function(n){return C(e)(n)(u.zero(t.Semiring0()))?n:a.negate(t)(n)}}},signum:function(e){return function(t){return function(n){return C(e)(n)(u.zero(t.Semiring0()))?u.one(t.Semiring0()):a.negate(t)(u.one(t.Semiring0()))}}},OrdRecord:l,compareRecord:P,ordBoolean:A,ordInt:S,ordNumber:_,ordString:y,ordChar:T,ordUnit:m,ordVoid:p,ordProxy:w,ordProxy2:b,ordProxy3:g,ordArray:M,ordOrdering:E,ord1Array:N,ordRecordNil:v,ordRecordCons:function(e){return function(t){return function(t){return function(n){return new l((function(){return i.eqRowCons(e.EqRecord0())()(t)(n.Eq0())}),(function(r){return function(r){return function(a){var u=s.reflectSymbol(t)(f.Proxy.value),l=k(n)(c.unsafeGet(u)(r))(c.unsafeGet(u)(a));return i.notEq(o.eqOrdering)(l)(o.EQ.value)?l:P(e)(f.Proxy.value)(r)(a)}}}))}}}},ordRecord:function(e){return function(e){return new d((function(){return i.eqRec()(e.EqRecord0())}),P(e)(f.Proxy.value))}},EQ:o.EQ,GT:o.GT,LT:o.LT}},function(e,t,n){"use strict";const r=n(589),{anySignal:i}=n(194),{default:o}=n(287),{TimeoutError:a}=n(1179);e.exports=function(e,t){return(...n)=>{const u=n[null==t?n.length-1:t];if(!u||!u.timeout)return e(...n);const s="string"==typeof u.timeout?o(u.timeout):u.timeout,c=new r(s);u.signal=i([u.signal,c.signal]);const f=e(...n),l=new Promise((e,t)=>{c.signal.addEventListener("abort",()=>{t(new a)})}),d=Date.now(),h=()=>{if(c.signal.aborted)throw new a;if(Date.now()-d>s)throw c.abort(),new a};return f[Symbol.asyncIterator]?async function*(){const e=f[Symbol.asyncIterator]();try{for(;;){const{value:t,done:n}=await Promise.race([e.next(),l]);if(n)break;h(),yield t}}catch(e){throw h(),e}finally{c.clear(),e.return&&e.return()}}():(async()=>{try{const e=await Promise.race([f,l]);return h(),e}catch(e){throw h(),e}finally{c.clear()}})()}}},function(e,t,n){"use strict";var r=n(850),i=n(59),o=n(111),a=n(60),u=function(e){this.showRecordFields=e},s=function(e){this.show=e},c=new s(r.showStringImpl),f=new u((function(e){return function(e){return[]}})),l=function(e){return e.showRecordFields},d=new s((function(e){return"Proxy3"})),h=new s((function(e){return"Proxy2"})),p=new s((function(e){return"Proxy"})),m=new s(r.showNumberImpl),y=new s(r.showIntImpl),v=new s(r.showCharImpl),g=new s((function(e){if(e)return"true";if(!e)return"false";throw new Error("Failed pattern match at Data.Show (line 20, column 1 - line 22, column 23): "+[e.constructor.name])})),b=function(e){return e.show};e.exports={Show:s,show:b,ShowRecordFields:u,showRecordFields:l,showBoolean:g,showInt:y,showNumber:m,showChar:v,showString:c,showArray:function(e){return new s(r.showArrayImpl(b(e)))},showProxy:p,showProxy2:h,showProxy3:d,showRecord:function(e){return function(e){return new s((function(t){var n=l(e)(a.Proxy.value)(t);return 0===n.length?"{}":r.join(" ")(["{",r.join(", ")(n),"}"])}))}},showRecordFieldsNil:f,showRecordFieldsCons:function(e){return function(t){return function(n){return new u((function(u){return function(u){var s=l(t)(a.Proxy.value)(u),c=i.reflectSymbol(e)(a.Proxy.value),f=o.unsafeGet(c)(u);return r.cons(r.join(": ")([c,b(n)(f)]))(s)}}))}}}}},function(e,t,n){"use strict";var r=n(847),i=n(25),o=n(23),a=n(2),u=n(60),s=function(e,t){this.Functor0=e,this.apply=t},c=new s((function(){return a.functorProxy}),(function(e){return function(e){return u.Proxy.value}})),f=new s((function(){return a.functorFn}),(function(e){return function(t){return function(n){return e(n)(t(n))}}})),l=new s((function(){return a.functorArray}),r.arrayApply),d=function(e){return e.apply};e.exports={Apply:s,apply:d,applyFirst:function(e){return function(t){return function(n){return d(e)(a.map(e.Functor0())(o.const)(t))(n)}}},applySecond:function(e){return function(t){return function(n){return d(e)(a.map(e.Functor0())(o.const(i.identity(i.categoryFn)))(t))(n)}}},lift2:function(e){return function(t){return function(n){return function(r){return d(e)(a.map(e.Functor0())(t)(n))(r)}}}},lift3:function(e){return function(t){return function(n){return function(r){return function(i){return d(e)(d(e)(a.map(e.Functor0())(t)(n))(r))(i)}}}}},lift4:function(e){return function(t){return function(n){return function(r){return function(i){return function(o){return d(e)(d(e)(d(e)(a.map(e.Functor0())(t)(n))(r))(i))(o)}}}}}},lift5:function(e){return function(t){return function(n){return function(r){return function(i){return function(o){return function(u){return d(e)(d(e)(d(e)(d(e)(a.map(e.Functor0())(t)(n))(r))(i))(o))(u)}}}}}}},applyFn:f,applyArray:l,applyProxy:c,Functor:a.Functor,map:a.map,void:a.void}},function(e,t,n){"use strict";var r=n(854),i=n(59),o=n(24),a=n(332),u=n(111),s=n(60),c=function(e){this.appendRecord=e},f=function(e){this.append=e},l=new f((function(e){return a.absurd})),d=new f((function(e){return function(e){return o.unit}})),h=new f(r.concatString),p=new c((function(e){return function(e){return function(e){return{}}}})),m=new f((function(e){return function(e){return s.Proxy3.value}})),y=new f((function(e){return function(e){return s.Proxy2.value}})),v=new f((function(e){return function(e){return s.Proxy.value}})),g=new f(r.concatArray),b=function(e){return e.appendRecord},w=function(e){return e.append};e.exports={Semigroup:f,append:w,SemigroupRecord:c,appendRecord:b,semigroupString:h,semigroupUnit:d,semigroupVoid:l,semigroupFn:function(e){return new f((function(t){return function(n){return function(r){return w(e)(t(r))(n(r))}}}))},semigroupArray:g,semigroupProxy:v,semigroupProxy2:y,semigroupProxy3:m,semigroupRecord:function(e){return function(e){return new f(b(e)(s.Proxy.value))}},semigroupRecordNil:p,semigroupRecordCons:function(e){return function(t){return function(t){return function(n){return new c((function(r){return function(r){return function(o){var a=b(t)(s.Proxy.value)(r)(o),c=i.reflectSymbol(e)(s.Proxy.value),f=u.unsafeSet(c),l=u.unsafeGet(c);return f(w(n)(l(r))(l(o)))(a)}}}))}}}}}},function(e,t,n){"use strict";var r=n(898),i=n(5);e.exports={unsafeReadProtoTagged:function(e){return function(t){return r._unsafeReadProtoTagged(i.Nothing.value,i.Just.create,e,t)}}}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var r=n(25),i=n(54);e.exports={flip:function(e){return function(t){return function(n){return e(n)(t)}}},const:function(e){return function(t){return e}},apply:function(e){return function(t){return e(t)}},applyFlipped:function(e){return function(t){return t(e)}},applyN:function(e){return function(t){return function(n){var r,o=t,a=!1;function u(t,r){if(t<=0)return a=!0,r;if(i.otherwise)return o=t-1|0,void(n=e(r));throw new Error("Failed pattern match at Data.Function (line 100, column 3 - line 102, column 37): "+[t.constructor.name,r.constructor.name])}for(;!a;)r=u(o,n);return r}}},on:function(e){return function(t){return function(n){return function(r){return e(t(n))(t(r))}}}},compose:r.compose,identity:r.identity}},function(e,t,n){"use strict";var r=n(849),i=new(n(18).Show)((function(e){return"unit"}));e.exports={showUnit:i,unit:r.unit}},function(e,t,n){"use strict";var r=n(88),i=function(e,t){this.Semigroupoid0=e,this.identity=t},o=new i((function(){return r.semigroupoidFn}),(function(e){return e}));e.exports={Category:i,identity:function(e){return e.identity},categoryFn:o,Semigroupoid:r.Semigroupoid,compose:r.compose}},function(e,t,n){"use strict";var r=n(334),i=function(e){this.Coercible0=e},o=function(e){return r.coerce()},a=function(e){return r.coerce()},u=new i((function(){})),s=new i((function(){})),c=new i((function(){})),f=new i((function(){})),l=new i((function(){})),d=new i((function(){})),h=new i((function(){})),p=new i((function(){}));e.exports={Newtype:i,wrap:o,unwrap:a,un:function(e){return function(e){return a()}},ala:function(e){return function(e){return function(e){return function(e){return function(e){return r.coerce()(e(o()))}}}}},alaF:function(e){return function(e){return function(e){return function(e){return function(e){return r.coerce()}}}}},over:function(e){return function(e){return function(e){return r.coerce()}}},overF:function(e){return function(e){return function(e){return function(e){return function(e){return r.coerce()}}}}},under:function(e){return function(e){return function(e){return r.coerce()}}},underF:function(e){return function(e){return function(e){return function(e){return function(e){return r.coerce()}}}}},over2:function(e){return function(e){return function(e){return r.coerce()}}},overF2:function(e){return function(e){return function(e){return function(e){return function(e){return r.coerce()}}}}},under2:function(e){return function(e){return function(e){return r.coerce()}}},underF2:function(e){return function(e){return function(e){return function(e){return function(e){return r.coerce()}}}}},traverse:function(e){return function(e){return function(e){return r.coerce()}}},collect:function(e){return function(e){return function(e){return r.coerce()}}},newtypeAdditive:p,newtypeMultiplicative:u,newtypeConj:h,newtypeDisj:d,newtypeDual:l,newtypeEndo:f,newtypeFirst:c,newtypeLast:s}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(738),i=n(739),o=n(448);function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=s.prototype:(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,n){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);s.TYPED_ARRAY_SUPPORT?(e=t).__proto__=s.prototype:e=d(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!s.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=u(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(s.isBuffer(t)){var n=0|h(t.length);return 0===(e=u(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?u(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=u(e,t<0?0:0|h(t)),!s.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=u(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return P(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return x(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=s.from(t,r)),s.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var o,a=1,u=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,u/=2,s/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var f=-1;for(o=n;o<u;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===s)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(n+s>u&&(n=u-s),o=n;o>=0;o--){for(var l=!0,d=0;d<s;d++)if(c(e,o+d)!==c(t,d)){l=!1;break}if(l)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))return a;e[n+a]=u}return a}function w(e,t,n,r){return H(U(t,e.length-n),e,n,r)}function E(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return E(e,t,n,r)}function S(e,t,n,r){return H(q(t),e,n,r)}function T(e,t,n,r){return H(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function P(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,u,s,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(s=(31&c)<<6|63&o)>127&&(f=s);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(s=(15&c)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:o=e[i+1],a=e[i+2],u=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&u)&&(s=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&u)>65535&&s<1114112&&(f=s)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=s,t.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,n){return c(null,e,t,n)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,n){return function(e,t,n,r){return f(t),t<=0?u(e,t):void 0!==n?"string"==typeof r?u(e,t).fill(n,r):u(e,t).fill(n):u(e,t)}(null,e,t,n)},s.allocUnsafe=function(e){return l(null,e)},s.allocUnsafeSlow=function(e){return l(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=s.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):m.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,n,r,i){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),u=Math.min(o,a),c=this.slice(r,i),f=e.slice(t,n),l=0;l<u;++l)if(c[l]!==f[l]){o=c[l],a=f[l];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},s.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},s.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},s.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function x(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=F(e[o]);return i}function R(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=s.prototype;else{var i=t-e;n=new s(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},s.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},s.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},s.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},s.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||I(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},s.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},s.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||O(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},s.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=0,a=1,u=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===u&&0!==this[t+o-1]&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+n},s.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=n-1,a=1,u=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===u&&0!==this[t+o+1]&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+n},s.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},s.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},s.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},s.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},s.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},s.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!s.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=s.isBuffer(e)?e:U(new s(e,r).toString()),u=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%u]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(48))},function(e,t,n){"use strict";var r=n(54),i=n(216),o=n(34),a=n(20),u=n(59),s=n(24),c=n(111),f=n(60),l=function(e,t){this.SemigroupRecord0=e,this.memptyRecord=t},d=function(e,t){this.Semigroup0=e,this.mempty=t},h=new d((function(){return a.semigroupUnit}),s.unit),p=new d((function(){return a.semigroupString}),""),m=new l((function(){return a.semigroupRecordNil}),(function(e){return{}})),y=new d((function(){return o.semigroupOrdering}),o.EQ.value),v=new d((function(){return a.semigroupArray}),[]),g=function(e){return e.memptyRecord},b=function(e){return e.mempty};e.exports={Monoid:d,mempty:b,power:function(e){return function(t){var n=function(o){if(o<=0)return b(e);if(1===o)return t;if(0===i.mod(i.euclideanRingInt)(o)(2)){var u=n(i.div(i.euclideanRingInt)(o)(2));return a.append(e.Semigroup0())(u)(u)}if(r.otherwise){u=n(i.div(i.euclideanRingInt)(o)(2));return a.append(e.Semigroup0())(u)(a.append(e.Semigroup0())(u)(t))}throw new Error("Failed pattern match at Data.Monoid (line 86, column 3 - line 86, column 17): "+[o.constructor.name])};return n}},guard:function(e){return function(t){return function(n){if(t)return n;if(!t)return b(e);throw new Error("Failed pattern match at Data.Monoid (line 94, column 1 - line 94, column 49): "+[t.constructor.name,n.constructor.name])}}},MonoidRecord:l,memptyRecord:g,monoidUnit:h,monoidOrdering:y,monoidFn:function(e){return new d((function(){return a.semigroupFn(e.Semigroup0())}),(function(t){return b(e)}))},monoidString:p,monoidArray:v,monoidRecord:function(e){return function(e){return new d((function(){return a.semigroupRecord()(e.SemigroupRecord0())}),g(e)(f.Proxy.value))}},monoidRecordNil:m,monoidRecordCons:function(e){return function(t){return function(n){return function(n){return new l((function(){return a.semigroupRecordCons(e)()(n.SemigroupRecord0())(t.Semigroup0())}),(function(r){var i=g(n)(f.Proxy.value),o=u.reflectSymbol(e)(f.Proxy.value);return c.unsafeSet(o)(b(t))(i)}))}}}},Semigroup:a.Semigroup,SemigroupRecord:a.SemigroupRecord}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(15),a=n(145),u=n(105),s=n(89),c=n(40),f=n(88),l=n(498),d=n(63),h=n(256),p=n(13),m=n(2),y=n(125),v=n(144),g=n(90),b=n(28),w=n(16),E=n(34),_=n(143),S=n(20),T=n(69),A=n(18),P=n(24),k=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),x=function(e){return e.value1},C=function(e){return function(t){return new T.Semiring((function(n){return function(r){return new k(T.add(e)(n.value0)(r.value0),T.add(t)(n.value1)(r.value1))}}),(function(n){return function(r){return new k(T.mul(e)(n.value0)(r.value0),T.mul(t)(n.value1)(r.value1))}}),new k(T.one(e),T.one(t)),new k(T.zero(e),T.zero(t)))}},R=new f.Semigroupoid((function(e){return function(t){return new k(t.value0,e.value1)}})),I=function(e){return function(t){return new S.Semigroup((function(n){return function(r){return new k(S.append(e)(n.value0)(r.value0),S.append(t)(n.value1)(r.value1))}}))}},O=function(e){return function(t){return new _.Ring((function(){return C(e.Semiring0())(t.Semiring0())}),(function(n){return function(r){return new k(_.sub(e)(n.value0)(r.value0),_.sub(t)(n.value1)(r.value1))}}))}},M=function(e){return function(t){return new g.HeytingAlgebra((function(n){return function(r){return new k(g.conj(e)(n.value0)(r.value0),g.conj(t)(n.value1)(r.value1))}}),(function(n){return function(r){return new k(g.disj(e)(n.value0)(r.value0),g.disj(t)(n.value1)(r.value1))}}),new k(g.ff(e),g.ff(t)),(function(n){return function(r){return new k(g.implies(e)(n.value0)(r.value0),g.implies(t)(n.value1)(r.value1))}}),(function(n){return new k(g.not(e)(n.value0),g.not(t)(n.value1))}),new k(g.tt(e),g.tt(t)))}},N=new v.Generic((function(e){return new v.Product(e.value0,e.value1)}),(function(e){return new k(e.value0,e.value1)})),D=new m.Functor((function(e){return function(t){return new k(t.value0,e(t.value1))}})),L=new y.Invariant(y.imapF(D)),j=function(e){return e.value0},B=new u.Extend((function(){return D}),(function(e){return function(t){return new k(t.value0,e(t))}})),F=function(e){return function(t){return new p.Eq((function(n){return function(r){return p.eq(e)(n.value0)(r.value0)&&p.eq(t)(n.value1)(r.value1)}}))}},U=function(e){return function(t){return new w.Ord((function(){return F(e.Eq0())(t.Eq0())}),(function(n){return function(r){var i=w.compare(e)(n.value0)(r.value0);return i instanceof E.LT?E.LT.value:i instanceof E.GT?E.GT.value:w.compare(t)(n.value1)(r.value1)}}))}},q=function(e){return new p.Eq1((function(t){return p.eq(F(e)(t))}))},H=new a.Comonad((function(){return B}),x),K=function(e){return new i.Apply((function(){return D}),(function(t){return function(n){return new k(S.append(e)(t.value0)(n.value0),t.value1(n.value1))}}))},V=function(e){return new o.Bind((function(){return K(e)}),(function(t){return function(n){var r=n(t.value1);return new k(S.append(e)(t.value0)(r.value0),r.value1)}}))},z=function(e){return new r.Applicative((function(){return K(e.Semigroup0())}),k.create(b.mempty(e)))};e.exports={Tuple:k,fst:j,snd:x,curry:function(e){return function(t){return function(n){return e(new k(t,n))}}},uncurry:function(e){return function(t){return e(t.value0)(t.value1)}},swap:function(e){return new k(e.value1,e.value0)},showTuple:function(e){return function(t){return new A.Show((function(n){return"(Tuple "+A.show(e)(n.value0)+" "+A.show(t)(n.value1)+")"}))}},eqTuple:F,eq1Tuple:q,ordTuple:U,ord1Tuple:function(e){return new w.Ord1((function(){return q(e.Eq0())}),(function(t){return w.compare(U(e)(t))}))},boundedTuple:function(e){return function(t){return new d.Bounded((function(){return U(e.Ord0())(t.Ord0())}),new k(d.bottom(e),d.bottom(t)),new k(d.top(e),d.top(t)))}},semigroupoidTuple:R,semigroupTuple:I,monoidTuple:function(e){return function(t){return new b.Monoid((function(){return I(e.Semigroup0())(t.Semigroup0())}),new k(b.mempty(e),b.mempty(t)))}},semiringTuple:C,ringTuple:O,commutativeRingTuple:function(e){return function(t){return new h.CommutativeRing((function(){return O(e.Ring0())(t.Ring0())}))}},heytingAlgebraTuple:M,booleanAlgebraTuple:function(e){return function(t){return new l.BooleanAlgebra((function(){return M(e.HeytingAlgebra0())(t.HeytingAlgebra0())}))}},functorTuple:D,genericTuple:N,invariantTuple:L,applyTuple:K,applicativeTuple:z,bindTuple:V,monadTuple:function(e){return new c.Monad((function(){return z(e)}),(function(){return V(e.Semigroup0())}))},extendTuple:B,comonadTuple:H,lazyTuple:function(e){return function(t){return new s.Lazy((function(n){return new k(s.defer(e)((function(e){return j(n(P.unit))})),s.defer(t)((function(e){return x(n(P.unit))})))}))}}}},function(e,t,n){"use strict";const r=n(1153),i=n(285),o=n(103),{CID:a}=n(12),{base58btc:u}=n(64),s=n(4),c=Symbol.for("nodejs.util.inspect.custom"),f=n(284),l=n(1161),d=new Map,h=Symbol.for("@multiformats/js-multiaddr/multiaddr");class p{constructor(e){if(null==e&&(e=""),Object.defineProperty(this,h,{value:!0}),e instanceof Uint8Array)this.bytes=r.fromBytes(e);else if("string"==typeof e){if(e.length>0&&"/"!==e.charAt(0))throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=r.fromString(e)}else{if(!p.isMultiaddr(e))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=r.fromBytes(e.bytes)}}toString(){return r.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){const e={},t=this.toString().split("/");return e.family="ip4"===t[1]?4:6,e.host=t[2],e.transport=t[3],e.port=parseInt(t[4]),e}protos(){return this.protoCodes().map(e=>Object.assign({},i(e)))}protoCodes(){const e=[],t=this.bytes;let n=0;for(;n<t.length;){const a=o.decode(t,n),u=o.decode.bytes,s=i(a);n+=r.sizeForAddr(s,t.slice(n+u))+u,e.push(a)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return r.bytesToTuples(this.bytes)}stringTuples(){const e=r.bytesToTuples(this.bytes);return r.tuplesToStringTuples(e)}encapsulate(e){return e=new p(e),new p(this.toString()+e.toString())}decapsulate(e){const t=e.toString(),n=this.toString(),r=n.lastIndexOf(t);if(r<0)throw new Error("Address "+this+" does not contain subaddress: "+e);return new p(n.slice(0,r))}decapsulateCode(e){const t=this.tuples();for(let n=t.length-1;n>=0;n--)if(t[n][0]===e)return new p(r.tuplesToBytes(t.slice(0,n)));return this}getPeerId(){try{const e=this.stringTuples().filter(e=>e[0]===i.names.ipfs.code).pop();if(e&&e[1]){const t=e[1];return"Q"===t[0]||"1"===t[0]?f(u.decode("z"+t),"base58btc"):f(a.parse(t).multihash.bytes,"base58btc")}return null}catch(e){return null}}getPath(){let e=null;try{e=this.stringTuples().filter(e=>!!i(e[0]).path)[0][1],e||(e=null)}catch(t){e=null}return e}equals(e){return l(this.bytes,e.bytes)}async resolve(){const e=this.protos().find(e=>e.resolvable);if(!e)return[this];const t=d.get(e.name);if(!t)throw s(new Error("no available resolver for "+e.name),"ERR_NO_AVAILABLE_RESOLVER");return(await t(this)).map(e=>new p(e))}nodeAddress(){const e=this.protoCodes(),t=this.protoNames(),n=this.toString().split("/").slice(1);if(n.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(4!==e[0]&&41!==e[0]&&54!==e[0]&&55!==e[0])throw new Error(`no protocol with name: "'${t[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if("tcp"!==n[2]&&"udp"!==n[2])throw new Error(`no protocol with name: "'${t[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:41===e[0]||55===e[0]?6:4,address:n[1],port:parseInt(n[3])}}isThinWaistAddress(e){const t=(e||this).protos();return 2===t.length&&((4===t[0].code||41===t[0].code)&&(6===t[1].code||273===t[1].code))}static fromNodeAddress(e,t){if(!e)throw new Error("requires node address object");if(!t)throw new Error("requires transport protocol");let n;switch(e.family){case 4:n="ip4";break;case 6:n="ip6";break;default:throw Error(`Invalid addr family. Got '${e.family}' instead of 4 or 6`)}return new p("/"+[n,e.address,t,e.port].join("/"))}static isName(e){return!!p.isMultiaddr(e)&&e.protos().some(e=>e.resolvable)}static isMultiaddr(e){return e instanceof p||Boolean(e&&e[h])}[c](){return"<Multiaddr "+f(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+f(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}}p.protocols=i,p.resolvers=d,e.exports={Multiaddr:p,multiaddr:function(e){return new p(e)},protocols:i,resolvers:d}},function(e,t,n){"use strict";const{CID:r}=n(12),i=n(85),o=n(562),a=n(64),u=n(277),{base58btc:s}=n(64),{base32:c}=n(85),{base16:f}=n(563),l=n(84),d=n(358),h=n(367),{PeerIdProto:p}=n(1148),m=n(96),y=n(44),v=n(45),{identity:g}=n(152),b={...i,...o,...a,...u},w=Object.keys(b).reduce((e,t)=>e.or(b[t]),c.decoder);const E=h(class{constructor(e,t,n){if(!(e instanceof Uint8Array))throw new Error("invalid id provided");if(t&&n&&!m(t.public.bytes,n.bytes))throw new Error("inconsistent arguments");this._id=e,this._idB58String=s.encode(this.id).substring(1),this._privKey=t,this._pubKey=n}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{const e=l.decode(this.id);e.code===g.code&&(this._pubKey=d.unmarshalPublicKey(e.digest))}catch(e){}return this._pubKey}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return d.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return d.marshalPrivateKey(this.privKey)}marshal(e){return p.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:e?null:this.marshalPrivKey()}).finish()}toPrint(){let e=this.toB58String();e.startsWith("Qm")&&(e=e.slice(2));let t=6;return e.length<t&&(t=e.length),"<peer.ID "+e.substr(0,t)+">"}toJSON(){return{id:this.toB58String(),privKey:A(this.marshalPrivKey()),pubKey:A(this.marshalPubKey())}}toHexString(){return f.encode(this.id).substring(1)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){const e=r.createV1(114,l.decode(this.id));Object.defineProperty(this,"_idCIDString",{value:e.toString(),enumerable:!1})}return this._idCIDString}equals(e){if(e instanceof Uint8Array)return m(this.id,e);if(e.id)return m(this.id,e.id);throw new Error("not valid Id")}isEqual(e){return this.equals(e)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&m(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(l.decode(this.id).code===g.code)return!0}catch(e){}return!1}},{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});t=e.exports=E;const _=e=>e.bytes.length<=42?l.create(g.code,e.bytes).bytes:e.hash(),S=async(e,t)=>{const n=await _(t);return new E(n,e,t)};t.create=async e=>{(e=e||{}).bits=e.bits||2048,e.keyType=e.keyType||"RSA";const t=await d.generateKeyPair(e.keyType,e.bits);return S(t,t.public)},t.createFromHexString=e=>new E(f.decode("f"+e)),t.createFromBytes=e=>{try{const n=r.decode(e);if(!T(n))throw new Error("Supplied PeerID CID is invalid");return t.createFromCID(n)}catch{if(l.decode(e).code!==g.code)throw new Error("Supplied PeerID CID is invalid");return new E(e)}},t.createFromB58String=e=>t.createFromBytes(s.decode("z"+e));const T=e=>114===e.code||112===e.code;function A(e){if(e)return v(e,"base64pad")}t.createFromCID=e=>{if(!(e=r.asCID(e))||!T(e))throw new Error("Supplied PeerID CID is invalid");return new E(e.multihash.bytes)},t.createFromPubKey=async e=>{let t=e;if("string"==typeof t&&(t=y(e,"base64pad")),!(t instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");const n=await d.unmarshalPublicKey(t);return S(void 0,n)},t.createFromPrivKey=async e=>{if("string"==typeof e&&(e=y(e,"base64pad")),!(e instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");const t=await d.unmarshalPrivateKey(e);return S(t,t.public)},t.createFromJSON=async e=>{const t=s.decode("z"+e.id),n=e.privKey&&y(e.privKey,"base64pad"),r=e.pubKey&&y(e.pubKey,"base64pad"),i=r&&await d.unmarshalPublicKey(r);if(!n)return new E(t,void 0,i);const o=await d.unmarshalPrivateKey(n),a=await _(o.public);let u;if(i&&(u=await _(i)),i&&!m(a,u))throw new Error("Public and private key do not match");if(t&&!m(a,t))throw new Error("Id and private key do not match");return new E(t,o,i)},t.createFromProtobuf=async e=>{"string"==typeof e&&(e=y(e,"base16"));let t,n,{id:r,privKey:i,pubKey:o}=p.decode(e);if(i=!!i&&await d.unmarshalPrivateKey(i),o=!!o&&await d.unmarshalPublicKey(o),i&&(n=await _(i.public)),o&&(t=await _(o)),i){if(o&&!m(n,t))throw new Error("Public and private key do not match");return new E(n,i,i.public)}if(o)return new E(t,void 0,o);if(r)return new E(r);throw new Error("Protobuf did not contain any usable key material")},t.parse=e=>("1"!==e.charAt(0)&&"Q"!==e.charAt(0)||(e="z"+e),t.createFromBytes(w.decode(e))),t.isPeerId=e=>Boolean("object"==typeof e&&e._id&&e._idB58String)},function(e,t,n){"use strict";var r=n(2),i=n(20),o=function(e,t){this.Functor0=e,this.alt=t},a=new o((function(){return r.functorArray}),i.append(i.semigroupArray));e.exports={Alt:o,alt:function(e){return e.alt},altArray:a,Functor:r.Functor,map:r.map,void:r.void}},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function u(){u.init.call(this)}e.exports=u,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var s=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,o,a,u;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=f(e))>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,u=s,console&&console.warn&&console.warn(u)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):y(i,i.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var u=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw u.context=a,u}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)o(s,this,t);else{var c=s.length,f=y(s,c);for(n=0;n<c;++n)o(f[n],this,t)}return!0},u.prototype.addListener=function(e,t){return l(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return l(this,e,t,!0)},u.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},u.prototype.removeListener=function(e,t){var n,r,i,o,a;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},u.prototype.listeners=function(e){return p(this,e,!0)},u.prototype.rawListeners=function(e){return p(this,e,!1)},u.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},u.prototype.listenerCount=m,u.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";var r=n(13),i=n(20),o=n(18),a=function(){function e(){}return e.value=new e,e}(),u=function(){function e(){}return e.value=new e,e}(),s=function(){function e(){}return e.value=new e,e}(),c=new o.Show((function(e){if(e instanceof a)return"LT";if(e instanceof u)return"GT";if(e instanceof s)return"EQ";throw new Error("Failed pattern match at Data.Ordering (line 26, column 1 - line 29, column 17): "+[e.constructor.name])})),f=new i.Semigroup((function(e){return function(t){if(e instanceof a)return a.value;if(e instanceof u)return u.value;if(e instanceof s)return t;throw new Error("Failed pattern match at Data.Ordering (line 21, column 1 - line 24, column 18): "+[e.constructor.name,t.constructor.name])}})),l=new r.Eq((function(e){return function(t){return e instanceof a&&t instanceof a||(e instanceof u&&t instanceof u||e instanceof s&&t instanceof s)}}));e.exports={LT:a,GT:u,EQ:s,invert:function(e){if(e instanceof u)return a.value;if(e instanceof s)return s.value;if(e instanceof a)return u.value;throw new Error("Failed pattern match at Data.Ordering (line 33, column 1 - line 33, column 31): "+[e.constructor.name])},eqOrdering:l,semigroupOrdering:f,showOrdering:c}},function(e,t,n){"use strict";var r=n(862),i=n(11),o=n(19),a=n(15),u=n(40),s=n(2),c=n(28),f=n(20),l=new u.Monad((function(){return p}),(function(){return d})),d=new a.Bind((function(){return h}),r.bindE),h=new o.Apply((function(){return m}),u.ap(l)),p=new i.Applicative((function(){return h}),r.pureE),m=new s.Functor(i.liftA1(p)),y=function(e){return new f.Semigroup(o.lift2(h)(f.append(e)))};e.exports={functorEffect:m,applyEffect:h,applicativeEffect:p,bindEffect:d,monadEffect:l,semigroupEffect:y,monoidEffect:function(e){return new c.Monoid((function(){return y(e.Semigroup0())}),r.pureE(c.mempty(e)))},untilE:r.untilE,whileE:r.whileE,forE:r.forE,foreachE:r.foreachE}},function(e,t,n){"use strict";var r=n(868),i=n(32),o=n(11),a=n(19),u=n(15),s=n(25),c=n(46),f=n(41),l=n(13),d=n(23),h=n(217),p=n(90),m=n(5),y=n(335),v=n(28),g=n(257),b=n(258),w=n(187),E=n(499),_=n(26),S=n(16),T=n(34),A=n(20),P=n(69),k=n(24),x=function(e,t,n){this.foldMap=e,this.foldl=t,this.foldr=n},C=function(e){return e.foldr},R=function(e){return function(t){return function(n){return C(t)((r=a.applySecond(e.Apply0()),function(e){return r(n(e))}))(o.pure(e)(k.unit));var r}}},I=function(e){return e.foldl},O=function(e){return function(t){return I(e)((function(e){return function(n){if(e instanceof m.Nothing)return new m.Just(n);if(e instanceof m.Just)return new m.Just(l.eq(T.eqOrdering)(t(e.value0)(n))(T.GT.value)?e.value0:n);throw new Error("Failed pattern match at Data.Foldable (line 441, column 3 - line 441, column 27): "+[e.constructor.name,n.constructor.name])}}))(m.Nothing.value)}},M=function(e){return function(t){return I(e)((function(e){return function(n){if(e instanceof m.Nothing)return new m.Just(n);if(e instanceof m.Just)return new m.Just(l.eq(T.eqOrdering)(t(e.value0)(n))(T.LT.value)?e.value0:n);throw new Error("Failed pattern match at Data.Foldable (line 454, column 3 - line 454, column 27): "+[e.constructor.name,n.constructor.name])}}))(m.Nothing.value)}},N=new x((function(e){return function(e){return function(t){return e(t.value1)}}}),(function(e){return function(t){return function(n){return e(t)(n.value1)}}}),(function(e){return function(t){return function(n){return e(n.value1)(t)}}})),D=new x((function(e){return function(e){return function(t){return e(t)}}}),(function(e){return function(t){return function(n){return e(t)(n)}}}),(function(e){return function(t){return function(n){return e(n)(t)}}})),L=new x((function(e){return function(t){return function(n){if(n instanceof m.Nothing)return v.mempty(e);if(n instanceof m.Just)return t(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,n.constructor.name])}}}),(function(e){return function(t){return function(n){if(n instanceof m.Nothing)return t;if(n instanceof m.Just)return e(t)(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}}),(function(e){return function(t){return function(n){if(n instanceof m.Nothing)return t;if(n instanceof m.Just)return e(n.value0)(t);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}})),j=new x((function(e){return function(e){return function(t){return e(t)}}}),(function(e){return function(t){return function(n){return e(t)(n)}}}),(function(e){return function(t){return function(n){return e(n)(t)}}})),B=new x((function(e){return function(t){return function(n){if(n instanceof f.Left)return v.mempty(e);if(n instanceof f.Right)return t(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 181, column 1 - line 187, column 28): "+[t.constructor.name,n.constructor.name])}}}),(function(e){return function(t){return function(n){if(n instanceof f.Left)return t;if(n instanceof f.Right)return e(t)(n.value0);throw new Error("Failed pattern match at Data.Foldable (line 181, column 1 - line 187, column 28): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}}),(function(e){return function(t){return function(n){if(n instanceof f.Left)return t;if(n instanceof f.Right)return e(n.value0)(t);throw new Error("Failed pattern match at Data.Foldable (line 181, column 1 - line 187, column 28): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}})),F=new x((function(e){return function(e){return function(t){return e(t)}}}),(function(e){return function(t){return function(n){return e(t)(n)}}}),(function(e){return function(t){return function(n){return e(n)(t)}}})),U=new x((function(e){return function(e){return function(t){return e(t)}}}),(function(e){return function(t){return function(n){return e(t)(n)}}}),(function(e){return function(t){return function(n){return e(n)(t)}}})),q=new x((function(e){return function(t){return function(t){return v.mempty(e)}}}),(function(e){return function(e){return function(t){return e}}}),(function(e){return function(e){return function(t){return e}}})),H=new x((function(e){return function(e){return function(t){return e(t)}}}),(function(e){return function(t){return function(n){return e(t)(n)}}}),(function(e){return function(t){return function(n){return e(n)(t)}}})),K=new x((function(e){return function(e){return function(t){return e(t)}}}),(function(e){return function(t){return function(n){return e(t)(n)}}}),(function(e){return function(t){return function(n){return e(n)(t)}}})),V=function(e){return function(t){return function(n){return C(e)((function(e){return function(r){return A.append(t.Semigroup0())(n(e))(r)}}))(v.mempty(t))}}},z=new x((function(e){return V(z)(e)}),r.foldlArray,r.foldrArray),W=function(e){return e.foldMap},G=new x((function(e){return function(t){return function(n){return W(L)(e)(t)(n)}}}),(function(e){return function(t){return function(n){return I(L)(e)(t)(n)}}}),(function(e){return function(t){return function(n){return C(L)(e)(t)(n)}}})),$=new x((function(e){return function(t){return function(n){return W(L)(e)(t)(n)}}}),(function(e){return function(t){return function(n){return I(L)(e)(t)(n)}}}),(function(e){return function(t){return function(n){return C(L)(e)(t)(n)}}})),J=function(e){return function(t){return function(n){return function(r){return function(i){return _.unwrap()(W(e)(E.monoidEndo(s.categoryFn))((function(e){return function(i){return A.append(t)(n)(A.append(t)(r(e))(i))}}))(i))(n)}}}}},Q=function(e){return function(t){return _.alaF()()()()(b.Disj)(W(e)(b.monoidDisj(t)))}},Y=function(e){return function(t){var n=Q(e)(p.heytingAlgebraBoolean),r=l.eq(t);return function(e){return n(r(e))}}},X=function(e){return function(t){return _.alaF()()()()(g.Conj)(W(e)(g.monoidConj(t)))}};e.exports={Foldable:x,foldr:C,foldl:I,foldMap:W,foldrDefault:function(e){return function(t){return function(n){return function(r){return _.unwrap()(W(e)(E.monoidEndo(s.categoryFn))((function(e){return E.Endo(t(e))}))(r))(n)}}}},foldlDefault:function(e){return function(t){return function(n){return function(r){return _.unwrap()(_.unwrap()(W(e)(w.monoidDual(E.monoidEndo(s.categoryFn)))((i=d.flip(t),function(e){return w.Dual(E.Endo(i(e)))}))(r)))(n);var i}}}},foldMapDefaultL:function(e){return function(t){return function(n){return I(e)((function(e){return function(r){return A.append(t.Semigroup0())(e)(n(r))}}))(v.mempty(t))}}},foldMapDefaultR:V,fold:function(e){return function(t){return W(e)(t)(s.identity(s.categoryFn))}},foldM:function(e){return function(t){return function(n){return function(r){return I(e)((function(e){return function(r){return u.bind(t.Bind1())(e)(d.flip(n)(r))}}))(o.pure(t.Applicative0())(r))}}}},traverse_:R,for_:function(e){return function(t){return d.flip(R(e)(t))}},sequence_:function(e){return function(t){return R(e)(t)(s.identity(s.categoryFn))}},oneOf:function(e){return function(t){return C(e)(i.alt(t.Alt0()))(c.empty(t))}},oneOfMap:function(e){return function(t){return function(n){return C(e)((r=i.alt(t.Alt0()),function(e){return r(n(e))}))(c.empty(t));var r}}},intercalate:function(e){return function(t){return function(n){return function(r){return I(e)((function(e){return function(r){return e.init?{init:!1,acc:r}:{init:!1,acc:A.append(t.Semigroup0())(e.acc)(A.append(t.Semigroup0())(n)(r))}}}))({init:!0,acc:v.mempty(t)})(r).acc}}}},surroundMap:J,surround:function(e){return function(t){return function(n){return J(e)(t)(n)(s.identity(s.categoryFn))}}},and:function(e){return function(t){return X(e)(t)(s.identity(s.categoryFn))}},or:function(e){return function(t){return Q(e)(t)(s.identity(s.categoryFn))}},all:X,any:Q,sum:function(e){return function(t){return I(e)(P.add(t))(P.zero(t))}},product:function(e){return function(t){return I(e)(P.mul(t))(P.one(t))}},elem:Y,notElem:function(e){return function(t){return function(n){var r=p.not(p.heytingAlgebraBoolean),i=Y(e)(t)(n);return function(e){return r(i(e))}}}},indexl:function(e){return function(t){var n=I(e)((function(e){return function(n){return e.elem instanceof m.Just?e:e.pos===t?{elem:new m.Just(n),pos:e.pos}:{pos:e.pos+1|0,elem:e.elem}}}))({elem:m.Nothing.value,pos:0});return function(e){return n(e).elem}}},indexr:function(e){return function(t){var n=C(e)((function(e){return function(n){return n.elem instanceof m.Just?n:n.pos===t?{elem:new m.Just(e),pos:n.pos}:{pos:n.pos+1|0,elem:n.elem}}}))({elem:m.Nothing.value,pos:0});return function(e){return n(e).elem}}},find:function(e){return function(t){return I(e)((function(e){return function(n){return e instanceof m.Nothing&&t(n)?new m.Just(n):e}}))(m.Nothing.value)}},findMap:function(e){return function(t){return I(e)((function(e){return function(n){return e instanceof m.Nothing?t(n):e}}))(m.Nothing.value)}},maximum:function(e){return function(t){return O(t)(S.compare(e))}},maximumBy:O,minimum:function(e){return function(t){return M(t)(S.compare(e))}},minimumBy:M,null:function(e){return C(e)((function(e){return function(e){return!1}}))(!0)},length:function(e){return function(t){return I(e)((function(e){return function(n){return P.add(t)(P.one(t))(e)}}))(P.zero(t))}},lookup:function(e){return function(t){return function(n){var r=_.unwrap(),i=W(e)(y.monoidFirst)((function(e){return l.eq(t)(n)(e.value0)?new m.Just(e.value1):m.Nothing.value}));return function(e){return r(i(e))}}}},foldableArray:z,foldableMaybe:L,foldableFirst:G,foldableLast:$,foldableAdditive:K,foldableDual:F,foldableDisj:U,foldableConj:H,foldableMultiplicative:D,foldableEither:B,foldableTuple:N,foldableIdentity:j,foldableConst:q,foldableProduct:function(e){return function(t){return new x((function(n){return function(r){return function(i){return A.append(n.Semigroup0())(W(e)(n)(r)(i.value0))(W(t)(n)(r)(i.value1))}}}),(function(n){return function(r){return function(i){return I(t)(n)(I(e)(n)(r)(i.value0))(i.value1)}}}),(function(n){return function(r){return function(i){return C(e)(n)(C(t)(n)(r)(i.value1))(i.value0)}}}))}},foldableCoproduct:function(e){return function(t){return new x((function(n){return function(r){return h.coproduct(W(e)(n)(r))(W(t)(n)(r))}}),(function(n){return function(r){return h.coproduct(I(e)(n)(r))(I(t)(n)(r))}}),(function(n){return function(r){return h.coproduct(C(e)(n)(r))(C(t)(n)(r))}}))}},foldableCompose:function(e){return function(t){return new x((function(n){return function(r){return function(i){return W(e)(n)(W(t)(n)(r))(i)}}}),(function(n){return function(r){return function(i){return I(e)(I(t)(n))(r)(i)}}}),(function(n){return function(r){return function(i){return C(e)(d.flip(C(t)(n)))(r)(i)}}}))}},foldableApp:function(e){return new x((function(t){return function(n){return function(r){return W(e)(t)(n)(r)}}}),(function(t){return function(n){return function(r){return I(e)(t)(n)(r)}}}),(function(t){return function(n){return function(r){return C(e)(t)(n)(r)}}}))}}},function(e,t,n){"use strict";function r(e){for(var t,n,r,i,o=e.rev_tree.slice();i=o.pop();){var a=i.ids,u=a[2],s=i.pos;if(u.length)for(var c=0,f=u.length;c<f;c++)o.push({pos:s+1,ids:u[c]});else{var l=!!a[1].deleted,d=a[0];t&&!(r!==l?r:n!==s?n<s:t<d)||(t=d,n=s,r=l)}}return n+"-"+t}function i(e,t){for(var n,r=e.slice();n=r.pop();)for(var i=n.pos,o=n.ids,a=o[2],u=t(0===a.length,i,o[0],n.ctx,o[1]),s=0,c=a.length;s<c;s++)r.push({pos:i+1,ids:a[s],ctx:u})}function o(e,t){return e.pos-t.pos}function a(e){var t=[];i(e,(function(e,n,r,i,o){e&&t.push({rev:n+"-"+r,pos:n,opts:o})})),t.sort(o).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function u(e){for(var t=r(e),n=a(e.rev_tree),i=[],o=0,u=n.length;o<u;o++){var s=n[o];s.rev===t||s.opts.deleted||i.push(s.rev)}return i}function s(e){var t=[];return i(e.rev_tree,(function(e,n,r,i,o){"available"!==o.status||e||(t.push(n+"-"+r),o.status="missing")})),t}function c(e){for(var t,n=[],r=e.slice();t=r.pop();){var i=t.pos,o=t.ids,a=o[0],u=o[1],s=o[2],c=0===s.length,f=t.history?t.history.slice():[];f.push({id:a,opts:u}),c&&n.push({pos:i+1-f.length,ids:f});for(var l=0,d=s.length;l<d;l++)r.push({pos:i+1,ids:s[l],history:f})}return n.reverse()}function f(e,t){return e.pos-t.pos}function l(e,t,n){var r=function(e,t,n){for(var r,i=0,o=e.length;i<o;)n(e[r=i+o>>>1],t)<0?i=r+1:o=r;return i}(e,t,n);e.splice(r,0,t)}function d(e,t){for(var n,r,i=t,o=e.length;i<o;i++){var a=e[i],u=[a.id,a.opts,[]];r?(r[2].push(u),r=u):n=r=u}return n}function h(e,t){return e[0]<t[0]?-1:1}function p(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var i=n.pop(),o=i.tree1,a=i.tree2;(o[1].status||a[1].status)&&(o[1].status="available"===o[1].status||"available"===a[1].status?"available":"missing");for(var u=0;u<a[2].length;u++)if(o[2][0]){for(var s=!1,c=0;c<o[2].length;c++)o[2][c][0]===a[2][u][0]&&(n.push({tree1:o[2][c],tree2:a[2][u]}),s=!0);s||(r="new_branch",l(o[2],a[2][u],h))}else r="new_leaf",o[2][0]=a[2][u]}return{conflicts:r,tree:e}}function m(e,t,n){var r,i=[],o=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var u=0,s=e.length;u<s;u++){var c=e[u];if(c.pos===t.pos&&c.ids[0]===t.ids[0])r=p(c.ids,t.ids),i.push({pos:c.pos,ids:r.tree}),o=o||r.conflicts,a=!0;else if(!0!==n){var l=c.pos<t.pos?c:t,d=c.pos<t.pos?t:c,h=d.pos-l.pos,m=[],y=[];for(y.push({ids:l.ids,diff:h,parent:null,parentIdx:null});y.length>0;){var v=y.pop();if(0!==v.diff)for(var g=v.ids[2],b=0,w=g.length;b<w;b++)y.push({ids:g[b],diff:v.diff-1,parent:v.ids,parentIdx:b});else v.ids[0]===d.ids[0]&&m.push(v)}var E=m[0];E?(r=p(E.ids,d.ids),E.parent[2][E.parentIdx]=r.tree,i.push({pos:l.pos,ids:l.ids}),o=o||r.conflicts,a=!0):i.push(c)}else i.push(c)}return a||i.push(t),i.sort(f),{tree:i,conflicts:o||"internal_node"}}function y(e,t,n){var r=m(e,t),o=function(e,t){for(var n,r,o=c(e),a=0,u=o.length;a<u;a++){var s,f=o[a],l=f.ids;if(l.length>t){n||(n={});var h=l.length-t;s={pos:f.pos+h,ids:d(l,h)};for(var p=0;p<h;p++){var y=f.pos+p+"-"+l[p].id;n[y]=!0}}else s={pos:f.pos,ids:d(l,0)};r=r?m(r,s,!0).tree:[s]}return n&&i(r,(function(e,t,r){delete n[t+"-"+r]})),{tree:r,revs:n?Object.keys(n):[]}}(r.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:r.conflicts}}function v(e,t){for(var n,r=e.slice(),i=t.split("-"),o=parseInt(i[0],10),a=i[1];n=r.pop();){if(n.pos===o&&n.ids[0]===a)return!0;for(var u=n.ids[2],s=0,c=u.length;s<c;s++)r.push({pos:n.pos+1,ids:u[s]})}return!1}function g(e){return e.ids}function b(e,t){t||(t=r(e));for(var n,i=t.substring(t.indexOf("-")+1),o=e.rev_tree.map(g);n=o.pop();){if(n[0]===i)return!!n[1].deleted;o=o.concat(n[2])}}function w(e){return/^_local/.test(e)}function E(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var i=n.pos,o=n.ids,a=o[0],u=o[1],s=o[2],c=0===s.length,f=n.history?n.history.slice():[];if(f.push({id:a,pos:i,opts:u}),c)for(var l=0,d=f.length;l<d;l++){var h=f[l];if(h.pos+"-"+h.id===e)return i+"-"+a}for(var p=0,m=s.length;p<m;p++)r.push({pos:i+1,ids:s[p],history:f})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return w})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return v})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return i})),n.d(t,"k",(function(){return r})),n.d(t,"f",(function(){return E}))},function(e,t,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=n(27),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t){e.exports={options:{usePureJavaScript:!1}}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(15),a=n(2),u=function(e,t){this.Applicative0=e,this.Bind1=t},s=new u((function(){return r.applicativeProxy}),(function(){return o.bindProxy})),c=new u((function(){return r.applicativeFn}),(function(){return o.bindFn})),f=new u((function(){return r.applicativeArray}),(function(){return o.bindArray}));e.exports={Monad:u,liftM1:function(e){return function(t){return function(n){return o.bind(e.Bind1())(n)((function(n){return r.pure(e.Applicative0())(t(n))}))}}},whenM:function(e){return function(t){return function(n){return o.bind(e.Bind1())(t)((function(t){return r.when(e.Applicative0())(t)(n)}))}}},unlessM:function(e){return function(t){return function(n){return o.bind(e.Bind1())(t)((function(t){return r.unless(e.Applicative0())(t)(n)}))}}},ap:function(e){return function(t){return function(n){return o.bind(e.Bind1())(t)((function(t){return o.bind(e.Bind1())(n)((function(n){return r.pure(e.Applicative0())(t(n))}))}))}}},monadFn:c,monadArray:f,monadProxy:s,Applicative:r.Applicative,liftA1:r.liftA1,pure:r.pure,unless:r.unless,when:r.when,Apply:i.Apply,apply:i.apply,Bind:o.Bind,bind:o.bind,ifM:o.ifM,join:o.join,Functor:a.Functor,map:a.map,void:a.void}},function(e,t,n){"use strict";var r=n(32),i=n(11),o=n(19),a=n(15),u=n(105),s=n(40),c=n(63),f=n(13),l=n(23),d=n(2),h=n(125),p=n(144),m=n(5),y=n(16),v=n(34),g=n(20),b=n(18),w=n(24),E=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),_=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),S=new p.Generic((function(e){if(e instanceof E)return new p.Inl(e.value0);if(e instanceof _)return new p.Inr(e.value0);throw new Error("Failed pattern match at Data.Either (line 33, column 1 - line 33, column 56): "+[e.constructor.name])}),(function(e){if(e instanceof p.Inl)return new E(e.value0);if(e instanceof p.Inr)return new _(e.value0);throw new Error("Failed pattern match at Data.Either (line 33, column 1 - line 33, column 56): "+[e.constructor.name])})),T=new d.Functor((function(e){return function(t){if(t instanceof E)return new E(t.value0);if(t instanceof _)return new _(e(t.value0));throw new Error("Failed pattern match at Data.Either (line 31, column 1 - line 31, column 52): "+[t.constructor.name])}})),A=new h.Invariant(h.imapF(T)),P=new u.Extend((function(){return T}),(function(e){return function(t){return t instanceof E?new E(t.value0):new _(e(t))}})),k=function(e){return function(t){return new f.Eq((function(n){return function(r){return n instanceof E&&r instanceof E?f.eq(e)(n.value0)(r.value0):n instanceof _&&r instanceof _&&f.eq(t)(n.value0)(r.value0)}}))}},x=function(e){return function(t){return new y.Ord((function(){return k(e.Eq0())(t.Eq0())}),(function(n){return function(r){if(n instanceof E&&r instanceof E)return y.compare(e)(n.value0)(r.value0);if(n instanceof E)return v.LT.value;if(r instanceof E)return v.GT.value;if(n instanceof _&&r instanceof _)return y.compare(t)(n.value0)(r.value0);throw new Error("Failed pattern match at Data.Either (line 189, column 1 - line 189, column 64): "+[n.constructor.name,r.constructor.name])}}))}},C=function(e){return new f.Eq1((function(t){return f.eq(k(e)(t))}))},R=function(e){return function(t){return function(n){if(n instanceof E)return e(n.value0);if(n instanceof _)return t(n.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}},I=R(l.const(m.Nothing.value))(m.Just.create),O=R(l.const(!0))(l.const(!1)),M=R(l.const(!1))(l.const(!0)),N=new o.Apply((function(){return T}),(function(e){return function(t){if(e instanceof E)return new E(e.value0);if(e instanceof _)return d.map(T)(e.value0)(t);throw new Error("Failed pattern match at Data.Either (line 70, column 1 - line 72, column 30): "+[e.constructor.name,t.constructor.name])}})),D=new a.Bind((function(){return N}),R((function(e){return function(t){return new E(e)}}))((function(e){return function(t){return t(e)}}))),L=new i.Applicative((function(){return N}),_.create),j=new s.Monad((function(){return L}),(function(){return D})),B=new r.Alt((function(){return T}),(function(e){return function(t){return e instanceof E?t:e}}));e.exports={Left:E,Right:_,either:R,choose:function(e){return function(t){return function(n){return r.alt(e)(d.map(e.Functor0())(E.create)(t))(d.map(e.Functor0())(_.create)(n))}}},isLeft:O,isRight:M,fromLeft:function(e){return function(t){return t instanceof E?t.value0:e}},"fromLeft'":function(e){return function(t){return t instanceof E?t.value0:e(w.unit)}},fromRight:function(e){return function(t){return t instanceof _?t.value0:e}},"fromRight'":function(e){return function(t){return t instanceof _?t.value0:e(w.unit)}},note:function(e){return m.maybe(new E(e))(_.create)},"note'":function(e){return m["maybe'"]((function(t){return E.create(e(t))}))(_.create)},hush:I,functorEither:T,genericEither:S,invariantEither:A,applyEither:N,applicativeEither:L,altEither:B,bindEither:D,monadEither:j,extendEither:P,showEither:function(e){return function(t){return new b.Show((function(n){if(n instanceof E)return"(Left "+b.show(e)(n.value0)+")";if(n instanceof _)return"(Right "+b.show(t)(n.value0)+")";throw new Error("Failed pattern match at Data.Either (line 173, column 1 - line 175, column 46): "+[n.constructor.name])}))}},eqEither:k,eq1Either:C,ordEither:x,ord1Either:function(e){return new y.Ord1((function(){return C(e.Eq0())}),(function(t){return y.compare(x(e)(t))}))},boundedEither:function(e){return function(t){return new c.Bounded((function(){return x(e.Ord0())(t.Ord0())}),new E(c.bottom(e)),new _(c.top(t)))}},semigroupEither:function(e){return new g.Semigroup((function(t){return function(n){return o.apply(N)(d.map(T)(g.append(e))(t))(n)}}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(1166),o=n(1167),a=n(1168);t.createLink=a.createLink,t.createNode=a.createNode,t.prepare=a.prepare,t.validate=a.validate,t.code=112,t.decode=function(e){const t=i.decodeNode(e),n={};return t.Data&&(n.Data=t.Data),t.Links&&(n.Links=t.Links.map(e=>{const t={};try{t.Hash=r.CID.decode(e.Hash)}catch(e){}if(!t.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t})),n},t.encode=function(e){a.validate(e);const t={};return e.Links&&(t.Links=e.Links.map(e=>{const t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t})),e.Data&&(t.Data=e.Data),o.encodeNode(t)},t.name="dag-pb"},function(e,t,n){var r;!function(){"use strict";var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(e){return u(c(e),arguments)}function a(e,t){return o.apply(null,[e].concat(t||[]))}function u(e,t){var n,r,a,u,s,c,f,l,d,h=1,p=e.length,m="";for(r=0;r<p;r++)if("string"==typeof e[r])m+=e[r];else if("object"==typeof e[r]){if((u=e[r]).keys)for(n=t[h],a=0;a<u.keys.length;a++){if(null==n)throw new Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',u.keys[a],u.keys[a-1]));n=n[u.keys[a]]}else n=u.param_no?t[u.param_no]:t[h++];if(i.not_type.test(u.type)&&i.not_primitive.test(u.type)&&n instanceof Function&&(n=n()),i.numeric_arg.test(u.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(o("[sprintf] expecting number but found %T",n));switch(i.number.test(u.type)&&(l=n>=0),u.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,u.width?parseInt(u.width):0);break;case"e":n=u.precision?parseFloat(n).toExponential(u.precision):parseFloat(n).toExponential();break;case"f":n=u.precision?parseFloat(n).toFixed(u.precision):parseFloat(n);break;case"g":n=u.precision?String(Number(n.toPrecision(u.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=u.precision?n.substring(0,u.precision):n;break;case"t":n=String(!!n),n=u.precision?n.substring(0,u.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=u.precision?n.substring(0,u.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=u.precision?n.substring(0,u.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}i.json.test(u.type)?m+=n:(!i.number.test(u.type)||l&&!u.sign?d="":(d=l?"+":"-",n=n.toString().replace(i.sign,"")),c=u.pad_char?"0"===u.pad_char?"0":u.pad_char.charAt(1):" ",f=u.width-(d+n).length,s=u.width&&f>0?c.repeat(f):"",m+=u.align?d+n+s:"0"===c?d+s+n:s+d+n)}return m}var s=Object.create(null);function c(e){if(s[e])return s[e];for(var t,n=e,r=[],o=0;n;){if(null!==(t=i.text.exec(n)))r.push(t[0]);else if(null!==(t=i.modulo.exec(n)))r.push("%");else{if(null===(t=i.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){o|=1;var a=[],u=t[2],c=[];if(null===(c=i.key.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(c[1]);""!==(u=u.substring(c[0].length));)if(null!==(c=i.key_access.exec(u)))a.push(c[1]);else{if(null===(c=i.index_access.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(c[1])}t[2]=a}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return s[e]=r}t.sprintf=o,t.vsprintf=a,"undefined"!=typeof window&&(window.sprintf=o,window.vsprintf=a,void 0===(r=function(){return{sprintf:o,vsprintf:a}}.call(t,n,t,e))||(e.exports=r))}()},function(e,t,n){"use strict";const r=n(574);e.exports=function(e,t="utf8"){const n=r[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${e}`)}},function(e,t,n){"use strict";const r=n(574);e.exports=function(e,t="utf8"){const n=r[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)}},function(e,t,n){"use strict";var r=n(32),i=n(2),o=function(e,t){this.Alt0=e,this.empty=t},a=new o((function(){return r.altArray}),[]);e.exports={Plus:o,empty:function(e){return e.empty},plusArray:a,Alt:r.Alt,alt:r.alt,Functor:i.Functor,map:i.map,void:i.void}},function(e,t,n){"use strict";const r=n(585),i=n(1175),o=n(587),a=n(588),u=n(586);e.exports={Key:r,MemoryDatastore:i,utils:o,Errors:a,Adapter:u}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],f=!1,l=-1;function d(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&h())}function h(){if(!f){var e=u(d);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||f||u(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(32),i=n(11),o=n(19),a=n(46),u=n(2),s=n(24),c=function(e,t){this.Applicative0=e,this.Plus1=t},f=new c((function(){return i.applicativeArray}),(function(){return a.plusArray}));e.exports={Alternative:c,guard:function(e){return function(t){if(t)return i.pure(e.Applicative0())(s.unit);if(!t)return a.empty(e.Plus1());throw new Error("Failed pattern match at Control.Alternative (line 48, column 1 - line 48, column 54): "+[t.constructor.name])}},alternativeArray:f,Alt:r.Alt,alt:r.alt,Applicative:i.Applicative,liftA1:i.liftA1,pure:i.pure,unless:i.unless,when:i.when,Apply:o.Apply,apply:o.apply,Plus:a.Plus,empty:a.empty,Functor:u.Functor,map:u.map,void:u.void}},function(e,t,n){(function(t,r,i,o){var a=n(39),u=n(1117),s=e.exports=a.util=a.util||{};function c(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function f(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(s.isArrayBuffer(e)||s.isArrayBufferView(e))if(void 0!==o&&e instanceof o)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var n=0;n<t.length;++n)this.putByte(t[n])}}else(e instanceof f||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==t&&t.nextTick&&!t.browser)return s.nextTick=t.nextTick,void(s.setImmediate="function"==typeof r?r:s.nextTick);if("function"==typeof r)return s.setImmediate=function(){return r.apply(void 0,arguments)},void(s.nextTick=function(e){return r(e)});if(s.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",n=[];s.setImmediate=function(t){n.push(t),1===n.length&&window.postMessage(e,"*")},window.addEventListener("message",(function(t){if(t.source===window&&t.data===e){t.stopPropagation();var r=n.slice();n.length=0,r.forEach((function(e){e()}))}}),!0)}if("undefined"!=typeof MutationObserver){var i=Date.now(),o=!0,a=document.createElement("div");n=[];new MutationObserver((function(){var e=n.slice();n.length=0,e.forEach((function(e){e()}))})).observe(a,{attributes:!0});var u=s.setImmediate;s.setImmediate=function(e){Date.now()-i>15?(i=Date.now(),u(e)):(n.push(e),1===n.length&&a.setAttribute("a",o=!o))}}s.nextTick=s.setImmediate}(),s.isNodejs=void 0!==t&&t.versions&&t.versions.node,s.globalScope=s.isNodejs?i:"undefined"==typeof self?window:self,s.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},s.isArrayBufferView=function(e){return e&&s.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},s.ByteBuffer=f,s.ByteStringBuffer=f;s.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},s.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},s.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},s.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},s.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var n=this.data;t>0;)1&t&&(n+=e),(t>>>=1)>0&&(e+=e);return this.data=n,this._optimizeConstructedString(t),this},s.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},s.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(s.encodeUtf8(e))},s.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},s.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},s.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},s.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},s.ByteStringBuffer.prototype.putInt=function(e,t){c(t);var n="";do{t-=8,n+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(n)},s.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},s.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},s.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},s.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},s.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},s.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},s.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},s.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},s.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},s.ByteStringBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},s.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},s.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},s.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},s.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},s.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},s.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},s.ByteStringBuffer.prototype.copy=function(){var e=s.createBuffer(this.data);return e.read=this.read,e},s.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},s.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},s.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},s.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var n=this.data.charCodeAt(t);n<16&&(e+="0"),e+=n.toString(16)}return e},s.ByteStringBuffer.prototype.toString=function(){return s.decodeUtf8(this.bytes())},s.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var n=s.isArrayBuffer(e),r=s.isArrayBufferView(e);if(n||r)return this.data=n?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},s.DataBuffer.prototype.length=function(){return this.write-this.read},s.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},s.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var n=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),r=new Uint8Array(this.length()+t);return r.set(n),this.data=new DataView(r.buffer),this},s.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},s.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var n=0;n<t;++n)this.data.setUint8(e);return this},s.DataBuffer.prototype.putBytes=function(e,t){if(s.isArrayBufferView(e)){var n=(r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-r.byteOffset;return this.accommodate(n),new Uint8Array(this.data.buffer,this.write).set(r),this.write+=n,this}if(s.isArrayBuffer(e)){var r=new Uint8Array(e);return this.accommodate(r.byteLength),new Uint8Array(this.data.buffer).set(r,this.write),this.write+=r.byteLength,this}if(e instanceof s.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&s.isArrayBufferView(e.data)){r=new Uint8Array(e.data.byteLength,e.read,e.length());return this.accommodate(r.byteLength),new Uint8Array(e.data.byteLength,this.write).set(r),this.write+=r.byteLength,this}if(e instanceof s.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=s.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=s.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=s.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},s.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},s.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},s.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},s.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},s.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},s.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},s.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},s.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},s.DataBuffer.prototype.putInt=function(e,t){c(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},s.DataBuffer.prototype.putSignedInt=function(e,t){return c(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},s.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},s.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},s.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},s.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},s.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},s.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},s.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},s.DataBuffer.prototype.getInt=function(e){c(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},s.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),n=2<<e-2;return t>=n&&(t-=n<<1),t},s.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},s.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},s.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},s.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},s.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},s.DataBuffer.prototype.copy=function(){return new s.DataBuffer(this)},s.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},s.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},s.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},s.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var n=this.data.getUint8(t);n<16&&(e+="0"),e+=n.toString(16)}return e},s.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return s.binary.raw.encode(t);if("hex"===e)return s.binary.hex.encode(t);if("base64"===e)return s.binary.base64.encode(t);if("utf8"===e)return s.text.utf8.decode(t);if("utf16"===e)return s.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},s.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=s.encodeUtf8(e)),new s.ByteBuffer(e)},s.fillString=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>>=1)>0&&(e+=e);return n},s.xorBytes=function(e,t,n){for(var r="",i="",o="",a=0,u=0;n>0;--n,++a)i=e.charCodeAt(a)^t.charCodeAt(a),u>=10&&(r+=o,o="",u=0),o+=String.fromCharCode(i),++u;return r+=o},s.hexToBytes=function(e){var t="",n=0;for(!0&e.length&&(n=1,t+=String.fromCharCode(parseInt(e[0],16)));n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t},s.bytesToHex=function(e){return s.createBuffer(e).toHex()},s.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],h="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s.encode64=function(e,t){for(var n,r,i,o="",a="",u=0;u<e.length;)n=e.charCodeAt(u++),r=e.charCodeAt(u++),i=e.charCodeAt(u++),o+=l.charAt(n>>2),o+=l.charAt((3&n)<<4|r>>4),isNaN(r)?o+="==":(o+=l.charAt((15&r)<<2|i>>6),o+=isNaN(i)?"=":l.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+=o},s.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,n,r,i,o="",a=0;a<e.length;)t=d[e.charCodeAt(a++)-43],n=d[e.charCodeAt(a++)-43],r=d[e.charCodeAt(a++)-43],i=d[e.charCodeAt(a++)-43],o+=String.fromCharCode(t<<2|n>>4),64!==r&&(o+=String.fromCharCode((15&n)<<4|r>>2),64!==i&&(o+=String.fromCharCode((3&r)<<6|i)));return o},s.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},s.decodeUtf8=function(e){return decodeURIComponent(escape(e))},s.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:u.encode,decode:u.decode}},s.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},s.binary.raw.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(e.length));for(var i=n=n||0,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-n:r},s.binary.hex.encode=s.bytesToHex,s.binary.hex.decode=function(e,t,n){var r=t;r||(r=new Uint8Array(Math.ceil(e.length/2)));var i=0,o=n=n||0;for(1&e.length&&(i=1,r[o++]=parseInt(e[0],16));i<e.length;i+=2)r[o++]=parseInt(e.substr(i,2),16);return t?o-n:r},s.binary.base64.encode=function(e,t){for(var n,r,i,o="",a="",u=0;u<e.byteLength;)n=e[u++],r=e[u++],i=e[u++],o+=l.charAt(n>>2),o+=l.charAt((3&n)<<4|r>>4),isNaN(r)?o+="==":(o+=l.charAt((15&r)<<2|i>>6),o+=isNaN(i)?"=":l.charAt(63&i)),t&&o.length>t&&(a+=o.substr(0,t)+"\r\n",o=o.substr(t));return a+=o},s.binary.base64.decode=function(e,t,n){var r,i,o,a,u=t;u||(u=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var s=0,c=n=n||0;s<e.length;)r=d[e.charCodeAt(s++)-43],i=d[e.charCodeAt(s++)-43],o=d[e.charCodeAt(s++)-43],a=d[e.charCodeAt(s++)-43],u[c++]=r<<2|i>>4,64!==o&&(u[c++]=(15&i)<<4|o>>2,64!==a&&(u[c++]=(3&o)<<6|a));return t?c-n:u.subarray(0,c)},s.binary.base58.encode=function(e,t){return s.binary.baseN.encode(e,h,t)},s.binary.base58.decode=function(e,t){return s.binary.baseN.decode(e,h,t)},s.text={utf8:{},utf16:{}},s.text.utf8.encode=function(e,t,n){e=s.encodeUtf8(e);var r=t;r||(r=new Uint8Array(e.length));for(var i=n=n||0,o=0;o<e.length;++o)r[i++]=e.charCodeAt(o);return t?i-n:r},s.text.utf8.decode=function(e){return s.decodeUtf8(String.fromCharCode.apply(null,e))},s.text.utf16.encode=function(e,t,n){var r=t;r||(r=new Uint8Array(2*e.length));for(var i=new Uint16Array(r.buffer),o=n=n||0,a=n,u=0;u<e.length;++u)i[a++]=e.charCodeAt(u),o+=2;return t?o-n:r},s.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},s.deflate=function(e,t,n){if(t=s.decode64(e.deflate(s.encode64(t)).rval),n){var r=2;32&t.charCodeAt(1)&&(r=6),t=t.substring(r,t.length-4)}return t},s.inflate=function(e,t,n){var r=e.inflate(s.encode64(t)).rval;return null===r?null:s.decode64(r)};var p=function(e,t,n){if(!e)throw new Error("WebStorage not available.");var r;if(null===n?r=e.removeItem(t):(n=s.encode64(JSON.stringify(n)),r=e.setItem(t,n)),void 0!==r&&!0!==r.rval){var i=new Error(r.error.message);throw i.id=r.error.id,i.name=r.error.name,i}},m=function(e,t){if(!e)throw new Error("WebStorage not available.");var n=e.getItem(t);if(e.init)if(null===n.rval){if(n.error){var r=new Error(n.error.message);throw r.id=n.error.id,r.name=n.error.name,r}n=null}else n=n.rval;return null!==n&&(n=JSON.parse(s.decode64(n))),n},y=function(e,t,n,r){var i=m(e,t);null===i&&(i={}),i[n]=r,p(e,t,i)},v=function(e,t,n){var r=m(e,t);return null!==r&&(r=n in r?r[n]:null),r},g=function(e,t,n){var r=m(e,t);if(null!==r&&n in r){delete r[n];var i=!0;for(var o in r){i=!1;break}i&&(r=null),p(e,t,r)}},b=function(e,t){p(e,t,null)},w=function(e,t,n){var r,i=null;void 0===n&&(n=["web","flash"]);var o=!1,a=null;for(var u in n){r=n[u];try{if("flash"===r||"both"===r){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),o="flash"===r}"web"!==r&&"both"!==r||(t[0]=localStorage,i=e.apply(this,t),o=!0)}catch(e){a=e}if(o)break}if(!o)throw a;return i};s.setItem=function(e,t,n,r,i){w(y,arguments,i)},s.getItem=function(e,t,n,r){return w(v,arguments,r)},s.removeItem=function(e,t,n,r){w(g,arguments,r)},s.clearItems=function(e,t,n){w(b,arguments,n)},s.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var n=t.exec(e),r=null===n?null:{full:e,scheme:n[1],host:n[2],port:n[3],path:n[4]};return r&&(r.fullHost=r.host,r.port?(80!==r.port&&"http"===r.scheme||443!==r.port&&"https"===r.scheme)&&(r.fullHost+=":"+r.port):"http"===r.scheme?r.port=80:"https"===r.scheme&&(r.port=443),r.full=r.scheme+"://"+r.fullHost),r};var E=null;s.getQueryVariables=function(e){var t,n=function(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var i,o,a=n[r].indexOf("=");a>0?(i=n[r].substring(0,a),o=n[r].substring(a+1)):(i=n[r],o=null),i in t||(t[i]=[]),i in Object.prototype||null===o||t[i].push(unescape(o))}return t};return void 0===e?(null===E&&(E="undefined"!=typeof window&&window.location&&window.location.search?n(window.location.search.substring(1)):{}),t=E):t=n(e),t},s.parseFragment=function(e){var t=e,n="",r=e.indexOf("?");r>0&&(t=e.substring(0,r),n=e.substring(r+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:n,path:i,query:""===n?{}:s.getQueryVariables(n)}},s.makeRequest=function(e){var t=s.parseFragment(e),n={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,n){var r;return void 0===e?r=t.query:(r=t.query[e])&&void 0!==n&&(r=r[n]),r},getQueryLast:function(e,t){var r=n.getQuery(e);return r?r[r.length-1]:t}};return n},s.makeLink=function(e,t,n){e=jQuery.isArray(e)?e.join("/"):e;var r=jQuery.param(t||{});return n=n||"",e+(r.length>0?"?"+r:"")+(n.length>0?"#"+n:"")},s.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},s.format=function(e){for(var t,n,r=/%./g,i=0,o=[],a=0;t=r.exec(e);){(n=e.substring(a,r.lastIndex-2)).length>0&&o.push(n),a=r.lastIndex;var u=t[0][1];switch(u){case"s":case"o":i<arguments.length?o.push(arguments[1+i++]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+u+"?>")}}return o.push(e.substring(a)),o.join("")},s.formatNumber=function(e,t,n,r){var i=e,o=isNaN(t=Math.abs(t))?2:t,a=void 0===n?",":n,u=void 0===r?".":r,s=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",f=c.length>3?c.length%3:0;return s+(f?c.substr(0,f)+u:"")+c.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+u)+(o?a+Math.abs(i-c).toFixed(o).slice(2):"")},s.formatSize=function(e){return e=e>=1073741824?s.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?s.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?s.formatNumber(e/1024,0)+" KiB":s.formatNumber(e,0)+" bytes"},s.bytesFromIP=function(e){return-1!==e.indexOf(".")?s.bytesFromIPv4(e):-1!==e.indexOf(":")?s.bytesFromIPv6(e):null},s.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=s.createBuffer(),n=0;n<e.length;++n){var r=parseInt(e[n],10);if(isNaN(r))return null;t.putByte(r)}return t.getBytes()},s.bytesFromIPv6=function(e){for(var t=0,n=2*(8-(e=e.split(":").filter((function(e){return 0===e.length&&++t,!0}))).length+t),r=s.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var o=s.hexToBytes(e[i]);o.length<2&&r.putByte(0),r.putBytes(o)}else r.fillWithByte(0,n),n=0;return r.getBytes()},s.bytesToIP=function(e){return 4===e.length?s.bytesToIPv4(e):16===e.length?s.bytesToIPv6(e):null},s.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t.join(".")},s.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],n=[],r=0,i=0;i<e.length;i+=2){for(var o=s.bytesToHex(e[i]+e[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var a=n[n.length-1],u=t.length;a&&u===a.end+1?(a.end=u,a.end-a.start>n[r].end-n[r].start&&(r=n.length-1)):n.push({start:u,end:u})}t.push(o)}if(n.length>0){var c=n[r];c.end-c.start>0&&(t.splice(c.start,c.end-c.start+1,""),0===c.start&&t.unshift(""),7===c.end&&t.push(""))}return t.join(":")},s.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in s&&!e.update)return t(null,s.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return s.cores=navigator.hardwareConcurrency,t(null,s.cores);if("undefined"==typeof Worker)return s.cores=1,t(null,s.cores);if("undefined"==typeof Blob)return s.cores=2,t(null,s.cores);var n=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){for(var t=Date.now(),n=t+4;Date.now()<n;);self.postMessage({st:t,et:n})}))}.toString(),")()"],{type:"application/javascript"}));!function e(r,i,o){if(0===i){var a=Math.floor(r.reduce((function(e,t){return e+t}),0)/r.length);return s.cores=Math.max(1,a),URL.revokeObjectURL(n),t(null,s.cores)}!function(e,t){for(var r=[],i=[],o=0;o<e;++o){var a=new Worker(n);a.addEventListener("message",(function(n){if(i.push(n.data),i.length===e){for(var o=0;o<e;++o)r[o].terminate();t(null,i)}})),r.push(a)}for(o=0;o<e;++o)r[o].postMessage(o)}(o,(function(t,n){r.push(function(e,t){for(var n=[],r=0;r<e;++r)for(var i=t[r],o=n[r]=[],a=0;a<e;++a)if(r!==a){var u=t[a];(i.st>u.st&&i.st<u.et||u.st>i.st&&u.st<i.et)&&o.push(a)}return n.reduce((function(e,t){return Math.max(e,t.length)}),0)}(o,n)),e(r,i-1,o)}))}([],5,16)}}).call(this,n(49),n(184).setImmediate,n(48),n(27).Buffer)},function(e,t,n){var r,i,o;!function(n,a){"use strict";"object"==typeof e.exports?e.exports=a():(i=[],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o))}(0,(function(){"use strict";var e=Object.prototype.toString;function t(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function n(e){if(!e)return!0;if(i(e)&&0===e.length)return!0;if("string"!=typeof e){for(var n in e)if(t(e,n))return!1;return!0}return!1}function r(t){return e.call(t)}var i=Array.isArray||function(t){return"[object Array]"===e.call(t)};function o(e){var t=parseInt(e);return t.toString()===e?t:e}function a(e){var a,u=function(e){return Object.keys(u).reduce((function(t,n){return"create"===n||"function"==typeof u[n]&&(t[n]=u[n].bind(u,e)),t}),{})};function s(e,t){if(a(e,t))return e[t]}function c(t,n,r,i){if("number"==typeof n&&(n=[n]),!n||0===n.length)return t;if("string"==typeof n)return c(t,n.split(".").map(o),r,i);var a=n[0],u=s(t,a);if(e.includeInheritedProps&&("__proto__"===a||"constructor"===a&&"function"==typeof u))throw new Error("For security reasons, object's magic properties cannot be set");return 1===n.length?(void 0!==u&&i||(t[a]=r),u):(void 0===u&&("number"==typeof n[1]?t[a]=[]:t[a]={}),c(t[a],n.slice(1),r,i))}return a=(e=e||{}).includeInheritedProps?function(){return!0}:function(e,n){return"number"==typeof n&&Array.isArray(e)||t(e,n)},u.has=function(n,r){if("number"==typeof r?r=[r]:"string"==typeof r&&(r=r.split(".")),!r||0===r.length)return!!n;for(var a=0;a<r.length;a++){var u=o(r[a]);if(!("number"==typeof u&&i(n)&&u<n.length||(e.includeInheritedProps?u in Object(n):t(n,u))))return!1;n=n[u]}return!0},u.ensureExists=function(e,t,n){return c(e,t,n,!0)},u.set=function(e,t,n,r){return c(e,t,n,r)},u.insert=function(e,t,n,r){var o=u.get(e,t);r=~~r,i(o)||(o=[],u.set(e,t,o)),o.splice(r,0,n)},u.empty=function(e,t){var o,s;if(!n(t)&&(null!=e&&(o=u.get(e,t)))){if("string"==typeof o)return u.set(e,t,"");if(function(e){return"boolean"==typeof e||"[object Boolean]"===r(e)}(o))return u.set(e,t,!1);if("number"==typeof o)return u.set(e,t,0);if(i(o))o.length=0;else{if(!function(e){return"object"==typeof e&&"[object Object]"===r(e)}(o))return u.set(e,t,null);for(s in o)a(o,s)&&delete o[s]}}},u.push=function(e,t){var n=u.get(e,t);i(n)||(n=[],u.set(e,t,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},u.coalesce=function(e,t,n){for(var r,i=0,o=t.length;i<o;i++)if(void 0!==(r=u.get(e,t[i])))return r;return n},u.get=function(e,t,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return n;if("string"==typeof t)return u.get(e,t.split("."),n);var r=o(t[0]),i=s(e,r);return void 0===i?n:1===t.length?i:u.get(e[r],t.slice(1),n)},u.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(n(t))return e;if("string"==typeof t)return u.del(e,t.split("."));var r=o(t[0]);return a(e,r)?1!==t.length?u.del(e[r],t.slice(1)):(i(e)?e.splice(r,1):delete e[r],e):e},u}var u=a();return u.create=a,u.withInheritedProps=a({includeInheritedProps:!0}),u}))},function(e,t,n){"use strict";(function(e){function r(e){return!(!e||"function"!=typeof e.then)}function i(e){return e||(e=0),new Promise((function(t){return setTimeout(t,e)}))}function o(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function a(){return Math.random().toString(36).substring(2)}n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return f}));var u=0,s=0;function c(){var e=(new Date).getTime();return e===u?1e3*e+ ++s:(u=e,s=0,1e3*e)}var f="[object process]"===Object.prototype.toString.call(void 0!==e?e:0)}).call(this,n(49))},function(e,t,n){"use strict";e.exports={otherwise:!0}},function(e,t,n){"use strict";var r=n(893),i=n(13),o=n(23),a=n(5),u=n(16),s=n(18),c=a.maybe(r.null)(r.notNull),f=function(e){return r.nullable(e,a.Nothing.value,a.Just.create)},l=function(e){return new i.Eq(o.on(i.eq(a.eqMaybe(e)))(f))},d=function(e){return new u.Ord((function(){return l(e.Eq0())}),o.on(u.compare(a.ordMaybe(e)))(f))},h=new i.Eq1((function(e){return i.eq(l(e))})),p=new u.Ord1((function(){return h}),(function(e){return u.compare(d(e))}));e.exports={toMaybe:f,toNullable:c,showNullable:function(e){return new s.Show((t=a.maybe("null")(s.show(e)),function(e){return t(f(e))}));var t},eqNullable:l,eq1Nullable:h,ordNullable:d,ord1Nullable:p,null:r.null,notNull:r.notNull}},function(e,t,n){"use strict";var r=n(872),i=n(11),o=n(19),a=n(25),u=n(336),s=n(41),c=n(36),f=n(2),l=n(259),d=n(260),h=n(217),p=n(337),m=n(91),y=n(5),v=n(335),g=n(500),b=n(501),w=n(257),E=n(258),_=n(187),S=n(338),T=(n(502),n(503)),A=n(29),P=function(e,t,n,r){this.Foldable1=e,this.Functor0=t,this.sequence=n,this.traverse=r},k=function(e){return e.traverse},x=new P((function(){return c.foldableTuple}),(function(){return A.functorTuple}),(function(e){return function(t){return f.map(e.Apply0().Functor0())(A.Tuple.create(t.value0))(t.value1)}}),(function(e){return function(t){return function(n){return f.map(e.Apply0().Functor0())(A.Tuple.create(n.value0))(t(n.value1))}}})),C=new P((function(){return c.foldableMultiplicative}),(function(){return S.functorMultiplicative}),(function(e){return function(t){return f.map(e.Apply0().Functor0())(S.Multiplicative)(t)}}),(function(e){return function(t){return function(n){return f.map(e.Apply0().Functor0())(S.Multiplicative)(t(n))}}})),R=new P((function(){return c.foldableMaybe}),(function(){return y.functorMaybe}),(function(e){return function(t){if(t instanceof y.Nothing)return i.pure(e)(y.Nothing.value);if(t instanceof y.Just)return f.map(e.Apply0().Functor0())(y.Just.create)(t.value0);throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[t.constructor.name])}}),(function(e){return function(t){return function(n){if(n instanceof y.Nothing)return i.pure(e)(y.Nothing.value);if(n instanceof y.Just)return f.map(e.Apply0().Functor0())(y.Just.create)(t(n.value0));throw new Error("Failed pattern match at Data.Traversable (line 115, column 1 - line 119, column 33): "+[t.constructor.name,n.constructor.name])}}})),I=new P((function(){return c.foldableIdentity}),(function(){return m.functorIdentity}),(function(e){return function(t){return f.map(e.Apply0().Functor0())(m.Identity)(t)}}),(function(e){return function(t){return function(n){return f.map(e.Apply0().Functor0())(m.Identity)(t(n))}}})),O=new P((function(){return c.foldableEither}),(function(){return s.functorEither}),(function(e){return function(t){if(t instanceof s.Left)return i.pure(e)(new s.Left(t.value0));if(t instanceof s.Right)return f.map(e.Apply0().Functor0())(s.Right.create)(t.value0);throw new Error("Failed pattern match at Data.Traversable (line 149, column 1 - line 153, column 36): "+[t.constructor.name])}}),(function(e){return function(t){return function(n){if(n instanceof s.Left)return i.pure(e)(new s.Left(n.value0));if(n instanceof s.Right)return f.map(e.Apply0().Functor0())(s.Right.create)(t(n.value0));throw new Error("Failed pattern match at Data.Traversable (line 149, column 1 - line 153, column 36): "+[t.constructor.name,n.constructor.name])}}})),M=new P((function(){return c.foldableDual}),(function(){return _.functorDual}),(function(e){return function(t){return f.map(e.Apply0().Functor0())(_.Dual)(t)}}),(function(e){return function(t){return function(n){return f.map(e.Apply0().Functor0())(_.Dual)(t(n))}}})),N=new P((function(){return c.foldableDisj}),(function(){return E.functorDisj}),(function(e){return function(t){return f.map(e.Apply0().Functor0())(E.Disj)(t)}}),(function(e){return function(t){return function(n){return f.map(e.Apply0().Functor0())(E.Disj)(t(n))}}})),D=new P((function(){return c.foldableConst}),(function(){return u.functorConst}),(function(e){return function(t){return i.pure(e)(t)}}),(function(e){return function(t){return function(t){return i.pure(e)(t)}}})),L=new P((function(){return c.foldableConj}),(function(){return w.functorConj}),(function(e){return function(t){return f.map(e.Apply0().Functor0())(w.Conj)(t)}}),(function(e){return function(t){return function(n){return f.map(e.Apply0().Functor0())(w.Conj)(t(n))}}})),j=function(e){return function(t){return new P((function(){return c.foldableCompose(e.Foldable1())(t.Foldable1())}),(function(){return d.functorCompose(e.Functor0())(t.Functor0())}),(function(n){return k(j(e)(t))(n)(a.identity(a.categoryFn))}),(function(n){return function(r){return function(i){return f.map(n.Apply0().Functor0())(d.Compose)(k(e)(n)(k(t)(n)(r))(i))}}}))}},B=new P((function(){return c.foldableAdditive}),(function(){return b.functorAdditive}),(function(e){return function(t){return f.map(e.Apply0().Functor0())(b.Additive)(t)}}),(function(e){return function(t){return function(n){return f.map(e.Apply0().Functor0())(b.Additive)(t(n))}}})),F=function(e){return function(t){return k(e)(t)(a.identity(a.categoryFn))}},U=new P((function(){return c.foldableArray}),(function(){return f.functorArray}),(function(e){return F(U)(e)}),(function(e){return r.traverseArrayImpl(o.apply(e.Apply0()))(f.map(e.Apply0().Functor0()))(i.pure(e))})),q=function(e){return e.sequence},H=new P((function(){return c.foldableFirst}),(function(){return v.functorFirst}),(function(e){return function(t){return f.map(e.Apply0().Functor0())(v.First)(q(R)(e)(t))}}),(function(e){return function(t){return function(n){return f.map(e.Apply0().Functor0())(v.First)(k(R)(e)(t)(n))}}})),K=new P((function(){return c.foldableLast}),(function(){return g.functorLast}),(function(e){return function(t){return f.map(e.Apply0().Functor0())(g.Last)(q(R)(e)(t))}}),(function(e){return function(t){return function(n){return f.map(e.Apply0().Functor0())(g.Last)(k(R)(e)(t)(n))}}})),V=function(e){return function(t){return function(n){return function(r){return T.stateR(k(e)(T.applicativeStateR)((function(e){return function(n){return t(n)(e)}}))(r))(n)}}}},z=function(e){return function(t){return function(n){return function(r){return T.stateL(k(e)(T.applicativeStateL)((function(e){return function(n){return t(n)(e)}}))(r))(n)}}}};e.exports={Traversable:P,traverse:k,sequence:q,traverseDefault:function(e){return function(t){return function(n){return function(r){return q(e)(t)(f.map(e.Functor0())(n)(r))}}}},sequenceDefault:F,for:function(e){return function(t){return function(n){return function(r){return k(t)(e)(r)(n)}}}},scanl:function(e){return function(t){return function(n){return function(r){return z(e)((function(e){return function(n){var r=t(e)(n);return{accum:r,value:r}}}))(n)(r).value}}}},scanr:function(e){return function(t){return function(n){return function(r){return V(e)((function(e){return function(n){var r=t(n)(e);return{accum:r,value:r}}}))(n)(r).value}}}},mapAccumL:z,mapAccumR:V,traversableArray:U,traversableMaybe:R,traversableFirst:H,traversableLast:K,traversableAdditive:B,traversableDual:M,traversableConj:L,traversableDisj:N,traversableMultiplicative:C,traversableEither:O,traversableTuple:x,traversableIdentity:I,traversableConst:D,traversableProduct:function(e){return function(t){return new P((function(){return c.foldableProduct(e.Foldable1())(t.Foldable1())}),(function(){return p.functorProduct(e.Functor0())(t.Functor0())}),(function(n){return function(r){return o.lift2(n.Apply0())(p.product)(q(e)(n)(r.value0))(q(t)(n)(r.value1))}}),(function(n){return function(r){return function(i){return o.lift2(n.Apply0())(p.product)(k(e)(n)(r)(i.value0))(k(t)(n)(r)(i.value1))}}}))}},traversableCoproduct:function(e){return function(t){return new P((function(){return c.foldableCoproduct(e.Foldable1())(t.Foldable1())}),(function(){return h.functorCoproduct(e.Functor0())(t.Functor0())}),(function(n){return h.coproduct((o=f.map(n.Apply0().Functor0())((function(e){return h.Coproduct(s.Left.create(e))})),a=q(e)(n),function(e){return o(a(e))}))((r=f.map(n.Apply0().Functor0())((function(e){return h.Coproduct(s.Right.create(e))})),i=q(t)(n),function(e){return r(i(e))}));var r,i,o,a}),(function(n){return function(r){return h.coproduct((a=f.map(n.Apply0().Functor0())((function(e){return h.Coproduct(s.Left.create(e))})),u=k(e)(n)(r),function(e){return a(u(e))}))((i=f.map(n.Apply0().Functor0())((function(e){return h.Coproduct(s.Right.create(e))})),o=k(t)(n)(r),function(e){return i(o(e))}));var i,o,a,u}}))}},traversableCompose:j,traversableApp:function(e){return new P((function(){return c.foldableApp(e.Foldable1())}),(function(){return l.functorApp(e.Functor0())}),(function(t){return function(n){return f.map(t.Apply0().Functor0())(l.App)(q(e)(t)(n))}}),(function(t){return function(n){return function(r){return f.map(t.Apply0().Functor0())(l.App)(k(e)(t)(n)(r))}}}))},Foldable:c.Foldable,all:c.all,and:c.and,any:c.any,elem:c.elem,find:c.find,fold:c.fold,foldMap:c.foldMap,foldMapDefaultL:c.foldMapDefaultL,foldMapDefaultR:c.foldMapDefaultR,foldl:c.foldl,foldlDefault:c.foldlDefault,foldr:c.foldr,foldrDefault:c.foldrDefault,for_:c.for_,intercalate:c.intercalate,maximum:c.maximum,maximumBy:c.maximumBy,minimum:c.minimum,minimumBy:c.minimumBy,notElem:c.notElem,oneOf:c.oneOf,or:c.or,sequence_:c.sequence_,sum:c.sum,traverse_:c.traverse_}},function(e,t,n){"use strict";const r=n(558),{hasOwnProperty:i}=Object.prototype,{propertyIsEnumerable:o}=Object,a=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0}),u=this,s={concatArrays:!1,ignoreUndefined:!1},c=e=>{const t=[];for(const n in e)i.call(e,n)&&t.push(n);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(e);for(const r of n)o.call(e,r)&&t.push(r)}return t};function f(e){return Array.isArray(e)?function(e){const t=e.slice(0,0);return c(e).forEach(n=>{a(t,n,f(e[n]))}),t}(e):r(e)?function(e){const t=null===Object.getPrototypeOf(e)?Object.create(null):{};return c(e).forEach(n=>{a(t,n,f(e[n]))}),t}(e):e}const l=(e,t,n,r)=>(n.forEach(n=>{void 0===t[n]&&r.ignoreUndefined||(n in e&&e[n]!==Object.getPrototypeOf(e)?a(e,n,d(e[n],t[n],r)):a(e,n,f(t[n])))}),e);function d(e,t,n){return n.concatArrays&&Array.isArray(e)&&Array.isArray(t)?((e,t,n)=>{let r=e.slice(0,0),o=0;return[e,t].forEach(t=>{const u=[];for(let n=0;n<t.length;n++)i.call(t,n)&&(u.push(String(n)),a(r,o++,t===e?t[n]:f(t[n])));r=l(r,t,c(t).filter(e=>!u.includes(e)),n)}),r})(e,t,n):r(t)&&r(e)?l(e,t,c(t),n):f(t)}e.exports=function(...e){const t=d(f(s),this!==u&&this||{},s);let n={_:{}};for(const i of e)if(void 0!==i){if(!r(i))throw new TypeError("`"+i+"` is not an Option Object");n=d(n,{_:i},t)}return n._}},function(e,t,n){"use strict";var r=n(25),i=n(35),o=function(e,t){this.Monad0=e,this.liftEffect=t},a=new o((function(){return i.monadEffect}),r.identity(r.categoryFn));e.exports={liftEffect:function(e){return e.liftEffect},MonadEffect:o,monadEffectEffect:a}},function(e,t,n){"use strict";var r=n(851),i=n(60),o=function(){function e(){}return e.value=new e,e}();e.exports={IsSymbol:function(e){this.reflectSymbol=e},reflectSymbol:function(e){return e.reflectSymbol},reifySymbol:function(e){return function(t){return r.unsafeCoerce((function(e){return t(e)}))({reflectSymbol:function(t){return e}})(i.Proxy.value)}},SProxy:o}},function(e,t,n){"use strict";var r=function(){function e(){}return e.value=new e,e}(),i=function(){function e(){}return e.value=new e,e}(),o=function(){function e(){}return e.value=new e,e}();e.exports={Proxy:o,Proxy2:i,Proxy3:r}},function(e,t,n){"use strict";function r(e){return"$"+e}function i(e){return e.substring(1)}function o(){this._store={}}function a(e){if(this._store=new o,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}var u,s;n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s})),o.prototype.get=function(e){var t=r(e);return this._store[t]},o.prototype.set=function(e,t){var n=r(e);return this._store[n]=t,!0},o.prototype.has=function(e){return r(e)in this._store},o.prototype.delete=function(e){var t=r(e),n=t in this._store;return delete this._store[t],n},o.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var o=t[n];e(this._store[o],o=i(o))}},Object.defineProperty(o.prototype,"size",{get:function(){return Object.keys(this._store).length}}),a.prototype.add=function(e){return this._store.set(e,!0)},a.prototype.has=function(e){return this._store.has(e)},a.prototype.forEach=function(e){this._store.forEach((function(t,n){e(n)}))},Object.defineProperty(a.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(u=a,s=o):(u=Set,s=Map)},function(e,t,n){(function(){var t;function n(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function r(){return new n(null)}var i="undefined"!=typeof navigator;i&&"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,u=t>>15;--o>=0;){var s=32767&this[e],c=this[e++]>>15,f=u*s+c*a;i=((s=a*s+((32767&f)<<15)+n[r]+(1073741823&i))>>>30)+(f>>>15)+u*c+(i>>>30),n[r++]=1073741823&s}return i},t=30):i&&"Netscape"!=navigator.appName?(n.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},t=26):(n.prototype.am=function(e,t,n,r,i,o){for(var a=16383&t,u=t>>14;--o>=0;){var s=16383&this[e],c=this[e++]>>14,f=u*s+c*a;i=((s=a*s+((16383&f)<<14)+n[r]+i)>>28)+(f>>14)+u*c,n[r++]=268435455&s}return i},t=28),n.prototype.DB=t,n.prototype.DM=(1<<t)-1,n.prototype.DV=1<<t;n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-t,n.prototype.F2=2*t-52;var o,a,u=new Array;for(o="0".charCodeAt(0),a=0;a<=9;++a)u[o++]=a;for(o="a".charCodeAt(0),a=10;a<36;++a)u[o++]=a;for(o="A".charCodeAt(0),a=10;a<36;++a)u[o++]=a;function s(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function c(e,t){var n=u[e.charCodeAt(t)];return null==n?-1:n}function f(e){var t=r();return t.fromInt(e),t}function l(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function d(e){this.m=e}function h(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function p(e,t){return e&t}function m(e,t){return e|t}function y(e,t){return e^t}function v(e,t){return e&~t}function g(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function b(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function w(){}function E(e){return e}function _(e){this.r2=r(),this.q3=r(),n.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}d.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},d.prototype.revert=function(e){return e},d.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},d.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},d.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},h.prototype.convert=function(e){var t=r();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(n.ZERO)>0&&this.m.subTo(t,t),t},h.prototype.revert=function(e){var t=r();return e.copyTo(t),this.reduce(t),t},h.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},h.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},h.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},n.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},n.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},n.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var i=e.length,o=!1,a=0;--i>=0;){var u=8==r?255&e[i]:c(e,i);u<0?"-"==e.charAt(i)&&(o=!0):(o=!1,0==a?this[this.t++]=u:a+r>this.DB?(this[this.t-1]|=(u&(1<<this.DB-a)-1)<<a,this[this.t++]=u>>this.DB-a):this[this.t-1]|=u<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),o&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},n.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},n.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},n.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),u=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|u,u=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=u,t.t=this.t+a+1,t.s=this.s,t.clamp()},n.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},n.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},n.prototype.multiplyTo=function(e,t){var r=this.abs(),i=e.abs(),o=r.t;for(t.t=o+i.t;--o>=0;)t[o]=0;for(o=0;o<i.t;++o)t[o+r.t]=r.am(0,i[o],t,o,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&n.ZERO.subTo(t,t)},n.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},n.prototype.divRemTo=function(e,t,i){var o=e.abs();if(!(o.t<=0)){var a=this.abs();if(a.t<o.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=r());var u=r(),s=this.s,c=e.s,f=this.DB-l(o[o.t-1]);f>0?(o.lShiftTo(f,u),a.lShiftTo(f,i)):(o.copyTo(u),a.copyTo(i));var d=u.t,h=u[d-1];if(0!=h){var p=h*(1<<this.F1)+(d>1?u[d-2]>>this.F2:0),m=this.FV/p,y=(1<<this.F1)/p,v=1<<this.F2,g=i.t,b=g-d,w=null==t?r():t;for(u.dlShiftTo(b,w),i.compareTo(w)>=0&&(i[i.t++]=1,i.subTo(w,i)),n.ONE.dlShiftTo(d,w),w.subTo(u,u);u.t<d;)u[u.t++]=0;for(;--b>=0;){var E=i[--g]==h?this.DM:Math.floor(i[g]*m+(i[g-1]+v)*y);if((i[g]+=u.am(0,E,i,b,0,d))<E)for(u.dlShiftTo(b,w),i.subTo(w,i);i[g]<--E;)i.subTo(w,i)}null!=t&&(i.drShiftTo(d,t),s!=c&&n.ZERO.subTo(t,t)),i.t=d,i.clamp(),f>0&&i.rShiftTo(f,i),s<0&&n.ZERO.subTo(i,i)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},n.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},n.prototype.exp=function(e,t){if(e>4294967295||e<1)return n.ONE;var i=r(),o=r(),a=t.convert(this),u=l(e)-1;for(a.copyTo(i);--u>=0;)if(t.sqrTo(i,o),(e&1<<u)>0)t.mulTo(o,a,i);else{var s=i;i=o,o=s}return t.revert(i)},n.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,u=this.DB-a*this.DB%t;if(a-- >0)for(u<this.DB&&(n=this[a]>>u)>0&&(i=!0,o=s(n));a>=0;)u<t?(n=(this[a]&(1<<u)-1)<<t-u,n|=this[--a]>>(u+=this.DB-t)):(n=this[a]>>(u-=t)&r,u<=0&&(u+=this.DB,--a)),n>0&&(i=!0),i&&(o+=s(n));return i?o:"0"},n.prototype.negate=function(){var e=r();return n.ZERO.subTo(this,e),e},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+l(this[this.t-1]^this.s&this.DM)},n.prototype.mod=function(e){var t=r();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(n.ZERO)>0&&e.subTo(t,t),t},n.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new d(t):new h(t),this.exp(e,n)},n.ZERO=f(0),n.ONE=f(1),w.prototype.convert=E,w.prototype.revert=E,w.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},w.prototype.sqrTo=function(e,t){e.squareTo(t)},_.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=r();return e.copyTo(t),this.reduce(t),t},_.prototype.revert=function(e){return e},_.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},_.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},_.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var S,T,A,P=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],k=(1<<26)/P[P.length-1];function x(){var e;e=(new Date).getTime(),T[A++]^=255&e,T[A++]^=e>>8&255,T[A++]^=e>>16&255,T[A++]^=e>>24&255,A>=D&&(A-=D)}if(n.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},n.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),i=f(n),o=r(),a=r(),u="";for(this.divRemTo(i,o,a);o.signum()>0;)u=(n+a.intValue()).toString(e).substr(1)+u,o.divRemTo(i,o,a);return a.intValue().toString(e)+u},n.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),i=Math.pow(t,r),o=!1,a=0,u=0,s=0;s<e.length;++s){var f=c(e,s);f<0?"-"==e.charAt(s)&&0==this.signum()&&(o=!0):(u=t*u+f,++a>=r&&(this.dMultiply(i),this.dAddOffset(u,0),a=0,u=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(u,0)),o&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(n.ONE.shiftLeft(e-1),m,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(n.ONE.shiftLeft(e-1),this);else{var i=new Array,o=7&e;i.length=1+(e>>3),t.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},n.prototype.bitwiseTo=function(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},n.prototype.changeBit=function(e,t){var r=n.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},n.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},n.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},n.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},n.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},n.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},n.prototype.millerRabin=function(e){var t=this.subtract(n.ONE),i=t.getLowestSetBit();if(i<=0)return!1;var o=t.shiftRight(i);(e=e+1>>1)>P.length&&(e=P.length);for(var a=r(),u=0;u<e;++u){a.fromInt(P[Math.floor(Math.random()*P.length)]);var s=a.modPow(o,this);if(0!=s.compareTo(n.ONE)&&0!=s.compareTo(t)){for(var c=1;c++<i&&0!=s.compareTo(t);)if(0==(s=s.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=s.compareTo(t))return!1}}return!0},n.prototype.clone=function(){var e=r();return this.copyTo(e),e},n.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},n.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},n.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},n.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},n.prototype.equals=function(e){return 0==this.compareTo(e)},n.prototype.min=function(e){return this.compareTo(e)<0?this:e},n.prototype.max=function(e){return this.compareTo(e)>0?this:e},n.prototype.and=function(e){var t=r();return this.bitwiseTo(e,p,t),t},n.prototype.or=function(e){var t=r();return this.bitwiseTo(e,m,t),t},n.prototype.xor=function(e){var t=r();return this.bitwiseTo(e,y,t),t},n.prototype.andNot=function(e){var t=r();return this.bitwiseTo(e,v,t),t},n.prototype.not=function(){for(var e=r(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},n.prototype.shiftLeft=function(e){var t=r();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},n.prototype.shiftRight=function(e){var t=r();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},n.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+g(this[e]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=b(this[n]^t);return e},n.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},n.prototype.setBit=function(e){return this.changeBit(e,m)},n.prototype.clearBit=function(e){return this.changeBit(e,v)},n.prototype.flipBit=function(e){return this.changeBit(e,y)},n.prototype.add=function(e){var t=r();return this.addTo(e,t),t},n.prototype.subtract=function(e){var t=r();return this.subTo(e,t),t},n.prototype.multiply=function(e){var t=r();return this.multiplyTo(e,t),t},n.prototype.divide=function(e){var t=r();return this.divRemTo(e,t,null),t},n.prototype.remainder=function(e){var t=r();return this.divRemTo(e,null,t),t},n.prototype.divideAndRemainder=function(e){var t=r(),n=r();return this.divRemTo(e,t,n),new Array(t,n)},n.prototype.modPow=function(e,t){var n,i,o=e.bitLength(),a=f(1);if(o<=0)return a;n=o<18?1:o<48?3:o<144?4:o<768?5:6,i=o<8?new d(t):t.isEven()?new _(t):new h(t);var u=new Array,s=3,c=n-1,p=(1<<n)-1;if(u[1]=i.convert(this),n>1){var m=r();for(i.sqrTo(u[1],m);s<=p;)u[s]=r(),i.mulTo(m,u[s-2],u[s]),s+=2}var y,v,g=e.t-1,b=!0,w=r();for(o=l(e[g])-1;g>=0;){for(o>=c?y=e[g]>>o-c&p:(y=(e[g]&(1<<o+1)-1)<<c-o,g>0&&(y|=e[g-1]>>this.DB+o-c)),s=n;0==(1&y);)y>>=1,--s;if((o-=s)<0&&(o+=this.DB,--g),b)u[y].copyTo(a),b=!1;else{for(;s>1;)i.sqrTo(a,w),i.sqrTo(w,a),s-=2;s>0?i.sqrTo(a,w):(v=a,a=w,w=v),i.mulTo(w,u[y],a)}for(;g>=0&&0==(e[g]&1<<o);)i.sqrTo(a,w),v=a,a=w,w=v,--o<0&&(o=this.DB-1,--g)}return i.revert(a)},n.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return n.ZERO;for(var r=e.clone(),i=this.clone(),o=f(1),a=f(0),u=f(0),s=f(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),t?(u.isEven()&&s.isEven()||(u.addTo(this,u),s.subTo(e,s)),u.rShiftTo(1,u)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);r.compareTo(i)>=0?(r.subTo(i,r),t&&o.subTo(u,o),a.subTo(s,a)):(i.subTo(r,i),t&&u.subTo(o,u),s.subTo(a,s))}return 0!=i.compareTo(n.ONE)?n.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s},n.prototype.pow=function(e){return this.exp(e,new w)},n.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},n.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=P[P.length-1]){for(t=0;t<P.length;++t)if(n[0]==P[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<P.length;){for(var r=P[t],i=t+1;i<P.length&&r<k;)r*=P[i++];for(r=n.modInt(r);t<i;)if(r%P[t++]==0)return!1}return n.millerRabin(e)},n.prototype.square=function(){var e=r();return this.squareTo(e),e},n.prototype.Barrett=_,null==T){var C;if(T=new Array,A=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var R=new Uint8Array(32);for(window.crypto.getRandomValues(R),C=0;C<32;++C)T[A++]=R[C]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var I=window.crypto.random(32);for(C=0;C<I.length;++C)T[A++]=255&I.charCodeAt(C)}for(;A<D;)C=Math.floor(65536*Math.random()),T[A++]=C>>>8,T[A++]=255&C;A=0,x()}function O(){if(null==S){for(x(),(S=new N).init(T),A=0;A<T.length;++A)T[A]=0;A=0}return S.next()}function M(){}function N(){this.i=0,this.j=0,this.S=new Array}M.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=O()},N.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},N.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var D=256;e.exports={default:n,BigInteger:n,SecureRandom:M}}).call(this)},function(e,t,n){"use strict";var r=n(856),i=n(16),o=n(34),a=n(59),u=n(24),s=n(111),c=n(60),f=function(e,t,n){this.OrdRecord0=e,this.bottomRecord=t,this.topRecord=n},l=function(e,t,n){this.Ord0=e,this.bottom=t,this.top=n},d=function(e){return e.topRecord},h=function(e){return e.top},p=new l((function(){return i.ordUnit}),u.unit,u.unit),m=new f((function(){return i.ordRecordNil}),(function(e){return function(e){return{}}}),(function(e){return function(e){return{}}})),y=new l((function(){return i.ordProxy3}),c.Proxy3.value,c.Proxy3.value),v=new l((function(){return i.ordProxy2}),c.Proxy2.value,c.Proxy2.value),g=new l((function(){return i.ordProxy}),c.Proxy.value,c.Proxy.value),b=new l((function(){return i.ordOrdering}),o.LT.value,o.GT.value),w=new l((function(){return i.ordNumber}),r.bottomNumber,r.topNumber),E=new l((function(){return i.ordInt}),r.bottomInt,r.topInt),_=new l((function(){return i.ordChar}),r.bottomChar,r.topChar),S=new l((function(){return i.ordBoolean}),!1,!0),T=function(e){return e.bottomRecord},A=function(e){return e.bottom};e.exports={Bounded:l,bottom:A,top:h,BoundedRecord:f,bottomRecord:T,topRecord:d,boundedBoolean:S,boundedInt:E,boundedChar:_,boundedOrdering:b,boundedUnit:p,boundedNumber:w,boundedProxy:g,boundedProxy2:v,boundedProxy3:y,boundedRecordNil:m,boundedRecordCons:function(e){return function(t){return function(n){return function(n){return function(n){return new f((function(){return i.ordRecordCons(n.OrdRecord0())()(e)(t.Ord0())}),(function(r){return function(r){var i=T(n)(c.Proxy.value)(r),o=a.reflectSymbol(e)(c.Proxy.value);return s.unsafeSet(o)(A(t))(i)}}),(function(r){return function(r){var i=d(n)(c.Proxy.value)(r),o=a.reflectSymbol(e)(c.Proxy.value);return s.unsafeSet(o)(h(t))(i)}}))}}}}},boundedRecord:function(e){return function(e){return new l((function(){return i.ordRecord()(e.OrdRecord0())}),T(e)(c.Proxy.value)(c.Proxy.value),d(e)(c.Proxy.value)(c.Proxy.value))}},EQ:i.EQ,GT:i.GT,LT:i.LT,Ord:i.Ord,OrdRecord:i.OrdRecord,compare:i.compare}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(131);const i=r.baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),o=r.baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});t.base58btc=i,t.base58flickr=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(281);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),o=r.from({name:"sha2-256",code:18,encode:i("SHA-256")}),a=r.from({name:"sha2-512",code:19,encode:i("SHA-512")});t.sha256=o,t.sha512=a},function(e,t){const n=(...e)=>{let t;for(;e.length;)t=e.shift()(t);return t},r=e=>e&&("function"==typeof e[Symbol.asyncIterator]||"function"==typeof e[Symbol.iterator]||"function"==typeof e.next),i=e=>e&&"function"==typeof e.sink&&r(e.source),o=e=>t=>(e.sink(t),e.source),a=(...e)=>{if(i(e[0])){const t=e[0];e[0]=()=>t.source}else if(r(e[0])){const t=e[0];e[0]=()=>t}if(e.length>1&&i(e[e.length-1])&&(e[e.length-1]=e[e.length-1].sink),e.length>2)for(let t=1;t<e.length-1;t++)i(e[t])&&(e[t]=o(e[t]));return n(...e)};e.exports=a,e.exports.pipe=a,e.exports.rawPipe=n,e.exports.isIterable=r,e.exports.isDuplex=i},function(e,t,n){"use strict";e.exports=function(e){if(null==e)return e;var t=/^[A-Z]+$/;return Object.keys(e).reduce((function(n,r){return t.test(r)?n[r.toLowerCase()]=e[r]:t.test(r[0])?n[r[0].toLowerCase()+r.slice(1)]=e[r]:n[r]=e[r],n}),{})}},function(e,t,n){"use strict";const r=n(6),{sha256:i}=n(65),{base58btc:o}=n(64),{Key:a}=n(47),u=n(416),s=n(417),{Record:c}=n(199),f=n(31),l=n(4),d=n(172),h=n(44),p=n(45),m=n(206);t.convertBuffer=async e=>(await i.digest(e)).digest,t.convertPeerId=async e=>(await i.digest(e.id)).digest,t.bufferToKey=e=>new a("/"+t.encodeBase32(e),!1),t.keyForPublicKey=e=>d([h("/pk/"),e.id]),t.isPublicKeyKey=e=>"/pk/"===p(e.slice(0,4)),t.fromPublicKeyKey=e=>new f(e.slice(4)),t.now=()=>Date.now(),t.encodeBase32=e=>p(e,"base32"),t.decodeBase32=e=>h(e,"base32"),t.sortClosestPeers=async(e,n)=>(await s(e,async e=>{const r=await t.convertPeerId(e);return{peer:e,distance:u(r,n)}})).sort(t.xorCompare).map(e=>e.peer),t.xorCompare=(e,t)=>u.compare(e.distance,t.distance),t.pathSize=(e,t)=>Math.ceil(e/t),t.createPutRecord=(e,t)=>{const n=new Date;return new c(e,t,n).serialize()},t.logger=(e,t)=>{const n=["libp2p","dht"];t&&n.push(t),e&&n.push(""+e.toB58String().slice(0,8)),r.formatters.b=e=>o.baseEncode(e);return Object.assign(r(n.join(":")),{error:r(n.concat(["error"]).join(":"))})},t.TimeoutError=class extends Error{get code(){return"ETIMEDOUT"}},t.withTimeout=(e,t)=>async function(...n){if(!t)return e(...n);let r;try{r=await m(e(...n),t)}catch(e){if(e instanceof m.TimeoutError)throw l(e,"ETIMEDOUT");throw e}return r},t.mapParallel=async function(e,t){const n=[];for await(const r of e)n.push(t(r));return Promise.all(n)}},function(e,t,n){"use strict";var r=n(860),i=n(59),o=n(24),a=n(111),u=n(60),s=function(e,t,n,r){this.addRecord=e,this.mulRecord=t,this.oneRecord=n,this.zeroRecord=r},c=function(e,t,n,r){this.add=e,this.mul=t,this.one=n,this.zero=r},f=function(e){return e.zeroRecord},l=function(e){return e.zero},d=new c((function(e){return function(e){return o.unit}}),(function(e){return function(e){return o.unit}}),o.unit,o.unit),h=new s((function(e){return function(e){return function(e){return{}}}}),(function(e){return function(e){return function(e){return{}}}}),(function(e){return function(e){return{}}}),(function(e){return function(e){return{}}})),p=new c((function(e){return function(e){return u.Proxy3.value}}),(function(e){return function(e){return u.Proxy3.value}}),u.Proxy3.value,u.Proxy3.value),m=new c((function(e){return function(e){return u.Proxy2.value}}),(function(e){return function(e){return u.Proxy2.value}}),u.Proxy2.value,u.Proxy2.value),y=new c((function(e){return function(e){return u.Proxy.value}}),(function(e){return function(e){return u.Proxy.value}}),u.Proxy.value,u.Proxy.value),v=new c(r.numAdd,r.numMul,1,0),g=new c(r.intAdd,r.intMul,1,0),b=function(e){return e.oneRecord},w=function(e){return e.one},E=function(e){return e.mulRecord},_=function(e){return e.mul},S=function(e){return e.addRecord},T=function(e){return e.add};e.exports={Semiring:c,add:T,zero:l,mul:_,one:w,SemiringRecord:s,addRecord:S,mulRecord:E,oneRecord:b,zeroRecord:f,semiringInt:g,semiringNumber:v,semiringFn:function(e){return new c((function(t){return function(n){return function(r){return T(e)(t(r))(n(r))}}}),(function(t){return function(n){return function(r){return _(e)(t(r))(n(r))}}}),(function(t){return w(e)}),(function(t){return l(e)}))},semiringUnit:d,semiringProxy:y,semiringProxy2:m,semiringProxy3:p,semiringRecord:function(e){return function(e){return new c(S(e)(u.Proxy.value),E(e)(u.Proxy.value),b(e)(u.Proxy.value)(u.Proxy.value),f(e)(u.Proxy.value)(u.Proxy.value))}},semiringRecordNil:h,semiringRecordCons:function(e){return function(t){return function(t){return function(n){return new s((function(r){return function(r){return function(o){var s=S(t)(u.Proxy.value)(r)(o),c=i.reflectSymbol(e)(u.Proxy.value),f=a.unsafeSet(c),l=a.unsafeGet(c);return f(T(n)(l(r))(l(o)))(s)}}}),(function(r){return function(r){return function(o){var s=E(t)(u.Proxy.value)(r)(o),c=i.reflectSymbol(e)(u.Proxy.value),f=a.unsafeSet(c),l=a.unsafeGet(c);return f(_(n)(l(r))(l(o)))(s)}}}),(function(r){return function(r){var o=b(t)(u.Proxy.value)(u.Proxy.value),s=i.reflectSymbol(e)(u.Proxy.value);return a.unsafeSet(s)(w(n))(o)}}),(function(r){return function(r){var o=f(t)(u.Proxy.value)(u.Proxy.value),s=i.reflectSymbol(e)(u.Proxy.value);return a.unsafeSet(s)(l(n))(o)}}))}}}}}},function(e,t,n){"use strict";var r,i=n(32),o=n(50),a=n(11),u=n(19),s=n(15),c=n(25),f=n(145),l=n(105),d=n(40),h=n(93),p=n(73),m=n(46),y=n(13),v=n(36),g=n(127),b=n(23),w=n(2),E=n(107),_=n(5),S=n(28),T=n(26),A=n(146),P=n(16),k=n(34),x=n(20),C=n(188),R=n(69),I=n(18),O=n(56),M=n(163),N=n(29),D=n(79),L=n(113),j=function(){function e(){}return e.value=new e,e}(),B=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),F=function(e){return e},U=function(e){return new B(e.value0,e.value1)},q=new T.Newtype((function(){})),H=function(e){return function(t){return new A.NonEmpty(e,new B(t.value0,t.value1))}},K=new w.Functor((function(e){var t;return t=j.value,function(n){var r,i=t,o=!1;function a(t,r){return r instanceof B&&r.value1 instanceof B&&r.value1.value1 instanceof B?(i=new B(r,t),void(n=r.value1.value1.value1)):(o=!0,(u=t,function(t){for(var n,r,i,o=u,a=!1;!a;)i=t,n=(r=o)instanceof B&&r.value0 instanceof B&&r.value0.value1 instanceof B&&r.value0.value1.value1 instanceof B?(o=r.value1,void(t=new B(e(r.value0.value0),new B(e(r.value0.value1.value0),new B(e(r.value0.value1.value1.value0),i))))):(a=!0,i);return n})((a=r)instanceof B&&a.value1 instanceof B&&a.value1.value1 instanceof j?new B(e(a.value0),new B(e(a.value1.value0),j.value)):a instanceof B&&a.value1 instanceof j?new B(e(a.value0),j.value):j.value));var a,u}for(;!o;)r=a(i,n);return r}})),V=A.functorNonEmpty(K),z=new v.Foldable((function(e){return function(t){return v.foldl(z)((function(n){var r=x.append(e.Semigroup0())(n);return function(e){return r(t(e))}}))(S.mempty(e))}}),(function(e){return function(t){return function(n){var r,i=t,o=!1;function a(t,r){if(r instanceof j)return o=!0,t;if(r instanceof B)return i=e(t)(r.value0),void(n=r.value1);throw new Error("Failed pattern match at Data.List.Types (line 112, column 12 - line 114, column 30): "+[r.constructor.name])}for(;!o;)r=a(i,n);return r}}}),(function(e){return function(t){var n,r=(n=j.value,function(e){var t,r=n,i=!1;function o(t,n){if(n instanceof j)return i=!0,t;if(n instanceof B)return r=new B(n.value0,t),void(e=n.value1);throw new Error("Failed pattern match at Data.List.Types (line 108, column 7 - line 108, column 23): "+[t.constructor.name,n.constructor.name])}for(;!i;)t=o(r,e);return t}),i=v.foldl(z)(b.flip(e))(t);return function(e){return i(r(e))}}})),W=A.foldableNonEmpty(z),G=new g.FoldableWithIndex((function(){return z}),(function(e){return function(t){return g.foldlWithIndex(G)((function(n){return function(r){var i=x.append(e.Semigroup0())(r),o=t(n);return function(e){return i(o(e))}}}))(S.mempty(e))}}),(function(e){return function(t){var n=v.foldl(z)((function(t){return function(n){return new N.Tuple(t.value0+1|0,e(t.value0)(t.value1)(n))}}))(new N.Tuple(0,t));return function(e){return N.snd(n(e))}}}),(function(e){return function(t){return function(n){var r=v.foldl(z)((function(e){return function(t){return new N.Tuple(e.value0+1|0,new B(t,e.value1))}}))(new N.Tuple(0,j.value))(n);return N.snd(v.foldl(z)((function(t){return function(n){return new N.Tuple(t.value0-1|0,e(t.value0-1|0)(n)(t.value1))}}))(new N.Tuple(r.value0,t))(r.value1))}}})),$=new g.FoldableWithIndex((function(){return W}),(function(e){return function(t){return function(n){return g.foldMapWithIndex(A.foldableWithIndexNonEmpty(G))(e)((r=_.maybe(0)(R.add(R.semiringInt)(1)),function(e){return t(r(e))}))(n);var r}}}),(function(e){return function(t){return function(n){return g.foldlWithIndex(A.foldableWithIndexNonEmpty(G))((r=_.maybe(0)(R.add(R.semiringInt)(1)),function(t){return e(r(t))}))(t)(n);var r}}}),(function(e){return function(t){return function(n){return g.foldrWithIndex(A.foldableWithIndexNonEmpty(G))((r=_.maybe(0)(R.add(R.semiringInt)(1)),function(t){return e(r(t))}))(t)(n);var r}}})),J=new E.FunctorWithIndex((function(){return K}),(function(e){return g.foldrWithIndex(G)((function(t){return function(n){return function(r){return new B(e(t)(n),r)}}}))(j.value)})),Q=new E.FunctorWithIndex((function(){return V}),(function(e){return function(t){return E.mapWithIndex(A.functorWithIndex(J))((n=_.maybe(0)(R.add(R.semiringInt)(1)),function(t){return e(n(t))}))(t);var n}})),Y=new x.Semigroup((function(e){return function(t){return v.foldr(z)(B.create)(t)(e)}})),X=new S.Monoid((function(){return Y}),j.value),Z=new x.Semigroup((function(e){return function(t){return new A.NonEmpty(e.value0,x.append(Y)(e.value1)(U(t)))}})),ee=function(e){return new I.Show((function(t){return t instanceof j?"Nil":"("+v.intercalate(z)(S.monoidString)(" : ")(w.map(K)(I.show(e))(t))+" : Nil)"}))},te=new O.Traversable((function(){return z}),(function(){return K}),(function(e){return O.traverse(te)(e)(c.identity(c.categoryFn))}),(function(e){return function(t){var n=w.map(e.Apply0().Functor0())(v.foldl(z)(b.flip(B.create))(j.value)),r=v.foldl(z)((function(n){var r=u.lift2(e.Apply0())(b.flip(B.create))(n);return function(e){return r(t(e))}}))(a.pure(e)(j.value));return function(e){return n(r(e))}}})),ne=A.traversableNonEmpty(te),re=new M.TraversableWithIndex((function(){return G}),(function(){return J}),(function(){return te}),(function(e){return function(t){var n=v.foldl(z)(b.flip(B.create))(j.value),r=w.map(e.Apply0().Functor0())(n),i=g.foldlWithIndex(G)((function(n){return function(r){var i=u.lift2(e.Apply0())(b.flip(B.create))(r),o=t(n);return function(e){return i(o(e))}}}))(a.pure(e)(j.value));return function(e){return r(i(e))}}})),ie=new M.TraversableWithIndex((function(){return $}),(function(){return Q}),(function(){return ne}),(function(e){return function(t){return function(n){return w.map(e.Apply0().Functor0())(F)(M.traverseWithIndex(A.traversableWithIndexNonEmpty(re))(e)((r=_.maybe(0)(R.add(R.semiringInt)(1)),function(e){return t(r(e))}))(n));var r}}})),oe=new L.Unfoldable1((function(e){return function(t){var n;return(n=t,function(t){var r,i=n,o=!1;function a(n,r){var a=e(n);if(a.value1 instanceof _.Just)return i=a.value1.value0,void(t=new B(a.value0,r));if(a.value1 instanceof _.Nothing)return o=!0,v.foldl(z)(b.flip(B.create))(j.value)(new B(a.value0,r));throw new Error("Failed pattern match at Data.List.Types (line 136, column 22 - line 138, column 61): "+[a.constructor.name])}for(;!o;)r=a(i,t);return r})(j.value)}})),ae=new D.Unfoldable((function(){return oe}),(function(e){return function(t){var n;return(n=t,function(t){var r,i=n,o=!1;function a(n,r){var a=e(n);if(a instanceof _.Nothing)return o=!0,v.foldl(z)(b.flip(B.create))(j.value)(r);if(a instanceof _.Just)return i=a.value0.value1,void(t=new B(a.value0.value0,r));throw new Error("Failed pattern match at Data.List.Types (line 143, column 22 - line 145, column 52): "+[a.constructor.name])}for(;!o;)r=a(i,t);return r})(j.value)}})),ue=A.unfoldable1NonEmpty(ae),se=A.foldable1NonEmpty(z),ce=new l.Extend((function(){return V}),(function(e){return function(t){return new A.NonEmpty(e(t),v.foldr(z)((function(t){return function(n){return{val:new B(e(new A.NonEmpty(t,n.acc)),n.val),acc:new B(t,n.acc)}}}))({val:j.value,acc:j.value})(t.value1).val)}})),fe=new l.Extend((function(){return K}),(function(e){return function(t){if(t instanceof j)return j.value;if(t instanceof B){return new B(e(t),v.foldr(z)((function(t){return function(n){var r=new B(t,n.acc);return{val:new B(e(r),n.val),acc:r}}}))({val:j.value,acc:j.value})(t.value1).val)}throw new Error("Failed pattern match at Data.List.Types (line 183, column 1 - line 190, column 42): "+[e.constructor.name,t.constructor.name])}})),le=new y.Eq1((function(e){return function(t){return function(n){var r;return(r=t,function(t){return function(n){for(var i,o,a,u,s=r,c=t,f=!1;!f;)o=s,a=c,i=(u=n)?o instanceof j&&a instanceof j?(f=!0,u):o instanceof B&&a instanceof B?(s=o.value1,c=a.value1,void(n=u&&y.eq(e)(a.value0)(o.value0))):(f=!0,!1):(f=!0,!1);return i}})(n)(!0)}}})),de=A.eq1NonEmpty(le),he=function(e){return new y.Eq(y.eq1(le)(e))},pe=new P.Ord1((function(){return le}),(function(e){return function(t){return function(n){var r;return(r=t,function(t){var n,i=r,o=!1;function a(n,r){if(n instanceof j&&r instanceof j)return o=!0,k.EQ.value;if(n instanceof j)return o=!0,k.LT.value;if(r instanceof j)return o=!0,k.GT.value;if(n instanceof B&&r instanceof B){var a=P.compare(e)(n.value0)(r.value0);return a instanceof k.EQ?(i=n.value1,void(t=r.value1)):(o=!0,a)}throw new Error("Failed pattern match at Data.List.Types (line 61, column 5 - line 61, column 20): "+[n.constructor.name,r.constructor.name])}for(;!o;)n=a(i,t);return n})(n)}}})),me=A.ord1NonEmpty(pe),ye=new f.Comonad((function(){return ce}),(function(e){return e.value0})),ve=new u.Apply((function(){return K}),(function(e){return function(t){if(e instanceof j)return j.value;if(e instanceof B)return x.append(Y)(w.map(K)(e.value0)(t))(u.apply(ve)(e.value1)(t));throw new Error("Failed pattern match at Data.List.Types (line 158, column 1 - line 160, column 48): "+[e.constructor.name,t.constructor.name])}})),ge=new u.Apply((function(){return V}),(function(e){return function(t){return new A.NonEmpty(e.value0(t.value0),x.append(Y)(u.apply(ve)(e.value1)(new B(t.value0,j.value)))(u.apply(ve)(new B(e.value0,e.value1))(t.value1)))}})),be=new s.Bind((function(){return ve}),(function(e){return function(t){if(e instanceof j)return j.value;if(e instanceof B)return x.append(Y)(t(e.value0))(s.bind(be)(e.value1)(t));throw new Error("Failed pattern match at Data.List.Types (line 165, column 1 - line 167, column 37): "+[e.constructor.name,t.constructor.name])}})),we=new s.Bind((function(){return ge}),(function(e){return function(t){var n=t(e.value0);return new A.NonEmpty(n.value0,x.append(Y)(n.value1)(s.bind(be)(e.value1)((function(e){return U(t(e))}))))}})),Ee=new a.Applicative((function(){return ve}),(function(e){return new B(e,j.value)})),_e=new d.Monad((function(){return Ee}),(function(){return be})),Se=new i.Alt((function(){return V}),x.append(Z)),Te=new i.Alt((function(){return K}),x.append(Y)),Ae=new m.Plus((function(){return Te}),j.value),Pe=new o.Alternative((function(){return Ee}),(function(){return Ae})),ke=new h.MonadPlus((function(){return Pe}),(function(){return _e})),xe=new p.MonadZero((function(){return Pe}),(function(){return _e}),(function(){})),Ce=new a.Applicative((function(){return ge}),(r=A.singleton(Ae),function(e){return r(e)})),Re=new d.Monad((function(){return Ce}),(function(){return we})),Ie=new C.Traversable1((function(){return se}),(function(){return ne}),(function(e){return C.traverse1(Ie)(e)(c.identity(c.categoryFn))}),(function(e){return function(t){return function(n){return w.mapFlipped(e.Functor0())(v.foldl(z)((function(n){var r=u.lift2(e)(b.flip(H))(n);return function(e){return r(t(e))}}))(w.map(e.Functor0())(a.pure(Ce))(t(n.value0)))(n.value1))((function(e){return v.foldl(z)(b.flip(H))(a.pure(Ce)(e.value0))(e.value1)}))}}}));e.exports={Nil:j,Cons:B,NonEmptyList:F,toList:U,nelCons:H,showList:ee,eqList:he,eq1List:le,ordList:function(e){return new P.Ord((function(){return he(e.Eq0())}),P.compare1(pe)(e))},ord1List:pe,semigroupList:Y,monoidList:X,functorList:K,functorWithIndexList:J,foldableList:z,foldableWithIndexList:G,unfoldable1List:oe,unfoldableList:ae,traversableList:te,traversableWithIndexList:re,applyList:ve,applicativeList:Ee,bindList:be,monadList:_e,altList:Te,plusList:Ae,alternativeList:Pe,monadZeroList:xe,monadPlusList:ke,extendList:fe,newtypeNonEmptyList:q,eqNonEmptyList:function(e){return A.eqNonEmpty(le)(e)},ordNonEmptyList:function(e){return A.ordNonEmpty(pe)(e)},eq1NonEmptyList:de,ord1NonEmptyList:me,showNonEmptyList:function(e){return new I.Show((function(t){return"(NonEmptyList "+I.show(A.showNonEmpty(e)(ee(e)))(t)+")"}))},functorNonEmptyList:V,applyNonEmptyList:ge,applicativeNonEmptyList:Ce,bindNonEmptyList:we,monadNonEmptyList:Re,altNonEmptyList:Se,extendNonEmptyList:ce,comonadNonEmptyList:ye,semigroupNonEmptyList:Z,foldableNonEmptyList:W,traversableNonEmptyList:ne,foldable1NonEmptyList:se,unfoldable1NonEmptyList:ue,functorWithIndexNonEmptyList:Q,foldableWithIndexNonEmptyList:$,traversableWithIndexNonEmptyList:ie,traversable1NonEmptyList:Ie}},function(e,t,n){"use strict";t.messages={NOT_STARTED_YET:"The libp2p node is not started yet",DHT_DISABLED:"DHT is not available",CONN_ENCRYPTION_REQUIRED:"At least one connection encryption module is required"},t.codes={DHT_DISABLED:"ERR_DHT_DISABLED",PUBSUB_NOT_STARTED:"ERR_PUBSUB_NOT_STARTED",DHT_NOT_STARTED:"ERR_DHT_NOT_STARTED",CONN_ENCRYPTION_REQUIRED:"ERR_CONN_ENCRYPTION_REQUIRED",ERR_INVALID_PROTOCOLS_FOR_STREAM:"ERR_INVALID_PROTOCOLS_FOR_STREAM",ERR_CONNECTION_ENDED:"ERR_CONNECTION_ENDED",ERR_CONNECTION_FAILED:"ERR_CONNECTION_FAILED",ERR_NODE_NOT_STARTED:"ERR_NODE_NOT_STARTED",ERR_ALREADY_ABORTED:"ERR_ALREADY_ABORTED",ERR_TOO_MANY_ADDRESSES:"ERR_TOO_MANY_ADDRESSES",ERR_NO_VALID_ADDRESSES:"ERR_NO_VALID_ADDRESSES",ERR_RELAYED_DIAL:"ERR_RELAYED_DIAL",ERR_DIALED_SELF:"ERR_DIALED_SELF",ERR_DISCOVERED_SELF:"ERR_DISCOVERED_SELF",ERR_DUPLICATE_TRANSPORT:"ERR_DUPLICATE_TRANSPORT",ERR_ENCRYPTION_FAILED:"ERR_ENCRYPTION_FAILED",ERR_HOP_REQUEST_FAILED:"ERR_HOP_REQUEST_FAILED",ERR_INVALID_KEY:"ERR_INVALID_KEY",ERR_INVALID_MESSAGE:"ERR_INVALID_MESSAGE",ERR_INVALID_PARAMETERS:"ERR_INVALID_PARAMETERS",ERR_INVALID_PEER:"ERR_INVALID_PEER",ERR_MUXER_UNAVAILABLE:"ERR_MUXER_UNAVAILABLE",ERR_TIMEOUT:"ERR_TIMEOUT",ERR_TRANSPORT_UNAVAILABLE:"ERR_TRANSPORT_UNAVAILABLE",ERR_TRANSPORT_DIAL_FAILED:"ERR_TRANSPORT_DIAL_FAILED",ERR_UNSUPPORTED_PROTOCOL:"ERR_UNSUPPORTED_PROTOCOL",ERR_INVALID_MULTIADDR:"ERR_INVALID_MULTIADDR",ERR_SIGNATURE_NOT_VALID:"ERR_SIGNATURE_NOT_VALID"}},function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(801).Buffer}catch(e){}function u(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function s(e,t,n){var r=u(e,n);return n-1>=t&&(r|=u(e,n-1)<<4),r}function c(e,t,n,r){for(var i=0,o=Math.min(e.length,n),a=t;a<o;a++){var u=e.charCodeAt(a)-48;i*=r,i+=u>=49?u-49+10:u>=17?u-17+10:u}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,u=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<u&67108863,this.words[o+1]=a>>>26-u&67108863,(u+=24)>=26&&(u-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<u&67108863,this.words[o+1]=a>>>26-u&67108863,(u+=24)>=26&&(u-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=s(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=s(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,u=Math.min(o,o-a)+n,s=0,f=n;f<u;f+=r)s=c(e,f,f+r,t),this.imuln(i),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==a){var l=1;for(s=c(e,f,e.length,t),f=0;f<a;f++)l*=t;this.imuln(l),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,u=67108863&a,s=a/67108864|0;n.words[0]=u;for(var c=1;c<r;c++){for(var f=s>>>26,l=67108863&s,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var p=c-h|0;f+=(a=(i=0|e.words[p])*(o=0|t.words[h])+l)/67108864|0,l=67108863&a}n.words[c]=0|l,s=0|f}return 0!==s?n.words[c]=0|s:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var u=this.words[a],s=(16777215&(u<<i|o)).toString(16);n=0!==(o=u>>>24-i&16777215)||a!==this.length-1?f[6-s.length]+s+n:s+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=l[e],h=d[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(h).toString(e);n=(p=p.idivn(h)).isZero()?m+n:f[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r(void 0!==a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,u,s="le"===t,c=new e(o),f=this.clone();if(s){for(u=0;!f.isZero();u++)a=f.andln(255),f.iushrn(8),c[u]=a;for(;u<o;u++)c[u]=0}else{for(u=0;u<o-i;u++)c[u]=0;for(u=0;!f.isZero();u++)a=f.andln(255),f.iushrn(8),c[o-u-1]=a}return c},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var r,i,o,a=e.words,u=t.words,s=n.words,c=0,f=0|a[0],l=8191&f,d=f>>>13,h=0|a[1],p=8191&h,m=h>>>13,y=0|a[2],v=8191&y,g=y>>>13,b=0|a[3],w=8191&b,E=b>>>13,_=0|a[4],S=8191&_,T=_>>>13,A=0|a[5],P=8191&A,k=A>>>13,x=0|a[6],C=8191&x,R=x>>>13,I=0|a[7],O=8191&I,M=I>>>13,N=0|a[8],D=8191&N,L=N>>>13,j=0|a[9],B=8191&j,F=j>>>13,U=0|u[0],q=8191&U,H=U>>>13,K=0|u[1],V=8191&K,z=K>>>13,W=0|u[2],G=8191&W,$=W>>>13,J=0|u[3],Q=8191&J,Y=J>>>13,X=0|u[4],Z=8191&X,ee=X>>>13,te=0|u[5],ne=8191&te,re=te>>>13,ie=0|u[6],oe=8191&ie,ae=ie>>>13,ue=0|u[7],se=8191&ue,ce=ue>>>13,fe=0|u[8],le=8191&fe,de=fe>>>13,he=0|u[9],pe=8191&he,me=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ye=(c+(r=Math.imul(l,q))|0)+((8191&(i=(i=Math.imul(l,H))+Math.imul(d,q)|0))<<13)|0;c=((o=Math.imul(d,H))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,H))+Math.imul(m,q)|0,o=Math.imul(m,H);var ve=(c+(r=r+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,z)|0)+Math.imul(d,V)|0))<<13)|0;c=((o=o+Math.imul(d,z)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(v,q),i=(i=Math.imul(v,H))+Math.imul(g,q)|0,o=Math.imul(g,H),r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,z)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,z)|0;var ge=(c+(r=r+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,$)|0)+Math.imul(d,G)|0))<<13)|0;c=((o=o+Math.imul(d,$)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(w,q),i=(i=Math.imul(w,H))+Math.imul(E,q)|0,o=Math.imul(E,H),r=r+Math.imul(v,V)|0,i=(i=i+Math.imul(v,z)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,z)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,$)|0;var be=(c+(r=r+Math.imul(l,Q)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(d,Q)|0))<<13)|0;c=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(S,q),i=(i=Math.imul(S,H))+Math.imul(T,q)|0,o=Math.imul(T,H),r=r+Math.imul(w,V)|0,i=(i=i+Math.imul(w,z)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,z)|0,r=r+Math.imul(v,G)|0,i=(i=i+Math.imul(v,$)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,$)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,Y)|0;var we=(c+(r=r+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(d,Z)|0))<<13)|0;c=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(P,q),i=(i=Math.imul(P,H))+Math.imul(k,q)|0,o=Math.imul(k,H),r=r+Math.imul(S,V)|0,i=(i=i+Math.imul(S,z)|0)+Math.imul(T,V)|0,o=o+Math.imul(T,z)|0,r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,$)|0,r=r+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,Y)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0;var Ee=(c+(r=r+Math.imul(l,ne)|0)|0)+((8191&(i=(i=i+Math.imul(l,re)|0)+Math.imul(d,ne)|0))<<13)|0;c=((o=o+Math.imul(d,re)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(C,q),i=(i=Math.imul(C,H))+Math.imul(R,q)|0,o=Math.imul(R,H),r=r+Math.imul(P,V)|0,i=(i=i+Math.imul(P,z)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,z)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,$)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,Y)|0,r=r+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,re)|0;var _e=(c+(r=r+Math.imul(l,oe)|0)|0)+((8191&(i=(i=i+Math.imul(l,ae)|0)+Math.imul(d,oe)|0))<<13)|0;c=((o=o+Math.imul(d,ae)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(O,q),i=(i=Math.imul(O,H))+Math.imul(M,q)|0,o=Math.imul(M,H),r=r+Math.imul(C,V)|0,i=(i=i+Math.imul(C,z)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,z)|0,r=r+Math.imul(P,G)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,Y)|0,r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,ee)|0,r=r+Math.imul(v,ne)|0,i=(i=i+Math.imul(v,re)|0)+Math.imul(g,ne)|0,o=o+Math.imul(g,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var Se=(c+(r=r+Math.imul(l,se)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(d,se)|0))<<13)|0;c=((o=o+Math.imul(d,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,q),i=(i=Math.imul(D,H))+Math.imul(L,q)|0,o=Math.imul(L,H),r=r+Math.imul(O,V)|0,i=(i=i+Math.imul(O,z)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,z)|0,r=r+Math.imul(C,G)|0,i=(i=i+Math.imul(C,$)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,$)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,Y)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,re)|0,r=r+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,ae)|0,r=r+Math.imul(p,se)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,se)|0,o=o+Math.imul(m,ce)|0;var Te=(c+(r=r+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,de)|0)+Math.imul(d,le)|0))<<13)|0;c=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,q),i=(i=Math.imul(B,H))+Math.imul(F,q)|0,o=Math.imul(F,H),r=r+Math.imul(D,V)|0,i=(i=i+Math.imul(D,z)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,z)|0,r=r+Math.imul(O,G)|0,i=(i=i+Math.imul(O,$)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,$)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,Y)|0,r=r+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(T,ne)|0,o=o+Math.imul(T,re)|0,r=r+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,r=r+Math.imul(v,se)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(g,se)|0,o=o+Math.imul(g,ce)|0,r=r+Math.imul(p,le)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(m,le)|0,o=o+Math.imul(m,de)|0;var Ae=(c+(r=r+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,me)|0)+Math.imul(d,pe)|0))<<13)|0;c=((o=o+Math.imul(d,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(B,V),i=(i=Math.imul(B,z))+Math.imul(F,V)|0,o=Math.imul(F,z),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,$)|0,r=r+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,Y)|0,r=r+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,ee)|0,r=r+Math.imul(P,ne)|0,i=(i=i+Math.imul(P,re)|0)+Math.imul(k,ne)|0,o=o+Math.imul(k,re)|0,r=r+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,ae)|0,r=r+Math.imul(w,se)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(E,se)|0,o=o+Math.imul(E,ce)|0,r=r+Math.imul(v,le)|0,i=(i=i+Math.imul(v,de)|0)+Math.imul(g,le)|0,o=o+Math.imul(g,de)|0;var Pe=(c+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(B,G),i=(i=Math.imul(B,$))+Math.imul(F,G)|0,o=Math.imul(F,$),r=r+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,Y)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,Y)|0,r=r+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,ee)|0,r=r+Math.imul(C,ne)|0,i=(i=i+Math.imul(C,re)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,re)|0,r=r+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,r=r+Math.imul(S,se)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(T,se)|0,o=o+Math.imul(T,ce)|0,r=r+Math.imul(w,le)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(E,le)|0,o=o+Math.imul(E,de)|0;var ke=(c+(r=r+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,me)|0)+Math.imul(g,pe)|0))<<13)|0;c=((o=o+Math.imul(g,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,Y))+Math.imul(F,Q)|0,o=Math.imul(F,Y),r=r+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,re)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,re)|0,r=r+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,r=r+Math.imul(P,se)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(k,se)|0,o=o+Math.imul(k,ce)|0,r=r+Math.imul(S,le)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(T,le)|0,o=o+Math.imul(T,de)|0;var xe=(c+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(B,Z),i=(i=Math.imul(B,ee))+Math.imul(F,Z)|0,o=Math.imul(F,ee),r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,r=r+Math.imul(C,se)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(R,se)|0,o=o+Math.imul(R,ce)|0,r=r+Math.imul(P,le)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(k,le)|0,o=o+Math.imul(k,de)|0;var Ce=(c+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,me)|0)+Math.imul(T,pe)|0))<<13)|0;c=((o=o+Math.imul(T,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(B,ne),i=(i=Math.imul(B,re))+Math.imul(F,ne)|0,o=Math.imul(F,re),r=r+Math.imul(D,oe)|0,i=(i=i+Math.imul(D,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,r=r+Math.imul(O,se)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(M,se)|0,o=o+Math.imul(M,ce)|0,r=r+Math.imul(C,le)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(R,le)|0,o=o+Math.imul(R,de)|0;var Re=(c+(r=r+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,me)|0)+Math.imul(k,pe)|0))<<13)|0;c=((o=o+Math.imul(k,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(B,oe),i=(i=Math.imul(B,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),r=r+Math.imul(D,se)|0,i=(i=i+Math.imul(D,ce)|0)+Math.imul(L,se)|0,o=o+Math.imul(L,ce)|0,r=r+Math.imul(O,le)|0,i=(i=i+Math.imul(O,de)|0)+Math.imul(M,le)|0,o=o+Math.imul(M,de)|0;var Ie=(c+(r=r+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(B,se),i=(i=Math.imul(B,ce))+Math.imul(F,se)|0,o=Math.imul(F,ce),r=r+Math.imul(D,le)|0,i=(i=i+Math.imul(D,de)|0)+Math.imul(L,le)|0,o=o+Math.imul(L,de)|0;var Oe=(c+(r=r+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,me)|0)+Math.imul(M,pe)|0))<<13)|0;c=((o=o+Math.imul(M,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(B,le),i=(i=Math.imul(B,de))+Math.imul(F,le)|0,o=Math.imul(F,de);var Me=(c+(r=r+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,me)|0)+Math.imul(L,pe)|0))<<13)|0;c=((o=o+Math.imul(L,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863;var Ne=(c+(r=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,me))+Math.imul(F,pe)|0))<<13)|0;return c=((o=Math.imul(F,me))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,s[0]=ye,s[1]=ve,s[2]=ge,s[3]=be,s[4]=we,s[5]=Ee,s[6]=_e,s[7]=Se,s[8]=Te,s[9]=Ae,s[10]=Pe,s[11]=ke,s[12]=xe,s[13]=Ce,s[14]=Re,s[15]=Ie,s[16]=Oe,s[17]=Me,s[18]=Ne,0!==c&&(s[19]=c,n.length++),n};function m(e,t,n){return(new y).mulp(e,t,n)}function y(e,t){this.x=e,this.y=t}Math.imul||(p=h),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):n<63?h(this,e,t):n<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var u=67108863&r,s=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=s;c++){var f=o-c,l=(0|e.words[f])*(0|t.words[c]),d=67108863&l;u=67108863&(d=d+u|0),i+=(a=(a=a+(l/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}n.words[o]=u,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,e,t):m(this,e,t)},y.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},y.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},y.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},y.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var u=a<<1,s=Math.cos(2*Math.PI/u),c=Math.sin(2*Math.PI/u),f=0;f<i;f+=u)for(var l=s,d=c,h=0;h<a;h++){var p=n[f+h],m=r[f+h],y=n[f+h+a],v=r[f+h+a],g=l*y-d*v;v=l*v+d*y,y=g,n[f+h]=p+y,r[f+h]=m+v,n[f+h+a]=p-y,r[f+h+a]=m-v,h!==u&&(g=s*l-c*d,d=s*d+c*l,l=g)}},y.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},y.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},y.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},y.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),u=new Array(r),s=new Array(r),c=new Array(r),f=new Array(r),l=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,c,r),this.transform(a,o,u,s,r,i),this.transform(c,o,f,l,r,i);for(var h=0;h<r;h++){var p=u[h]*f[h]-s[h]*l[h];s[h]=u[h]*l[h]+s[h]*f[h],u[h]=p}return this.conjugate(u,s,r),this.transform(u,s,d,o,r,i),this.conjugate(d,o,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),m(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var u=this.words[t]&o,s=(0|this.words[t])-u<<n;this.words[t]=s|a,a=u>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),u=67108863^67108863>>>o<<o,s=n;if(i-=a,i=Math.max(0,i),s){for(var c=0;c<a;c++)s.words[c]=this.words[c];s.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&u}return s&&0!==f&&(s.words[s.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var u=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+u;var s=(0|e.words[i])*t;u=((o-=67108863&s)>>26)-(s/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)u=(o=(0|this.words[i+n])+u)>>26,this.words[i+n]=67108863&o;if(0===u)return this.strip();for(r(-1===u),u=0,i=0;i<this.length;i++)u=(o=-(0|this.words[i])+u)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var u,s=r.length-i.length;if("mod"!==t){(u=new o(null)).length=s+1,u.words=new Array(u.length);for(var c=0;c<u.length;c++)u.words[c]=0}var f=r.clone()._ishlnsubmul(i,1,s);0===f.negative&&(r=f,u&&(u.words[s]=1));for(var l=s-1;l>=0;l--){var d=67108864*(0|r.words[i.length+l])+(0|r.words[i.length+l-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(i,d,l);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,l),r.isZero()||(r.negative^=1);u&&(u.words[l]=d)}return u&&u.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:u||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(u=this.neg().divmod(e,t),"mod"!==t&&(i=u.div.neg()),"div"!==t&&(a=u.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(u=this.divmod(e.neg(),t),"mod"!==t&&(i=u.div.neg()),{div:i,mod:u.mod}):0!=(this.negative&e.negative)?(u=this.neg().divmod(e.neg(),t),"div"!==t&&(a=u.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:u.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,u},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),u=new o(0),s=new o(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var f=n.clone(),l=t.clone();!t.isZero();){for(var d=0,h=1;0==(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(f),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(u.isOdd()||s.isOdd())&&(u.iadd(f),s.isub(l)),u.iushrn(1),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(u),a.isub(s)):(n.isub(t),u.isub(i),s.isub(a))}return{a:u,b:s,gcd:n.iushln(c)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),u=new o(0),s=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,f=1;0==(t.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);for(var l=0,d=1;0==(n.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(n.iushrn(l);l-- >0;)u.isOdd()&&u.iadd(s),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(u)):(n.isub(t),u.isub(a))}return(i=0===t.cmpn(1)?a:u).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var u=0|this.words[a];o=(u+=o)>>>26,u&=67108863,this.words[a]=u}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new S(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function g(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},g.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},i(b,g),b.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[r-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,g),i(E,g),i(_,g),_.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new w;else if("p192"===e)t=new E;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return v[e]=t,t},S.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},S.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var u=new o(1).toRed(this),s=u.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(s);)f.redIAdd(s);for(var l=this.pow(f,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(u);){for(var m=h,y=0;0!==m.cmp(u);y++)m=m.redSqr();r(y<p);var v=this.pow(l,new o(1).iushln(p-y-1));d=d.redMul(v),l=v.redSqr(),h=h.redMul(l),p=y}return d},S.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,u=0,s=t.bitLength()%26;for(0===s&&(s=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],f=s-1;f>=0;f--){var l=c>>f&1;i!==n[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++u||0===r&&0===f)&&(i=this.mul(i,n[a]),u=0,a=0)):u=0}s=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new T(e)},i(T,S),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(481)(e))},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(40),c=n(46),f=n(2),l={},d=function(e,t,n){this.Alternative1=e,this.Monad0=t,this.MonadZeroIsDeprecated2=n},h=new d((function(){return i.alternativeArray}),(function(){return s.monadArray}),(function(){}));e.exports={MonadZeroIsDeprecated:l,MonadZero:d,monadZeroIsDeprecated:function(e){return l},monadZeroArray:h,Alt:r.Alt,alt:r.alt,Alternative:i.Alternative,guard:i.guard,Applicative:o.Applicative,liftA1:o.liftA1,pure:o.pure,unless:o.unless,when:o.when,Apply:a.Apply,apply:a.apply,Bind:u.Bind,bind:u.bind,ifM:u.ifM,join:u.join,Monad:s.Monad,ap:s.ap,liftM1:s.liftM1,Plus:c.Plus,empty:c.empty,Functor:f.Functor,map:f.map,void:f.void}},function(e,t,n){"use strict";var r=n(15),i=n(40),o=n(78),a=n(41),u=n(2),s=n(91),c=n(5),f=n(28),l=n(20),d=n(24),h=n(35),p=n(112),m=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),y=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),v=function(e,t){this.Monad0=e,this.tailRecM=t},g=function(e){return e.tailRecM},b=function(e){return function(t){return function(t){var n,r=!1;function i(n){if(!(n instanceof m)){if(n instanceof y)return r=!0,n.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 93, column 3 - line 93, column 25): "+[n.constructor.name])}t=e(n.value0)}for(;!r;)n=i(t);return n}(e(t))}},w=new v((function(){return c.monadMaybe}),(function(e){return function(t){return b((function(t){if(t instanceof c.Nothing)return new y(c.Nothing.value);if(t instanceof c.Just&&t.value0 instanceof m)return new m(e(t.value0.value0));if(t instanceof c.Just&&t.value0 instanceof y)return new y(new c.Just(t.value0.value0));throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 129, column 7 - line 129, column 31): "+[t.constructor.name])}))(e(t))}})),E=new v((function(){return s.monadIdentity}),(function(e){var t=b((function(t){return e(t)}));return function(e){return s.Identity(t(e))}})),_=new v((function(){return i.monadFn}),(function(e){return function(t){return function(n){return b((function(t){return e(t)(n)}))(t)}}})),S=new v((function(){return a.monadEither}),(function(e){return function(t){return b((function(t){if(t instanceof a.Left)return new y(new a.Left(t.value0));if(t instanceof a.Right&&t.value0 instanceof m)return new m(e(t.value0.value0));if(t instanceof a.Right&&t.value0 instanceof y)return new y(new a.Right(t.value0.value0));throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 121, column 7 - line 121, column 33): "+[t.constructor.name])}))(e(t))}})),T=new v((function(){return h.monadEffect}),(function(e){return function(t){var n=function(e){if(e instanceof y)return e.value0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 113, column 30 - line 113, column 44): "+[e.constructor.name])};return function(){var i=r.bindFlipped(h.bindEffect)(p.new)(e(t))();return function(){for(;!function(){var t=p.read(i)();if(t instanceof m){var n=e(t.value0)();return p.write(n)(i)(),!1}if(t instanceof y)return!0;throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 104, column 22 - line 109, column 28): "+[t.constructor.name])}(););}(),u.map(h.functorEffect)(n)(p.read(i))()}}})),A=new u.Functor((function(e){return function(t){if(t instanceof m)return new m(t.value0);if(t instanceof y)return new y(e(t.value0));throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 27, column 1 - line 27, column 48): "+[t.constructor.name])}})),P=new o.Bifunctor((function(e){return function(t){return function(n){if(n instanceof m)return new m(e(n.value0));if(n instanceof y)return new y(t(n.value0));throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 29, column 1 - line 31, column 34): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}}));e.exports={Loop:m,Done:y,MonadRec:v,tailRec:b,tailRecM:g,tailRecM2:function(e){return function(t){return function(n){return function(r){return g(e)((function(e){return t(e.a)(e.b)}))({a:n,b:r})}}}},tailRecM3:function(e){return function(t){return function(n){return function(r){return function(i){return g(e)((function(e){return t(e.a)(e.b)(e.c)}))({a:n,b:r,c:i})}}}}},forever:function(e){return function(t){return g(e)((function(n){return u.voidRight(e.Monad0().Bind1().Apply0().Functor0())(new m(n))(t)}))(d.unit)}},whileJust:function(e){return function(t){return function(n){return g(t)((function(r){return u.mapFlipped(t.Monad0().Bind1().Apply0().Functor0())(n)((function(t){if(t instanceof c.Nothing)return new y(r);if(t instanceof c.Just)return m.create(l.append(e.Semigroup0())(r)(t.value0));throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 148, column 45 - line 150, column 26): "+[t.constructor.name])}))}))(f.mempty(e))}}},untilJust:function(e){return function(t){return g(e)((function(n){return u.mapFlipped(e.Monad0().Bind1().Apply0().Functor0())(t)((function(e){if(e instanceof c.Nothing)return new m(d.unit);if(e instanceof c.Just)return new y(e.value0);throw new Error("Failed pattern match at Control.Monad.Rec.Class (line 155, column 43 - line 157, column 19): "+[e.constructor.name])}))}))(d.unit)}},functorStep:A,bifunctorStep:P,monadRecIdentity:E,monadRecEffect:T,monadRecFunction:_,monadRecEither:S,monadRecMaybe:w}},function(e,t,n){"use strict";e.exports={lift:function(e){return e.lift},MonadTrans:function(e){this.lift=e}}},function(e,t,n){"use strict";var r=n(952),i=n(50),o=n(19),a=n(15),u=n(54),s=n(63),c=n(41),f=n(13),l=n(23),d=n(2),h=n(5),p=n(26),m=n(16),y=n(34),v=n(18),g=n(29),b=n(79),w=n(113),E=n(24),_=function(e,t,n){this.Ord0=e,this.pred=t,this.succ=n},S=function(e){return e},T=function(e,t,n,r,i){this.Bounded0=e,this.Enum1=t,this.cardinality=n,this.fromEnum=r,this.toEnum=i},A=function(e){return e.toEnum},P=function(e){return e.succ},k=new v.Show((function(e){return"(Cardinality "+v.show(v.showInt)(e)+")"})),x=function(e){return e.pred},C=m.ordInt,R=new p.Newtype((function(){})),I=function(e){return e.fromEnum},O=f.eqInt,M=new _((function(){return m.ordUnit}),l.const(h.Nothing.value),l.const(h.Nothing.value)),N=new _((function(){return m.ordOrdering}),(function(e){if(e instanceof y.LT)return h.Nothing.value;if(e instanceof y.EQ)return new h.Just(y.LT.value);if(e instanceof y.GT)return new h.Just(y.EQ.value);throw new Error("Failed pattern match at Data.Enum (line 72, column 1 - line 78, column 20): "+[e.constructor.name])}),(function(e){if(e instanceof y.LT)return new h.Just(y.EQ.value);if(e instanceof y.EQ)return new h.Just(y.GT.value);if(e instanceof y.GT)return h.Nothing.value;throw new Error("Failed pattern match at Data.Enum (line 72, column 1 - line 78, column 20): "+[e.constructor.name])})),D=new _((function(){return m.ordInt}),(function(e){return e>s.bottom(s.boundedInt)?new h.Just(e-1|0):h.Nothing.value}),(function(e){return e<s.top(s.boundedInt)?new h.Just(e+1|0):h.Nothing.value})),L=new _((function(){return m.ordBoolean}),(function(e){return e?new h.Just(!1):h.Nothing.value}),(function(e){return e?h.Nothing.value:new h.Just(!0)})),j=function(e){return new g.Tuple(e,e)},B=function(e){return function(t){return function(n){return e(t(n)+1|0)}}},F=function(e){return function(t){return function(n){return e(t(n)-1|0)}}},U=function(e){return e>=s.bottom(s.boundedInt)&&e<=s.top(s.boundedInt)?new h.Just(r.fromCharCode(e)):h.Nothing.value},q=new _((function(){return m.ordChar}),F(U)(r.toCharCode),B(U)(r.toCharCode)),H=new T((function(){return s.boundedUnit}),(function(){return M}),1,l.const(0),(function(e){return 0===e?new h.Just(E.unit):h.Nothing.value})),K=new T((function(){return s.boundedOrdering}),(function(){return N}),3,(function(e){if(e instanceof y.LT)return 0;if(e instanceof y.EQ)return 1;if(e instanceof y.GT)return 2;throw new Error("Failed pattern match at Data.Enum (line 137, column 1 - line 145, column 18): "+[e.constructor.name])}),(function(e){return 0===e?new h.Just(y.LT.value):1===e?new h.Just(y.EQ.value):2===e?new h.Just(y.GT.value):h.Nothing.value})),V=new T((function(){return s.boundedChar}),(function(){return q}),r.toCharCode(s.top(s.boundedChar))-r.toCharCode(s.bottom(s.boundedChar))|0,r.toCharCode,U),z=new T((function(){return s.boundedBoolean}),(function(){return L}),2,(function(e){if(!e)return 0;if(e)return 1;throw new Error("Failed pattern match at Data.Enum (line 118, column 1 - line 124, column 20): "+[e.constructor.name])}),(function(e){return 0===e?new h.Just(!1):1===e?new h.Just(!0):h.Nothing.value}));e.exports={Enum:_,succ:P,pred:x,BoundedEnum:T,cardinality:function(e){return e.cardinality},toEnum:A,fromEnum:I,toEnumWithDefaults:function(e){return function(t){return function(n){return function(r){var i=A(e)(r);if(i instanceof h.Just)return i.value0;if(i instanceof h.Nothing)return r<I(e)(s.bottom(e.Bounded0()))?t:n;throw new Error("Failed pattern match at Data.Enum (line 158, column 33 - line 160, column 62): "+[i.constructor.name])}}}},Cardinality:S,enumFromTo:function(e){return function(t){var n=function(e){return function(t){return function(n){return function(r){return new g.Tuple(r,a.bind(h.bindMaybe)(e(r))((function(e){return d.voidLeft(h.functorMaybe)(i.guard(h.alternativeMaybe)(t(e)(n)))(e)})))}}}};return function(r){return function(i){if(f.eq(e.Ord0().Eq0())(r)(i))return w.singleton(t)(r);if(m.lessThan(e.Ord0())(r)(i))return w.unfoldr1(t)(n(P(e))(m.lessThanOrEq(e.Ord0()))(i))(r);if(u.otherwise)return w.unfoldr1(t)(n(x(e))(m.greaterThanOrEq(e.Ord0()))(i))(r);throw new Error("Failed pattern match at Data.Enum (line 186, column 14 - line 190, column 51): "+[r.constructor.name,i.constructor.name])}}}},enumFromThenTo:function(e){return function(t){return function(n){return function(r){return function(i){return function(o){var a,s,c,f=I(n)(o),l=I(n)(i),p=I(n)(r);return d.map(t)((s=h.fromJust(),c=A(n),function(e){return s(c(e))}))(b.unfoldr(e)((a=l-p|0,function(e){return function(t){if(t<=e)return new h.Just(new g.Tuple(t,t+a|0));if(u.otherwise)return h.Nothing.value;throw new Error("Failed pattern match at Data.Enum (line 217, column 5 - line 219, column 28): "+[a.constructor.name,e.constructor.name,t.constructor.name])}})(f))(p))}}}}}},upFrom:function(e){return function(t){return b.unfoldr(t)((n=d.map(h.functorMaybe)(j),r=P(e),function(e){return n(r(e))}));var n,r}},upFromIncluding:function(e){return function(t){return w.unfoldr1(t)(o.apply(o.applyFn)(g.Tuple.create)(P(e)))}},downFrom:function(e){return function(t){return b.unfoldr(t)((n=d.map(h.functorMaybe)(j),r=x(e),function(e){return n(r(e))}));var n,r}},downFromIncluding:function(e){return function(t){return w.unfoldr1(t)(o.apply(o.applyFn)(g.Tuple.create)(x(e)))}},defaultSucc:B,defaultPred:F,defaultCardinality:function(e){return function(t){var n;return(n=1,function(e){var r,i=n,o=!1;function a(n,r){var a=P(t)(r);if(a instanceof h.Just)return i=n+1|0,void(e=a.value0);if(a instanceof h.Nothing)return o=!0,n;throw new Error("Failed pattern match at Data.Enum (line 276, column 5 - line 278, column 19): "+[a.constructor.name])}for(;!o;)r=a(i,e);return r})(s.bottom(e))}},defaultToEnum:function(e){return function(t){return function(n){var r;return n<0?h.Nothing.value:(r=n,function(e){var n,i=r,o=!1;function a(n,r){if(0===n)return o=!0,new h.Just(r);var a=P(t)(r);if(a instanceof h.Just)return i=n-1|0,void(e=a.value0);if(a instanceof h.Nothing)return o=!0,h.Nothing.value;throw new Error("Failed pattern match at Data.Enum (line 296, column 12 - line 298, column 33): "+[a.constructor.name])}for(;!o;)n=a(i,e);return n})(s.bottom(e))}}},defaultFromEnum:function(e){var t;return t=0,function(n){var r,i=t,o=!1;function a(t,r){var a=x(e)(r);if(a instanceof h.Just)return i=t+1|0,void(n=a.value0);if(a instanceof h.Nothing)return o=!0,t;throw new Error("Failed pattern match at Data.Enum (line 309, column 5 - line 311, column 19): "+[a.constructor.name])}for(;!o;)r=a(i,n);return r}},enumBoolean:L,enumInt:D,enumChar:q,enumUnit:M,enumOrdering:N,enumMaybe:function(e){return new _((function(){return h.ordMaybe(e.Enum1().Ord0())}),(function(t){if(t instanceof h.Nothing)return h.Nothing.value;if(t instanceof h.Just)return new h.Just(x(e.Enum1())(t.value0));throw new Error("Failed pattern match at Data.Enum (line 80, column 1 - line 84, column 32): "+[t.constructor.name])}),(function(t){if(t instanceof h.Nothing)return new h.Just(new h.Just(s.bottom(e.Bounded0())));if(t instanceof h.Just)return d.map(h.functorMaybe)(h.Just.create)(P(e.Enum1())(t.value0));throw new Error("Failed pattern match at Data.Enum (line 80, column 1 - line 84, column 32): "+[t.constructor.name])}))},enumEither:function(e){return function(t){return new _((function(){return c.ordEither(e.Enum1().Ord0())(t.Enum1().Ord0())}),(function(n){if(n instanceof c.Left)return h.maybe(h.Nothing.value)((function(e){return h.Just.create(c.Left.create(e))}))(x(e.Enum1())(n.value0));if(n instanceof c.Right)return h.maybe(new h.Just(new c.Left(s.top(e.Bounded0()))))((function(e){return h.Just.create(c.Right.create(e))}))(x(t.Enum1())(n.value0));throw new Error("Failed pattern match at Data.Enum (line 86, column 1 - line 90, column 69): "+[n.constructor.name])}),(function(n){if(n instanceof c.Left)return h.maybe(new h.Just(new c.Right(s.bottom(t.Bounded0()))))((function(e){return h.Just.create(c.Left.create(e))}))(P(e.Enum1())(n.value0));if(n instanceof c.Right)return h.maybe(h.Nothing.value)((function(e){return h.Just.create(c.Right.create(e))}))(P(t.Enum1())(n.value0));throw new Error("Failed pattern match at Data.Enum (line 86, column 1 - line 90, column 69): "+[n.constructor.name])}))}},enumTuple:function(e){return function(t){return new _((function(){return g.ordTuple(e.Ord0())(t.Enum1().Ord0())}),(function(n){return h.maybe(d.map(h.functorMaybe)(l.flip(g.Tuple.create)(s.top(t.Bounded0())))(x(e)(n.value0)))((r=g.Tuple.create(n.value0),function(e){return h.Just.create(r(e))}))(x(t.Enum1())(n.value1));var r}),(function(n){return h.maybe(d.map(h.functorMaybe)(l.flip(g.Tuple.create)(s.bottom(t.Bounded0())))(P(e)(n.value0)))((r=g.Tuple.create(n.value0),function(e){return h.Just.create(r(e))}))(P(t.Enum1())(n.value1));var r}))}},boundedEnumBoolean:z,boundedEnumChar:V,boundedEnumUnit:H,boundedEnumOrdering:K,newtypeCardinality:R,eqCardinality:O,ordCardinality:C,showCardinality:k}},function(e,t,n){"use strict";const{Data:r}=n(1165),i=n(4),o=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],a=["directory","hamt-sharded-directory"],u=parseInt("0644",8),s=parseInt("0755",8);function c(e){if(null!=e)return"number"==typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function f(e){if(null==e)return;let t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){const n=e.getTime(),r=Math.floor(n/1e3);t={secs:r,nsecs:1e3*(n-1e3*r)}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw i(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}class l{static unmarshal(e){const t=r.decode(e),n=r.toObject(t,{defaults:!1,arrays:!0,longs:Number,objects:!1}),i=new l({type:o[n.Type],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:n.mtime?{secs:n.mtime.Seconds,nsecs:n.mtime.FractionalNanoseconds}:void 0});return i._originalMode=n.mode||0,i}constructor(e={type:"file"}){const{type:t,data:n,blockSizes:r,hashType:a,fanout:u,mtime:s,mode:l}=e;if(t&&!o.includes(t))throw i(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE");this.type=t||"file",this.data=n,this.hashType=a,this.fanout=u,this.blockSizes=r||[],this._originalMode=0,this.mode=c(l),s&&(this.mtime=f(s),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(e){this._mode=this.isDirectory()?s:u;const t=c(e);void 0!==t&&(this._mode=t)}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&a.includes(this.type))}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0;let e=0;return this.blockSizes.forEach(t=>{e+=t}),this.data&&(e+=this.data.length),e}marshal(){let e;switch(this.type){case"raw":e=r.DataType.Raw;break;case"directory":e=r.DataType.Directory;break;case"file":e=r.DataType.File;break;case"metadata":e=r.DataType.Metadata;break;case"symlink":e=r.DataType.Symlink;break;case"hamt-sharded-directory":e=r.DataType.HAMTShard;break;default:throw i(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let t,n,o=this.data;if(this.data&&this.data.length||(o=void 0),null!=this.mode&&(t=4294963200&this._originalMode|(c(this.mode)||0),t!==u||this.isDirectory()||(t=void 0),t===s&&this.isDirectory()&&(t=void 0)),null!=this.mtime){const e=f(this.mtime);e&&(n={Seconds:e.secs,FractionalNanoseconds:e.nsecs},0===n.FractionalNanoseconds&&delete n.FractionalNanoseconds)}const a={Type:e,Data:o,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:t,mtime:n};return r.encode(a).finish()}}e.exports={UnixFS:l,parseMode:c,parseMtime:f}},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(29),a=function(e){this.bimap=e},u=function(e){return e.bimap},s=new a((function(e){return function(t){return function(n){return new o.Tuple(e(n.value0),t(n.value1))}}})),c=new a((function(e){return function(t){return function(n){if(n instanceof i.Left)return new i.Left(e(n.value0));if(n instanceof i.Right)return new i.Right(t(n.value0));throw new Error("Failed pattern match at Data.Bifunctor (line 32, column 1 - line 34, column 36): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}})),f=new a((function(e){return function(t){return function(t){return e(t)}}}));e.exports={bimap:u,Bifunctor:a,lmap:function(e){return function(t){return u(e)(t)(r.identity(r.categoryFn))}},rmap:function(e){return u(e)(r.identity(r.categoryFn))},bifunctorEither:c,bifunctorTuple:s,bifunctorConst:f}},function(e,t,n){"use strict";var r=n(873),i=n(23),o=n(2),a=n(5),u=n(56),s=n(29),c=n(113),f=n(24),l=function(e,t){this.Unfoldable10=e,this.unfoldr=t},d=function(e){return e.unfoldr},h=new l((function(){return c.unfoldable1Maybe}),(function(e){return function(t){return o.map(a.functorMaybe)(s.fst)(e(t))}})),p=new l((function(){return c.unfoldable1Array}),r.unfoldrArrayImpl(a.isNothing)(a.fromJust())(s.fst)(s.snd)),m=function(e){return function(t){return function(n){return d(e)((function(e){return e<=0?a.Nothing.value:new a.Just(new s.Tuple(n,e-1|0))}))(t)}}};e.exports={Unfoldable:l,unfoldr:d,replicate:m,replicateA:function(e){return function(t){return function(n){return function(r){return function(i){return u.sequence(n)(e)(m(t)(r)(i))}}}}},none:function(e){return d(e)(i.const(a.Nothing.value))(f.unit)},fromMaybe:function(e){return d(e)((function(e){return o.map(a.functorMaybe)(i.flip(s.Tuple.create)(a.Nothing.value))(e)}))},unfoldableArray:p,unfoldableMaybe:h,Unfoldable1:c.Unfoldable1,range:c.range,replicate1:c.replicate1,replicate1A:c.replicate1A,singleton:c.singleton,unfoldr1:c.unfoldr1}},function(e,t,n){"use strict";e.exports=n(1103)},function(e,t,n){"use strict";const r=n(229),{CID:i}=n(12),o=n(47).Key,a=n(4),u=n(17),s=n(288),c=n(42),f=u(async(e,t)=>await e),l=async function*(e,t,n,r,o){const u=async e=>{const t=await n.getCodec(e.code),i=await r.blocks.get(e,o);return t.decode(i)},s=t.split("/").filter(Boolean);let f=await u(e),l=e;for(s.length||(yield{value:f,remainderPath:""});s.length;){const n=s.shift();if(!n)throw a(new Error(`Could not resolve path "${t}"`),"ERR_INVALID_PATH");if(e.code===c.code&&Array.isArray(f.Links)){const e=f.Links.find(e=>e.Name===n);if(e){yield{value:e.Hash,remainderPath:s.join("/")},f=await u(e.Hash),l=e.Hash;continue}}if(!Object.prototype.hasOwnProperty.call(f,n))throw a(new Error(`no link named "${n}" under ${l}`),"ERR_NO_LINK");f=f[n],yield{value:f,remainderPath:s.join("/")},f instanceof i&&(l=f,f=await u(f))}};e.exports={normalizePath:e=>{if(e instanceof i)return"/ipfs/"+e;try{i.parse(e),e="/ipfs/"+e}catch{}if(r.path(e))return e;throw a(new Error("invalid path: "+e),"ERR_BAD_PATH")},normalizeCidPath:e=>e instanceof Uint8Array?i.decode(e).toString():e instanceof i?e.toString():(0===e.indexOf("/ipfs/")&&(e=e.substring("/ipfs/".length)),"/"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e),resolvePath:async function(e,t,n,r={}){const{cid:o,path:a}=s(n);a&&(r.path=a);let u=o,c=r.path||"";if(c.startsWith("/")&&(c=c.substring(1)),r.path)try{for await(const{value:n,remainderPath:a}of l(o,r.path,t,e,{signal:r.signal})){if(!(n instanceof i))break;c=a,u=n}}catch(e){throw e.message.startsWith("Object has no property")&&(e.message=`no link named "${c.split("/")[0]}" under ${u}`,e.code="ERR_NO_LINK"),e}return{cid:u,remainderPath:c||""}},mapFile:(e,t={})=>{if("file"!==e.type&&"directory"!==e.type&&"raw"!==e.type)throw new Error(`Unknown node type '${e.type}'`);const n={cid:e.cid,path:e.path,name:e.name,depth:e.path.split("/").length,size:e.size,type:"file"};return"directory"===e.type&&(n.type="dir"),"file"===e.type&&(n.size=e.unixfs.fileSize()),"file"!==e.type&&"directory"!==e.type||(n.mode=e.unixfs.mode,void 0!==e.unixfs.mtime&&(n.mtime=e.unixfs.mtime)),t.includeContent&&("file"!==e.type&&"raw"!==e.type||(n.content=e.content())),n},withTimeout:f,resolve:l,OFFLINE_ERROR:"This command must be run in online mode. Try running 'ipfs daemon' first.",MFS_ROOT_KEY:new o("/local/filesroot"),MFS_MAX_CHUNK_SIZE:262144,MFS_MAX_LINKS:174}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return c}));var r=function(e){return atob(e)},i=function(e){return btoa(e)};function o(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}function a(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function u(e,t){return o([a(e)],{type:t})}function s(e,t){return u(r(e),t)}function c(e,t){var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t}(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function f(e,t){c(e,(function(e){t(e)}))}function l(e,t){f(e,(function(e){t(i(e))}))}function d(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}},function(e,t,n){"use strict";let r;r=globalThis.AbortController&&globalThis.AbortSignal?globalThis:n(193),e.exports={AbortController:r.AbortController,AbortSignal:r.AbortSignal}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(130),i=n(276);class o{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}t.Digest=o,t.create=(e,t)=>{const n=t.byteLength,r=i.encodingLength(e),a=r+i.encodingLength(n),u=new Uint8Array(a+n);return i.encodeTo(e,u,0),i.encodeTo(n,u,r),u.set(t,a),new o(e,n,t,u)},t.decode=e=>{const t=r.coerce(e),[n,a]=i.decode(t),[u,s]=i.decode(t.subarray(a)),c=t.subarray(a+s);if(c.byteLength!==u)throw new Error("Incorrect length");return new o(n,u,c,t)},t.equals=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&r.equals(e.bytes,t.bytes)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(131);const i=r.rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),o=r.rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),a=r.rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),u=r.rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),s=r.rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),c=r.rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),f=r.rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),l=r.rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d=r.rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});t.base32=i,t.base32hex=s,t.base32hexpad=f,t.base32hexpadupper=l,t.base32hexupper=c,t.base32pad=a,t.base32padupper=u,t.base32upper=o,t.base32z=d},function(e,t,n){"use strict";const{Buffer:r}=n(27),i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){const r=t+this._bufs[n].length;if(e<r||n===this._bufs.length-1)return[n,e-t];t=r}},o.prototype._reverseOffset=function(e){const t=e[0];let n=e[1];for(let e=0;e<t;e++)n+=this._bufs[e].length;return n},o.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,n,i){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof i||i>this.length)&&(i=this.length),n>=this.length)return e||r.alloc(0);if(i<=0)return e||r.alloc(0);const o=!!e,a=this._offset(n),u=i-n;let s=u,c=o&&t||0,f=a[1];if(0===n&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:r.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,c),c+=this._bufs[t].length;return e}if(s<=this._bufs[a[0]].length-f)return o?this._bufs[a[0]].copy(e,t,f,f+s):this._bufs[a[0]].slice(f,f+s);o||(e=r.allocUnsafe(u));for(let t=a[0];t<this._bufs.length;t++){const n=this._bufs[t].length-f;if(!(s>n)){this._bufs[t].copy(e,c,f,f+s),c+=n;break}this._bufs[t].copy(e,c,f),c+=n,s-=n,f&&(f=0)}return e.length>c?e.slice(0,c):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const n=this._offset(e),r=this._offset(t),i=this._bufs.slice(n[0],r[0]+1);return 0===r[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,r[1]),0!==n[1]&&(i[0]=i[0].slice(n[1])),this._new(i)},o.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(r.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(r.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,n){if(void 0===n&&"string"==typeof t&&(n=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=r.from([e]):"string"==typeof e?e=r.from(e,n):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=r.from(e.buffer,e.byteOffset,e.byteLength):r.isBuffer(e)||(e=r.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const i=this._offset(t);let o=i[0],a=i[1];for(;o<this._bufs.length;o++){const t=this._bufs[o];for(;a<t.length;){if(t.length-a>=e.length){const n=t.indexOf(e,a);if(-1!==n)return this._reverseOffset([o,n]);a=t.length-e.length+1}else{const t=this._reverseOffset([o,a]);if(this._match(t,e))return t;a++}}a=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let n=0;n<t.length;n++)if(this.get(e+n)!==t[n])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){o.prototype[t]=null===e[t]?function(e,n){return this.slice(e,e+n)[t](0,n)}:function(n=0){return this.slice(n,n+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},e.exports=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return f}));var r=n(82),i=n(208),o=n.n(i),a=self.setImmediate||self.setTimeout;function u(e,t,n,i,o){(n>0||i<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,i)),Object(r.h)(t,(function(t){e.append(t),o()}))}function s(e,t,n,r,i){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),i()}function c(e,t){var n="string"==typeof e,i=n?e.length:e.size,c=Math.min(32768,i),f=Math.ceil(i/c),l=0,d=n?new o.a:new o.a.ArrayBuffer,h=n?s:u;function p(){a(y)}function m(){var e=function(e){return Object(r.g)(e)}(d.end(!0));t(e),d.destroy()}function y(){var t=l*c,n=t+c;l++,h(d,e,t,n,l<f?p:m)}y()}function f(e){return o.a.hash(e)}},function(e,t,n){"use strict";var r=function(e){this.compose=e},i=new r((function(e){return function(t){return function(n){return e(t(n))}}})),o=function(e){return e.compose};e.exports={compose:o,Semigroupoid:r,composeFlipped:function(e){return function(t){return function(n){return o(e)(n)(t)}}},semigroupoidFn:i}},function(e,t,n){"use strict";var r=n(24),i=function(e){this.defer=e},o=new i((function(e){return r.unit})),a=new i((function(e){return function(t){return e(r.unit)(t)}})),u=function(e){return e.defer};e.exports={defer:u,Lazy:i,fix:function(e){return function(t){var n=u(e)((function(e){return t(n)}));return n}},lazyFn:a,lazyUnit:o}},function(e,t,n){"use strict";var r=n(865),i=n(59),o=n(24),a=n(111),u=n(60),s=function(e,t,n,r,i,o){this.conjRecord=e,this.disjRecord=t,this.ffRecord=n,this.impliesRecord=r,this.notRecord=i,this.ttRecord=o},c=function(e,t,n,r,i,o){this.conj=e,this.disj=t,this.ff=n,this.implies=r,this.not=i,this.tt=o},f=function(e){return e.ttRecord},l=function(e){return e.tt},d=function(e){return e.notRecord},h=function(e){return e.not},p=function(e){return e.impliesRecord},m=function(e){return e.implies},y=new c((function(e){return function(e){return o.unit}}),(function(e){return function(e){return o.unit}}),o.unit,(function(e){return function(e){return o.unit}}),(function(e){return o.unit}),o.unit),v=new s((function(e){return function(e){return function(e){return{}}}}),(function(e){return function(e){return function(e){return{}}}}),(function(e){return function(e){return{}}}),(function(e){return function(e){return function(e){return{}}}}),(function(e){return function(e){return{}}}),(function(e){return function(e){return{}}})),g=new c((function(e){return function(e){return u.Proxy3.value}}),(function(e){return function(e){return u.Proxy3.value}}),u.Proxy3.value,(function(e){return function(e){return u.Proxy3.value}}),(function(e){return u.Proxy3.value}),u.Proxy3.value),b=new c((function(e){return function(e){return u.Proxy2.value}}),(function(e){return function(e){return u.Proxy2.value}}),u.Proxy2.value,(function(e){return function(e){return u.Proxy2.value}}),(function(e){return u.Proxy2.value}),u.Proxy2.value),w=new c((function(e){return function(e){return u.Proxy.value}}),(function(e){return function(e){return u.Proxy.value}}),u.Proxy.value,(function(e){return function(e){return u.Proxy.value}}),(function(e){return u.Proxy.value}),u.Proxy.value),E=function(e){return e.ffRecord},_=function(e){return e.ff},S=function(e){return e.disjRecord},T=function(e){return e.disj},A=new c(r.boolConj,r.boolDisj,!1,(function(e){return function(t){return T(A)(h(A)(e))(t)}}),r.boolNot,!0),P=function(e){return e.conjRecord},k=function(e){return e.conj};e.exports={HeytingAlgebra:c,tt:l,ff:_,implies:m,conj:k,disj:T,not:h,HeytingAlgebraRecord:s,ffRecord:E,ttRecord:f,impliesRecord:p,conjRecord:P,disjRecord:S,notRecord:d,heytingAlgebraBoolean:A,heytingAlgebraUnit:y,heytingAlgebraFunction:function(e){return new c((function(t){return function(n){return function(r){return k(e)(t(r))(n(r))}}}),(function(t){return function(n){return function(r){return T(e)(t(r))(n(r))}}}),(function(t){return _(e)}),(function(t){return function(n){return function(r){return m(e)(t(r))(n(r))}}}),(function(t){return function(n){return h(e)(t(n))}}),(function(t){return l(e)}))},heytingAlgebraProxy:w,heytingAlgebraProxy2:b,heytingAlgebraProxy3:g,heytingAlgebraRecord:function(e){return function(e){return new c(P(e)(u.Proxy.value),S(e)(u.Proxy.value),E(e)(u.Proxy.value)(u.Proxy.value),p(e)(u.Proxy.value),d(e)(u.Proxy.value),f(e)(u.Proxy.value)(u.Proxy.value))}},heytingAlgebraRecordNil:v,heytingAlgebraRecordCons:function(e){return function(t){return function(t){return function(n){return new s((function(r){return function(r){return function(o){var s=P(t)(u.Proxy.value)(r)(o),c=i.reflectSymbol(e)(u.Proxy.value),f=a.unsafeSet(c),l=a.unsafeGet(c);return f(k(n)(l(r))(l(o)))(s)}}}),(function(r){return function(r){return function(o){var s=S(t)(u.Proxy.value)(r)(o),c=i.reflectSymbol(e)(u.Proxy.value),f=a.unsafeSet(c),l=a.unsafeGet(c);return f(T(n)(l(r))(l(o)))(s)}}}),(function(r){return function(r){var o=E(t)(u.Proxy.value)(r),s=i.reflectSymbol(e)(u.Proxy.value);return a.unsafeSet(s)(_(n))(o)}}),(function(r){return function(r){return function(o){var s=p(t)(u.Proxy.value)(r)(o),c=i.reflectSymbol(e)(u.Proxy.value),f=a.unsafeSet(c),l=a.unsafeGet(c);return f(m(n)(l(r))(l(o)))(s)}}}),(function(r){return function(r){var o=d(t)(u.Proxy.value)(r),s=i.reflectSymbol(e)(u.Proxy.value),c=a.unsafeSet(s),f=a.unsafeGet(s);return c(h(n)(f(r)))(o)}}),(function(r){return function(r){var o=f(t)(u.Proxy.value)(r),s=i.reflectSymbol(e)(u.Proxy.value);return a.unsafeSet(s)(l(n))(o)}}))}}}}}},function(e,t,n){"use strict";var r=n(32),i=n(11),o=n(19),a=n(15),u=n(145),s=n(105),c=n(40),f=n(13),l=n(2),d=n(125),h=n(26),p=n(16),m=n(18),y=function(e){return e},v=function(e){return e},g=new h.Newtype((function(){})),b=new l.Functor((function(e){return function(t){return e(t)}})),w=new d.Invariant(d.imapF(b)),E=new s.Extend((function(){return b}),(function(e){return function(t){return e(t)}})),_=function(e){return e},S=new f.Eq1((function(e){return f.eq(e)})),T=new p.Ord1((function(){return S}),(function(e){return p.compare(e)})),A=new u.Comonad((function(){return E}),(function(e){return e})),P=new o.Apply((function(){return b}),(function(e){return function(t){return e(t)}})),k=new a.Bind((function(){return P}),(function(e){return function(t){return t(e)}})),x=new i.Applicative((function(){return P}),y),C=new c.Monad((function(){return x}),(function(){return k})),R=new r.Alt((function(){return b}),(function(e){return function(t){return e}}));e.exports={Identity:y,newtypeIdentity:g,eqIdentity:_,ordIdentity:v,boundedIdentity:function(e){return e},heytingAlgebraIdentity:function(e){return e},booleanAlgebraIdentity:function(e){return e},semigroupIdenity:function(e){return e},monoidIdentity:function(e){return e},semiringIdentity:function(e){return e},euclideanRingIdentity:function(e){return e},ringIdentity:function(e){return e},commutativeRingIdentity:function(e){return e},lazyIdentity:function(e){return e},showIdentity:function(e){return new m.Show((function(t){return"(Identity "+m.show(e)(t)+")"}))},eq1Identity:S,ord1Identity:T,functorIdentity:b,invariantIdentity:w,altIdentity:R,applyIdentity:P,applicativeIdentity:x,bindIdentity:k,monadIdentity:C,extendIdentity:E,comonadIdentity:A}},function(e,t,n){"use strict";var r=n(29),i=n(24),o=function(e){return e.state};e.exports={state:o,MonadState:function(e,t){this.Monad0=e,this.state=t},get:function(e){return o(e)((function(e){return new r.Tuple(e,e)}))},gets:function(e){return function(t){return o(e)((function(e){return new r.Tuple(t(e),e)}))}},put:function(e){return function(t){return o(e)((function(e){return new r.Tuple(i.unit,t)}))}},modify:function(e){return function(t){return o(e)((function(e){var n=t(e);return new r.Tuple(n,n)}))}},modify_:function(e){return function(t){return o(e)((function(e){return new r.Tuple(i.unit,t(e))}))}}}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(40),c=n(73),f=n(46),l=n(2),d=function(e,t){this.Alternative1=e,this.Monad0=t},h=new d((function(){return i.alternativeArray}),(function(){return s.monadArray}));e.exports={MonadPlus:d,monadPlusArray:h,Alt:r.Alt,alt:r.alt,Alternative:i.Alternative,guard:i.guard,Applicative:o.Applicative,liftA1:o.liftA1,pure:o.pure,unless:o.unless,when:o.when,Apply:a.Apply,apply:a.apply,Bind:u.Bind,bind:u.bind,ifM:u.ifM,join:u.join,Monad:s.Monad,ap:s.ap,liftM1:s.liftM1,MonadZero:c.MonadZero,Plus:f.Plus,empty:f.empty,Functor:l.Functor,map:l.map,void:l.void}},function(e,t,n){"use strict";var r=n(1031),i=n(32),o=n(11),a=n(19),u=n(15),s=n(25),c=n(89),f=n(74),l=n(268),d=n(527),h=n(1034),p=n(54),m=n(13),y=n(36),v=n(23),g=n(2),b=n(90),w=n(5),E=n(16),_=n(34),S=n(20),T=n(56),A=n(29),P=n(79),k=r.zipWith(A.Tuple.create),x=r._updateAt(w.Just.create)(w.Nothing.value),C=function(e){return r.unsafeIndexImpl},R=r.unconsImpl(v.const(w.Nothing.value))((function(e){return function(t){return new w.Just({head:e,tail:t})}})),I=function(e){return function(t){return e<1?[]:r.slice(0)(e)(t)}},O=r.unconsImpl(v.const(w.Nothing.value))((function(e){return function(e){return new w.Just(e)}})),M=function(e){return r.sortByImpl(e)((function(e){if(e instanceof _.GT)return 1;if(e instanceof _.EQ)return 0;if(e instanceof _.LT)return-1;throw new Error("Failed pattern match at Data.Array (line 831, column 31 - line 834, column 11): "+[e.constructor.name])}))},N=function(e){return function(t){return M(E.comparing(e)(t))}},D=function(e){return[e]},L=function(e){return 0===r.length(e)},j=function(e){return function(t){return n=d.new(),l.foreach(t)((function(t){return function(){var i,a,u=g.map(l.functorST)((i=b.not(b.heytingAlgebraBoolean),a=r.any((function(n){return e(n)(t)})),function(e){return i(a(e))}))(d.unsafeFreeze(n))();return o.when(l.applicativeST)(u)(g.void(l.functorST)(d.push(t)(n)))()}}))(),d.unsafeFreeze(n)();var n}},B=function(e){return function(t){return r.zipWith(e)(r.range(0)(r.length(t)-1|0))(t)}},F=r._insertAt(w.Just.create)(w.Nothing.value),U=function(e){if(L(e))return w.Nothing.value;if(p.otherwise)return new w.Just(r.slice(0)(r.length(e)-1|0)(e));throw new Error("Failed pattern match at Data.Array (line 340, column 1 - line 340, column 45): "+[e.constructor.name])},q=r.indexImpl(w.Just.create)(w.Nothing.value),H=function(e){return q(e)(r.length(e)-1|0)},K=function(e){return function(t){var n=function(n){var r,i=!1;function o(r){var o=q(t)(r);if(o instanceof w.Just)return e(o.value0)?void(n=r+1|0):(i=!0,new w.Just(r));if(o instanceof w.Nothing)return i=!0,w.Nothing.value;throw new Error("Failed pattern match at Data.Array (line 966, column 5 - line 968, column 25): "+[o.constructor.name])}for(;!i;)r=o(n);return r}(0);if(n instanceof w.Just&&0===n.value0)return{init:[],rest:t};if(n instanceof w.Just)return{init:r.slice(0)(n.value0)(t),rest:r.slice(n.value0)(r.length(t))(t)};if(n instanceof w.Nothing)return{init:t,rest:[]};throw new Error("Failed pattern match at Data.Array (line 953, column 3 - line 959, column 30): "+[n.constructor.name])}},V=function(e){return q(e)(0)},z=function(e){return function(t){var n,r=M((function(t){return function(n){return e(A.snd(t))(A.snd(n))}}))(B(A.Tuple.create)(t)),i=V(r);if(i instanceof w.Nothing)return[];if(i instanceof w.Just)return g.map(g.functorArray)(A.snd)(N(E.ordInt)(A.fst)((n=d.unsafeThaw(D(i.value0))(),l.foreach(r)((function(t){return function(){var r,i,a=g.map(l.functorST)((r=w.fromJust(),i=function(e){return r(H(e))},function(e){return A.snd(i(e))}))(d.unsafeFreeze(n))();return o.when(l.applicativeST)(m.notEq(_.eqOrdering)(e(a)(t.value1))(_.EQ.value))(g.void(l.functorST)(d.push(t)(n)))()}}))(),d.unsafeFreeze(n)())));throw new Error("Failed pattern match at Data.Array (line 1050, column 17 - line 1058, column 29): "+[i.constructor.name])}},W=function(e){return function(t){return n=d.new(),r=h.iterator((function(e){return q(t)(e)}))(),h.iterate(r)((function(t){return g.void(l.functorST)((function(){var i=d.new();d.push(t)(i)(),h.pushWhile(e(t))(r)(i)();var o=d.unsafeFreeze(i)();return d.push(o)(n)()}))}))(),d.unsafeFreeze(n)();var n,r}},G=function(e){var t=W((function(t){return function(n){return m.eq(_.eqOrdering)(e(t)(n))(_.EQ.value)}})),n=M(e);return function(e){return t(n(e))}},$=function(e){return G(E.compare(e))},J=y.foldr(y.foldableArray),Q=y.foldl(y.foldableArray),Y=function(e){return function(t){return function(n){return r.unconsImpl((function(t){return o.pure(e.Applicative0())(n)}))((function(r){return function(i){return u.bind(e.Bind1())(t(n)(r))((function(n){return Y(e)(t)(n)(i)}))}}))}}},X=r.findMapImpl(w.Nothing.value)(w.isJust),Z=r.findLastIndexImpl(w.Just.create)(w.Nothing.value),ee=function(e){return function(t){return function(n){var r=w.maybe(0)((function(e){return e+1|0}))(Z((function(n){return m.eq(_.eqOrdering)(e(t)(n))(_.GT.value)}))(n));return w.fromJust()(F(r)(t)(n))}}},te=r.findIndexImpl(w.Just.create)(w.Nothing.value),ne=function(e){return function(t){return function(n){return r.filter((function(t){return w.isJust(te(e(t))(n))}))(t)}}},re=function(e){return function(t){return te((function(n){return m.eq(e)(n)(t)}))}},ie=function(e){return function(t){return e<1?t:r.slice(e)(r.length(t))(t)}},oe=r._deleteAt(w.Just.create)(w.Nothing.value),ae=function(e){return function(t){return function(n){return 0===n.length?[]:w.maybe(n)((function(e){return w.fromJust()(oe(e)(n))}))(te(e(t))(n))}}},ue=function(e){return function(t){return function(n){return S.append(S.semigroupArray)(t)(Q(v.flip(ae(e)))(j(e)(n))(t))}}},se=function(e){return ae(m.eq(e))},ce=function(e){return function(t){return S.append(S.semigroupArray)([e])(t)}},fe=function(e){return function(t){return function(n){return a.apply(e.Applicative0().Apply0())(g.map(e.Plus1().Alt0().Functor0())(ce)(n))(c.defer(t)((function(r){return le(e)(t)(n)})))}}},le=function(e){return function(t){return function(n){return i.alt(e.Plus1().Alt0())(fe(e)(t)(n))(o.pure(e.Applicative0())([]))}}},de=v.flip(u.bind(u.bindArray)),he=function(e){return de((t=w.maybe([])(D),function(n){return t(e(n))}));var t},pe=he(s.identity(s.categoryFn));e.exports={fromFoldable:function(e){return r.fromFoldableImpl(y.foldr(e))},toUnfoldable:function(e){return function(t){var n=r.length(t);return P.unfoldr(e)((function(e){if(e<n)return new w.Just(new A.Tuple(C()(t)(e),e+1|0));if(p.otherwise)return w.Nothing.value;throw new Error("Failed pattern match at Data.Array (line 158, column 3 - line 160, column 26): "+[e.constructor.name])}))(0)}},singleton:D,some:fe,many:le,null:L,cons:ce,snoc:function(e){return function(t){return d.withArray(d.push(t))(e)()}},insert:function(e){return ee(E.compare(e))},insertBy:ee,head:V,last:H,tail:O,init:U,uncons:R,unsnoc:function(e){return a.apply(w.applyMaybe)(g.map(w.functorMaybe)((function(e){return function(t){return{init:e,last:t}}}))(U(e)))(H(e))},index:q,elem:function(e){return function(t){return function(n){return w.isJust(re(e)(t)(n))}}},notElem:function(e){return function(t){return function(n){return w.isNothing(re(e)(t)(n))}}},elemIndex:re,elemLastIndex:function(e){return function(t){return Z((function(n){return m.eq(e)(n)(t)}))}},find:function(e){return function(t){return g.map(w.functorMaybe)(C()(t))(te(e)(t))}},findMap:X,findIndex:te,findLastIndex:Z,insertAt:F,deleteAt:oe,updateAt:x,updateAtIndices:function(e){return function(t){return function(n){return d.withArray((function(n){return y.traverse_(l.applicativeST)(e)((function(e){return d.poke(e.value0)(e.value1)(n)}))(t)}))(n)()}}},modifyAt:function(e){return function(t){return function(n){return w.maybe(w.Nothing.value)((function(r){return x(e)(t(r))(n)}))(q(n)(e))}}},modifyAtIndices:function(e){return function(t){return function(n){return function(r){return d.withArray((function(r){return y.traverse_(l.applicativeST)(e)((function(e){return d.modify(e)(n)(r)}))(t)}))(r)()}}}},alterAt:function(e){return function(t){return function(n){return w.maybe(w.Nothing.value)((function(r){var i=t(r);if(i instanceof w.Nothing)return oe(e)(n);if(i instanceof w.Just)return x(e)(i.value0)(n);throw new Error("Failed pattern match at Data.Array (line 591, column 10 - line 593, column 32): "+[i.constructor.name])}))(q(n)(e))}}},intersperse:function(e){return function(t){var n,i=r.length(t);if(i<2)return t;if(p.otherwise)return d.run((n=function(e){return C()(t)(e)},function(){var t=d.new();return d.push(n(0))(t)(),l.for(1)(i)((function(r){return function(){return d.push(e)(t)(),g.void(l.functorST)(d.push(n(r))(t))()}}))(),t}));throw new Error("Failed pattern match at Data.Array (line 613, column 21 - line 622, column 19): "+[i.constructor.name])}},concatMap:de,splitAt:function(e){return function(t){return e<=0?{before:[],after:t}:{before:r.slice(0)(e)(t),after:r.slice(e)(r.length(t))(t)}}},filterA:function(e){return function(t){var n=g.map(e.Apply0().Functor0())(he((function(e){return e.value1?new w.Just(e.value0):w.Nothing.value}))),r=T.traverse(T.traversableArray)(e)((function(n){return g.map(e.Apply0().Functor0())(A.Tuple.create(n))(t(n))}));return function(e){return n(r(e))}}},mapMaybe:he,catMaybes:pe,mapWithIndex:B,foldl:Q,foldr:J,foldMap:function(e){return y.foldMap(y.foldableArray)(e)},fold:function(e){return y.fold(y.foldableArray)(e)},intercalate:function(e){return y.intercalate(y.foldableArray)(e)},sort:function(e){return function(t){return M(E.compare(e))(t)}},sortBy:M,sortWith:N,take:I,takeEnd:function(e){return function(t){return ie(r.length(t)-e|0)(t)}},takeWhile:function(e){return function(t){return K(e)(t).init}},drop:ie,dropEnd:function(e){return function(t){return I(r.length(t)-e|0)(t)}},dropWhile:function(e){return function(t){return K(e)(t).rest}},span:K,group:function(e){return function(t){return W(m.eq(e))(t)}},groupAll:$,"group'":function(e){return function(e){return $(e)}},groupBy:W,groupAllBy:G,nub:function(e){return z(E.compare(e))},nubEq:function(e){return j(m.eq(e))},nubBy:z,nubByEq:j,union:function(e){return ue(m.eq(e))},unionBy:ue,delete:se,deleteBy:ae,difference:function(e){return J(se(e))},intersect:function(e){return ne(m.eq(e))},intersectBy:ne,zipWithA:function(e){return function(t){return function(n){return function(i){return T.sequence(T.traversableArray)(e)(r.zipWith(t)(n)(i))}}}},zip:k,unzip:function(e){return function(){var t=d.new(),n=d.new(),r=h.iterator((function(t){return q(e)(t)}))();h.iterate(r)((function(e){return function(){return g.void(l.functorST)(d.push(e.value0)(t))(),g.void(l.functorST)(d.push(e.value1)(n))()}}))();var i=d.unsafeFreeze(t)(),o=d.unsafeFreeze(n)();return new A.Tuple(i,o)}()},foldM:Y,foldRecM:function(e){return function(t){return function(n){return function(i){return f.tailRecM2(e)((function(n){return function(a){if(a>=r.length(i))return o.pure(e.Monad0().Applicative0())(new f.Done(n));if(p.otherwise)return u.bind(e.Monad0().Bind1())(t(n)(C()(i)(a)))((function(t){return o.pure(e.Monad0().Applicative0())(new f.Loop({a:t,b:a+1|0}))}));throw new Error("Failed pattern match at Data.Array (line 1269, column 3 - line 1273, column 42): "+[n.constructor.name,a.constructor.name])}}))(n)(0)}}}},unsafeIndex:C,range:r.range,replicate:r.replicate,length:r.length,reverse:r.reverse,concat:r.concat,filter:r.filter,partition:r.partition,scanl:r.scanl,scanr:r.scanr,slice:r.slice,zipWith:r.zipWith,any:r.any,all:r.all}},function(e,t,n){"use strict";var r,i=n(529),o=n(1042),a=n(1043),u=n(530),s=n(531),c=n(532),f=n(1045),l=n(533),d=n(534),h=n(535),p=n(536),m=n(537),y=n(538),v=n(539),g=n(1046),b=n(78),w=n(2),E=n(5),_=n(26),S=n(192),T=n(1047),A=n(348),P=n(270),k=n(343),x=function(e){this.toPropValue=e},C=function(e){return e},R=function(e){return e.toPropValue},I=new _.Newtype((function(){})),O=new x((function(e){return A.propFromString(g.renderWrapValue(e))})),M=new x(A.propFromString),N=new x((function(e){return A.propFromString(v.renderStepValue(e))})),D=new x((function(e){return A.propFromString(y.renderScopeValue(e))})),L=new x((function(e){return A.propFromString(m.renderPreloadValue(e))})),j=new x((function(e){return A.propFromString(p.renderOrderedListType(e))})),B=new x((function(e){return A.propFromString(h.renderOnOff(e))})),F=new x(A.propFromNumber),U=new x((function(e){return A.propFromString(d.renderMenuitemType(e))})),q=new x((function(e){return A.propFromString(l.renderMenuType(e))})),H=new x((r=_.unwrap(),function(e){return A.propFromString(r(e))})),K=new x((function(e){return A.propFromString(f.renderKindValue(e))})),V=new x(A.propFromInt),z=new x((function(e){return A.propFromString(c.renderInputType(e))})),W=new x((function(e){return A.propFromString(s.renderInputAcceptType(e))})),G=new x((function(e){return A.propFromString(u.renderFormMethod(e))})),$=new x((function(e){return A.propFromString(a.renderDirValue(e))})),J=new x((function(e){return A.propFromString(o.renderCrossOriginValue(e))})),Q=new x((function(e){return A.propFromString(i.renderButtonType(e))})),Y=new x(A.propFromBoolean),X=A.Handler.create,Z=new b.Bifunctor((function(e){return function(t){return function(n){return b.bimap(P.bifunctorVDom)(w.map(w.functorArray)(w.map(A.functorProp)(w.map(S.functorInput)(t))))(e)(n)}}})),ee=new w.Functor(b.rmap(Z));e.exports={HTML:C,renderWidget:function(e){return function(t){return function(n){return P.renderWidget(w.map(w.functorArray)(w.map(A.functorProp)(w.map(S.functorInput)(e))))((r=_.un()(C),function(e){return r(t(e))}))(n);var r}}},widget:function(e){return P.Widget.create(e)},text:function(e){return P.Text.create(e)},element:function(e){return function(t){return function(n){return function(r){return new P.Elem(e,t,n,r)}}}},keyed:function(e){return function(t){return function(n){return function(r){return new P.Keyed(e,t,n,r)}}}},prop:function(e){return function(t){var n=A.Property.create(t),r=R(e);return function(e){return n(r(e))}}},attr:function(e){return function(t){return A.Attribute.create(e)(t)}},handler:X,ref:function(e){return A.Ref.create((function(t){return e(function(e){if(e instanceof A.Created)return new E.Just(e.value0);if(e instanceof A.Removed)return E.Nothing.value;throw new Error("Failed pattern match at Halogen.HTML.Core (line 103, column 21 - line 105, column 23): "+[e.constructor.name])}(t))}))},IsProp:x,toPropValue:R,newtypeHTML:I,bifunctorHTML:Z,functorHTML:ee,isPropString:M,isPropInt:V,isPropNumber:F,isPropBoolean:Y,isPropMediaType:H,isPropButtonType:Q,isPropCrossOriginValue:J,isPropDirValue:$,isPropFormMethod:G,isPropInputType:z,isPropKindValue:K,isPropMenuitemType:U,isPropMenuType:q,isPropOnOff:B,isPropOrderedListType:j,isPropPreloadValue:L,isPropScopeValue:D,isPropStepValue:N,isPropWrapValue:O,isPropInputAcceptType:W,ElemName:T.ElemName,Namespace:T.Namespace,Attribute:A.Attribute,Handler:A.Handler,Property:A.Property,Ref:A.Ref,AttrName:k.AttrName,ClassName:k.ClassName,PropName:k.PropName}},function(e,t,n){"use strict";e.exports=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}},function(e,t,n){"use strict";e.exports=async e=>{let t;for await(const n of e)t=n;return t}},function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=n,n.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},function(e,t,n){"use strict";var r=t,i=n(72),o=n(98),a=n(483);r.assert=o,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(e,t,n){var r=new Array(Math.max(e.bitLength(),n)+1);r.fill(0);for(var i=1<<t+1,o=e.clone(),a=0;a<r.length;a++){var u,s=o.andln(i-1);o.isOdd()?(u=s>(i>>1)-1?(i>>1)-s:s,o.isubn(u)):u=0,r[a]=u,o.iushrn(1)}return r},r.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var a,u,s=e.andln(3)+i&3,c=t.andln(3)+o&3;3===s&&(s=-1),3===c&&(c=-1),a=0==(1&s)?0:3!==(r=e.andln(7)+i&7)&&5!==r||2!==c?s:-s,n[0].push(a),u=0==(1&c)?0:3!==(r=t.andln(7)+o&7)&&5!==r||2!==s?c:-c,n[1].push(u),2*i===a+1&&(i=1-i),2*o===u+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return n},r.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new i(e,"hex","le")}},function(e,t,n){"use strict";var r=n(11),i=n(15),o=n(41),a=n(23),u=n(2),s=n(5),c=n(24),f=n(35),l=n(160),d=function(e,t){this.Monad0=e,this.throwError=t},h=function(e,t){this.MonadThrow0=e,this.catchError=t},p=function(e){return e.throwError},m=new d((function(){return s.monadMaybe}),a.const(s.Nothing.value)),y=new d((function(){return o.monadEither}),o.Left.create),v=new d((function(){return f.monadEffect}),l.throwException),g=new h((function(){return m}),(function(e){return function(t){if(e instanceof s.Nothing)return t(c.unit);if(e instanceof s.Just)return new s.Just(e.value0);throw new Error("Failed pattern match at Control.Monad.Error.Class (line 79, column 1 - line 81, column 33): "+[e.constructor.name,t.constructor.name])}})),b=new h((function(){return y}),(function(e){return function(t){if(e instanceof o.Left)return t(e.value0);if(e instanceof o.Right)return new o.Right(e.value0);throw new Error("Failed pattern match at Control.Monad.Error.Class (line 72, column 1 - line 74, column 35): "+[e.constructor.name,t.constructor.name])}})),w=new h((function(){return v}),a.flip(l.catchException)),E=function(e){return e.catchError},_=function(e){return function(t){return E(e)(u.map(e.MonadThrow0().Monad0().Bind1().Apply0().Functor0())(o.Right.create)(t))((n=r.pure(e.MonadThrow0().Monad0().Applicative0()),function(e){return n(o.Left.create(e))}));var n}};e.exports={catchError:E,throwError:p,MonadThrow:d,MonadError:h,catchJust:function(e){return function(t){return function(n){return function(r){return E(e)(n)((function(n){var i=t(n);if(i instanceof s.Nothing)return p(e.MonadThrow0())(n);if(i instanceof s.Just)return r(i.value0);throw new Error("Failed pattern match at Control.Monad.Error.Class (line 57, column 5 - line 59, column 26): "+[i.constructor.name])}))}}}},try:_,withResource:function(e){return function(t){return function(n){return function(a){return i.bind(e.MonadThrow0().Monad0().Bind1())(t)((function(t){return i.bind(e.MonadThrow0().Monad0().Bind1())(_(e)(a(t)))((function(a){return i.discard(i.discardUnit)(e.MonadThrow0().Monad0().Bind1())(n(t))((function(){return o.either(p(e.MonadThrow0()))(r.pure(e.MonadThrow0().Monad0().Applicative0()))(a)}))}))}))}}}},monadThrowEither:y,monadErrorEither:b,monadThrowMaybe:m,monadErrorMaybe:g,monadThrowEffect:v,monadErrorEffect:w}},function(e,t,n){"use strict";var r=n(11),i=n(523),o=n(15),a=n(25),u=n(100),s=n(524),c=n(126),f=n(74),l=n(92),d=n(75),h=n(161),p=n(261),m=n(78),y=n(13),v=n(127),g=n(23),b=n(2),w=n(149),E=n(5),_=n(26),S=n(16),T=n(56),A=n(29),P=n(24),k=n(190),x=n(58),C=n(220),R=n(526),I=n(191),O=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),M=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),N=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),D=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),L=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),j=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),B=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),F=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),U=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),q=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),H=function(e){return e},K=function(e){return e},V=S.ordInt,z=S.ordInt,W=new _.Newtype((function(){})),G=new d.MonadTrans((function(e){return function(e){return s.liftF(D.create(e))}})),$=s.freeMonad,J=new l.MonadState((function(){return $}),(function(e){return s.liftF(O.create(e))})),Q=function(e){return new x.MonadEffect((function(){return $}),(t=x.liftEffect(e),function(e){return s.liftF(D.create(t(e)))}));var t},Y=function(e){return function(t){return s.hoistFree((function(t){if(t instanceof O)return new O(t.value0);if(t instanceof M)return new M(t.value0,t.value1);if(t instanceof N)return new N(t.value0,t.value1);if(t instanceof D)return new D(t.value0);if(t instanceof L)return new L(t.value0);if(t instanceof j)return new j(e(t.value0),t.value1);if(t instanceof B)return new B(_.over()()(H)(i.hoistFreeAp(Y(e)))(t.value0));if(t instanceof F)return new F(Y(e)(t.value0),t.value1);if(t instanceof U)return new U(t.value0,t.value1);if(t instanceof q)return new q(t.value0,t.value1);throw new Error("Failed pattern match at Halogen.Query.HalogenM (line 279, column 8 - line 289, column 29): "+[t.constructor.name])}))(t)}},X=function(e){return function(t){return function(n){return s.hoistFree((function(n){if(n instanceof O)return new O(n.value0);if(n instanceof M)return new M((r=b.map(I.functorEmitter)(t),function(e){return r(n.value0(e))}),n.value1);var r;if(n instanceof N)return new N(n.value0,n.value1);if(n instanceof D)return new D(n.value0);if(n instanceof L)return new L(n.value0);if(n instanceof j)return new j(n.value0,n.value1);if(n instanceof B)return new B(_.over()()(H)(i.hoistFreeAp(X(e)(t)))(n.value0));if(n instanceof F)return new F(X(e)(t)(n.value0),n.value1);if(n instanceof U)return new U(n.value0,n.value1);if(n instanceof q)return new q(n.value0,n.value1);throw new Error("Failed pattern match at Halogen.Query.HalogenM (line 259, column 8 - line 269, column 29): "+[n.constructor.name])}))(n)}}},Z=function(e){return function(t){return function(n){return s.hoistFree((function(n){if(n instanceof O)return new O((r=b.map(A.functorTuple)(e),function(e){return r(n.value0(t(e)))}));var r;if(n instanceof M)return new M(n.value0,n.value1);if(n instanceof N)return new N(n.value0,n.value1);if(n instanceof D)return new D(n.value0);if(n instanceof L)return new L(n.value0);if(n instanceof j)return new j(n.value0,n.value1);if(n instanceof B)return new B(_.over()()(H)(i.hoistFreeAp(Z(e)(t)))(n.value0));if(n instanceof F)return new F(Z(e)(t)(n.value0),n.value1);if(n instanceof U)return new U(n.value0,n.value1);if(n instanceof q)return new q(n.value0,n.value1);throw new Error("Failed pattern match at Halogen.Query.HalogenM (line 238, column 8 - line 248, column 29): "+[n.constructor.name])}))(n)}}},ee=function(e){return function(t){return function(n){return s.hoistFree((function(n){if(n instanceof O)return new O(n.value0);if(n instanceof M)return new M(n.value0,n.value1);if(n instanceof N)return new N(n.value0,n.value1);if(n instanceof D)return new D(t(n.value0));if(n instanceof L)return new L(n.value0);if(n instanceof j)return new j(n.value0,n.value1);if(n instanceof B)return new B(_.over()()(H)(i.hoistFreeAp(ee(e)(t)))(n.value0));if(n instanceof F)return new F(ee(e)(t)(n.value0),n.value1);if(n instanceof U)return new U(n.value0,n.value1);if(n instanceof q)return new q(n.value0,n.value1);throw new Error("Failed pattern match at Halogen.Query.HalogenM (line 300, column 8 - line 310, column 29): "+[n.constructor.name])}))(n)}}},te=s.freeFunctor,ne=i.functorFreeAp,re=y.eqInt,ie=y.eqInt,oe=s.freeBind,ae=s.freeApply,ue=i.applyFreeAp,se=s.freeApplicative,ce=new f.MonadRec((function(){return $}),(function(e){return function(t){return o.bind(oe)(e(t))((function(t){if(t instanceof f.Loop)return f.tailRecM(ce)(e)(t.value0);if(t instanceof f.Done)return r.pure(se)(t.value0);throw new Error("Failed pattern match at Halogen.Query.HalogenM (line 103, column 26 - line 105, column 21): "+[t.constructor.name])}))}})),fe=i.applicativeFreeAp,le=new p.Parallel((function(){return fe}),(function(){return $}),(function(e){return i.liftFreeAp(e)}),(function(e){return s.liftF(B.create(e))}));e.exports={State:O,Subscribe:M,Unsubscribe:N,Lift:D,ChildQuery:L,Raise:j,Par:B,Fork:F,Kill:U,GetRef:q,HalogenM:K,HalogenAp:H,raise:function(e){return s.liftF(new j(e,P.unit))},query:function(e){return function(e){return function(t){return function(n){return function(i){return function(o){return s.liftF(L.create(R.mkChildQueryBox(new R.ChildQuery((function(o){return function(a){var u=E.maybe(r.pure(o)(E.Nothing.value))(a),s=C.lookup()(e)(t)(n)(i);return function(e){return u(s(e))}}}),o,a.identity(a.categoryFn)))))}}}}}},queryAll:function(e){return function(e){return function(t){return function(n){return function(r){return s.liftF(L.create(R.mkChildQueryBox(new R.ChildQuery((function(r){return function(i){var o,a=b.map(r.Apply0().Functor0())((o=t,v.foldrWithIndex(w.foldableWithIndexMap)((function(e){return function(t){return function(n){return E.maybe(n)(g.flip(w.insert(o)(e))(n))(t)}}}))(w.empty))),u=T.traverse(w.traversableMap)(r)(i),s=C.slots()(e)(t)(n);return function(e){return a(u(s(e)))}}}),r,a.identity(a.categoryFn)))))}}}}},SubscriptionId:function(e){return e},subscribe:function(e){return s.liftF(new M((function(t){return e}),a.identity(a.categoryFn)))},"subscribe'":function(e){return s.liftF(new M(e,g.const(P.unit)))},unsubscribe:function(e){return s.liftF(new N(e,P.unit))},ForkId:function(e){return e},fork:function(e){return s.liftF(new F(e,a.identity(a.categoryFn)))},kill:function(e){return s.liftF(new U(e,P.unit))},getRef:function(e){return s.liftF(new q(e,a.identity(a.categoryFn)))},imapState:Z,mapAction:X,mapOutput:Y,hoist:ee,functorHalogenF:function(e){return new b.Functor((function(t){return function(n){if(n instanceof O)return new O((r=m.lmap(m.bifunctorTuple)(t),function(e){return r(n.value0(e))}));var r;if(n instanceof M)return new M(n.value0,(function(e){return t(n.value1(e))}));if(n instanceof N)return new N(n.value0,t(n.value1));if(n instanceof D)return new D(b.map(e)(t)(n.value0));if(n instanceof L)return new L(b.map(R.functorChildQuery)(t)(n.value0));if(n instanceof j)return new j(n.value0,t(n.value1));if(n instanceof B)return new B(b.map(ne)(t)(n.value0));if(n instanceof F)return new F(n.value0,(function(e){return t(n.value1(e))}));if(n instanceof U)return new U(n.value0,t(n.value1));if(n instanceof q)return new q(n.value0,(function(e){return t(n.value1(e))}));throw new Error("Failed pattern match at Halogen.Query.HalogenM (line 56, column 11 - line 66, column 37): "+[n.constructor.name])}}))},functorHalogenM:te,applyHalogenM:ae,applicativeHalogenM:se,bindHalogenM:oe,monadHalogenM:$,semigroupHalogenM:function(e){return s.semigroupFree(e)},monoidHalogenM:function(e){return s.monoidFree(e)},monadEffectHalogenM:Q,monadAffHalogenM:function(e){return new k.MonadAff((function(){return Q(e.MonadEffect0())}),(t=k.liftAff(e),function(e){return s.liftF(D.create(t(e)))}));var t},parallelHalogenM:le,monadTransHalogenM:G,monadRecHalogenM:ce,monadStateHalogenM:J,monadAskHalogenM:function(e){return new c.MonadAsk((function(){return $}),s.liftF(new D(c.ask(e))))},monadTellHalogenM:function(e){return new h.MonadTell((function(){return $}),e.Semigroup0,(t=h.tell(e),function(e){return s.liftF(D.create(t(e)))}));var t},monadThrowHalogenM:function(e){return new u.MonadThrow((function(){return $}),(t=u.throwError(e),function(e){return s.liftF(D.create(t(e)))}));var t},newtypeHalogenAp:W,functorHalogenAp:ne,applyHalogenAp:ue,applicativeHalogenAp:fe,eqSubscriptionId:re,ordSubscriptionId:V,eqForkId:ie,ordForkId:z}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(130);const i=e=>r.coerce(e),{name:o,code:a,encode:u,decode:s}={name:"raw",code:85,decode:i,encode:i};t.code=a,t.decode=s,t.encode=u,t.name=o},function(e,t,n){e.exports={encode:n(1157),decode:n(1158),encodingLength:n(1159)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}r.uint=new r(0,"uint",!0),r.negint=new r(1,"negint",!0),r.bytes=new r(2,"bytes",!0),r.string=new r(3,"string",!0),r.array=new r(4,"array",!1),r.map=new r(5,"map",!1),r.tag=new r(6,"tag",!1),r.float=new r(7,"float",!0),r.false=new r(7,"false",!0),r.true=new r(7,"true",!0),r.null=new r(7,"null",!0),r.undefined=new r(7,"undefined",!0),r.break=new r(7,"break",!0);t.Token=class{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0}toString(){return`Token[${this.type}].${this.value}`}},t.Type=r},function(e,t,n){"use strict";var r=n(855),i=n(25),o=n(2),a=n(20),u=function(e,t){this.Functor0=e,this.extend=t},s=new u((function(){return o.functorArray}),r.arrayExtend),c=function(e){return e.extend};e.exports={Extend:u,extend:c,extendFlipped:function(e){return function(t){return function(n){return c(e)(n)(t)}}},composeCoKleisli:function(e){return function(t){return function(n){return function(r){return n(c(e)(t)(r))}}}},composeCoKleisliFlipped:function(e){return function(t){return function(n){return function(r){return t(c(e)(n)(r))}}}},duplicate:function(e){return c(e)(i.identity(i.categoryFn))},extendFn:function(e){return new u((function(){return o.functorFn}),(function(t){return function(n){return function(r){return t((function(t){return n(a.append(e)(r)(t))}))}}}))},extendArray:s,Functor:o.Functor,map:o.map,void:o.void}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(25),c=n(40),f=n(186),l=n(100),d=n(126),h=n(74),p=n(92),m=n(75),y=n(161),v=n(93),g=n(73),b=n(46),w=n(41),E=n(2),_=n(28),S=n(26),T=n(20),A=n(29),P=n(58),k=function(e){return e},x=new S.Newtype((function(){})),C=new m.MonadTrans((function(e){return function(t){return u.bind(e.Bind1())(t)((function(t){return o.pure(e.Applicative0())(new w.Right(t))}))}})),R=function(e){return function(t){return e(t)}},I=function(e){return new E.Functor((function(t){return R(E.map(e)(E.map(w.functorEither)(t)))}))},O=function(e){return new c.Monad((function(){return D(e)}),(function(){return M(e)}))},M=function(e){return new u.Bind((function(){return N(e)}),(function(t){return function(n){return u.bind(e.Bind1())(t)(w.either((r=o.pure(e.Applicative0()),function(e){return r(w.Left.create(e))}))((function(e){return n(e)})));var r}}))},N=function(e){return new a.Apply((function(){return I(e.Bind1().Apply0().Functor0())}),c.ap(O(e)))},D=function(e){return new o.Applicative((function(){return N(e)}),(t=o.pure(e.Applicative0()),function(e){return t(w.Right.create(e))}));var t},L=function(e){return function(t){return new T.Semigroup(a.lift2(N(e))(T.append(t)))}},j=function(e){return new d.MonadAsk((function(){return O(e.Monad0())}),m.lift(C)(e.Monad0())(d.ask(e)))},B=function(e){return new y.MonadTell((function(){return O(e.Monad1())}),e.Semigroup0,(t=m.lift(C)(e.Monad1()),n=y.tell(e),function(e){return t(n(e))}));var t,n},F=function(e){return new l.MonadThrow((function(){return O(e)}),(t=o.pure(e.Applicative0()),function(e){return t(w.Left.create(e))}));var t},U=function(e){return function(t){return new r.Alt((function(){return I(t.Bind1().Apply0().Functor0())}),(function(n){return function(r){return u.bind(t.Bind1())(n)((function(n){if(n instanceof w.Right)return o.pure(t.Applicative0())(new w.Right(n.value0));if(n instanceof w.Left)return u.bind(t.Bind1())(r)((function(r){if(r instanceof w.Right)return o.pure(t.Applicative0())(new w.Right(r.value0));if(r instanceof w.Left)return o.pure(t.Applicative0())(new w.Left(T.append(e)(n.value0)(r.value0)));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 87, column 9 - line 89, column 49): "+[r.constructor.name])}));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 83, column 5 - line 89, column 49): "+[n.constructor.name])}))}}))}},q=function(e){return function(t){return new b.Plus((function(){return U(e.Semigroup0())(t)}),l.throwError(F(t))(_.mempty(e)))}},H=function(e){return function(t){return new i.Alternative((function(){return D(t)}),(function(){return q(e)(t)}))}};e.exports={ExceptT:k,runExceptT:function(e){return e},withExceptT:function(e){return function(t){return function(n){var r;return E.map(e)((r=t,function(e){if(e instanceof w.Right)return new w.Right(e.value0);if(e instanceof w.Left)return new w.Left(r(e.value0));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 43, column 3 - line 43, column 32): "+[r.constructor.name,e.constructor.name])}))(n)}}},mapExceptT:R,except:function(e){var t=o.pure(e);return function(e){return t(e)}},newtypeExceptT:x,functorExceptT:I,applyExceptT:N,applicativeExceptT:D,bindExceptT:M,monadExceptT:O,monadRecExceptT:function(e){return new h.MonadRec((function(){return O(e.Monad0())}),(function(t){var n=h.tailRecM(e)((function(n){var r=t(n);return u.bind(e.Monad0().Bind1())(r)((function(t){return o.pure(e.Monad0().Applicative0())(function(){if(t instanceof w.Left)return new h.Done(new w.Left(t.value0));if(t instanceof w.Right&&t.value0 instanceof h.Loop)return new h.Loop(t.value0.value0);if(t instanceof w.Right&&t.value0 instanceof h.Done)return new h.Done(new w.Right(t.value0.value0));throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 75, column 14 - line 78, column 43): "+[t.constructor.name])}())}))}));return function(e){return n(e)}}))},altExceptT:U,plusExceptT:q,alternativeExceptT:H,monadPlusExceptT:function(e){return function(t){return new v.MonadPlus((function(){return H(e)(t)}),(function(){return O(t)}))}},monadZeroExceptT:function(e){return function(t){return new g.MonadZero((function(){return H(e)(t)}),(function(){return O(t)}),(function(){}))}},monadTransExceptT:C,monadEffectExceptT:function(e){return new P.MonadEffect((function(){return O(e.Monad0())}),(t=m.lift(C)(e.Monad0()),n=P.liftEffect(e),function(e){return t(n(e))}));var t,n},monadContExceptT:function(e){return new f.MonadCont((function(){return O(e.Monad0())}),(function(t){return f.callCC(e)((function(e){return t((function(t){return e(new w.Right(t))}))}))}))},monadThrowExceptT:F,monadErrorExceptT:function(e){return new l.MonadError((function(){return F(e)}),(function(t){return function(n){return u.bind(e.Bind1())(t)(w.either((function(e){return n(e)}))((r=o.pure(e.Applicative0()),function(e){return r(w.Right.create(e))})));var r}}))},monadAskExceptT:j,monadReaderExceptT:function(e){return new d.MonadReader((function(){return j(e.MonadAsk0())}),(function(t){return R(d.local(e)(t))}))},monadStateExceptT:function(e){return new p.MonadState((function(){return O(e.Monad0())}),(function(t){return m.lift(C)(e.Monad0())(p.state(e)(t))}))},monadTellExceptT:B,monadWriterExceptT:function(e){return new y.MonadWriter((function(){return B(e.MonadTell1())}),e.Monoid0,R((function(t){return u.bind(e.MonadTell1().Monad1().Bind1())(y.listen(e)(t))((function(t){return o.pure(e.MonadTell1().Monad1().Applicative0())(E.map(w.functorEither)((function(e){return new A.Tuple(e,t.value1)}))(t.value0))}))})),R((function(t){return y.pass(e)(u.bind(e.MonadTell1().Monad1().Bind1())(t)((function(t){return o.pure(e.MonadTell1().Monad1().Applicative0())(function(){if(t instanceof w.Left)return new A.Tuple(new w.Left(t.value0),s.identity(s.categoryFn));if(t instanceof w.Right)return new A.Tuple(new w.Right(t.value0.value0),t.value0.value1);throw new Error("Failed pattern match at Control.Monad.Except.Trans (line 137, column 10 - line 139, column 45): "+[t.constructor.name])}())})))})))},semigroupExceptT:L,monoidExceptT:function(e){return function(t){return new _.Monoid((function(){return L(e)(t.Semigroup0())}),o.pure(D(e))(_.mempty(t)))}},MonadError:l.MonadError,MonadThrow:l.MonadThrow,catchError:l.catchError,throwError:l.throwError,MonadTrans:m.MonadTrans,lift:m.lift}},function(e,t,n){"use strict";var r=n(869),i=n(78),o=n(336),a=n(41),u=n(23),s=n(2),c=n(259),f=n(260),l=n(217),d=n(337),h=n(91),p=n(5),m=n(335),y=n(500),v=n(501),g=n(257),b=n(258),w=n(187),E=n(338),_=n(29),S=n(24),T=function(e,t){this.Functor0=e,this.mapWithIndex=t},A=function(e){return e.mapWithIndex},P=new T((function(){return _.functorTuple}),(function(e){return s.map(_.functorTuple)(e(S.unit))})),k=new T((function(){return E.functorMultiplicative}),(function(e){return s.map(E.functorMultiplicative)(e(S.unit))})),x=new T((function(){return p.functorMaybe}),(function(e){return s.map(p.functorMaybe)(e(S.unit))})),C=new T((function(){return y.functorLast}),(function(e){return s.map(y.functorLast)(e(S.unit))})),R=new T((function(){return h.functorIdentity}),(function(e){return function(t){return e(S.unit)(t)}})),I=new T((function(){return m.functorFirst}),(function(e){return s.map(m.functorFirst)(e(S.unit))})),O=new T((function(){return a.functorEither}),(function(e){return s.map(a.functorEither)(e(S.unit))})),M=new T((function(){return w.functorDual}),(function(e){return s.map(w.functorDual)(e(S.unit))})),N=new T((function(){return b.functorDisj}),(function(e){return s.map(b.functorDisj)(e(S.unit))})),D=new T((function(){return o.functorConst}),(function(e){return function(e){return e}})),L=new T((function(){return g.functorConj}),(function(e){return s.map(g.functorConj)(e(S.unit))})),j=new T((function(){return s.functorArray}),r.mapWithIndexArray),B=new T((function(){return v.functorAdditive}),(function(e){return s.map(v.functorAdditive)(e(S.unit))}));e.exports={FunctorWithIndex:T,mapWithIndex:A,mapDefault:function(e){return function(t){return A(e)(u.const(t))}},functorWithIndexArray:j,functorWithIndexMaybe:x,functorWithIndexFirst:I,functorWithIndexLast:C,functorWithIndexAdditive:B,functorWithIndexDual:M,functorWithIndexConj:L,functorWithIndexDisj:N,functorWithIndexMultiplicative:k,functorWithIndexEither:O,functorWithIndexTuple:P,functorWithIndexIdentity:R,functorWithIndexConst:D,functorWithIndexProduct:function(e){return function(t){return new T((function(){return d.functorProduct(e.Functor0())(t.Functor0())}),(function(n){return function(r){return i.bimap(i.bifunctorTuple)(A(e)((function(e){return n(a.Left.create(e))})))(A(t)((function(e){return n(a.Right.create(e))})))(r)}}))}},functorWithIndexCoproduct:function(e){return function(t){return new T((function(){return l.functorCoproduct(e.Functor0())(t.Functor0())}),(function(n){return function(r){return i.bimap(i.bifunctorEither)(A(e)((function(e){return n(a.Left.create(e))})))(A(t)((function(e){return n(a.Right.create(e))})))(r)}}))}},functorWithIndexCompose:function(e){return function(t){return new T((function(){return f.functorCompose(e.Functor0())(t.Functor0())}),(function(n){return function(r){return f.Compose(A(e)((i=A(t),o=_.curry(n),function(e){return i(o(e))}))(r));var i,o}}))}},functorWithIndexApp:function(e){return new T((function(){return c.functorApp(e.Functor0())}),(function(t){return function(n){return c.App(A(e)(t)(n))}}))}}},function(e,t,n){"use strict";var r,i,o,a,u,s,c=n(875),f=n(32),l=n(50),d=n(11),h=n(19),p=n(15),m=n(89),y=n(40),v=n(100),g=n(74),b=n(339),w=n(261),E=n(46),_=n(41),S=n(36),T=n(23),A=n(2),P=n(28),k=n(26),x=n(20),C=n(218),R=n(24),I=n(35),O=n(58),M=n(160),N=n(264),D=n(340),L=n(10),j=function(e){return e},B=c._fork(!1),F=new k.Newtype((function(){})),U=new A.Functor(c._parAffMap),q=new A.Functor(c._map),H=c._fork(!0),K={isLeft:function(e){if(e instanceof _.Left)return!0;if(e instanceof _.Right)return!1;throw new Error("Failed pattern match at Effect.Aff (line 394, column 12 - line 396, column 20): "+[e.constructor.name])},fromLeft:function(e){if(e instanceof _.Left)return e.value0;if(e instanceof _.Right)return D.unsafeCrashWith("unsafeFromLeft: Right");throw new Error("Failed pattern match at Effect.Aff (line 399, column 20 - line 401, column 54): "+[e.constructor.name])},fromRight:function(e){if(e instanceof _.Right)return e.value0;if(e instanceof _.Left)return D.unsafeCrashWith("unsafeFromRight: Left");throw new Error("Failed pattern match at Effect.Aff (line 404, column 21 - line 406, column 54): "+[e.constructor.name])},left:_.Left.create,right:_.Right.create},V=function(e){return c._makeFiber(K,e)},z=function(e){return function(){var t=V(e)();return t.run(),t}},W=(r=A.void(I.functorEffect),function(e){return r(z(e))}),G=V,$=function(e){return function(t){return c.generalBracket(e)({killed:T.const(t),failed:T.const(t),completed:T.const(t)})}},J=new h.Apply((function(){return U}),c._parAffApply),Q=function(e){return new x.Semigroup(h.lift2(J)(x.append(e)))},Y=new y.Monad((function(){return ee}),(function(){return X})),X=new p.Bind((function(){return Z}),c._bind),Z=new h.Apply((function(){return q}),y.ap(Y)),ee=new d.Applicative((function(){return Z}),c._pure),te=new m.Lazy((function(e){return p.bind(X)(d.pure(ee)(R.unit))(e)})),ne=function(e){return new x.Semigroup(h.lift2(Z)(x.append(e)))},re=new O.MonadEffect((function(){return Y}),c._liftEffect),ie=(i=O.liftEffect(re),function(e){return T.const(i(e))}),oe=function(e){return c.makeAff((function(t){return A.map(I.functorEffect)(ie)(e.join(t))}))},ae=new A.Functor((function(e){return function(t){return N.unsafePerformEffect(V(A.map(q)(e)(oe(t))))}})),ue=new h.Apply((function(){return ae}),(function(e){return function(t){return N.unsafePerformEffect(V(h.apply(Z)(oe(e))(oe(t))))}})),se=new d.Applicative((function(){return ue}),(function(e){return N.unsafePerformEffect(V(d.pure(ee)(e)))})),ce=function(e){return function(t){return p.bind(X)(O.liftEffect(re)(t.isSuspended))((function(n){return n?O.liftEffect(re)(A.void(I.functorEffect)(t.kill(e,T.const(d.pure(I.applicativeEffect)(R.unit))))):c.makeAff((function(n){return A.map(I.functorEffect)(ie)(t.kill(e,n))}))}))}},fe=(o=T.flip(ce),function(e){return o(e)}),le=new v.MonadThrow((function(){return Y}),c._throwError),de=new v.MonadError((function(){return le}),c._catchError),he=v.try(de),pe=function(e){return function(t){return z(p.bindFlipped(X)((n=O.liftEffect(re),function(t){return n(e(t))}))(v.try(de)(t)));var n}},me=new w.Parallel((function(){return ye}),(function(){return Y}),L.unsafeCoerce,c._sequential),ye=new d.Applicative((function(){return J}),(a=w.parallel(me),u=d.pure(ee),function(e){return a(u(e))})),ve=new x.Semigroup((function(e){return function(t){return function(n){return b.parSequence_(me)(S.foldableArray)([e(n),t(n)])}}})),ge=new g.MonadRec((function(){return Y}),(function(e){var t=function(n){return p.bind(X)(e(n))((function(e){if(e instanceof g.Done)return d.pure(ee)(e.value0);if(e instanceof g.Loop)return t(e.value0);throw new Error("Failed pattern match at Effect.Aff (line 102, column 7 - line 104, column 22): "+[e.constructor.name])}))};return t})),be=T.const(d.pure(ee)(R.unit)),we=new P.Monoid((function(){return ve}),be),Ee=c.makeAff((function(e){return d.pure(I.applicativeEffect)(P.mempty(we))})),_e=(s=A.map(q)(T.const(R.unit)),function(e){return s(he(e))}),Se=new f.Alt((function(){return U}),c._parAffAlt),Te=new f.Alt((function(){return q}),(function(e){return function(t){return v.catchError(de)(e)(T.const(t))}})),Ae=new E.Plus((function(){return Te}),v.throwError(le)(M.error("Always fails"))),Pe=new E.Plus((function(){return Se}),w.parallel(me)(E.empty(Ae))),ke=new l.Alternative((function(){return ye}),(function(){return Pe}));e.exports={Canceler:j,launchAff:z,launchAff_:W,launchSuspendedAff:G,runAff:pe,runAff_:function(e){return function(t){return A.void(I.functorEffect)(pe(e)(t))}},runSuspendedAff:function(e){return function(t){return G(p.bindFlipped(X)((n=O.liftEffect(re),function(t){return n(e(t))}))(v.try(de)(t)));var n}},forkAff:H,suspendAff:B,supervise:function(e){var t=M.error("[Aff] Child fiber outlived parent"),n=function(e){return function(t){return c.makeAff((function(n){return c._killAll(e,t.supervisor,n(d.pure(_.applicativeEither)(R.unit)))}))}};return c.generalBracket(O.liftEffect(re)((function(){var t=c._makeSupervisedFiber(K,e)();return t.fiber.run(),t})))({killed:function(e){return function(t){return b.parSequence_(me)(S.foldableArray)([ce(e)(t.fiber),n(e)(t)])}},failed:T.const(n(t)),completed:T.const(n(t))})((function(e){return oe(e.fiber)}))},attempt:he,apathize:_e,delay:function(e){return c._delay(_.Right.create,e)},never:Ee,finally:function(e){return function(t){return $(d.pure(ee)(R.unit))(T.const(e))(T.const(t))}},invincible:function(e){return $(e)(T.const(d.pure(ee)(R.unit)))(d.pure(ee))},killFiber:ce,joinFiber:oe,cancelWith:function(e){return function(t){return c.generalBracket(d.pure(ee)(R.unit))({killed:function(e){return function(n){return t(e)}},failed:T.const(d.pure(ee)),completed:T.const(d.pure(ee))})(T.const(e))}},bracket:$,nonCanceler:be,effectCanceler:ie,fiberCanceler:fe,functorAff:q,applyAff:Z,applicativeAff:ee,bindAff:X,monadAff:Y,semigroupAff:ne,monoidAff:function(e){return new P.Monoid((function(){return ne(e.Semigroup0())}),d.pure(ee)(P.mempty(e)))},altAff:Te,plusAff:Ae,monadRecAff:ge,monadThrowAff:le,monadErrorAff:de,monadEffectAff:re,lazyAff:te,functorParAff:U,applyParAff:J,applicativeParAff:ye,semigroupParAff:Q,monoidParAff:function(e){return new P.Monoid((function(){return Q(e.Semigroup0())}),d.pure(ye)(P.mempty(e)))},altParAff:Se,plusParAff:Pe,alternativeParAff:ke,parallelAff:me,functorFiber:ae,applyFiber:ue,applicativeFiber:se,newtypeCanceler:F,semigroupCanceler:ve,monoidCanceler:we,makeAff:c.makeAff,generalBracket:c.generalBracket,catchError:v.catchError,throwError:v.throwError,try:v.try,parallel:w.parallel,sequential:w.sequential,Milliseconds:C.Milliseconds,error:M.error,message:M.message}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(98),i=n(22);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function u(e){return 1===e.length?"0"+e:e}function s(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=63&a|128):o(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=63&a|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=63&a|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=u(e[n].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=a(i)),n+=s(i.toString(16))}return n},t.zero2=u,t.zero8=s,t.join32=function(e,t,n,i){var o=n-t;r(o%4==0);for(var a=new Array(o/4),u=0,s=t;u<a.length;u++,s+=4){var c;c="big"===i?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],a[u]=c>>>0}return a},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var o=e[r];"big"===t?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],o=r+e[t+1]>>>0,a=(o<r?1:0)+n+i;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,o,a,u){var s=0,c=t;return s+=(c=c+r>>>0)<t?1:0,s+=(c=c+o>>>0)<o?1:0,e+n+i+a+(s+=(c=c+u>>>0)<u?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,o,a,u){return t+r+o+u>>>0},t.sum64_5_hi=function(e,t,n,r,i,o,a,u,s,c){var f=0,l=t;return f+=(l=l+r>>>0)<t?1:0,f+=(l=l+o>>>0)<o?1:0,f+=(l=l+u>>>0)<u?1:0,e+n+i+a+s+(f+=(l=l+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,o,a,u,s,c){return t+r+o+u+c>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},function(e,t,n){"use strict";var r=n(852);e.exports={unsafeHas:r.unsafeHas,unsafeGet:r.unsafeGet,unsafeSet:r.unsafeSet,unsafeDelete:r.unsafeDelete}},function(e,t,n){"use strict";var r=n(867),i=n(2),o=n(35),a=r.modifyImpl,u=function(e){return a((function(t){var n=e(t);return{state:n,value:n}}))};e.exports={"modify'":a,modify:u,modify_:function(e){return function(t){return i.void(o.functorEffect)(u(e)(t))}},new:r.new,newWithSelf:r.newWithSelf,read:r.read,write:r.write}},function(e,t,n){"use strict";var r=n(874),i=n(54),o=n(5),a=n(188),u=n(29),s=function(e){this.unfoldr1=e},c=function(e){return e.unfoldr1},f=new s((function(e){return function(t){return new o.Just(u.fst(e(t)))}})),l=new s(r.unfoldr1ArrayImpl(o.isNothing)(o.fromJust())(u.fst)(u.snd)),d=function(e){return function(t){return function(n){return c(e)((function(e){if(e<=0)return new u.Tuple(n,o.Nothing.value);if(i.otherwise)return new u.Tuple(n,new o.Just(e-1|0));throw new Error("Failed pattern match at Data.Unfoldable1 (line 67, column 5 - line 67, column 39): "+[e.constructor.name])}))(t-1|0)}}};e.exports={Unfoldable1:s,unfoldr1:c,replicate1:d,replicate1A:function(e){return function(t){return function(n){return function(r){return function(i){return a.sequence1(n)(e)(d(t)(r)(i))}}}}},singleton:function(e){return d(e)(1)},range:function(e){return function(t){return function(n){var r=n>=t?1:-1;return c(e)(function(e){return function(t){var r=t+e|0;return new u.Tuple(t,t===n?o.Nothing.value:new o.Just(r))}}(r))(t)}}},unfoldable1Array:l,unfoldable1Maybe:f}},function(e,t,n){"use strict";var r=n(11),i=n(78),o=n(345),a=n(36),u=n(23),s=n(2),c=n(5),f=n(24),l=n(220),d=n(95),h=n(101),p=n(269),m=n(349),y=n(10),v=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),g=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),b=y.unsafeCoerce,w=y.unsafeCoerce,E=y.unsafeCoerce,_=y.unsafeCoerce,S=function(e){return function(t){return function(n){if(n instanceof v)return b((function(n){return v.create(E({get:n.get,pop:n.pop,set:n.set,component:T(e)(t)(n.component),input:n.input,output:n.output}))}))(n.value0);if(n instanceof g)return g.create(m.hoist(i.lmap(d.bifunctorHTML)(S(e)(t)))(n.value0));throw new Error("Failed pattern match at Halogen.Component (line 279, column 17 - line 284, column 53): "+[n.constructor.name])}}},T=function(e){return function(t){return w((function(n){return _({initialState:n.initialState,render:(o=i.lmap(d.bifunctorHTML)(S(e)(t)),function(e){return o(n.render(e))}),eval:(r=h.hoist(e)(t),function(e){return r(n.eval(e))})});var r,o}))}},A=new s.Functor((function(e){return b((function(t){return E({get:t.get,pop:t.pop,set:t.set,component:t.component,input:t.input,output:s.map(s.functorFn)(s.map(c.functorMaybe)(e))(t.output)})}))})),P=new s.Functor((function(e){return function(t){if(t instanceof v)return new v(s.map(A)(e)(t.value0));if(t instanceof g)return new g(m.mapThunk(i.bimap(d.bifunctorHTML)(s.map(P)(e))(e))(t.value0));throw new Error("Failed pattern match at Halogen.Component (line 209, column 11 - line 211, column 74): "+[t.constructor.name])}})),k={handleAction:u.const(r.pure(h.applicativeHalogenM)(f.unit)),handleQuery:u.const(r.pure(h.applicativeHalogenM)(c.Nothing.value)),receive:u.const(c.Nothing.value),initialize:c.Nothing.value,finalize:c.Nothing.value};e.exports={mkComponent:_,unComponent:w,hoist:T,mkEval:function(e){return function(t){if(t instanceof p.Initialize)return s.voidLeft(h.functorHalogenM)(a.traverse_(h.applicativeHalogenM)(a.foldableMaybe)(e.handleAction)(e.initialize))(t.value0);if(t instanceof p.Finalize)return s.voidLeft(h.functorHalogenM)(a.traverse_(h.applicativeHalogenM)(a.foldableMaybe)(e.handleAction)(e.finalize))(t.value0);if(t instanceof p.Receive)return s.voidLeft(h.functorHalogenM)(a.traverse_(h.applicativeHalogenM)(a.foldableMaybe)(e.handleAction)(e.receive(t.value0)))(t.value1);if(t instanceof p.Action)return s.voidLeft(h.functorHalogenM)(e.handleAction(t.value0))(t.value1);if(t instanceof p.Query)return o.unCoyoneda((function(n){var r=s.map(h.functorHalogenM)(c.maybe(t.value1(f.unit))(n));return function(t){return r(e.handleQuery(t))}}))(t.value0);throw new Error("Failed pattern match at Halogen.Component (line 182, column 15 - line 192, column 70): "+[t.constructor.name])}},defaultEval:k,ComponentSlot:v,ThunkSlot:g,componentSlot:function(e){return function(e){return function(t){return function(n){return function(r){return function(i){return function(o){return function(a){return E({get:l.lookup()(e)(t)(n)(r),pop:l.pop()(e)(t)(n)(r),set:l.insert()(e)(t)(n)(r),component:i,input:o,output:a})}}}}}}}},mkComponentSlot:E,unComponentSlot:b,hoistSlot:S,functorComponentSlotBox:A,functorComponentSlot:P}},function(e,t,n){"use strict";const r=n(570);e.exports=function(e,t="utf8"){const n=r[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=[];r[23]=1,r[24]=2,r[25]=3,r[26]=5,r[27]=9,t.assertEnoughData=function(e,t,n){if(e.length-t<n)throw new Error("CBOR decode error: not enough data for type")},t.decodeErrPrefix="CBOR decode error:",t.encodeErrPrefix="CBOR encode error:",t.uintMinorPrefixBytes=r},function(e,t,n){"use strict";e.exports=async function*(e,t){for await(const n of e)yield t(n)}},function(e,t,n){"use strict";const r=n(4),{CID:i}=n(12),o=n(1308),a=n(97),u=e=>{if(e instanceof Uint8Array)return{cid:i.decode(e),toResolve:[]};const t=i.asCID(e);if(t)return{cid:t,toResolve:[]};if("string"==typeof e){0===e.indexOf("/ipfs/")&&(e=e.substring(6));const t=((e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean))(e);return{cid:i.parse(t[0]),toResolve:t.slice(1)}}throw r(new Error("Unknown path type "+e),"ERR_BAD_PATH")};async function*s(e,t,n={}){let{cid:i,toResolve:a}=u(e),s=i.toString(),c=s;const f=a.length;for(;;){const u=await o(i,s,c,a,f,t,n);if(!u.entry&&!u.next)throw r(new Error("Could not resolve "+e),"ERR_NOT_FOUND");if(u.entry&&(yield u.entry),!u.next)return;a=u.next.toResolve,i=u.next.cid,s=u.next.name,c=u.next.path}}async function c(e,t,n={}){const i=await a(s(e,t,n));if(!i)throw r(new Error("Could not resolve "+e),"ERR_NOT_FOUND");return i}e.exports={exporter:c,walkPath:s,recursive:async function*(e,t,n={}){const r=await c(e,t,n);if(r&&(yield r,"directory"===r.type))for await(const e of async function*e(t,n){for await(const r of t.content(n))yield r,r instanceof Uint8Array||"directory"===r.type&&(yield*e(r,n))}(r,n))yield e}}},function(e,t,n){"use strict";t.encode=n(1398),t.decode=n(1399),t.varintEncode=n(630),t.varintDecode=n(631),t.int32BEEncode=n(1400),t.int32BEDecode=n(1401)},function(e,t,n){"use strict";function r(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}var i=n(1430),o=n(400);e.exports=function(e,t){var n,a,u,s,c,f,l,d,h,p,m,y,v,g,b,w,E,_,S,T,A,P,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],a=new FormData,u=0,s=0,c=!0,f=!1,t.prev=6,d=r(i(e));case 8:return t.next=10,regeneratorRuntime.awrap(d.next());case 10:return h=t.sent,c=h.done,t.next=14,regeneratorRuntime.awrap(h.value);case 14:if(p=t.sent,c){t.next=41;break}if(y=(m=p).content,v=m.path,g=m.mode,b=m.mtime,w="",E=y?"file":"dir",u>0&&(w="-".concat(u)),_=E+w,S=[],null!=g&&S.push("mode=".concat(o(g))),null!=b&&(T=b.secs,A=b.nsecs,S.push("mtime=".concat(T)),null!=A&&S.push("mtime-nsecs=".concat(A))),S.length&&(_="".concat(_,"?").concat(S.join("&"))),!y){t.next=32;break}a.set(_,y,null!=v?encodeURIComponent(v):void 0),P=s+y.size,n.push({name:v,start:s,end:P}),s=P,t.next=37;break;case 32:if(null==v){t.next=36;break}a.set(_,new File([""],encodeURIComponent(v),{type:"application/x-directory"})),t.next=37;break;case 36:throw new Error("path or content or both must be set");case 37:u++;case 38:c=!0,t.next=8;break;case 41:t.next=47;break;case 43:t.prev=43,t.t0=t.catch(6),f=!0,l=t.t0;case 47:if(t.prev=47,t.prev=48,c||null==d.return){t.next=52;break}return t.next=52,regeneratorRuntime.awrap(d.return());case 52:if(t.prev=52,!f){t.next=55;break}throw l;case 55:return t.finish(52);case 56:return t.finish(47);case 57:return t.abrupt("return",{total:s,parts:n,headers:k,body:a});case 58:case"end":return t.stop()}}),null,null,[[6,43,47,57],[48,,52,56]],Promise)}},function(e,t,n){"use strict";var r=n(194).anySignal;function i(e){return e.filter(Boolean)}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(i(t))}},,,function(e,t,n){"use strict";var r=n(180),i=n(248),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?i(n):n}},function(e,t,n){"use strict";var r=n(2),i=function(e){this.imap=e},o=new i((function(e){return function(t){return function(t){return e(t)}}})),a=new i((function(e){return function(t){return function(n){return function(r){return e(n(t(r)))}}}})),u=new i((function(e){return function(t){return function(t){return e(t)}}})),s=new i((function(e){return function(t){return function(t){return e(t)}}})),c=new i((function(e){return function(t){return function(t){return e(t)}}})),f=new i((function(e){return function(t){return function(t){return e(t)}}})),l=function(e){return function(t){return function(n){return r.map(e)(t)}}},d=new i(l(r.functorArray)),h=new i(l(r.functorFn)),p=function(e){return e.imap};e.exports={imap:p,Invariant:i,imapF:l,invariantFn:h,invariantArray:d,invariantAdditive:f,invariantConj:c,invariantDisj:s,invariantDual:u,invariantEndo:a,invariantMultiplicative:o,invariantAlternate:function(e){return new i((function(t){return function(n){return function(r){return p(e)(t)(n)(r)}}}))}}},function(e,t,n){"use strict";var r=n(25),i=n(40),o=n(88),a=n(2),u=function(e,t){this.Monad0=e,this.ask=t},s=function(e,t){this.MonadAsk0=e,this.local=t},c=new u((function(){return i.monadFn}),r.identity(r.categoryFn)),f=new s((function(){return c}),o.composeFlipped(o.semigroupoidFn)),l=function(e){return e.ask};e.exports={ask:l,local:function(e){return e.local},MonadAsk:u,asks:function(e){return function(t){return a.map(e.Monad0().Bind1().Apply0().Functor0())(t)(l(e))}},MonadReader:s,monadAskFun:c,monadReaderFun:f}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(15),a=n(25),u=n(41),s=n(36),c=n(23),f=n(217),l=n(107),d=n(5),h=n(28),p=n(257),m=n(258),y=n(187),v=n(499),g=n(26),b=n(20),w=n(29),E=n(24),_=function(e,t,n,r){this.Foldable0=e,this.foldMapWithIndex=t,this.foldlWithIndex=n,this.foldrWithIndex=r},S=function(e){return e.foldrWithIndex},T=function(e){return function(t){return function(n){return S(t)((function(t){var r=i.applySecond(e.Apply0()),o=n(t);return function(e){return r(o(e))}}))(r.pure(e)(E.unit))}}},A=function(e){return e.foldlWithIndex},P=new _((function(){return s.foldableTuple}),(function(e){return function(e){return function(t){return e(E.unit)(t.value1)}}}),(function(e){return function(t){return function(n){return e(E.unit)(t)(n.value1)}}}),(function(e){return function(t){return function(n){return e(E.unit)(n.value1)(t)}}})),k=new _((function(){return s.foldableMultiplicative}),(function(e){return function(t){return s.foldMap(s.foldableMultiplicative)(e)(t(E.unit))}}),(function(e){return s.foldl(s.foldableMultiplicative)(e(E.unit))}),(function(e){return s.foldr(s.foldableMultiplicative)(e(E.unit))})),x=new _((function(){return s.foldableMaybe}),(function(e){return function(t){return s.foldMap(s.foldableMaybe)(e)(t(E.unit))}}),(function(e){return s.foldl(s.foldableMaybe)(e(E.unit))}),(function(e){return s.foldr(s.foldableMaybe)(e(E.unit))})),C=new _((function(){return s.foldableLast}),(function(e){return function(t){return s.foldMap(s.foldableLast)(e)(t(E.unit))}}),(function(e){return s.foldl(s.foldableLast)(e(E.unit))}),(function(e){return s.foldr(s.foldableLast)(e(E.unit))})),R=new _((function(){return s.foldableIdentity}),(function(e){return function(e){return function(t){return e(E.unit)(t)}}}),(function(e){return function(t){return function(n){return e(E.unit)(t)(n)}}}),(function(e){return function(t){return function(n){return e(E.unit)(n)(t)}}})),I=new _((function(){return s.foldableFirst}),(function(e){return function(t){return s.foldMap(s.foldableFirst)(e)(t(E.unit))}}),(function(e){return s.foldl(s.foldableFirst)(e(E.unit))}),(function(e){return s.foldr(s.foldableFirst)(e(E.unit))})),O=new _((function(){return s.foldableEither}),(function(e){return function(t){return function(n){if(n instanceof u.Left)return h.mempty(e);if(n instanceof u.Right)return t(E.unit)(n.value0);throw new Error("Failed pattern match at Data.FoldableWithIndex (line 164, column 1 - line 170, column 42): "+[t.constructor.name,n.constructor.name])}}}),(function(e){return function(t){return function(n){if(n instanceof u.Left)return t;if(n instanceof u.Right)return e(E.unit)(t)(n.value0);throw new Error("Failed pattern match at Data.FoldableWithIndex (line 164, column 1 - line 170, column 42): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}}),(function(e){return function(t){return function(n){if(n instanceof u.Left)return t;if(n instanceof u.Right)return e(E.unit)(n.value0)(t);throw new Error("Failed pattern match at Data.FoldableWithIndex (line 164, column 1 - line 170, column 42): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}})),M=new _((function(){return s.foldableDual}),(function(e){return function(t){return s.foldMap(s.foldableDual)(e)(t(E.unit))}}),(function(e){return s.foldl(s.foldableDual)(e(E.unit))}),(function(e){return s.foldr(s.foldableDual)(e(E.unit))})),N=new _((function(){return s.foldableDisj}),(function(e){return function(t){return s.foldMap(s.foldableDisj)(e)(t(E.unit))}}),(function(e){return s.foldl(s.foldableDisj)(e(E.unit))}),(function(e){return s.foldr(s.foldableDisj)(e(E.unit))})),D=new _((function(){return s.foldableConst}),(function(e){return function(t){return function(t){return h.mempty(e)}}}),(function(e){return function(e){return function(t){return e}}}),(function(e){return function(e){return function(t){return e}}})),L=new _((function(){return s.foldableConj}),(function(e){return function(t){return s.foldMap(s.foldableConj)(e)(t(E.unit))}}),(function(e){return s.foldl(s.foldableConj)(e(E.unit))}),(function(e){return s.foldr(s.foldableConj)(e(E.unit))})),j=new _((function(){return s.foldableAdditive}),(function(e){return function(t){return s.foldMap(s.foldableAdditive)(e)(t(E.unit))}}),(function(e){return s.foldl(s.foldableAdditive)(e(E.unit))}),(function(e){return s.foldr(s.foldableAdditive)(e(E.unit))})),B=function(e){return function(t){return function(n){return S(e)((function(e){return function(r){return function(i){return b.append(t.Semigroup0())(n(e)(r))(i)}}}))(h.mempty(t))}}},F=new _((function(){return s.foldableArray}),(function(e){return B(F)(e)}),(function(e){return function(t){var n=s.foldl(s.foldableArray)((function(t){return function(n){return e(n.value0)(t)(n.value1)}}))(t),r=l.mapWithIndex(l.functorWithIndexArray)(w.Tuple.create);return function(e){return n(r(e))}}}),(function(e){return function(t){var n=s.foldr(s.foldableArray)((function(t){return function(n){return e(t.value0)(t.value1)(n)}}))(t),r=l.mapWithIndex(l.functorWithIndexArray)(w.Tuple.create);return function(e){return n(r(e))}}})),U=function(e){return e.foldMapWithIndex};e.exports={FoldableWithIndex:_,foldrWithIndex:S,foldlWithIndex:A,foldMapWithIndex:U,foldrWithIndexDefault:function(e){return function(t){return function(n){return function(r){return g.unwrap()(U(e)(v.monoidEndo(a.categoryFn))((function(e){var n=t(e);return function(e){return v.Endo(n(e))}}))(r))(n)}}}},foldlWithIndexDefault:function(e){return function(t){return function(n){return function(r){return g.unwrap()(g.unwrap()(U(e)(y.monoidDual(v.monoidEndo(a.categoryFn)))((function(e){var n=c.flip(t(e));return function(e){return y.Dual(v.Endo(n(e)))}}))(r)))(n)}}}},foldMapWithIndexDefaultR:B,foldMapWithIndexDefaultL:function(e){return function(t){return function(n){return A(e)((function(e){return function(r){return function(i){return b.append(t.Semigroup0())(r)(n(e)(i))}}}))(h.mempty(t))}}},foldWithIndexM:function(e){return function(t){return function(n){return function(i){return A(e)((function(e){return function(r){return function(i){return o.bind(t.Bind1())(r)(c.flip(n(e))(i))}}}))(r.pure(t.Applicative0())(i))}}}},traverseWithIndex_:T,forWithIndex_:function(e){return function(t){return c.flip(T(e)(t))}},surroundMapWithIndex:function(e){return function(t){return function(n){return function(r){return function(i){return g.unwrap()(U(e)(v.monoidEndo(a.categoryFn))((function(e){return function(i){return function(o){return b.append(t)(n)(b.append(t)(r(e)(i))(o))}}}))(i))(n)}}}}},allWithIndex:function(e){return function(t){return function(n){var r=g.unwrap(),i=U(e)(p.monoidConj(t))((function(e){var t=n(e);return function(e){return p.Conj(t(e))}}));return function(e){return r(i(e))}}}},anyWithIndex:function(e){return function(t){return function(n){var r=g.unwrap(),i=U(e)(m.monoidDisj(t))((function(e){var t=n(e);return function(e){return m.Disj(t(e))}}));return function(e){return r(i(e))}}}},findWithIndex:function(e){return function(t){return A(e)((function(e){return function(n){return function(r){return n instanceof d.Nothing&&t(e)(r)?new d.Just({index:e,value:r}):n}}}))(d.Nothing.value)}},findMapWithIndex:function(e){return function(t){return A(e)((function(e){return function(n){return function(r){return n instanceof d.Nothing?t(e)(r):n}}}))(d.Nothing.value)}},foldrDefault:function(e){return function(t){return S(e)(c.const(t))}},foldlDefault:function(e){return function(t){return A(e)(c.const(t))}},foldMapDefault:function(e){return function(t){return function(n){return U(e)(t)(c.const(n))}}},foldableWithIndexArray:F,foldableWithIndexMaybe:x,foldableWithIndexFirst:I,foldableWithIndexLast:C,foldableWithIndexAdditive:j,foldableWithIndexDual:M,foldableWithIndexDisj:N,foldableWithIndexConj:L,foldableWithIndexMultiplicative:k,foldableWithIndexEither:O,foldableWithIndexTuple:P,foldableWithIndexIdentity:R,foldableWithIndexConst:D,foldableWithIndexProduct:function(e){return function(t){return new _((function(){return s.foldableProduct(e.Foldable0())(t.Foldable0())}),(function(n){return function(r){return function(i){return b.append(n.Semigroup0())(U(e)(n)((function(e){return r(u.Left.create(e))}))(i.value0))(U(t)(n)((function(e){return r(u.Right.create(e))}))(i.value1))}}}),(function(n){return function(r){return function(i){return A(t)((function(e){return n(u.Right.create(e))}))(A(e)((function(e){return n(u.Left.create(e))}))(r)(i.value0))(i.value1)}}}),(function(n){return function(r){return function(i){return S(e)((function(e){return n(u.Left.create(e))}))(S(t)((function(e){return n(u.Right.create(e))}))(r)(i.value1))(i.value0)}}}))}},foldableWithIndexCoproduct:function(e){return function(t){return new _((function(){return s.foldableCoproduct(e.Foldable0())(t.Foldable0())}),(function(n){return function(r){return f.coproduct(U(e)(n)((function(e){return r(u.Left.create(e))})))(U(t)(n)((function(e){return r(u.Right.create(e))})))}}),(function(n){return function(r){return f.coproduct(A(e)((function(e){return n(u.Left.create(e))}))(r))(A(t)((function(e){return n(u.Right.create(e))}))(r))}}),(function(n){return function(r){return f.coproduct(S(e)((function(e){return n(u.Left.create(e))}))(r))(S(t)((function(e){return n(u.Right.create(e))}))(r))}}))}},foldableWithIndexCompose:function(e){return function(t){return new _((function(){return s.foldableCompose(e.Foldable0())(t.Foldable0())}),(function(n){return function(r){return function(i){return U(e)(n)((o=U(t)(n),a=w.curry(r),function(e){return o(a(e))}))(i);var o,a}}}),(function(n){return function(r){return function(i){return A(e)((o=A(t),a=w.curry(n),function(e){return o(a(e))}))(r)(i);var o,a}}}),(function(n){return function(r){return function(i){return S(e)((function(e){return c.flip(S(t)(w.curry(n)(e)))}))(r)(i)}}}))}},foldableWithIndexApp:function(e){return new _((function(){return s.foldableApp(e.Foldable0())}),(function(t){return function(n){return function(r){return U(e)(t)(n)(r)}}}),(function(t){return function(n){return function(r){return A(e)(t)(n)(r)}}}),(function(t){return function(n){return function(r){return S(e)(t)(n)(r)}}}))}}},function(e,t,n){"use strict";var r,i=n(32),o=n(11),a=n(19),u=n(15),s=n(25),c=n(89),f=n(74),l=n(78),d=n(54),h=n(13),p=n(36),m=n(23),y=n(2),v=n(107),g=n(90),b=n(512),w=n(70),E=n(5),_=n(26),S=n(146),T=n(16),A=n(34),P=n(20),k=n(18),x=n(56),C=n(29),R=n(79),I=n(24),O=function(e){return function(t){return function(n){return 0===e&&n instanceof w.Cons?new E.Just(new w.Cons(t,n.value1)):n instanceof w.Cons?y.map(E.functorMaybe)((function(e){return new w.Cons(n.value0,e)}))(O(e-1|0)(t)(n.value1)):E.Nothing.value}}},M=p.foldr(w.foldableList)((function(e){return function(t){return new C.Tuple(new w.Cons(e.value0,t.value0),new w.Cons(e.value1,t.value1))}}))(new C.Tuple(w.Nil.value,w.Nil.value)),N=function(e){if(e instanceof w.Nil)return E.Nothing.value;if(e instanceof w.Cons)return new E.Just({head:e.value0,tail:e.value1});throw new Error("Failed pattern match at Data.List (line 263, column 1 - line 263, column 66): "+[e.constructor.name])},D=function(e){if(e instanceof w.Nil)return E.Nothing.value;if(e instanceof w.Cons)return new E.Just(e.value1);throw new Error("Failed pattern match at Data.List (line 249, column 1 - line 249, column 43): "+[e.constructor.name])},L=function(e){return function(t){if(t instanceof w.Cons&&e(t.value0)){var n=L(e)(t.value1);return{init:new w.Cons(t.value0,n.init),rest:n.rest}}return{init:w.Nil.value,rest:t}}},j=function(e){return new w.Cons(e,w.Nil.value)},B=function(e){var t=function(n){return function(r){if(n instanceof w.Cons&&r instanceof w.Cons){if(h.eq(A.eqOrdering)(e(n.value0)(r.value0))(A.GT.value))return new w.Cons(r.value0,t(n)(r.value1));if(d.otherwise)return new w.Cons(n.value0,t(n.value1)(r))}if(n instanceof w.Nil)return r;if(r instanceof w.Nil)return n;throw new Error("Failed pattern match at Data.List (line 477, column 3 - line 477, column 38): "+[n.constructor.name,r.constructor.name])}},n=function(e){return e instanceof w.Cons&&e.value1 instanceof w.Cons?new w.Cons(t(e.value0)(e.value1.value0),n(e.value1.value1)):e},r=function(t){if(t instanceof w.Cons&&t.value1 instanceof w.Cons){if(h.eq(A.eqOrdering)(e(t.value0)(t.value1.value0))(A.GT.value))return i(t.value1.value0)(j(t.value0))(t.value1.value1);if(d.otherwise)return o(t.value1.value0)((function(e){return new w.Cons(t.value0,e)}))(t.value1.value1)}return j(t)},i=function(t){return function(n){return function(i){var o,a,u,s,c=t,f=n,l=!1;for(;!l;)a=c,u=f,o=(s=i)instanceof w.Cons&&h.eq(A.eqOrdering)(e(a)(s.value0))(A.GT.value)?(c=s.value0,f=new w.Cons(a,u),void(i=s.value1)):(l=!0,new w.Cons(new w.Cons(a,u),r(s)));return o}}},o=function(t){return function(n){return function(i){var o,a=t,u=n,s=!1;function c(t,n,o){return o instanceof w.Cons&&h.notEq(A.eqOrdering)(e(t)(o.value0))(A.GT.value)?(a=o.value0,u=function(e){return n(new w.Cons(t,e))},void(i=o.value1)):(s=!0,new w.Cons(n(j(t)),r(o)))}for(;!s;)o=c(a,u,i);return o}}};return function(e){return function(e){var t,r=!1;function i(t){if(t instanceof w.Cons&&t.value1 instanceof w.Nil)return r=!0,t.value0;e=n(t)}for(;!r;)t=i(e);return t}(r(e))}},F=function(e){return function(t){return B(T.compare(e))(t)}},U=(r=w.Nil.value,function(e){var t,n=r,i=!1;function o(t,r){if(r instanceof w.Nil)return i=!0,t;if(r instanceof w.Cons)return n=new w.Cons(r.value0,t),void(e=r.value1);throw new Error("Failed pattern match at Data.List (line 372, column 3 - line 372, column 19): "+[t.constructor.name,r.constructor.name])}for(;!i;)t=o(n,e);return t}),q=function(e){return function(t){return function(n){var r,i=e,o=t,a=!1;function u(e,t,r){if(t<1)return a=!0,U(e);if(r instanceof w.Nil)return a=!0,U(e);if(r instanceof w.Cons)return i=new w.Cons(r.value0,e),o=t-1|0,void(n=r.value1);throw new Error("Failed pattern match at Data.List (line 524, column 3 - line 524, column 35): "+[e.constructor.name,t.constructor.name,r.constructor.name])}for(;!a;)r=u(i,o,n);return r}}}(w.Nil.value),H=function(e){var t;return y.map(E.functorMaybe)((function(e){return{init:U(e.revInit),last:e.last}}))((t=e,function(e){var n,r=t,i=!1;function o(t,n){if(t instanceof w.Nil)return i=!0,E.Nothing.value;if(t instanceof w.Cons&&t.value1 instanceof w.Nil)return i=!0,new E.Just({revInit:n,last:t.value0});if(t instanceof w.Cons)return r=t.value1,void(e=new w.Cons(t.value0,n));throw new Error("Failed pattern match at Data.List (line 274, column 3 - line 274, column 21): "+[t.constructor.name,n.constructor.name])}for(;!i;)n=o(r,e);return n})(w.Nil.value))},K=function(e){return function(t){return function(n){var r;return U((r=t,function(t){return function(n){var i,o=r,a=t,u=!1;function s(t,r,i){if(t instanceof w.Nil)return u=!0,i;if(r instanceof w.Nil)return u=!0,i;if(t instanceof w.Cons&&r instanceof w.Cons)return o=t.value1,a=r.value1,void(n=new w.Cons(e(t.value0)(r.value0),i));throw new Error("Failed pattern match at Data.List (line 795, column 3 - line 795, column 21): "+[t.constructor.name,r.constructor.name,i.constructor.name])}for(;!u;)i=s(o,a,n);return i}})(n)(w.Nil.value))}}},V=K(C.Tuple.create),z=function(e){var t,n=(t=b.emptySet,function(n){return function(r){var i,o=t,a=n,u=!1;function s(t,n,i){if(i instanceof w.Nil)return u=!0,n;if(i instanceof w.Cons){var s=b.insertAndLookupBy(e)(i.value0)(t);return s.found?(o=s.result,a=n,void(r=i.value1)):(o=s.result,a=new w.Cons(i.value0,n),void(r=i.value1))}throw new Error("Failed pattern match at Data.List (line 689, column 5 - line 689, column 23): "+[t.constructor.name,n.constructor.name,i.constructor.name])}for(;!u;)i=s(o,a,r);return i}})(w.Nil.value);return function(e){return U(n(e))}},W=new _.Newtype((function(){})),G=v.mapWithIndex(w.functorWithIndexList),$=function(e){return function(t){return function(n){var r,i=t,o=!1;function a(t,r){if(r instanceof w.Nil)return o=!0,U(t);if(r instanceof w.Cons){var a=e(r.value0);if(a instanceof E.Nothing)return i=t,void(n=r.value1);if(a instanceof E.Just)return i=new w.Cons(a.value0,t),void(n=r.value1);throw new Error("Failed pattern match at Data.List (line 423, column 5 - line 425, column 32): "+[a.constructor.name])}throw new Error("Failed pattern match at Data.List (line 421, column 3 - line 421, column 27): "+[t.constructor.name,r.constructor.name])}for(;!o;)r=a(i,n);return r}}(w.Nil.value)},J=function(e){return function(t){return function(n){return f.tailRecM(e)((function(r){return u.bind(e.Monad0().Bind1())(i.alt(t.Plus1().Alt0())(y.map(t.Plus1().Alt0().Functor0())(f.Loop.create)(n))(o.pure(t.Applicative0())(new f.Done(I.unit))))((function(e){return o.pure(t.Applicative0())(l.bimap(f.bifunctorStep)((function(e){return new w.Cons(e,r)}))((function(e){return U(r)}))(e))}))}))(w.Nil.value)}}},Q=function(e){return function(t){return function(n){return a.apply(e.Applicative0().Apply0())(y.map(e.Plus1().Alt0().Functor0())(w.Cons.create)(n))(c.defer(t)((function(r){return Y(e)(t)(n)})))}}},Y=function(e){return function(t){return function(n){return i.alt(e.Plus1().Alt0())(Q(e)(t)(n))(o.pure(e.Applicative0())(w.Nil.value))}}},X=p.foldl(w.foldableList)((function(e){return function(t){return e+1|0}}))(0),Z=function(e){return function(t){return function(n){if(n instanceof w.Nil)return j(t);if(n instanceof w.Cons)return e(t)(n.value0)instanceof A.GT?new w.Cons(n.value0,Z(e)(t)(n.value1)):new w.Cons(t,n);throw new Error("Failed pattern match at Data.List (line 220, column 1 - line 220, column 68): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}},ee=function(e){return function(t){return function(n){return 0===e?new E.Just(new w.Cons(t,n)):n instanceof w.Cons?y.map(E.functorMaybe)((function(e){return new w.Cons(n.value0,e)}))(ee(e-1|0)(t)(n.value1)):E.Nothing.value}}},te=function(e){if(e instanceof w.Nil)return E.Nothing.value;if(e instanceof w.Cons)return new E.Just(e.value0);throw new Error("Failed pattern match at Data.List (line 234, column 1 - line 234, column 22): "+[e.constructor.name])},ne=function(e){if(e instanceof w.Nil)return w.Nil.value;if(e instanceof w.Cons&&e.value0 instanceof w.Nil)return ne(e.value1);if(e instanceof w.Cons&&e.value0 instanceof w.Cons)return new w.Cons(new w.Cons(e.value0.value0,$(te)(e.value1)),ne(new w.Cons(e.value0.value1,$(D)(e.value1))));throw new Error("Failed pattern match at Data.List (line 829, column 1 - line 829, column 54): "+[e.constructor.name])},re=function(e){return function(t){if(t instanceof w.Nil)return w.Nil.value;if(t instanceof w.Cons){var n=L(e(t.value0))(t.value1);return new w.Cons(new S.NonEmpty(t.value0,n.init),re(e)(n.rest))}throw new Error("Failed pattern match at Data.List (line 624, column 1 - line 624, column 80): "+[e.constructor.name,t.constructor.name])}},ie=function(e){return re(h.eq(e))},oe=function(e){var t=ie(e.Eq0()),n=F(e);return function(e){return t(n(e))}},ae=function(e){return function(t){return function(n){return function(r){if(r instanceof w.Nil)return o.pure(e.Applicative0())(n);if(r instanceof w.Cons)return u.bind(e.Bind1())(t(n)(r.value0))((function(n){return ae(e)(t)(n)(r.value1)}));throw new Error("Failed pattern match at Data.List (line 840, column 1 - line 840, column 72): "+[t.constructor.name,n.constructor.name,r.constructor.name])}}}},ue=function(e){var t;return t=0,function(n){var r,i=t,o=!1;function a(t,r){if(r instanceof w.Cons){if(e(r.value0))return o=!0,new E.Just(t);if(d.otherwise)return i=t+1|0,void(n=r.value1)}if(r instanceof w.Nil)return o=!0,E.Nothing.value;throw new Error("Failed pattern match at Data.List (line 305, column 3 - line 305, column 35): "+[t.constructor.name,r.constructor.name])}for(;!o;)r=a(i,n);return r}},se=function(e){return function(t){return y.map(E.functorMaybe)((function(e){return(X(t)-1|0)-e|0}))(ue(e)(U(t)))}},ce=function(e){return function(t){return function(n){if(n instanceof w.Nil)return o.pure(e.Applicative0())(w.Nil.value);if(n instanceof w.Cons)return u.bind(e.Bind1())(t(n.value0))((function(r){return u.bind(e.Bind1())(ce(e)(t)(n.value1))((function(t){return o.pure(e.Applicative0())(r?new w.Cons(n.value0,t):t)}))}));throw new Error("Failed pattern match at Data.List (line 407, column 1 - line 407, column 75): "+[t.constructor.name,n.constructor.name])}}},fe=function(e){return function(t){return function(n){var r,i=t,o=!1;function a(t,r){if(r instanceof w.Nil)return o=!0,U(t);if(r instanceof w.Cons){if(e(r.value0))return i=new w.Cons(r.value0,t),void(n=r.value1);if(d.otherwise)return i=t,void(n=r.value1)}throw new Error("Failed pattern match at Data.List (line 394, column 3 - line 394, column 27): "+[t.constructor.name,r.constructor.name])}for(;!o;)r=a(i,n);return r}}(w.Nil.value)},le=function(e){return function(t){return function(n){return t instanceof w.Nil||n instanceof w.Nil?w.Nil.value:fe((function(t){return p.any(w.foldableList)(g.heytingAlgebraBoolean)(e(t))(n)}))(t)}}},de=function(e){return function(t){if(t instanceof w.Nil)return w.Nil.value;if(t instanceof w.Cons)return new w.Cons(t.value0,de(e)(fe((function(n){return!e(t.value0)(n)}))(t.value1)));throw new Error("Failed pattern match at Data.List (line 721, column 1 - line 721, column 61): "+[e.constructor.name,t.constructor.name])}},he=function(e){return new h.Eq((function(t){return function(n){return h.eq(w.eqList(e))(t)(n)}}))},pe=function(e){return function(t){var n,r=e,i=!1;function o(e,n){if(e<1)return i=!0,n;if(n instanceof w.Nil)return i=!0,w.Nil.value;if(n instanceof w.Cons)return r=e-1|0,void(t=n.value1);throw new Error("Failed pattern match at Data.List (line 547, column 1 - line 547, column 42): "+[e.constructor.name,n.constructor.name])}for(;!i;)n=o(r,t);return n}},me=function(e){return function(t){return function(n){if(n instanceof w.Nil)return w.Nil.value;if(n instanceof w.Cons&&e(t)(n.value0))return n.value1;if(n instanceof w.Cons)return new w.Cons(n.value0,me(e)(t)(n.value1));throw new Error("Failed pattern match at Data.List (line 748, column 1 - line 748, column 67): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}},ye=function(e){return function(t){return function(n){return P.append(w.semigroupList)(t)(p.foldl(w.foldableList)(m.flip(me(e)))(de(e)(n))(t))}}},ve=function(e){return function(t){return 0===e&&t instanceof w.Cons?new E.Just(t.value1):t instanceof w.Cons?y.map(E.functorMaybe)((function(e){return new w.Cons(t.value0,e)}))(ve(e-1|0)(t.value1)):E.Nothing.value}},ge=function(e){return me(h.eq(e))},be=m.flip(u.bind(w.bindList)),we=$(s.identity(s.categoryFn)),Ee=function(e){return function(t){return function(n){return 0===e&&n instanceof w.Cons?E.Just.create(function(){var e=t(n.value0);if(e instanceof E.Nothing)return n.value1;if(e instanceof E.Just)return new w.Cons(e.value0,n.value1);throw new Error("Failed pattern match at Data.List (line 356, column 3 - line 358, column 23): "+[e.constructor.name])}()):n instanceof w.Cons?y.map(E.functorMaybe)((function(e){return new w.Cons(n.value0,e)}))(Ee(e-1|0)(t)(n.value1)):E.Nothing.value}}};e.exports={toUnfoldable:function(e){return R.unfoldr(e)((function(e){return y.map(E.functorMaybe)((function(e){return new C.Tuple(e.head,e.tail)}))(N(e))}))},fromFoldable:function(e){return p.foldr(e)(w.Cons.create)(w.Nil.value)},singleton:j,range:function(e){return function(t){if(e===t)return j(e);if(d.otherwise){return(n=t,function(e){return function(t){return function(r){var i,o=n,a=e,u=t,s=!1;function c(e,t,n,i){if(e===t)return s=!0,new w.Cons(e,i);if(d.otherwise)return o=e+n|0,a=t,u=n,void(r=new w.Cons(e,i));throw new Error("Failed pattern match at Data.List (line 152, column 3 - line 153, column 65): "+[e.constructor.name,t.constructor.name,n.constructor.name,i.constructor.name])}for(;!s;)i=c(o,a,u,r);return i}}})(e)(e>t?1:-1)(w.Nil.value)}var n;throw new Error("Failed pattern match at Data.List (line 148, column 1 - line 148, column 32): "+[e.constructor.name,t.constructor.name])}},some:Q,someRec:function(e){return function(t){return function(n){return a.apply(t.Applicative0().Apply0())(y.map(t.Plus1().Alt0().Functor0())(w.Cons.create)(n))(J(e)(t)(n))}}},many:Y,manyRec:J,null:function(e){return e instanceof w.Nil},length:X,snoc:function(e){return function(t){return p.foldr(w.foldableList)(w.Cons.create)(new w.Cons(t,w.Nil.value))(e)}},insert:function(e){return Z(T.compare(e))},insertBy:Z,head:te,last:function(e){var t,n,r=!1;for(;!r;)t=(n=e)instanceof w.Cons&&n.value1 instanceof w.Nil?(r=!0,new E.Just(n.value0)):n instanceof w.Cons?void(e=n.value1):(r=!0,E.Nothing.value);return t},tail:D,init:function(e){return y.map(E.functorMaybe)((function(e){return e.init}))(H(e))},uncons:N,unsnoc:H,index:function(e){return function(t){var n,r=e,i=!1;function o(e,n){if(e instanceof w.Nil)return i=!0,E.Nothing.value;if(e instanceof w.Cons&&0===n)return i=!0,new E.Just(e.value0);if(e instanceof w.Cons)return r=e.value1,void(t=n-1|0);throw new Error("Failed pattern match at Data.List (line 285, column 1 - line 285, column 44): "+[e.constructor.name,n.constructor.name])}for(;!i;)n=o(r,t);return n}},elemIndex:function(e){return function(t){return ue((function(n){return h.eq(e)(n)(t)}))}},elemLastIndex:function(e){return function(t){return se((function(n){return h.eq(e)(n)(t)}))}},findIndex:ue,findLastIndex:se,insertAt:ee,deleteAt:ve,updateAt:O,modifyAt:function(e){return function(t){return Ee(e)((function(e){return E.Just.create(t(e))}))}},alterAt:Ee,reverse:U,concat:function(e){return u.bind(w.bindList)(e)(s.identity(s.categoryFn))},concatMap:be,filter:fe,filterM:ce,mapMaybe:$,catMaybes:we,mapWithIndex:G,sort:F,sortBy:B,Pattern:function(e){return e},stripPrefix:function(e){return function(t){return function(n){return f.tailRecM2(f.monadRecMaybe)((function(t){return function(n){return t instanceof w.Cons&&n instanceof w.Cons&&h.eq(e)(t.value0)(n.value0)?E.Just.create(new f.Loop({a:t.value1,b:n.value1})):t instanceof w.Nil?E.Just.create(new f.Done(n)):E.Nothing.value}}))(t)(n)}}},slice:function(e){return function(t){return function(n){return q(t-e|0)(pe(e)(n))}}},take:q,takeEnd:function(e){return function(t){return pe(X(t)-e|0)(t)}},takeWhile:function(e){return function(t){return function(n){var r,i,o,a=t,u=!1;for(;!u;)i=a,r=(o=n)instanceof w.Cons&&e(o.value0)?(a=new w.Cons(o.value0,i),void(n=o.value1)):(u=!0,U(i));return r}}(w.Nil.value)},drop:pe,dropEnd:function(e){return function(t){return q(X(t)-e|0)(t)}},dropWhile:function(e){return function(t){var n,r=!1;function i(n){if(!(n instanceof w.Cons&&e(n.value0)))return r=!0,n;t=n.value1}for(;!r;)n=i(t);return n}},span:L,group:ie,groupAll:oe,"group'":function(e){return function(e){return oe(e)}},groupBy:re,groupAllBy:function(e){return function(t){var n=re(t),r=F(e);return function(e){return n(r(e))}}},partition:function(e){return function(t){return p.foldr(w.foldableList)((function(t){return function(n){return e(t)?{no:n.no,yes:new w.Cons(t,n.yes)}:{no:new w.Cons(t,n.no),yes:n.yes}}}))({no:w.Nil.value,yes:w.Nil.value})(t)}},nub:function(e){return z(T.compare(e))},nubBy:z,nubEq:function(e){return de(h.eq(e))},nubByEq:de,union:function(e){return ye(h.eq(e))},unionBy:ye,delete:ge,deleteBy:me,difference:function(e){return p.foldl(w.foldableList)(m.flip(ge(e)))},intersect:function(e){return le(h.eq(e))},intersectBy:le,zipWith:K,zipWithA:function(e){return function(t){return function(n){return function(r){return x.sequence(w.traversableList)(e)(K(t)(n)(r))}}}},zip:V,unzip:M,transpose:ne,foldM:ae,eqPattern:he,ordPattern:function(e){return new T.Ord((function(){return he(e.Eq0())}),(function(t){return function(n){return T.compare(w.ordList(e))(t)(n)}}))},newtypePattern:W,showPattern:function(e){return new k.Show((function(t){return"(Pattern "+k.show(w.showList(e))(t)+")"}))},all:p.all,any:p.any,elem:p.elem,find:p.find,findMap:p.findMap,fold:p.fold,foldMap:p.foldMap,foldl:p.foldl,foldr:p.foldr,intercalate:p.intercalate,notElem:p.notElem,Cons:w.Cons,Nil:w.Nil,scanl:x.scanl,scanr:x.scanr}},function(e,t,n){"use strict";var r=n(1044),i=n(34),o=r._localeCompare(i.LT.value)(i.EQ.value)(i.GT.value);e.exports={null:function(e){return""===e},localeCompare:o,replace:r.replace,replaceAll:r.replaceAll,split:r.split,toLower:r.toLower,toUpper:r.toUpper,trim:r.trim,joinWith:r.joinWith}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new Uint8Array(0);t.coerce=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},t.empty=r,t.equals=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},t.fromHex=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map(e=>parseInt(e,16))):r},t.fromString=e=>(new TextEncoder).encode(e),t.isBinary=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),t.toHex=e=>e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),t.toString=e=>(new TextDecoder).decode(e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1102),i=n(130);class o{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class a{constructor(e,t,n){this.name=e,this.prefix=t,this.baseDecode=n}decode(e){if("string"!=typeof e)throw Error("Can only multibase decode strings");switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}}or(e){const t={[this.prefix]:this,...e.decoders||{[e.prefix]:e}};return new u(t)}}class u{constructor(e){this.decoders=e}or(e){const t=e.decoders||{[e.prefix]:e};return new u({...this.decoders,...t})}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}class s{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new o(e,t,n),this.decoder=new a(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const c=({name:e,prefix:t,encode:n,decode:r})=>new s(e,t,n,r);t.Codec=s,t.baseX=({prefix:e,name:t,alphabet:n})=>{const{encode:o,decode:a}=r(n,t);return c({prefix:e,name:t,encode:o,decode:e=>i.coerce(a(e))})},t.from=c,t.rfc4648=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>c({prefix:t,name:e,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],i=(1<<n)-1;let o="",a=0,u=0;for(let r=0;r<e.length;++r)for(u=u<<8|e[r],a+=8;a>n;)a-=n,o+=t[i&u>>a];if(a&&(o+=t[i&u<<n-a]),r)for(;o.length*n&7;)o+="=";return o})(e,r,n),decode:t=>((e,t,n,r)=>{const i={};for(let e=0;e<t.length;++e)i[t[e]]=e;let o=e.length;for(;"="===e[o-1];)--o;const a=new Uint8Array(o*n/8|0);let u=0,s=0,c=0;for(let t=0;t<o;++t){const o=i[e[t]];if(void 0===o)throw new SyntaxError(`Non-${r} character`);s=s<<n|o,u+=n,u>=8&&(u-=8,a[c++]=255&s>>u)}if(u>=n||255&s<<8-u)throw new SyntaxError("Unexpected end of data");return a})(t,r,n,e)})},function(e,t,n){"use strict";const r=n(570);e.exports=function(e,t="utf8"){const n=r[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${e}`)}},function(e,t,n){"use strict";const r=n(573),i=n(1149),o=n(358);t.aes=i,t.hmac=r,t.keys=o,t.randomBytes=n(283),t.pbkdf2=n(1152)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(104),i=n(116);const o=[24,256,65536,4294967296,BigInt("18446744073709551616")];function a(e,t,n){i.assertEnoughData(e,t,1);const r=e[t];if(!0===n.strict&&r<o[0])throw new Error(i.decodeErrPrefix+" integer encoded in more bytes than necessary (strict decode)");return r}function u(e,t,n){i.assertEnoughData(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<o[1])throw new Error(i.decodeErrPrefix+" integer encoded in more bytes than necessary (strict decode)");return r}function s(e,t,n){i.assertEnoughData(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<o[2])throw new Error(i.decodeErrPrefix+" integer encoded in more bytes than necessary (strict decode)");return r}function c(e,t,n){i.assertEnoughData(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],a=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],u=(BigInt(r)<<BigInt(32))+BigInt(a);if(!0===n.strict&&u<o[3])throw new Error(i.decodeErrPrefix+" integer encoded in more bytes than necessary (strict decode)");if(u<=Number.MAX_SAFE_INTEGER)return Number(u);if(!0===n.allowBigInt)return u;throw new Error(i.decodeErrPrefix+" integers outside of the safe integer range are not supported")}function f(e,t){return l(e,0,t.value)}function l(e,t,n){if(n<o[0]){const r=Number(n);e.push([t|r])}else if(n<o[1]){const r=Number(n);e.push([24|t,r])}else if(n<o[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<o[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<o[4]))throw new Error(i.decodeErrPrefix+" encountered BigInt larger than allowable range");{const n=[27|t,0,0,0,0,0,0,0];let i=Number(r&BigInt(4294967295)),o=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&i,i>>=8,n[7]=255&i,i>>=8,n[6]=255&i,i>>=8,n[5]=255&i,n[4]=255&o,o>>=8,n[3]=255&o,o>>=8,n[2]=255&o,o>>=8,n[1]=255&o,e.push(n)}}}f.encodedSize=function(e){return l.encodedSize(e.value)},l.encodedSize=function(e){return e<o[0]?1:e<o[1]?2:e<o[2]?3:e<o[3]?5:9},f.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0},t.decodeUint16=function(e,t,n,i){return new r.Token(r.Type.uint,u(e,t+1,i),3)},t.decodeUint32=function(e,t,n,i){return new r.Token(r.Type.uint,s(e,t+1,i),5)},t.decodeUint64=function(e,t,n,i){return new r.Token(r.Type.uint,c(e,t+1,i),9)},t.decodeUint8=function(e,t,n,i){return new r.Token(r.Type.uint,a(e,t+1,i),2)},t.encodeUint=f,t.encodeUintValue=l,t.readUint16=u,t.readUint32=s,t.readUint64=c,t.readUint8=a,t.uintBoundaries=o},function(e,t,n){"use strict";e.exports=async e=>{for await(const t of e);}},function(e,t,n){const r=n(595);e.exports=e=>{let t;"function"==typeof(e=e||{})?(t=e,e={}):t=e.onEnd;let n,i,o,a=new r;const u=e=>i?i(e):(a.push(e),n),s=e=>o?n:u({done:!1,value:e}),c=e=>o?n:(o=!0,e?(e=>(a=new r,i?i({error:e}):(a.push({error:e}),n)))(e):u({done:!0}));if(n={[Symbol.asyncIterator](){return this},next:()=>{if(!a.isEmpty()){if(e.writev){let e;const t=[];for(;!a.isEmpty();){if(e=a.shift(),e.error)throw e.error;t.push(e.value)}return{done:e.done,value:t}}const t=a.shift();if(t.error)throw t.error;return t}return o?{done:!0}:new Promise((t,r)=>{i=o=>(i=null,o.error?r(o.error):e.writev&&!o.done?t({done:o.done,value:[o.value]}):t(o),n)})},return:()=>(a=new r,c(),{done:!0}),throw:e=>(c(e),{done:!0}),push:s,end:c},!t)return n;const f=n;return n={[Symbol.asyncIterator](){return this},next:()=>f.next(),throw:e=>(f.throw(e),t&&(t(e),t=null),{done:!0}),return:()=>(f.return(),t&&(t(),t=null),{done:!0}),push:s,end:e=>(f.end(e),t&&(t(e),t=null),n)},n}},function(e,t,n){const r=n(398),i=n(1402),o=(e,t,n)=>a(e,Array.isArray(t)?t:[{signal:t,options:n}]),a=(e,t)=>(e=r(e),t=t.map(({signal:e,options:t})=>({signal:e,options:t||{}})),async function*(){let n;const r=()=>{n&&n()};for(const{signal:e}of t)e.addEventListener("abort",r);for(;;){let o;try{for(const{signal:e,options:n}of t)if(e.aborted){const{abortMessage:e,abortCode:t}=n;throw new i(e,t)}const r=new Promise((e,r)=>{n=()=>{const{options:e}=t.find(({signal:e})=>e.aborted),{abortMessage:n,abortCode:o}=e;r(new i(n,o))}});o=await Promise.race([r,e.next()]),n=null}catch(n){for(const{signal:e}of t)e.removeEventListener("abort",r);const i=t.find(({signal:e})=>e.aborted),o="aborted"===n.type&&i;if(o&&i.options.onAbort&&await i.options.onAbort(e),"function"==typeof e.return&&await e.return(),o&&i.options.returnOnAbort)return;throw n}if(o.done)break;yield o.value}for(const{signal:e}of t)e.removeEventListener("abort",r)}()),u=(e,t,n)=>s(e,Array.isArray(t)?t:[{signal:t,options:n}]),s=(e,t)=>n=>e(a(n,t)),c=(e,t)=>({sink:s(e.sink,t),source:a(e.source,t)});e.exports=o,e.exports.AbortError=i,e.exports.source=o,e.exports.sink=u,e.exports.transform=u,e.exports.duplex=(e,t,n)=>c(e,Array.isArray(t)?t:[{signal:t,options:n}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},function(e,t,n){"use strict";const r=n(31),{Multiaddr:i}=n(30),{Record:o}=n(199),a=n(1719),u=a.Message.MessageType,s=a.Message.ConnectionType;class c{constructor(e,t,n){if(t&&!(t instanceof Uint8Array))throw new Error("Key must be a Uint8Array");this.type=e,this.key=t,this._clusterLevelRaw=n,this.closerPeers=[],this.providerPeers=[],this.record=void 0}get clusterLevel(){const e=this._clusterLevelRaw-1;return e<0?0:e}set clusterLevel(e){this._clusterLevelRaw=e}serialize(){const e={key:this.key,type:this.type,clusterLevelRaw:this._clusterLevelRaw,closerPeers:this.closerPeers.map(f),providerPeers:this.providerPeers.map(f),record:void 0};return this.record&&(this.record instanceof Uint8Array?e.record=this.record:e.record=this.record.serialize()),a.Message.encode(e).finish()}static deserialize(e){const t=a.Message.decode(e),n=new c(t.type||0,t.key||Uint8Array.from([]),t.clusterLevelRaw||0);return n.closerPeers=t.closerPeers.map(l),n.providerPeers=t.providerPeers.map(l),t.record&&t.record.length&&(n.record=o.deserialize(t.record)),n}}function f(e){return{id:e.id.id,addrs:(e.multiaddrs||[]).map(e=>e.bytes),connection:s.CONNECTED}}function l(e){return{id:new r(e.id),multiaddrs:(e.addrs||[]).map(e=>new i(e))}}c.TYPES=u,c.CONNECTION_TYPES=s,e.exports=c},function(e,t,n){(function(t){var r;e.exports=(r=r||function(e,r){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==t&&t.crypto&&(i=t.crypto),!i)try{i=n(760)}catch(e){}var o=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),u={},s=u.lib={},c=s.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},f=s.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(o());return new f.init(t,e)}}),l=u.enc={},d=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new f.init(n,t/2)}},h=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new f.init(n,t)}},p=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},m=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,u=o/(4*a),s=(u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0))*a,c=e.min(4*s,o);if(s){for(var l=0;l<s;l+=a)this._doProcessBlock(i,l);n=i.splice(0,s),r.sigBytes-=c}return new f.init(n,c)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),y=(s.Hasher=m.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new y.HMAC.init(e,n).finalize(t)}}}),u.algo={});return u}(Math),r)}).call(this,n(48))},function(e,t,n){"use strict";(function(t,r){var i=n(38).Buffer,o=t.crypto||t.msCrypto;o&&o.getRandomValues?e.exports=function(e,t){if(e>4294967295)throw new RangeError("requested too many random bytes");var n=i.allocUnsafe(e);if(e>0)if(e>65536)for(var a=0;a<e;a+=65536)o.getRandomValues(n.slice(a,a+65536));else o.getRandomValues(n);if("function"==typeof t)return r.nextTick((function(){t(null,n)}));return n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(48),n(49))},function(e,t,n){var r=n(38).Buffer,i=n(772).Transform,o=n(211).StringDecoder;function a(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(22)(a,i),a.prototype.update=function(e,t,n){"string"==typeof e&&(e=r.from(e,t));var i=this._update(e);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{n(r)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=a},function(e,t,n){"use strict";var r=n(859),i=n(69),o=n(59),a=n(24),u=n(111),s=n(60),c=function(e,t){this.SemiringRecord0=e,this.subRecord=t},f=function(e,t){this.Semiring0=e,this.sub=t},l=function(e){return e.subRecord},d=function(e){return e.sub},h=new f((function(){return i.semiringUnit}),(function(e){return function(e){return a.unit}})),p=new c((function(){return i.semiringRecordNil}),(function(e){return function(e){return function(e){return{}}}})),m=new f((function(){return i.semiringProxy3}),(function(e){return function(e){return s.Proxy3.value}})),y=new f((function(){return i.semiringProxy2}),(function(e){return function(e){return s.Proxy2.value}})),v=new f((function(){return i.semiringProxy}),(function(e){return function(e){return s.Proxy.value}})),g=new f((function(){return i.semiringNumber}),r.numSub),b=new f((function(){return i.semiringInt}),r.intSub);e.exports={Ring:f,sub:d,negate:function(e){return function(t){return d(e)(i.zero(e.Semiring0()))(t)}},RingRecord:c,subRecord:l,ringInt:b,ringNumber:g,ringUnit:h,ringFn:function(e){return new f((function(){return i.semiringFn(e.Semiring0())}),(function(t){return function(n){return function(r){return d(e)(t(r))(n(r))}}}))},ringProxy:v,ringProxy2:y,ringProxy3:m,ringRecord:function(e){return function(e){return new f((function(){return i.semiringRecord()(e.SemiringRecord0())}),l(e)(s.Proxy.value))}},ringRecordNil:p,ringRecordCons:function(e){return function(t){return function(t){return function(n){return new c((function(){return i.semiringRecordCons(e)()(t.SemiringRecord0())(n.Semiring0())}),(function(r){return function(r){return function(i){var a=l(t)(s.Proxy.value)(r)(i),c=o.reflectSymbol(e)(s.Proxy.value),f=u.unsafeSet(c),h=u.unsafeGet(c);return f(d(n)(h(r))(h(i)))(a)}}}))}}}},Semiring:i.Semiring,SemiringRecord:i.SemiringRecord,add:i.add,mul:i.mul,one:i.one,zero:i.zero}},function(e,t,n){"use strict";var r=n(18),i=n(59),o=n(60),a=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),u=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),s=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),c=function(){function e(){}return e.value=new e,e}(),f=new r.Show((function(e){return"NoArguments"}));e.exports={Generic:function(e,t){this.from=e,this.to=t},to:function(e){return e.to},from:function(e){return e.from},repOf:function(e){return function(e){return o.Proxy.value}},NoArguments:c,Inl:a,Inr:u,Product:s,Constructor:function(e){return e},Argument:function(e){return e},showNoArguments:f,showSum:function(e){return function(t){return new r.Show((function(n){if(n instanceof a)return"(Inl "+r.show(e)(n.value0)+")";if(n instanceof u)return"(Inr "+r.show(t)(n.value0)+")";throw new Error("Failed pattern match at Data.Generic.Rep (line 31, column 1 - line 33, column 42): "+[n.constructor.name])}))}},showProduct:function(e){return function(t){return new r.Show((function(n){return"(Product "+r.show(e)(n.value0)+" "+r.show(t)(n.value1)+")"}))}},showConstructor:function(e){return function(t){return new r.Show((function(n){return"(Constructor @"+r.show(r.showString)(i.reflectSymbol(e)(o.Proxy.value))+" "+r.show(t)(n)+")"}))}},showArgument:function(e){return new r.Show((function(t){return"(Argument "+r.show(e)(t)+")"}))}}},function(e,t,n){"use strict";var r=n(105),i=n(2);e.exports={Comonad:function(e,t){this.Extend0=e,this.extract=t},extract:function(e){return e.extract},Extend:r.Extend,duplicate:r.duplicate,extend:r.extend,Functor:i.Functor,map:i.map,void:i.void}},function(e,t,n){"use strict";var r=n(32),i=n(11),o=n(19),a=n(46),u=n(13),s=n(36),c=n(127),f=n(2),l=n(107),d=n(5),h=n(16),p=n(34),m=n(20),y=n(162),v=n(18),g=n(56),b=n(163),w=n(29),E=n(79),_=n(113),S=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),T=function(e){return new f.Functor((function(t){return function(n){return new S(t(n.value0),f.map(e)(t)(n.value1))}}))},A=function(e){return new l.FunctorWithIndex((function(){return T(e.Functor0())}),(function(t){return function(n){return new S(t(d.Nothing.value)(n.value0),l.mapWithIndex(e)((function(e){return t(d.Just.create(e))}))(n.value1))}}))},P=function(e){return new s.Foldable((function(t){return function(n){return function(r){return m.append(t.Semigroup0())(n(r.value0))(s.foldMap(e)(t)(n)(r.value1))}}}),(function(t){return function(n){return function(r){return s.foldl(e)(t)(t(n)(r.value0))(r.value1)}}}),(function(t){return function(n){return function(r){return t(r.value0)(s.foldr(e)(t)(n)(r.value1))}}}))},k=function(e){return new c.FoldableWithIndex((function(){return P(e.Foldable0())}),(function(t){return function(n){return function(r){return m.append(t.Semigroup0())(n(d.Nothing.value)(r.value0))(c.foldMapWithIndex(e)(t)((function(e){return n(d.Just.create(e))}))(r.value1))}}}),(function(t){return function(n){return function(r){return c.foldlWithIndex(e)((function(e){return t(d.Just.create(e))}))(t(d.Nothing.value)(n)(r.value0))(r.value1)}}}),(function(t){return function(n){return function(r){return t(d.Nothing.value)(r.value0)(c.foldrWithIndex(e)((function(e){return t(d.Just.create(e))}))(n)(r.value1))}}}))},x=function(e){return new g.Traversable((function(){return P(e.Foldable1())}),(function(){return T(e.Functor0())}),(function(t){return function(n){return o.apply(t.Apply0())(f.map(t.Apply0().Functor0())(S.create)(n.value0))(g.sequence(e)(t)(n.value1))}}),(function(t){return function(n){return function(r){return o.apply(t.Apply0())(f.map(t.Apply0().Functor0())(S.create)(n(r.value0)))(g.traverse(e)(t)(n)(r.value1))}}}))},C=function(e){return new y.Foldable1((function(){return P(e)}),(function(t){return function(n){return function(r){return s.foldl(e)((function(e){return function(r){return m.append(t)(e)(n(r))}}))(n(r.value0))(r.value1)}}}),(function(t){return function(n){return s.foldl(e)(t)(n.value0)(n.value1)}}),(function(t){return function(n){return d.maybe(n.value0)(t(n.value0))(s.foldr(e)((function(e){var n=d.maybe(e)(t(e));return function(e){return d.Just.create(n(e))}}))(d.Nothing.value)(n.value1))}}))},R=function(e){return function(t){return new u.Eq((function(n){return function(r){return u.eq(t)(n.value0)(r.value0)&&u.eq1(e)(t)(n.value1)(r.value1)}}))}},I=function(e){return function(t){return new h.Ord((function(){return R(e.Eq10())(t.Eq0())}),(function(n){return function(r){var i=h.compare(t)(n.value0)(r.value0);return i instanceof p.LT?p.LT.value:i instanceof p.GT?p.GT.value:h.compare1(e)(t)(n.value1)(r.value1)}}))}},O=function(e){return new u.Eq1((function(t){return u.eq(R(e)(t))}))};e.exports={NonEmpty:S,singleton:function(e){return function(t){return new S(t,a.empty(e))}},foldl1:function(e){return function(t){return y.foldl1(C(e))}},fromNonEmpty:function(e){return function(t){return e(t.value0)(t.value1)}},oneOf:function(e){return function(t){return r.alt(e.Plus1().Alt0())(i.pure(e.Applicative0())(t.value0))(t.value1)}},head:function(e){return e.value0},tail:function(e){return e.value1},showNonEmpty:function(e){return function(t){return new v.Show((function(n){return"(NonEmpty "+v.show(e)(n.value0)+" "+v.show(t)(n.value1)+")"}))}},eqNonEmpty:R,eq1NonEmpty:O,ordNonEmpty:I,ord1NonEmpty:function(e){return new h.Ord1((function(){return O(e.Eq10())}),(function(t){return h.compare(I(e)(t))}))},functorNonEmpty:T,functorWithIndex:A,foldableNonEmpty:P,foldableWithIndexNonEmpty:k,traversableNonEmpty:x,traversableWithIndexNonEmpty:function(e){return new b.TraversableWithIndex((function(){return k(e.FoldableWithIndex1())}),(function(){return A(e.FunctorWithIndex0())}),(function(){return x(e.Traversable2())}),(function(t){return function(n){return function(r){return o.apply(t.Apply0())(f.map(t.Apply0().Functor0())(S.create)(n(d.Nothing.value)(r.value0)))(b.traverseWithIndex(e)(t)((function(e){return n(d.Just.create(e))}))(r.value1))}}}))},foldable1NonEmpty:C,unfoldable1NonEmpty:function(e){return new _.Unfoldable1((function(t){return function(n){return w.uncurry(S.create)(f.map(w.functorTuple)(E.unfoldr(e)(f.map(d.functorMaybe)(t)))(t(n)))}}))}}},function(e,t,n){"use strict";var r=n(884),i=n(11),o=n(100),a=n(106),u=n(54),s=n(41),c=n(13),f=n(23),l=n(2),d=n(189),h=n(265),p=n(5),m=n(16),y=n(34),v=n(18),g=n(148),b=n(10),w=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),E=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),_=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),S=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),T=b.unsafeCoerce,A=b.unsafeCoerce,P=new v.Show((function(e){if(e instanceof w)return"(ForeignError "+v.show(v.showString)(e.value0)+")";if(e instanceof _)return"(ErrorAtIndex "+v.show(v.showInt)(e.value0)+" "+v.show(P)(e.value1)+")";if(e instanceof S)return"(ErrorAtProperty "+v.show(v.showString)(e.value0)+" "+v.show(P)(e.value1)+")";if(e instanceof E)return"(TypeMismatch "+v.show(v.showString)(e.value0)+" "+v.show(v.showString)(e.value1)+")";throw new Error("Failed pattern match at Foreign (line 64, column 1 - line 68, column 89): "+[e.constructor.name])})),k=function(e){if(e instanceof w)return e.value0;if(e instanceof _)return"Error at array index "+v.show(v.showInt)(e.value0)+": "+k(e.value1);if(e instanceof S)return"Error at property "+v.show(v.showString)(e.value0)+": "+k(e.value1);if(e instanceof E)return"Type mismatch: expected "+e.value0+", found "+e.value1;throw new Error("Failed pattern match at Foreign (line 73, column 1 - line 73, column 45): "+[e.constructor.name])},x=function(e){var t=o.throwError(a.monadThrowExceptT(e));return function(e){return t(h.singleton(e))}},C=function(e){return function(t){return function(n){if(r.tagOf(n)===t)return i.pure(a.applicativeExceptT(e))(A(n));if(u.otherwise)return x(e)(new E(t,r.tagOf(n)));throw new Error("Failed pattern match at Foreign (line 110, column 1 - line 110, column 71): "+[t.constructor.name,n.constructor.name])}}},R=function(e){return C(e)("Number")},I=function(e){return C(e)("String")},O=new c.Eq((function(e){return function(t){return e instanceof w&&t instanceof w?e.value0===t.value0:e instanceof E&&t instanceof E?e.value0===t.value0&&e.value1===t.value1:(e instanceof _&&t instanceof _||e instanceof S&&t instanceof S)&&e.value0===t.value0&&c.eq(O)(e.value1)(t.value1)}})),M=new m.Ord((function(){return O}),(function(e){return function(t){if(e instanceof w&&t instanceof w)return m.compare(m.ordString)(e.value0)(t.value0);if(e instanceof w)return y.LT.value;if(t instanceof w)return y.GT.value;var n;if(e instanceof E&&t instanceof E)return(n=m.compare(m.ordString)(e.value0)(t.value0))instanceof y.LT?y.LT.value:n instanceof y.GT?y.GT.value:m.compare(m.ordString)(e.value1)(t.value1);if(e instanceof E)return y.LT.value;if(t instanceof E)return y.GT.value;if(e instanceof _&&t instanceof _)return(n=m.compare(m.ordInt)(e.value0)(t.value0))instanceof y.LT?y.LT.value:n instanceof y.GT?y.GT.value:m.compare(M)(e.value1)(t.value1);if(e instanceof _)return y.LT.value;if(t instanceof _)return y.GT.value;if(e instanceof S&&t instanceof S)return(n=m.compare(m.ordString)(e.value0)(t.value0))instanceof y.LT?y.LT.value:n instanceof y.GT?y.GT.value:m.compare(M)(e.value1)(t.value1);throw new Error("Failed pattern match at Foreign (line 62, column 1 - line 62, column 52): "+[e.constructor.name,t.constructor.name])}}));e.exports={ForeignError:w,TypeMismatch:E,ErrorAtIndex:_,ErrorAtProperty:S,renderForeignError:k,unsafeToForeign:T,unsafeFromForeign:A,unsafeReadTagged:C,readString:I,readChar:function(e){return function(t){var n,o=s.Left.create(h.singleton(new E("Char",r.tagOf(t)))),u=(n=p.maybe(o)(i.pure(s.applicativeEither)),function(e){return n(g.toChar(e))});return a.mapExceptT(l.map(e.Bind1().Apply0().Functor0())(s.either(f.const(o))(u)))(I(e)(t))}},readBoolean:function(e){return C(e)("Boolean")},readNumber:R,readInt:function(e){return function(t){var n,o=s.Left.create(h.singleton(new E("Int",r.tagOf(t)))),u=(n=p.maybe(o)(i.pure(s.applicativeEither)),function(e){return n(d.fromNumber(e))});return a.mapExceptT(l.map(e.Bind1().Apply0().Functor0())(s.either(f.const(o))(u)))(R(e)(t))}},readArray:function(e){return function(t){if(r.isArray(t))return i.pure(a.applicativeExceptT(e))(A(t));if(u.otherwise)return x(e)(new E("array",r.tagOf(t)));throw new Error("Failed pattern match at Foreign (line 151, column 1 - line 151, column 66): "+[t.constructor.name])}},readNull:function(e){return function(t){if(r.isNull(t))return i.pure(a.applicativeExceptT(e))(p.Nothing.value);if(u.otherwise)return i.pure(a.applicativeExceptT(e))(new p.Just(t));throw new Error("Failed pattern match at Foreign (line 156, column 1 - line 156, column 65): "+[t.constructor.name])}},readUndefined:function(e){return function(t){if(r.isUndefined(t))return i.pure(a.applicativeExceptT(e))(p.Nothing.value);if(u.otherwise)return i.pure(a.applicativeExceptT(e))(new p.Just(t));throw new Error("Failed pattern match at Foreign (line 161, column 1 - line 161, column 70): "+[t.constructor.name])}},readNullOrUndefined:function(e){return function(t){if(r.isNull(t)||r.isUndefined(t))return i.pure(a.applicativeExceptT(e))(p.Nothing.value);if(u.otherwise)return i.pure(a.applicativeExceptT(e))(new p.Just(t));throw new Error("Failed pattern match at Foreign (line 166, column 1 - line 166, column 76): "+[t.constructor.name])}},fail:x,eqForeignError:O,ordForeignError:M,showForeignError:P,typeOf:r.typeOf,tagOf:r.tagOf,isNull:r.isNull,isUndefined:r.isUndefined,isArray:r.isArray}},function(e,t,n){"use strict";var r=n(889),i=n(54),o=n(5),a=n(513),u=r._toChar(o.Just.create)(o.Nothing.value),s=r._lastIndexOfStartingAt(o.Just.create)(o.Nothing.value),c=r._lastIndexOf(o.Just.create)(o.Nothing.value),f=r._indexOfStartingAt(o.Just.create)(o.Nothing.value),l=r._indexOf(o.Just.create)(o.Nothing.value),d=r._charAt(o.Just.create)(o.Nothing.value);e.exports={stripPrefix:function(e){return function(t){var n=r.splitAt(r.length(e))(t);return n.before===e?new o.Just(n.after):o.Nothing.value}},stripSuffix:function(e){return function(t){var n=r.splitAt(r.length(t)-r.length(e)|0)(t);return n.after===e?new o.Just(n.before):o.Nothing.value}},contains:function(e){var t=l(e);return function(e){return o.isJust(t(e))}},charAt:d,toChar:u,uncons:function(e){return""===e?o.Nothing.value:new o.Just({head:a.charAt(0)(e),tail:r.drop(1)(e)})},indexOf:l,"indexOf'":f,lastIndexOf:c,"lastIndexOf'":s,takeRight:function(e){return function(t){return r.drop(r.length(t)-e|0)(t)}},takeWhile:function(e){return function(t){return r.take(r.countPrefix(e)(t))(t)}},dropRight:function(e){return function(t){return r.take(r.length(t)-e|0)(t)}},dropWhile:function(e){return function(t){return r.drop(r.countPrefix(e)(t))(t)}},slice:function(e){return function(t){return function(n){var a=r.length(n),u=function(e){if(e<0)return a+e|0;if(i.otherwise)return e;throw new Error("Failed pattern match at Data.String.CodeUnits (line 319, column 5 - line 320, column 27): "+[e.constructor.name])},s=u(t),c=u(e);return c<0||c>=a||s<0||s>a||c>s?o.Nothing.value:new o.Just(r._slice(e)(t)(n))}}},singleton:r.singleton,fromCharArray:r.fromCharArray,toCharArray:r.toCharArray,length:r.length,countPrefix:r.countPrefix,take:r.take,drop:r.drop,splitAt:r.splitAt}},function(e,t,n){"use strict";var r,i=n(32),o=n(11),a=n(19),u=n(15),s=n(25),c=n(46),f=n(13),l=n(36),d=n(127),h=n(23),p=n(2),m=n(107),y=n(90),v=n(128),g=n(1028),b=n(525),w=n(70),E=n(5),_=n(28),S=n(16),T=n(34),A=n(20),P=n(18),k=n(56),x=n(163),C=n(29),R=n(79),I=function(){function e(){}return e.value=new e,e}(),O=function(){function e(e,t,n,r){this.value0=e,this.value1=t,this.value2=n,this.value3=r}return e.create=function(t){return function(n){return function(r){return function(i){return new e(t,n,r,i)}}}},e}(),M=function(){function e(e,t,n,r,i,o,a){this.value0=e,this.value1=t,this.value2=n,this.value3=r,this.value4=i,this.value5=o,this.value6=a}return e.create=function(t){return function(n){return function(r){return function(i){return function(o){return function(a){return function(u){return new e(t,n,r,i,o,a,u)}}}}}}},e}(),N=function(){function e(e,t,n){this.value0=e,this.value1=t,this.value2=n}return e.create=function(t){return function(n){return function(r){return new e(t,n,r)}}},e}(),D=function(){function e(e,t,n){this.value0=e,this.value1=t,this.value2=n}return e.create=function(t){return function(n){return function(r){return new e(t,n,r)}}},e}(),L=function(){function e(e,t,n,r,i,o){this.value0=e,this.value1=t,this.value2=n,this.value3=r,this.value4=i,this.value5=o}return e.create=function(t){return function(n){return function(r){return function(i){return function(o){return function(a){return new e(t,n,r,i,o,a)}}}}}},e}(),j=function(){function e(e,t,n,r,i,o){this.value0=e,this.value1=t,this.value2=n,this.value3=r,this.value4=i,this.value5=o}return e.create=function(t){return function(n){return function(r){return function(i){return function(o){return function(a){return new e(t,n,r,i,o,a)}}}}}},e}(),B=function(){function e(e,t,n,r,i,o){this.value0=e,this.value1=t,this.value2=n,this.value3=r,this.value4=i,this.value5=o}return e.create=function(t){return function(n){return function(r){return function(i){return function(o){return function(a){return new e(t,n,r,i,o,a)}}}}}},e}(),F=function(){function e(e,t,n,r){this.value0=e,this.value1=t,this.value2=n,this.value3=r}return e.create=function(t){return function(n){return function(r){return function(i){return new e(t,n,r,i)}}}},e}(),U=function(e){if(e instanceof I)return w.Nil.value;if(e instanceof O)return A.append(w.semigroupList)(U(e.value0))(A.append(w.semigroupList)(o.pure(w.applicativeList)(e.value2))(U(e.value3)));if(e instanceof M)return A.append(w.semigroupList)(U(e.value0))(A.append(w.semigroupList)(o.pure(w.applicativeList)(e.value2))(A.append(w.semigroupList)(U(e.value3))(A.append(w.semigroupList)(o.pure(w.applicativeList)(e.value5))(U(e.value6)))));throw new Error("Failed pattern match at Data.Map.Internal (line 626, column 1 - line 626, column 40): "+[e.constructor.name])},q=function(e){if(e instanceof I)return 0;if(e instanceof O)return(1+q(e.value0)|0)+q(e.value3)|0;if(e instanceof M)return((2+q(e.value0)|0)+q(e.value3)|0)+q(e.value6)|0;throw new Error("Failed pattern match at Data.Map.Internal (line 676, column 1 - line 676, column 35): "+[e.constructor.name])},H=function(e){return function(t){return new O(I.value,e,t,I.value)}},K=function(e){return function(t){return R.unfoldr(e)((function(e){var t,n=!1;function r(t){if(t instanceof w.Nil)return n=!0,E.Nothing.value;if(t instanceof w.Cons){if(t.value0 instanceof I)return void(e=t.value1);if(t.value0 instanceof O&&t.value0.value0 instanceof I&&t.value0.value3 instanceof I)return n=!0,E.Just.create(new C.Tuple(new C.Tuple(t.value0.value1,t.value0.value2),t.value1));if(t.value0 instanceof O&&t.value0.value0 instanceof I)return n=!0,E.Just.create(new C.Tuple(new C.Tuple(t.value0.value1,t.value0.value2),new w.Cons(t.value0.value3,t.value1)));if(t.value0 instanceof O)return void(e=new w.Cons(t.value0.value0,new w.Cons(H(t.value0.value1)(t.value0.value2),new w.Cons(t.value0.value3,t.value1))));if(t.value0 instanceof M)return void(e=new w.Cons(t.value0.value0,new w.Cons(H(t.value0.value1)(t.value0.value2),new w.Cons(t.value0.value3,new w.Cons(H(t.value0.value4)(t.value0.value5),new w.Cons(t.value0.value6,t.value1))))));throw new Error("Failed pattern match at Data.Map.Internal (line 591, column 18 - line 600, column 71): "+[t.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 590, column 3 - line 590, column 19): "+[t.constructor.name])}for(;!n;)t=r(e);return t}))(new w.Cons(t,w.Nil.value))}},V=K(R.unfoldableArray),z=function(e){return function(t){return function(n){if(n instanceof I)return"Leaf";if(n instanceof O)return"Two ("+z(e)(t)(n.value0)+") ("+P.show(e)(n.value1)+") ("+P.show(t)(n.value2)+") ("+z(e)(t)(n.value3)+")";if(n instanceof M)return"Three ("+z(e)(t)(n.value0)+") ("+P.show(e)(n.value1)+") ("+P.show(t)(n.value2)+") ("+z(e)(t)(n.value3)+") ("+P.show(e)(n.value4)+") ("+P.show(t)(n.value5)+") ("+z(e)(t)(n.value6)+")";throw new Error("Failed pattern match at Data.Map.Internal (line 164, column 1 - line 164, column 62): "+[n.constructor.name])}}},W=function(e){return function(t){var n=S.compare(e);return function(e){var r,i=!1;function o(r){if(r instanceof I)return i=!0,E.Nothing.value;if(r instanceof O){var o=n(t)(r.value1);return o instanceof T.EQ?(i=!0,new E.Just(r.value2)):o instanceof T.LT?void(e=r.value0):void(e=r.value3)}if(r instanceof M){var a=n(t)(r.value1);if(a instanceof T.EQ)return i=!0,new E.Just(r.value2);var u=n(t)(r.value4);return u instanceof T.EQ?(i=!0,new E.Just(r.value5)):a instanceof T.LT?void(e=r.value0):u instanceof T.GT?void(e=r.value6):void(e=r.value3)}throw new Error("Failed pattern match at Data.Map.Internal (line 211, column 5 - line 211, column 22): "+[r.constructor.name])}for(;!i;)r=o(e);return r}}},G=function(e){if(e instanceof I)return w.Nil.value;if(e instanceof O)return A.append(w.semigroupList)(G(e.value0))(A.append(w.semigroupList)(o.pure(w.applicativeList)(e.value1))(G(e.value3)));if(e instanceof M)return A.append(w.semigroupList)(G(e.value0))(A.append(w.semigroupList)(o.pure(w.applicativeList)(e.value1))(A.append(w.semigroupList)(G(e.value3))(A.append(w.semigroupList)(o.pure(w.applicativeList)(e.value4))(G(e.value6)))));throw new Error("Failed pattern match at Data.Map.Internal (line 620, column 1 - line 620, column 38): "+[e.constructor.name])},$=new p.Functor((function(e){return function(t){if(t instanceof I)return I.value;if(t instanceof O)return new O(p.map($)(e)(t.value0),t.value1,e(t.value2),p.map($)(e)(t.value3));if(t instanceof M)return new M(p.map($)(e)(t.value0),t.value1,e(t.value2),p.map($)(e)(t.value3),t.value4,e(t.value5),p.map($)(e)(t.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 101, column 1 - line 104, column 110): "+[e.constructor.name,t.constructor.name])}})),J=new m.FunctorWithIndex((function(){return $}),(function(e){return function(t){if(t instanceof I)return I.value;if(t instanceof O)return new O(m.mapWithIndex(J)(e)(t.value0),t.value1,e(t.value1)(t.value2),m.mapWithIndex(J)(e)(t.value3));if(t instanceof M)return new M(m.mapWithIndex(J)(e)(t.value0),t.value1,e(t.value1)(t.value2),m.mapWithIndex(J)(e)(t.value3),t.value4,e(t.value4)(t.value5),m.mapWithIndex(J)(e)(t.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 106, column 1 - line 109, column 152): "+[e.constructor.name,t.constructor.name])}})),Q=function(e){return function(t){return function(n){var r,i=e,o=t,a=!1;function u(e,t,r){if(t instanceof w.Nil)return a=!0,r;if(t instanceof w.Cons){if(t.value0 instanceof N)return i=e,o=t.value1,void(n=new O(r,t.value0.value0,t.value0.value1,t.value0.value2));if(t.value0 instanceof D)return i=e,o=t.value1,void(n=new O(t.value0.value0,t.value0.value1,t.value0.value2,r));if(t.value0 instanceof L)return i=e,o=t.value1,void(n=new M(r,t.value0.value0,t.value0.value1,t.value0.value2,t.value0.value3,t.value0.value4,t.value0.value5));if(t.value0 instanceof j)return i=e,o=t.value1,void(n=new M(t.value0.value0,t.value0.value1,t.value0.value2,r,t.value0.value3,t.value0.value4,t.value0.value5));if(t.value0 instanceof B)return i=e,o=t.value1,void(n=new M(t.value0.value0,t.value0.value1,t.value0.value2,t.value0.value3,t.value0.value4,t.value0.value5,r));throw new Error("Failed pattern match at Data.Map.Internal (line 432, column 3 - line 437, column 88): "+[t.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 429, column 1 - line 429, column 80): "+[t.constructor.name,r.constructor.name])}for(;!a;)r=u(i,o,n);return r}}},Y=function(e){return function(t){return function(n){var r,i=S.compare(e);return r=w.Nil.value,function(o){var a,u=r,s=!1;function c(r,a){if(a instanceof I)return s=!0,function(t){return function(n){var r,i=t,o=!1;function a(t,r){if(t instanceof w.Nil)return o=!0,new O(r.value0,r.value1,r.value2,r.value3);if(t instanceof w.Cons){if(t.value0 instanceof N)return o=!0,Q(e)(t.value1)(new M(r.value0,r.value1,r.value2,r.value3,t.value0.value0,t.value0.value1,t.value0.value2));if(t.value0 instanceof D)return o=!0,Q(e)(t.value1)(new M(t.value0.value0,t.value0.value1,t.value0.value2,r.value0,r.value1,r.value2,r.value3));if(t.value0 instanceof L)return i=t.value1,void(n=new F(new O(r.value0,r.value1,r.value2,r.value3),t.value0.value0,t.value0.value1,new O(t.value0.value2,t.value0.value3,t.value0.value4,t.value0.value5)));if(t.value0 instanceof j)return i=t.value1,void(n=new F(new O(t.value0.value0,t.value0.value1,t.value0.value2,r.value0),r.value1,r.value2,new O(r.value3,t.value0.value3,t.value0.value4,t.value0.value5)));if(t.value0 instanceof B)return i=t.value1,void(n=new F(new O(t.value0.value0,t.value0.value1,t.value0.value2,t.value0.value3),t.value0.value4,t.value0.value5,new O(r.value0,r.value1,r.value2,r.value3)));throw new Error("Failed pattern match at Data.Map.Internal (line 468, column 5 - line 473, column 108): "+[t.value0.constructor.name,r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 465, column 3 - line 465, column 56): "+[t.constructor.name,r.constructor.name])}for(;!o;)r=a(i,n);return r}}(r)(new F(I.value,t,n,I.value));if(a instanceof O){var c=i(t)(a.value1);return c instanceof T.EQ?(s=!0,Q(e)(r)(new O(a.value0,t,n,a.value3))):c instanceof T.LT?(u=new w.Cons(new N(a.value1,a.value2,a.value3),r),void(o=a.value0)):(u=new w.Cons(new D(a.value0,a.value1,a.value2),r),void(o=a.value3))}if(a instanceof M){var f=i(t)(a.value1);if(f instanceof T.EQ)return s=!0,Q(e)(r)(new M(a.value0,t,n,a.value3,a.value4,a.value5,a.value6));var l=i(t)(a.value4);return l instanceof T.EQ?(s=!0,Q(e)(r)(new M(a.value0,a.value1,a.value2,a.value3,t,n,a.value6))):f instanceof T.LT?(u=new w.Cons(new L(a.value1,a.value2,a.value3,a.value4,a.value5,a.value6),r),void(o=a.value0)):f instanceof T.GT&&l instanceof T.LT?(u=new w.Cons(new j(a.value0,a.value1,a.value2,a.value4,a.value5,a.value6),r),void(o=a.value3)):(u=new w.Cons(new B(a.value0,a.value1,a.value2,a.value3,a.value4,a.value5),r),void(o=a.value6))}throw new Error("Failed pattern match at Data.Map.Internal (line 448, column 3 - line 448, column 55): "+[r.constructor.name,a.constructor.name])}for(;!s;)a=c(u,o);return a}}}},X=function(e){return function(t){var n,r=function(t){return function(n){var r,i=t,o=!1;function a(t,r){if(t instanceof w.Nil)return o=!0,r;if(t instanceof w.Cons){if(t.value0 instanceof N&&t.value0.value2 instanceof I&&r instanceof I)return o=!0,Q(e)(t.value1)(new O(I.value,t.value0.value0,t.value0.value1,I.value));if(t.value0 instanceof D&&t.value0.value0 instanceof I&&r instanceof I)return o=!0,Q(e)(t.value1)(new O(I.value,t.value0.value1,t.value0.value2,I.value));if(t.value0 instanceof N&&t.value0.value2 instanceof O)return i=t.value1,void(n=new M(r,t.value0.value0,t.value0.value1,t.value0.value2.value0,t.value0.value2.value1,t.value0.value2.value2,t.value0.value2.value3));if(t.value0 instanceof D&&t.value0.value0 instanceof O)return i=t.value1,void(n=new M(t.value0.value0.value0,t.value0.value0.value1,t.value0.value0.value2,t.value0.value0.value3,t.value0.value1,t.value0.value2,r));if(t.value0 instanceof N&&t.value0.value2 instanceof M)return o=!0,Q(e)(t.value1)(new O(new O(r,t.value0.value0,t.value0.value1,t.value0.value2.value0),t.value0.value2.value1,t.value0.value2.value2,new O(t.value0.value2.value3,t.value0.value2.value4,t.value0.value2.value5,t.value0.value2.value6)));if(t.value0 instanceof D&&t.value0.value0 instanceof M)return o=!0,Q(e)(t.value1)(new O(new O(t.value0.value0.value0,t.value0.value0.value1,t.value0.value0.value2,t.value0.value0.value3),t.value0.value0.value4,t.value0.value0.value5,new O(t.value0.value0.value6,t.value0.value1,t.value0.value2,r)));if(t.value0 instanceof L&&t.value0.value2 instanceof I&&t.value0.value5 instanceof I&&r instanceof I)return o=!0,Q(e)(t.value1)(new M(I.value,t.value0.value0,t.value0.value1,I.value,t.value0.value3,t.value0.value4,I.value));if(t.value0 instanceof j&&t.value0.value0 instanceof I&&t.value0.value5 instanceof I&&r instanceof I)return o=!0,Q(e)(t.value1)(new M(I.value,t.value0.value1,t.value0.value2,I.value,t.value0.value3,t.value0.value4,I.value));if(t.value0 instanceof B&&t.value0.value0 instanceof I&&t.value0.value3 instanceof I&&r instanceof I)return o=!0,Q(e)(t.value1)(new M(I.value,t.value0.value1,t.value0.value2,I.value,t.value0.value4,t.value0.value5,I.value));if(t.value0 instanceof L&&t.value0.value2 instanceof O)return o=!0,Q(e)(t.value1)(new O(new M(r,t.value0.value0,t.value0.value1,t.value0.value2.value0,t.value0.value2.value1,t.value0.value2.value2,t.value0.value2.value3),t.value0.value3,t.value0.value4,t.value0.value5));if(t.value0 instanceof j&&t.value0.value0 instanceof O)return o=!0,Q(e)(t.value1)(new O(new M(t.value0.value0.value0,t.value0.value0.value1,t.value0.value0.value2,t.value0.value0.value3,t.value0.value1,t.value0.value2,r),t.value0.value3,t.value0.value4,t.value0.value5));if(t.value0 instanceof j&&t.value0.value5 instanceof O)return o=!0,Q(e)(t.value1)(new O(t.value0.value0,t.value0.value1,t.value0.value2,new M(r,t.value0.value3,t.value0.value4,t.value0.value5.value0,t.value0.value5.value1,t.value0.value5.value2,t.value0.value5.value3)));if(t.value0 instanceof B&&t.value0.value3 instanceof O)return o=!0,Q(e)(t.value1)(new O(t.value0.value0,t.value0.value1,t.value0.value2,new M(t.value0.value3.value0,t.value0.value3.value1,t.value0.value3.value2,t.value0.value3.value3,t.value0.value4,t.value0.value5,r)));if(t.value0 instanceof L&&t.value0.value2 instanceof M)return o=!0,Q(e)(t.value1)(new M(new O(r,t.value0.value0,t.value0.value1,t.value0.value2.value0),t.value0.value2.value1,t.value0.value2.value2,new O(t.value0.value2.value3,t.value0.value2.value4,t.value0.value2.value5,t.value0.value2.value6),t.value0.value3,t.value0.value4,t.value0.value5));if(t.value0 instanceof j&&t.value0.value0 instanceof M)return o=!0,Q(e)(t.value1)(new M(new O(t.value0.value0.value0,t.value0.value0.value1,t.value0.value0.value2,t.value0.value0.value3),t.value0.value0.value4,t.value0.value0.value5,new O(t.value0.value0.value6,t.value0.value1,t.value0.value2,r),t.value0.value3,t.value0.value4,t.value0.value5));if(t.value0 instanceof j&&t.value0.value5 instanceof M)return o=!0,Q(e)(t.value1)(new M(t.value0.value0,t.value0.value1,t.value0.value2,new O(r,t.value0.value3,t.value0.value4,t.value0.value5.value0),t.value0.value5.value1,t.value0.value5.value2,new O(t.value0.value5.value3,t.value0.value5.value4,t.value0.value5.value5,t.value0.value5.value6)));if(t.value0 instanceof B&&t.value0.value3 instanceof M)return o=!0,Q(e)(t.value1)(new M(t.value0.value0,t.value0.value1,t.value0.value2,new O(t.value0.value3.value0,t.value0.value3.value1,t.value0.value3.value2,t.value0.value3.value3),t.value0.value3.value4,t.value0.value3.value5,new O(t.value0.value3.value6,t.value0.value4,t.value0.value5,r)));throw new Error("Failed pattern match at Data.Map.Internal (line 525, column 9 - line 542, column 136): "+[t.value0.constructor.name,r.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 522, column 5 - line 542, column 136): "+[t.constructor.name])}for(;!o;)r=a(i,n);return r}},i=function(e){return function(t){var n,i=e,o=!1;function a(e,n){if(n instanceof O&&n.value0 instanceof I&&n.value3 instanceof I)return o=!0,r(e)(I.value);if(n instanceof O)return i=new w.Cons(new D(n.value0,n.value1,n.value2),e),void(t=n.value3);if(n instanceof M&&n.value0 instanceof I&&n.value3 instanceof I&&n.value6 instanceof I)return o=!0,r(new w.Cons(new D(I.value,n.value1,n.value2),e))(I.value);if(n instanceof M)return i=new w.Cons(new B(n.value0,n.value1,n.value2,n.value3,n.value4,n.value5),e),void(t=n.value6);throw new Error("Failed pattern match at Data.Map.Internal (line 554, column 5 - line 558, column 107): "+[n.constructor.name])}for(;!o;)n=a(i,t);return n}},o=function(e){var t,n=!1;function r(t){if(t instanceof O&&t.value3 instanceof I)return n=!0,{key:t.value1,value:t.value2};if(t instanceof O)e=t.value3;else{if(t instanceof M&&t.value6 instanceof I)return n=!0,{key:t.value4,value:t.value5};if(!(t instanceof M))throw new Error("Failed pattern match at Data.Map.Internal (line 545, column 33 - line 549, column 45): "+[t.constructor.name]);e=t.value6}}for(;!n;)t=r(e);return t},a=S.compare(e);return n=w.Nil.value,function(u){var s,c=n,f=!1;function l(n,s){if(s instanceof I)return f=!0,E.Nothing.value;if(s instanceof O){var l=a(t)(s.value1);if(s.value3 instanceof I&&l instanceof T.EQ)return f=!0,new E.Just(new C.Tuple(s.value2,r(n)(I.value)));if(l instanceof T.EQ){var d=o(s.value0);return f=!0,new E.Just(new C.Tuple(s.value2,i(new w.Cons(new N(d.key,d.value,s.value3),n))(s.value0)))}return l instanceof T.LT?(c=new w.Cons(new N(s.value1,s.value2,s.value3),n),void(u=s.value0)):(c=new w.Cons(new D(s.value0,s.value1,s.value2),n),void(u=s.value3))}if(s instanceof M){var h=s.value0 instanceof I&&s.value3 instanceof I&&s.value6 instanceof I,p=(l=a(t)(s.value4),a(t)(s.value1));return h&&p instanceof T.EQ?(f=!0,new E.Just(new C.Tuple(s.value2,Q(e)(n)(new O(I.value,s.value4,s.value5,I.value))))):h&&l instanceof T.EQ?(f=!0,new E.Just(new C.Tuple(s.value5,Q(e)(n)(new O(I.value,s.value1,s.value2,I.value))))):p instanceof T.EQ?(d=o(s.value0),f=!0,new E.Just(new C.Tuple(s.value2,i(new w.Cons(new L(d.key,d.value,s.value3,s.value4,s.value5,s.value6),n))(s.value0)))):l instanceof T.EQ?(d=o(s.value3),f=!0,new E.Just(new C.Tuple(s.value5,i(new w.Cons(new j(s.value0,s.value1,s.value2,d.key,d.value,s.value6),n))(s.value3)))):p instanceof T.LT?(c=new w.Cons(new L(s.value1,s.value2,s.value3,s.value4,s.value5,s.value6),n),void(u=s.value0)):p instanceof T.GT&&l instanceof T.LT?(c=new w.Cons(new j(s.value0,s.value1,s.value2,s.value4,s.value5,s.value6),n),void(u=s.value3)):(c=new w.Cons(new B(s.value0,s.value1,s.value2,s.value3,s.value4,s.value5),n),void(u=s.value6))}throw new Error("Failed pattern match at Data.Map.Internal (line 495, column 34 - line 518, column 80): "+[s.constructor.name])}for(;!f;)s=l(c,u);return s}}},Z=new l.Foldable((function(e){return function(t){return function(n){return l.foldMap(w.foldableList)(e)(t)(U(n))}}}),(function(e){return function(t){return function(n){return l.foldl(w.foldableList)(e)(t)(U(n))}}}),(function(e){return function(t){return function(n){return l.foldr(w.foldableList)(e)(t)(U(n))}}})),ee=new k.Traversable((function(){return Z}),(function(){return $}),(function(e){return k.traverse(ee)(e)(s.identity(s.categoryFn))}),(function(e){return function(t){return function(n){if(n instanceof I)return o.pure(e)(I.value);if(n instanceof O)return a.apply(e.Apply0())(a.apply(e.Apply0())(a.apply(e.Apply0())(p.map(e.Apply0().Functor0())(O.create)(k.traverse(ee)(e)(t)(n.value0)))(o.pure(e)(n.value1)))(t(n.value2)))(k.traverse(ee)(e)(t)(n.value3));if(n instanceof M)return a.apply(e.Apply0())(a.apply(e.Apply0())(a.apply(e.Apply0())(a.apply(e.Apply0())(a.apply(e.Apply0())(a.apply(e.Apply0())(p.map(e.Apply0().Functor0())(M.create)(k.traverse(ee)(e)(t)(n.value0)))(o.pure(e)(n.value1)))(t(n.value2)))(k.traverse(ee)(e)(t)(n.value3)))(o.pure(e)(n.value4)))(t(n.value5)))(k.traverse(ee)(e)(t)(n.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 127, column 1 - line 142, column 31): "+[t.constructor.name,n.constructor.name])}}})),te=function(e){return function(t){return function(n){return function(r){return function(i){return function(o){var a=function(){if(r instanceof E.Just)return function(t){return S.lessThan(e)(t)(r.value0)};if(r instanceof E.Nothing)return h.const(!1);throw new Error("Failed pattern match at Data.Map.Internal (line 333, column 7 - line 337, column 22): "+[r.constructor.name])}(),u=function(){if(i instanceof E.Just)return function(t){return S.greaterThan(e)(t)(i.value0)};if(i instanceof E.Nothing)return h.const(!1);throw new Error("Failed pattern match at Data.Map.Internal (line 340, column 7 - line 344, column 22): "+[i.constructor.name])}(),s=function(){if(r instanceof E.Just&&i instanceof E.Just)return function(t){return S.lessThanOrEq(e)(r.value0)(t)&&S.lessThanOrEq(e)(t)(i.value0)};if(r instanceof E.Just&&i instanceof E.Nothing)return function(t){return S.lessThanOrEq(e)(r.value0)(t)};if(r instanceof E.Nothing&&i instanceof E.Just)return function(t){return S.lessThanOrEq(e)(t)(i.value0)};if(r instanceof E.Nothing&&i instanceof E.Nothing)return h.const(!0);throw new Error("Failed pattern match at Data.Map.Internal (line 347, column 7 - line 355, column 21): "+[r.constructor.name,i.constructor.name])}(),c=function(e){if(e instanceof I)return n;if(e instanceof O)return t(t(a(e.value1)?n:c(e.value0))(s(e.value1)?o(e.value1)(e.value2):n))(u(e.value1)?n:c(e.value3));if(e instanceof M)return t(t(t(t(a(e.value1)?n:c(e.value0))(s(e.value1)?o(e.value1)(e.value2):n))(a(e.value4)||u(e.value1)?n:c(e.value3)))(s(e.value4)?o(e.value4)(e.value5):n))(u(e.value4)?n:c(e.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 373, column 10 - line 385, column 67): "+[e.constructor.name])};return c}}}}}},ne=(r=E.Nothing.value,function(e){var t,n=r,i=!1;function o(t,r){if(r instanceof I)return i=!0,t;if(r instanceof O)return n=new E.Just({key:r.value1,value:r.value2}),void(e=r.value0);if(r instanceof M)return n=new E.Just({key:r.value1,value:r.value2}),void(e=r.value0);throw new Error("Failed pattern match at Data.Map.Internal (line 308, column 5 - line 308, column 22): "+[t.constructor.name,r.constructor.name])}for(;!i;)t=o(n,e);return t}),re=function(e){return function(t){var n,r=e,i=!1;function o(e,n){if(n instanceof I)return i=!0,e;if(n instanceof O)return r=new E.Just({key:n.value1,value:n.value2}),void(t=n.value3);if(n instanceof M)return r=new E.Just({key:n.value4,value:n.value5}),void(t=n.value6);throw new Error("Failed pattern match at Data.Map.Internal (line 300, column 5 - line 300, column 22): "+[e.constructor.name,n.constructor.name])}for(;!i;)n=o(r,t);return n}}(E.Nothing.value),ie=function(e){return function(t){return new f.Eq((function(n){return function(r){return f.eq(f.eqArray(C.eqTuple(e)(t)))(V(n))(V(r))}}))}},oe=function(e){return function(t){return new S.Ord((function(){return ie(e.Eq0())(t.Eq0())}),(function(n){return function(r){return S.compare(S.ordArray(C.ordTuple(e)(t)))(V(n))(V(r))}}))}},ae=function(e){return new f.Eq1((function(t){return f.eq(ie(e)(t))}))},ue=I.value,se=function(e){return function(t){return l.foldl(t)((function(t){return function(n){return Y(e)(n.value0)(n.value1)(t)}}))(ue)}},ce=function(e){return function(t){var n=se(e)(b.foldableList),r=g.filter(C.uncurry(t)),i=K(b.unfoldableList);return function(e){return n(r(i(e)))}}},fe=function(e){return function(t){return function(n){return function(r){return function(n){return function(r){return function(i){var o,a=n,u=r,s=!1;function c(n,r,o){if(n instanceof w.Nil)return s=!0,o;if(r instanceof w.Nil)return s=!0,o;if(n instanceof w.Cons&&r instanceof w.Cons){var c=S.compare(e)(n.value0.value0)(r.value0.value0);if(c instanceof T.LT)return a=n.value1,u=r,void(i=o);if(c instanceof T.EQ)return a=n.value1,u=r.value1,void(i=Y(e)(n.value0.value0)(t(n.value0.value1)(r.value0.value1))(o));if(c instanceof T.GT)return a=n,u=r.value1,void(i=o);throw new Error("Failed pattern match at Data.Map.Internal (line 655, column 5 - line 658, column 27): "+[c.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 652, column 3 - line 652, column 17): "+[n.constructor.name,r.constructor.name,o.constructor.name])}for(;!s;)o=c(a,u,i);return o}}}(K(w.unfoldableList)(n))(K(w.unfoldableList)(r))(ue)}}}},le=function(e){return function(t){return function(n){return E.maybe(n)(C.snd)(X(e)(t)(n))}}},de=s.identity(s.categoryFn),he=new d.FoldableWithIndex((function(){return Z}),(function(e){return function(t){return function(n){return l.foldMap(w.foldableList)(e)(C.uncurry(t))(de(K(w.unfoldableList)(n)))}}}),(function(e){return function(t){return function(n){return l.foldl(w.foldableList)((r=h.flip(e),function(e){return C.uncurry(r(e))}))(t)(de(K(w.unfoldableList)(n)));var r}}}),(function(e){return function(t){return function(n){return l.foldr(w.foldableList)(C.uncurry(e))(t)(de(K(w.unfoldableList)(n)))}}})),pe=function(e){return function(t){return d.foldrWithIndex(he)((function(n){return function(r){return function(i){return E.maybe(i)((function(t){return Y(e)(n)(t)(i)}))(t(n)(r))}}}))(ue)}},me=function(e){var t=pe(e);return function(e){return t(h.const(e))}},ye=new x.TraversableWithIndex((function(){return he}),(function(){return J}),(function(){return ee}),(function(e){return function(t){return function(n){if(n instanceof I)return o.pure(e)(I.value);if(n instanceof O)return a.apply(e.Apply0())(a.apply(e.Apply0())(a.apply(e.Apply0())(p.map(e.Apply0().Functor0())(O.create)(x.traverseWithIndex(ye)(e)(t)(n.value0)))(o.pure(e)(n.value1)))(t(n.value1)(n.value2)))(x.traverseWithIndex(ye)(e)(t)(n.value3));if(n instanceof M)return a.apply(e.Apply0())(a.apply(e.Apply0())(a.apply(e.Apply0())(a.apply(e.Apply0())(a.apply(e.Apply0())(a.apply(e.Apply0())(p.map(e.Apply0().Functor0())(M.create)(x.traverseWithIndex(ye)(e)(t)(n.value0)))(o.pure(e)(n.value1)))(t(n.value1)(n.value2)))(x.traverseWithIndex(ye)(e)(t)(n.value3)))(o.pure(e)(n.value4)))(t(n.value4)(n.value5)))(x.traverseWithIndex(ye)(e)(t)(n.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 144, column 1 - line 158, column 40): "+[t.constructor.name,n.constructor.name])}}})),ve=function(e){return new a.Apply((function(){return $}),fe(e)(s.identity(s.categoryFn)))},ge=function(e){return function(t){return function(n){return function(r){var i=t(W(e)(n)(r));if(i instanceof E.Nothing)return le(e)(n)(r);if(i instanceof E.Just)return Y(e)(n)(i.value0)(r);throw new Error("Failed pattern match at Data.Map.Internal (line 563, column 15 - line 565, column 25): "+[i.constructor.name])}}}},be=function(e){return function(t){return function(n){return function(r){return l.foldl(w.foldableList)((function(n){return function(r){return ge(e)((i=E.maybe(r.value1)(t(r.value1)),function(e){return E.Just.create(i(e))}))(r.value0)(n);var i}}))(r)(K(w.unfoldableList)(n))}}}},we=function(e){return be(e)(h.const)},Ee=function(e){return new i.Alt((function(){return $}),we(e))};e.exports={showTree:z,empty:ue,isEmpty:function(e){return e instanceof I},singleton:H,checkValid:function(e){var t=function(e){if(e instanceof I)return o.pure(w.applicativeList)(0);if(e instanceof O)return p.map(w.functorList)((function(e){return e+1|0}))(A.append(w.semigroupList)(t(e.value0))(t(e.value3)));if(e instanceof M)return p.map(w.functorList)((function(e){return e+1|0}))(A.append(w.semigroupList)(t(e.value0))(A.append(w.semigroupList)(t(e.value3))(t(e.value6))));throw new Error("Failed pattern match at Data.Map.Internal (line 199, column 3 - line 199, column 36): "+[e.constructor.name])};return 1===v.length(v.nub(S.ordInt)(t(e)))},insert:Y,insertWith:function(e){return function(t){return function(n){return function(r){return ge(e)((i=E.maybe(r)(h.flip(t)(r)),function(e){return E.Just.create(i(e))}))(n);var i}}}},lookup:W,lookupLE:function(e){return function(t){var n=S.compare(e),r=function(e){if(e instanceof I)return E.Nothing.value;if(e instanceof O){var i=n(t)(e.value1);if(i instanceof T.EQ)return new E.Just({key:e.value1,value:e.value2});if(i instanceof T.GT)return E.Just.create(E.fromMaybe({key:e.value1,value:e.value2})(r(e.value3)));if(i instanceof T.LT)return r(e.value0);throw new Error("Failed pattern match at Data.Map.Internal (line 236, column 33 - line 239, column 20): "+[i.constructor.name])}if(e instanceof M){var o=n(t)(e.value4);if(o instanceof T.EQ)return new E.Just({key:e.value4,value:e.value5});if(o instanceof T.GT)return E.Just.create(E.fromMaybe({key:e.value4,value:e.value5})(r(e.value6)));if(o instanceof T.LT)return r(new O(e.value0,e.value1,e.value2,e.value3));throw new Error("Failed pattern match at Data.Map.Internal (line 240, column 45 - line 243, column 36): "+[o.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 235, column 5 - line 235, column 22): "+[e.constructor.name])};return r}},lookupLT:function(e){return function(t){var n=S.compare(e),r=function(e){if(e instanceof I)return E.Nothing.value;if(e instanceof O){var i=n(t)(e.value1);if(i instanceof T.EQ)return re(e.value0);if(i instanceof T.GT)return E.Just.create(E.fromMaybe({key:e.value1,value:e.value2})(r(e.value3)));if(i instanceof T.LT)return r(e.value0);throw new Error("Failed pattern match at Data.Map.Internal (line 253, column 33 - line 256, column 20): "+[i.constructor.name])}if(e instanceof M){var o=n(t)(e.value4);if(o instanceof T.EQ)return re(new O(e.value0,e.value1,e.value2,e.value3));if(o instanceof T.GT)return E.Just.create(E.fromMaybe({key:e.value4,value:e.value5})(r(e.value6)));if(o instanceof T.LT)return r(new O(e.value0,e.value1,e.value2,e.value3));throw new Error("Failed pattern match at Data.Map.Internal (line 257, column 45 - line 260, column 36): "+[o.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 252, column 5 - line 252, column 22): "+[e.constructor.name])};return r}},lookupGE:function(e){return function(t){var n=S.compare(e),r=function(e){if(e instanceof I)return E.Nothing.value;if(e instanceof O){var i=n(t)(e.value1);if(i instanceof T.EQ)return new E.Just({key:e.value1,value:e.value2});if(i instanceof T.LT)return E.Just.create(E.fromMaybe({key:e.value1,value:e.value2})(r(e.value0)));if(i instanceof T.GT)return r(e.value3);throw new Error("Failed pattern match at Data.Map.Internal (line 270, column 33 - line 273, column 21): "+[i.constructor.name])}if(e instanceof M){var o=n(t)(e.value1);if(o instanceof T.EQ)return new E.Just({key:e.value1,value:e.value2});if(o instanceof T.LT)return E.Just.create(E.fromMaybe({key:e.value1,value:e.value2})(r(e.value0)));if(o instanceof T.GT)return r(new O(e.value3,e.value4,e.value5,e.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 274, column 45 - line 277, column 37): "+[o.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 269, column 5 - line 269, column 22): "+[e.constructor.name])};return r}},lookupGT:function(e){return function(t){var n=S.compare(e),r=function(e){if(e instanceof I)return E.Nothing.value;if(e instanceof O){var i=n(t)(e.value1);if(i instanceof T.EQ)return ne(e.value3);if(i instanceof T.LT)return E.Just.create(E.fromMaybe({key:e.value1,value:e.value2})(r(e.value0)));if(i instanceof T.GT)return r(e.value3);throw new Error("Failed pattern match at Data.Map.Internal (line 287, column 33 - line 290, column 21): "+[i.constructor.name])}if(e instanceof M){var o=n(t)(e.value1);if(o instanceof T.EQ)return ne(new O(e.value3,e.value4,e.value5,e.value6));if(o instanceof T.LT)return E.Just.create(E.fromMaybe({key:e.value1,value:e.value2})(r(e.value0)));if(o instanceof T.GT)return r(new O(e.value3,e.value4,e.value5,e.value6));throw new Error("Failed pattern match at Data.Map.Internal (line 291, column 45 - line 294, column 37): "+[o.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 286, column 5 - line 286, column 22): "+[e.constructor.name])};return r}},findMin:ne,findMax:re,foldSubmap:function(e){return function(t){return te(e)(A.append(t.Semigroup0()))(_.mempty(t))}},submap:function(e){return function(t){return function(n){return te(e)(we(e))(ue)(t)(n)(H)}}},fromFoldable:se,fromFoldableWith:function(e){return function(t){return function(n){return l.foldl(t)((function(t){return function(r){return ge(e)(function(e){return function(t){if(t instanceof E.Just)return E.Just.create(n(e)(t.value0));if(t instanceof E.Nothing)return new E.Just(e);throw new Error("Failed pattern match at Data.Map.Internal (line 580, column 3 - line 580, column 38): "+[e.constructor.name,t.constructor.name])}}(r.value1))(r.value0)(t)}}))(ue)}}},fromFoldableWithIndex:function(e){return function(t){return d.foldlWithIndex(t)((function(t){return function(n){return function(r){return Y(e)(t)(r)(n)}}}))(ue)}},toUnfoldable:K,toUnfoldableUnordered:function(e){return function(t){return R.unfoldr(e)((function(e){var t,n=!1;function r(t){if(t instanceof w.Nil)return n=!0,E.Nothing.value;if(t instanceof w.Cons){if(t.value0 instanceof I)return void(e=t.value1);if(t.value0 instanceof O)return n=!0,E.Just.create(new C.Tuple(new C.Tuple(t.value0.value1,t.value0.value2),new w.Cons(t.value0.value0,new w.Cons(t.value0.value3,t.value1))));if(t.value0 instanceof M)return n=!0,E.Just.create(new C.Tuple(new C.Tuple(t.value0.value1,t.value0.value2),new w.Cons(H(t.value0.value4)(t.value0.value5),new w.Cons(t.value0.value0,new w.Cons(t.value0.value3,new w.Cons(t.value0.value6,t.value1))))));throw new Error("Failed pattern match at Data.Map.Internal (line 612, column 18 - line 617, column 77): "+[t.value0.constructor.name])}throw new Error("Failed pattern match at Data.Map.Internal (line 611, column 3 - line 611, column 19): "+[t.constructor.name])}for(;!n;)t=r(e);return t}))(new w.Cons(t,w.Nil.value))}},delete:le,pop:X,member:function(e){return function(t){return function(n){return E.isJust(W(e)(t)(n))}}},alter:ge,update:function(e){return function(t){return function(n){return function(r){return ge(e)(E.maybe(E.Nothing.value)(t))(n)(r)}}}},keys:G,values:U,union:we,unionWith:be,unions:function(e){return function(t){return l.foldl(t)(we(e))(ue)}},intersection:function(e){return fe(e)(h.const)},intersectionWith:fe,difference:function(e){return function(t){return function(n){return l.foldl(w.foldableList)(h.flip(le(e)))(t)(G(n))}}},isSubmap:function(e){return function(t){return function(n){return function(r){return l.all(b.foldableList)(y.heytingAlgebraBoolean)((function(n){return f.eq(E.eqMaybe(t))(W(e)(n.value0)(r))(new E.Just(n.value1))}))(K(b.unfoldableList)(n))}}}},size:q,filterWithKey:ce,filterKeys:function(e){return function(t){return ce(e)((function(e){return h.const(t(e))}))}},filter:function(e){return function(t){return ce(e)(h.const(t))}},mapMaybeWithKey:pe,mapMaybe:me,catMaybes:function(e){return me(e)(s.identity(s.categoryFn))},eq1Map:ae,eqMap:ie,ord1Map:function(e){return new S.Ord1((function(){return ae(e.Eq0())}),(function(t){return S.compare(oe(e)(t))}))},ordMap:oe,showMap:function(e){return function(t){return new P.Show((function(n){return"(fromFoldable "+P.show(P.showArray(C.showTuple(e)(t)))(V(n))+")"}))}},altMap:Ee,plusMap:function(e){return new c.Plus((function(){return Ee(e)}),ue)},functorMap:$,functorWithIndexMap:J,applyMap:ve,bindMap:function(e){return new u.Bind((function(){return ve(e)}),(function(t){return function(n){return pe(e)((function(t){var r=W(e)(t);return function(e){return r(n(e))}}))(t)}}))},foldableMap:Z,foldableWithIndexMap:he,traversableMap:ee,traversableWithIndexMap:ye}},function(e,t,n){"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,r.fetch&&(t.default=r.fetch.bind(r)),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},function(e,t,n){var r=n(39);n(51),n(225);var i=e.exports=r.asn1=r.asn1||{};function o(e,t,n){if(n>t){var r=new Error("Too few bytes to parse DER.");throw r.available=e.length(),r.remaining=t,r.requested=n,r}}i.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},i.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},i.create=function(e,t,n,o,a){if(r.util.isArray(o)){for(var u=[],s=0;s<o.length;++s)void 0!==o[s]&&u.push(o[s]);o=u}var c={tagClass:e,type:t,constructed:n,composed:n||r.util.isArray(o),value:o};return a&&"bitStringContents"in a&&(c.bitStringContents=a.bitStringContents,c.original=i.copy(c)),c},i.copy=function(e,t){var n;if(r.util.isArray(e)){n=[];for(var o=0;o<e.length;++o)n.push(i.copy(e[o],t));return n}return"string"==typeof e?e:(n={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:i.copy(e.value,t)},t&&!t.excludeBitStringContents&&(n.bitStringContents=e.bitStringContents),n)},i.equals=function(e,t,n){if(r.util.isArray(e)){if(!r.util.isArray(t))return!1;if(e.length!==t.length)return!1;for(var o=0;o<e.length;++o)if(!i.equals(e[o],t[o]))return!1;return!0}if(typeof e!=typeof t)return!1;if("string"==typeof e)return e===t;var a=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&i.equals(e.value,t.value);return n&&n.includeBitStringContents&&(a=a&&e.bitStringContents===t.bitStringContents),a},i.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};i.fromDer=function(e,t){return void 0===t&&(t={strict:!0,decodeBitStrings:!0}),"boolean"==typeof t&&(t={strict:t,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),"string"==typeof e&&(e=r.util.createBuffer(e)),function e(t,n,r,a){var u;o(t,n,2);var s=t.getByte();n--;var c=192&s,f=31&s;u=t.length();var l,d,h=function(e,t){var n=e.getByte();if(t--,128!==n){var r;if(128&n){var i=127&n;o(e,t,i),r=e.getInt(i<<3)}else r=n;if(r<0)throw new Error("Negative length: "+r);return r}}(t,n);if(n-=u-t.length(),void 0!==h&&h>n){if(a.strict){var p=new Error("Too few bytes to read ASN.1 value.");throw p.available=t.length(),p.remaining=n,p.requested=h,p}h=n}var m=32==(32&s);if(m)if(l=[],void 0===h)for(;;){if(o(t,n,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),n-=2;break}u=t.length(),l.push(e(t,n,r+1,a)),n-=u-t.length()}else for(;h>0;)u=t.length(),l.push(e(t,h,r+1,a)),n-=u-t.length(),h-=u-t.length();void 0===l&&c===i.Class.UNIVERSAL&&f===i.Type.BITSTRING&&(d=t.bytes(h));if(void 0===l&&a.decodeBitStrings&&c===i.Class.UNIVERSAL&&f===i.Type.BITSTRING&&h>1){var y=t.read,v=n,g=0;if(f===i.Type.BITSTRING&&(o(t,n,1),g=t.getByte(),n--),0===g)try{u=t.length();var b={verbose:a.verbose,strict:!0,decodeBitStrings:!0},w=e(t,n,r+1,b),E=u-t.length();n-=E,f==i.Type.BITSTRING&&E++;var _=w.tagClass;E!==h||_!==i.Class.UNIVERSAL&&_!==i.Class.CONTEXT_SPECIFIC||(l=[w])}catch(e){}void 0===l&&(t.read=y,n=v)}if(void 0===l){if(void 0===h){if(a.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");h=n}if(f===i.Type.BMPSTRING)for(l="";h>0;h-=2)o(t,n,2),l+=String.fromCharCode(t.getInt16()),n-=2;else l=t.getBytes(h)}var S=void 0===d?null:{bitStringContents:d};return i.create(c,f,m,l,S)}(e,e.length(),0,t)},i.toDer=function(e){var t=r.util.createBuffer(),n=e.tagClass|e.type,o=r.util.createBuffer(),a=!1;if("bitStringContents"in e&&(a=!0,e.original&&(a=i.equals(e,e.original))),a)o.putBytes(e.bitStringContents);else if(e.composed){e.constructed?n|=32:o.putByte(0);for(var u=0;u<e.value.length;++u)void 0!==e.value[u]&&o.putBuffer(i.toDer(e.value[u]))}else if(e.type===i.Type.BMPSTRING)for(u=0;u<e.value.length;++u)o.putInt16(e.value.charCodeAt(u));else e.type===i.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0==(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128==(128&e.value.charCodeAt(1)))?o.putBytes(e.value.substr(1)):o.putBytes(e.value);if(t.putByte(n),o.length()<=127)t.putByte(127&o.length());else{var s=o.length(),c="";do{c+=String.fromCharCode(255&s),s>>>=8}while(s>0);t.putByte(128|c.length);for(u=c.length-1;u>=0;--u)t.putByte(c.charCodeAt(u))}return t.putBuffer(o),t},i.oidToDer=function(e){var t,n,i,o,a=e.split("."),u=r.util.createBuffer();u.putByte(40*parseInt(a[0],10)+parseInt(a[1],10));for(var s=2;s<a.length;++s){t=!0,n=[],i=parseInt(a[s],10);do{o=127&i,i>>>=7,t||(o|=128),n.push(o),t=!1}while(i>0);for(var c=n.length-1;c>=0;--c)u.putByte(n[c])}return u},i.derToOid=function(e){var t;"string"==typeof e&&(e=r.util.createBuffer(e));var n=e.getByte();t=Math.floor(n/40)+"."+n%40;for(var i=0;e.length()>0;)i<<=7,128&(n=e.getByte())?i+=127&n:(t+="."+(i+n),i=0);return t},i.utcTimeToDate=function(e){var t=new Date,n=parseInt(e.substr(0,2),10);n=n>=50?1900+n:2e3+n;var r=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),o=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),u=0;if(e.length>11){var s=e.charAt(10),c=10;"+"!==s&&"-"!==s&&(u=parseInt(e.substr(10,2),10),c+=2)}if(t.setUTCFullYear(n,r,i),t.setUTCHours(o,a,u,0),c&&("+"===(s=e.charAt(c))||"-"===s)){var f=60*parseInt(e.substr(c+1,2),10)+parseInt(e.substr(c+4,2),10);f*=6e4,"+"===s?t.setTime(+t-f):t.setTime(+t+f)}return t},i.generalizedTimeToDate=function(e){var t=new Date,n=parseInt(e.substr(0,4),10),r=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),u=parseInt(e.substr(12,2),10),s=0,c=0,f=!1;"Z"===e.charAt(e.length-1)&&(f=!0);var l=e.length-5,d=e.charAt(l);"+"!==d&&"-"!==d||(c=60*parseInt(e.substr(l+1,2),10)+parseInt(e.substr(l+4,2),10),c*=6e4,"+"===d&&(c*=-1),f=!0);return"."===e.charAt(14)&&(s=1e3*parseFloat(e.substr(14),10)),f?(t.setUTCFullYear(n,r,i),t.setUTCHours(o,a,u,s),t.setTime(+t+c)):(t.setFullYear(n,r,i),t.setHours(o,a,u,s)),t},i.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",n=[];n.push((""+e.getUTCFullYear()).substr(2)),n.push(""+(e.getUTCMonth()+1)),n.push(""+e.getUTCDate()),n.push(""+e.getUTCHours()),n.push(""+e.getUTCMinutes()),n.push(""+e.getUTCSeconds());for(var r=0;r<n.length;++r)n[r].length<2&&(t+="0"),t+=n[r];return t+="Z"},i.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",n=[];n.push(""+e.getUTCFullYear()),n.push(""+(e.getUTCMonth()+1)),n.push(""+e.getUTCDate()),n.push(""+e.getUTCHours()),n.push(""+e.getUTCMinutes()),n.push(""+e.getUTCSeconds());for(var r=0;r<n.length;++r)n[r].length<2&&(t+="0"),t+=n[r];return t+="Z"},i.integerToDer=function(e){var t=r.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var n=new Error("Integer too large; max is 32-bits.");throw n.integer=e,n},i.derToInteger=function(e){"string"==typeof e&&(e=r.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},i.validate=function(e,t,n,o){var a=!1;if(e.tagClass!==t.tagClass&&void 0!==t.tagClass||e.type!==t.type&&void 0!==t.type)o&&(e.tagClass!==t.tagClass&&o.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&o.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));else if(e.constructed===t.constructed||void 0===t.constructed){if(a=!0,t.value&&r.util.isArray(t.value))for(var u=0,s=0;a&&s<t.value.length;++s)a=t.value[s].optional||!1,e.value[u]&&((a=i.validate(e.value[u],t.value[s],n,o))?++u:t.value[s].optional&&(a=!0)),!a&&o&&o.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(a&&n)if(t.capture&&(n[t.capture]=e.value),t.captureAsn1&&(n[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(n[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)if(e.bitStringContents.length<2)n[t.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");n[t.captureBitStringValue]=e.bitStringContents.slice(1)}}else o&&o.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');return a};var a=/[^\\u0000-\\u00ff]/;i.prettyPrint=function(e,t,n){var o="";n=n||2,(t=t||0)>0&&(o+="\n");for(var u="",s=0;s<t*n;++s)u+=" ";switch(o+=u+"Tag: ",e.tagClass){case i.Class.UNIVERSAL:o+="Universal:";break;case i.Class.APPLICATION:o+="Application:";break;case i.Class.CONTEXT_SPECIFIC:o+="Context-Specific:";break;case i.Class.PRIVATE:o+="Private:"}if(e.tagClass===i.Class.UNIVERSAL)switch(o+=e.type,e.type){case i.Type.NONE:o+=" (None)";break;case i.Type.BOOLEAN:o+=" (Boolean)";break;case i.Type.INTEGER:o+=" (Integer)";break;case i.Type.BITSTRING:o+=" (Bit string)";break;case i.Type.OCTETSTRING:o+=" (Octet string)";break;case i.Type.NULL:o+=" (Null)";break;case i.Type.OID:o+=" (Object Identifier)";break;case i.Type.ODESC:o+=" (Object Descriptor)";break;case i.Type.EXTERNAL:o+=" (External or Instance of)";break;case i.Type.REAL:o+=" (Real)";break;case i.Type.ENUMERATED:o+=" (Enumerated)";break;case i.Type.EMBEDDED:o+=" (Embedded PDV)";break;case i.Type.UTF8:o+=" (UTF8)";break;case i.Type.ROID:o+=" (Relative Object Identifier)";break;case i.Type.SEQUENCE:o+=" (Sequence)";break;case i.Type.SET:o+=" (Set)";break;case i.Type.PRINTABLESTRING:o+=" (Printable String)";break;case i.Type.IA5String:o+=" (IA5String (ASCII))";break;case i.Type.UTCTIME:o+=" (UTC time)";break;case i.Type.GENERALIZEDTIME:o+=" (Generalized time)";break;case i.Type.BMPSTRING:o+=" (BMP String)"}else o+=e.type;if(o+="\n",o+=u+"Constructed: "+e.constructed+"\n",e.composed){var c=0,f="";for(s=0;s<e.value.length;++s)void 0!==e.value[s]&&(c+=1,f+=i.prettyPrint(e.value[s],t+1,n),s+1<e.value.length&&(f+=","));o+=u+"Sub values: "+c+f}else{if(o+=u+"Value: ",e.type===i.Type.OID){var l=i.derToOid(e.value);o+=l,r.pki&&r.pki.oids&&l in r.pki.oids&&(o+=" ("+r.pki.oids[l]+") ")}if(e.type===i.Type.INTEGER)try{o+=i.derToInteger(e.value)}catch(t){o+="0x"+r.util.bytesToHex(e.value)}else if(e.type===i.Type.BITSTRING){if(e.value.length>1?o+="0x"+r.util.bytesToHex(e.value.slice(1)):o+="(none)",e.value.length>0){var d=e.value.charCodeAt(0);1==d?o+=" (1 unused bit shown)":d>1&&(o+=" ("+d+" unused bits shown)")}}else e.type===i.Type.OCTETSTRING?(a.test(e.value)||(o+="("+e.value+") "),o+="0x"+r.util.bytesToHex(e.value)):e.type===i.Type.UTF8?o+=r.util.decodeUtf8(e.value):e.type===i.Type.PRINTABLESTRING||e.type===i.Type.IA5String?o+=e.value:a.test(e.value)?o+="0x"+r.util.bytesToHex(e.value):0===e.value.length?o+="[null]":o+=e.value}return o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(281),i=n(130);const o=r.from({name:"identity",code:0,encode:e=>i.coerce(e)});t.identity=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(286),i=n(12);function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var a=o(r);const u={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=i.CID.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new a.Token(a.Type.tag,42),new a.Token(a.Type.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const s={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};s.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return i.CID.decode(e.subarray(1))};t.code=113,t.decode=e=>a.decode(e,s),t.encode=e=>a.encode(e,u),t.name="dag-cbor"},function(e,t,n){"use strict";e.exports=async function*(e,t){for await(const n of e)await t(n)&&(yield n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1183),i=n(1184),o=n(1186),a=()=>{},u=new i.TimeoutError;t.default=class extends r{constructor(e){var t,n,r,i;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=a,this._resolveIdle=a,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:o.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==n?n:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(i=null===(r=e.interval)||void 0===r?void 0:r.toString())&&void 0!==i?i:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=a,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=a,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((n,r)=>{this._queue.enqueue(async()=>{this._pendingCount++,this._intervalCount++;try{const o=void 0===this._timeout&&void 0===t.timeout?e():i.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&r(u)});n(await o)}catch(e){r(e)}this._next()},t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},function(e,t,n){"use strict";const r=n(387),i=n(388),{exporter:o}=n(118),a=n(4),{CID:u}=n(12);e.exports=async(e,t,n)=>{const s=await r(e,n);let c={entryType:"file"},f="";if(f=t instanceof u?"/ipfs/"+t:t,f=f.trim(),f=f.replace(/(\/\/+)/g,"/"),f.endsWith("/")&&f.length>1&&(f=f.substring(0,f.length-1)),!f)throw a(new Error("paths must not be empty"),"ERR_NO_PATH");if("/"!==f.substring(0,1))throw a(new Error("paths must start with a leading slash"),"ERR_INVALID_PATH");"/"===f.substring(f.length-1)&&(f=f.substring(0,f.length-1));const l=i(f);if("ipfs"===l[0]){let e;e=2===l.length?"/"+l.join("/"):"/"+l.slice(0,l.length-1).join("/"),c={type:"ipfs",depth:l.length-2,entryType:"file",mfsPath:"/"+l.join("/"),mfsDirectory:e,parts:l,path:"/"+l.join("/"),name:l[l.length-1]}}else{const e=`/ipfs/${s}${l.length?"/"+l.join("/"):""}`,t=`/ipfs/${s}/${l.slice(0,l.length-1).join("/")}`;c={type:"mfs",depth:l.length,entryType:"file",mfsDirectory:t,mfsPath:e,parts:l,path:"/"+l.join("/"),name:l[l.length-1]}}const d="mfs"===c.type?c.mfsPath:c.path;try{const t=await o(d,e.repo.blocks,n);c.cid=t.cid,c.mfsPath="/ipfs/"+t.path,c.entryType=t.type,c.content=t.content,"file"!==c.entryType&&"directory"!==c.entryType||"file"!==t.type&&"directory"!==t.type||(c.unixfs=t.unixfs)}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e}return c.exists=Boolean(c.cid),c}},function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}},function(e,t,n){"use strict";var r=n(246),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,u=Object.defineProperty,s=u&&function(){var e={};try{for(var t in u(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,t,n,r){var i;(!(t in e)||"function"==typeof(i=r)&&"[object Function]"===o.call(i)&&r())&&(s?u(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},f=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var u=0;u<o.length;u+=1)c(e,o[u],t[o[u]],n[o[u]])};f.supportsDescriptors=!!s,e.exports=f},function(e,t,n){"use strict";var r=n(250),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var o=Object.create(n(212));o.inherits=n(22);var a=n(461),u=n(319);o.inherits(l,a);for(var s=i(u.prototype),c=0;c<s.length;c++){var f=s[c];l.prototype[f]||(l.prototype[f]=u.prototype[f])}function l(e){if(!(this instanceof l))return new l(e);a.call(this,e),u.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),l.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";var r=n(863),i=n(11),o=n(41),a=n(2),u=n(5),s=n(18),c=n(35),f=r.stackImpl(u.Just.create)(u.Nothing.value),l=new s.Show(r.showErrorImpl);e.exports={stack:f,throw:function(e){return r.throwException(r.error(e))},try:function(e){return r.catchException((t=i.pure(c.applicativeEffect),function(e){return t(o.Left.create(e))}))(a.map(c.functorEffect)(o.Right.create)(e));var t},showError:l,error:r.error,message:r.message,name:r.name,throwException:r.throwException,catchException:r.catchException}},function(e,t,n){"use strict";var r=n(11),i=n(15),o=n(29),a=function(e){return e.pass},u=function(e){return e.listen};e.exports={listen:u,pass:a,tell:function(e){return e.tell},MonadTell:function(e,t,n){this.Monad1=e,this.Semigroup0=t,this.tell=n},MonadWriter:function(e,t,n,r){this.MonadTell1=e,this.Monoid0=t,this.listen=n,this.pass=r},listens:function(e){return function(t){return function(n){return i.bind(e.MonadTell1().Monad1().Bind1())(u(e)(n))((function(n){return r.pure(e.MonadTell1().Monad1().Applicative0())(new o.Tuple(n.value0,t(n.value1)))}))}}},censor:function(e){return function(t){return function(n){return a(e)(i.bind(e.MonadTell1().Monad1().Bind1())(n)((function(n){return r.pure(e.MonadTell1().Monad1().Applicative0())(new o.Tuple(n,t))})))}}}}},function(e,t,n){"use strict";var r=n(19),i=n(25),o=n(13),a=n(36),u=n(23),s=n(2),c=n(187),f=n(26),l=n(870),d=n(871),h=n(34),p=n(20),m=n(24),y=function(e,t,n,r){this.Foldable0=e,this.foldMap1=t,this.foldl1=n,this.foldr1=r},v=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),g=function(e){return e.value0(e.value1)},b=v.create(u.const),w=function(e){return e.foldr1},E=function(e){return e.foldl1},_=new y((function(){return a.foldableTuple}),(function(e){return function(e){return function(t){return e(t.value1)}}}),(function(e){return function(e){return e.value1}}),(function(e){return function(e){return e.value1}})),S=new y((function(){return a.foldableMultiplicative}),(function(e){return function(e){return function(t){return e(t)}}}),(function(e){return function(e){return e}}),(function(e){return function(e){return e}})),T=new y((function(){return a.foldableIdentity}),(function(e){return function(e){return function(t){return e(t)}}}),(function(e){return function(e){return e}}),(function(e){return function(e){return e}})),A=new y((function(){return a.foldableDual}),(function(e){return function(e){return function(t){return e(t)}}}),(function(e){return function(e){return e}}),(function(e){return function(e){return e}})),P=new p.Semigroup((function(e){return function(t){return new v((function(n){return function(r){return e.value0(r(e.value1)(t.value0(n)(r)))(r)}}),t.value1)}})),k=function(e){return function(t){return function(n){return function(r){var i=E(e)(p.append(n)),o=s.map(t)(r);return function(e){return i(o(e))}}}}},x=function(e){return e.foldMap1},C=function(e){return function(t){return function(n){return function(r){return function(i){return x(e)(function(e){return new p.Semigroup((function(t){return function(n){return function(r){return p.append(e)(t(r))(p.append(e)(r)(n(r)))}}}))}(t))((function(e){return u.const(r(e))}))(i)(n)}}}}},R=function(e){return function(t){return function(n){return function(i){return s.voidRight(t.Functor0())(m.unit)(x(e)(function(e){return new p.Semigroup((function(t){return function(n){return r.applySecond(e)(t)(n)}}))}(t))((function(e){return n(e)}))(i))}}}};e.exports={Foldable1:y,foldMap1:x,fold1:function(e){return function(t){return x(e)(t)(i.identity(i.categoryFn))}},foldr1:w,foldl1:E,traverse1_:R,for1_:function(e){return function(t){return u.flip(R(e)(t))}},sequence1_:function(e){return function(t){return R(e)(t)(i.identity(i.categoryFn))}},foldr1Default:function(e){return u.flip((t=x(e)(P)(b),function(e){return g(t(e))}));var t},foldl1Default:function(e){var t,n=u.flip((t=f.alaF()()()()(c.Dual)(x(e)(c.semigroupDual(P)))(b),function(e){return g(t(e))}));return function(e){return n(u.flip(e))}},foldMap1DefaultR:function(e){return function(t){return function(n){return function(r){var i=w(e)(p.append(n)),o=s.map(t)(r);return function(e){return i(o(e))}}}}},foldMap1DefaultL:k,foldMap1Default:function(e){return function(e){return function(t){return function(n){return k(e)(t)(n)}}}},intercalate:function(e){return function(t){return u.flip(C(e)(t))(i.identity(i.categoryFn))}},intercalateMap:C,maximum:function(e){return function(t){return f.ala()()()(l.Max)(x(t)(l.semigroupMax(e)))}},maximumBy:function(e){return function(t){return E(e)((function(e){return function(n){return o.eq(h.eqOrdering)(t(e)(n))(h.GT.value)?e:n}}))}},minimum:function(e){return function(t){return f.ala()()()(d.Min)(x(t)(d.semigroupMin(e)))}},minimumBy:function(e){return function(t){return E(e)((function(e){return function(n){return o.eq(h.eqOrdering)(t(e)(n))(h.LT.value)?e:n}}))}},foldableDual:A,foldableMultiplicative:S,foldableTuple:_,foldableIdentity:T}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(41),a=n(127),u=n(23),s=n(2),c=n(259),f=n(260),l=n(217),d=n(337),h=n(107),p=n(91),m=n(56),y=(n(502),n(503)),v=n(29),g=n(24),b=function(e,t,n,r){this.FoldableWithIndex1=e,this.FunctorWithIndex0=t,this.Traversable2=n,this.traverseWithIndex=r},w=function(e){return function(t){return function(n){var r=m.sequence(e.Traversable2())(t),i=h.mapWithIndex(e.FunctorWithIndex0())(n);return function(e){return r(i(e))}}}},E=function(e){return e.traverseWithIndex},_=new b((function(){return a.foldableWithIndexTuple}),(function(){return h.functorWithIndexTuple}),(function(){return m.traversableTuple}),(function(e){return function(t){return function(n){return s.map(e.Apply0().Functor0())(v.Tuple.create(n.value0))(t(g.unit)(n.value1))}}})),S=new b((function(){return a.foldableWithIndexMultiplicative}),(function(){return h.functorWithIndexMultiplicative}),(function(){return m.traversableMultiplicative}),(function(e){return function(t){return m.traverse(m.traversableMultiplicative)(e)(t(g.unit))}})),T=new b((function(){return a.foldableWithIndexMaybe}),(function(){return h.functorWithIndexMaybe}),(function(){return m.traversableMaybe}),(function(e){return function(t){return m.traverse(m.traversableMaybe)(e)(t(g.unit))}})),A=new b((function(){return a.foldableWithIndexLast}),(function(){return h.functorWithIndexLast}),(function(){return m.traversableLast}),(function(e){return function(t){return m.traverse(m.traversableLast)(e)(t(g.unit))}})),P=new b((function(){return a.foldableWithIndexIdentity}),(function(){return h.functorWithIndexIdentity}),(function(){return m.traversableIdentity}),(function(e){return function(t){return function(n){return s.map(e.Apply0().Functor0())(p.Identity)(t(g.unit)(n))}}})),k=new b((function(){return a.foldableWithIndexFirst}),(function(){return h.functorWithIndexFirst}),(function(){return m.traversableFirst}),(function(e){return function(t){return m.traverse(m.traversableFirst)(e)(t(g.unit))}})),x=new b((function(){return a.foldableWithIndexEither}),(function(){return h.functorWithIndexEither}),(function(){return m.traversableEither}),(function(e){return function(t){return function(n){if(n instanceof o.Left)return r.pure(e)(new o.Left(n.value0));if(n instanceof o.Right)return s.map(e.Apply0().Functor0())(o.Right.create)(t(g.unit)(n.value0));throw new Error("Failed pattern match at Data.TraversableWithIndex (line 95, column 1 - line 97, column 53): "+[t.constructor.name,n.constructor.name])}}})),C=new b((function(){return a.foldableWithIndexDual}),(function(){return h.functorWithIndexDual}),(function(){return m.traversableDual}),(function(e){return function(t){return m.traverse(m.traversableDual)(e)(t(g.unit))}})),R=new b((function(){return a.foldableWithIndexDisj}),(function(){return h.functorWithIndexDisj}),(function(){return m.traversableDisj}),(function(e){return function(t){return m.traverse(m.traversableDisj)(e)(t(g.unit))}})),I=new b((function(){return a.foldableWithIndexConst}),(function(){return h.functorWithIndexConst}),(function(){return m.traversableConst}),(function(e){return function(t){return function(t){return r.pure(e)(t)}}})),O=new b((function(){return a.foldableWithIndexConj}),(function(){return h.functorWithIndexConj}),(function(){return m.traversableConj}),(function(e){return function(t){return m.traverse(m.traversableConj)(e)(t(g.unit))}})),M=new b((function(){return a.foldableWithIndexArray}),(function(){return h.functorWithIndexArray}),(function(){return m.traversableArray}),(function(e){return w(M)(e)})),N=new b((function(){return a.foldableWithIndexAdditive}),(function(){return h.functorWithIndexAdditive}),(function(){return m.traversableAdditive}),(function(e){return function(t){return m.traverse(m.traversableAdditive)(e)(t(g.unit))}})),D=function(e){return function(t){return function(n){return function(r){return y.stateR(E(e)(y.applicativeStateR)((function(e){return function(n){return function(r){return t(e)(r)(n)}}}))(r))(n)}}}},L=function(e){return function(t){return function(n){return function(r){return y.stateL(E(e)(y.applicativeStateL)((function(e){return function(n){return function(r){return t(e)(r)(n)}}}))(r))(n)}}}};e.exports={TraversableWithIndex:b,traverseWithIndex:E,traverseWithIndexDefault:w,forWithIndex:function(e){return function(t){return u.flip(E(t)(e))}},scanlWithIndex:function(e){return function(t){return function(n){return function(r){return L(e)((function(e){return function(n){return function(r){var i=t(e)(n)(r);return{accum:i,value:i}}}}))(n)(r).value}}}},mapAccumLWithIndex:L,scanrWithIndex:function(e){return function(t){return function(n){return function(r){return D(e)((function(e){return function(n){return function(r){var i=t(e)(r)(n);return{accum:i,value:i}}}}))(n)(r).value}}}},mapAccumRWithIndex:D,traverseDefault:function(e){return function(t){return function(n){return E(e)(t)(u.const(n))}}},traversableWithIndexArray:M,traversableWithIndexMaybe:T,traversableWithIndexFirst:k,traversableWithIndexLast:A,traversableWithIndexAdditive:N,traversableWithIndexDual:C,traversableWithIndexConj:O,traversableWithIndexDisj:R,traversableWithIndexMultiplicative:S,traversableWithIndexEither:x,traversableWithIndexTuple:_,traversableWithIndexIdentity:P,traversableWithIndexConst:I,traversableWithIndexProduct:function(e){return function(t){return new b((function(){return a.foldableWithIndexProduct(e.FoldableWithIndex1())(t.FoldableWithIndex1())}),(function(){return h.functorWithIndexProduct(e.FunctorWithIndex0())(t.FunctorWithIndex0())}),(function(){return m.traversableProduct(e.Traversable2())(t.Traversable2())}),(function(n){return function(r){return function(a){return i.lift2(n.Apply0())(d.product)(E(e)(n)((function(e){return r(o.Left.create(e))}))(a.value0))(E(t)(n)((function(e){return r(o.Right.create(e))}))(a.value1))}}}))}},traversableWithIndexCoproduct:function(e){return function(t){return new b((function(){return a.foldableWithIndexCoproduct(e.FoldableWithIndex1())(t.FoldableWithIndex1())}),(function(){return h.functorWithIndexCoproduct(e.FunctorWithIndex0())(t.FunctorWithIndex0())}),(function(){return m.traversableCoproduct(e.Traversable2())(t.Traversable2())}),(function(n){return function(r){return l.coproduct((u=s.map(n.Apply0().Functor0())((function(e){return l.Coproduct(o.Left.create(e))})),c=E(e)(n)((function(e){return r(o.Left.create(e))})),function(e){return u(c(e))}))((i=s.map(n.Apply0().Functor0())((function(e){return l.Coproduct(o.Right.create(e))})),a=E(t)(n)((function(e){return r(o.Right.create(e))})),function(e){return i(a(e))}));var i,a,u,c}}))}},traversableWithIndexCompose:function(e){return function(t){return new b((function(){return a.foldableWithIndexCompose(e.FoldableWithIndex1())(t.FoldableWithIndex1())}),(function(){return h.functorWithIndexCompose(e.FunctorWithIndex0())(t.FunctorWithIndex0())}),(function(){return m.traversableCompose(e.Traversable2())(t.Traversable2())}),(function(n){return function(r){return function(i){return s.map(n.Apply0().Functor0())(f.Compose)(E(e)(n)((o=E(t)(n),a=v.curry(r),function(e){return o(a(e))}))(i));var o,a}}}))}},traversableWithIndexApp:function(e){return new b((function(){return a.foldableWithIndexApp(e.FoldableWithIndex1())}),(function(){return h.functorWithIndexApp(e.FunctorWithIndex0())}),(function(){return m.traversableApp(e.Traversable2())}),(function(t){return function(n){return function(r){return s.map(t.Apply0().Functor0())(c.App)(E(e)(t)(n)(r))}}}))}}},function(e,t,n){"use strict";var r=n(25),i=n(26),o=function(e){this.dimap=e},a=new o((function(e){return function(t){return function(n){return function(r){return t(n(e(r)))}}}})),u=function(e){return e.dimap},s=function(e){return function(t){return u(e)(r.identity(r.categoryFn))(t)}};e.exports={dimap:u,Profunctor:o,lcmap:function(e){return function(t){return u(e)(t)(r.identity(r.categoryFn))}},rmap:s,arr:function(e){return function(t){return function(n){return s(t)(n)(r.identity(e))}}},unwrapIso:function(e){return function(t){return u(e)(i.wrap())(i.unwrap())}},wrapIso:function(e){return function(t){return function(t){return u(e)(i.unwrap())(i.wrap())}}},profunctorFn:a}},function(e,t,n){"use strict";var r,i,o=n(11),a=n(5),u=n(95),s=n(270),c=(r=o.pure(a.applicativeMaybe),function(e){return u.keyed(r(e))}),f=u.keyed(a.Nothing.value),l=(i=o.pure(a.applicativeMaybe),function(e){return u.element(i(e))}),d=u.element(a.Nothing.value),h=d("em"),p=h([]),m=d("embed"),y=m([]),v=d("fieldset"),g=v([]),b=d("figcaption"),w=b([]),E=d("figure"),_=E([]),S=d("footer"),T=S([]),A=d("form"),P=A([]),k=d("h1"),x=k([]),C=d("h2"),R=C([]),I=d("h3"),O=I([]),M=d("h4"),N=M([]),D=d("h5"),L=D([]),j=d("h6"),B=j([]),F=d("head"),U=F([]),q=d("header"),H=q([]),K=function(e){return d("hr")(e)([])},V=K([]),z=d("html"),W=z([]),G=d("i"),$=G([]),J=d("ins"),Q=J([]),Y=d("kbd"),X=Y([]),Z=d("label"),ee=Z([]),te=d("legend"),ne=te([]),re=d("li"),ie=re([]),oe=d("main"),ae=oe([]),ue=d("map"),se=ue([]),ce=d("mark"),fe=ce([]),le=d("menu"),de=le([]),he=d("menuitem"),pe=he([]),me=d("meter"),ye=me([]),ve=d("nav"),ge=ve([]),be=d("noscript"),we=be([]),Ee=d("object"),_e=Ee([]),Se=d("ol"),Te=Se([]),Ae=d("optgroup"),Pe=Ae([]),ke=d("option"),xe=ke([]),Ce=d("output"),Re=Ce([]),Ie=d("p"),Oe=Ie([]),Me=d("pre"),Ne=Me([]),De=d("progress"),Le=De([]),je=d("q"),Be=je([]),Fe=d("rp"),Ue=Fe([]),qe=d("rt"),He=qe([]),Ke=d("ruby"),Ve=Ke([]),ze=d("samp"),We=ze([]),Ge=d("script"),$e=Ge([]),Je=d("section"),Qe=Je([]),Ye=d("select"),Xe=Ye([]),Ze=d("small"),et=Ze([]),tt=d("span"),nt=tt([]),rt=d("strong"),it=rt([]),ot=d("style"),at=ot([]),ut=d("sub"),st=ut([]),ct=d("summary"),ft=ct([]),lt=d("sup"),dt=lt([]),ht=d("table"),pt=ht([]),mt=d("tbody"),yt=mt([]),vt=d("td"),gt=vt([]),bt=d("tfoot"),wt=bt([]),Et=d("th"),_t=Et([]),St=d("thead"),Tt=St([]),At=d("time"),Pt=At([]),kt=d("title"),xt=kt([]),Ct=d("tr"),Rt=Ct([]),It=d("u"),Ot=It([]),Mt=d("ul"),Nt=Mt([]),Dt=d("var"),Lt=Dt([]),jt=d("video"),Bt=jt([]),Ft=d("dt"),Ut=Ft([]),qt=d("dl"),Ht=qt([]),Kt=d("div"),Vt=Kt([]),zt=d("dialog"),Wt=zt([]),Gt=d("dfn"),$t=Gt([]),Jt=d("details"),Qt=Jt([]),Yt=d("del"),Xt=Yt([]),Zt=d("dd"),en=Zt([]),tn=d("datalist"),nn=tn([]),rn=d("colgroup"),on=rn([]),an=d("code"),un=an([]),sn=d("cite"),cn=sn([]),fn=d("caption"),ln=fn([]),dn=d("button"),hn=dn([]),pn=function(e){return d("br")(e)([])},mn=pn([]),yn=d("body"),vn=yn([]),gn=d("blockquote"),bn=gn([]),wn=d("bdo"),En=wn([]),_n=d("bdi"),Sn=_n([]),Tn=d("b"),An=Tn([]),Pn=d("audio"),kn=Pn([]),xn=d("aside"),Cn=xn([]),Rn=d("article"),In=Rn([]),On=d("address"),Mn=On([]),Nn=d("abbr"),Dn=Nn([]),Ln=d("a"),jn=Ln([]);e.exports={element:d,elementNS:l,keyed:f,keyedNS:c,withKeys:function(e){return function(t){return function(n){var r=e(t)([]);return r instanceof s.Elem?new s.Keyed(r.value0,r.value1,r.value2,n):r}}},withKeys_:function(e){return function(t){var n=e([]);return n instanceof s.Elem?new s.Keyed(n.value0,n.value1,n.value2,t):n}},a:Ln,a_:jn,abbr:Nn,abbr_:Dn,address:On,address_:Mn,area:function(e){return d("area")(e)([])},article:Rn,article_:In,aside:xn,aside_:Cn,audio:Pn,audio_:kn,b:Tn,b_:An,base:function(e){return d("base")(e)([])},bdi:_n,bdi_:Sn,bdo:wn,bdo_:En,blockquote:gn,blockquote_:bn,body:yn,body_:vn,br:pn,br_:mn,button:dn,button_:hn,canvas:function(e){return d("canvas")(e)([])},caption:fn,caption_:ln,cite:sn,cite_:cn,code:an,code_:un,col:function(e){return d("col")(e)([])},colgroup:rn,colgroup_:on,command:function(e){return d("command")(e)([])},datalist:tn,datalist_:nn,dd:Zt,dd_:en,del:Yt,del_:Xt,details:Jt,details_:Qt,dfn:Gt,dfn_:$t,dialog:zt,dialog_:Wt,div:Kt,div_:Vt,dl:qt,dl_:Ht,dt:Ft,dt_:Ut,em:h,em_:p,embed:m,embed_:y,fieldset:v,fieldset_:g,figcaption:b,figcaption_:w,figure:E,figure_:_,footer:S,footer_:T,form:A,form_:P,h1:k,h1_:x,h2:C,h2_:R,h3:I,h3_:O,h4:M,h4_:N,h5:D,h5_:L,h6:j,h6_:B,head:F,head_:U,header:q,header_:H,hr:K,hr_:V,html:z,html_:W,i:G,i_:$,iframe:function(e){return d("iframe")(e)([])},img:function(e){return d("img")(e)([])},input:function(e){return d("input")(e)([])},ins:J,ins_:Q,kbd:Y,kbd_:X,label:Z,label_:ee,legend:te,legend_:ne,li:re,li_:ie,link:function(e){return d("link")(e)([])},main:oe,main_:ae,map:ue,map_:se,mark:ce,mark_:fe,menu:le,menu_:de,menuitem:he,menuitem_:pe,meta:function(e){return d("meta")(e)([])},meter:me,meter_:ye,nav:ve,nav_:ge,noscript:be,noscript_:we,object:Ee,object_:_e,ol:Se,ol_:Te,optgroup:Ae,optgroup_:Pe,option:ke,option_:xe,output:Ce,output_:Re,p:Ie,p_:Oe,param:function(e){return d("param")(e)([])},pre:Me,pre_:Ne,progress:De,progress_:Le,q:je,q_:Be,rp:Fe,rp_:Ue,rt:qe,rt_:He,ruby:Ke,ruby_:Ve,samp:ze,samp_:We,script:Ge,script_:$e,section:Je,section_:Qe,select:Ye,select_:Xe,small:Ze,small_:et,source:function(e){return d("source")(e)([])},span:tt,span_:nt,strong:rt,strong_:it,style:ot,style_:at,sub:ut,sub_:st,summary:ct,summary_:ft,sup:lt,sup_:dt,table:ht,table_:pt,tbody:mt,tbody_:yt,td:vt,td_:gt,textarea:function(e){return d("textarea")(e)([])},tfoot:bt,tfoot_:wt,th:Et,th_:_t,thead:St,thead_:Tt,time:At,time_:Pt,title:kt,title_:xt,tr:Ct,tr_:Rt,track:function(e){return d("track")(e)([])},u:It,u_:Ot,ul:Mt,ul_:Nt,var:Dt,var_:Lt,video:jt,video_:Bt,wbr:function(e){return d("wbr")(e)([])}}},function(e,t,n){"use strict";var r,i,o,a,u=n(11),s=n(19),c=n(25),f=n(36),l=n(23),d=n(2),h=n(28),p=n(164),m=n(20),y=n(18),v=n(129),g=n(59),b=n(24),w=n(355),E=n(551),_=n(555),S=n(60),T=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),A=function(e){this.params=e},P=function(e){this.buildParams=e},k=c.identity(c.categoryFn),x=new T(_.put,E.take),C=new T(f.foldMap(f.foldableArray)(_.monoidRoutePRinter)(_.put),E.rest),R=new T(h.mempty(h.monoidFn(_.monoidRoutePRinter)),u.pure(E.applicativeRouteParser)({})),I=function(e){return function(t){return function(t){return function(t){return function(t){return function(n){return function(r){return new T((function(i){return m.append(_.semigroupRoutePrinter)(r.value0(i))(n.value0(w.get(e)()(t)(i)))}),s.apply(E.applyRouteParser)(d.map(E.functorRouteParser)(l.flip(w.insert(e)()()(t)))(r.value1))(n.value1))}}}}}}},O=new p.Profunctor((function(e){return function(t){return function(n){return new T((function(t){return n.value0(e(t))}),d.map(E.functorRouteParser)(t)(n.value1))}}})),M=function(e){return function(t){return new T((function(n){return m.append(_.semigroupRoutePrinter)(_.put(e))(t.value0(n))}),E.prefix(e)(t.value1))}},N=(r=l.flip(f.foldr(f.foldableArray)(M)),i=v.split("/"),function(e){return r(i(e))}),D=N(""),L=function(e){return new T(_.param(e),E.param(e))},j=new d.Functor((function(e){return function(t){return new T(t.value0,d.map(E.functorRouteParser)(e)(t.value1))}})),B=new P((function(e){return function(e){return c.identity(c.categoryFn)}})),F=function(e){return e.buildParams},U=function(e){return function(t){return function(n){return new T((function(t){return n.value0(e(t))}),E.as(c.identity(c.categoryFn))(t)(n.value1))}}},q=U(y.show(y.showBoolean))(E.boolean),H=U(y.show(y.showInt))(E.int),K=new s.Apply((function(){return j}),(function(e){return function(t){return new T(s.apply(s.applyFn)(d.map(d.functorFn)(m.append(_.semigroupRoutePrinter))(e.value0))(t.value0),s.apply(E.applyRouteParser)(e.value1)(t.value1))}})),V=new u.Applicative((function(){return K}),(o=T.create(l.const(h.mempty(_.monoidRoutePRinter))),a=u.pure(E.applicativeRouteParser),function(e){return o(a(e))}));e.exports={RouteDuplex:T,parse:function(e){return E.run(e.value1)},print:function(e){return function(t){return _.run(e.value0(t))}},prefix:M,suffix:function(e){return function(t){return new T((function(n){return m.append(_.semigroupRoutePrinter)(e.value0(n))(_.put(t))}),s.applyFirst(E.applyRouteParser)(e.value1)(E.prefix(t)(u.pure(E.applicativeRouteParser)(b.unit))))}},path:N,root:D,end:function(e){return new T(e.value0,s.applyFirst(E.applyRouteParser)(e.value1)(E.end))},segment:x,param:L,flag:function(e){var t=E.default(!1)(d.voidLeft(E.functorRouteParser)(e.value1)(!0));return new T((function(t){return t?e.value0(""):h.mempty(_.monoidRoutePRinter)}),t)},many1:function(e){return function(t){return function(n){return function(r){return new T(f.foldMap(e)(_.monoidRoutePRinter)(r.value0),E.many1(t)(n)(r.value1))}}}},many:function(e){return function(t){return function(n){return new T(f.foldMap(e)(_.monoidRoutePRinter)(n.value0),E.many(t)(n.value1))}}},rest:C,default:function(e){return function(t){return new T(t.value0,E.default(e)(t.value1))}},optional:function(e){return new T(f.foldMap(f.foldableMaybe)(_.monoidRoutePRinter)(e.value0),E.optional(e.value1))},as:U,int:H,boolean:q,string:k,record:R,prop:I,params:function(e){return e.params},buildParams:F,RouteDuplexParams:A,RouteDuplexBuildParams:P,functorRouteDuplex:j,applyRouteDuplex:K,applicativeRouteDuplex:V,profunctorRouteDuplex:O,routeDuplexParams:function(e){return function(e){return new A((function(t){return F(e)(S.Proxy.value)(t)(R)}))}},buildParamsCons:function(e){return function(t){return function(t){return function(t){return function(t){return function(t){return new P((function(n){return function(n){return function(r){return F(t)(S.Proxy.value)(n)(I(e)()()()(S.Proxy.value)(w.get(e)()(S.Proxy.value)(n)(L(g.reflectSymbol(e)(S.Proxy.value))))(r))}}}))}}}}}},buildParamsNil:B}},function(e,t,n){"use strict";(function(e){var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function o(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(1104),r.base64=n(1105),r.EventEmitter=n(1106),r.float=n(1107),r.inquire=n(1108),r.utf8=n(1109),r.pool=n(1110),r.LongBits=n(1111),r.isNode=Boolean(void 0!==e&&e&&e.process&&e.process.versions&&e.process.versions.node),r.global=r.isNode&&e||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,n(48))},function(e,t,n){var r=n(39);e.exports=r.md=r.md||{},r.md.algorithms=r.md.algorithms||{}},function(e,t,n){var r=n(39);n(226),n(1119),n(1120),n(51),r.random&&r.random.getBytes?e.exports=r.random:function(t){var n={},i=new Array(4),o=r.util.createBuffer();function a(){var e=r.prng.create(n);return e.getBytes=function(t,n){return e.generate(t,n)},e.getBytesSync=function(t){return e.generate(t)},e}n.formatKey=function(e){var t=r.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),r.aes._expandKey(e,!1)},n.formatSeed=function(e){var t=r.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},n.cipher=function(e,t){return r.aes._updateBlock(e,t,i,!1),o.putInt32(i[0]),o.putInt32(i[1]),o.putInt32(i[2]),o.putInt32(i[3]),o.getBytes()},n.increment=function(e){return++e[3],e},n.md=r.md.sha256;var u=a(),s=null,c=r.util.globalScope,f=c.crypto||c.msCrypto;if(f&&f.getRandomValues&&(s=function(e){return f.getRandomValues(e)}),r.options.usePureJavaScript||!r.util.isNodejs&&!s){if("undefined"==typeof window||window.document,u.collectInt(+new Date,32),"undefined"!=typeof navigator){var l="";for(var d in navigator)try{"string"==typeof navigator[d]&&(l+=navigator[d])}catch(e){}u.collect(l),l=null}t&&(t().mousemove((function(e){u.collectInt(e.clientX,16),u.collectInt(e.clientY,16)})),t().keypress((function(e){u.collectInt(e.charCode,8)})))}if(r.random)for(var d in u)r.random[d]=u[d];else r.random=u;r.random.createInstance=a,e.exports=r.random}("undefined"!=typeof jQuery?jQuery:null)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(276),o=n(130),a=n(281),u=n(84);t.CID=r.CID,t.varint=i,t.bytes=o,t.hasher=a,t.digest=u},function(e,t,n){"use strict";class r extends Error{constructor(e="not initialized"){super(e),this.name="NotInitializedError",this.code=r.code}}r.code="ERR_NOT_INITIALIZED",t.NotInitializedError=r;class i extends Error{constructor(e="cannot initialize an initializing node"){super(e),this.name="AlreadyInitializingError",this.code=o.code}}i.code="ERR_ALREADY_INITIALIZING",t.AlreadyInitializingError=i;class o extends Error{constructor(e="cannot re-initialize an initialized node"){super(e),this.name="AlreadyInitializedError",this.code=o.code}}o.code="ERR_ALREADY_INITIALIZED",t.AlreadyInitializedError=o;class a extends Error{constructor(e="not started"){super(e),this.name="NotStartedError",this.code=a.code}}a.code="ERR_NOT_STARTED",t.NotStartedError=a;class u extends Error{constructor(e="cannot start, already startin"){super(e),this.name="AlreadyStartingError",this.code=u.code}}u.code="ERR_ALREADY_STARTING",t.AlreadyStartingError=u;class s extends Error{constructor(e="cannot start, already started"){super(e),this.name="AlreadyStartedError",this.code=s.code}}s.code="ERR_ALREADY_STARTED",t.AlreadyStartedError=s;class c extends Error{constructor(e="not enabled"){super(e),this.name="NotEnabledError",this.code=c.code}}c.code="ERR_NOT_ENABLED",t.NotEnabledError=c},function(e,t,n){"use strict";e.exports=function(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}},function(e,t,n){"use strict";const r=n(42),i=n(17);e.exports=({repo:e,preload:t})=>i((async function(n,i={}){!1!==i.preload&&t(n);const o=await e.blocks.get(n,i);return r.decode(o)}))},function(e,t,n){"use strict";t.AbstractLevelDOWN=n(1375),t.AbstractIterator=n(620),t.AbstractChainedBatch=n(621)},function(e,t,n){"use strict";e.exports=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isValidPublicKey=t.getHkdf=t.verifySignedPayload=t.getHandshakePayload=t.decodePayload=t.getPeerIdFromPayload=t.signPayload=t.createHandshakePayload=t.getPayload=t.generateKeypair=void 0;const u=n(1701),s=n(694),c=o(n(413)),f=n(27),l=a(n(31)),d=n(133),h=n(1704),p=a(n(96)),m=h.pb.NoiseHandshakePayload;function y(e,t,n){const r=m.create({identityKey:f.Buffer.from(e),identitySig:t,data:null!=n?n:null});return f.Buffer.from(m.encode(r).finish())}async function v(e,t){return f.Buffer.from(await e.privKey.sign(t))}function g(e){return f.Buffer.concat([f.Buffer.from("noise-libp2p-static-key:"),e])}t.generateKeypair=function(){const e=c.generateKeyPair();return{publicKey:f.Buffer.from(e.publicKey.buffer,e.publicKey.byteOffset,e.publicKey.length),privateKey:f.Buffer.from(e.secretKey.buffer,e.secretKey.byteOffset,e.secretKey.length)}},t.getPayload=async function(e,t,n){const r=await v(e,g(t)),i=null!=n?n:f.Buffer.alloc(0);return y(e.marshalPubKey(),r,i)},t.createHandshakePayload=y,t.signPayload=v,t.getPeerIdFromPayload=async function(e){return await l.default.createFromPubKey(f.Buffer.from(e.identityKey))},t.decodePayload=function(e){return m.toObject(m.decode(f.Buffer.from(e)))},t.getHandshakePayload=g,t.verifySignedPayload=async function(e,t,n){const r=f.Buffer.from(t.identityKey);if(!await async function(e,t){const n=await l.default.createFromPubKey(t);return p.default(n.id,e)}(n.id,r))throw new Error("Peer ID doesn't match libp2p public key.");const i=g(e),o=d.keys.unmarshalPublicKey(r);if(!t.identitySig||!o.verify(i,f.Buffer.from(t.identitySig)))throw new Error("Static key doesn't match to peer that signed payload!");return await l.default.createFromPubKey(r)},t.getHkdf=function(e,t){const n=new u.HKDF(s.SHA256,t,e).expand(96),r=f.Buffer.from(n.buffer,n.byteOffset,n.length);return[r.slice(0,32),r.slice(32,64),r.slice(64,96)]},t.isValidPublicKey=function(e){return!!f.Buffer.isBuffer(e)&&32===e.length}},function(e,t,n){"use strict";const r=t.second=1e3,i=t.minute=60*r,o=t.hour=60*i;t.MAX_RECORD_AGE=36*o,t.PROTOCOL_DHT="/kad/1.0.0",t.PROVIDERS_KEY_PREFIX="/providers/",t.PROVIDERS_LRU_CACHE_SIZE=256,t.PROVIDERS_VALIDITY=24*o,t.PROVIDERS_CLEANUP_INTERVAL=o,t.READ_MESSAGE_TIMEOUT=10*r,t.GET_MANY_RECORD_COUNT=16,t.K=20,t.ALPHA=3,t.defaultRandomWalk={enabled:!0,queriesPerPeriod:1,interval:5*i,timeout:10*r,delay:10*r}},function(e,t,n){"use strict";const r=n(6),i=n(96),o=n(696),a=(e,t,n)=>{let r=0;const i=n.length;for(;r<i;){if(e(t,n[r]))return!0;r+=1}return!1};e.exports={logger:(e,t)=>{const n=["bitswap"];return t&&n.push(t),e&&n.push(""+e.toB58String().slice(0,8)),Object.assign(r(n.join(":")),{error:r(n.concat(["error"]).join(":"))})},includesWith:a,uniqWith:(e,t)=>{let n=0;const r=t.length,i=[];let o;for(;n<r;)o=t[n],a(e,o,i)||(i[i.length]=o),n+=1;return i},groupBy:(e,t)=>t.reduce((t,n)=>{const r=e(n);return t[r]?t[r].push(n):t[r]=[n],t},{}),pullAllWith:(e,t,n)=>t.filter(t=>!a(e,t,n)),sortBy:(e,t)=>Array.prototype.slice.call(t,0).sort((t,n)=>{const r=e(t),i=e(n);return r<i?-1:r>i?1:0}),isMapEqual:(e,t)=>{if(e.size!==t.size)return!1;for(const[n,r]of e){const e=t.get(n);if(void 0===e)return!1;if(r instanceof Uint8Array&&e instanceof Uint8Array&&!i(r,e))return!1;if(r instanceof o&&e instanceof o&&!r.equals(e))return!1}return!0}}},function(e,t,n){var r=n(312);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=SyntaxError,i=Function,o=TypeError,a=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(e){u=null}var s=function(){throw new o},c=u?function(){try{return s}catch(e){try{return u(arguments,"callee").get}catch(e){return s}}}():s,f=n(209)(),l=Object.getPrototypeOf||function(e){return e.__proto__},d={},h="undefined"==typeof Uint8Array?void 0:l(Uint8Array),p={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":f?l([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?l(l([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?l((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?l((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?l(""[Symbol.iterator]()):void 0,"%Symbol%":f?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":c,"%TypedArray%":h,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(311),v=n(719),g=y.call(Function.call,Array.prototype.concat),b=y.call(Function.apply,Array.prototype.splice),w=y.call(Function.call,String.prototype.replace),E=y.call(Function.call,String.prototype.slice),_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,T=function(e){var t=E(e,0,1),n=E(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return w(e,_,(function(e,t,n,r){i[i.length]=n?w(r,S,"$1"):t||e})),i},A=function(e,t){var n,i=e;if(v(m,i)&&(i="%"+(n=m[i])[0]+"%"),v(p,i)){var u=p[i];if(u===d&&(u=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=l(i.prototype))}return p[t]=n,n}(i)),void 0===u&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:u}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');var n=T(e),i=n.length>0?n[0]:"",a=A("%"+i+"%",t),s=a.name,c=a.value,f=!1,l=a.alias;l&&(i=l[0],b(n,g([0,1],l)));for(var d=1,h=!0;d<n.length;d+=1){var m=n[d],y=E(m,0,1),w=E(m,-1);if(('"'===y||"'"===y||"`"===y||'"'===w||"'"===w||"`"===w)&&y!==w)throw new r("property names with quotes must have matching quotes");if("constructor"!==m&&h||(f=!0),v(p,s="%"+(i+="."+m)+"%"))c=p[s];else if(null!=c){if(!(m in c)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(u&&d+1>=n.length){var _=u(c,m);c=(h=!!_)&&"get"in _&&!("originalValue"in _.get)?_.get:c[m]}else h=v(c,m),c=c[m];h&&!f&&(p[s]=c)}}return c}},function(e,t,n){"use strict";var r={};function i(e,t,n){n||(n=Error);var i=function(e){var n,r;function i(n,r,i){return e.call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,r,i))||this}return r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r,i}(n);i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function o(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){var r,i,a,u;if("string"==typeof t&&(i="not ",t.substr(!a||a<0?0:+a,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))u="The ".concat(e," ").concat(r," ").concat(o(t,"type"));else{var s=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";u='The "'.concat(e,'" ').concat(s," ").concat(r," ").concat(o(t,"type"))}return u+=". Received type ".concat(typeof n)}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},function(e,t,n){"use strict";(function(t){var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=c;var i=n(452),o=n(456);n(22)(c,i);for(var a=r(o.prototype),u=0;u<a.length;u++){var s=a[u];c.prototype[s]||(c.prototype[s]=o.prototype[s])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||t.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,n(49))},function(e,t,n){var r=n(38).Buffer;function i(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,o=e.length,a=this._len,u=0;u<o;){for(var s=a%i,c=Math.min(o-u,i-s),f=0;f<c;f++)n[s+f]=e[u+f];u+=c,(a+=c)%i==0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(776),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(48))},function(e,t,n){"use strict";var r=n(864),i=n(32),o=n(15),a=n(25),u=n(333),s=n(106),c=n(41),f=n(2),l=n(91),d=n(70),h=n(28),p=n(35),m=n(108),y=n(58),v=n(160),g=n(147),b=function(e){return function(t){return m.makeAff((function(n){return f.voidRight(p.functorEffect)(h.mempty(m.monoidCanceler))(r.thenImpl(t)((function(t){return n(c.Left.create(e(t)))()}))((function(e){return n(c.Right.create(e))()})))}))}},w=b((function(e){return c.either((function(e){return v.error("Promise failed, couldn't extract JS Error or String")}))(a.identity(a.categoryFn))(u.runExcept(i.alt(s.altExceptT(d.semigroupNonEmptyList)(l.monadIdentity))(g.unsafeReadTagged(l.monadIdentity)("Error")(e))(f.map(s.functorExceptT(l.functorIdentity))(v.error)(g.readString(l.monadIdentity)(e)))))}));e.exports={fromAff:function(e){return r.promise((function(t){return function(n){return m.runAff_(c.either(n)(t))(e)}}))},toAff:w,"toAff'":b,toAffE:function(e){return o.bind(m.bindAff)(y.liftEffect(m.monadEffectAff)(e))(w)}}},function(e,t,n){"use strict";e.exports={MonadCont:function(e,t){this.Monad0=e,this.callCC=t},callCC:function(e){return e.callCC}}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(15),a=n(40),u=n(13),s=n(2),c=n(28),f=n(16),l=n(20),d=n(18),h=function(e){return e},p=function(e){return new l.Semigroup((function(t){return function(n){return l.append(e)(n)(t)}}))},m=function(e){return e},y=new s.Functor((function(e){return function(t){return e(t)}})),v=function(e){return e},g=new u.Eq1((function(e){return u.eq(e)})),b=new f.Ord1((function(){return g}),(function(e){return f.compare(e)})),w=new i.Apply((function(){return y}),(function(e){return function(t){return e(t)}})),E=new o.Bind((function(){return w}),(function(e){return function(t){return t(e)}})),_=new r.Applicative((function(){return w}),h),S=new a.Monad((function(){return _}),(function(){return E}));e.exports={Dual:h,eqDual:v,eq1Dual:g,ordDual:m,ord1Dual:b,boundedDual:function(e){return e},showDual:function(e){return new d.Show((function(t){return"(Dual "+d.show(e)(t)+")"}))},functorDual:y,applyDual:w,applicativeDual:_,bindDual:E,monadDual:S,semigroupDual:p,monoidDual:function(e){return new c.Monoid((function(){return p(e.Semigroup0())}),c.mempty(e))}}},function(e,t,n){"use strict";var r=n(25),i=n(2),o=n(91),a=n(187),u=n(338),s=n(162),c=n(56),f=n(29),l=function(e,t,n,r){this.Foldable10=e,this.Traversable1=t,this.sequence1=n,this.traverse1=r},d=function(e){return e.traverse1},h=new l((function(){return s.foldableTuple}),(function(){return c.traversableTuple}),(function(e){return function(t){return i.map(e.Functor0())(f.Tuple.create(t.value0))(t.value1)}}),(function(e){return function(t){return function(n){return i.map(e.Functor0())(f.Tuple.create(n.value0))(t(n.value1))}}})),p=new l((function(){return s.foldableIdentity}),(function(){return c.traversableIdentity}),(function(e){return function(t){return i.map(e.Functor0())(o.Identity)(t)}}),(function(e){return function(t){return function(n){return i.map(e.Functor0())(o.Identity)(t(n))}}})),m=function(e){return function(t){return d(e)(t)(r.identity(r.categoryFn))}},y=new l((function(){return s.foldableDual}),(function(){return c.traversableDual}),(function(e){return m(y)(e)}),(function(e){return function(t){return function(n){return i.map(e.Functor0())(a.Dual)(t(n))}}})),v=new l((function(){return s.foldableMultiplicative}),(function(){return c.traversableMultiplicative}),(function(e){return m(v)(e)}),(function(e){return function(t){return function(n){return i.map(e.Functor0())(u.Multiplicative)(t(n))}}})),g=function(e){return e.sequence1};e.exports={sequence1:g,traverse1:d,Traversable1:l,traverse1Default:function(e){return function(t){return function(n){return function(r){return g(e)(t)(i.map(e.Traversable1().Functor0())(n)(r))}}}},sequence1Default:m,traversableDual:y,traversableMultiplicative:v,traversableTuple:h,traversableIdentity:p}},function(e,t,n){"use strict";var r=n(885),i=n(25),o=n(54),a=n(63),u=n(256),s=n(886),c=n(13),f=n(216),l=n(5),d=n(510),h=n(16),p=n(34),m=n(143),y=n(69),v=n(18),g=n(511),b=function(){function e(){}return e.value=new e,e}(),w=function(){function e(){}return e.value=new e,e}(),E=new v.Show((function(e){if(e instanceof b)return"Even";if(e instanceof w)return"Odd";throw new Error("Failed pattern match at Data.Int (line 111, column 1 - line 113, column 19): "+[e.constructor.name])})),_=r.fromStringAsImpl(l.Just.create)(l.Nothing.value),S=_(10),T=r.fromNumberImpl(l.Just.create)(l.Nothing.value),A=function(e){if(!d.isFinite(e))return 0;if(e>=r.toNumber(a.top(a.boundedInt)))return a.top(a.boundedInt);if(e<=r.toNumber(a.bottom(a.boundedInt)))return a.bottom(a.boundedInt);if(o.otherwise)return l.fromMaybe(0)(T(e));throw new Error("Failed pattern match at Data.Int (line 66, column 1 - line 66, column 29): "+[e.constructor.name])},P=function(e){return 0==(1&e)},k=new c.Eq((function(e){return function(t){return e instanceof b&&t instanceof b||e instanceof w&&t instanceof w}})),x=new h.Ord((function(){return k}),(function(e){return function(t){if(e instanceof b&&t instanceof b)return p.EQ.value;if(e instanceof b)return p.LT.value;if(t instanceof b)return p.GT.value;if(e instanceof w&&t instanceof w)return p.EQ.value;throw new Error("Failed pattern match at Data.Int (line 109, column 1 - line 109, column 40): "+[e.constructor.name,t.constructor.name])}})),C=new y.Semiring((function(e){return function(t){return c.eq(k)(e)(t)?b.value:w.value}}),(function(e){return function(t){return e instanceof w&&t instanceof w?w.value:b.value}}),w.value,b.value),R=new m.Ring((function(){return C}),y.add(C)),I=new s.DivisionRing((function(){return R}),i.identity(i.categoryFn)),O=new u.CommutativeRing((function(){return R})),M=new f.EuclideanRing((function(){return O}),(function(e){if(e instanceof b)return 0;if(e instanceof w)return 1;throw new Error("Failed pattern match at Data.Int (line 131, column 1 - line 135, column 17): "+[e.constructor.name])}),(function(e){return function(t){return e}}),(function(e){return function(e){return b.value}})),N=new a.Bounded((function(){return x}),b.value,w.value);e.exports={fromNumber:T,ceil:function(e){return A(g.ceil(e))},floor:function(e){return A(g.floor(e))},round:function(e){return A(g.round(e))},fromString:S,radix:function(e){if(e>=2&&e<=36)return new l.Just(e);if(o.otherwise)return l.Nothing.value;throw new Error("Failed pattern match at Data.Int (line 192, column 1 - line 192, column 28): "+[e.constructor.name])},binary:2,octal:8,decimal:10,hexadecimal:16,base36:36,fromStringAs:_,Even:b,Odd:w,parity:function(e){return P(e)?b.value:w.value},even:P,odd:function(e){return 0!=(1&e)},eqParity:k,ordParity:x,showParity:E,boundedParity:N,semiringParity:C,ringParity:R,commutativeRingParity:O,euclideanRingParity:M,divisionRingParity:I,toNumber:r.toNumber,toStringAs:r.toStringAs,quot:r.quot,rem:r.rem,pow:r.pow}},function(e,t,n){"use strict";var r=n(25),i=n(504),o=n(106),a=n(1022),u=n(505),s=n(1024),c=n(262),f=n(1025),l=n(75),d=n(506),h=n(108),p=function(e,t){this.MonadEffect0=e,this.liftAff=t},m=new p((function(){return h.monadEffectAff}),r.identity(r.categoryFn)),y=function(e){return e.liftAff};e.exports={liftAff:y,MonadAff:p,monadAffAff:m,monadAffContT:function(e){return new p((function(){return i.monadEffectContT(e.MonadEffect0())}),(t=l.lift(i.monadTransContT)(e.MonadEffect0().Monad0()),n=y(e),function(e){return t(n(e))}));var t,n},monadAffExceptT:function(e){return new p((function(){return o.monadEffectExceptT(e.MonadEffect0())}),(t=l.lift(o.monadTransExceptT)(e.MonadEffect0().Monad0()),n=y(e),function(e){return t(n(e))}));var t,n},monadAffListT:function(e){return new p((function(){return a.monadEffectListT(e.MonadEffect0())}),(t=l.lift(a.monadTransListT)(e.MonadEffect0().Monad0()),n=y(e),function(e){return t(n(e))}));var t,n},monadAffMaybe:function(e){return new p((function(){return u.monadEffectMaybe(e.MonadEffect0())}),(t=l.lift(u.monadTransMaybeT)(e.MonadEffect0().Monad0()),n=y(e),function(e){return t(n(e))}));var t,n},monadAffReader:function(e){return new p((function(){return c.monadEffectReader(e.MonadEffect0())}),(t=l.lift(c.monadTransReaderT)(e.MonadEffect0().Monad0()),n=y(e),function(e){return t(n(e))}));var t,n},monadAffRWS:function(e){return function(t){return new p((function(){return s.monadEffectRWS(t)(e.MonadEffect0())}),(n=l.lift(s.monadTransRWST(t))(e.MonadEffect0().Monad0()),r=y(e),function(e){return n(r(e))}));var n,r}},monadAffState:function(e){return new p((function(){return f.monadEffectState(e.MonadEffect0())}),(t=l.lift(f.monadTransStateT)(e.MonadEffect0().Monad0()),n=y(e),function(e){return t(n(e))}));var t,n},monadAffWriter:function(e){return function(t){return new p((function(){return d.monadEffectWriter(t)(e.MonadEffect0())}),(n=l.lift(d.monadTransWriterT(t))(e.MonadEffect0().Monad0()),r=y(e),function(e){return n(r(e))}));var n,r}}}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(46),c=n(94),f=n(36),l=n(2),d=n(507),h=n(5),p=n(28),m=n(20),y=n(24),v=n(35),g=n(112),b=n(264),w=n(334),E=n(221),_=function(e){return function(t){return e((n=l.void(v.functorEffect),function(e){return n(t(e))}));var n}},S=v.semigroupEffect(m.semigroupUnit),T=function(e){return function(t){return e(t)}},A=v.monoidEffect(p.monoidUnit),P=w.coerce(),k=new l.Functor((function(e){return function(t){return function(n){return t((function(t){return n(e(t))}))}}})),x=function(){var e=g.new([])();return{emitter:function(t){return function(){return g.modify_((function(e){return m.append(m.semigroupArray)(e)([t])}))(e)(),g.modify_(c.deleteBy(E.unsafeRefEq)(t))(e)}},listener:function(t){return u.bind(v.bindEffect)(g.read(e))(f.traverse_(v.applicativeEffect)(f.foldableArray)((function(e){return e(t)})))}}},C=new d.Contravariant((function(e){return function(t){return w.coerce()((function(n){return t(e(n))}))}})),R=new a.Apply((function(){return k}),(function(e){return function(t){return function(n){return function(){var r=g.new(h.Nothing.value)(),i=g.new(h.Nothing.value)(),o=e((function(e){return function(){return g.write(new h.Just(e))(r)(),u.bind(v.bindEffect)(g.read(i))(f.traverse_(v.applicativeEffect)(f.foldableMaybe)((function(t){return n(e(t))})))()}}))(),s=t((function(e){return function(){return g.write(new h.Just(e))(i)(),u.bind(v.bindEffect)(g.read(r))(f.traverse_(v.applicativeEffect)(f.foldableMaybe)((function(t){return n(function(t){return t(e)}(t))})))()}}))();return a.applySecond(v.applyEffect)(o)(s)}}}})),I=function(e){return new m.Semigroup(a.lift2(R)(m.append(e)))},O=new o.Applicative((function(){return R}),(function(e){return function(t){return function(){return t(e)(),o.pure(v.applicativeEffect)(y.unit)}}})),M=new r.Alt((function(){return k}),(function(e){return function(t){return function(n){return function(){var r=e(n)(),i=t(n)();return a.applySecond(v.applyEffect)(r)(i)}}}})),N=new s.Plus((function(){return M}),(function(e){return o.pure(v.applicativeEffect)(o.pure(v.applicativeEffect)(y.unit))})),D=new i.Alternative((function(){return O}),(function(){return N}));e.exports={create:x,notify:T,makeEmitter:P,subscribe:_,unsubscribe:function(e){return e},fold:function(e){return function(t){return function(n){return function(r){return function(){var i=g.new(n)();return t((function(t){return u.bind(v.bindEffect)(g.modify(e(t))(i))(r)}))()}}}}},filter:function(e){return function(t){return function(n){return t((function(t){return e(t)?n(t):o.pure(v.applicativeEffect)(y.unit)}))}}},fix:function(e){var t=b.unsafePerformEffect(x),n=e(t.emitter);return function(e){return function(){var r=_(n.input)(T(t.listener))(),i=_(n.output)(e)();return a.applySecond(v.applyEffect)(r)(i)}}},functorEmitter:k,applyEmitter:R,applicativeEmitter:O,altEmitter:M,plusEmitter:N,alternativeEmitter:D,semigroupEmitter:I,monoidEmitter:function(e){return new p.Monoid((function(){return I(e.Semigroup0())}),p.mempty(p.monoidFn(v.monoidEffect(A))))},contravariantListener:C,semigroupSubscription:S,monoidSubscription:A}},function(e,t,n){"use strict";var r=n(13),i=n(2),o=n(26),a=n(16),u=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),s=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),c=a.ordString,f=new o.Newtype((function(){})),l=new i.Functor((function(e){return function(t){if(t instanceof u)return new u(t.value0,t.value1);if(t instanceof s)return new s(e(t.value0));throw new Error("Failed pattern match at Halogen.Query.Input (line 19, column 1 - line 19, column 46): "+[t.constructor.name])}})),d=r.eqString;e.exports={RefLabel:function(e){return e},RefUpdate:u,Action:s,newtypeRefLabel:f,eqRefLabel:d,ordRefLabel:c,functorInput:l}},function(e,t,n){"use strict";const{AbortController:r,AbortSignal:i}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=r,e.exports.AbortSignal=i,e.exports.default=r},function(e,t,n){const{AbortController:r}=n(83);function i(e){const t=new r;function n(){t.abort();for(const t of e)t&&t.removeEventListener&&t.removeEventListener("abort",n)}for(const t of e)if(t&&t.addEventListener){if(t.aborted){n();break}t.addEventListener("abort",n)}return t.signal}e.exports=i,e.exports.anySignal=i},function(e,t,n){"use strict";const{Multiaddr:r}=n(30),i=R("dns4"),o=R("dns6"),a=R("dnsaddr"),u=C(R("dns"),a,i,o),s=C(R("ip4"),R("ip6")),c=C(x(s,R("tcp")),x(u,R("tcp"))),f=x(s,R("udp")),l=x(f,R("utp")),d=x(f,R("quic")),h=C(x(c,R("ws")),x(u,R("ws"))),p=C(x(c,R("wss")),x(u,R("wss"))),m=C(x(c,R("http")),x(s,R("http")),x(u,R("http"))),y=C(x(c,R("https")),x(s,R("https")),x(u,R("https"))),v=C(x(h,R("p2p-webrtc-star"),R("p2p")),x(p,R("p2p-webrtc-star"),R("p2p")),x(h,R("p2p-webrtc-star")),x(p,R("p2p-webrtc-star"))),g=C(x(h,R("p2p-websocket-star"),R("p2p")),x(p,R("p2p-websocket-star"),R("p2p")),x(h,R("p2p-websocket-star")),x(p,R("p2p-websocket-star"))),b=C(x(m,R("p2p-webrtc-direct"),R("p2p")),x(y,R("p2p-webrtc-direct"),R("p2p")),x(m,R("p2p-webrtc-direct")),x(y,R("p2p-webrtc-direct"))),w=C(h,p,m,y,v,b,c,l,d,u),E=C(x(w,R("p2p-stardust"),R("p2p")),x(w,R("p2p-stardust"))),_=C(x(w,R("p2p")),v,b,R("p2p")),S=C(x(_,R("p2p-circuit"),_),x(_,R("p2p-circuit")),x(R("p2p-circuit"),_),x(w,R("p2p-circuit")),x(R("p2p-circuit"),w),R("p2p-circuit")),T=()=>C(x(S,T),S),A=T(),P=C(x(A,_,A),x(_,A),x(A,_),A,_);function k(e){return function(t){if(!r.isMultiaddr(t))try{t=new r(t)}catch(e){return!1}const n=e(t.protoNames());return null!==n&&(!0===n||!1===n?n:0===n.length)}}function x(...e){function t(t){if(t.length<e.length)return null;let n=t;return e.some(e=>(n="function"==typeof e?e().partialMatch(t):e.partialMatch(t),Array.isArray(n)&&(t=n),null===n)),n}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:k(t),partialMatch:t}}function C(...e){function t(t){let n=null;return e.some(e=>{const r="function"==typeof e?e().partialMatch(t):e.partialMatch(t);return!!r&&(n=r,!0)}),n}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:k(t),partialMatch:t}}function R(e){const t=e;return{toString:function(){return t},matches:function(e){let n;if("string"==typeof e||e instanceof Uint8Array)try{n=new r(e)}catch(e){return!1}else n=e;const i=n.protoNames();return 1===i.length&&i[0]===t},partialMatch:function(e){return 0===e.length?null:e[0]===t?e.slice(1):null}}}e.exports={DNS:u,DNS4:i,DNS6:o,DNSADDR:a,IP:s,TCP:c,UDP:f,QUIC:d,UTP:l,HTTP:m,HTTPS:y,WebSockets:h,WebSocketsSecure:p,WebSocketStar:g,WebRTCStar:v,WebRTCDirect:b,Reliable:w,Stardust:E,Circuit:A,P2P:P,IPFS:P}},function(e,t,n){"use strict";const r=n(591),i=n(6),o=n(4),a=n(1193),u=n(1204),s=n(57),c=n(1205),f=n(1206),l=n(1207),d=n(1208),h=n(1210),p=n(1211),m=n(1213),y=n(1214),v=n(371),{PinManager:g,PinTypes:b}=n(596),w=n(1215),E=n(599),_=n(1220),S=n(372),T=n(372),A=i("ipfs:repo"),P=Number.MAX_SAFE_INTEGER;class k{constructor(e,t,n,r){if("string"!=typeof e)throw new Error("missing repo path");if("function"!=typeof t)throw new Error("missing codec loader");this.options=s(m,r),this.closed=!0,this.path=e,this.root=n.root,this.datastore=n.datastore,this.keys=n.keys;const i=n.blocks,o=n.pins;this.pins=new g({pinstore:o,blockstore:i,loadCodec:t});const a=w(this.pins,i);this.blocks=p(a),this.version=f(this.root),this.config=l(this.root),this.spec=d(this.root),this.apiAddr=h(this.root),this.gcLock=E(e,{singleProcess:!1!==this.options.repoOwner}),this.gc=_({gcLock:this.gcLock,pins:this.pins,blockstore:this.blocks,root:this.root,loadCodec:t})}async init(e){var t;A("initializing at: %s",this.path),await this._openRoot(),await this.config.replace((t=e,t.Datastore=Object.assign({},y,r(t,"datastore")),t)),await this.spec.set(function(e){const t={...y.Spec,...r(e,"Datastore.Spec")};return{type:t.type,mounts:t.mounts.map(e=>({mountpoint:e.mountpoint,type:e.child.type,path:e.child.path,shardFunc:e.child.shardFunc}))}}(e)),await this.version.set(c.repoVersion)}async isInitialized(){if(!this.closed)return!0;try{return await this._openRoot(),await this._checkInitialized(),await this.root.close(),!0}catch(e){return!1}}async open(){if(!this.closed)throw o(new Error("repo is already open"),v.ERR_REPO_ALREADY_OPEN);A("opening at: %s",this.path);try{await this._openRoot(),await this._checkInitialized(),this._lockfile=await this._openLock(),A("acquired repo.lock");if(!await this.version.check(c.repoVersion)){if(!await this._isAutoMigrationEnabled())throw new v.InvalidRepoVersionError("Incompatible repo versions. Automatic migrations disabled. Please migrate the repo manually.");await this._migrate(c.repoVersion,{root:this.root,datastore:this.datastore,pins:this.pins.pinstore,blocks:this.pins.blockstore,keys:this.keys})}A("creating datastore"),await this.datastore.open(),A("creating blocks"),this.blocks.open(),A("creating keystore"),await this.keys.open(),A("creating pins"),await this.pins.pinstore.open(),this.closed=!1,A("all opened")}catch(e){if(this._lockfile)try{await this._closeLock(),this._lockfile=null}catch(e){A("error removing lock",e)}throw e}}async _openRoot(){try{await this.root.open()}catch(e){if("Already open"!==e.message)throw e}}async _openLock(){const e=await this.options.repoLock.lock(this.path);if("function"!=typeof e.close)throw o(new Error("Locks must have a close method"),"ERR_NO_CLOSE_FUNCTION");return e}_closeLock(){return this._lockfile&&this._lockfile.close()}async _checkInitialized(){let e;A("init check");try{[e]=await Promise.all([this.config.exists(),this.spec.exists(),this.version.exists()])}catch(e){if("ERR_NOT_FOUND"===e.code)throw o(new Error("repo is not initialized yet"),v.ERR_REPO_NOT_INITIALIZED,{path:this.path});throw e}if(!e)throw o(new Error("repo is not initialized yet"),v.ERR_REPO_NOT_INITIALIZED,{path:this.path})}async close(){if(this.closed)throw o(new Error("repo is already closed"),v.ERR_REPO_ALREADY_CLOSED);A("closing at: %s",this.path);try{await this.apiAddr.delete()}catch(e){if(e.code!==v.ERR_REPO_NOT_INITIALIZED&&!e.message.startsWith("ENOENT"))throw e}await Promise.all([this.root,this.blocks,this.keys,this.datastore,this.pins.pinstore].map(e=>e&&e.close())),A("unlocking"),this.closed=!0,await this._closeLock()}exists(){return this.version.exists()}async stat(){if(this.datastore&&this.keys){const[e,t,n,r,i]=await Promise.all([this._storageMaxStat(),this._blockStat(),this.version.get(),x(this.datastore),x(this.keys)]),o=t.size+r+i;return{repoPath:this.path,storageMax:e,version:n,numObjects:t.count,repoSize:o}}throw o(new Error("repo is not initialized yet"),v.ERR_REPO_NOT_INITIALIZED,{path:this.path})}async _isAutoMigrationEnabled(){if(void 0!==this.options.autoMigrate)return this.options.autoMigrate;let e;try{e=await this.config.get("repoAutoMigrate")}catch(t){if(t.code!==v.NotFoundError.code)throw t;e=!0}return e}async _migrate(e,t){return await this.version.get()>e?(A("reverting to version "+e),a.revert(this.path,t,this.options,e,{ignoreLock:!0,onProgress:this.options.onMigrationProgress})):(A("migrating to version "+e),a.migrate(this.path,t,this.options,e,{ignoreLock:!0,onProgress:this.options.onMigrationProgress}))}async _storageMaxStat(){try{const e=await this.config.get("Datastore.StorageMax");return BigInt(u(e))}catch(e){return BigInt(P)}}async _blockStat(){let e=BigInt(0),t=BigInt(0);if(this.blocks)for await(const{key:n,value:r}of this.blocks.query({}))e+=BigInt(1),t+=BigInt(r.byteLength),t+=BigInt(n.bytes.byteLength);return{count:e,size:t}}}async function x(e){let t=BigInt(0);for await(const n of e.query({}))t+=BigInt(n.value.byteLength),t+=BigInt(n.key.uint8Array().byteLength);return t}e.exports={createRepo:function(e,t,n,r){return new k(e,t,n,r)},repoVersion:c.repoVersion,errors:v,utils:{blockstore:n(597)},locks:{memory:S,fs:T},PinTypes:b}},function(e,t,n){"use strict";const{Key:r,Errors:i}=n(47),o=new r("/config"),a=new r("/version");function u(e){let t=e;for(;t.db||t.child;)if(t=t.db||t.child,"level-js"===t.type||"Level"===t.constructor.name)return t}async function s(e,t,n){const r=await t(e);if(r)return r;const i=u(n);return!!i&&new Promise((t,n)=>{const r=i.store("readonly").get(e.toString());r.transaction.onabort=()=>{n(r.transaction.error)},r.transaction.oncomplete=()=>{t(Boolean(r.result))}})}async function c(e,t,n,r){if(await n(e))return t(e);const o=u(r);if(!o)throw i.notFoundError();return new Promise((t,n)=>{const r=o.store("readonly").get(e.toString());r.transaction.onabort=()=>{n(r.transaction.error)},r.transaction.oncomplete=()=>{if(r.result)return t(r.result);n(i.notFoundError())}})}function f(e){const t=e.get.bind(e),n=e.has.bind(e);return e.get=r=>c(r,t,n,e),e.has=t=>s(t,n,e),e}e.exports={wrapBackends:function(e){return{...e,root:f(e.root),datastore:f(e.datastore),pins:f(e.pins),keys:f(e.keys)}},hasWithFallback:s,getWithFallback:c,findLevelJs:u,CONFIG_KEY:o,VERSION_KEY:a}},function(e,t,n){"use strict";e.exports=async e=>{for await(const t of e)return t}},function(e,t,n){"use strict";e.exports={Record:n(1243),validator:n(1246),selection:n(1249)}},function(e,t,n){"use strict";const{CID:r}=n(12),i=n(42),{sha256:o}=n(65);e.exports=async(e,t,n)=>{n.codec||(n.codec=i),n.hasher||(n.hasher=o),void 0===n.cidVersion&&(n.cidVersion=1),n.codec===i&&n.hasher!==o&&(n.cidVersion=1);const a=await n.hasher.digest(e),u=r.create(n.cidVersion,n.codec.code,a);return n.onlyHash||await t.put(u,e,{signal:n.signal}),u}},function(e,t,n){"use strict";const r=n(42),{sha256:i,sha512:o}=n(65),{CID:a}=n(12),u=n(6)("ipfs:mfs:core:utils:add-link"),{UnixFS:s}=n(77),c=n(381),f=n(379),{updateHamtDirectory:l,recreateHamtLevel:d,recreateInitialHamtLevel:h,createShard:p,toPrefix:m,addLinksToHamtBucket:y}=n(616),v=n(4),g=n(97),b=async(e,t)=>{const n=await p(e,t.parent.Links.map(e=>({name:e.Name||"",size:e.Tsize||0,cid:e.Hash})).concat({name:t.name,size:t.size,cid:t.cid}),t);return u("Converted directory to sharded directory "+n.cid),n},w=async(e,t)=>{const n=t.parent.Links.filter(e=>e.Name!==t.name);if(n.push({Name:t.name,Tsize:t.size,Hash:t.cid}),!t.parent.Data)throw v(new Error("Parent node with no data passed to addToDirectory"),"ERR_INVALID_PARENT");const i=s.unmarshal(t.parent.Data);let o;if(i.mtime){const e=Date.now(),t=Math.floor(e/1e3);i.mtime={secs:t,nsecs:1e3*(e-1e3*t)},o=i.marshal()}else o=t.parent.Data;t.parent=r.prepare({Data:o,Links:n});const u=await e.hashers.getHasher(t.hashAlg),c=r.encode(t.parent),f=await u.digest(c),l=a.create(t.cidVersion,r.code,f);return t.flush&&await e.repo.blocks.put(l,c),{node:t.parent,cid:l,size:c.length}},E=async(e,t)=>{const{shard:n,path:i}=await _(e,t),o=await g(n.flush(e.repo.blocks)),a=await e.repo.blocks.get(o.cid),u=r.decode(a),s=t.parent.Links.filter(e=>(e.Name||"").substring(0,2)!==i[0].prefix),c=u.Links.find(e=>(e.Name||"").substring(0,2)===i[0].prefix);if(!c)throw new Error("No link found with prefix "+i[0].prefix);return s.push(c),l(e,s,i[0].bucket,t)},_=async(e,t)=>{const n={name:t.name,cid:t.cid,size:t.size};if(!t.parent.Data)throw v(new Error("Parent node with no data passed to addFileToShardedDirectory"),"ERR_INVALID_PARENT");const a=await h(t.parent.Links),l=s.unmarshal(t.parent.Data),p=f();let g;switch(t.hashAlg){case"sha2-256":g=i;break;case"sha2-512":g=o;break;default:throw new Error("TODO vmx 2021-03-31: Proper error message for unsupported hash algorithms like "+t.hashAlg)}const b=new c({root:!0,dir:!0,parent:null,parentKey:null,path:"",dirty:!0,flat:!1,mode:l.mode},{hamtHashFn:p.hamtHashFn,hamtHashCode:p.hamtHashCode,hamtBucketBits:p.hamtBucketBits,hasher:g,...t});b._bucket=a,l.mtime&&(b.mtime=new Date);const w=await a._findNewBucketAndPos(n.name),E=S(w);E[0].node=t.parent;let _=0;for(;_<E.length;){const t=E[_];_++;const i=t.node;if(!i)throw new Error("Segment had no node");const o=i.Links.find(e=>(e.Name||"").substring(0,2)===t.prefix);if(!o){u(`Link ${t.prefix}${n.name} will be added`),_=E.length;break}if(o.Name===`${t.prefix}${n.name}`){u(`Link ${t.prefix}${n.name} will be replaced`),_=E.length;break}if((o.Name||"").length>2){u(`Link ${o.Name} ${o.Hash} will be replaced with a subshard`),_=E.length;break}u("Found subshard "+t.prefix);const s=await e.repo.blocks.get(o.Hash),c=r.decode(s);if(!E[_]){u("Loaded new subshard "+t.prefix),await d(c.Links,a,t.bucket,parseInt(t.prefix,16));const e=await a._findNewBucketAndPos(n.name);E.push({bucket:e.bucket,prefix:m(e.pos),node:c});break}const f=E[_];await y(c.Links,f.bucket,a),f.node=c}return await b._bucket.put(n.name,{size:n.size,cid:n.cid}),{shard:b,path:E}},S=e=>{const t=[{bucket:e.bucket,prefix:m(e.pos)}];let n=e.bucket._parent,r=e.bucket._posAtParent;for(;n;)t.push({bucket:n,prefix:m(r)}),r=n._posAtParent,n=n._parent;return t.reverse(),t};e.exports=async(e,t)=>{let n=t.parent;if(t.parentCid){const i=a.asCID(t.parentCid);if(null===i)throw v(new Error("Invalid CID passed to addLink"),"EINVALIDPARENTCID");if(i.code!==r.code)throw v(new Error("Unsupported codec. Only DAG-PB is supported"),"EINVALIDPARENTCID");u("Loading parent node "+i);const o=await e.repo.blocks.get(i);n=r.decode(o)}if(!n)throw v(new Error("No parent node or CID passed to addLink"),"EINVALIDPARENT");if(!t.cid)throw v(new Error("No child cid passed to addLink"),"EINVALIDCHILDCID");if(!t.name)throw v(new Error("No child name passed to addLink"),"EINVALIDCHILDNAME");if(!t.size&&0!==t.size)throw v(new Error("No child size passed to addLink"),"EINVALIDCHILDSIZE");if(!n.Data)throw v(new Error("Parent node with no data passed to addLink"),"ERR_INVALID_PARENT");const i=s.unmarshal(n.Data);return"hamt-sharded-directory"===i.type?(u("Adding link to sharded directory"),E(e,{...t,parent:n})):n.Links.length>=t.shardSplitThreshold?(u("Converting directory to sharded directory"),b(e,{...t,parent:n,mtime:i.mtime,mode:i.mode})):(u(`Adding ${t.name} (${t.cid}) to regular directory`),w(e,{...t,parent:n}))}},function(e,t,n){"use strict";const r=n(6)("ipfs:mfs:utils:update-tree"),i=n(201),{decode:o}=n(42),a={shardSplitThreshold:1e3};e.exports=async(e,t,n)=>{n=Object.assign({},a,n),r("Trail",t),t=t.slice().reverse();let u,s=0;for await(const r of e.repo.blocks.getMany(t.map(e=>e.cid))){const a=o(r),c=t[s].cid,f=t[s].name;if(s++,!u){u={cid:c,name:f,size:r.length};continue}const l=await i(e,{parent:a,name:u.name,cid:u.cid,size:u.size,flush:n.flush,shardSplitThreshold:n.shardSplitThreshold,hashAlg:n.hashAlg,cidVersion:n.cidVersion});u={cid:l.cid,name:f,size:l.size}}const{cid:c}=u;return r("Final CID "+c),c}},function(e,t,n){"use strict";const r=n(6)("ipfs:mfs:utils:update-mfs-root"),{MFS_ROOT_KEY:i}=n(81),o=n(4);e.exports=async(e,t,n)=>{if(n&&n.signal&&n.signal.aborted)throw o(new Error("Request aborted"),"ERR_ABORTED",{name:"Aborted"});return r("New MFS root will be "+t),await e.repo.datastore.put(i,t.bytes),t}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1406),t),i(n(1407),t),i(n(1408),t),i(n(1409),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERR_TOPIC_VALIDATOR_IGNORE=t.ERR_TOPIC_VALIDATOR_REJECT=t.TimeCacheDuration=t.GossipsubIWantFollowupTime=t.GossipsubMaxIHaveMessages=t.GossipsubMaxIHaveLength=t.GossipsubGraftFloodThreshold=t.GossipsubOpportunisticGraftPeers=t.GossipsubOpportunisticGraftTicks=t.GossipsubDirectConnectInitialDelay=t.GossipsubDirectConnectTicks=t.GossipsubConnectionTimeout=t.GossipsubMaxPendingConnections=t.GossipsubConnectors=t.GossipsubPruneBackoffTicks=t.GossipsubPruneBackoff=t.GossipsubPrunePeers=t.GossipsubFanoutTTL=t.GossipsubHeartbeatInterval=t.GossipsubHeartbeatInitialDelay=t.GossipsubGossipRetransmission=t.GossipsubGossipFactor=t.GossipsubDlazy=t.GossipsubHistoryGossip=t.GossipsubHistoryLength=t.GossipsubDout=t.GossipsubDscore=t.GossipsubDhi=t.GossipsubDlo=t.GossipsubD=t.GossipsubIDv11=t.GossipsubIDv10=t.FloodsubID=t.minute=t.second=void 0,t.second=1e3,t.minute=60*t.second,t.FloodsubID="/floodsub/1.0.0",t.GossipsubIDv10="/meshsub/1.0.0",t.GossipsubIDv11="/meshsub/1.1.0",t.GossipsubD=6,t.GossipsubDlo=4,t.GossipsubDhi=12,t.GossipsubDscore=4,t.GossipsubDout=2,t.GossipsubHistoryLength=5,t.GossipsubHistoryGossip=3,t.GossipsubDlazy=6,t.GossipsubGossipFactor=.25,t.GossipsubGossipRetransmission=3,t.GossipsubHeartbeatInitialDelay=100,t.GossipsubHeartbeatInterval=t.second,t.GossipsubFanoutTTL=t.minute,t.GossipsubPrunePeers=16,t.GossipsubPruneBackoff=t.minute,t.GossipsubPruneBackoffTicks=15,t.GossipsubConnectors=8,t.GossipsubMaxPendingConnections=128,t.GossipsubConnectionTimeout=30*t.second,t.GossipsubDirectConnectTicks=300,t.GossipsubDirectConnectInitialDelay=t.second,t.GossipsubOpportunisticGraftTicks=60,t.GossipsubOpportunisticGraftPeers=2,t.GossipsubGraftFloodThreshold=10*t.second,t.GossipsubMaxIHaveLength=5e3,t.GossipsubMaxIHaveMessages=10,t.GossipsubIWantFollowupTime=3*t.second,t.TimeCacheDuration=12e4,t.ERR_TOPIC_VALIDATOR_REJECT="ERR_TOPIC_VALIDATOR_REJECT",t.ERR_TOPIC_VALIDATOR_IGNORE="ERR_TOPIC_VALIDATOR_IGNORE"},function(e,t,n){"use strict";class r extends Error{constructor(e){super(e),this.name="TimeoutError"}}const i=(e,t,n,i)=>{let o;const a=new Promise((a,u)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");t!==1/0?(i={customTimers:{setTimeout:setTimeout,clearTimeout:clearTimeout},...i},o=i.customTimers.setTimeout.call(void 0,()=>{if("function"==typeof n){try{a(n())}catch(e){u(e)}return}const i=n instanceof Error?n:new r("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),u(i)},t),(async()=>{try{a(await e)}catch(e){u(e)}finally{i.customTimers.clearTimeout.call(void 0,o)}})()):a(e)});return a.clear=()=>{clearTimeout(o),o=void 0},a};e.exports=i,e.exports.default=i,e.exports.TimeoutError=r},function(e,t,n){"use strict";var r=n(246),i=n(310),o=n(431),a=n(434),u=n(435),s=n(438),c=n(439),f=n(722),l=n(180),d=n(124),h=n(727),p=n(730),m=n(731),y=n(734),v=n(736),g=d("Date.prototype.getTime"),b=Object.getPrototypeOf,w=d("Object.prototype.toString"),E=l("%Set%",!0),_=d("Map.prototype.has",!0),S=d("Map.prototype.get",!0),T=d("Map.prototype.size",!0),A=d("Set.prototype.add",!0),P=d("Set.prototype.delete",!0),k=d("Set.prototype.has",!0),x=d("Set.prototype.size",!0);function C(e,t,n,r){for(var i,o=p(e);(i=o.next())&&!i.done;)if(N(t,i.value,n,r))return P(e,i.value),!0;return!1}function R(e){return void 0===e?null:"object"!=typeof e?"symbol"!=typeof e&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function I(e,t,n,r,i,o){var a=R(n);if(null!=a)return a;var u=S(t,a),s=v({},i,{strict:!1});return!(void 0===u&&!_(t,a)||!N(r,u,s,o))&&(!_(e,a)&&N(r,u,s,o))}function O(e,t,n){var r=R(n);return null!=r?r:k(t,r)&&!k(e,r)}function M(e,t,n,r,i,o){for(var a,u,s=p(e);(a=s.next())&&!a.done;)if(N(n,u=a.value,i,o)&&N(r,S(t,u),i,o))return P(e,u),!0;return!1}function N(e,t,n,l){var d=n||{};if(d.strict?o(e,t):e===t)return!0;if(f(e)!==f(t))return!1;if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return d.strict?o(e,t):e==t;var m,P=l.has(e),R=l.has(t);if(P&&R){if(l.get(e)===l.get(t))return!0}else m={};return P||l.set(e,m),R||l.set(t,m),function(e,t,n,o){var f,l;if(typeof e!=typeof t)return!1;if(null==e||null==t)return!1;if(w(e)!==w(t))return!1;if(i(e)!==i(t))return!1;var d=s(e),m=s(t);if(d!==m)return!1;var P=e instanceof Error,R=t instanceof Error;if(P!==R)return!1;if((P||R)&&(e.name!==t.name||e.message!==t.message))return!1;var L=a(e),j=a(t);if(L!==j)return!1;if((L||j)&&(e.source!==t.source||u(e)!==u(t)))return!1;var B=c(e),F=c(t);if(B!==F)return!1;if((B||F)&&g(e)!==g(t))return!1;if(n.strict&&b&&b(e)!==b(t))return!1;if(y(e)!==y(t))return!1;var U=D(e),q=D(t);if(U!==q)return!1;if(U||q){if(e.length!==t.length)return!1;for(f=0;f<e.length;f++)if(e[f]!==t[f])return!1;return!0}if(typeof e!=typeof t)return!1;var H=r(e),K=r(t);if(H.length!==K.length)return!1;for(H.sort(),K.sort(),f=H.length-1;f>=0;f--)if(H[f]!=K[f])return!1;for(f=H.length-1;f>=0;f--)if(l=H[f],!N(e[l],t[l],n,o))return!1;var V=h(e),z=h(t);if(V!==z)return!1;if("Set"===V||"Set"===z)return function(e,t,n,r){if(x(e)!==x(t))return!1;var i,o,a,u=p(e),s=p(t);for(;(i=u.next())&&!i.done;)if(i.value&&"object"==typeof i.value)a||(a=new E),A(a,i.value);else if(!k(t,i.value)){if(n.strict)return!1;if(!O(e,t,i.value))return!1;a||(a=new E),A(a,i.value)}if(a){for(;(o=s.next())&&!o.done;)if(o.value&&"object"==typeof o.value){if(!C(a,o.value,n.strict,r))return!1}else if(!n.strict&&!k(e,o.value)&&!C(a,o.value,n.strict,r))return!1;return 0===x(a)}return!0}(e,t,n,o);if("Map"===V)return function(e,t,n,r){if(T(e)!==T(t))return!1;var i,o,a,u,s,c,f=p(e),l=p(t);for(;(i=f.next())&&!i.done;)if(u=i.value[0],s=i.value[1],u&&"object"==typeof u)a||(a=new E),A(a,u);else if(void 0===(c=S(t,u))&&!_(t,u)||!N(s,c,n,r)){if(n.strict)return!1;if(!I(e,t,u,s,n,r))return!1;a||(a=new E),A(a,u)}if(a){for(;(o=l.next())&&!o.done;)if(u=o.value[0],c=o.value[1],u&&"object"==typeof u){if(!M(a,e,u,c,n,r))return!1}else if(!(n.strict||e.has(u)&&N(S(e,u),c,n,r)||M(a,e,u,c,v({},n,{strict:!1}),r)))return!1;return 0===x(a)}return!0}(e,t,n,o);return!0}(e,t,d,l)}function D(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&(!(e.length>0&&"number"!=typeof e[0])&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))))}e.exports=function(e,t,n){return N(e,t,n,m())}},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,i,o,a,u,s,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(f,r(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(f,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,o[14]=u,o[15]=s,n(f,o),f}function a(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function u(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function s(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function f(){this.reset()}return u(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var i,o,a,u,s=this.byteLength,c=t(n,s),f=s;return r!==e&&(f=t(r,s)),c>f?new ArrayBuffer(0):(i=f-c,o=new ArrayBuffer(i),a=new Uint8Array(o),u=new Uint8Array(this,c,i),a.set(u),o)}}(),f.prototype.append=function(e){return this.appendBinary(s(e)),this},f.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},f.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=u(this._hash),e&&(n=c(n)),this.reset(),n},f.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},f.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},f.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},f.prototype._finish=function(e,t){var r,i,o,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),o=parseInt(r[1],16)||0,e[14]=i,e[15]=o,n(this._hash,e)},f.hash=function(e,t){return f.hashBinary(s(e),t)},f.hashBinary=function(e,t){var n=u(o(e));return t?c(n):n},f.ArrayBuffer=function(){this.reset()},f.ArrayBuffer.prototype.append=function(e){var t,r,o,a,u,s=(r=this._buff.buffer,o=e,a=!0,(u=new Uint8Array(r.byteLength+o.byteLength)).set(new Uint8Array(r)),u.set(new Uint8Array(o),r.byteLength),a?u:u.buffer),c=s.length;for(this._length+=e.byteLength,t=64;t<=c;t+=64)n(this._hash,i(s.subarray(t-64,t)));return this._buff=t-64<c?new Uint8Array(s.buffer.slice(t-64)):new Uint8Array(0),this},f.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=u(this._hash),e&&(n=c(n)),this.reset(),n},f.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.ArrayBuffer.prototype.getState=function(){var e,t=f.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},f.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return t?o:i}(e.buff,!0),f.prototype.setState.call(this,e)},f.ArrayBuffer.prototype.destroy=f.prototype.destroy,f.ArrayBuffer.prototype._finish=f.prototype._finish,f.ArrayBuffer.hash=function(e,t){var r=u(function(e){var t,r,o,a,u,s,c=e.length,f=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(f,i(e.subarray(t-64,t)));for(e=t-64<c?e.subarray(t-64):new Uint8Array(0),r=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(f,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(a[2],16),s=parseInt(a[1],16)||0,o[14]=u,o[15]=s,n(f,o),f}(new Uint8Array(e)));return t?c(r):r},f}()},function(e,t,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(247);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},function(e,t,n){"use strict";var r=n(22),i=n(313),o=n(315),a=n(316),u=n(142);function s(e){u.call(this,"digest"),this._hash=e}r(s,u),s.prototype._update=function(e){this._hash.update(e)},s.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new s(a(e))}},function(e,t,n){"use strict";var r=n(38).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=s,this.end=c,t=4;break;case"utf8":this.fillLast=u,t=4;break;case"base64":this.text=f,this.end=l,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function s(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function f(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(27).Buffer)},function(e,t,n){(function(t){e.exports=function(e,n){for(var r=Math.min(e.length,n.length),i=new t(r),o=0;o<r;++o)i[o]=e[o]^n[o];return i}}).call(this,n(27).Buffer)},function(e,t,n){"use strict";var r=n(110),i=n(98);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},function(e,t,n){"use strict";const r=n(22),i=n(330).Reporter,o=n(328).Buffer;function a(e,t){i.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function u(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return u.isEncoderBuffer(e)||(e=new u(e,t)),this.length+=e.length,e}),this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}r(a,i),t.DecoderBuffer=a,a.isDecoderBuffer=function(e){if(e instanceof a)return!0;return"object"==typeof e&&o.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(e){const t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=u,u.isEncoderBuffer=function(e){if(e instanceof u)return!0;return"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},u.prototype.join=function(e,t){return e||(e=o.alloc(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(n){n.join(e,t),t+=n.length})):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},function(e,t,n){"use strict";var r=n(861),i=n(256),o=n(13),a=n(143),u=n(69),s=function(e,t,n,r){this.CommutativeRing0=e,this.degree=t,this.div=n,this.mod=r},c=function(e){return e.mod},f=function(e){return function(t){return function(n){return function(r){var i,a=e,s=t,f=n,l=!1;function d(e,t,n,i){if(o.eq(e)(i)(u.zero(t.CommutativeRing0().Ring0().Semiring0())))return l=!0,n;a=e,s=t,f=i,r=c(t)(n)(i)}for(;!l;)i=d(a,s,f,r);return i}}}},l=new s((function(){return i.commutativeRingNumber}),(function(e){return 1}),r.numDiv,(function(e){return function(e){return 0}})),d=new s((function(){return i.commutativeRingInt}),r.intDegree,r.intDiv,r.intMod),h=function(e){return e.div};e.exports={EuclideanRing:s,degree:function(e){return e.degree},div:h,mod:c,gcd:f,lcm:function(e){return function(t){return function(n){return function(r){return o.eq(e)(n)(u.zero(t.CommutativeRing0().Ring0().Semiring0()))||o.eq(e)(r)(u.zero(t.CommutativeRing0().Ring0().Semiring0()))?u.zero(t.CommutativeRing0().Ring0().Semiring0()):h(t)(u.mul(t.CommutativeRing0().Ring0().Semiring0())(n)(r))(f(e)(t)(n)(r))}}}},euclideanRingInt:d,euclideanRingNumber:l,CommutativeRing:i.CommutativeRing,Ring:a.Ring,sub:a.sub,Semiring:u.Semiring,add:u.add,mul:u.mul,one:u.one,zero:u.zero}},function(e,t,n){"use strict";var r=n(145),i=n(105),o=n(78),a=n(41),u=n(13),s=n(2),c=n(26),f=n(16),l=n(34),d=n(18),h=function(e){return e},p=new c.Newtype((function(){})),m=function(e){return function(t){return new s.Functor((function(n){return function(r){return o.bimap(o.bifunctorEither)(s.map(e)(n))(s.map(t)(n))(r)}}))}},y=function(e){return function(t){return new u.Eq1((function(n){return function(r){return function(i){return r instanceof a.Left&&i instanceof a.Left?u.eq1(e)(n)(r.value0)(i.value0):r instanceof a.Right&&i instanceof a.Right&&u.eq1(t)(n)(r.value0)(i.value0)}}}))}},v=function(e){return function(t){return function(n){return new u.Eq(u.eq1(y(e)(t))(n))}}},g=function(e){return function(t){return new f.Ord1((function(){return y(e.Eq10())(t.Eq10())}),(function(n){return function(r){return function(i){if(r instanceof a.Left&&i instanceof a.Left)return f.compare1(e)(n)(r.value0)(i.value0);if(r instanceof a.Left)return l.LT.value;if(i instanceof a.Left)return l.GT.value;if(r instanceof a.Right&&i instanceof a.Right)return f.compare1(t)(n)(r.value0)(i.value0);throw new Error("Failed pattern match at Data.Functor.Coproduct (line 57, column 5 - line 61, column 43): "+[r.constructor.name,i.constructor.name])}}}))}},b=function(e){return function(t){return function(n){if(n instanceof a.Left)return e(n.value0);if(n instanceof a.Right)return t(n.value0);throw new Error("Failed pattern match at Data.Functor.Coproduct (line 27, column 1 - line 27, column 78): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}},w=function(e){return function(t){return new i.Extend((function(){return m(e.Functor0())(t.Functor0())}),(function(n){var r,o,u=b((o=i.extend(e)((function(e){return n(a.Left.create(e))})),function(e){return a.Left.create(o(e))}))((r=i.extend(t)((function(e){return n(a.Right.create(e))})),function(e){return a.Right.create(r(e))}));return function(e){return u(e)}}))}};e.exports={Coproduct:h,left:function(e){return new a.Left(e)},right:function(e){return new a.Right(e)},coproduct:b,bihoistCoproduct:function(e){return function(t){return function(n){return o.bimap(o.bifunctorEither)(e)(t)(n)}}},newtypeCoproduct:p,eqCoproduct:v,eq1Coproduct:y,ordCoproduct:function(e){return function(t){return function(n){return new f.Ord((function(){return v(e.Eq10())(t.Eq10())(n.Eq0())}),f.compare1(g(e)(t))(n))}}},ord1Coproduct:g,showCoproduct:function(e){return function(t){return new d.Show((function(n){if(n instanceof a.Left)return"(left "+d.show(e)(n.value0)+")";if(n instanceof a.Right)return"(right "+d.show(t)(n.value0)+")";throw new Error("Failed pattern match at Data.Functor.Coproduct (line 63, column 1 - line 65, column 60): "+[n.constructor.name])}))}},functorCoproduct:m,extendCoproduct:w,comonadCoproduct:function(e){return function(t){return new r.Comonad((function(){return w(e.Extend0())(t.Extend0())}),b(r.extract(e))(r.extract(t)))}}}},function(e,t,n){"use strict";var r=n(25),i=n(13),o=n(28),a=n(26),u=n(16),s=n(143),c=n(20),f=n(18),l=function(e){return e},d=function(e){return e},h=function(e){return e},p=function(e){return e},m=function(e,t){this.fromDuration=e,this.toDuration=t},y=function(e){return e},v=function(e){return e.toDuration},g=new f.Show((function(e){return"(Seconds "+f.show(f.showNumber)(e)+")"})),b=new f.Show((function(e){return"(Minutes "+f.show(f.showNumber)(e)+")"})),w=new f.Show((function(e){return"(Milliseconds "+f.show(f.showNumber)(e)+")"})),E=new f.Show((function(e){return"(Hours "+f.show(f.showNumber)(e)+")"})),_=new f.Show((function(e){return"(Days "+f.show(f.showNumber)(e)+")"})),S=new c.Semigroup((function(e){return function(t){return e+t}})),T=new c.Semigroup((function(e){return function(t){return e+t}})),A=new c.Semigroup((function(e){return function(t){return e+t}})),P=new c.Semigroup((function(e){return function(t){return e+t}})),k=new c.Semigroup((function(e){return function(t){return e+t}})),x=u.ordNumber,C=u.ordNumber,R=u.ordNumber,I=u.ordNumber,O=u.ordNumber,M=new a.Newtype((function(){})),N=new a.Newtype((function(){})),D=new a.Newtype((function(){})),L=new a.Newtype((function(){})),j=new a.Newtype((function(){})),B=new o.Monoid((function(){return S}),0),F=new o.Monoid((function(){return T}),0),U=new o.Monoid((function(){return A}),0),q=new o.Monoid((function(){return P}),0),H=new o.Monoid((function(){return k}),0),K=function(e){return e.fromDuration},V=i.eqNumber,z=i.eqNumber,W=i.eqNumber,G=i.eqNumber,$=i.eqNumber,J=new m(a.over()()(l)((function(e){return 1e3*e})),a.over()()(h)((function(e){return e/1e3}))),Q=new m(a.over()()(d)((function(e){return 6e4*e})),a.over()()(h)((function(e){return e/6e4}))),Y=new m(r.identity(r.categoryFn),r.identity(r.categoryFn)),X=new m(a.over()()(p)((function(e){return 36e5*e})),a.over()()(h)((function(e){return e/36e5}))),Z=new m(a.over()()(y)((function(e){return 864e5*e})),a.over()()(h)((function(e){return e/864e5})));e.exports={fromDuration:K,toDuration:v,Milliseconds:h,Seconds:l,Minutes:d,Hours:p,Days:y,Duration:m,convertDuration:function(e){return function(t){var n=v(t),r=K(e);return function(e){return n(r(e))}}},negateDuration:function(e){var t=v(e),n=a.over()()(h)(s.negate(s.ringNumber)),r=K(e);return function(e){return t(n(r(e)))}},newtypeMilliseconds:D,eqMilliseconds:W,ordMilliseconds:R,semigroupMilliseconds:A,monoidMilliseconds:U,showMilliseconds:w,newtypeSeconds:M,eqSeconds:V,ordSeconds:x,semigroupSeconds:S,monoidSeconds:B,showSeconds:g,newtypeMinutes:N,eqMinutes:z,ordMinutes:C,semigroupMinutes:T,monoidMinutes:F,showMinutes:b,newtypeHours:L,eqHours:G,ordHours:I,semigroupHours:P,monoidHours:q,showHours:E,newtypeDays:j,eqDays:$,ordDays:O,semigroupDays:k,monoidDays:H,showDays:_,durationMilliseconds:Y,durationSeconds:J,durationMinutes:Q,durationHours:X,durationDays:Z}},function(e,t,n){"use strict";var r=n(1023),i=n(11),o=n(19),a=n(15),u=n(145),s=n(105),c=n(89),f=n(40),l=n(498),d=n(63),h=n(256),p=n(13),m=n(216),y=n(36),v=n(127),g=n(23),b=n(2),w=n(125),E=n(107),_=n(90),S=n(28),T=n(16),A=n(143),P=n(20),k=n(162),x=n(188),C=n(69),R=n(18),I=n(56),O=n(163),M=n(24),N=function(e){return new C.Semiring((function(t){return function(n){return r.defer((function(i){return C.add(e)(r.force(t))(r.force(n))}))}}),(function(t){return function(n){return r.defer((function(i){return C.mul(e)(r.force(t))(r.force(n))}))}}),r.defer((function(t){return C.one(e)})),r.defer((function(t){return C.zero(e)})))},D=function(e){return new P.Semigroup((function(t){return function(n){return r.defer((function(i){return P.append(e)(r.force(t))(r.force(n))}))}}))},L=function(e){return new A.Ring((function(){return N(e.Semiring0())}),(function(t){return function(n){return r.defer((function(i){return A.sub(e)(r.force(t))(r.force(n))}))}}))},j=new c.Lazy((function(e){return r.defer((function(t){return r.force(e(M.unit))}))})),B=new b.Functor((function(e){return function(t){return r.defer((function(n){return e(r.force(t))}))}})),F=new E.FunctorWithIndex((function(){return B}),(function(e){return b.map(B)(e(M.unit))})),U=new w.Invariant(w.imapF(B)),q=new y.Foldable((function(e){return function(e){return function(t){return e(r.force(t))}}}),(function(e){return function(t){return function(n){return e(t)(r.force(n))}}}),(function(e){return function(t){return function(n){return e(r.force(n))(t)}}})),H=new v.FoldableWithIndex((function(){return q}),(function(e){return function(t){return y.foldMap(q)(e)(t(M.unit))}}),(function(e){return y.foldl(q)(e(M.unit))}),(function(e){return y.foldr(q)(e(M.unit))})),K=new I.Traversable((function(){return q}),(function(){return B}),(function(e){return function(t){return b.map(e.Apply0().Functor0())((function(e){return r.defer(g.const(e))}))(r.force(t))}}),(function(e){return function(t){return function(n){return b.map(e.Apply0().Functor0())((function(e){return r.defer(g.const(e))}))(t(r.force(n)))}}})),V=new O.TraversableWithIndex((function(){return H}),(function(){return F}),(function(){return K}),(function(e){return function(t){return I.traverse(K)(e)(t(M.unit))}})),z=new k.Foldable1((function(){return q}),(function(e){return function(e){return function(t){return e(r.force(t))}}}),(function(e){return function(e){return r.force(e)}}),(function(e){return function(e){return r.force(e)}})),W=new x.Traversable1((function(){return z}),(function(){return K}),(function(e){return function(t){return b.map(e.Functor0())((function(e){return r.defer(g.const(e))}))(r.force(t))}}),(function(e){return function(t){return function(n){return b.map(e.Functor0())((function(e){return r.defer(g.const(e))}))(t(r.force(n)))}}})),G=new s.Extend((function(){return B}),(function(e){return function(t){return r.defer((function(n){return e(t)}))}})),$=function(e){return new p.Eq((function(t){return function(n){return p.eq(e)(r.force(t))(r.force(n))}}))},J=function(e){return new T.Ord((function(){return $(e.Eq0())}),(function(t){return function(n){return T.compare(e)(r.force(t))(r.force(n))}}))},Q=new p.Eq1((function(e){return p.eq($(e))})),Y=new T.Ord1((function(){return Q}),(function(e){return T.compare(J(e))})),X=new u.Comonad((function(){return G}),r.force),Z=function(e){return new h.CommutativeRing((function(){return L(e.Ring0())}))},ee=new o.Apply((function(){return B}),(function(e){return function(t){return r.defer((function(n){return r.force(e)(r.force(t))}))}})),te=new a.Bind((function(){return ee}),(function(e){return function(t){return r.defer((function(n){return r.force(t(r.force(e)))}))}})),ne=function(e){return new _.HeytingAlgebra((function(t){return function(n){return o.apply(ee)(b.map(B)(_.conj(e))(t))(n)}}),(function(t){return function(n){return o.apply(ee)(b.map(B)(_.disj(e))(t))(n)}}),r.defer((function(t){return _.ff(e)})),(function(t){return function(n){return o.apply(ee)(b.map(B)(_.implies(e))(t))(n)}}),(function(t){return b.map(B)(_.not(e))(t)}),r.defer((function(t){return _.tt(e)})))},re=new i.Applicative((function(){return ee}),(function(e){return r.defer((function(t){return e}))})),ie=new f.Monad((function(){return re}),(function(){return te}));e.exports={semiringLazy:N,ringLazy:L,commutativeRingLazy:Z,euclideanRingLazy:function(e){return new m.EuclideanRing((function(){return Z(e.CommutativeRing0())}),(t=m.degree(e),function(e){return t(r.force(e))}),(function(t){return function(n){return r.defer((function(i){return m.div(e)(r.force(t))(r.force(n))}))}}),(function(t){return function(n){return r.defer((function(i){return m.mod(e)(r.force(t))(r.force(n))}))}}));var t},eqLazy:$,eq1Lazy:Q,ordLazy:J,ord1Lazy:Y,boundedLazy:function(e){return new d.Bounded((function(){return J(e.Ord0())}),r.defer((function(t){return d.bottom(e)})),r.defer((function(t){return d.top(e)})))},semigroupLazy:D,monoidLazy:function(e){return new S.Monoid((function(){return D(e.Semigroup0())}),r.defer((function(t){return S.mempty(e)})))},heytingAlgebraLazy:ne,booleanAlgebraLazy:function(e){return new l.BooleanAlgebra((function(){return ne(e.HeytingAlgebra0())}))},functorLazy:B,functorWithIndexLazy:F,foldableLazy:q,foldableWithIndexLazy:H,foldable1Lazy:z,traversableLazy:K,traversableWithIndexLazy:V,traversable1Lazy:W,invariantLazy:U,applyLazy:ee,applicativeLazy:re,bindLazy:te,monadLazy:ie,extendLazy:G,comonadLazy:X,showLazy:function(e){return new R.Show((function(t){return"(defer \\_ -> "+R.show(e)(r.force(t))+")"}))},lazyLazy:j,defer:r.defer,force:r.force}},function(e,t,n){"use strict";var r=n(54),i=n(36),o=n(149),a=n(5),u=n(1029),s=n(26),c=n(16),f=n(59),l=n(29),d=n(1030),h=o.empty;e.exports={empty:h,lookup:function(e){return function(e){return function(t){return function(n){return function(r){return function(i){return o.lookup(l.ordTuple(c.ordString)(d.ordOrdBox))(new l.Tuple(f.reflectSymbol(e)(n),d.mkOrdBox(t)(r)))(i)}}}}}},insert:function(e){return function(e){return function(t){return function(n){return function(r){return function(i){return function(a){return o.insert(l.ordTuple(c.ordString)(d.ordOrdBox))(new l.Tuple(f.reflectSymbol(e)(n),d.mkOrdBox(t)(r)))(i)(a)}}}}}}},pop:function(e){return function(e){return function(t){return function(n){return function(r){return function(i){return o.pop(l.ordTuple(c.ordString)(d.ordOrdBox))(new l.Tuple(f.reflectSymbol(e)(n),d.mkOrdBox(t)(r)))(i)}}}}}},slots:function(e){return function(e){return function(t){return function(n){return function(i){var h=f.reflectSymbol(e)(n);return s.un()(u.Alternate)(o.foldSubmap(l.ordTuple(c.ordString)(d.ordOrdBox))(u.monoidAlternate(o.plusMap(t)))(a.Nothing.value)(a.Nothing.value)((function(e){return function(t){if(h===e.value0)return u.Alternate(o.singleton(d.unOrdBox(e.value1))(t));if(r.otherwise)return o.empty;throw new Error("Failed pattern match at Halogen.Data.Slot (line 121, column 3 - line 123, column 38): "+[e.constructor.name,t.constructor.name])}}))(i))}}}}},foreachSlot:function(e){return function(t){return function(n){return i.traverse_(e)(o.foldableMap)((function(e){return n(e)}))(t)}}}}},function(e,t,n){"use strict";var r=n(1035),i=n(13),o=r.reallyUnsafeRefEq,a=new i.Eq((function(e){return function(t){return o(e)(t)}}));e.exports={unsafeRefEq:o,UnsafeRefEq:function(e){return e},UnsafeRefEqFallback:function(e){return e},eqUnsafeRefEq:a,eqUnsafeRefEqFallback:function(e){return new i.Eq((function(t){return function(n){return o(t)(n)||i.eq(e)(t)(n)}}))},reallyUnsafeRefEq:r.reallyUnsafeRefEq}},function(e,t,n){"use strict";var r=n(10),i=function(){function e(e,t,n,r){this.value0=e,this.value1=t,this.value2=n,this.value3=r}return e.create=function(t){return function(n){return function(r){return function(i){return new e(t,n,r,i)}}}},e}(),o=r.unsafeCoerce,a=r.unsafeCoerce,u=o((function(e){return e.value0}));e.exports={Step:i,mkStep:a,unStep:o,extract:u,step:function(e,t){return e.value2(e.value1,t)},halt:function(e){return e.value3(e.value1)}}},function(e,t,n){"use strict";var r,i,o,a,u,s,c,f,l=n(11),d=(n(1056),n(529)),h=n(530),p=n(531),m=n(532),y=n(533),v=n(534),g=n(535),b=n(536),w=n(537),E=n(538),_=n(539),S=n(2),T=n(90),A=n(5),P=n(26),k=n(129),x=n(95),C=n(192),R=n(348),I=n(10),O=function(e){return x.ref((t=e,function(e){return new A.Just(new C.RefUpdate(t,e))}));var t},M=function(e){return x.prop(e)},N=M(x.isPropBoolean)("readOnly"),D=M(x.isPropString)("rel"),L=M(x.isPropBoolean)("required"),j=M(x.isPropInt)("rowSpan"),B=M(x.isPropInt)("rows"),F=M(x.isPropScopeValue)("scope"),U=M(x.isPropBoolean)("selected"),q=M(x.isPropInt)("selectedIndex"),H=M(x.isPropBoolean)("spellcheck"),K=M(x.isPropString)("src"),V=M(x.isPropStepValue)("step"),z=M(x.isPropInt)("tabIndex"),W=M(x.isPropString)("target"),G=M(x.isPropString)("title"),$=M(x.isPropString)("value"),J=M(x.isPropInt)("width"),Q=M(x.isPropPreloadValue)("preload"),Y=M(x.isPropString)("poster"),X=M(x.isPropString)("placeholder"),Z=M(x.isPropString)("pattern"),ee=M(x.isPropBoolean)("noValidate"),te=new P.Newtype((function(){})),ne=M(x.isPropString)("name"),re=M(x.isPropBoolean)("muted"),ie=M(x.isPropBoolean)("multiple"),oe=M(x.isPropNumber)("min"),ae=M(x.isPropFormMethod)("method"),ue=M(x.isPropNumber)("max"),se=M(x.isPropBoolean)("loop"),ce=M(x.isPropString)("id"),fe=M(x.isPropString)("href"),le=M(x.isPropInt)("height"),de=new S.Functor((function(e){return function(t){return S.map(R.functorProp)(S.map(C.functorInput)(e))(t)}})),he=M(x.isPropString)("htmlFor"),pe=M(x.isPropMediaType)("enctype"),me=M(x.isPropBoolean)("draggable"),ye=M(x.isPropString)("download"),ve=M(x.isPropBoolean)("disabled"),ge=(r=T.not(T.heytingAlgebraBoolean),function(e){return ve(r(e))}),be=M(x.isPropBoolean)("controls"),we=M(x.isPropInt)("cols"),Ee=M(x.isPropInt)("colSpan"),_e=(i=M(x.isPropString)("className"),o=k.joinWith(" "),a=S.map(S.functorArray)(P.unwrap()),function(e){return i(o(a(e)))}),Se=(u=M(x.isPropString)("className"),s=P.unwrap(),function(e){return u(s(e))}),Te=M(x.isPropBoolean)("checked"),Ae=M(x.isPropString)("charset"),Pe=M(x.isPropBoolean)("autoplay"),ke=M(x.isPropBoolean)("autofocus"),xe=(c=M(x.isPropOnOff)("autocomplete"),function(e){return c(e?g.On.value:g.Off.value)}),Ce=(f=l.pure(A.applicativeMaybe),function(e){return x.attr(f(e))}),Re=x.attr(A.Nothing.value),Ie=Re("list"),Oe=Re("style"),Me=M(x.isPropString)("alt"),Ne=M(x.isPropString)("action"),De=M(x.isPropInputAcceptType)("accept");e.exports={IProp:function(e){return e},prop:M,attr:Re,attrNS:Ce,ref:O,expand:function(e){return I.unsafeCoerce},alt:Me,charset:Ae,class_:Se,classes:_e,cols:we,rows:B,colSpan:Ee,rowSpan:j,for:he,height:le,width:J,href:fe,id:ce,id_:function(e){return ce},name:ne,rel:D,src:K,style:Oe,scope:F,target:W,title:G,download:ye,method:ae,action:Ne,enctype:pe,noValidate:ee,type_:function(e){return M(e)("type")},value:$,min:oe,max:ue,step:V,disabled:ve,enabled:ge,required:L,readOnly:N,spellcheck:H,checked:Te,selected:U,selectedIndex:q,placeholder:X,autocomplete:xe,list:Ie,autofocus:ke,multiple:ie,pattern:Z,accept:De,autoplay:Pe,controls:be,loop:se,muted:re,poster:Y,preload:Q,draggable:me,tabIndex:z,newtypeIProp:te,functorIProp:de,ButtonButton:d.ButtonButton,ButtonReset:d.ButtonReset,ButtonSubmit:d.ButtonSubmit,GET:h.GET,POST:h.POST,InputAcceptType:p.InputAcceptType,InputButton:m.InputButton,InputCheckbox:m.InputCheckbox,InputColor:m.InputColor,InputDate:m.InputDate,InputDatetimeLocal:m.InputDatetimeLocal,InputEmail:m.InputEmail,InputFile:m.InputFile,InputHidden:m.InputHidden,InputImage:m.InputImage,InputMonth:m.InputMonth,InputNumber:m.InputNumber,InputPassword:m.InputPassword,InputRadio:m.InputRadio,InputRange:m.InputRange,InputReset:m.InputReset,InputSearch:m.InputSearch,InputSubmit:m.InputSubmit,InputTel:m.InputTel,InputText:m.InputText,InputTime:m.InputTime,InputUrl:m.InputUrl,InputWeek:m.InputWeek,MenuContext:y.MenuContext,MenuList:y.MenuList,MenuToolbar:y.MenuToolbar,MenuitemCheckbox:v.MenuitemCheckbox,MenuitemCommand:v.MenuitemCommand,MenuitemRadio:v.MenuitemRadio,Off:g.Off,On:g.On,OrderedListAlphabetic:b.OrderedListAlphabetic,OrderedListNumeric:b.OrderedListNumeric,PreloadAuto:w.PreloadAuto,PreloadMetadata:w.PreloadMetadata,PreloadNone:w.PreloadNone,ScopeAuto:E.ScopeAuto,ScopeCol:E.ScopeCol,ScopeColGroup:E.ScopeColGroup,ScopeRow:E.ScopeRow,ScopeRowGroup:E.ScopeRowGroup,Any:_.Any,Step:_.Step}},function(e,t,n){"use strict";var r=n(13),i=n(144),o=n(16),a=n(34),u=n(59),s=n(166),c=n(556),f=n(1074),l=function(){function e(){}return e.value=new e,e}(),d=function(){function e(){}return e.value=new e,e}(),h=function(){function e(){}return e.value=new e,e}(),p=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),m=new i.Generic((function(e){if(e instanceof l)return new i.Inl(i.NoArguments.value);if(e instanceof d)return new i.Inr(new i.Inl(i.NoArguments.value));if(e instanceof h)return new i.Inr(new i.Inr(new i.Inl(i.NoArguments.value)));if(e instanceof p)return new i.Inr(new i.Inr(new i.Inr(e.value0)));throw new Error("Failed pattern match at LinkNote.Data.Route (line 15, column 1 - line 15, column 48): "+[e.constructor.name])}),(function(e){if(e instanceof i.Inl)return l.value;if(e instanceof i.Inr&&e.value0 instanceof i.Inl)return d.value;if(e instanceof i.Inr&&e.value0 instanceof i.Inr&&e.value0.value0 instanceof i.Inl)return h.value;if(e instanceof i.Inr&&e.value0 instanceof i.Inr&&e.value0.value0 instanceof i.Inr)return new p(e.value0.value0.value0);throw new Error("Failed pattern match at LinkNote.Data.Route (line 15, column 1 - line 15, column 48): "+[e.constructor.name])})),y=s.root(c.sum(m)(c.gRouteSum(c.gRouteConstructor(new u.IsSymbol((function(){return"Home"})))()(c.gRouteNoArguments))(c.gRouteSum(c.gRouteConstructor(new u.IsSymbol((function(){return"Setting"})))()(c.gRouteNoArguments))(c.gRouteSum(c.gRouteConstructor(new u.IsSymbol((function(){return"TopicList"})))()(c.gRouteNoArguments))(c.gRouteConstructor(new u.IsSymbol((function(){return"Topic"})))()(c.gRouteArgument)))))({Home:c.noArgs,Setting:f.gsep(f.gsepStringRoute(c.gRouteNoArguments))("setting")(c.noArgs),TopicList:f.gsep(f.gsepStringRoute(c.gRouteNoArguments))("topic")(c.noArgs),Topic:f.gsep(f.gsepStringRoute(c.gRouteAll))("topic")(s.segment)})),v=new r.Eq((function(e){return function(t){return e instanceof l&&t instanceof l||(e instanceof d&&t instanceof d||(e instanceof h&&t instanceof h||e instanceof p&&t instanceof p&&e.value0===t.value0))}})),g=new o.Ord((function(){return v}),(function(e){return function(t){if(e instanceof l&&t instanceof l)return a.EQ.value;if(e instanceof l)return a.LT.value;if(t instanceof l)return a.GT.value;if(e instanceof d&&t instanceof d)return a.EQ.value;if(e instanceof d)return a.LT.value;if(t instanceof d)return a.GT.value;if(e instanceof h&&t instanceof h)return a.EQ.value;if(e instanceof h)return a.LT.value;if(t instanceof h)return a.GT.value;if(e instanceof p&&t instanceof p)return o.compare(o.ordString)(e.value0)(t.value0);throw new Error("Failed pattern match at LinkNote.Data.Route (line 17, column 1 - line 17, column 38): "+[e.constructor.name,t.constructor.name])}}));e.exports={Home:l,Setting:d,TopicList:h,Topic:p,routeCodec:y,genericRoute:m,eqRoute:v,ordRoute:g}},function(e,t,n){var r=n(39);r.pki=r.pki||{};var i=e.exports=r.pki.oids=r.oids=r.oids||{};function o(e,t){i[e]=t,i[t]=e}function a(e,t){i[e]=t}o("1.2.840.113549.1.1.1","rsaEncryption"),o("1.2.840.113549.1.1.4","md5WithRSAEncryption"),o("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),o("1.2.840.113549.1.1.7","RSAES-OAEP"),o("1.2.840.113549.1.1.8","mgf1"),o("1.2.840.113549.1.1.9","pSpecified"),o("1.2.840.113549.1.1.10","RSASSA-PSS"),o("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),o("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),o("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),o("1.3.101.112","EdDSA25519"),o("1.2.840.10040.4.3","dsa-with-sha1"),o("1.3.14.3.2.7","desCBC"),o("1.3.14.3.2.26","sha1"),o("2.16.840.1.101.3.4.2.1","sha256"),o("2.16.840.1.101.3.4.2.2","sha384"),o("2.16.840.1.101.3.4.2.3","sha512"),o("1.2.840.113549.2.5","md5"),o("1.2.840.113549.1.7.1","data"),o("1.2.840.113549.1.7.2","signedData"),o("1.2.840.113549.1.7.3","envelopedData"),o("1.2.840.113549.1.7.4","signedAndEnvelopedData"),o("1.2.840.113549.1.7.5","digestedData"),o("1.2.840.113549.1.7.6","encryptedData"),o("1.2.840.113549.1.9.1","emailAddress"),o("1.2.840.113549.1.9.2","unstructuredName"),o("1.2.840.113549.1.9.3","contentType"),o("1.2.840.113549.1.9.4","messageDigest"),o("1.2.840.113549.1.9.5","signingTime"),o("1.2.840.113549.1.9.6","counterSignature"),o("1.2.840.113549.1.9.7","challengePassword"),o("1.2.840.113549.1.9.8","unstructuredAddress"),o("1.2.840.113549.1.9.14","extensionRequest"),o("1.2.840.113549.1.9.20","friendlyName"),o("1.2.840.113549.1.9.21","localKeyId"),o("1.2.840.113549.1.9.22.1","x509Certificate"),o("1.2.840.113549.1.12.10.1.1","keyBag"),o("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),o("1.2.840.113549.1.12.10.1.3","certBag"),o("1.2.840.113549.1.12.10.1.4","crlBag"),o("1.2.840.113549.1.12.10.1.5","secretBag"),o("1.2.840.113549.1.12.10.1.6","safeContentsBag"),o("1.2.840.113549.1.5.13","pkcs5PBES2"),o("1.2.840.113549.1.5.12","pkcs5PBKDF2"),o("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),o("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),o("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),o("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),o("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),o("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),o("1.2.840.113549.2.7","hmacWithSHA1"),o("1.2.840.113549.2.8","hmacWithSHA224"),o("1.2.840.113549.2.9","hmacWithSHA256"),o("1.2.840.113549.2.10","hmacWithSHA384"),o("1.2.840.113549.2.11","hmacWithSHA512"),o("1.2.840.113549.3.7","des-EDE3-CBC"),o("2.16.840.1.101.3.4.1.2","aes128-CBC"),o("2.16.840.1.101.3.4.1.22","aes192-CBC"),o("2.16.840.1.101.3.4.1.42","aes256-CBC"),o("2.5.4.3","commonName"),o("2.5.4.5","serialName"),o("2.5.4.6","countryName"),o("2.5.4.7","localityName"),o("2.5.4.8","stateOrProvinceName"),o("2.5.4.9","streetAddress"),o("2.5.4.10","organizationName"),o("2.5.4.11","organizationalUnitName"),o("2.5.4.13","description"),o("2.5.4.15","businessCategory"),o("2.5.4.17","postalCode"),o("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),o("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),o("2.16.840.1.113730.1.1","nsCertType"),o("2.16.840.1.113730.1.13","nsComment"),a("2.5.29.1","authorityKeyIdentifier"),a("2.5.29.2","keyAttributes"),a("2.5.29.3","certificatePolicies"),a("2.5.29.4","keyUsageRestriction"),a("2.5.29.5","policyMapping"),a("2.5.29.6","subtreesConstraint"),a("2.5.29.7","subjectAltName"),a("2.5.29.8","issuerAltName"),a("2.5.29.9","subjectDirectoryAttributes"),a("2.5.29.10","basicConstraints"),a("2.5.29.11","nameConstraints"),a("2.5.29.12","policyConstraints"),a("2.5.29.13","basicConstraints"),o("2.5.29.14","subjectKeyIdentifier"),o("2.5.29.15","keyUsage"),a("2.5.29.16","privateKeyUsagePeriod"),o("2.5.29.17","subjectAltName"),o("2.5.29.18","issuerAltName"),o("2.5.29.19","basicConstraints"),a("2.5.29.20","cRLNumber"),a("2.5.29.21","cRLReason"),a("2.5.29.22","expirationDate"),a("2.5.29.23","instructionCode"),a("2.5.29.24","invalidityDate"),a("2.5.29.25","cRLDistributionPoints"),a("2.5.29.26","issuingDistributionPoint"),a("2.5.29.27","deltaCRLIndicator"),a("2.5.29.28","issuingDistributionPoint"),a("2.5.29.29","certificateIssuer"),a("2.5.29.30","nameConstraints"),o("2.5.29.31","cRLDistributionPoints"),o("2.5.29.32","certificatePolicies"),a("2.5.29.33","policyMappings"),a("2.5.29.34","policyConstraints"),o("2.5.29.35","authorityKeyIdentifier"),a("2.5.29.36","policyConstraints"),o("2.5.29.37","extKeyUsage"),a("2.5.29.46","freshestCRL"),a("2.5.29.54","inhibitAnyPolicy"),o("1.3.6.1.4.1.11129.2.4.2","timestampList"),o("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),o("1.3.6.1.5.5.7.3.1","serverAuth"),o("1.3.6.1.5.5.7.3.2","clientAuth"),o("1.3.6.1.5.5.7.3.3","codeSigning"),o("1.3.6.1.5.5.7.3.4","emailProtection"),o("1.3.6.1.5.5.7.3.8","timeStamping")},function(e,t,n){var r=n(39);function i(e,t){r.cipher.registerAlgorithm(e,(function(){return new r.aes.Algorithm(e,t)}))}n(567),n(568),n(51),e.exports=r.aes=r.aes||{},r.aes.startEncrypting=function(e,t,n,r){var i=p({key:e,output:n,decrypt:!1,mode:r});return i.start(t),i},r.aes.createEncryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!1,mode:t})},r.aes.startDecrypting=function(e,t,n,r){var i=p({key:e,output:n,decrypt:!0,mode:r});return i.start(t),i},r.aes.createDecryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!0,mode:t})},r.aes.Algorithm=function(e,t){f||l();var n=this;n.name=e,n.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return h(n._w,e,t,!1)},decrypt:function(e,t){return h(n._w,e,t,!0)}}}),n._init=!1},r.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,n=e.key;if("string"!=typeof n||16!==n.length&&24!==n.length&&32!==n.length){if(r.util.isArray(n)&&(16===n.length||24===n.length||32===n.length)){t=n,n=r.util.createBuffer();for(var i=0;i<t.length;++i)n.putByte(t[i])}}else n=r.util.createBuffer(n);if(!r.util.isArray(n)){t=n,n=[];var o=t.length();if(16===o||24===o||32===o){o>>>=2;for(i=0;i<o;++i)n.push(t.getInt32())}}if(!r.util.isArray(n)||4!==n.length&&6!==n.length&&8!==n.length)throw new Error("Invalid key parameter.");var a=this.mode.name,u=-1!==["CFB","OFB","CTR","GCM"].indexOf(a);this._w=d(n,e.decrypt&&!u),this._init=!0}},r.aes._expandKey=function(e,t){return f||l(),d(e,t)},r.aes._updateBlock=h,i("AES-ECB",r.cipher.modes.ecb),i("AES-CBC",r.cipher.modes.cbc),i("AES-CFB",r.cipher.modes.cfb),i("AES-OFB",r.cipher.modes.ofb),i("AES-CTR",r.cipher.modes.ctr),i("AES-GCM",r.cipher.modes.gcm);var o,a,u,s,c,f=!1;function l(){f=!0,u=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;o=new Array(256),a=new Array(256),s=new Array(4),c=new Array(4);for(t=0;t<4;++t)s[t]=new Array(256),c[t]=new Array(256);var n,r,i,l,d,h,p,m=0,y=0;for(t=0;t<256;++t){l=(l=y^y<<1^y<<2^y<<3^y<<4)>>8^255&l^99,o[m]=l,a[l]=m,h=(d=e[l])<<24^l<<16^l<<8^l^d,p=((n=e[m])^(r=e[n])^(i=e[r]))<<24^(m^i)<<16^(m^r^i)<<8^m^n^i;for(var v=0;v<4;++v)s[v][m]=h,c[v][l]=p,h=h<<24|h>>>8,p=p<<24|p>>>8;0===m?m=y=1:(m=n^e[e[e[n^i]]],y^=e[e[y]])}}function d(e,t){for(var n,r=e.slice(0),i=1,a=r.length,s=4*(a+6+1),f=a;f<s;++f)n=r[f-1],f%a==0?(n=o[n>>>16&255]<<24^o[n>>>8&255]<<16^o[255&n]<<8^o[n>>>24]^u[i]<<24,i++):a>6&&f%a==4&&(n=o[n>>>24]<<24^o[n>>>16&255]<<16^o[n>>>8&255]<<8^o[255&n]),r[f]=r[f-a]^n;if(t){for(var l,d=c[0],h=c[1],p=c[2],m=c[3],y=r.slice(0),v=(f=0,(s=r.length)-4);f<s;f+=4,v-=4)if(0===f||f===s-4)y[f]=r[v],y[f+1]=r[v+3],y[f+2]=r[v+2],y[f+3]=r[v+1];else for(var g=0;g<4;++g)l=r[v+g],y[f+(3&-g)]=d[o[l>>>24]]^h[o[l>>>16&255]]^p[o[l>>>8&255]]^m[o[255&l]];r=y}return r}function h(e,t,n,r){var i,u,f,l,d,h,p,m,y,v,g,b,w=e.length/4-1;r?(i=c[0],u=c[1],f=c[2],l=c[3],d=a):(i=s[0],u=s[1],f=s[2],l=s[3],d=o),h=t[0]^e[0],p=t[r?3:1]^e[1],m=t[2]^e[2],y=t[r?1:3]^e[3];for(var E=3,_=1;_<w;++_)v=i[h>>>24]^u[p>>>16&255]^f[m>>>8&255]^l[255&y]^e[++E],g=i[p>>>24]^u[m>>>16&255]^f[y>>>8&255]^l[255&h]^e[++E],b=i[m>>>24]^u[y>>>16&255]^f[h>>>8&255]^l[255&p]^e[++E],y=i[y>>>24]^u[h>>>16&255]^f[p>>>8&255]^l[255&m]^e[++E],h=v,p=g,m=b;n[0]=d[h>>>24]<<24^d[p>>>16&255]<<16^d[m>>>8&255]<<8^d[255&y]^e[++E],n[r?3:1]=d[p>>>24]<<24^d[m>>>16&255]<<16^d[y>>>8&255]<<8^d[255&h]^e[++E],n[2]=d[m>>>24]<<24^d[y>>>16&255]<<16^d[h>>>8&255]<<8^d[255&p]^e[++E],n[r?1:3]=d[y>>>24]<<24^d[h>>>16&255]<<16^d[p>>>8&255]<<8^d[255&m]^e[++E]}function p(e){var t,n="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?r.cipher.createDecipher(n,e.key):r.cipher.createCipher(n,e.key)).start;return t.start=function(e,n){var o=null;n instanceof r.util.ByteBuffer&&(o=n,n={}),(n=n||{}).output=o,n.iv=e,i.call(t,n)},t}},function(e,t,n){"use strict";e.exports=function(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}},function(e,t,n){"use strict";e.exports=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}},function(e,t,n){"use strict";const{base58btc:r}=n(64),{base32:i}=n(85),o=n(84),{Multiaddr:a}=n(30),u=n(195),{CID:s}=n(12),{URL:c}=n(273),f=n(45),l=/^https?:\/\/[^/]+\/(ip[fn]s)\/([^/?#]+)/,d=/^\/(ip[fn]s)\/([^/?#]+)/,h=/^https?:\/\/([^/]+)\.(ip[fn]s)\.[^/?]+/,p=/^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\.)+([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$/;function m(e){try{return"string"==typeof e?Boolean(s.parse(e)):e instanceof Uint8Array?Boolean(s.decode(e)):Boolean(s.asCID(e))}catch(e){return!1}}function y(e){if(!e)return!1;if(a.isMultiaddr(e))return!0;try{return new a(e),!0}catch(e){return!1}}function v(e,t,n=1,r=2){const i=w(e);if(!i)return!1;const o=i.match(t);if(!o)return!1;if("ipfs"!==o[n])return!1;let a=o[r];return a&&t===h&&(a=a.toLowerCase()),m(a)}function g(e,t,n=1,r=2){const i=w(e);if(!i)return!1;const o=i.match(t);if(!o)return!1;if("ipns"!==o[n])return!1;let a=o[r];if(a&&t===h){if(a=a.toLowerCase(),m(a))return!0;try{!a.includes(".")&&a.includes("-")&&(a=a.replace(/--/g,"@").replace(/-/g,".").replace(/@/g,"-"));const{hostname:e}=new c("http://"+a);return p.test(e)}catch(e){return!1}}return!0}function b(e){return"string"==typeof e}function w(e){return e instanceof Uint8Array?f(e,"base58btc"):!!b(e)&&e}const E=e=>v(e,h,2,1),_=e=>g(e,h,2,1),S=e=>E(e)||_(e),T=e=>v(e,l)||E(e),A=e=>g(e,l)||_(e),P=e=>T(e)||A(e)||S(e),k=e=>v(e,d)||g(e,d);e.exports={multihash:function(e){const t=w(e);try{o.decode(r.decode("z"+t))}catch{return!1}return!0},multiaddr:y,peerMultiaddr:function(e){return y(e)&&u.P2P.matches(e)},cid:m,base32cid:e=>function(e){try{i.decode(e)}catch{return!1}return!0}(e)&&m(e),ipfsSubdomain:E,ipnsSubdomain:_,subdomain:S,subdomainGatewayPattern:h,ipfsUrl:T,ipnsUrl:A,url:P,pathGatewayPattern:l,ipfsPath:e=>v(e,d),ipnsPath:e=>g(e,d),path:k,pathPattern:d,urlOrPath:e=>P(e)||k(e),cidPath:e=>b(e)&&!m(e)&&v("/ipfs/"+e,d)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,i=new TextDecoder,o=new TextEncoder;function a(e){return r&&globalThis.Buffer.isBuffer(e)}function u(e){return e instanceof Uint8Array?a(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const s=r?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):v(e,t,n):(e,t,n)=>n-t>64?i.decode(e.subarray(t,n)):v(e,t,n),c=r?e=>e.length>64?globalThis.Buffer.from(e):y(e):e=>e.length>64?o.encode(e):y(e),f=r?(e,t,n)=>a(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),l=r?(e,t)=>(e=e.map(e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e)),u(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let t of e)r+t.length>n.length&&(t=t.subarray(0,n.length-r)),n.set(t,r),r+=t.length;return n},d=r?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e),h=r?e=>"string"==typeof e?e:globalThis.Buffer.from(m(e)).toString("hex"):e=>"string"==typeof e?e:Array.prototype.reduce.call(m(e),(e,t)=>`${e}${t.toString(16).padStart(2,"0")}`,""),p=r?e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e,"hex"):e=>e instanceof Uint8Array?e:e.length?new Uint8Array(e.split("").map((e,t,n)=>t%2==0?`0x${e}${n[t+1]}`:"").filter(Boolean).map(e=>parseInt(e,16))):new Uint8Array(0);function m(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function y(e,t=1/0){let n;const r=e.length;let i=null;const o=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function v(e,t,n){const r=[];for(;t<n;){const i=e[t];let o=null,a=i>239?4:i>223?3:i>191?2:1;if(t+a<=n){let n,r,u,s;switch(a){case 1:i<128&&(o=i);break;case 2:n=e[t+1],128==(192&n)&&(s=(31&i)<<6|63&n,s>127&&(o=s));break;case 3:n=e[t+1],r=e[t+2],128==(192&n)&&128==(192&r)&&(s=(15&i)<<12|(63&n)<<6|63&r,s>2047&&(s<55296||s>57343)&&(o=s));break;case 4:n=e[t+1],r=e[t+2],u=e[t+3],128==(192&n)&&128==(192&r)&&128==(192&u)&&(s=(15&i)<<18|(63&n)<<12|(63&r)<<6|63&u,s>65535&&s<1114112&&(o=s))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),t+=a}return g(r)}function g(e){const t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}t.alloc=d,t.asU8A=u,t.compare=function(e,t){if(a(e)&&a(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0},t.concat=l,t.decodeCodePointsArray=g,t.fromArray=e=>Uint8Array.from(e),t.fromHex=p,t.fromString=c,t.slice=f,t.toHex=h,t.toString=s,t.useBuffer=r},function(e,t,n){"use strict";e.exports=async e=>{const t=[];for await(const n of e)t.push(n);return t}},function(e,t,n){"use strict";e.exports=async function*(e,t){let n=0;if(!(t<1))for await(const r of e)if(yield r,n++,n===t)return}},function(e,t,n){"use strict";const r=n(4),{CID:i}=n(12);function o(e){const t=e.cid||""+e.path;if(!t)throw r(new Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");const n={path:t,recursive:!1!==e.recursive};return null!=e.metadata&&(n.metadata=e.metadata),n}e.exports=async function*(e){if(null==e)throw r(new Error("Unexpected input: "+e),"ERR_UNEXPECTED_INPUT");if(e instanceof i)yield o({cid:e});else{if(!(e instanceof String||"string"==typeof e)){if(null!=e.cid||null!=e.path)return yield o(e);if(Symbol.iterator in e){const t=e[Symbol.iterator](),n=t.next();if(n.done)return t;if(n.value instanceof i||n.value instanceof String||"string"==typeof n.value){yield o({cid:n.value});for(const e of t)yield o({cid:e});return}if(null!=n.value.cid||null!=n.value.path){yield o(n.value);for(const e of t)yield o(e);return}throw r(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}if(Symbol.asyncIterator in e){const t=e[Symbol.asyncIterator](),n=await t.next();if(n.done)return t;if(n.value instanceof i||n.value instanceof String||"string"==typeof n.value){yield o({cid:n.value});for await(const e of t)yield o({cid:e});return}if(null!=n.value.cid||null!=n.value.path){yield o(n.value);for await(const e of t)yield o(e);return}throw r(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}throw r(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}yield o({path:e})}}},function(e,t,n){"use strict";const r=n(136);e.exports=async function*(...e){const t=r();setTimeout(async()=>{try{await Promise.all(e.map(async e=>{for await(const n of e)t.push(n)})),t.end()}catch(e){t.end(e)}},0),yield*t}},function(e,t,n){"use strict";const r=n(1227),{Key:i}=n(47),o=n(133),a=n(31),u=n(84),{identity:s}=n(152),c=n(4),{base32upper:f}=n(85),l=n(44),d=n(45),h=n(172),p=n(96),m=n(286),y=n(1228),v=n(6),g=Object.assign(v("jsipns"),{error:v("jsipns:error")}),{IpnsEntry:b}=n(1229),{parseRFC3339:w}=n(1230),E=n(1231),_=s.code,S=l("/ipns/"),T=async(e,t,n,r,i,o)=>{n=BigInt(n);const a=l(i.toString()),u=await R(e,t,r,a),s=A(t,a,r,n,o),c=O(s),f={value:t,signature:u,validityType:r,validity:a,sequence:n,ttl:o,signatureV2:await e.sign(c),data:s};return g(`ipns entry for ${t} created`),f},A=(e,t,n,r,i)=>{const o={value:e,validity:t,validityType:n,sequence:r,ttl:i};return m.encode(o)},P=async(e,t)=>{const{value:n,validityType:r,validity:i}=t;let o,a,u;t.signatureV2&&t.data?(a=t.signatureV2,o=O(t.data),k(t)):(a=t.signature,o=I(n,r,i));try{u=await e.verify(o,a)}catch(e){u=!1}if(!u)throw g.error("record signature verification failed"),c(new Error("record signature verification failed"),E.ERR_SIGNATURE_VERIFICATION);if(r===b.ValidityType.EOL){let e;try{e=w(d(i))}catch(e){throw g.error("unrecognized validity format (not an rfc3339 format)"),c(new Error("unrecognized validity format (not an rfc3339 format)"),E.ERR_UNRECOGNIZED_FORMAT)}if(e.getTime()<Date.now())throw g.error("record has expired"),c(new Error("record has expired"),E.ERR_IPNS_EXPIRED_RECORD)}else if(r)throw g.error("unrecognized validity type"),c(new Error("unrecognized validity type"),E.ERR_UNRECOGNIZED_VALIDITY);g(`ipns entry for ${n} is valid`)},k=e=>{if(!e.data)throw c(new Error("Record data is missing"),E.ERR_INVALID_RECORD_DATA);const t=m.decode(e.data);if(Number.isInteger(t.sequence)&&(t.sequence=BigInt(t.sequence)),Number.isInteger(t.ttl)&&(t.ttl=BigInt(t.ttl)),!p(t.value,e.value))throw c(new Error('Field "value" did not match between protobuf and CBOR'),E.ERR_SIGNATURE_VERIFICATION);if(!p(t.validity,e.validity))throw c(new Error('Field "validity" did not match between protobuf and CBOR'),E.ERR_SIGNATURE_VERIFICATION);if(t.validityType!==e.validityType)throw c(new Error('Field "validityType" did not match between protobuf and CBOR'),E.ERR_SIGNATURE_VERIFICATION);if(t.sequence!==e.sequence)throw c(new Error('Field "sequence" did not match between protobuf and CBOR'),E.ERR_SIGNATURE_VERIFICATION);if(t.ttl!==e.ttl)throw c(new Error('Field "ttl" did not match between protobuf and CBOR'),E.ERR_SIGNATURE_VERIFICATION)},x=(e,t)=>{if(!t||!e){const e=new Error("one or more of the provided parameters are not defined");throw g.error(e),c(e,E.ERR_UNDEFINED_PARAMETER)}if(t.pubKey){let e;try{e=o.keys.unmarshalPublicKey(t.pubKey)}catch(e){throw g.error(e),e}return e}if(e.pubKey)return e.pubKey;throw Object.assign(new Error("no public key is available"),{code:E.ERR_UNDEFINED_PARAMETER})},C=e=>f.encode(e).slice(1),R=(e,t,n,r)=>{try{const i=I(t,n,r);return e.sign(i)}catch(e){throw g.error("record signature creation failed"),c(new Error("record signature creation failed: "+e.message),E.ERR_SIGNATURE_CREATION)}},I=(e,t,n)=>{const r=l((e=>{if("0"===e.toString())return"EOL";const t=new Error("unrecognized validity type "+e.toString());throw g.error(t),c(t,E.ERR_UNRECOGNIZED_VALIDITY)})(t));return h([e,n,r])},O=e=>{const t=l("ipns-signature:");return h([t,e])},M=e=>{const t=u.decode(e.id);return t.code!==_?null:o.keys.unmarshalPublicKey(t.digest)},N=e=>{const t=b.decode(e),n=b.toObject(t,{defaults:!1,arrays:!0,objects:!1});return{value:n.value,signature:n.signature,validityType:n.validityType,validity:n.validity,sequence:Object.hasOwnProperty.call(n,"sequence")?BigInt(""+n.sequence):0n,pubKey:n.pubKey,ttl:Object.hasOwnProperty.call(n,"ttl")?BigInt(""+n.ttl):void 0}},D={validate:async(e,t)=>{const n=N(e),r=t.slice(S.length),i=a.createFromBytes(r),o=x(i,n);await P(o,n)},select:(e,t)=>{const n=N(e),r=N(t);return n.sequence>r.sequence?0:1}};e.exports={create:(e,t,n,i)=>{const o=new r(Date.now()+Number(i)),a=b.ValidityType.EOL,[u,s]=i.toString().split("."),c=100000n*BigInt(u)+BigInt(s||0);return T(e,t,n,a,o,c)},createWithExpiration:(e,t,n,i)=>{const o=r.fromString(i),a=b.ValidityType.EOL,u=o.toDate().getTime()-Date.now(),s=100000n*BigInt(u)+BigInt(o.getNano());return T(e,t,n,a,o,s)},validate:P,embedPublicKey:async(e,t)=>{if(!e||!e.bytes||!t){const e=new Error("one or more of the provided parameters are not defined");throw g.error(e),c(e,E.ERR_UNDEFINED_PARAMETER)}let n,r;try{n=await a.createFromPubKey(e.bytes)}catch(e){throw c(e,E.ERR_PEER_ID_FROM_PUBLIC_KEY)}try{r=M(n)}catch(e){throw g.error(e),c(e,E.ERR_PUBLIC_KEY_FROM_ID)}if(r)return null;try{t.pubKey=o.keys.marshalPublicKey(e)}catch(e){throw g.error(e),e}return t},extractPublicKey:x,getLocalKey:e=>new i("/ipns/"+C(e)),getIdKeys:e=>{const t=l("/pk/"),n=l("/ipns/");return{routingPubKey:new i(h([t,e]),!1),pkKey:new i(C(h([t,e]))),routingKey:new i(h([n,e]),!1),ipnsKey:new i(C(h([n,e])))}},marshal:e=>b.encode({...e,sequence:y.fromString(e.sequence.toString()),ttl:null==e.ttl?void 0:y.fromString(e.ttl.toString())}).finish(),unmarshal:N,validator:D,namespace:"/ipns/",namespaceLength:"/ipns/".length}},function(e,t,n){"use strict";function r(e,t){return void 0===t?t=>r(e,t):t[Symbol.asyncIterator]?async function*(e,t){let n=[];for await(const r of t)n.push(r),n.length===e&&(yield n,n=[]);n.length>0&&(yield n)}(e,t):function*(e,t){let n=[];for(const r of t)n.push(r),n.length===e&&(yield n,n=[]);n.length>0&&(yield n)}(e,t)}function i(e){if("function"==typeof e.next)return e;if("function"==typeof e[Symbol.iterator])return e[Symbol.iterator]();if("function"==typeof e[Symbol.asyncIterator])return e[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function o(){let e,t;return{promise:new Promise((n,r)=>{t=n,e=r}),reject:e,resolve:t}}function a(e,t){const n=i(t),r=[],a=[];let u=!1,s=!1;async function c(){if(!s&&!(u||r.length>=e)){u=!0;try{const{done:e,value:t}=await n.next();e?s=!0:r.push({value:t})}catch(e){s=!0,r.push({error:e})}!function(){for(;a.length>0&&r.length>0;){const e=a.shift(),{error:t,value:n}=r.shift();t?e.reject(t):e.resolve({done:!1,value:n})}for(;a.length>0&&s;){const{resolve:e}=a.shift();e({done:!0,value:void 0})}}(),u=!1,c()}}const f={next:async function(){if(r.length>0){const{error:e,value:t}=r.shift();if(e)throw e;return c(),{done:!1,value:t}}if(s)return{done:!0,value:void 0};const e=o();return a.push(e),c(),e.promise},[Symbol.asyncIterator]:()=>f};return f}function u(e,t){return void 0===t?t=>u(e,t):0===e?t:t[Symbol.asyncIterator]?a(e,t):function*(e,t){const n=[];let r;try{for(const r of t)n.push(r),n.length<=e||(yield n.shift())}catch(e){r=e}for(const e of n)yield e;if(r)throw r}(e,t)}function s(e){return e[Symbol.asyncIterator]?async function(e){const t=[];for await(const n of e)t.push(n);return t}(e):Array.from(e)}function c(...e){return e.find(e=>void 0!==e[Symbol.asyncIterator])?async function*(e){for await(const t of e)yield*t}(e):function*(e){for(const t of e)yield*t}(e)}function f(e){if(e[Symbol.asyncIterator])return async function(e){for await(const t of e);}(e);for(const t of e);}async function*l(e,t){for await(const n of t)await e(n)&&(yield n)}function d(e,t){return void 0===t?t=>l(e,t):l(e,t)}async function*h(e){for await(const t of e)t&&"string"!=typeof t&&(t[Symbol.iterator]||t[Symbol.asyncIterator])?yield*h(t):yield t}async function*p(e,t){for await(const n of t)yield await e(n)}function m(e,t){return void 0===t?t=>p(e,t):p(e,t)}function y(e,t){return void 0===t?t=>y(e,t):d(e=>null!=e,h(m(e,t)))}function v(e,t,n){const r=i(n),a=[],u=[];let s=!1,c=!1,f=0,l=null;function d(){for(;u.length>0&&a.length>0;){const{resolve:e}=u.shift();e({done:!1,value:a.shift()})}for(;u.length>0&&0===f&&s;){const{resolve:e,reject:t}=u.shift();l?(t(l),l=null):e({done:!0,value:void 0})}}async function h(){if(s)d();else if(!(c||f+a.length>=e)){c=!0,f++;try{const{done:e,value:n}=await r.next();e?(s=!0,f--,d()):async function(e){try{const n=await t(e);if(n&&n[Symbol.asyncIterator])for await(const e of n)a.push(e);else a.push(n)}catch(e){s=!0,l=e}f--,d(),h()}(n)}catch(e){s=!0,f--,l=e,d()}c=!1,h()}}const p={next:async function(){if(0===a.length){const e=o();return u.push(e),h(),e.promise}const e=a.shift();return h(),{done:!1,value:e}},[Symbol.asyncIterator]:()=>p};return p}function g(e,t,n){return void 0===t?(t,n)=>n?g(e,t,n):g(e,t):void 0===n?n=>g(e,t,n):d(e=>null!=e,h(v(e,t,n)))}async function b(e){return new Promise(t=>{e.once("readable",()=>{t()})})}function w(e){return"function"==typeof e[Symbol.asyncIterator]?e:async function*(e){for(;;){const t=e.read();if(null===t){if(e._readableState.ended)break;await b(e)}else yield t}}(e)}async function*E(...e){const t=new Set(e.map(i));for(;t.size>0;)for(const e of t){const n=await e.next();n.done?t.delete(e):yield n.value}}function _(e,...t){let n=e();for(const e of t)n=e(n);return n}function S(e,t,n){return void 0===t?(t,n)=>S(e,t,n):void 0===n?n=>S(e,t,n):1===e?m(t,n):async function*(e,t,n){let r=null;const o=i(_(()=>n,u(1),(async function*(e){for await(const t of e){if(r)return;yield t}}),m(e=>({value:t(e)})),u(e-1)));for(;;){const{value:e,done:t}=await o.next();if(t)break;try{const t=await e.value;r||(yield t)}catch(e){r=e}}if(r)throw r}(e,t,n)}function T(e,t,n){return void 0===t?(t,n)=>n?T(e,t,n):T(e,t):void 0===n?n=>T(e,t,n):d(e=>null!=e,h(S(e,t,n)))}async function*A(...e){const t=e.map(i),n=new Set,r=new Map;let o=null,a=null,u=null;const s=e=>{o=e,a&&a(e)},c=e=>{u&&u(e)},f=e=>{const t=Promise.resolve(e.next()).then(async({done:i,value:o})=>{i||r.set(e,o),n.delete(t)});n.add(t),t.then(c,s)};for(const e of t)f(e);for(;;){if(0===n.size&&0===r.size)return;await new Promise((e,t)=>{if(o&&t(o),r.size>0)return e();u=e,a=t});for(const[e,t]of r)r.delete(e),yield t,f(e)}}async function P(e,t,n){let r=t;for await(const t of n)r=await e(r,t);return r}function k(e,t,n){return void 0===t?(t,n)=>n?P(e,t,n):k(e,t):void 0===n?n=>k(e,t,n):P(e,t,n)}function x(e,t){return void 0===t?t=>x(e,t):t[Symbol.asyncIterator]?async function*(e,t){let n=0;for await(const r of t)if(yield await r,n++,n>=e)break}(e,t):function*(e,t){let n=0;for(const r of t)if(yield r,n++,n>=e)break}(e,t)}async function*C(e,t){for await(const n of t)await e(n),yield n}function R(e,t){return void 0===t?t=>C(e,t):C(e,t)}function I(e,t){let n=e[0]+t[0],r=e[1]+t[1];if(r>=1e9){const e=r%1e9;n+=(r-e)/1e9,r=e}return[n,r]}function O(e={},t){return void 0===t?t=>O(e,t):void 0!==t[Symbol.asyncIterator]?async function*(e,t){const n=t[Symbol.asyncIterator]();let r=[0,0];for(;;){const t=process.hrtime(),{value:i,done:o}=await n.next(),a=process.hrtime(t);if(r=I(r,a),e.progress&&e.progress(a,r),o)return e.total&&e.total(r),i;yield i}}(e,t):function*(e,t){const n=t[Symbol.iterator]();let r=[0,0];for(;;){const t=process.hrtime(),{value:i,done:o}=n.next(),a=process.hrtime(t);if(r=I(r,a),e.progress&&e.progress(a,r),o)return e.total&&e.total(r),i;yield i}}(e,t)}function M(e,t,n){const r=i(n),a=[],u=[];let s=!1,c=!1,f=0,l=null;function d(){for(;u.length>0&&a.length>0;){const{resolve:e}=u.shift();e({done:!1,value:a.shift()})}for(;u.length>0&&0===f&&s;){const{resolve:e,reject:t}=u.shift();l?(t(l),l=null):e({done:!0,value:void 0})}}async function h(){if(s)d();else if(!(c||f+a.length>=e)){c=!0,f++;try{const{done:e,value:n}=await r.next();e?(s=!0,f--,d()):async function(e){try{const n=await t(e);a.push(n)}catch(e){s=!0,l=e}f--,d(),h()}(n)}catch(e){s=!0,f--,l=e,d()}c=!1,h()}}const p={next:async function(){if(0===a.length){const e=o();return u.push(e),h(),e.promise}const e=a.shift();return h(),{done:!1,value:e}},[Symbol.asyncIterator]:()=>p};return p}function N(e,t,n){return void 0===t?(t,n)=>n?N(e,t,n):N(e,t):void 0===n?n=>N(e,t,n):M(e,t,n)}async function D(e,t){let n=null,r=null,i=null;const o=e=>{n=e,r&&r(e)},a=()=>{i&&i()};e.once("error",o);for await(const o of t)if(!1===e.write(o)&&await new Promise((t,o)=>{if(n)return o(n);e.once("drain",a),i=t,r=o}),n)break;if(e.removeListener("error",o),e.removeListener("drain",a),n)throw n}function L(e,t){return void 0===t?t=>D(e,t):D(e,t)}n.r(t),n.d(t,"batch",(function(){return r})),n.d(t,"buffer",(function(){return u})),n.d(t,"collect",(function(){return s})),n.d(t,"concat",(function(){return c})),n.d(t,"consume",(function(){return f})),n.d(t,"filter",(function(){return d})),n.d(t,"flatMap",(function(){return y})),n.d(t,"flatTransform",(function(){return g})),n.d(t,"flatten",(function(){return h})),n.d(t,"fromStream",(function(){return w})),n.d(t,"getIterator",(function(){return i})),n.d(t,"map",(function(){return m})),n.d(t,"merge",(function(){return E})),n.d(t,"parallelFlatMap",(function(){return T})),n.d(t,"parallelMap",(function(){return S})),n.d(t,"parallelMerge",(function(){return A})),n.d(t,"pipeline",(function(){return _})),n.d(t,"reduce",(function(){return k})),n.d(t,"take",(function(){return x})),n.d(t,"tap",(function(){return R})),n.d(t,"time",(function(){return O})),n.d(t,"transform",(function(){return N})),n.d(t,"writeToStream",(function(){return L}))},function(e,t,n){"use strict";const{walkPath:r}=n(118),i=n(6)("ipfs:mfs:utils:to-trail");e.exports=async(e,t)=>{i("Creating trail for path "+t);const n=[];for await(const i of r(t,e.repo.blocks))n.push({name:i.name,cid:i.cid,size:i.size,type:i.type});return n}},function(e,t,n){"use strict";const r=n(42),{CID:i}=n(12),{sha256:o}=n(65),a=n(17);e.exports=({repo:e,preload:t})=>a((async function(n,a={}){const u=await e.gcLock.readLock();try{const s=r.encode(n),c=await o.digest(s),f=i.createV0(c);return await e.blocks.put(f,s,{signal:a.signal}),!1!==a.preload&&t(f),a.pin&&await e.pins.pinRecursively(f,{signal:a.signal}),f}finally{u()}}))},function(e,t,n){"use strict";var r=n(80),i=r.Reader,o=r.Writer,a=r.util,u=r.roots["libp2p-circuit"]||(r.roots["libp2p-circuit"]={});u.CircuitRelay=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.type=1,e.prototype.srcPeer=null,e.prototype.dstPeer=null,e.prototype.code=100,e.encode=function(e,t){return t||(t=o.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.srcPeer&&Object.hasOwnProperty.call(e,"srcPeer")&&u.CircuitRelay.Peer.encode(e.srcPeer,t.uint32(18).fork()).ldelim(),null!=e.dstPeer&&Object.hasOwnProperty.call(e,"dstPeer")&&u.CircuitRelay.Peer.encode(e.dstPeer,t.uint32(26).fork()).ldelim(),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(32).int32(e.code),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.CircuitRelay;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 2:r.srcPeer=u.CircuitRelay.Peer.decode(e,e.uint32());break;case 3:r.dstPeer=u.CircuitRelay.Peer.decode(e,e.uint32());break;case 4:r.code=e.int32();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.CircuitRelay)return e;var t=new u.CircuitRelay;switch(e.type){case"HOP":case 1:t.type=1;break;case"STOP":case 2:t.type=2;break;case"STATUS":case 3:t.type=3;break;case"CAN_HOP":case 4:t.type=4}if(null!=e.srcPeer){if("object"!=typeof e.srcPeer)throw TypeError(".CircuitRelay.srcPeer: object expected");t.srcPeer=u.CircuitRelay.Peer.fromObject(e.srcPeer)}if(null!=e.dstPeer){if("object"!=typeof e.dstPeer)throw TypeError(".CircuitRelay.dstPeer: object expected");t.dstPeer=u.CircuitRelay.Peer.fromObject(e.dstPeer)}switch(e.code){case"SUCCESS":case 100:t.code=100;break;case"HOP_SRC_ADDR_TOO_LONG":case 220:t.code=220;break;case"HOP_DST_ADDR_TOO_LONG":case 221:t.code=221;break;case"HOP_SRC_MULTIADDR_INVALID":case 250:t.code=250;break;case"HOP_DST_MULTIADDR_INVALID":case 251:t.code=251;break;case"HOP_NO_CONN_TO_DST":case 260:t.code=260;break;case"HOP_CANT_DIAL_DST":case 261:t.code=261;break;case"HOP_CANT_OPEN_DST_STREAM":case 262:t.code=262;break;case"HOP_CANT_SPEAK_RELAY":case 270:t.code=270;break;case"HOP_CANT_RELAY_TO_SELF":case 280:t.code=280;break;case"STOP_SRC_ADDR_TOO_LONG":case 320:t.code=320;break;case"STOP_DST_ADDR_TOO_LONG":case 321:t.code=321;break;case"STOP_SRC_MULTIADDR_INVALID":case 350:t.code=350;break;case"STOP_DST_MULTIADDR_INVALID":case 351:t.code=351;break;case"STOP_RELAY_REFUSED":case 390:t.code=390;break;case"MALFORMED_MESSAGE":case 400:t.code=400}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.type=t.enums===String?"HOP":1,n.srcPeer=null,n.dstPeer=null,n.code=t.enums===String?"SUCCESS":100),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?u.CircuitRelay.Type[e.type]:e.type),null!=e.srcPeer&&e.hasOwnProperty("srcPeer")&&(n.srcPeer=u.CircuitRelay.Peer.toObject(e.srcPeer,t)),null!=e.dstPeer&&e.hasOwnProperty("dstPeer")&&(n.dstPeer=u.CircuitRelay.Peer.toObject(e.dstPeer,t)),null!=e.code&&e.hasOwnProperty("code")&&(n.code=t.enums===String?u.CircuitRelay.Status[e.code]:e.code),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.Status=(t={},(n=Object.create(t))[t[100]="SUCCESS"]=100,n[t[220]="HOP_SRC_ADDR_TOO_LONG"]=220,n[t[221]="HOP_DST_ADDR_TOO_LONG"]=221,n[t[250]="HOP_SRC_MULTIADDR_INVALID"]=250,n[t[251]="HOP_DST_MULTIADDR_INVALID"]=251,n[t[260]="HOP_NO_CONN_TO_DST"]=260,n[t[261]="HOP_CANT_DIAL_DST"]=261,n[t[262]="HOP_CANT_OPEN_DST_STREAM"]=262,n[t[270]="HOP_CANT_SPEAK_RELAY"]=270,n[t[280]="HOP_CANT_RELAY_TO_SELF"]=280,n[t[320]="STOP_SRC_ADDR_TOO_LONG"]=320,n[t[321]="STOP_DST_ADDR_TOO_LONG"]=321,n[t[350]="STOP_SRC_MULTIADDR_INVALID"]=350,n[t[351]="STOP_DST_MULTIADDR_INVALID"]=351,n[t[390]="STOP_RELAY_REFUSED"]=390,n[t[400]="MALFORMED_MESSAGE"]=400,n),e.Type=function(){var e={},t=Object.create(e);return t[e[1]="HOP"]=1,t[e[2]="STOP"]=2,t[e[3]="STATUS"]=3,t[e[4]="CAN_HOP"]=4,t}(),e.Peer=function(){function e(e){if(this.addrs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=a.newBuffer([]),e.prototype.addrs=a.emptyArray,e.encode=function(e,t){if(t||(t=o.create()),t.uint32(10).bytes(e.id),null!=e.addrs&&e.addrs.length)for(var n=0;n<e.addrs.length;++n)t.uint32(18).bytes(e.addrs[n]);return t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.CircuitRelay.Peer;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.bytes();break;case 2:r.addrs&&r.addrs.length||(r.addrs=[]),r.addrs.push(e.bytes());break;default:e.skipType(7&o)}}if(!r.hasOwnProperty("id"))throw a.ProtocolError("missing required 'id'",{instance:r});return r},e.fromObject=function(e){if(e instanceof u.CircuitRelay.Peer)return e;var t=new u.CircuitRelay.Peer;if(null!=e.id&&("string"==typeof e.id?a.base64.decode(e.id,t.id=a.newBuffer(a.base64.length(e.id)),0):e.id.length&&(t.id=e.id)),e.addrs){if(!Array.isArray(e.addrs))throw TypeError(".CircuitRelay.Peer.addrs: array expected");t.addrs=[];for(var n=0;n<e.addrs.length;++n)"string"==typeof e.addrs[n]?a.base64.decode(e.addrs[n],t.addrs[n]=a.newBuffer(a.base64.length(e.addrs[n])),0):e.addrs[n].length&&(t.addrs[n]=e.addrs[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.addrs=[]),t.defaults&&(t.bytes===String?n.id="":(n.id=[],t.bytes!==Array&&(n.id=a.newBuffer(n.id)))),null!=e.id&&e.hasOwnProperty("id")&&(n.id=t.bytes===String?a.base64.encode(e.id,0,e.id.length):t.bytes===Array?Array.prototype.slice.call(e.id):e.id),e.addrs&&e.addrs.length){n.addrs=[];for(var r=0;r<e.addrs.length;++r)n.addrs[r]=t.bytes===String?a.base64.encode(e.addrs[r],0,e.addrs[r].length):t.bytes===Array?Array.prototype.slice.call(e.addrs[r]):e.addrs[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e}(),e.exports=u},function(e,t,n){"use strict";const r=n(402),i=n(136),o=n(175);e.exports=e=>{const t=i(),n=r(e.source),a=o();let u;const s=e.sink(async function*(){yield*t;const e=await a.promise;yield*e}());s.catch(e=>{u=e});return{reader:n,writer:t,stream:{sink:e=>u?Promise.reject(u):(a.resolve(e),s),source:n},rest:()=>t.end(),write:t.push,read:async()=>(await n.next()).value}}},function(e,t,n){const r=n(1674),i=n(1675),o=String.fromCharCode(30);e.exports={protocol:4,encodePacket:r,encodePayload:(e,t)=>{const n=e.length,i=new Array(n);let a=0;e.forEach((e,u)=>{r(e,!1,e=>{i[u]=e,++a===n&&t(i.join(o))})})},decodePacket:i,decodePayload:(e,t)=>{const n=e.split(o),r=[];for(let e=0;e<n.length;e++){const o=i(n[e],t);if(r.push(o),"error"===o.type)break}return r}}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.logCipherState=t.logRemoteEphemeralKey=t.logRemoteStaticKey=t.logLocalEphemeralKeys=t.logLocalStaticKeys=t.logger=void 0;const i=r(n(6)),o=n(415);let a;t.logger=i.default("libp2p:noise"),a=o.DUMP_SESSION_KEYS?t.logger:()=>{},t.logLocalStaticKeys=function(e){a("LOCAL_STATIC_PUBLIC_KEY "+e.publicKey.toString("hex")),a("LOCAL_STATIC_PRIVATE_KEY "+e.privateKey.toString("hex"))},t.logLocalEphemeralKeys=function(e){e?(a("LOCAL_PUBLIC_EPHEMERAL_KEY "+e.publicKey.toString("hex")),a("LOCAL_PRIVATE_EPHEMERAL_KEY "+e.privateKey.toString("hex"))):a("Missing local ephemeral keys.")},t.logRemoteStaticKey=function(e){a("REMOTE_STATIC_PUBLIC_KEY "+e.toString("hex"))},t.logRemoteEphemeralKey=function(e){a("REMOTE_EPHEMERAL_PUBLIC_KEY "+e.toString("hex"))},t.logCipherState=function(e){e.cs1&&e.cs2?(a(`CIPHER_STATE_1 ${e.cs1.n} ${e.cs1.k.toString("hex")}`),a(`CIPHER_STATE_2 ${e.cs2.n} ${e.cs2.k.toString("hex")}`)):a("Missing cipher state.")}},function(e,t,n){"use strict";const{CID:r}=n(170),{sha256:i}=n(65),{base58btc:o}=n(64),a=n(1748),{isMapEqual:u}=n(178),{Message:s}=n(1754),c=n(696),f=n(172),l=n(4);class d{constructor(e){this.full=e,this.wantlist=new Map,this.blocks=new Map,this.blockPresences=new Map,this.pendingBytes=0}get empty(){return 0===this.blocks.size&&0===this.wantlist.size&&0===this.blockPresences.size}addEntry(e,t,n,r,i){null==n&&(n=d.WantType.Block);const a=e.toString(o),u=this.wantlist.get(a);u?(u.wantType===n&&(u.priority=t),r&&(u.cancel=Boolean(r)),i&&(u.sendDontHave=Boolean(i)),n===d.WantType.Block&&u.wantType===d.WantType.Have&&(u.wantType=n)):this.wantlist.set(a,new c(e,t,n,r,i))}addBlock(e,t){const n=e.toString(o);this.blocks.set(n,t)}addHave(e){const t=e.toString(o);this.blockPresences.has(t)||this.blockPresences.set(t,d.BlockPresenceType.Have)}addDontHave(e){const t=e.toString(o);this.blockPresences.has(t)||this.blockPresences.set(t,d.BlockPresenceType.DontHave)}cancel(e){const t=e.toString(o);this.wantlist.delete(t),this.addEntry(e,0,d.WantType.Block,!0,!1)}setPendingBytes(e){this.pendingBytes=e}serializeToBitswap100(){const e={wantlist:{entries:Array.from(this.wantlist.values()).map(e=>({block:e.cid.bytes,priority:Number(e.priority),cancel:Boolean(e.cancel)})),full:!!this.full||void 0},blocks:Array.from(this.blocks.values())};return s.encode(e).finish()}serializeToBitswap110(){const e={wantlist:{entries:Array.from(this.wantlist.values()).map(e=>({block:e.cid.bytes,priority:Number(e.priority),wantType:e.wantType,cancel:Boolean(e.cancel),sendDontHave:Boolean(e.sendDontHave)})),full:!!this.full||void 0},blockPresences:[],payload:[],pendingBytes:this.pendingBytes};for(const[t,n]of this.blocks.entries()){const i=r.parse(t),o=Uint8Array.from([i.code]),a=i.multihash.bytes.subarray(0,2),u=f([[i.version],o,a],1+o.byteLength+a.byteLength);e.payload.push(new s.Block({prefix:u,data:n}))}for(const[t,n]of this.blockPresences)e.blockPresences.push(new s.BlockPresence({cid:r.parse(t).bytes,type:n}));return this.pendingBytes>0&&(e.pendingBytes=this.pendingBytes),s.encode(e).finish()}equals(e){return!!(this.full===e.full&&this.pendingBytes===e.pendingBytes&&u(this.wantlist,e.wantlist)&&u(this.blocks,e.blocks)&&u(this.blockPresences,e.blockPresences))}get[Symbol.toStringTag](){const e=Array.from(this.wantlist.keys()),t=Array.from(this.blocks.keys());return`BitswapMessage <full: ${this.full}, list: ${e}, blocks: ${t}>`}}d.deserialize=async(e,t={})=>{const n=s.decode(e),o=n.wantlist&&n.wantlist.full||!1,u=new d(o);return n.wantlist&&n.wantlist.entries&&n.wantlist.entries.forEach(e=>{if(!e.block)return;const t=r.decode(e.block);u.addEntry(t,e.priority||0,e.wantType,Boolean(e.cancel),Boolean(e.sendDontHave))}),n.blockPresences&&n.blockPresences.forEach(e=>{if(!e.cid)return;const t=r.decode(e.cid);e.type===d.BlockPresenceType.Have?u.addHave(t):u.addDontHave(t)}),n.blocks.length>0?(await Promise.all(n.blocks.map(async e=>{const t=await i.digest(e),n=r.createV0(t);u.addBlock(n,e)})),u):n.payload.length>0?(await Promise.all(n.payload.map(async e=>{if(!e.prefix||!e.data)return;const n=a(e.prefix),o=n[0],s=n[1],c=n[2],f=c===i.code?i:t[c];if(!f)throw l(new Error("Unknown hash algorithm"),"ERR_UNKNOWN_HASH_ALG");const d=await f.digest(e.data),h=r.create(o,s,d);u.addBlock(h,e.data)})),u.setPendingBytes(n.pendingBytes),u):u},d.blockPresenceSize=e=>e.bytes.length+1,d.Entry=c,d.WantType={Block:s.Wantlist.WantType.Block,Have:s.Wantlist.WantType.Have},d.BlockPresenceType={Have:s.BlockPresenceType.Have,DontHave:s.BlockPresenceType.DontHave},e.exports=d},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=Array.prototype.slice,i=n(430),o=Object.keys,a=o?function(e){return o(e)}:n(717),u=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return i(e)?u(r.call(e)):u(e)}):Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,n){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},function(e,t,n){"use strict";var r=n(311),i=n(180),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),u=i("%Reflect.apply%",!0)||r.call(a,o),s=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),f=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=u(r,a,arguments);if(s&&c){var n=s(t,"length");n.configurable&&c(t,"length",{value:1+f(0,e.length-(arguments.length-1))})}return t};var l=function(){return u(r,o,arguments)};c?c(e.exports,"apply",{value:l}):e.exports.apply=l},function(e,t,n){(t=e.exports=n(452)).Stream=t,t.Readable=t,t.Writable=n(456),t.Duplex=n(182),t.Transform=n(458),t.PassThrough=n(766),t.finished=n(314),t.pipeline=n(767)},function(e,t,n){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,a,u=arguments.length;switch(u){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,i)}));default:for(o=new Array(u-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,n(49))},function(e,t,n){var r=n(38).Buffer;function i(e){r.isBuffer(e)||(e=r.from(e));for(var t=e.length/4|0,n=new Array(t),i=0;i<t;i++)n[i]=e.readUInt32BE(4*i);return n}function o(e){for(;0<e.length;e++)e[0]=0}function a(e,t,n,r,i){for(var o,a,u,s,c=n[0],f=n[1],l=n[2],d=n[3],h=e[0]^t[0],p=e[1]^t[1],m=e[2]^t[2],y=e[3]^t[3],v=4,g=1;g<i;g++)o=c[h>>>24]^f[p>>>16&255]^l[m>>>8&255]^d[255&y]^t[v++],a=c[p>>>24]^f[m>>>16&255]^l[y>>>8&255]^d[255&h]^t[v++],u=c[m>>>24]^f[y>>>16&255]^l[h>>>8&255]^d[255&p]^t[v++],s=c[y>>>24]^f[h>>>16&255]^l[p>>>8&255]^d[255&m]^t[v++],h=o,p=a,m=u,y=s;return o=(r[h>>>24]<<24|r[p>>>16&255]<<16|r[m>>>8&255]<<8|r[255&y])^t[v++],a=(r[p>>>24]<<24|r[m>>>16&255]<<16|r[y>>>8&255]<<8|r[255&h])^t[v++],u=(r[m>>>24]<<24|r[y>>>16&255]<<16|r[h>>>8&255]<<8|r[255&p])^t[v++],s=(r[y>>>24]<<24|r[h>>>16&255]<<16|r[p>>>8&255]<<8|r[255&m])^t[v++],[o>>>=0,a>>>=0,u>>>=0,s>>>=0]}var u=[0,1,2,4,8,16,32,64,128,27,54],s=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,u=0,s=0;s<256;++s){var c=u^u<<1^u<<2^u<<3^u<<4;c=c>>>8^255&c^99,n[a]=c,r[c]=a;var f=e[a],l=e[f],d=e[l],h=257*e[c]^16843008*c;i[0][a]=h<<24|h>>>8,i[1][a]=h<<16|h>>>16,i[2][a]=h<<8|h>>>24,i[3][a]=h,h=16843009*d^65537*l^257*f^16843008*a,o[0][c]=h<<24|h>>>8,o[1][c]=h<<16|h>>>16,o[2][c]=h<<8|h>>>24,o[3][c]=h,0===a?a=u=1:(a=f^e[e[e[d^f]]],u^=e[e[u]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();function c(e){this._key=i(e),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,r=4*(n+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<r;o++){var a=i[o-1];o%t==0?(a=a<<8|a>>>24,a=s.SBOX[a>>>24]<<24|s.SBOX[a>>>16&255]<<16|s.SBOX[a>>>8&255]<<8|s.SBOX[255&a],a^=u[o/t|0]<<24):t>6&&o%t==4&&(a=s.SBOX[a>>>24]<<24|s.SBOX[a>>>16&255]<<16|s.SBOX[a>>>8&255]<<8|s.SBOX[255&a]),i[o]=i[o-t]^a}for(var c=[],f=0;f<r;f++){var l=r-f,d=i[l-(f%4?0:4)];c[f]=f<4||l<=4?d:s.INV_SUB_MIX[0][s.SBOX[d>>>24]]^s.INV_SUB_MIX[1][s.SBOX[d>>>16&255]]^s.INV_SUB_MIX[2][s.SBOX[d>>>8&255]]^s.INV_SUB_MIX[3][s.SBOX[255&d]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(e){return a(e=i(e),this._keySchedule,s.SUB_MIX,s.SBOX,this._nRounds)},c.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=r.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},c.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var n=a(e,this._invKeySchedule,s.INV_SUB_MIX,s.INV_SBOX,this._nRounds),o=r.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},c.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=c},function(e,t,n){var r=n(38).Buffer,i=n(313);e.exports=function(e,t,n,o){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,u=r.alloc(a),s=r.alloc(o||0),c=r.alloc(0);a>0||o>0;){var f=new i;f.update(c),f.update(e),t&&f.update(t),c=f.digest();var l=0;if(a>0){var d=u.length-a;l=Math.min(a,c.length),c.copy(u,d,0,l),a-=l}if(l<c.length&&o>0){var h=s.length-o,p=Math.min(o,c.length-l);c.copy(s,h,l,l+p),o-=p}}return c.fill(0),{key:u,iv:s}}},function(e,t,n){"use strict";var r=t;r.version=n(808).version,r.utils=n(99),r.rand=n(323),r.curve=n(484),r.curves=n(326),r.ec=n(819),r.eddsa=n(823)},function(e,t,n){"use strict";var r=n(72),i=n(99),o=i.getNAF,a=i.getJSF,u=i.assert;function s(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=s,s.prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(e,t){u(e.precomputed);var n=e._getDoubles(),r=o(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;var a,s,c=[];for(a=0;a<r.length;a+=n.step){s=0;for(var f=a+n.step-1;f>=a;f--)s=(s<<1)+r[f];c.push(s)}for(var l=this.jpoint(null,null,null),d=this.jpoint(null,null,null),h=i;h>0;h--){for(a=0;a<c.length;a++)(s=c[a])===h?d=d.mixedAdd(n.points[a]):s===-h&&(d=d.mixedAdd(n.points[a].neg()));l=l.add(d)}return l.toP()},s.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,a=o(t,n,this._bitLength),s=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(var f=0;c>=0&&0===a[c];c--)f++;if(c>=0&&f++,s=s.dblp(f),c<0)break;var l=a[c];u(0!==l),s="affine"===e.type?l>0?s.mixedAdd(i[l-1>>1]):s.mixedAdd(i[-l-1>>1].neg()):l>0?s.add(i[l-1>>1]):s.add(i[-l-1>>1].neg())}return"affine"===e.type?s.toP():s},s.prototype._wnafMulAdd=function(e,t,n,r,i){var u,s,c,f=this._wnafT1,l=this._wnafT2,d=this._wnafT3,h=0;for(u=0;u<r;u++){var p=(c=t[u])._getNAFPoints(e);f[u]=p.wnd,l[u]=p.points}for(u=r-1;u>=1;u-=2){var m=u-1,y=u;if(1===f[m]&&1===f[y]){var v=[t[m],null,null,t[y]];0===t[m].y.cmp(t[y].y)?(v[1]=t[m].add(t[y]),v[2]=t[m].toJ().mixedAdd(t[y].neg())):0===t[m].y.cmp(t[y].y.redNeg())?(v[1]=t[m].toJ().mixedAdd(t[y]),v[2]=t[m].add(t[y].neg())):(v[1]=t[m].toJ().mixedAdd(t[y]),v[2]=t[m].toJ().mixedAdd(t[y].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],b=a(n[m],n[y]);for(h=Math.max(b[0].length,h),d[m]=new Array(h),d[y]=new Array(h),s=0;s<h;s++){var w=0|b[0][s],E=0|b[1][s];d[m][s]=g[3*(w+1)+(E+1)],d[y][s]=0,l[m]=v}}else d[m]=o(n[m],f[m],this._bitLength),d[y]=o(n[y],f[y],this._bitLength),h=Math.max(d[m].length,h),h=Math.max(d[y].length,h)}var _=this.jpoint(null,null,null),S=this._wnafT4;for(u=h;u>=0;u--){for(var T=0;u>=0;){var A=!0;for(s=0;s<r;s++)S[s]=0|d[s][u],0!==S[s]&&(A=!1);if(!A)break;T++,u--}if(u>=0&&T++,_=_.dblp(T),u<0)break;for(s=0;s<r;s++){var P=S[s];0!==P&&(P>0?c=l[s][P-1>>1]:P<0&&(c=l[s][-P-1>>1].neg()),_="affine"===c.type?_.mixedAdd(c):_.add(c))}}for(u=0;u<r;u++)l[u]=null;return i?_:_.toP()},s.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*n)return 6===e[0]?u(e[e.length-1]%2==0):7===e[0]&&u(e[e.length-1]%2==1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(e){return this.encode(e,!0)},c.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},c.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},c.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},c.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},c.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)r=r.dbl();n.push(r)}return{step:e,points:n}},c.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},function(e,t,n){var r=n(826),i=n(833),o=n(834),a=n(321),u=n(468),s=n(38).Buffer;function c(e){var t;"object"!=typeof e||s.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=s.from(e));var n,c,f=o(e,t),l=f.tag,d=f.data;switch(l){case"CERTIFICATE":c=r.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(c||(c=r.PublicKey.decode(d,"der")),n=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return c.subjectPrivateKey=c.subjectPublicKey,{type:"ec",data:c};case"1.2.840.10040.4.1":return c.algorithm.params.pub_key=r.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.params};default:throw new Error("unknown key id "+n)}case"ENCRYPTED PRIVATE KEY":d=function(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[e.algorithm.decrypt.cipher.algo.join(".")],c=e.algorithm.decrypt.cipher.iv,f=e.subjectPrivateKey,l=parseInt(o.split("-")[1],10)/8,d=u.pbkdf2Sync(t,n,r,l,"sha1"),h=a.createDecipheriv(o,d,c),p=[];return p.push(h.update(f)),p.push(h.final()),s.concat(p)}(d=r.EncryptedPrivateKey.decode(d,"der"),t);case"PRIVATE KEY":switch(n=(c=r.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:c.algorithm.curve,privateKey:r.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c.algorithm.params.priv_key=r.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.params};default:throw new Error("unknown key id "+n)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=r.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+l)}}e.exports=c,c.signature=r.signature},function(e,t,n){"use strict";var r=n(143),i=n(69),o=function(e){this.RingRecord0=e},a=function(e){this.Ring0=e},u=new a((function(){return r.ringUnit})),s=new o((function(){return r.ringRecordNil})),c=new a((function(){return r.ringProxy3})),f=new a((function(){return r.ringProxy2})),l=new a((function(){return r.ringProxy})),d=new a((function(){return r.ringNumber})),h=new a((function(){return r.ringInt}));e.exports={CommutativeRing:a,CommutativeRingRecord:o,commutativeRingInt:h,commutativeRingNumber:d,commutativeRingUnit:u,commutativeRingFn:function(e){return new a((function(){return r.ringFn(e.Ring0())}))},commutativeRingRecord:function(e){return function(e){return new a((function(){return r.ringRecord()(e.RingRecord0())}))}},commutativeRingProxy:l,commutativeRingProxy2:f,commutativeRingProxy3:c,commutativeRingRecordNil:s,commutativeRingRecordCons:function(e){return function(t){return function(t){return function(n){return new o((function(){return r.ringRecordCons(e)()(t.RingRecord0())(n.Ring0())}))}}}},Ring:r.Ring,RingRecord:r.RingRecord,Semiring:i.Semiring,add:i.add,mul:i.mul,one:i.one,zero:i.zero}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(15),a=n(40),u=n(13),s=n(2),c=n(90),f=n(28),l=n(16),d=n(20),h=n(69),p=n(18),m=function(e){return e},y=function(e){return new d.Semigroup((function(t){return function(n){return c.conj(e)(t)(n)}}))},v=function(e){return e},g=new s.Functor((function(e){return function(t){return e(t)}})),b=function(e){return e},w=new u.Eq1((function(e){return u.eq(e)})),E=new l.Ord1((function(){return w}),(function(e){return l.compare(e)})),_=new i.Apply((function(){return g}),(function(e){return function(t){return e(t)}})),S=new o.Bind((function(){return _}),(function(e){return function(t){return t(e)}})),T=new r.Applicative((function(){return _}),m),A=new a.Monad((function(){return T}),(function(){return S}));e.exports={Conj:m,eqConj:b,eq1Conj:w,ordConj:v,ord1Conj:E,boundedConj:function(e){return e},showConj:function(e){return new p.Show((function(t){return"(Conj "+p.show(e)(t)+")"}))},functorConj:g,applyConj:_,applicativeConj:T,bindConj:S,monadConj:A,semigroupConj:y,monoidConj:function(e){return new f.Monoid((function(){return y(e)}),c.tt(e))},semiringConj:function(e){return new h.Semiring((function(t){return function(n){return c.conj(e)(t)(n)}}),(function(t){return function(n){return c.disj(e)(t)(n)}}),c.ff(e),c.tt(e))}}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(15),a=n(40),u=n(13),s=n(2),c=n(90),f=n(28),l=n(16),d=n(20),h=n(69),p=n(18),m=function(e){return e},y=function(e){return new d.Semigroup((function(t){return function(n){return c.disj(e)(t)(n)}}))},v=function(e){return e},g=new s.Functor((function(e){return function(t){return e(t)}})),b=function(e){return e},w=new u.Eq1((function(e){return u.eq(e)})),E=new l.Ord1((function(){return w}),(function(e){return l.compare(e)})),_=new i.Apply((function(){return g}),(function(e){return function(t){return e(t)}})),S=new o.Bind((function(){return _}),(function(e){return function(t){return t(e)}})),T=new r.Applicative((function(){return _}),m),A=new a.Monad((function(){return T}),(function(){return S}));e.exports={Disj:m,eqDisj:b,eq1Disj:w,ordDisj:v,ord1Disj:E,boundedDisj:function(e){return e},showDisj:function(e){return new p.Show((function(t){return"(Disj "+p.show(e)(t)+")"}))},functorDisj:g,applyDisj:_,applicativeDisj:T,bindDisj:S,monadDisj:A,semigroupDisj:y,monoidDisj:function(e){return new f.Monoid((function(){return y(e)}),c.ff(e))},semiringDisj:function(e){return new h.Semiring((function(t){return function(n){return c.disj(e)(t)(n)}}),(function(t){return function(n){return c.conj(e)(t)(n)}}),c.tt(e),c.ff(e))}}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(73),a=n(13),u=n(28),s=n(26),c=n(16),f=n(20),l=n(18),d=n(10),h=function(e){return function(t){return new f.Semigroup((function(n){return function(r){return i.lift2(e)(f.append(t))(n)(r)}}))}},p=new s.Newtype((function(){})),m=function(e){return e},y=d.unsafeCoerce,v=d.unsafeCoerce,g=function(e){return function(t){return new a.Eq((function(n){return function(r){return a.eq1(e)(t)(n)(r)}}))}},b=function(e){return function(t){return new c.Ord((function(){return g(e.Eq10())(t.Eq0())}),(function(n){return function(r){return c.compare1(e)(t)(n)(r)}}))}},w=function(e){return new a.Eq1((function(t){return a.eq(g(e)(t))}))},E=function(e){return e};e.exports={App:function(e){return e},hoistApp:function(e){return function(t){return e(t)}},hoistLiftApp:v,hoistLowerApp:y,newtypeApp:p,eqApp:g,eq1App:w,ordApp:b,ord1App:function(e){return new c.Ord1((function(){return w(e.Eq10())}),(function(t){return c.compare(b(e)(t))}))},showApp:function(e){return new l.Show((function(t){return"(App "+l.show(e)(t)+")"}))},semigroupApp:h,monoidApp:function(e){return function(t){return new u.Monoid((function(){return h(e.Apply0())(t.Semigroup0())}),r.pure(e)(u.mempty(t)))}},monadZeroApp:function(e){return new o.MonadZero((function(){return e.Alternative1()}),(function(){return e.Monad0()}),(function(){}))},functorApp:function(e){return e},applyApp:function(e){return e},applicativeApp:function(e){return e},bindApp:function(e){return e},monadApp:m,altApp:function(e){return e},plusApp:function(e){return e},alternativeApp:E,monadPlusApp:function(e){return e},lazyApp:function(e){return e},extendApp:function(e){return e},comonadApp:function(e){return e}}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(46),s=n(13),c=n(2),f=n(259),l=n(26),d=n(16),h=n(18),p=function(e){return e},m=new l.Newtype((function(){})),y=function(e){return function(t){return new c.Functor((function(n){return function(r){return c.map(e)(c.map(t)(n))(r)}}))}},v=function(e){return function(t){return function(n){return new s.Eq((function(r){return function(i){return s.eq1(e)(f.eqApp(t)(n))(f.hoistLiftApp(r))(f.hoistLiftApp(i))}}))}}},g=function(e){return function(t){return function(n){return new d.Ord((function(){return v(e.Eq10())(t.Eq10())(n.Eq0())}),(function(r){return function(i){return d.compare1(e)(f.ordApp(t)(n))(f.hoistLiftApp(r))(f.hoistLiftApp(i))}}))}}},b=function(e){return function(t){return new s.Eq1((function(n){return s.eq(v(e)(t)(n))}))}},w=function(e){return function(t){return new a.Apply((function(){return y(e.Functor0())(t.Functor0())}),(function(n){return function(r){return a.apply(e)(c.map(e.Functor0())(a.apply(t))(n))(r)}}))}},E=function(e){return function(t){return new o.Applicative((function(){return w(e.Apply0())(t.Apply0())}),(n=o.pure(e),r=o.pure(t),function(e){return n(r(e))}));var n,r}},_=function(e){return function(t){return new r.Alt((function(){return y(e.Functor0())(t)}),(function(t){return function(n){return r.alt(e)(t)(n)}}))}},S=function(e){return function(t){return new u.Plus((function(){return _(e.Alt0())(t)}),u.empty(e))}};e.exports={Compose:p,bihoistCompose:function(e){return function(t){return function(n){return function(r){return t(c.map(e)(n)(r))}}}},newtypeCompose:m,eqCompose:v,eq1Compose:b,ordCompose:g,ord1Compose:function(e){return function(t){return new d.Ord1((function(){return b(e.Eq10())(t.Eq10())}),(function(n){return d.compare(g(e)(t)(n))}))}},showCompose:function(e){return new h.Show((function(t){return"(Compose "+h.show(e)(t)+")"}))},functorCompose:y,applyCompose:w,applicativeCompose:E,altCompose:_,plusCompose:S,alternativeCompose:function(e){return function(t){return new i.Alternative((function(){return E(e.Applicative0())(t)}),(function(){return S(e.Plus1())(t.Apply0().Functor0())}))}}}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(504),c=n(106),f=n(505),l=n(262),d=n(506),h=n(46),p=n(41),m=n(2),y=n(260),v=n(877),g=n(5),b=n(26),w=n(878),E=n(24),_=n(58),S=n(112),T=function(e,t,n,r){this.Applicative1=e,this.Monad0=t,this.parallel=n,this.sequential=r},A=function(e){return e},P=function(e){return e.sequential},k=function(e){return e.parallel},x=new b.Newtype((function(){})),C=function(e){return new T((function(){return O(e)}),(function(){return s.monadContT(e.Monad0())}),A,(function(e){return e}))},R=function(e){return new m.Functor((function(t){var n=k(C(e)),r=m.map(s.functorContT(e.Monad0().Bind1().Apply0().Functor0()))(t),i=P(C(e));return function(e){return n(r(i(e)))}}))},I=function(e){return new a.Apply((function(){return R(e)}),(function(t){return function(n){return function(r){return u.bind(e.Monad0().Bind1())(_.liftEffect(e)(S.new(g.Nothing.value)))((function(i){return u.bind(e.Monad0().Bind1())(_.liftEffect(e)(S.new(g.Nothing.value)))((function(o){return u.discard(u.discardUnit)(e.Monad0().Bind1())(s.runContT(t)((function(t){return u.bind(e.Monad0().Bind1())(_.liftEffect(e)(S.read(o)))((function(n){if(n instanceof g.Nothing)return _.liftEffect(e)(S.write(new g.Just(t))(i));if(n instanceof g.Just)return r(t(n.value0));throw new Error("Failed pattern match at Control.Parallel.Class (line 82, column 7 - line 84, column 26): "+[n.constructor.name])}))})))((function(){return s.runContT(n)((function(t){return u.bind(e.Monad0().Bind1())(_.liftEffect(e)(S.read(i)))((function(n){if(n instanceof g.Nothing)return _.liftEffect(e)(S.write(new g.Just(t))(o));if(n instanceof g.Just)return r(n.value0(t));throw new Error("Failed pattern match at Control.Parallel.Class (line 88, column 7 - line 90, column 26): "+[n.constructor.name])}))}))}))}))}))}}}))},O=function(e){return new o.Applicative((function(){return I(e)}),(t=k(C(e)),n=o.pure(s.applicativeContT(e.Monad0().Applicative0())),function(e){return t(n(e))}));var t,n},M=function(e){return new r.Alt((function(){return R(e)}),(function(t){return function(n){return function(r){return u.bind(e.Monad0().Bind1())(_.liftEffect(e)(S.new(!1)))((function(i){return u.discard(u.discardUnit)(e.Monad0().Bind1())(s.runContT(t)((function(t){return u.bind(e.Monad0().Bind1())(_.liftEffect(e)(S.read(i)))((function(n){return n?o.pure(e.Monad0().Applicative0())(E.unit):u.discard(u.discardUnit)(e.Monad0().Bind1())(_.liftEffect(e)(S.write(!0)(i)))((function(){return r(t)}))}))})))((function(){return s.runContT(n)((function(t){return u.bind(e.Monad0().Bind1())(_.liftEffect(e)(S.read(i)))((function(n){return n?o.pure(e.Monad0().Applicative0())(E.unit):u.discard(u.discardUnit)(e.Monad0().Bind1())(_.liftEffect(e)(S.write(!0)(i)))((function(){return r(t)}))}))}))}))}))}}}))},N=function(e){return new h.Plus((function(){return M(e)}),(function(t){return o.pure(e.Monad0().Applicative0())(E.unit)}))};e.exports={parallel:k,sequential:P,Parallel:T,ParCont:A,monadParExceptT:function(e){return new T((function(){return y.applicativeCompose(e.Applicative1())(p.applicativeEither)}),(function(){return c.monadExceptT(e.Monad0())}),(function(t){return k(e)(t)}),(function(t){return P(e)(t)}))},monadParReaderT:function(e){return new T((function(){return l.applicativeReaderT(e.Applicative1())}),(function(){return l.monadReaderT(e.Monad0())}),l.mapReaderT(k(e)),l.mapReaderT(P(e)))},monadParWriterT:function(e){return function(t){return new T((function(){return d.applicativeWriterT(e)(t.Applicative1())}),(function(){return d.monadWriterT(e)(t.Monad0())}),d.mapWriterT(k(t)),d.mapWriterT(P(t)))}},monadParMaybeT:function(e){return new T((function(){return y.applicativeCompose(e.Applicative1())(g.applicativeMaybe)}),(function(){return f.monadMaybeT(e.Monad0())}),(function(t){return k(e)(t)}),(function(t){return P(e)(t)}))},monadParStar:function(e){return new T((function(){return w.applicativeStar(e.Applicative1())}),(function(){return w.monadStar(e.Monad0())}),(function(t){return w.Star((n=k(e),function(e){return n(t(e))}));var n}),(function(t){return w.Star((n=P(e),function(e){return n(t(e))}));var n}))},monadParCostar:function(e){return new T((function(){return v.applicativeCostar}),(function(){return v.monadCostar}),(function(t){return v.Costar((n=P(e),function(e){return t(n(e))}));var n}),(function(t){return v.Costar((n=k(e),function(e){return t(n(e))}));var n}))},newtypeParCont:x,functorParCont:R,applyParCont:I,applicativeParCont:O,altParCont:M,plusParCont:N,alternativeParCont:function(e){return new i.Alternative((function(){return O(e)}),(function(){return N(e)}))},monadParParCont:C}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(40),c=n(186),f=n(100),l=n(126),d=n(74),h=n(92),p=n(75),m=n(161),y=n(93),v=n(73),g=n(46),b=n(263),w=n(23),E=n(2),_=n(28),S=n(26),T=n(20),A=n(58),P=function(e){return e},k=function(e){return function(t){return function(n){return t(e(n))}}},x=new S.Newtype((function(){})),C=new p.MonadTrans((function(e){return function(e){return w.const(e)}})),R=function(e){return function(t){return function(n){return e(t(n))}}},I=function(e){return new E.Functor((t=E.map(e),function(e){return R(t(e))}));var t},O=function(e){return new b.Distributive((function(){return I(e.Functor0())}),(function(t){return function(n){var r=b.distribute(O(e))(t),i=E.map(t)(n);return function(e){return r(i(e))}}}),(function(t){return function(n){return function(r){return b.collect(e)(t)((function(e){return e(r)}))(n)}}}))},M=function(e){return new a.Apply((function(){return I(e.Functor0())}),(function(t){return function(n){return function(r){return a.apply(e)(t(r))(n(r))}}}))},N=function(e){return new u.Bind((function(){return M(e.Apply0())}),(function(t){return function(n){return function(r){return u.bind(e)(t(r))((function(e){return n(e)(r)}))}}}))},D=function(e){return function(t){return new T.Semigroup(a.lift2(M(e))(T.append(t)))}},L=function(e){return new o.Applicative((function(){return M(e.Apply0())}),(t=o.pure(e),function(e){return w.const(t(e))}));var t},j=function(e){return new s.Monad((function(){return L(e.Applicative0())}),(function(){return N(e.Bind1())}))},B=function(e){return new l.MonadAsk((function(){return j(e)}),o.pure(e.Applicative0()))},F=function(e){return new m.MonadTell((function(){return j(e.Monad1())}),e.Semigroup0,(t=p.lift(C)(e.Monad1()),n=m.tell(e),function(e){return t(n(e))}));var t,n},U=function(e){return new f.MonadThrow((function(){return j(e.Monad0())}),(t=p.lift(C)(e.Monad0()),n=f.throwError(e),function(e){return t(n(e))}));var t,n},q=function(e){return new r.Alt((function(){return I(e.Functor0())}),(function(t){return function(n){return function(i){return r.alt(e)(t(i))(n(i))}}}))},H=function(e){return new g.Plus((function(){return q(e.Alt0())}),w.const(g.empty(e)))},K=function(e){return new i.Alternative((function(){return L(e.Applicative0())}),(function(){return H(e.Plus1())}))};e.exports={ReaderT:P,runReaderT:function(e){return e},withReaderT:k,mapReaderT:R,newtypeReaderT:x,functorReaderT:I,applyReaderT:M,applicativeReaderT:L,altReaderT:q,plusReaderT:H,alternativeReaderT:K,bindReaderT:N,monadReaderT:j,monadZeroReaderT:function(e){return new v.MonadZero((function(){return K(e.Alternative1())}),(function(){return j(e.Monad0())}),(function(){}))},semigroupReaderT:D,monoidReaderT:function(e){return function(t){return new _.Monoid((function(){return D(e.Apply0())(t.Semigroup0())}),o.pure(L(e))(_.mempty(t)))}},monadPlusReaderT:function(e){return new y.MonadPlus((function(){return K(e.Alternative1())}),(function(){return j(e.Monad0())}))},monadTransReaderT:C,monadEffectReader:function(e){return new A.MonadEffect((function(){return j(e.Monad0())}),(t=p.lift(C)(e.Monad0()),n=A.liftEffect(e),function(e){return t(n(e))}));var t,n},monadContReaderT:function(e){return new c.MonadCont((function(){return j(e.Monad0())}),(function(t){return function(n){return c.callCC(e)((function(e){return t((function(t){return w.const(e(t))}))(n)}))}}))},monadThrowReaderT:U,monadErrorReaderT:function(e){return new f.MonadError((function(){return U(e.MonadThrow0())}),(function(t){return function(n){return function(r){return f.catchError(e)(t(r))((function(e){return n(e)(r)}))}}}))},monadAskReaderT:B,monadReaderReaderT:function(e){return new l.MonadReader((function(){return B(e)}),k)},monadStateReaderT:function(e){return new h.MonadState((function(){return j(e.Monad0())}),(t=p.lift(C)(e.Monad0()),n=h.state(e),function(e){return t(n(e))}));var t,n},monadTellReaderT:F,monadWriterReaderT:function(e){return new m.MonadWriter((function(){return F(e.MonadTell1())}),e.Monoid0,R(m.listen(e)),R(m.pass(e)))},distributiveReaderT:O,monadRecReaderT:function(e){return new d.MonadRec((function(){return j(e.Monad0())}),(function(t){return function(n){return function(r){return d.tailRecM(e)(function(n){return function(r){var i=t(r);return u.bindFlipped(e.Monad0().Bind1())(o.pure(e.Monad0().Applicative0()))(i(n))}}(r))(n)}}}))},MonadAsk:l.MonadAsk,MonadReader:l.MonadReader,ask:l.ask,asks:l.asks,local:l.local,MonadTrans:p.MonadTrans,lift:p.lift}},function(e,t,n){"use strict";var r=n(25),i=n(2),o=n(91),a=n(26),u=n(29),s=n(24),c=n(876),f=function(e,t,n){this.Functor0=e,this.collect=t,this.distribute=n},l=new f((function(){return o.functorIdentity}),(function(e){return function(t){var n,r=i.map(e)((n=a.unwrap(),function(e){return n(t(e))}));return function(e){return o.Identity(r(e))}}}),(function(e){var t=i.map(e)(a.unwrap());return function(e){return o.Identity(t(e))}})),d=function(e){return e.distribute},h=new f((function(){return i.functorFn}),(function(e){return function(t){var n=d(h)(e),r=i.map(e)(t);return function(e){return n(r(e))}}}),(function(e){return function(t){return function(n){return i.map(e)((function(e){return e(n)}))(t)}}})),p=function(e){return function(t){return function(n){var r=d(e)(t),o=i.map(t)(n);return function(e){return r(o(e))}}}},m=function(e){return new f((function(){return u.functorTuple}),(function(t){return p(m(e))(t)}),(function(t){var n=u.Tuple.create(c.from(e)(s.unit)),r=i.map(t)(u.snd);return function(e){return n(r(e))}}))},y=function(e){return e.collect};e.exports={collect:y,distribute:d,Distributive:f,distributeDefault:function(e){return function(t){return y(e)(t)(r.identity(r.categoryFn))}},collectDefault:p,cotraverse:function(e){return function(t){return function(n){var r=i.map(e.Functor0())(n),o=d(e)(t);return function(e){return r(o(e))}}}},distributiveIdentity:l,distributiveFunction:h,distributiveTuple:m}},function(e,t,n){"use strict";var r=n(880);e.exports={unsafePerformEffect:r.unsafePerformEffect}},function(e,t,n){"use strict";var r,i,o,a,u,s,c,f=n(15),l=n(25),d=n(54),h=n(13),p=n(36),m=n(23),y=n(2),v=n(107),g=n(128),b=n(70),w=n(5),E=n(146),_=n(16),S=n(20),T=n(162),A=n(188),P=n(56),k=n(29),x=n(79),C=n(340),R=function(e){return function(t){return function(n){return new E.NonEmpty(e(t.value0)(n.value0),g.zipWith(e)(t.value1)(n.value1))}}},I=R(k.Tuple.create),O=function(e){return function(t){return function(n){return function(r){var i=t(new b.Cons(n.value0,n.value1))(new b.Cons(r.value0,r.value1));if(i instanceof b.Cons)return new E.NonEmpty(i.value0,i.value1);if(i instanceof b.Nil)return C.unsafeCrashWith("Impossible: empty list in NonEmptyList "+e);throw new Error("Failed pattern match at Data.List.NonEmpty (line 110, column 3 - line 112, column 81): "+[i.constructor.name])}}}},M=function(e){return function(t){return function(n){var r=t(new b.Cons(n.value0,n.value1));if(r instanceof b.Cons)return new E.NonEmpty(r.value0,r.value1);if(r instanceof b.Nil)return C.unsafeCrashWith("Impossible: empty list in NonEmptyList "+e);throw new Error("Failed pattern match at Data.List.NonEmpty (line 97, column 3 - line 99, column 81): "+[r.constructor.name])}}},N=(r=O("unionBy"),function(e){return r(g.unionBy(e))}),D=function(e){return new b.Cons(e.value0,e.value1)},L=(i=M("sortBy"),function(e){return i(g.sortBy(e))}),j=(o=E.singleton(b.plusList),function(e){return b.NonEmptyList(o(e))}),B=M("reverse")(g.reverse),F=(a=M("nubByEq"),function(e){return a(g.nubByEq(e))}),U=(u=M("nubBy"),function(e){return u(g.nubBy(e))}),q=v.mapWithIndex(b.functorWithIndexNonEmptyList),H=function(e){return function(t){return e(new b.Cons(t.value0,t.value1))}},K=(s=O("intersectBy"),function(e){return s(g.intersectBy(e))}),V=(c=M("groupBy"),function(e){return c(g.groupBy(e))}),z=function(e){return M("groupAll")(g.groupAll(e))},W=function(e){if(e instanceof b.Nil)return w.Nothing.value;if(e instanceof b.Cons)return new w.Just(new E.NonEmpty(e.value0,e.value1));throw new Error("Failed pattern match at Data.List.NonEmpty (line 126, column 1 - line 126, column 57): "+[e.constructor.name])},G=function(e){return function(t){var n=g.findLastIndex(e)(t.value1);if(n instanceof w.Just)return new w.Just(n.value0+1|0);if(n instanceof w.Nothing){if(e(t.value0))return new w.Just(0);if(d.otherwise)return w.Nothing.value}throw new Error("Failed pattern match at Data.List.NonEmpty (line 192, column 3 - line 196, column 29): "+[n.constructor.name])}},$=function(e){return function(t){if(e(t.value0))return new w.Just(0);if(d.otherwise)return y.map(w.functorMaybe)((function(e){return e+1|0}))(g.findIndex(e)(t.value1));throw new Error("Failed pattern match at Data.List.NonEmpty (line 185, column 1 - line 185, column 69): "+[e.constructor.name,t.constructor.name])}},J=m.flip(f.bind(b.bindNonEmptyList)),Q=H(g.catMaybes);e.exports={toUnfoldable:function(e){var t=x.unfoldr(e)((function(e){return y.map(w.functorMaybe)((function(e){return new k.Tuple(e.head,e.tail)}))(g.uncons(e))}));return function(e){return t(D(e))}},fromFoldable:function(e){var t=g.fromFoldable(e);return function(e){return W(t(e))}},fromList:W,toList:D,singleton:j,length:function(e){return 1+g.length(e.value1)|0},cons:function(e){return function(t){return new E.NonEmpty(e,new b.Cons(t.value0,t.value1))}},"cons'":function(e){return function(t){return new E.NonEmpty(e,t)}},snoc:function(e){return function(t){return new E.NonEmpty(e.value0,g.snoc(e.value1)(t))}},"snoc'":function(e){return function(t){if(e instanceof b.Cons)return new E.NonEmpty(e.value0,g.snoc(e.value1)(t));if(e instanceof b.Nil)return j(t);throw new Error("Failed pattern match at Data.List.NonEmpty (line 145, column 1 - line 145, column 51): "+[e.constructor.name,t.constructor.name])}},head:function(e){return e.value0},last:function(e){return w.fromMaybe(e.value0)(g.last(e.value1))},tail:function(e){return e.value1},init:function(e){return w.maybe(b.Nil.value)((function(t){return new b.Cons(e.value0,t)}))(g.init(e.value1))},uncons:function(e){return{head:e.value0,tail:e.value1}},unsnoc:function(e){var t=g.unsnoc(e.value1);if(t instanceof w.Nothing)return{init:b.Nil.value,last:e.value0};if(t instanceof w.Just)return{init:new b.Cons(e.value0,t.value0.init),last:t.value0.last};throw new Error("Failed pattern match at Data.List.NonEmpty (line 165, column 35 - line 167, column 50): "+[t.constructor.name])},index:function(e){return function(t){if(0===t)return new w.Just(e.value0);if(d.otherwise)return g.index(e.value1)(t-1|0);throw new Error("Failed pattern match at Data.List.NonEmpty (line 172, column 1 - line 172, column 52): "+[e.constructor.name,t.constructor.name])}},elemIndex:function(e){return function(t){return $((function(n){return h.eq(e)(n)(t)}))}},elemLastIndex:function(e){return function(t){return G((function(n){return h.eq(e)(n)(t)}))}},findIndex:$,findLastIndex:G,insertAt:function(e){return function(t){return function(n){if(0===e)return new w.Just(new E.NonEmpty(t,new b.Cons(n.value0,n.value1)));if(d.otherwise)return y.map(w.functorMaybe)((function(e){return b.NonEmptyList((t=e,new E.NonEmpty(n.value0,t)));var t}))(g.insertAt(e-1|0)(t)(n.value1));throw new Error("Failed pattern match at Data.List.NonEmpty (line 198, column 1 - line 198, column 75): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}},updateAt:function(e){return function(t){return function(n){if(0===e)return new w.Just(new E.NonEmpty(t,n.value1));if(d.otherwise)return y.map(w.functorMaybe)((function(e){return b.NonEmptyList((t=e,new E.NonEmpty(n.value0,t)));var t}))(g.updateAt(e-1|0)(t)(n.value1));throw new Error("Failed pattern match at Data.List.NonEmpty (line 203, column 1 - line 203, column 75): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}},modifyAt:function(e){return function(t){return function(n){if(0===e)return new w.Just(new E.NonEmpty(t(n.value0),n.value1));if(d.otherwise)return y.map(w.functorMaybe)((function(e){return b.NonEmptyList((t=e,new E.NonEmpty(n.value0,t)));var t}))(g.modifyAt(e-1|0)(t)(n.value1));throw new Error("Failed pattern match at Data.List.NonEmpty (line 208, column 1 - line 208, column 82): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}},reverse:B,concat:function(e){return f.bind(b.bindNonEmptyList)(e)(l.identity(l.categoryFn))},concatMap:J,filter:function(e){return H(g.filter(e))},filterM:function(e){var t=g.filterM(e);return function(e){return H(t(e))}},mapMaybe:function(e){return H(g.mapMaybe(e))},catMaybes:Q,appendFoldable:function(e){return function(t){return function(n){return new E.NonEmpty(t.value0,S.append(b.semigroupList)(t.value1)(g.fromFoldable(e)(n)))}}},mapWithIndex:q,sort:function(e){return function(t){return L(_.compare(e))(t)}},sortBy:L,take:function(e){return H(g.take(e))},takeWhile:function(e){return H(g.takeWhile(e))},drop:function(e){return H(g.drop(e))},dropWhile:function(e){return H(g.dropWhile(e))},span:function(e){return H(g.span(e))},group:function(e){return M("group")(g.group(e))},groupAll:z,"group'":function(e){return function(e){return z(e)}},groupBy:V,groupAllBy:function(e){var t=M("groupAllBy"),n=g.groupAllBy(e);return function(e){return t(n(e))}},partition:function(e){return H(g.partition(e))},nub:function(e){return M("nub")(g.nub(e))},nubBy:U,nubEq:function(e){return M("nubEq")(g.nubEq(e))},nubByEq:F,union:function(e){return O("union")(g.union(e))},unionBy:N,intersect:function(e){return O("intersect")(g.intersect(e))},intersectBy:K,zipWith:R,zipWithA:function(e){return function(t){return function(n){return function(r){return A.sequence1(b.traversable1NonEmptyList)(e.Apply0())(R(t)(n)(r))}}}},zip:I,unzip:function(e){return new k.Tuple(y.map(b.functorNonEmptyList)(k.fst)(e),y.map(b.functorNonEmptyList)(k.snd)(e))},foldM:function(e){return function(t){return function(n){return function(r){return f.bind(e.Bind1())(t(n)(r.value0))((function(n){return g.foldM(e)(t)(n)(r.value1)}))}}}},all:p.all,any:p.any,elem:p.elem,find:p.find,findMap:p.findMap,fold:p.fold,foldMap:p.foldMap,foldl:p.foldl,foldr:p.foldr,intercalate:p.intercalate,notElem:p.notElem,NonEmptyList:b.NonEmptyList,fold1:T.fold1,foldMap1:T.foldMap1,for1_:T.for1_,sequence1_:T.sequence1_,traverse1_:T.traverse1_,sequence1:A.sequence1,traverse1:A.traverse1,traverse1Default:A.traverse1Default,scanl:P.scanl,scanr:P.scanr}},function(e,t,n){"use strict";var r,i=n(918),o=n(2),a=n(5),u=n(55),s=n(35),c=n(10),f=c.unsafeCoerce,l=c.unsafeCoerce,d=c.unsafeCoerce,h=c.unsafeCoerce,p=c.unsafeCoerce,m=c.unsafeCoerce,y=(r=o.map(s.functorEffect)(u.toMaybe),function(e){return r(i._offsetParent(e))});e.exports={fromElement:function(e){return i._read(a.Nothing.value,a.Just.create,e)},fromNode:function(e){return i._read(a.Nothing.value,a.Just.create,e)},fromChildNode:function(e){return i._read(a.Nothing.value,a.Just.create,e)},fromNonDocumentTypeChildNode:function(e){return i._read(a.Nothing.value,a.Just.create,e)},fromParentNode:function(e){return i._read(a.Nothing.value,a.Just.create,e)},fromEventTarget:function(e){return i._read(a.Nothing.value,a.Just.create,e)},toElement:p,toNode:d,toChildNode:m,toNonDocumentTypeChildNode:l,toParentNode:f,toEventTarget:h,offsetParent:y,title:i.title,setTitle:i.setTitle,lang:i.lang,setLang:i.setLang,dir:i.dir,setDir:i.setDir,className:i.className,setClassName:i.setClassName,classList:i.classList,hidden:i.hidden,setHidden:i.setHidden,tabIndex:i.tabIndex,setTabIndex:i.setTabIndex,draggable:i.draggable,setDraggable:i.setDraggable,contentEditable:i.contentEditable,setContentEditable:i.setContentEditable,isContentEditable:i.isContentEditable,spellcheck:i.spellcheck,setSpellcheck:i.setSpellcheck,click:i.click,focus:i.focus,blur:i.blur,getBoundingClientRect:i.getBoundingClientRect,offsetTop:i.offsetTop,offsetLeft:i.offsetLeft,offsetWidth:i.offsetWidth,offsetHeight:i.offsetHeight}},function(e,t,n){"use strict";var r=n(1021),i=n(13),o=n(2),a=n(55),u=n(16),s=n(35),c=n(10),f=n(21),l=c.unsafeCoerce,d=f.unsafeReadProtoTagged("Window"),h=new i.Eq((function(e){return function(t){return e===t}})),p=new u.Ord((function(){return h}),(function(e){return function(t){return u.compare(u.ordInt)(e)(t)}})),m=new i.Eq((function(e){return function(t){return e===t}})),y=new u.Ord((function(){return m}),(function(e){return function(t){return u.compare(u.ordInt)(e)(t)}}));e.exports={toEventTarget:l,fromEventTarget:d,open:function(e){return function(t){return function(n){return function(i){return o.map(s.functorEffect)(a.toMaybe)(r._open(e)(t)(n)(i))}}}},prompt:function(e){return function(t){return o.map(s.functorEffect)(a.toMaybe)(r._prompt(e)("")(t))}},promptDefault:function(e){return function(t){return function(n){return o.map(s.functorEffect)(a.toMaybe)(r._prompt(e)(t)(n))}}},opener:function(e){return o.map(s.functorEffect)(a.toMaybe)(r._opener(e))},eqRequestAnimationFrameId:m,ordRequestAnimationFrameId:y,eqRequestIdleCallbackId:h,ordRequestIdleCallbackId:p,document:r.document,navigator:r.navigator,location:r.location,history:r.history,innerWidth:r.innerWidth,innerHeight:r.innerHeight,alert:r.alert,confirm:r.confirm,moveBy:r.moveBy,moveTo:r.moveTo,outerHeight:r.outerHeight,outerWidth:r.outerWidth,print:r.print,resizeBy:r.resizeBy,resizeTo:r.resizeTo,screenX:r.screenX,screenY:r.screenY,scroll:r.scroll,scrollBy:r.scrollBy,scrollX:r.scrollX,scrollY:r.scrollY,localStorage:r.localStorage,sessionStorage:r.sessionStorage,requestAnimationFrame:r.requestAnimationFrame,cancelAnimationFrame:r.cancelAnimationFrame,requestIdleCallback:r.requestIdleCallback,cancelIdleCallback:r.cancelIdleCallback,parent:r.parent}},function(e,t,n){"use strict";var r=n(1032),i=n(11),o=n(19),a=n(15),u=n(40),s=n(74),c=n(2),f=n(24),l=r.modifyImpl,d=new c.Functor(r.map_),h=new u.Monad((function(){return y}),(function(){return p})),p=new a.Bind((function(){return m}),r.bind_),m=new o.Apply((function(){return d}),u.ap(h)),y=new i.Applicative((function(){return m}),r.pure_),v=new s.MonadRec((function(){return h}),(function(e){return function(t){var n=function(e){return e instanceof s.Loop},o=function(e){if(e instanceof s.Done)return e.value0;throw new Error("Failed pattern match at Control.Monad.ST.Internal (line 69, column 32 - line 69, column 46): "+[e.constructor.name])};return a.bind(p)(a.bindFlipped(p)(r.new)(e(t)))((function(t){return a.discard(a.discardUnit)(p)(r.while(c.map(d)(n)(r.read(t)))(a.bind(p)(r.read(t))((function(n){if(n instanceof s.Loop)return a.bind(p)(e(n.value0))((function(e){return c.void(d)(r.write(e)(t))}));if(n instanceof s.Done)return i.pure(y)(f.unit);throw new Error("Failed pattern match at Control.Monad.ST.Internal (line 61, column 18 - line 65, column 28): "+[n.constructor.name])}))))((function(){return c.map(d)(o)(r.read(t))}))}))}}));e.exports={"modify'":l,modify:function(e){return l((function(t){var n=e(t);return{state:n,value:n}}))},functorST:d,applyST:m,applicativeST:y,bindST:p,monadST:h,monadRecST:v,run:r.run,while:r.while,for:r.for,foreach:r.foreach,new:r.new,read:r.read,write:r.write}},function(e,t,n){"use strict";var r=n(78),i=n(345),o=n(2),a=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),u=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),s=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),c=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),f=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),l=new o.Functor((function(e){return function(t){if(t instanceof a)return new a(e(t.value0));if(t instanceof u)return new u(e(t.value0));if(t instanceof s)return new s(t.value0,e(t.value1));if(t instanceof c)return new c(t.value0,e(t.value1));if(t instanceof f)return new f(o.map(i.functorCoyoneda)(e)(t.value0),o.map(o.functorFn)(e)(t.value1));throw new Error("Failed pattern match at Halogen.Query.HalogenQ (line 23, column 1 - line 23, column 73): "+[t.constructor.name])}})),d=new r.Bifunctor((function(e){return function(t){return function(n){if(n instanceof a)return new a(t(n.value0));if(n instanceof u)return new u(t(n.value0));if(n instanceof s)return new s(e(n.value0),t(n.value1));if(n instanceof c)return new c(n.value0,t(n.value1));if(n instanceof f)return new f(o.map(i.functorCoyoneda)(t)(n.value0),o.map(o.functorFn)(t)(n.value1));throw new Error("Failed pattern match at Halogen.Query.HalogenQ (line 16, column 15 - line 21, column 45): "+[n.constructor.name])}}}));e.exports={Initialize:a,Finalize:u,Receive:s,Action:c,Query:f,bifunctorHalogenQ:d,functorHalogenQ:l}},function(e,t,n){"use strict";var r=n(25),i=n(78),o=n(13),a=n(2),u=n(26),s=n(16),c=n(29),f=n(10),l=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),d=function(){function e(e,t,n,r){this.value0=e,this.value1=t,this.value2=n,this.value3=r}return e.create=function(t){return function(n){return function(r){return function(i){return new e(t,n,r,i)}}}},e}(),h=function(){function e(e,t,n,r){this.value0=e,this.value1=t,this.value2=n,this.value3=r}return e.create=function(t){return function(n){return function(r){return function(i){return new e(t,n,r,i)}}}},e}(),p=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),m=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),y=function(){function e(e,t,n){this.value0=e,this.value1=t,this.value2=n}return e.create=function(t){return function(n){return function(r){return new e(t,n,r)}}},e}(),v=function(e){return function(t){return e(t)}},g=s.ordString,b=s.ordString,w=new u.Newtype((function(){})),E=new u.Newtype((function(){})),_=f.unsafeCoerce,S=new a.Functor((function(e){return v((function(t){return _(new y(t.value0,(function(n){return e(t.value1(n))}),t.value2))}))})),T=new a.Functor((function(e){return function(t){return t instanceof l?new l(t.value0):new m(t instanceof m?a.map(S)(e)(t.value0):_(new y(r.identity(r.categoryFn),e,t)))}})),A=o.eqString,P=o.eqString,k=new i.Bifunctor((function(e){return function(t){return v((function(n){return _(new y((function(t){return e(n.value0(t))}),(function(e){return t(n.value1(e))}),n.value2))}))}})),x=new i.Bifunctor((function(e){return function(t){return function(n){return n instanceof l?new l(n.value0):new m(n instanceof m?i.bimap(k)(e)(t)(n.value0):_(new y(e,t,n)))}}})),C=v((function(e){var t=function(n){if(n instanceof l)return new l(n.value0);if(n instanceof d)return new d(n.value0,n.value1,e.value0(n.value2),a.map(a.functorArray)(t)(n.value3));if(n instanceof h)return new h(n.value0,n.value1,e.value0(n.value2),a.map(a.functorArray)(a.map(c.functorTuple)(t))(n.value3));if(n instanceof p)return new p(e.value1(n.value0));if(n instanceof m)return new m(i.bimap(k)(e.value0)(e.value1)(n.value0));throw new Error("Failed pattern match at Halogen.VDom.Types (line 86, column 7 - line 86, column 27): "+[n.constructor.name])};return t(e.value2)})),R=function(e){return function(t){return function(n){if(n instanceof l)return new l(n.value0);if(n instanceof d)return new d(n.value0,n.value1,e(n.value2),a.map(a.functorArray)(R(e)(t))(n.value3));if(n instanceof h)return new h(n.value0,n.value1,e(n.value2),a.map(a.functorArray)(a.map(c.functorTuple)(R(e)(t)))(n.value3));if(n instanceof p)return t(n.value0);if(n instanceof m)return R(e)(t)(C(n.value0));throw new Error("Failed pattern match at Halogen.VDom.Types (line 48, column 20 - line 53, column 48): "+[n.constructor.name])}}};e.exports={Text:l,Elem:d,Keyed:h,Widget:p,Grafted:m,renderWidget:R,Graft:y,graft:_,unGraft:v,runGraft:C,ElemName:function(e){return e},Namespace:function(e){return e},functorVDom:T,bifunctorVDom:x,functorGraft:S,bifunctorGraft:k,newtypeElemName:E,eqElemName:P,ordElemName:b,newtypeNamespace:w,eqNamespace:A,ordNamespace:g}},function(e,t,n){"use strict";var r=n(1055);e.exports={mkFn1:function(e){return e},runFn1:function(e){return e},mkFn0:r.mkFn0,mkFn2:r.mkFn2,mkFn3:r.mkFn3,mkFn4:r.mkFn4,mkFn5:r.mkFn5,mkFn6:r.mkFn6,mkFn7:r.mkFn7,mkFn8:r.mkFn8,mkFn9:r.mkFn9,mkFn10:r.mkFn10,runFn0:r.runFn0,runFn2:r.runFn2,runFn3:r.runFn3,runFn4:r.runFn4,runFn5:r.runFn5,runFn6:r.runFn6,runFn7:r.runFn7,runFn8:r.runFn8,runFn9:r.runFn9,runFn10:r.runFn10}},function(e,t,n){"use strict";e.exports={httpClient:"httpClient",windowIpfs:"windowIpfs",jsIpfs:"jsIpfs",webExt:"webExt"}},function(e,t,n){"use strict";const{URLWithLegacySupport:r,format:i,URLSearchParams:o,defaultBase:a}=n(559),u=n(1092);e.exports={URL:r,URLSearchParams:o,format:i,relative:u,defaultBase:a}},function(e,t,n){"use strict";const{fetch:r,Request:i,Headers:o}=n(1097),{TimeoutError:a,HTTPError:u}=n(561),s=n(57).bind({ignoreUndefined:!0}),{URL:c,URLSearchParams:f}=n(273),{AbortController:l}=n(83),d=n(194),h={throwHttpErrors:!0,credentials:"same-origin"};class p{constructor(e={}){this.opts=s(h,e)}async fetch(e,t={}){const n=s(this.opts,t),h=new o(n.headers);if("string"!=typeof e&&!(e instanceof c||e instanceof i))throw new TypeError("`resource` must be a string, URL, or Request");const p=new c(e.toString(),n.base),{searchParams:v,transformSearchParams:g,json:b}=n;v&&(p.search="function"==typeof g?g(new f(n.searchParams)):new f(n.searchParams)),b&&(n.body=JSON.stringify(n.json),h.set("content-type","application/json"));const w=new l,E=d([w.signal,n.signal]),_=await((e,t,n)=>{if(void 0===t)return e;const r=Date.now(),i=()=>Date.now()-r>=t;return new Promise((r,o)=>{const u=setTimeout(()=>{i()&&(o(new a),n.abort())},t),s=e=>t=>{clearTimeout(u),i()?o(new a):e(t)};e.then(s(r),s(o))})})(r(p.toString(),{...n,signal:E,timeout:void 0,headers:h}),n.timeout,w);if(!_.ok&&n.throwHttpErrors)throw n.handleError&&await n.handleError(_),new u(_);return _.iterator=function(){return y(_.body)},_.ndjson=async function*(){for await(const e of m(_.iterator()))t.transform?yield t.transform(e):yield e},_}post(e,t={}){return this.fetch(e,{...t,method:"POST"})}get(e,t={}){return this.fetch(e,{...t,method:"GET"})}put(e,t={}){return this.fetch(e,{...t,method:"PUT"})}delete(e,t={}){return this.fetch(e,{...t,method:"DELETE"})}options(e,t={}){return this.fetch(e,{...t,method:"OPTIONS"})}}const m=async function*(e){const t=new TextDecoder;let n="";for await(const r of e){n+=t.decode(r,{stream:!0});const e=n.split(/\r?\n/);for(let t=0;t<e.length-1;t++){const n=e[t].trim();n.length>0&&(yield JSON.parse(n))}n=e[e.length-1]}n+=t.decode(),n=n.trim(),0!==n.length&&(yield JSON.parse(n))},y=e=>{if(b(e)){const t=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:t.next.bind(t),return:n=>(e.destroy(),"function"==typeof t.return?t.return():Promise.resolve({done:!0,value:n}))})}}if(g(e)){const t=e.getReader();return async function*(){try{for(;;){const{done:e,value:n}=await t.read();if(e)return;n&&(yield n)}}finally{t.releaseLock()}}()}if(v(e))return e;throw new TypeError("Body can't be converted to AsyncIterable")},v=e=>"object"==typeof e&&null!==e&&"function"==typeof e[Symbol.asyncIterator],g=e=>e&&"function"==typeof e.getReader,b=e=>Object.prototype.hasOwnProperty.call(e,"readable")&&Object.prototype.hasOwnProperty.call(e,"writable");p.HTTPError=u,p.TimeoutError=a,p.streamToAsyncIterator=y,p.post=(e,t)=>new p(t).post(e,t),p.get=(e,t)=>new p(t).get(e,t),p.put=(e,t)=>new p(t).put(e,t),p.delete=(e,t)=>new p(t).delete(e,t),p.options=(e,t)=>new p(t).options(e,t),e.exports=p},function(e,t,n){"use strict";(function(t){const r=n(309),i="object"==typeof window&&"object"==typeof document&&9===document.nodeType,o=r(),a=i&&!o,u=o&&!i,s=o&&i,c=void 0!==t&&void 0!==t.release&&"node"===t.release.name&&!o,f="function"==typeof importScripts&&"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,l=void 0!==t&&void 0!==t.env&&!1,d="undefined"!=typeof navigator&&"ReactNative"===navigator.product;e.exports={isTest:l,isElectron:o,isElectronMain:u,isElectronRenderer:s,isNode:c,isBrowser:a,isWebWorker:f,isEnvWithDom:i,isReactNative:d}}).call(this,n(49))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1101);t.decode=e=>[r.decode(e),r.decode.bytes],t.encodeTo=(e,t,n=0)=>(r.encode(e,t,n),t),t.encodingLength=e=>r.encodingLength(e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(131);const i=r.rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),o=r.rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),a=r.rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),u=r.rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});t.base64=i,t.base64pad=o,t.base64url=a,t.base64urlpad=u},function(e,t,n){var r=n(39);if(n(151),n(279),n(225),n(1122),n(1124),n(169),n(51),void 0===i)var i=r.jsbn.BigInteger;var o=r.util.isNodejs?n(361):null,a=r.asn1,u=r.util;r.pki=r.pki||{},e.exports=r.pki.rsa=r.rsa=r.rsa||{};var s=r.pki,c=[6,4,2,4,2,4,6,2],f={name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},l={name:"RSAPrivateKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},d={name:"RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},h=r.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},p=function(e){var t;if(!(e.algorithm in s.oids)){var n=new Error("Unknown message digest algorithm.");throw n.algorithm=e.algorithm,n}t=s.oids[e.algorithm];var r=a.oidToDer(t).getBytes(),i=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]),o=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[]);o.value.push(a.create(a.Class.UNIVERSAL,a.Type.OID,!1,r)),o.value.push(a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,""));var u=a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(o),i.value.push(u),a.toDer(i).getBytes()},m=function(e,t,n){if(n)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var o;t.dP||(t.dP=t.d.mod(t.p.subtract(i.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(i.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{o=new i(r.util.bytesToHex(r.random.getBytes(t.n.bitLength()/8)),16)}while(o.compareTo(t.n)>=0||!o.gcd(t.n).equals(i.ONE));for(var a=(e=e.multiply(o.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),u=e.mod(t.q).modPow(t.dQ,t.q);a.compareTo(u)<0;)a=a.add(t.p);var s=a.subtract(u).multiply(t.qInv).mod(t.p).multiply(t.q).add(u);return s=s.multiply(o.modInverse(t.n)).mod(t.n)};function y(e,t,n){var i=r.util.createBuffer(),o=Math.ceil(t.n.bitLength()/8);if(e.length>o-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=o-11,a}i.putByte(0),i.putByte(n);var u,s=o-3-e.length;if(0===n||1===n){u=0===n?0:255;for(var c=0;c<s;++c)i.putByte(u)}else for(;s>0;){var f=0,l=r.random.getBytes(s);for(c=0;c<s;++c)0===(u=l.charCodeAt(c))?++f:i.putByte(u);s=f}return i.putByte(0),i.putBytes(e),i}function v(e,t,n,i){var o=Math.ceil(t.n.bitLength()/8),a=r.util.createBuffer(e),u=a.getByte(),s=a.getByte();if(0!==u||n&&0!==s&&1!==s||!n&&2!=s||n&&0===s&&void 0===i)throw new Error("Encryption block is invalid.");var c=0;if(0===s){c=o-3-i;for(var f=0;f<c;++f)if(0!==a.getByte())throw new Error("Encryption block is invalid.")}else if(1===s)for(c=0;a.length()>1;){if(255!==a.getByte()){--a.read;break}++c}else if(2===s)for(c=0;a.length()>1;){if(0===a.getByte()){--a.read;break}++c}if(0!==a.getByte()||c!==o-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function g(e,t,n){"function"==typeof t&&(n=t,t={});var o={algorithm:{name:(t=t||{}).algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};function a(){u(e.pBits,(function(t,r){return t?n(t):(e.p=r,null!==e.q?c(t,e.q):void u(e.qBits,c))}))}function u(e,t){r.prime.generateProbablePrime(e,o,t)}function c(t,r){if(t)return n(t);if(e.q=r,e.p.compareTo(e.q)<0){var o=e.p;e.p=e.q,e.q=o}if(0!==e.p.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.p=null,void a();if(0!==e.q.subtract(i.ONE).gcd(e.e).compareTo(i.ONE))return e.q=null,void u(e.qBits,c);if(e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(i.ONE))return e.p=e.q=null,void a();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void u(e.qBits,c);var f=e.e.modInverse(e.phi);e.keys={privateKey:s.rsa.setPrivateKey(e.n,e.e,f,e.p,e.q,f.mod(e.p1),f.mod(e.q1),e.q.modInverse(e.p)),publicKey:s.rsa.setPublicKey(e.n,e.e)},n(null,e.keys)}"prng"in t&&(o.prng=t.prng),a()}function b(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var n=r.util.hexToBytes(t);return n.length>1&&(0===n.charCodeAt(0)&&0==(128&n.charCodeAt(1))||255===n.charCodeAt(0)&&128==(128&n.charCodeAt(1)))?n.substr(1):n}function w(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function E(e){return r.util.isNodejs&&"function"==typeof o[e]}function _(e){return void 0!==u.globalScope&&"object"==typeof u.globalScope.crypto&&"object"==typeof u.globalScope.crypto.subtle&&"function"==typeof u.globalScope.crypto.subtle[e]}function S(e){return void 0!==u.globalScope&&"object"==typeof u.globalScope.msCrypto&&"object"==typeof u.globalScope.msCrypto.subtle&&"function"==typeof u.globalScope.msCrypto.subtle[e]}function T(e){for(var t=r.util.hexToBytes(e.toString(16)),n=new Uint8Array(t.length),i=0;i<t.length;++i)n[i]=t.charCodeAt(i);return n}s.rsa.encrypt=function(e,t,n){var o,a=n,u=Math.ceil(t.n.bitLength()/8);!1!==n&&!0!==n?(a=2===n,o=y(e,t,n)):(o=r.util.createBuffer()).putBytes(e);for(var s=new i(o.toHex(),16),c=m(s,t,a).toString(16),f=r.util.createBuffer(),l=u-Math.ceil(c.length/2);l>0;)f.putByte(0),--l;return f.putBytes(r.util.hexToBytes(c)),f.getBytes()},s.rsa.decrypt=function(e,t,n,o){var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var u=new Error("Encrypted message length is invalid.");throw u.length=e.length,u.expected=a,u}var s=new i(r.util.createBuffer(e).toHex(),16);if(s.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var c=m(s,t,n).toString(16),f=r.util.createBuffer(),l=a-Math.ceil(c.length/2);l>0;)f.putByte(0),--l;return f.putBytes(r.util.hexToBytes(c)),!1!==o?v(f.getBytes(),t,n):f.getBytes()},s.rsa.createKeyPairGenerationState=function(e,t,n){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048;var o,a=(n=n||{}).prng||r.random,u={nextBytes:function(e){for(var t=a.getBytesSync(e.length),n=0;n<e.length;++n)e[n]=t.charCodeAt(n)}},s=n.algorithm||"PRIMEINC";if("PRIMEINC"!==s)throw new Error("Invalid key generation algorithm: "+s);return(o={algorithm:s,state:0,bits:e,rng:u,eInt:t||65537,e:new i(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(o.eInt),o},s.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var n=new i(null);n.fromInt(30);for(var r,o=0,a=function(e,t){return e|t},u=+new Date,f=0;null===e.keys&&(t<=0||f<t);){if(0===e.state){var l=null===e.p?e.pBits:e.qBits,d=l-1;0===e.pqState?(e.num=new i(l,e.rng),e.num.testBit(d)||e.num.bitwiseTo(i.ONE.shiftLeft(d),a,e.num),e.num.dAddOffset(31-e.num.mod(n).byteValue(),0),o=0,++e.pqState):1===e.pqState?e.num.bitLength()>l?e.pqState=0:e.num.isProbablePrime(w(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(c[o++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(i.ONE).gcd(e.e).compareTo(i.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(i.ONE),e.q1=e.q.subtract(i.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(i.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var h=e.e.modInverse(e.phi);e.keys={privateKey:s.rsa.setPrivateKey(e.n,e.e,h,e.p,e.q,h.mod(e.p1),h.mod(e.q1),e.q.modInverse(e.p)),publicKey:s.rsa.setPublicKey(e.n,e.e)}}f+=(r=+new Date)-u,u=r}return null!==e.keys},s.rsa.generateKeyPair=function(e,t,n,i){if(1===arguments.length?"object"==typeof e?(n=e,e=void 0):"function"==typeof e&&(i=e,e=void 0):2===arguments.length?"number"==typeof e?"function"==typeof t?(i=t,t=void 0):"number"!=typeof t&&(n=t,t=void 0):(n=e,i=t,e=void 0,t=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof n&&(i=n,n=void 0):(i=n,n=t,t=void 0)),n=n||{},void 0===e&&(e=n.bits||2048),void 0===t&&(t=n.e||65537),!r.options.usePureJavaScript&&!n.prng&&e>=256&&e<=16384&&(65537===t||3===t))if(i){if(E("generateKeyPair"))return o.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},(function(e,t,n){if(e)return i(e);i(null,{privateKey:s.privateKeyFromPem(n),publicKey:s.publicKeyFromPem(t)})}));if(_("generateKey")&&_("exportKey"))return u.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:T(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(e){return u.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)})).then(void 0,(function(e){i(e)})).then((function(e){if(e){var t=s.privateKeyFromAsn1(a.fromDer(r.util.createBuffer(e)));i(null,{privateKey:t,publicKey:s.setRsaPublicKey(t.n,t.e)})}}));if(S("generateKey")&&S("exportKey")){var c=u.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:T(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return c.oncomplete=function(e){var t=e.target.result,n=u.globalScope.msCrypto.subtle.exportKey("pkcs8",t.privateKey);n.oncomplete=function(e){var t=e.target.result,n=s.privateKeyFromAsn1(a.fromDer(r.util.createBuffer(t)));i(null,{privateKey:n,publicKey:s.setRsaPublicKey(n.n,n.e)})},n.onerror=function(e){i(e)}},void(c.onerror=function(e){i(e)})}}else if(E("generateKeyPairSync")){var f=o.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:s.privateKeyFromPem(f.privateKey),publicKey:s.publicKeyFromPem(f.publicKey)}}var l=s.rsa.createKeyPairGenerationState(e,t,n);if(!i)return s.rsa.stepKeyPairGenerationState(l,0),l.keys;g(l,n,i)},s.setRsaPublicKey=s.rsa.setPublicKey=function(e,t){var n={n:e,e:t,encrypt:function(e,t,i){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,n){return y(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return r.pkcs1.encode_rsa_oaep(t,e,i)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var o=t.encode(e,n,!0);return s.rsa.encrypt(o,n,!0)},verify:function(e,t,r){"string"==typeof r?r=r.toUpperCase():void 0===r&&(r="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===r?r={verify:function(e,t){return t=v(t,n,!0),e===a.fromDer(t).value[1].value}}:"NONE"!==r&&"NULL"!==r&&null!==r||(r={verify:function(e,t){return e===(t=v(t,n,!0))}});var i=s.rsa.decrypt(t,n,!0,!1);return r.verify(e,i,n.n.bitLength())}};return n},s.setRsaPrivateKey=s.rsa.setPrivateKey=function(e,t,n,i,o,a,u,c){var f={n:e,e:t,d:n,p:i,q:o,dP:a,dQ:u,qInv:c,decrypt:function(e,t,n){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var i=s.rsa.decrypt(e,f,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:v};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return r.pkcs1.decode_rsa_oaep(t,e,n)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(i,f,!1)},sign:function(e,t){var n=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:p},n=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},n=1);var r=t.encode(e,f.n.bitLength());return s.rsa.encrypt(r,f,n)}};return f},s.wrapRsaPrivateKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,a.toDer(e).getBytes())])},s.privateKeyFromAsn1=function(e){var t,n,o,u,c,d,h,p,m={},y=[];if(a.validate(e,f,m,y)&&(e=a.fromDer(r.util.createBuffer(m.privateKey))),m={},y=[],!a.validate(e,l,m,y)){var v=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw v.errors=y,v}return t=r.util.createBuffer(m.privateKeyModulus).toHex(),n=r.util.createBuffer(m.privateKeyPublicExponent).toHex(),o=r.util.createBuffer(m.privateKeyPrivateExponent).toHex(),u=r.util.createBuffer(m.privateKeyPrime1).toHex(),c=r.util.createBuffer(m.privateKeyPrime2).toHex(),d=r.util.createBuffer(m.privateKeyExponent1).toHex(),h=r.util.createBuffer(m.privateKeyExponent2).toHex(),p=r.util.createBuffer(m.privateKeyCoefficient).toHex(),s.setRsaPrivateKey(new i(t,16),new i(n,16),new i(o,16),new i(u,16),new i(c,16),new i(d,16),new i(h,16),new i(p,16))},s.privateKeyToAsn1=s.privateKeyToRSAPrivateKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,a.integerToDer(0).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.e)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.d)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.p)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.q)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.dP)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.dQ)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.qInv))])},s.publicKeyFromAsn1=function(e){var t={},n=[];if(a.validate(e,h,t,n)){var o,u=a.derToOid(t.publicKeyOid);if(u!==s.oids.rsaEncryption)throw(o=new Error("Cannot read public key. Unknown OID.")).oid=u,o;e=t.rsaPublicKey}if(n=[],!a.validate(e,d,t,n))throw(o=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=n,o;var c=r.util.createBuffer(t.publicKeyModulus).toHex(),f=r.util.createBuffer(t.publicKeyExponent).toHex();return s.setRsaPublicKey(new i(c,16),new i(f,16))},s.publicKeyToAsn1=s.publicKeyToSubjectPublicKeyInfo=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(s.oids.rsaEncryption).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")]),a.create(a.Class.UNIVERSAL,a.Type.BITSTRING,!1,[s.publicKeyToRSAPublicKey(e)])])},s.publicKeyToRSAPublicKey=function(e){return a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.n)),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,b(e.e))])}},function(e,t,n){var r,i=n(39);e.exports=i.jsbn=i.jsbn||{};function o(e,t,n){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function a(){return new o(null)}function u(e,t,n,r,i,o){for(var a=16383&t,u=t>>14;--o>=0;){var s=16383&this.data[e],c=this.data[e++]>>14,f=u*s+c*a;i=((s=a*s+((16383&f)<<14)+n.data[r]+i)>>28)+(f>>14)+u*c,n.data[r++]=268435455&s}return i}i.jsbn.BigInteger=o,"undefined"==typeof navigator?(o.prototype.am=u,r=28):"Microsoft Internet Explorer"==navigator.appName?(o.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,u=t>>15;--o>=0;){var s=32767&this.data[e],c=this.data[e++]>>15,f=u*s+c*a;i=((s=a*s+((32767&f)<<15)+n.data[r]+(1073741823&i))>>>30)+(f>>>15)+u*c+(i>>>30),n.data[r++]=1073741823&s}return i},r=30):"Netscape"!=navigator.appName?(o.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this.data[e++]+n.data[r]+i;i=Math.floor(a/67108864),n.data[r++]=67108863&a}return i},r=26):(o.prototype.am=u,r=28),o.prototype.DB=r,o.prototype.DM=(1<<r)-1,o.prototype.DV=1<<r;o.prototype.FV=Math.pow(2,52),o.prototype.F1=52-r,o.prototype.F2=2*r-52;var s,c,f=new Array;for(s="0".charCodeAt(0),c=0;c<=9;++c)f[s++]=c;for(s="a".charCodeAt(0),c=10;c<36;++c)f[s++]=c;for(s="A".charCodeAt(0),c=10;c<36;++c)f[s++]=c;function l(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function d(e,t){var n=f[e.charCodeAt(t)];return null==n?-1:n}function h(e){var t=a();return t.fromInt(e),t}function p(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function m(e){this.m=e}function y(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function v(e,t){return e&t}function g(e,t){return e|t}function b(e,t){return e^t}function w(e,t){return e&~t}function E(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function _(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function S(){}function T(e){return e}function A(e){this.r2=a(),this.q3=a(),o.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}m.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},m.prototype.revert=function(e){return e},m.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},m.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},m.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},y.prototype.convert=function(e){var t=a();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(o.ZERO)>0&&this.m.subTo(t,t),t},y.prototype.revert=function(e){var t=a();return e.copyTo(t),this.reduce(t),t},y.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e.data[t],r=n*this.mpl+((n*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e.data[n]+=this.m.am(0,r,e,t,0,this.m.t);e.data[n]>=e.DV;)e.data[n]-=e.DV,e.data[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},y.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},y.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},o.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},o.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},o.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,a=0;--r>=0;){var u=8==n?255&e[r]:d(e,r);u<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==a?this.data[this.t++]=u:a+n>this.DB?(this.data[this.t-1]|=(u&(1<<this.DB-a)-1)<<a,this.data[this.t++]=u>>this.DB-a):this.data[this.t-1]|=u<<a,(a+=n)>=this.DB&&(a-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&o.ZERO.subTo(this,this)},o.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},o.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t.data[n+e]=this.data[n];for(n=e-1;n>=0;--n)t.data[n]=0;t.t=this.t+e,t.s=this.s},o.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t.data[n-e]=this.data[n];t.t=Math.max(this.t-e,0),t.s=this.s},o.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),u=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t.data[n+a+1]=this.data[n]>>i|u,u=(this.data[n]&o)<<r;for(n=a-1;n>=0;--n)t.data[n]=0;t.data[a]=u,t.t=this.t+a+1,t.s=this.s,t.clamp()},o.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t.data[0]=this.data[n]>>r;for(var a=n+1;a<this.t;++a)t.data[a-n-1]|=(this.data[a]&o)<<i,t.data[a-n]=this.data[a]>>r;r>0&&(t.data[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},o.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this.data[n]-e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t.data[n++]=this.DV+r:r>0&&(t.data[n++]=r),t.t=n,t.clamp()},o.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t.data[i]=0;for(i=0;i<r.t;++i)t.data[i+n.t]=n.am(0,r.data[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&o.ZERO.subTo(t,t)},o.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e.data[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t.data[n],e,2*n,0,1);(e.data[n+t.t]+=t.am(n+1,2*t.data[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e.data[n+t.t]-=t.DV,e.data[n+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(n,t.data[n],e,2*n,0,1)),e.s=0,e.clamp()},o.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=a());var u=a(),s=this.s,c=e.s,f=this.DB-p(r.data[r.t-1]);f>0?(r.lShiftTo(f,u),i.lShiftTo(f,n)):(r.copyTo(u),i.copyTo(n));var l=u.t,d=u.data[l-1];if(0!=d){var h=d*(1<<this.F1)+(l>1?u.data[l-2]>>this.F2:0),m=this.FV/h,y=(1<<this.F1)/h,v=1<<this.F2,g=n.t,b=g-l,w=null==t?a():t;for(u.dlShiftTo(b,w),n.compareTo(w)>=0&&(n.data[n.t++]=1,n.subTo(w,n)),o.ONE.dlShiftTo(l,w),w.subTo(u,u);u.t<l;)u.data[u.t++]=0;for(;--b>=0;){var E=n.data[--g]==d?this.DM:Math.floor(n.data[g]*m+(n.data[g-1]+v)*y);if((n.data[g]+=u.am(0,E,n,b,0,l))<E)for(u.dlShiftTo(b,w),n.subTo(w,n);n.data[g]<--E;)n.subTo(w,n)}null!=t&&(n.drShiftTo(l,t),s!=c&&o.ZERO.subTo(t,t)),n.t=l,n.clamp(),f>0&&n.rShiftTo(f,n),s<0&&o.ZERO.subTo(n,n)}}},o.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},o.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},o.prototype.exp=function(e,t){if(e>4294967295||e<1)return o.ONE;var n=a(),r=a(),i=t.convert(this),u=p(e)-1;for(i.copyTo(n);--u>=0;)if(t.sqrTo(n,r),(e&1<<u)>0)t.mulTo(r,i,n);else{var s=n;n=r,r=s}return t.revert(n)},o.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,u=this.DB-a*this.DB%t;if(a-- >0)for(u<this.DB&&(n=this.data[a]>>u)>0&&(i=!0,o=l(n));a>=0;)u<t?(n=(this.data[a]&(1<<u)-1)<<t-u,n|=this.data[--a]>>(u+=this.DB-t)):(n=this.data[a]>>(u-=t)&r,u<=0&&(u+=this.DB,--a)),n>0&&(i=!0),i&&(o+=l(n));return i?o:"0"},o.prototype.negate=function(){var e=a();return o.ZERO.subTo(this,e),e},o.prototype.abs=function(){return this.s<0?this.negate():this},o.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this.data[n]-e.data[n]))return t;return 0},o.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+p(this.data[this.t-1]^this.s&this.DM)},o.prototype.mod=function(e){var t=a();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(o.ZERO)>0&&e.subTo(t,t),t},o.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new m(t):new y(t),this.exp(e,n)},o.ZERO=h(0),o.ONE=h(1),S.prototype.convert=T,S.prototype.revert=T,S.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},S.prototype.sqrTo=function(e,t){e.squareTo(t)},A.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=a();return e.copyTo(t),this.reduce(t),t},A.prototype.revert=function(e){return e},A.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},A.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},A.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var P=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],k=(1<<26)/P[P.length-1];o.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},o.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=h(n),i=a(),o=a(),u="";for(this.divRemTo(r,i,o);i.signum()>0;)u=(n+o.intValue()).toString(e).substr(1)+u,i.divRemTo(r,i,o);return o.intValue().toString(e)+u},o.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,a=0,u=0,s=0;s<e.length;++s){var c=d(e,s);c<0?"-"==e.charAt(s)&&0==this.signum()&&(i=!0):(u=t*u+c,++a>=n&&(this.dMultiply(r),this.dAddOffset(u,0),a=0,u=0))}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(u,0)),i&&o.ZERO.subTo(this,this)},o.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(o.ONE.shiftLeft(e-1),g,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(o.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},o.prototype.bitwiseTo=function(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n.data[r]=t(this.data[r],e.data[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n.data[r]=t(this.data[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n.data[r]=t(i,e.data[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},o.prototype.changeBit=function(e,t){var n=o.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},o.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this.data[n]+e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e.data[n],t.data[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t.data[n++]=r:r<-1&&(t.data[n++]=this.DV+r),t.t=n,t.clamp()},o.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},o.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},o.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n.data[--i]=0;for(r=n.t-this.t;i<r;++i)n.data[i+this.t]=this.am(0,e.data[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e.data[i],n,i,0,t-i);n.clamp()},o.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n.data[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n.data[this.t+r-t]=this.am(t-r,e.data[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},o.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this.data[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this.data[r])%e;return n},o.prototype.millerRabin=function(e){var t=this.subtract(o.ONE),n=t.getLowestSetBit();if(n<=0)return!1;for(var r,i=t.shiftRight(n),a={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}},u=0;u<e;++u){do{r=new o(this.bitLength(),a)}while(r.compareTo(o.ONE)<=0||r.compareTo(t)>=0);var s=r.modPow(i,this);if(0!=s.compareTo(o.ONE)&&0!=s.compareTo(t)){for(var c=1;c++<n&&0!=s.compareTo(t);)if(0==(s=s.modPowInt(2,this)).compareTo(o.ONE))return!1;if(0!=s.compareTo(t))return!1}}return!0},o.prototype.clone=function(){var e=a();return this.copyTo(e),e},o.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},o.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},o.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},o.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},o.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},o.prototype.equals=function(e){return 0==this.compareTo(e)},o.prototype.min=function(e){return this.compareTo(e)<0?this:e},o.prototype.max=function(e){return this.compareTo(e)>0?this:e},o.prototype.and=function(e){var t=a();return this.bitwiseTo(e,v,t),t},o.prototype.or=function(e){var t=a();return this.bitwiseTo(e,g,t),t},o.prototype.xor=function(e){var t=a();return this.bitwiseTo(e,b,t),t},o.prototype.andNot=function(e){var t=a();return this.bitwiseTo(e,w,t),t},o.prototype.not=function(){for(var e=a(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},o.prototype.shiftLeft=function(e){var t=a();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},o.prototype.shiftRight=function(e){var t=a();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},o.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+E(this.data[e]);return this.s<0?this.t*this.DB:-1},o.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=_(this.data[n]^t);return e},o.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},o.prototype.setBit=function(e){return this.changeBit(e,g)},o.prototype.clearBit=function(e){return this.changeBit(e,w)},o.prototype.flipBit=function(e){return this.changeBit(e,b)},o.prototype.add=function(e){var t=a();return this.addTo(e,t),t},o.prototype.subtract=function(e){var t=a();return this.subTo(e,t),t},o.prototype.multiply=function(e){var t=a();return this.multiplyTo(e,t),t},o.prototype.divide=function(e){var t=a();return this.divRemTo(e,t,null),t},o.prototype.remainder=function(e){var t=a();return this.divRemTo(e,null,t),t},o.prototype.divideAndRemainder=function(e){var t=a(),n=a();return this.divRemTo(e,t,n),new Array(t,n)},o.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),o=h(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new m(t):t.isEven()?new A(t):new y(t);var u=new Array,s=3,c=n-1,f=(1<<n)-1;if(u[1]=r.convert(this),n>1){var l=a();for(r.sqrTo(u[1],l);s<=f;)u[s]=a(),r.mulTo(l,u[s-2],u[s]),s+=2}var d,v,g=e.t-1,b=!0,w=a();for(i=p(e.data[g])-1;g>=0;){for(i>=c?d=e.data[g]>>i-c&f:(d=(e.data[g]&(1<<i+1)-1)<<c-i,g>0&&(d|=e.data[g-1]>>this.DB+i-c)),s=n;0==(1&d);)d>>=1,--s;if((i-=s)<0&&(i+=this.DB,--g),b)u[d].copyTo(o),b=!1;else{for(;s>1;)r.sqrTo(o,w),r.sqrTo(w,o),s-=2;s>0?r.sqrTo(o,w):(v=o,o=w,w=v),r.mulTo(w,u[d],o)}for(;g>=0&&0==(e.data[g]&1<<i);)r.sqrTo(o,w),v=o,o=w,w=v,--i<0&&(i=this.DB-1,--g)}return r.revert(o)},o.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return o.ZERO;for(var n=e.clone(),r=this.clone(),i=h(1),a=h(0),u=h(0),s=h(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&a.isEven()||(i.addTo(this,i),a.subTo(e,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;r.isEven();)r.rShiftTo(1,r),t?(u.isEven()&&s.isEven()||(u.addTo(this,u),s.subTo(e,s)),u.rShiftTo(1,u)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(u,i),a.subTo(s,a)):(r.subTo(n,r),t&&u.subTo(i,u),s.subTo(a,s))}return 0!=r.compareTo(o.ONE)?o.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s},o.prototype.pow=function(e){return this.exp(e,new S)},o.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},o.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n.data[0]<=P[P.length-1]){for(t=0;t<P.length;++t)if(n.data[0]==P[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<P.length;){for(var r=P[t],i=t+1;i<P.length&&r<k;)r*=P[i++];for(r=n.modInt(r);t<i;)if(r%P[t++]==0)return!1}return n.millerRabin(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1125),i=n(1126),o=n(1127),a=n(1128),u=n(563),s=n(85),c=n(562),f=n(64),l=n(277),d=n(65),h=n(152),p=n(102),m=n(363);n(170);var y=n(12),v=n(281),g=n(84),b=n(276),w=n(130);const E={...r,...i,...o,...a,...u,...s,...c,...f,...l},_={...d,...h},S={raw:p,json:m};t.CID=y.CID,t.hasher=v,t.digest=g,t.varint=b,t.bytes=w,t.bases=E,t.codecs=S,t.hashes=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84);class i{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}async digest(e){if(e instanceof Uint8Array){const t=await this.encode(e);return r.create(this.code,t)}throw Error("Unknown type, must be binary type")}}t.Hasher=i,t.from=({name:e,code:t,encode:n})=>new i(e,t,n)},function(e,t,n){"use strict";t.get=(e=self)=>{const t=e.crypto||e.msCrypto;if(!t||!t.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return t}},function(e,t,n){"use strict";const r=n(1133),i=n(4);e.exports=function(e){if(isNaN(e)||e<=0)throw i(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return r(e)}},function(e,t,n){"use strict";const r=n(576);e.exports=function(e,t="utf8"){const n=r[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)}},function(e,t,n){"use strict";function r(e){if("number"==typeof e){if(r.codes[e])return r.codes[e];throw new Error("no protocol with code: "+e)}if("string"==typeof e){if(r.names[e])return r.names[e];throw new Error("no protocol with name: "+e)}throw new Error("invalid protocol id type: "+e)}const i=-1;function o(e,t,n,r,i){return{code:e,size:t,name:n,resolvable:Boolean(r),path:Boolean(i)}}r.lengthPrefixedVarSize=i,r.V=i,r.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,i,"ip6zone"],[53,i,"dns","resolvable"],[54,i,"dns4","resolvable"],[55,i,"dns6","resolvable"],[56,i,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,i,"unix",!1,"path"],[421,i,"ipfs"],[421,i,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,i,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,i,"memory"]],r.names={},r.codes={},r.table.map(e=>{const t=o.apply(null,e);return r.codes[t.code]=t,r.names[t.name]=t,null}),r.object=o,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1169),i=n(1172),o=n(104);t.encode=r.encode,t.decode=i.decode,t.Token=o.Token,t.Type=o.Type},function(e,t,n){"use strict";n.r(t);let r=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/giu;function i(e="",t="ms"){var n=null;return(e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2")).replace(r,(function(e,t,r){(r=o(r))&&(n=(n||0)+parseFloat(t,10)*r)})),n&&n/(o(t)||1)}function o(e){return i[e]||i[e.toLowerCase().replace(/s$/,"")]}i.nanosecond=i.ns=1e-6,i["µs"]=i["μs"]=i.us=i.microsecond=.001,i.millisecond=i.ms=i[""]=1,i.second=i.sec=i.s=1e3*i.ms,i.minute=i.min=i.m=60*i.s,i.hour=i.hr=i.h=60*i.m,i.day=i.d=24*i.h,i.week=i.wk=i.w=7*i.d,i.month=i.b=30.4375*i.d,i.year=i.yr=i.y=365.25*i.d,t.default=i},function(e,t,n){"use strict";const{CID:r}=n(12),i=n(4);e.exports=e=>{if(e instanceof Uint8Array)try{e=r.decode(e)}catch(e){throw i(e,"ERR_INVALID_CID")}if(e instanceof r)return{cid:e,path:void 0};e.startsWith("/ipfs/")&&(e=e.substring("/ipfs/".length));const t=e.split("/");let n,o;try{n=r.parse(t.shift()||"")}catch(e){throw i(e,"ERR_INVALID_CID")}return t.length&&(o="/"+t.join("/")),{cid:n,path:o}}},function(e,t){e.exports=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),r=Object.create(null);function i(i,o){n[i]=o,++t>=e&&(t=0,r=n,n=Object.create(null))}return{has:function(e){return void 0!==n[e]||void 0!==r[e]},remove:function(e){void 0!==n[e]&&(n[e]=void 0),void 0!==r[e]&&(r[e]=void 0)},get:function(e){var t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(i(e,t),t):void 0},set:function(e,t){void 0!==n[e]?n[e]=t:i(e,t)},clear:function(){n=Object.create(null),r=Object.create(null)}}}},function(e,t,n){"use strict";const{Adapter:r}=n(47),i=n(117),{pipe:o}=n(66);e.exports=class extends r{constructor(e,t){super(),this.child=e,this.transform=t}open(){return this.child.open()}put(e,t,n){return this.child.put(this.transform.convert(e),t,n)}get(e,t){return this.child.get(this.transform.convert(e),t)}has(e,t){return this.child.has(this.transform.convert(e),t)}delete(e,t){return this.child.delete(this.transform.convert(e),t)}async*putMany(e,t={}){const n=this.transform,r=this.child;yield*o(e,(async function*(e){yield*i(e,({key:e,value:t})=>({key:n.convert(e),value:t}))}),(async function*(e){yield*r.putMany(e,t)}),(async function*(e){yield*i(e,({key:e,value:t})=>({key:n.invert(e),value:t}))}))}async*getMany(e,t={}){const n=this.transform,r=this.child;yield*o(e,(async function*(e){yield*i(e,e=>n.convert(e))}),(async function*(e){yield*r.getMany(e,t)}))}async*deleteMany(e,t={}){const n=this.transform,r=this.child;yield*o(e,(async function*(e){yield*i(e,e=>n.convert(e))}),(async function*(e){yield*r.deleteMany(e,t)}),(async function*(e){yield*i(e,e=>n.invert(e))}))}batch(){const e=this.child.batch();return{put:(t,n)=>{e.put(this.transform.convert(t),n)},delete:t=>{e.delete(this.transform.convert(t))},commit:t=>e.commit(t)}}query(e,t){return i(this.child.query(e,t),({key:e,value:t})=>({key:this.transform.invert(e),value:t}))}queryKeys(e,t){return i(this.child.queryKeys(e,t),e=>this.transform.invert(e))}close(){return this.child.close()}}},function(e,t,n){e.exports=function(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}},function(e,t,n){"use strict";e.exports=async function*(e,t={}){const n=e.getReader();try{for(;;){const e=await n.read();if(e.done)return;yield e.value}}finally{!0!==t.preventCancel&&n.cancel(),n.releaseLock()}}},function(e,t,n){"use strict";e.exports=function(e){const[t,n]=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],r=[];return{peek:()=>t.next(),push:e=>{r.push(e)},next:()=>r.length?{done:!1,value:r.shift()}:t.next(),[n](){return this}}}},function(e,t,n){const{Multiaddr:r}=n(30),i=(e,t)=>t,o={ip4:i,ip6:(e,t,n,r)=>1===r.length&&"ip6"===r[0].protocol?t:`[${t}]`,tcp:(e,t,n,r,i)=>r.some(e=>["http","https","ws","wss"].includes(e.protocol))?`${e}:${t}`:((e,t,n,r)=>{if(r&&!1===r.assumeHttp)return`tcp://${e}:${t}`;let i="tcp",o=":"+t;return"tcp"===n[n.length-1].protocol&&(i="443"===t?"https":"http",o="443"===t||"80"===t?"":o),`${i}://${e}${o}`})(e,t,r,i),udp:(e,t)=>`udp://${e}:${t}`,dnsaddr:i,dns4:i,dns6:i,ipfs:(e,t)=>`${e}/ipfs/${t}`,p2p:(e,t)=>`${e}/p2p/${t}`,http:e=>"http://"+e,https:e=>"https://"+e,ws:e=>"ws://"+e,wss:e=>"wss://"+e,"p2p-websocket-star":e=>e+"/p2p-websocket-star","p2p-webrtc-star":e=>e+"/p2p-webrtc-star","p2p-webrtc-direct":e=>e+"/p2p-webrtc-direct"};e.exports=(e,t)=>{const n=new r(e),i=e.toString().split("/").slice(1);return n.tuples().map(e=>({protocol:i.shift(),content:e[1]?i.shift():null})).reduce((e,n,r,i)=>{const a=o[n.protocol];if(!a)throw new Error("Unsupported protocol "+n.protocol);return a(e,n.content,r,i,t)},"")}},function(e,t,n){"use strict";const r=n(57).bind({ignoreUndefined:!0}),i=n(156),{exporter:o}=n(118),a=n(6)("ipfs:mfs:stat"),u=n(4),s=n(17),c=n(42),f={withLocal:!1};e.exports=e=>s((async function(t,n={}){n=r(f,n),a("Fetching stats for "+t);const{type:s,cid:c,mfsPath:d}=await i(e,t,n),h="ipfs"===s&&c?c:d;let p;try{p=await o(h,e.repo.blocks)}catch(e){if("ERR_NOT_FOUND"===e.code)throw u(new Error(t+" does not exist"),"ERR_NOT_FOUND");throw e}if(!l[p.type])throw new Error("Cannot stat codec "+p.cid.code);return l[p.type](p)}));const l={raw:e=>({cid:e.cid,size:e.node.length,cumulativeSize:e.node.length,blocks:0,type:"file",local:void 0,sizeLocal:void 0,withLocality:!1}),file:e=>{const t={cid:e.cid,type:"file",size:e.unixfs.fileSize(),cumulativeSize:c.encode(e.node).length+(e.node.Links||[]).reduce((e,t)=>e+(t.Tsize||0),0),blocks:e.unixfs.blockSizes.length,local:void 0,sizeLocal:void 0,withLocality:!1,mode:e.unixfs.mode};return e.unixfs.mtime&&(t.mtime=e.unixfs.mtime),t},directory:e=>{const t={cid:e.cid,type:"directory",size:0,cumulativeSize:c.encode(e.node).length+(e.node.Links||[]).reduce((e,t)=>e+(t.Tsize||0),0),blocks:e.node.Links.length,local:void 0,sizeLocal:void 0,withLocality:!1,mode:e.unixfs.mode};return e.unixfs.mtime&&(t.mtime=e.unixfs.mtime),t},object:e=>({cid:e.cid,size:e.node.length,cumulativeSize:e.node.length,type:"file",blocks:0,local:void 0,sizeLocal:void 0,withLocality:!1}),identity:e=>({cid:e.cid,size:e.node.length,cumulativeSize:e.node.length,blocks:0,type:"file",local:void 0,sizeLocal:void 0,withLocality:!1})}},function(e,t,n){"use strict";t.getCallback=function(e,t){return"function"==typeof e?e:t},t.getOptions=function(e){return"object"==typeof e&&null!==e?e:{}}},function(e,t,n){"use strict";const r=n(4),i=n(172),o=n(44),a=n(358),u=n(31),s=n(103),c=n(96),{codes:f}=n(71),{Envelope:l}=n(1422);class d{constructor({peerId:e,payloadType:t,payload:n,signature:r}){this.peerId=e,this.payloadType=t,this.payload=n,this.signature=r,this._marshal=void 0}marshal(){if(this._marshal)return this._marshal;const e=a.marshalPublicKey(this.peerId.pubKey);return this._marshal=l.encode({publicKey:e,payloadType:this.payloadType,payload:this.payload,signature:this.signature}).finish(),this._marshal}equals(e){return c(this.peerId.pubKey.bytes,e.peerId.pubKey.bytes)&&c(this.payloadType,e.payloadType)&&c(this.payload,e.payload)&&c(this.signature,e.signature)}validate(e){const t=h(e,this.payloadType,this.payload);return this.peerId.pubKey.verify(t,this.signature)}}const h=(e,t,n)=>{const r=o(e),a=s.encode(r.byteLength),u=s.encode(t.length),c=s.encode(n.length);return i([new Uint8Array(a),r,new Uint8Array(u),t,new Uint8Array(c),n])};d.createFromProtobuf=async e=>{const t=l.decode(e),n=await u.createFromPubKey(t.publicKey);return new d({peerId:n,payloadType:t.payloadType,payload:t.payload,signature:t.signature})},d.seal=async(e,t)=>{const n=e.domain,r=e.codec,i=e.marshal(),o=h(n,r,i),a=await t.privKey.sign(o);return new d({peerId:t,payloadType:r,payload:i,signature:a})},d.openAndCertify=async(e,t)=>{const n=await d.createFromProtobuf(e);if(!await n.validate(t))throw r(new Error("envelope signature is not valid for the given domain"),f.ERR_SIGNATURE_NOT_VALID);return n},e.exports=d},function(e,t){e.exports=e=>{if(e[Symbol.asyncIterator])return e;if(e.getReader)return async function*(){const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)return;yield n}}finally{t.releaseLock()}}();throw new Error("unknown stream")}},function(e,t,n){"use strict";e.exports={relay:"/libp2p/circuit/relay/0.1.0"}},function(e,t,n){"use strict";const r=n(4),i=n(31),{codes:{ERR_INVALID_PARAMETERS:o}}=n(71),a=e=>e;e.exports=class{constructor({peerStore:e,eventName:t,eventProperty:n,eventTransformer:r=a}){this._ps=e,this.eventName=t,this.eventProperty=n,this.eventTransformer=r,this.data=new Map}set(e,t){throw r(new Error("set must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}_setData(e,t,{emit:n=!0}={}){const r=e.toB58String();this.data.set(r,t),n&&this._emit(e,t)}_emit(e,t){this._ps.emit(this.eventName,{peerId:e,[this.eventProperty]:this.eventTransformer(t)})}get(e){if(!i.isPeerId(e))throw r(new Error("peerId must be an instance of peer-id"),o);const t=this.data.get(e.toB58String());return t?[...t]:void 0}delete(e){if(!i.isPeerId(e))throw r(new Error("peerId must be an instance of peer-id"),o);return!!this.data.delete(e.toB58String())&&(this._emit(e,[]),!0)}}},function(e,t){e.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1696);function i(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function o(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function a(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function u(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function s(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function c(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function f(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function l(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function d(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),f(e/4294967296>>>0,t,n),f(e>>>0,t,n+4),t}function h(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),l(e>>>0,t,n),l(e/4294967296>>>0,t,n+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=i,t.writeInt16BE=i,t.writeUint16LE=o,t.writeInt16LE=o,t.readInt32BE=a,t.readUint32BE=u,t.readInt32LE=s,t.readUint32LE=c,t.writeUint32BE=f,t.writeInt32BE=f,t.writeUint32LE=l,t.writeInt32LE=l,t.readInt64BE=function(e,t){void 0===t&&(t=0);var n=a(e,t),r=a(e,t+4);return 4294967296*n+r-4294967296*(r>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*u(e,t)+u(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var n=s(e,t);return 4294967296*s(e,t+4)+n-4294967296*(n>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var n=c(e,t);return 4294967296*c(e,t+4)+n},t.writeUint64BE=d,t.writeInt64BE=d,t.writeUint64LE=h,t.writeInt64LE=h,t.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,i=1,o=e/8+n-1;o>=n;o--)r+=t[o]*i,i*=256;return r},t.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,i=1,o=n;o<n+e/8;o++)r+=t[o]*i,i*=256;return r},t.writeUintBE=function(e,t,n,i){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var o=1,a=e/8+i-1;a>=i;a--)n[a]=t/o&255,o*=256;return n},t.writeUintLE=function(e,t,n,i){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var o=1,a=i;a<i+e/8;a++)n[a]=t/o&255,o*=256;return n},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},t.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},t.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},t.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode2=t.decode1=t.decode0=t.encode2=t.encode1=t.encode0=t.uint16BEDecode=t.uint16BEEncode=void 0;const r=n(27);t.uint16BEEncode=(e,t,n)=>((t=t||r.Buffer.allocUnsafe(2)).writeUInt16BE(e,n),t),t.uint16BEEncode.bytes=2;t.uint16BEDecode=e=>{if(e.length<2)throw RangeError("Could not decode int16BE");return e.readUInt16BE(0)},t.uint16BEDecode.bytes=2,t.encode0=function(e){return r.Buffer.concat([e.ne,e.ciphertext])},t.encode1=function(e){return r.Buffer.concat([e.ne,e.ns,e.ciphertext])},t.encode2=function(e){return r.Buffer.concat([e.ns,e.ciphertext])},t.decode0=function(e){if(e.length<32)throw new Error("Cannot decode stage 0 MessageBuffer: length less than 32 bytes.");return{ne:e.slice(0,32),ciphertext:e.slice(32,e.length),ns:r.Buffer.alloc(0)}},t.decode1=function(e){if(e.length<80)throw new Error("Cannot decode stage 1 MessageBuffer: length less than 80 bytes.");return{ne:e.slice(0,32),ns:e.slice(32,80),ciphertext:e.slice(80,e.length)}},t.decode2=function(e){if(e.length<48)throw new Error("Cannot decode stage 2 MessageBuffer: length less than 48 bytes.");return{ne:r.Buffer.alloc(0),ns:e.slice(0,48),ciphertext:e.slice(48,e.length)}}},function(e,t,n){"use strict";const r=n(1753),{base58btc:i}=n(64);class o{constructor(e){this.set=new Map,this._stats=e}get length(){return this.set.size}add(e,t,o){const a=n(244),u=e.toString(i),s=this.set.get(u);s?(s.inc(),s.priority=t,s.wantType===a.WantType.Have&&o===a.WantType.Block&&(s.wantType=o)):(this.set.set(u,new r(e,t,o)),this._stats&&this._stats.push(null,"wantListSize",1))}remove(e){const t=e.toString(i),n=this.set.get(t);n&&(n.dec(),n.hasRefs()||(this.set.delete(t),this._stats&&this._stats.push(null,"wantListSize",-1)))}removeForce(e){this.set.has(e)&&this.set.delete(e)}forEach(e){return this.set.forEach(e)}entries(){return this.set.entries()}sortedEntries(){return new Map((e=e=>e[1].key,t=Array.from(this.set.entries()),Array.prototype.slice.call(t,0).sort((t,n)=>{const r=e(t),i=e(n);return r<i?-1:r>i?1:0})));var e,t}contains(e){const t=e.toString(i);return this.set.has(t)}get(e){const t=e.toString(i);return this.set.get(t)}}o.Entry=r,e.exports=o},function(e,t,n){"use strict";e.exports={maxProvidersPerRequest:3,providerRequestTimeout:1e4,hasBlockTimeout:15e3,provideTimeout:15e3,kMaxPriority:Math.pow(2,31)-1,maxListeners:1e3,wantlistSendDebounceMs:1}},function(e,t,n){"use strict";n.r(t),n.d(t,"addRxPlugin",(function(){return ai})),n.d(t,"createRxDatabase",(function(){return Zr})),n.d(t,"removeRxDatabase",(function(){return ei})),n.d(t,"isRxDatabase",(function(){return ni})),n.d(t,"dbCount",(function(){return ri})),n.d(t,"_collectionNamePrimary",(function(){return Gr})),n.d(t,"isRxCollection",(function(){return sr})),n.d(t,"RxCollectionBase",(function(){return or})),n.d(t,"createRxCollection",(function(){return ur})),n.d(t,"_handleFromStorageInstance",(function(){return He})),n.d(t,"_handleToStorageInstance",(function(){return qe})),n.d(t,"fillObjectDataBeforeInsert",(function(){return Ke})),n.d(t,"isRxDocument",(function(){return Ye})),n.d(t,"getDocumentOrmPrototype",(function(){return Kt})),n.d(t,"getDocumentPrototype",(function(){return Ut})),n.d(t,"isRxQuery",(function(){return qn})),n.d(t,"isRxSchema",(function(){return ut})),n.d(t,"createRxSchema",(function(){return at})),n.d(t,"RxSchema",(function(){return Xe})),n.d(t,"getIndexes",(function(){return Ze})),n.d(t,"normalize",(function(){return it})),n.d(t,"getFinalFields",(function(){return rt})),n.d(t,"getPreviousVersions",(function(){return nt})),n.d(t,"getPseudoSchemaForVersion",(function(){return Ve})),n.d(t,"getSchemaByObjectPath",(function(){return ze})),n.d(t,"findLocalDocument",(function(){return Ne})),n.d(t,"getSingleDocument",(function(){return Te})),n.d(t,"getNewestSequence",(function(){return Le})),n.d(t,"getAllDocuments",(function(){return _e})),n.d(t,"writeSingleLocal",(function(){return Oe})),n.d(t,"writeSingle",(function(){return Re})),n.d(t,"countAllUndeleted",(function(){return Pe})),n.d(t,"getBatch",(function(){return xe})),n.d(t,"_clearHook",(function(){return S})),n.d(t,"createCrypter",(function(){return ct})),n.d(t,"QueryCache",(function(){return An})),n.d(t,"createQueryCache",(function(){return Pn})),n.d(t,"uncacheRxQuery",(function(){return kn})),n.d(t,"countRxQuerySubscribers",(function(){return xn})),n.d(t,"DEFAULT_TRY_TO_KEEP_MAX",(function(){return Cn})),n.d(t,"DEFAULT_UNEXECUTED_LIFETME",(function(){return Rn})),n.d(t,"defaultCacheReplacementPolicyMonad",(function(){return In})),n.d(t,"defaultCacheReplacementPolicy",(function(){return On})),n.d(t,"COLLECTIONS_WITH_RUNNING_CLEANUP",(function(){return Mn})),n.d(t,"triggerCacheReplacement",(function(){return Nn})),n.d(t,"pluginMissing",(function(){return c.t})),n.d(t,"fastUnsecureHash",(function(){return c.h})),n.d(t,"RXDB_HASH_SALT",(function(){return c.b})),n.d(t,"hash",(function(){return c.m})),n.d(t,"now",(function(){return c.r})),n.d(t,"nextTick",(function(){return c.q})),n.d(t,"promiseWait",(function(){return c.v})),n.d(t,"toPromise",(function(){return c.D})),n.d(t,"requestIdlePromise",(function(){return c.z})),n.d(t,"promiseSeries",(function(){return c.u})),n.d(t,"requestIdleCallbackIfAvailable",(function(){return c.y})),n.d(t,"ucfirst",(function(){return c.F})),n.d(t,"trimDots",(function(){return c.E})),n.d(t,"ensureNotFalsy",(function(){return c.g})),n.d(t,"sortObject",(function(){return c.B})),n.d(t,"stringifyFilter",(function(){return c.C})),n.d(t,"randomCouchString",(function(){return c.w})),n.d(t,"RANDOM_STRING",(function(){return c.a})),n.d(t,"lastOfArray",(function(){return c.p})),n.d(t,"shuffleArray",(function(){return c.A})),n.d(t,"removeOneFromArrayIfMatches",(function(){return c.x})),n.d(t,"adapterObject",(function(){return c.c})),n.d(t,"clone",(function(){return c.e})),n.d(t,"flatClone",(function(){return c.i})),n.d(t,"isElectronRenderer",(function(){return c.n})),n.d(t,"flattenObject",(function(){return c.j})),n.d(t,"getHeightOfRevision",(function(){return c.l})),n.d(t,"createRevision",(function(){return c.f})),n.d(t,"overwriteGetterForCaching",(function(){return c.s})),n.d(t,"isFolderPath",(function(){return c.o})),n.d(t,"getFromMapOrThrow",(function(){return c.k})),n.d(t,"blobBufferUtil",(function(){return c.d})),n.d(t,"isLevelDown",(function(){return Ts})),n.d(t,"pouchReplicationFunction",(function(){return As})),n.d(t,"isInstanceOf",(function(){return Ps})),n.d(t,"addPouchPlugin",(function(){return ks})),n.d(t,"PouchDB",(function(){return xs})),n.d(t,"POUCHDB_LOCAL_PREFIX",(function(){return Cs})),n.d(t,"POUCHDB_DESIGN_PREFIX",(function(){return Rs})),n.d(t,"OPEN_POUCHDB_STORAGE_INSTANCES",(function(){return Is})),n.d(t,"RxStorageKeyObjectInstancePouch",(function(){return Os})),n.d(t,"RxStorageInstancePouch",(function(){return Ms})),n.d(t,"RxStoragePouch",(function(){return Ns})),n.d(t,"writeAttachmentsToAttachments",(function(){return Ds})),n.d(t,"checkPouchAdapter",(function(){return js})),n.d(t,"pouchHash",(function(){return Bs})),n.d(t,"pouchSwapIdToPrimary",(function(){return Fs})),n.d(t,"pouchDocumentDataToRxDocumentData",(function(){return Us})),n.d(t,"rxDocumentDataToPouchDocumentData",(function(){return qs})),n.d(t,"pouchSwapPrimaryToId",(function(){return Hs})),n.d(t,"pouchStripLocalFlagFromPrimary",(function(){return Ks})),n.d(t,"getEventKey",(function(){return Vs})),n.d(t,"pouchChangeRowToChangeEvent",(function(){return zs})),n.d(t,"pouchChangeRowToChangeStreamEvent",(function(){return Ws})),n.d(t,"primarySwapPouchDbQuerySelector",(function(){return Gs})),n.d(t,"createIndexesOnPouch",(function(){return $s})),n.d(t,"getPouchLocation",(function(){return Qs})),n.d(t,"getRxStoragePouch",(function(){return Ys})),n.d(t,"POUCHDB_LOCATION",(function(){return Xs})),n.d(t,"checkAdapter",(function(){return Zs})),n.d(t,"EVENT_EMITTER_BY_POUCH_INSTANCE",(function(){return ws})),n.d(t,"getCustomEventEmitterByPouch",(function(){return Es})),n.d(t,"addCustomEventsPluginToPouch",(function(){return Ss}));n(712),n(713),n(714),n(715),n(716);var r=n(109),i=n.n(r),o=n(207),a=n.n(o),u=n(52),s=n.n(u),c=n(0),f=n(179),l=n.n(f),d=n(426),h=n.n(d),p={isDevMode:function(){return!1},deepFreezeWhenDevMode:function(e){return e},validatePassword:function(e){throw Object(c.t)("encryption")},tunnelErrorMessage:function(e){return"RxDB Error-Code "+e+".\n        - To find out what this means, use the dev-mode-plugin https://pubkey.github.io/rxdb/custom-build.html#dev-mode\n        - Or search for this code https://github.com/pubkey/rxdb/search?q="+e+"\n        "}};function m(e,t,n){return"RxError ("+t+"):\n"+e+"\n"+function(e){var t="";return 0===Object.keys(e).length?t:(t+="Given parameters: {\n",t+=Object.keys(e).map((function(t){var n="[object Object]";try{n=JSON.stringify(e[t],(function(e,t){return void 0===t?null:t}),2)}catch(e){}return t+":"+n})).join("\n"),t+="}")}(n)}var y=function(e){function t(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=m(n,t,i);return(r=e.call(this,o)||this).code=t,r.message=o,r.parameters=i,r.rxdb=!0,r}return l()(t,e),t.prototype.toString=function(){return this.message},i()(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}]),t}(h()(Error)),v=function(e){function t(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=m(n,t,i);return(r=e.call(this,o)||this).code=t,r.message=o,r.parameters=i,r.rxdb=!0,r}return l()(t,e),t.prototype.toString=function(){return this.message},i()(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}]),t}(h()(TypeError));function g(e,t){return new y(e,p.tunnelErrorMessage(e),t)}function b(e,t){return new v(e,p.tunnelErrorMessage(e),t)}var w={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],postDestroyRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],createRxQuery:[],preQueryMatcher:[],preSortComparator:[],prePrepareQuery:[],preWriteToStorageInstance:[],postReadFromInstance:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[]};function E(e,t){w[e].forEach((function(e){return e(t)}))}function _(e,t){return Promise.all(w[e].map((function(e){return e(t)})))}function S(e,t){w[e]=w[e].filter((function(e){return e!==t}))}var T=n(14),A=n.n(T),P=n(1),k=n.n(P),x=function(e,t){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}x(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function R(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))}function I(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}Object.create;function O(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function M(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function N(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function D(e){return this instanceof D?(this.v=e,this):new D(e)}function L(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||u(e,t)}))})}function u(e,t){try{(n=i[e](t)).value instanceof D?Promise.resolve(n.value.v).then(s,c):f(o[0][2],n)}catch(e){f(o[0][3],e)}var n}function s(e){u("next",e)}function c(e){u("throw",e)}function f(e,t){e(t),o.shift(),o.length&&u(o[0][0],o[0][1])}}function j(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=O(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}Object.create;function B(e){return"function"==typeof e}function F(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var U=F((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function q(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var H=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=O(o),u=a.next();!u.done;u=a.next()){u.value.remove(this)}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var s=this.initialTeardown;if(B(s))try{s()}catch(e){i=e instanceof U?e.errors:[e]}var c=this._teardowns;if(c){this._teardowns=null;try{for(var f=O(c),l=f.next();!l.done;l=f.next()){var d=l.value;try{z(d)}catch(e){i=null!=i?i:[],e instanceof U?i=N(N([],M(i)),M(e.errors)):i.push(e)}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}}if(i)throw new U(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)z(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&q(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&q(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),K=H.EMPTY;function V(e){return e instanceof H||e&&"closed"in e&&B(e.remove)&&B(e.add)&&B(e.unsubscribe)}function z(e){B(e)?e():e.unsubscribe()}var W={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},G={setTimeout:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=G.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,N([],M(e)))},clearTimeout:function(e){var t=G.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function $(e){G.setTimeout((function(){var t=W.onUnhandledError;if(!t)throw e;t(e)}))}function J(){}var Q=Y("C",void 0,void 0);function Y(e,t,n){return{kind:e,value:t,error:n}}var X=null;function Z(e){if(W.useDeprecatedSynchronousErrorHandling){var t=!X;if(t&&(X={errorThrown:!1,error:null}),e(),t){var n=X,r=n.errorThrown,i=n.error;if(X=null,r)throw i}}else e()}function ee(e){W.useDeprecatedSynchronousErrorHandling&&X&&(X.errorThrown=!0,X.error=e)}var te=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,V(t)&&t.add(n)):n.destination=ae,n}return C(t,e),t.create=function(e,t,n){return new ne(e,t,n)},t.prototype.next=function(e){this.isStopped?oe(function(e){return Y("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?oe(Y("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?oe(Q,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(H),ne=function(e){function t(t,n,r){var i,o=e.call(this)||this;if(B(t))i=t;else if(t){var a;i=t.next,n=t.error,r=t.complete,o&&W.useDeprecatedNextContext?(a=Object.create(t)).unsubscribe=function(){return o.unsubscribe()}:a=t,i=null==i?void 0:i.bind(a),n=null==n?void 0:n.bind(a),r=null==r?void 0:r.bind(a)}return o.destination={next:i?re(i,o):J,error:re(null!=n?n:ie,o),complete:r?re(r,o):J},o}return C(t,e),t}(te);function re(e,t){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{e.apply(void 0,N([],M(t)))}catch(e){W.useDeprecatedSynchronousErrorHandling?ee(e):$(e)}}}function ie(e){throw e}function oe(e,t){var n=W.onStoppedNotification;n&&G.setTimeout((function(){return n(e,t)}))}var ae={closed:!0,next:J,error:ie,complete:J},ue="function"==typeof Symbol&&Symbol.observable||"@@observable";function se(e){return e}function ce(e){return 0===e.length?se:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var fe=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,i=this,o=(r=e)&&r instanceof te||function(e){return e&&B(e.next)&&B(e.error)&&B(e.complete)}(r)&&V(r)?e:new ne(e,t,n);return Z((function(){var e=i,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?i._subscribe(o):i._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=le(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(e){r(e),null==i||i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[ue]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?ce(e)(this):this},e.prototype.toPromise=function(e){var t=this;return new(e=le(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function le(e){var t;return null!==(t=null!=e?e:W.Promise)&&void 0!==t?t:Promise}var de=F((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),he=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return C(t,e),t.prototype.lift=function(e){var t=new pe(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new de},t.prototype.next=function(e){var t=this;Z((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){var i=t.observers.slice();try{for(var o=O(i),a=o.next();!a.done;a=o.next()){a.value.next(e)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Z((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Z((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this.hasError,n=this.isStopped,r=this.observers;return t||n?K:(r.push(e),new H((function(){return q(r,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,n=this.thrownError,r=this.isStopped;t?e.error(n):r&&e.complete()},t.prototype.asObservable=function(){var e=new fe;return e.source=this,e},t.create=function(e,t){return new pe(e,t)},t}(fe),pe=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return C(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:K},t}(he),me=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return C(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,n=this._value;if(e)throw t;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(he);function ye(e){return function(t){if(function(e){return B(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var ve=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.onFinalize=o,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return C(t,e),t.prototype.unsubscribe=function(){var t,n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))},t}(te);function ge(e,t){return ye((function(n,r){var i=0;n.subscribe(new ve(r,(function(n){r.next(e.call(t,n,i++))})))}))}function be(e,t){return void 0===t&&(t=se),e=null!=e?e:we,ye((function(n,r){var i,o=!0;n.subscribe(new ve(r,(function(n){var a=t(n);!o&&e(i,a)||(o=!1,i=a,r.next(n))})))}))}function we(e,t){return e===t}function Ee(e){return e.documentData?e.documentData:e.previousDocumentData}function _e(e){return Se.apply(this,arguments)}function Se(){return(Se=A()(k.a.mark((function e(t){var n,r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.prepareQuery({selector:{}}),e.next=3,t.query(n);case 3:return r=e.sent,i=r.documents,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e,t){return Ae.apply(this,arguments)}function Ae(){return(Ae=A()(k.a.mark((function e(t,n){var r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findDocumentsById([n],!1);case 2:if(r=e.sent,!(i=r.get(n))){e.next=8;break}return e.abrupt("return",i);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e){return ke.apply(this,arguments)}function ke(){return(ke=A()(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(t);case 2:return n=e.sent,e.abrupt("return",n.length);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=A()(k.a.mark((function e(t,n){var r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n<=1)){e.next=2;break}throw g("P1",{limit:n});case 2:return r=t.prepareQuery({selector:{},limit:n}),e.next=5,t.query(r);case 5:return i=e.sent,e.abrupt("return",i.documents);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e,t){return Ie.apply(this,arguments)}function Ie(){return(Ie=A()(k.a.mark((function e(t,n){var r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.bulkWrite([n]);case 2:if(!((r=e.sent).error.size>0)){e.next=8;break}throw r.error.values().next().value;case 8:return i=r.success.values().next().value,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,t){return Me.apply(this,arguments)}function Me(){return(Me=A()(k.a.mark((function e(t,n){var r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.bulkWrite([n]);case 2:if(!((r=e.sent).error.size>0)){e.next=8;break}throw r.error.values().next().value;case 8:return i=r.success.values().next().value,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e,t){return De.apply(this,arguments)}function De(){return(De=A()(k.a.mark((function e(t,n){var r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findLocalDocumentsById([n]);case 2:if(r=e.sent,i=r.get(n)){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(e){return je.apply(this,arguments)}function je(){return(je=A()(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getChangedDocuments({order:"desc",limit:1,startSequence:0});case 2:return n=e.sent,e.abrupt("return",n.lastSequence);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(e,t,n,r){var i,o;if("DELETE"!==t.change.operation)if(r){var a={collection:r,doc:t.change.doc};E("postReadFromInstance",a),i=a.doc,i=r._crypter.decrypt(i)}else i=t.change.doc;if("INSERT"!==t.change.operation)if(r){var u={collection:r,doc:t.change.previous};E("postReadFromInstance",u),o=u.doc,o=r._crypter.decrypt(o)}else o=t.change.previous;return{eventId:t.eventId,documentId:t.documentId,databaseToken:n.token,collectionName:r?r.name:void 0,startTime:t.startTime,endTime:t.endTime,isLocal:e,operation:t.change.operation,documentData:p.deepFreezeWhenDevMode(i),previousDocumentData:p.deepFreezeWhenDevMode(o)}}function Fe(e,t){return Ue.apply(this,arguments)}function Ue(){return(Ue=A()(k.a.mark((function e(t,n){var r,i,o,a,u=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=u.length>2&&void 0!==u[2]&&u[2],i={previous:n.previous?qe(t,Object(c.i)(n.previous)):void 0,document:qe(t,Object(c.i)(n.document))};case 2:return e.prev=3,e.next=6,t.database.lockedRun((function(){return Re(t.storageInstance,i)}));case 6:return o=e.sent,a=He(t,o),e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(3),e.delegateYield(k.a.mark((function o(){var a,u,s;return k.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(a=e.t0,u=a.documentId,!r||409!==a.status){o.next=11;break}return o.next=5,t.database.lockedRun((function(){return Te(t.storageInstance,u)}));case 5:if(s=o.sent){o.next=8;break}throw g("SNH",{args:{writeRow:n}});case 8:i.previous=s,o.next=16;break;case 11:if(409!==a.status){o.next=15;break}throw g("COL19",{id:u,pouchDbError:a,data:n});case 15:throw a;case 16:case"end":return o.stop()}}),o)}))(),"t1",14);case 14:e.next=2;break;case 16:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}function qe(e,t){p.isDevMode()&&e.schema.fillPrimaryKey(t),t=e._crypter.encrypt(t);var n={collection:e,doc:t};return E("preWriteToStorageInstance",n),n.doc}function He(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={collection:e,doc:t};return E("postReadFromInstance",r),n?r.doc:e._crypter.decrypt(r.doc)}function Ke(e,t){var n=e.schema.fillObjectWithDefaults(t);return n=e.schema.fillPrimaryKey(n)}function Ve(e,t){var n;return{version:e,type:"object",primaryKey:t,properties:(n={},n[t]={type:"string"},n),required:[t]}}function ze(e,t){var n=t;return n="properties."+(n=n.replace(/\./g,".properties.")),n=Object(c.E)(n),s.a.get(e,n)}var We,Ge={get _data(){if(this.isInstanceOfRxDocument)return this._dataSync$.getValue()},get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){if(this.isInstanceOfRxDocument)return this._data[this.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this._isDeleted$.asObservable()},get deleted(){if(this.isInstanceOfRxDocument)return this._isDeleted$.getValue()},get $(){return this._dataSync$.asObservable()},_handleChangeEvent:function(e){if(e.documentId===this.primary){var t=Ee(e),n=Object(c.l)(t._rev);if(!(Object(c.l)(this._data._rev)>n))switch(e.operation){case"INSERT":break;case"UPDATE":var r=e.documentData;this._dataSync$.next(r);break;case"DELETE":this.collection._docCache.delete(this.primary),this._isDeleted$.next(!0)}}},$emit:function(e){return this.collection.$emit(e)},get$:function(e){if(e.includes(".item."))throw g("DOC1",{path:e});if(e===this.primaryPath)throw g("DOC2");if(this.collection.schema.finalFields.includes(e))throw g("DOC3",{path:e});if(!ze(this.collection.schema.jsonSchema,e))throw g("DOC4",{path:e});return this._dataSync$.pipe(ge((function(t){return s.a.get(t,e)})),be())},populate:function(e){var t=ze(this.collection.schema.jsonSchema,e),n=this.get(e);if(!n)return Promise.resolve(null);if(!t)throw g("DOC5",{path:e});if(!t.ref)throw g("DOC6",{path:e,schemaObj:t});var r=this.collection.database.collections[t.ref];if(!r)throw g("DOC7",{ref:t.ref,path:e,schemaObj:t});return"array"===t.type?r.findByIds(n).then((function(e){var t=e.values();return Array.from(t)})):r.findOne(n).exec()},get:function(e){if(this._data){var t=s.a.get(this._data,e);return"object"!=typeof t||Array.isArray(t)?p.deepFreezeWhenDevMode(t):(t=Object(c.e)(t),Je(this.collection.schema,t,e,this),t)}},toJSON:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return p.deepFreezeWhenDevMode(this._data);var t=Object(c.i)(this._data);return delete t._rev,delete t._attachments,p.deepFreezeWhenDevMode(t)},set:function(e,t){if(!this._isTemporary)throw b("DOC16",{objPath:e,value:t});if("string"!=typeof e)throw b("DOC15",{objPath:e,value:t});if(!Object.is(this.get(e),t)){var n=e.split(".");n.pop();var r=n.join(".");if(void 0===s.a.get(this._data,r))throw g("DOC10",{childpath:e,rootPath:r});return s.a.set(this._data,e,t),this}},update:function(e){throw Object(c.t)("update")},putAttachment:function(){throw Object(c.t)("attachments")},getAttachment:function(){throw Object(c.t)("attachments")},allAttachments:function(){throw Object(c.t)("attachments")},get allAttachments$(){throw Object(c.t)("attachments")},atomicUpdate:function(e){var t=this;return new Promise((function(n,r){t._atomicQueue=t._atomicQueue.then(A()(k.a.mark((function i(){var o,a,u;return k.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:o=!1;case 1:if(o){i.next=24;break}return a=t._dataSync$.getValue(),i.prev=3,i.next=6,e(Object(c.e)(t._dataSync$.getValue()),t);case 6:return u=i.sent,t.collection&&(u=t.collection.schema.fillObjectWithDefaults(u)),i.next=10,t._saveData(u,a);case 10:o=!0,i.next=22;break;case 13:if(i.prev=13,i.t0=i.catch(3),!(s=i.t0).parameters||!s.parameters.pouchDbError||409!==s.parameters.pouchDbError.status){i.next=20;break}return i.next=18,Object(c.q)();case 18:i.next=22;break;case 20:return r(i.t0),i.abrupt("return");case 22:i.next=1;break;case 24:n(t);case 25:case"end":return i.stop()}var s}),i,null,[[3,13]])}))))}))},atomicPatch:function(e){return this.atomicUpdate((function(t){return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];t[n]=r})),t}))},_saveData:(We=A()(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=t,!this._isDeleted$.getValue()){e.next=3;break}throw g("DOC11",{id:this.primary,document:this});case 3:return this.collection.schema.validateChange(n,t),e.next=6,this.collection._runHooks("pre","save",t,this);case 6:return this.collection.schema.validate(t),e.next=9,Fe(this.collection,{previous:n,document:t});case 9:return e.abrupt("return",this.collection._runHooks("post","save",t,this));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return We.apply(this,arguments)}),save:function(){var e=this;if(!this._isTemporary)throw g("DOC17",{id:this.primary,document:this});return this.collection.insert(this).then((function(){return e._isTemporary=!1,e.collection._docCache.set(e.primary,e),e._dataSync$.next(e._data),!0}))},remove:function(){var e=this;if(this.deleted)return Promise.reject(g("DOC13",{document:this,id:this.primary}));var t=Object(c.i)(this._data);return this.collection._runHooks("pre","remove",t,this).then((function(){return t._deleted=!0,Object(c.r)(),Fe(e.collection,{previous:e._data,document:t})})).then((function(){return e.collection._runHooks("post","remove",t,e)})).then((function(){return e}))},destroy:function(){throw g("DOC14")}};function $e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=function(e,t){this.collection=e,this._isTemporary=!1,this._dataSync$=new me(t),this._isDeleted$=new me(!1),this._atomicQueue=Promise.resolve(),this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function Je(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!==t){var i=ze(e.jsonSchema,n);void 0!==i&&(i.properties&&(i=i.properties),Object.keys(i).forEach((function(e){var i=Object(c.E)(n+"."+e);t.__defineGetter__(e,(function(){var e=r||this;if(e.get&&"function"==typeof e.get)return e.get(i)})),Object.defineProperty(t,e+"$",{get:function(){return(r||this).get$(i)},enumerable:!1,configurable:!1}),Object.defineProperty(t,e+"_",{get:function(){return(r||this).populate(i)},enumerable:!1,configurable:!1}),t.__defineSetter__(e,(function(e){return(r||this).set(i,e)}))})))}}function Qe(e,t,n){if(n[t.schema.primaryPath]&&n[t.schema.primaryPath].startsWith("_design"))return null;var r=new e(t,n);return E("createRxDocument",r),r}function Ye(e){return void 0!==e&&!!e.isInstanceOfRxDocument}var Xe=function(){function e(e){this.jsonSchema=e,this.indexes=Ze(this.jsonSchema),this.primaryPath=et(this.jsonSchema.primaryKey),this.finalFields=rt(this.jsonSchema),this.jsonSchema.required=this.jsonSchema.required.concat(this.finalFields).filter((function(e){return!e.includes(".")})).filter((function(e,t,n){return n.indexOf(e)===t}))}var t=e.prototype;return t.validateChange=function(e,t){this.finalFields.forEach((function(n){if(!a()(e[n],t[n]))throw g("DOC9",{dataBefore:e,dataAfter:t,fieldName:n})}))},t.validate=function(e,t){throw Object(c.t)("validate")},t.fillObjectWithDefaults=function(e){return e=Object(c.e)(e),Object.entries(this.defaultValues).filter((function(t){var n=t[0];return!e.hasOwnProperty(n)||void 0===e[n]})).forEach((function(t){var n=t[0],r=t[1];return e[n]=r})),e},t.getDocumentPrototype=function(){var e={};return Je(this,e,""),Object(c.s)(this,"getDocumentPrototype",(function(){return e})),e},t.getPrimaryOfDocumentData=function(e){return tt(this.jsonSchema,e)},t.fillPrimaryKey=function(e){var t=Object(c.i)(e),n=tt(this.jsonSchema,e),r=e[this.primaryPath];if(r&&r!==n)throw g("DOC19",{args:{documentData:e,existingPrimary:r,newPrimary:n}});return t[this.primaryPath]=n,t},i()(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"normalized",get:function(){return Object(c.s)(this,"normalized",it(this.jsonSchema))}},{key:"topLevelFields",get:function(){return Object.keys(this.normalized.properties)}},{key:"defaultValues",get:function(){var e={};return Object.entries(this.normalized.properties).filter((function(e){return e[1].hasOwnProperty("default")})).forEach((function(t){var n=t[0],r=t[1];return e[n]=r.default})),Object(c.s)(this,"defaultValues",e)}},{key:"crypt",get:function(){return!!(this.jsonSchema.encrypted&&this.jsonSchema.encrypted.length>0||this.jsonSchema.attachments&&this.jsonSchema.attachments.encrypted)}},{key:"encryptedPaths",get:function(){return this.jsonSchema.encrypted||[]}},{key:"hash",get:function(){return Object(c.s)(this,"hash",Object(c.m)(this.normalized))}}]),e}();function Ze(e){return(e.indexes||[]).map((function(e){return Array.isArray(e)?e:[e]}))}function et(e){return"string"==typeof e?e:e.key}function tt(e,t){if("string"==typeof e.primaryKey)return t[e.primaryKey];var n=e.primaryKey;return n.fields.map((function(e){var n=s.a.get(t,e);if(void 0===n)throw g("DOC18",{args:{field:e,documentData:t}});return n})).join(n.separator)}function nt(e){var t=e.version?e.version:0,n=0;return new Array(t).fill(0).map((function(){return n++}))}function rt(e){var t=Object.keys(e.properties).filter((function(t){return e.properties[t].final})),n=et(e.primaryKey);return t.push(n),"string"!=typeof e.primaryKey&&e.primaryKey.fields.forEach((function(e){return t.push(e)})),t}function it(e){var t=Object(c.B)(Object(c.e)(e));return e.indexes&&(t.indexes=Array.from(e.indexes)),t}function ot(e){return(e=Object(c.e)(e)).additionalProperties=!1,e.hasOwnProperty("keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes||[],e.required=e.required||[],e.encrypted=e.encrypted||[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.version=e.version||0,e}function at(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&E("preCreateRxSchema",e);var n=new Xe(ot(e));return E("createRxSchema",n),n}function ut(e){return e instanceof Xe}var st=function(){function e(e,t){this.password=e,this.schema=t}var t=e.prototype;return t._encryptString=function(e){throw Object(c.t)("encryption")},t._decryptString=function(e){throw Object(c.t)("encryption")},t.encrypt=function(e){var t=this;if(!this.password)return e;var n=(e=Object(c.i)(e))._attachments;delete e._attachments;var r=Object(c.e)(e);return n&&(r._attachments=n),this.schema.encryptedPaths.forEach((function(e){var n=s.a.get(r,e);if(void 0!==n){var i=JSON.stringify(n),o=t._encryptString(i);s.a.set(r,e,o)}})),r},t.decrypt=function(e){var t=this;if(!this.password)return e;var n=(e=Object(c.i)(e))._attachments;delete e._attachments;var r=Object(c.e)(e);return n&&(r._attachments=n),this.schema.encryptedPaths.forEach((function(e){var n=s.a.get(r,e);if(void 0!==n){var i=t._decryptString(n),o=JSON.parse(i);s.a.set(r,e,o)}})),r},e}();function ct(e,t){return new st(e,t)}var ft=F((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function lt(e,t){var n="object"==typeof t;return new Promise((function(r,i){var o=new ne({next:function(e){r(e),o.unsubscribe()},error:i,complete:function(){n?r(t.defaultValue):i(new ft)}});e.subscribe(o)}))}var dt=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function ht(e){return B(null==e?void 0:e.then)}function pt(e,t){return new fe((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}var mt="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function yt(e,t){if(!e)throw new Error("Iterable cannot be null");return new fe((function(n){var r=new H;return r.add(t.schedule((function(){var i=e[Symbol.asyncIterator]();r.add(t.schedule((function(){var e=this;i.next().then((function(t){t.done?n.complete():(n.next(t.value),e.schedule())}))})))}))),r}))}function vt(e){return B(e[ue])}function gt(e){return B(null==e?void 0:e[mt])}function bt(e){return Symbol.asyncIterator&&B(null==e?void 0:e[Symbol.asyncIterator])}function wt(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Et(e){return L(this,arguments,(function(){var t,n,r;return I(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,D(t.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,D(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,D(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function _t(e){return B(null==e?void 0:e.getReader)}function St(e,t){if(null!=e){if(vt(e))return function(e,t){return new fe((function(n){var r=new H;return r.add(t.schedule((function(){var i=e[ue]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(dt(e))return pt(e,t);if(ht(e))return function(e,t){return new fe((function(n){return t.schedule((function(){return e.then((function(e){n.add(t.schedule((function(){n.next(e),n.add(t.schedule((function(){return n.complete()})))})))}),(function(e){n.add(t.schedule((function(){return n.error(e)})))}))}))}))}(e,t);if(bt(e))return yt(e,t);if(gt(e))return function(e,t){return new fe((function(n){var r;return n.add(t.schedule((function(){r=e[mt](),function(e,t,n,r){void 0===r&&(r=0);var i=t.schedule((function(){try{n.call(this)}catch(t){e.error(t)}}),r);e.add(i)}(n,t,(function(){var e=r.next(),t=e.value;e.done?n.complete():(n.next(t),this.schedule())}))}))),function(){return B(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(_t(e))return function(e,t){return yt(Et(e),t)}(e,t)}throw wt(e)}function Tt(e,t){return t?St(e,t):At(e)}function At(e){if(e instanceof fe)return e;if(null!=e){if(vt(e))return r=e,new fe((function(e){var t=r[ue]();if(B(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(dt(e))return Pt(e);if(ht(e))return n=e,new fe((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,$)}));if(bt(e))return kt(e);if(gt(e))return t=e,new fe((function(e){var n,r;try{for(var i=O(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()}));if(_t(e))return kt(Et(e))}var t,n,r;throw wt(e)}function Pt(e){return new fe((function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()}))}function kt(e){return new fe((function(t){(function(e,t){var n,r,i,o;return R(this,void 0,void 0,(function(){var a,u;return I(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),n=j(e),s.label=1;case 1:return[4,n.next()];case 2:if((r=s.sent()).done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=s.sent(),i={error:u},[3,11];case 6:return s.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function xt(e,t,n){return void 0===n&&(n=1/0),B(t)?xt((function(n,r){return ge((function(e,i){return t(n,e,r,i)}))(At(e(n,r)))}),n):("number"==typeof t&&(n=t),ye((function(t,r){return function(e,t,n,r,i,o,a,u){var s=[],c=0,f=0,l=!1,d=function(){!l||s.length||c||t.complete()},h=function(e){return c<r?p(e):s.push(e)},p=function(e){o&&t.next(e),c++;var u=!1;At(n(e,f++)).subscribe(new ve(t,(function(e){null==i||i(e),o?h(e):t.next(e)}),(function(){u=!0}),void 0,(function(){if(u)try{c--;for(var e=function(){var e=s.shift();a?t.add(a.schedule((function(){return p(e)}))):p(e)};s.length&&c<r;)e();d()}catch(e){t.error(e)}})))};return e.subscribe(new ve(t,h,(function(){l=!0,d()}))),function(){null==u||u()}}(t,r,e,n)})))}function Ct(e){return void 0===e&&(e=1/0),xt(se,e)}function Rt(e,t){return t?pt(e,t):Pt(e)}var It=new fe((function(e){return e.complete()}));function Ot(e){return e&&B(e.schedule)}function Mt(e){return e[e.length-1]}function Nt(e){return B(Mt(e))?e.pop():void 0}function Dt(e){return Ot(Mt(e))?e.pop():void 0}function Lt(e,t){return"number"==typeof Mt(e)?e.pop():t}function jt(e,t){return ye((function(n,r){var i=0;n.subscribe(new ve(r,(function(n){return e.call(t,n,i++)&&r.next(n)})))}))}var Bt=new WeakMap,Ft=new WeakMap;function Ut(e){if(!Bt.has(e)){var t=e.schema.getDocumentPrototype(),n=Kt(e),r={};[t,n,Ge].forEach((function(e){Object.getOwnPropertyNames(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t),i=!0;(t.startsWith("_")||t.endsWith("_")||t.startsWith("$")||t.endsWith("$"))&&(i=!1),"function"==typeof n.value?Object.defineProperty(r,t,{get:function(){return n.value.bind(this)},enumerable:i,configurable:!1}):(n.enumerable=i,n.configurable=!1,n.writable&&(n.writable=!1),Object.defineProperty(r,t,n))}))})),Bt.set(e,r)}return Bt.get(e)}function qt(e){if(!Ft.has(e)){var t=$e(Ut(e));Ft.set(e,t)}return Ft.get(e)}function Ht(e,t){var n=t[e.schema.primaryPath],r=e._docCache.get(n);if(r)return r;var i=Qe(qt(e),e,t);return e._docCache.set(n,i),e._runHooksSync("post","create",t,i),E("postCreateRxDocument",i),i}function Kt(e){var t={};return Object.entries(e.methods).forEach((function(e){var n=e[0],r=e[1];t[n]=r})),t}function Vt(e){return e[e.length-1]}var zt=function(e){return!!e.queryParams.limit},Wt=function(e){return 1===e.queryParams.limit},Gt=function(e){return!!(e.queryParams.skip&&e.queryParams.skip>0)},$t=function(e){return"DELETE"===e.changeEvent.operation},Jt=function(e){return"INSERT"===e.changeEvent.operation},Qt=function(e){return"UPDATE"===e.changeEvent.operation},Yt=function(e){return"UNKNOWN"===e.changeEvent.previous},Xt=function(e){return zt(e)&&e.previousResults.length>=e.queryParams.limit},Zt=function(e){var t=e.queryParams.sortFields,n=e.changeEvent.previous,r=e.changeEvent.doc;if(!r)return!1;if(!n||"UNKNOWN"===n)return!0;for(var i=0;i<t.length;i++){var o=t[i];if(s.a.get(n,o)!==s.a.get(r,o))return!0}return!1},en=function(e){var t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);for(var n=e.queryParams.primaryKey,r=e.previousResults,i=0;i<r.length;i++){if(r[i][n]===t)return!0}return!1},tn=function(e){var t=e.changeEvent.previous;if(!t||"UNKNOWN"===t)return!1;var n=e.previousResults[0];return!!n&&e.queryParams.sortComparator(t,n)<0},nn=function(e){var t=e.changeEvent.previous;if(!t||"UNKNOWN"===t)return!1;var n=Vt(e.previousResults);return!!n&&e.queryParams.sortComparator(t,n)>0},rn=function(e){var t=e.changeEvent.doc;if(!t)return!1;var n=e.previousResults[0];return!!n&&e.queryParams.sortComparator(t,n)<0},on=function(e){var t=e.changeEvent.doc;if(!t)return!1;var n=Vt(e.previousResults);return!!n&&e.queryParams.sortComparator(t,n)>0},an=function(e){var t=e.changeEvent.previous;return!(!t||"UNKNOWN"===t)&&e.queryParams.queryMatcher(t)},un=function(e){var t=e.changeEvent.doc;return!!t&&e.queryParams.queryMatcher(t)},sn=function(e){return 0===e.previousResults.length},cn={0:Jt,1:Qt,2:$t,3:zt,4:Wt,5:Gt,6:sn,7:Yt,8:Xt,9:Zt,10:en,11:tn,12:nn,13:rn,14:on,15:an,16:un};var fn=function(e){e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},ln=function(e){e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},dn=function(e){var t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},hn=function(e){var t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},pn=function(e){e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);for(var t=e.queryParams.primaryKey,n=e.previousResults,r=0;r<n.length;r++){if(n[r][t]===e.changeEvent.id){n.splice(r,1);break}}},mn=function(e){var t=e.changeEvent.doc;e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t),function(e,t,n,r){var i=r?e:e.slice(),o=i.length-1,a=0,u=0;if(0===i.length)return i.push(t),i;for(;a<=o;){n(i[u=a+(o-a>>1)],t)<=0?a=u+1:o=u-1}n(i[u],t)<=0&&u++,i.splice(u,0,t)}(e.previousResults,t,e.queryParams.sortComparator,!0)},yn=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],vn={doNothing:function(e){},insertFirst:fn,insertLast:ln,removeFirstItem:dn,removeLastItem:hn,removeFirstInsertLast:function(e){dn(e),ln(e)},removeLastInsertFirst:function(e){hn(e),fn(e)},removeExisting:pn,replaceExisting:function(e){for(var t=e.changeEvent.doc,n=e.queryParams.primaryKey,r=e.previousResults,i=0;i<r.length;i++){if(r[i][n]===e.changeEvent.id){r[i]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}}},alwaysWrong:function(e){var t={_id:"wrongHuman"+(new Date).getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},insertAtSortPosition:mn,removeExistingAndInsertAtSortPosition:function(e){pn(e),mn(e)},runFullQueryAgain:function(e){throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:function(e){throw new Error("Action unknownAction should never be called")}};!function(e){void 0===e&&(e=6);for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r))}(4);function gn(e,t){for(var n=[],r=0,i=e.length;r<i;r+=t)n.push(e.substring(r,r+t));return n}function bn(e){return e.charCodeAt(0)-40}var wn=function(e){for(var t=new Map,n=2+2*parseInt(e.charAt(0)+e.charAt(1),10),r=gn(e.substring(2,n),2),i=0;i<r.length;i++){var o=(s=r[i]).charAt(0),a=bn(s.charAt(1));t.set(o,a)}var u=gn(e.substring(n,e.length-3),4);for(i=0;i<u.length;i++){o=(s=u[i]).charAt(0);var s,c=s.charAt(1),f=s.charAt(2),l=bn(s.charAt(3));if(!t.has(c))throw new Error("missing node with id "+c);if(!t.has(f))throw new Error("missing node with id "+f);var d={l:l,0:t.get(c),1:t.get(f)};t.set(o,d)}var h=e.slice(-3),p=h.charAt(0),m=h.charAt(1);return{l:bn(h.charAt(2)),0:t.get(p),1:t.get(m)}}("11a+b0c/d3e.f2g*h-i)j(k4ljk3mkj3nbh,odh,peh,qkj5rkm5sdk5tjk5uok5vfi5wkp5xfk5yxk/zgk/{jt/|jk/}bd1~xy1gz1¡jq1¢bs1£no1¤j{1¥j|1¦jl1§kl1¨jr1©nu1ª|a7«|l7¬d}7­¤a7®~¡7¯h7°s¢7±kj7²o£7³¤§7´k¨7µ¥¦7¶u©7·vg6¸¬d6¹­j6º®¯6»°d6¼wj6½²k6¾³j6¿´µ6À¶k6Á¹ª*Â¾«*ÃjÁ-ÄjÂ-Å·º-Æ¸»-Çi±-È¼¿-É½À-ÊÃc2ËÄk2ÌÅÆ2ÍÈÉ2ÎÊË0ÏÌÍ0ÐÎÏ8ÑjÇ8ÐÑ.");function En(e){var t=function(e){return function(e,t,n){for(var r=e,i=e.l;;){var o=t[i](n);if("number"==typeof(r=r[o?"1":"0"])||"string"==typeof r)return r;i=r.l}}(wn,cn,e)}(e);return yn[t]}function _n(e,t){return t.sort&&0!==t.sort.length?t.sort.map((function(e){return Object.keys(e)[0]})):[e]}var Sn=new WeakMap;function Tn(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var n=function(e){if(Sn.has(e))return Sn.get(e);var t=e.collection,n=e.toJSON(),r=t.schema.primaryPath,i=t.storageInstance.getSortComparator(n),o=t.storageInstance.getQueryMatcher(n),a={primaryKey:e.collection.schema.primaryPath,skip:n.skip,limit:n.limit,sortFields:_n(r,n),sortComparator:function(t,n){var r={docA:t,docB:n,rxQuery:e};return E("preSortComparator",r),i(r.docA,r.docB)},queryMatcher:function(t){var n={doc:t,rxQuery:e};return E("preQueryMatcher",n),o(n.doc)}};return Sn.set(e,a),a}(e),r=e._resultsData.slice(),i=e._resultsDataMap,o=!1;return t.find((function(e){var t=function(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:p.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}(e),a=En({queryParams:n,changeEvent:t,previousResults:r,keyDocumentMap:i});return"runFullQueryAgain"===a||("doNothing"!==a?(o=!0,function(e,t,n,r,i){(0,vn[e])({queryParams:t,changeEvent:n,previousResults:r,keyDocumentMap:i})}(a,n,t,r,i),!1):void 0)}))?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:o,newResults:r}}var An=function(){function e(){this._map=new Map}return e.prototype.getByQuery=function(e){var t=e.toString();return this._map.has(t)||this._map.set(t,e),this._map.get(t)},e}();function Pn(){return new An}function kn(e,t){t.uncached=!0;var n=t.toString();e._map.delete(n)}function xn(e){return e.refCount$.observers.length}var Cn=100,Rn=3e4,In=function(e,t){return function(n,r){if(!(r._map.size<e)){for(var i=Object(c.r)()-t,o=[],a=0,u=Array.from(r._map.values());a<u.length;a++){var s=u[a];xn(s)>0||(0===s._lastEnsureEqual&&s._creationTime<i?kn(r,s):o.push(s))}var f=o.length-e;if(!(f<=0))o.sort((function(e,t){return e._lastEnsureEqual-t._lastEnsureEqual})).slice(0,f).forEach((function(e){return kn(r,e)}))}}},On=In(Cn,Rn),Mn=new WeakSet;function Nn(e){Mn.has(e)||(Mn.add(e),Object(c.q)().then((function(){return Object(c.z)()})).then((function(){e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),Mn.delete(e)})))}var Dn=0,Ln=function(){function e(e,t,n){this.id=++Dn,this._execOverDatabaseCount=0,this._creationTime=Object(c.r)(),this._lastEnsureEqual=0,this.other={},this.uncached=!1,this.refCount$=new me(null),this._latestChangeEvent=-1,this._resultsData=null,this._resultsDataMap=new Map,this._lastExecStart=0,this._lastExecEnd=0,this._resultsDocs$=new me(null),this._ensureEqualQueue=Promise.resolve(!1),this.op=e,this.mangoQuery=t,this.collection=n,t||(t=jn(this.collection))}var t=e.prototype;return t._setResultData=function(e){this._resultsData=e;var t,n=(t=this.collection,this._resultsData.map((function(e){return Ht(t,e)})));return this._resultsDocs$.next(n),n},t._execOverDatabase=function(){var e,t=this;switch(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=Object(c.r)(),this.op){case"find":e=this.collection._queryStorageInstance(this);break;case"findOne":e=this.collection._queryStorageInstance(this,1);break;default:throw g("QU1",{collection:this.collection.name,op:this.op})}return e.then((function(e){t._lastExecEnd=Object(c.r)(),t._resultsDataMap=new Map;var n=t.collection.schema.primaryPath;return e.forEach((function(e){var r=e[n];t._resultsDataMap.set(r,e)})),e}))},t.exec=function(e){var t=this;if(e&&"findOne"!==this.op)throw g("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Un(this).then((function(){return lt(t.$)})).then((function(n){if(!n&&e)throw g("QU10",{collection:t.collection.name,query:t.mangoQuery,op:t.op});return n}))},t.toString=function(){var e=Object(c.B)({op:this.op,query:this.mangoQuery,other:this.other},!0),t=JSON.stringify(e,c.C);return this.toString=function(){return t},t},t.toJSON=function(){var e={rxQuery:this,mangoQuery:Object(c.e)(this.mangoQuery)};E("prePrepareQuery",e);var t=this.collection.storageInstance.prepareQuery(e.mangoQuery);return this.toJSON=function(){return t},t},t.doesDocumentDataMatch=function(e){return!e._deleted&&this.queryMatcher(qe(this.collection,e))},t.remove=function(){var e;return this.exec().then((function(t){return e=t,Array.isArray(t)?Promise.all(t.map((function(e){return e.remove()}))):t.remove()})).then((function(){return e}))},t.update=function(e){throw Object(c.t)("update")},t.where=function(e){throw Object(c.t)("query-builder")},t.sort=function(e){throw Object(c.t)("query-builder")},t.skip=function(e){throw Object(c.t)("query-builder")},t.limit=function(e){throw Object(c.t)("query-builder")},i()(e,[{key:"$",get:function(){var e,t,n,r,i=this;if(!this._$){var o=this._resultsDocs$.pipe(xt((function(e){return Un(i).then((function(t){return!t&&e}))})),jt((function(e){return!!e})),ge((function(e){return"findOne"===i.op?0===e.length?null:e[0]:e})),ge((function(e){return Array.isArray(e)?e.slice():e}))).asObservable(),a=this.collection.$.pipe((r=B(e=function(){return Un(i)})||t||n?{next:e,error:t,complete:n}:e)?ye((function(e,t){e.subscribe(new ve(t,(function(e){var n;null===(n=r.next)||void 0===n||n.call(r,e),t.next(e)}),(function(){var e;null===(e=r.complete)||void 0===e||e.call(r),t.complete()}),(function(e){var n;null===(n=r.error)||void 0===n||n.call(r,e),t.error(e)})))})):se,jt((function(){return!1})));this._$=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Dt(e),r=Lt(e,1/0),i=e;return i.length?1===i.length?At(i[0]):Ct(r)(Rt(i,n)):It}(o,a,this.refCount$.pipe(jt((function(){return!1}))))}return this._$}},{key:"queryMatcher",get:function(){return Object(c.s)(this,"queryMatcher",this.collection.storageInstance.getQueryMatcher(this.toJSON()))}},{key:"asRxQuery",get:function(){return this}}]),e}();function jn(e){var t;return{selector:(t={},t[e.schema.primaryPath]={},t)}}function Bn(e){return e.collection._queryCache.getByQuery(e)}function Fn(e,t,n){if(t&&"object"!=typeof t)throw b("QU7",{queryObj:t});if(Array.isArray(t))throw b("QU8",{queryObj:t});E("preCreateRxQuery",{op:e,queryObj:t,collection:n});var r=new Ln(e,t,n);return E("createRxQuery",r=Bn(r)),Nn(n),r}function Un(e){return e._ensureEqualQueue=e._ensureEqualQueue.then((function(){return Object(c.v)(0)})).then((function(){return function(e){if(e._lastEnsureEqual=Object(c.r)(),e.collection.database.destroyed)return!1;if(function(e){return e._latestChangeEvent>=e.collection._changeEventBuffer.counter}(e))return!1;var t=!1,n=!1;-1===e._latestChangeEvent&&(n=!0);if(!n){var r=e.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(null===r)n=!0;else{e._latestChangeEvent=e.collection._changeEventBuffer.counter,r=r.filter((function(t){return!t.startTime||t.startTime>e._lastExecStart}));var i=e.collection._changeEventBuffer.reduceByLastOfDoc(r),o=Tn(e,i);o.runFullQueryAgain?n=!0:o.changed&&(t=!0,e._setResultData(o.newResults))}}if(n){var u=e.collection._changeEventBuffer.counter;return e._execOverDatabase().then((function(n){return e._latestChangeEvent=u,a()(n,e._resultsData)||(t=!0,e._setResultData(n)),t}))}return t}(e)})).then((function(e){return Object(c.v)(0).then((function(){return e}))})),e._ensureEqualQueue}function qn(e){return e instanceof Ln}function Hn(){return Ct(1)}function Kn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Hn()(Rt(e,Dt(e)))}function Vn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Dt(e);return ye((function(t,r){(n?Kn(e,t,n):Kn(e,t)).subscribe(r)}))}var zn={now:function(){return(zn.delegate||Date).now()},delegate:void 0},Wn=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=zn);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}return C(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,i=n._buffer,o=n._infiniteTimeWindow,a=n._timestampProvider,u=n._windowTime;r||(i.push(t),!o&&i.push(a.now()+u)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,n=this._buffer,r=this._infiniteTimeWindow,i=(r?1:2)*e;if(e<1/0&&i<n.length&&n.splice(0,n.length-i),!r){for(var o=t.now(),a=0,u=1;u<n.length&&n[u]<=o;u+=2)a=u;a&&n.splice(0,a+1)}},t}(he);function Gn(e){return e<=0?function(){return It}:ye((function(t,n){var r=0;t.subscribe(new ve(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}function $n(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return!0===t?(e(),null):!1===t?null:t.apply(void 0,N([],M(n))).pipe(Gn(1)).subscribe((function(){return e()}))}function Jn(e,t,n){var r,i,o,a=!1;return e&&"object"==typeof e?(o=null!==(r=e.bufferSize)&&void 0!==r?r:1/0,t=null!==(i=e.windowTime)&&void 0!==i?i:1/0,a=!!e.refCount,n=e.scheduler):o=null!=e?e:1/0,function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new he}:t,r=e.resetOnError,i=void 0===r||r,o=e.resetOnComplete,a=void 0===o||o,u=e.resetOnRefCountZero,s=void 0===u||u;return function(e){var t=null,r=null,o=null,u=0,c=!1,f=!1,l=function(){null==r||r.unsubscribe(),r=null},d=function(){l(),t=o=null,c=f=!1},h=function(){var e=t;d(),null==e||e.unsubscribe()};return ye((function(e,p){u++,f||c||l();var m=o=null!=o?o:n();p.add((function(){0!==--u||f||c||(r=$n(h,s))})),m.subscribe(p),t||(t=new ne({next:function(e){return m.next(e)},error:function(e){f=!0,l(),r=$n(d,i,e),m.error(e)},complete:function(){c=!0,l(),r=$n(d,a),m.complete()}}),Tt(e).subscribe(t))}))(e)}}({connector:function(){return new Wn(o,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var Qn=function(){function e(){this._map=new Map,this._map=new Map}var t=e.prototype;return t.get=function(e){return this._map.get(e)},t.set=function(e,t){return this._map.set(e,t)},t.delete=function(e){return this._map.delete(e)},e}();function Yn(){return new Qn}var Xn=function(){function e(e){var t=this;this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=e,this.subs.push(this.collection.$.pipe(jt((function(e){return!e.isLocal}))).subscribe((function(e){return t._handleChangeEvent(e)})))}var t=e.prototype;return t._handleChangeEvent=function(e){for(this.counter++,this.buffer.push(e),this.eventCounterMap.set(e,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(e){var t=this.buffer[0],n=this.eventCounterMap.get(t);return e<n?null:e-n},t.getFrom=function(e){var t=[],n=this.getArrayIndexByPointer(e);if(null===n)return null;for(;;){var r=this.buffer[n];if(n++,!r)return t;t.push(r)}},t.runFrom=function(e,t){var n=this.getFrom(e);if(null===n)throw new Error("out of bounds");n.forEach((function(e){return t(e)}))},t.reduceByLastOfDoc=function(e){return e.slice(0)},t.hasChangeWithRevision=function(e){for(var t=this.buffer.length;t>0;){t--;var n=this.buffer[t];if(n.documentData&&n.documentData._rev===e)return!0}return!1},t.destroy=function(){this.subs.forEach((function(e){return e.unsubscribe()}))},e}();function Zn(e){return new Xn(e)}var er=new RegExp("^[a-z][_$a-z0-9]*$");function tr(e){if("string"!=typeof e||0===e.length)throw b("UT1",{name:e});if(Object(c.o)(e))return!0;if(!e.match(er))throw g("UT2",{regex:"^[a-z][_$a-z0-9]*$",givenName:e});return!0}var nr=["pre","post"],rr=["insert","save","remove","create"],ir=!1,or=function(){function e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:On,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{};this._isInMemory=!1,this.destroyed=!1,this._atomicUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._repStates=new Set,this.storageInstance={},this.localDocumentsStore={},this._docCache=Yn(),this._queryCache=Pn(),this._crypter={},this._observable$={},this._changeEventBuffer={},this.database=e,this.name=t,this.schema=n,this.instanceCreationOptions=r,this.migrationStrategies=i,this.methods=o,this.attachments=a,this.options=u,this.cacheReplacementPolicy=s,this.statics=c,ar(this.asRxCollection)}var t=e.prototype;return t.prepare=function(){var e=A()(k.a.mark((function e(t){var n,r,i,o,a,u,s=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E("preCreateRxStorageInstance",n={databaseName:this.database.name,collectionName:this.name,schema:this.schema.jsonSchema,options:this.instanceCreationOptions}),e.next=4,Promise.all([this.database.storage.createStorageInstance(n),this.database.storage.createKeyObjectStorageInstance(this.database.name,this.name+"-local",this.instanceCreationOptions)]);case 4:r=e.sent,i=r[0],o=r[1],this.storageInstance=i,this.localDocumentsStore=o,this._crypter=ct(this.database.password,this.schema),this._observable$=this.database.$.pipe(jt((function(e){return e.collectionName===s.name}))),this._changeEventBuffer=Zn(this.asRxCollection),a=i.changeStream().pipe(ge((function(e){return Be(!1,e,s.database,s)}))).subscribe((function(e){s.$emit(e)})),this._subs.push(a),u=this.localDocumentsStore.changeStream().pipe(ge((function(e){return Be(!0,e,s.database,s)}))).subscribe((function(e){return s.$emit(e)})),this._subs.push(u),this._subs.push(this._observable$.pipe(jt((function(e){return!e.isLocal}))).subscribe((function(e){var t=s._docCache.get(e.documentId);t&&t._handleChangeEvent(e)})));case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.migrationNeeded=function(){if(0===this.schema.version)return Promise.resolve(!1);throw Object(c.t)("migration")},t.getDataMigrator=function(){throw Object(c.t)("migration")},t.migrate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migrate(e)},t.migratePromise=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migratePromise(e)},t._queryStorageInstance=function(){var e=A()(k.a.mark((function e(t,n){var r,i,o,a,u=this,s=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=t.toJSON(),n&&(i.limit=n),e.next=5,this.database.lockedRun((function(){return u.storageInstance.query(i)}));case 5:return o=e.sent,a=o.documents.map((function(e){return He(u,e,r)})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.$emit=function(e){return this.database.$emit(e)},t.insert=function(){var e=A()(k.a.mark((function e(t){var n,r,i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,!Ye(t)){e.next=6;break}if((n=t)._isTemporary){e.next=5;break}throw g("COL1",{data:t});case 5:t=n.toJSON();case 6:return r=Ke(this,t),i=n,e.next=10,this._runHooks("pre","insert",r);case 10:return this.schema.validate(r),e.next=13,Fe(this,{document:r});case 13:return o=e.sent,n?n._dataSync$.next(o):i=Ht(this,o),e.next=17,this._runHooks("post","insert",r,i);case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.bulkInsert=function(){var e=A()(k.a.mark((function e(t){var n,r,i,o,a,u,s,f=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return Ke(f,e)})),e.next=3,Promise.all(n.map((function(e){return f._runHooks("pre","insert",e).then((function(){return f.schema.validate(e),e}))})));case 3:return r=e.sent,i=r.map((function(e){return{document:qe(f,e)}})),o=new Map,r.forEach((function(e){o.set(e[f.schema.primaryPath],e)})),e.next=9,this.database.lockedRun((function(){return f.storageInstance.bulkWrite(i)}));case 9:return a=e.sent,u=Array.from(a.success.entries()),s=u.map((function(e){var t=e[0],n=e[1],r=Object(c.k)(o,t);return r._rev=n._rev,Ht(f,r)})),e.next=14,Promise.all(s.map((function(e){return f._runHooks("post","insert",o.get(e.primary),e)})));case 14:return e.abrupt("return",{success:s,error:Array.from(a.error.values())});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.bulkRemove=function(){var e=A()(k.a.mark((function e(t){var n,r,i,o,a,u,s,f=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findByIds(t);case 2:return n=e.sent,r=[],i=new Map,Array.from(n.values()).forEach((function(e){var t=Object(c.e)(e.toJSON(!0));r.push(t),i.set(e.primary,t)})),e.next=8,Promise.all(r.map((function(e){var t=e[f.schema.primaryPath];return f._runHooks("pre","remove",e,n.get(t))})));case 8:return o=r.map((function(e){var t=Object(c.i)(e);return t._deleted=!0,{previous:qe(f,e),document:qe(f,t)}})),e.next=11,this.database.lockedRun((function(){return f.storageInstance.bulkWrite(o)}));case 11:return a=e.sent,u=Array.from(a.success.keys()),e.next=15,Promise.all(u.map((function(e){return f._runHooks("post","remove",i.get(e),n.get(e))})));case 15:return s=u.map((function(e){return n.get(e)})),e.abrupt("return",{success:s,error:Array.from(a.error.values())});case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.upsert=function(e){var t=this,n=Ke(this,e),r=n[this.schema.primaryPath];if(!r)throw g("COL3",{primaryPath:this.schema.primaryPath,data:n,schema:this.schema.jsonSchema});return this.findOne(r).exec().then((function(r){return r?(n._rev=r._rev,r.atomicUpdate((function(){return n})).then((function(){return r}))):t.insert(e)}))},t.atomicUpsert=function(e){var t,n=this,r=Ke(this,e),i=r[this.schema.primaryPath];if(!i)throw g("COL4",{data:e});return t=(t=this._atomicUpsertQueues.has(i)?this._atomicUpsertQueues.get(i):Promise.resolve()).then((function(){return function(e,t,n){var r=e._docCache.get(t);if(r)return Promise.resolve({doc:r,inserted:!1});return e.findOne(t).exec().then((function(t){return t?{doc:t,inserted:!1}:e.insert(n).then((function(e){return{doc:e,inserted:!0}}))}))}(n,i,r)})).then((function(e){return e.inserted?e.doc:function(e,t){return e.atomicUpdate((function(e){return t._rev=e._rev,e._data=t,e._data})).then((function(){return e}))}(e.doc,r).then((function(){return Object(c.q)()})).then((function(){return Object(c.q)()})).then((function(){return Object(c.q)()})).then((function(){return e.doc}))})),this._atomicUpsertQueues.set(i,t),t},t.find=function(e){if("string"==typeof e)throw g("COL5",{queryObj:e});return e||(e=jn(this)),Fn("find",e,this)},t.findOne=function(e){var t;if("string"==typeof e){var n;t=Fn("findOne",{selector:(n={},n[this.schema.primaryPath]=e,n)},this)}else{if(e||(e=jn(this)),e.limit)throw g("QU6");t=Fn("findOne",e,this)}if("number"==typeof e||Array.isArray(e))throw b("COL6",{queryObj:e});return t},t.findByIds=function(){var e=A()(k.a.mark((function e(t){var n,r,i,o=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new Map,r=[],t.forEach((function(e){var t=o._docCache.get(e);t?n.set(e,t):r.push(e)})),!(r.length>0)){e.next=8;break}return e.next=6,this.storageInstance.findDocumentsById(r,!1);case 6:i=e.sent,Array.from(i.values()).forEach((function(e){e=He(o,e);var t=Ht(o,e);n.set(t.primary,t)}));case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.findByIds$=function(e){var t=this,n=null,r=-1,i=this.findByIds(e).then((function(e){r=t._changeEventBuffer.counter,n=e}));return this.$.pipe(Vn(null),xt((function(e){return i.then((function(){return e}))})),xt(function(){var i=A()(k.a.mark((function i(o){var a,u,s;return k.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=Object(c.g)(n),null!==(u=t._changeEventBuffer.getFrom(r+1))){i.next=10;break}return i.next=5,t.findByIds(e);case 5:s=i.sent,r=t._changeEventBuffer.counter,Array.from(s.entries()).forEach((function(e){var t=e[0],n=e[1];return a.set(t,n)})),i.next=11;break;case 10:u.filter((function(t){return e.includes(t.documentId)})).forEach((function(e){var n=e.operation;"INSERT"===n||"UPDATE"===n?a.set(e.documentId,t._docCache.get(e.documentId)):a.delete(e.documentId)}));case 11:return i.abrupt("return",a);case 12:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()),jt((function(e){return!!e})),Jn({bufferSize:1,refCount:!0}))},t.exportJSON=function(){throw Object(c.t)("json-dump")},t.importJSON=function(e){throw Object(c.t)("json-dump")},t.syncCouchDB=function(e){throw Object(c.t)("replication")},t.syncGraphQL=function(e){throw Object(c.t)("replication-graphql")},t.inMemory=function(){throw Object(c.t)("in-memory")},t.addHook=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof n)throw b("COL7",{key:t,when:e});if(!nr.includes(e))throw b("COL8",{key:t,when:e});if(!rr.includes(t))throw g("COL9",{key:t});if("post"===e&&"create"===t&&!0===r)throw g("COL10",{when:e,key:t,parallel:r});var i=n.bind(this),o=r?"parallel":"series";this.hooks[t]=this.hooks[t]||{},this.hooks[t][e]=this.hooks[t][e]||{series:[],parallel:[]},this.hooks[t][e][o].push(i)},t.getHooks=function(e,t){try{return this.hooks[t][e]}catch(e){return{series:[],parallel:[]}}},t._runHooks=function(e,t,n,r){var i=this.getHooks(e,t);if(!i)return Promise.resolve();var o=i.series.map((function(e){return function(){return e(n,r)}}));return Object(c.u)(o).then((function(){return Promise.all(i.parallel.map((function(e){return e(n,r)})))}))},t._runHooksSync=function(e,t,n,r){var i=this.getHooks(e,t);i&&i.series.forEach((function(e){return e(n,r)}))},t.newDocument=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=this.schema.fillObjectWithDefaults(e);var t=Qe(qt(this),this,e);return t._isTemporary=!0,this._runHooksSync("post","create",e,t),t},t.destroy=function(){var e=this;return this.destroyed?Promise.resolve(!1):(this._onDestroyCall&&this._onDestroyCall(),this._subs.forEach((function(e){return e.unsubscribe()})),this._changeEventBuffer&&this._changeEventBuffer.destroy(),Array.from(this._repStates).forEach((function(e){return e.cancel()})),this.storageInstance.close().then((function(){return delete e.database.collections[e.name],e.destroyed=!0,_("postDestroyRxCollection",e).then((function(){return!0}))})))},t.remove=function(){return this.database.removeCollection(this.name)},i()(e,[{key:"$",get:function(){return this._observable$}},{key:"insert$",get:function(){return this.$.pipe(jt((function(e){return"INSERT"===e.operation})))}},{key:"update$",get:function(){return this.$.pipe(jt((function(e){return"UPDATE"===e.operation})))}},{key:"remove$",get:function(){return this.$.pipe(jt((function(e){return"DELETE"===e.operation})))}},{key:"onDestroy",get:function(){var e=this;return this._onDestroy||(this._onDestroy=new Promise((function(t){return e._onDestroyCall=t}))),this._onDestroy}},{key:"asRxCollection",get:function(){return this}}]),e}();function ar(e){if(!ir){ir=!0;var t=Object.getPrototypeOf(e);rr.forEach((function(e){nr.map((function(n){var r=n+Object(c.F)(e);t[r]=function(t,r){return this.addHook(n,e,t,r)}}))}))}}function ur(e,t){var n=e.database,r=e.name,i=e.schema,o=e.instanceCreationOptions,a=void 0===o?{}:o,u=e.migrationStrategies,s=void 0===u?{}:u,c=e.autoMigrate,f=void 0===c||c,l=e.statics,d=void 0===l?{}:l,h=e.methods,p=void 0===h?{}:h,m=e.attachments,y=void 0===m?{}:m,v=e.options,b=void 0===v?{}:v,w=e.cacheReplacementPolicy,_=void 0===w?On:w;tr(r),ut(i)||(i=at(i)),Object.keys(p).filter((function(e){return i.topLevelFields.includes(e)})).forEach((function(e){throw g("COL18",{funName:e})}));var S=new or(n,r,i,a,s,p,y,b,_,d);return S.prepare(t).then((function(){Object.entries(d).forEach((function(e){var t=e[0],n=e[1];Object.defineProperty(S,t,{get:function(){return n.bind(S)}})}));var e=Promise.resolve();return f&&0!==S.schema.version&&(e=S.migratePromise()),e})).then((function(){return E("createRxCollection",S),S}))}function sr(e){return e instanceof or}var cr=n(427),fr=n.n(cr),lr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._parallels=e||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function dr(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var n=e._pHM.get(t);e._hPM.delete(n),e._pHM.delete(t)}e._iC.delete(t)}}function hr(e){e._tryIR||0===e._iC.size||(e._tryIR=!0,setTimeout((function(){e.isIdle()?setTimeout((function(){e.isIdle()?(!function(e){0!==e._iC.size&&(e._iC.values().next().value._manRes(),setTimeout((function(){return hr(e)}),0))}(e),e._tryIR=!1):e._tryIR=!1}),0):e._tryIR=!1}),0))}lr.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,hr(this)},wrapCall:function(e){var t,n=this;this.lock();try{t=e()}catch(e){throw this.unlock(),e}return t.then&&"function"==typeof t.then?t.then((function(e){return n.unlock(),e})).catch((function(e){throw n.unlock(),e})):(this.unlock(),t)},requestIdlePromise:function(e){var t,n=this;e=e||{};var r=new Promise((function(e){return t=e}));if(r._manRes=function(){dr(n,r),t()},e.timeout){var i=setTimeout((function(){r._manRes()}),e.timeout);r._timeoutObj=i}return this._iC.add(r),hr(this),r},cancelIdlePromise:function(e){dr(this,e)},requestIdleCallback:function(e,t){var n=this._lHN++,r=this.requestIdlePromise(t);return this._hPM.set(n,r),this._pHM.set(r,n),r.then((function(){return e()})),n},cancelIdleCallback:function(e){var t=this._hPM.get(e);this.cancelIdlePromise(t)},clear:function(){var e=this;this._iC.forEach((function(t){return dr(e,t)})),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};var pr=n(53);var mr={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),Promise.resolve()}catch(e){return Promise.reject(e)}},canBeUsed:function(){if(pr.a&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:pr.c},yr=function(){function e(e){this.ttl=e,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(e){return this.set.has(e)},e.prototype.add=function(e){var t=this;this.timeMap.set(e,vr()),this.set.add(e),setTimeout((function(){!function(e){var t=vr()-e.ttl,n=e.set[Symbol.iterator]();for(;;){var r=n.next().value;if(!r)return;if(!(e.timeMap.get(r)<t))return;e.timeMap.delete(r),e.set.delete(r)}}(t)}),0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function vr(){return(new Date).getTime()}function gr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var br=pr.c;function wr(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function Er(e,t){var n=e.transaction("messages").objectStore("messages"),r=[];return new Promise((function(e){(function(){try{var e=IDBKeyRange.bound(t+1,1/0);return n.openCursor(e)}catch(e){return n.openCursor()}}()).onsuccess=function(n){var i=n.target.result;i?i.value.id<t+1?i.continue(t+1):(r.push(i.value),i.continue()):e(r)}}))}function _r(e,t){return function(e,t){var n=(new Date).getTime()-t,r=e.transaction("messages").objectStore("messages"),i=[];return new Promise((function(e){r.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var o=r.value;if(!(o.time<n))return void e(i);i.push(o),r.continue()}else e(i)}}))}(e,t).then((function(t){return Promise.all(t.map((function(t){return function(e,t){var n=e.transaction(["messages"],"readwrite").objectStore("messages").delete(t);return new Promise((function(e){n.onsuccess=function(){return e()}}))}(e,t.id)})))}))}function Sr(e){return e.closed?Promise.resolve():e.messagesCallback?Er(e.db,e.lastCursorId).then((function(t){return t.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return e.uuid!==t.uuid&&(!t.eMIs.has(e.id)&&!(e.data.time<t.messagesCallbackTime))}(t,e)})).sort((function(e,t){return e.time-t.time})).forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),Promise.resolve()})):Promise.resolve()}var Tr={create:function(e,t){return t=gr(t),function(e){var t="pubkey.broadcast-channel-0-"+e,n=wr().open(t,1);return n.onupgradeneeded=function(e){e.target.result.createObjectStore("messages",{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){n.onerror=function(e){return t(e)},n.onsuccess=function(){e(n.result)}}))}(e).then((function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:Object(pr.e)(),eMIs:new yr(2*t.idb.ttl),writeBlockPromise:Promise.resolve(),messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},function e(t){if(t.closed)return;Sr(t).then((function(){return Object(pr.f)(t.options.idb.fallbackInterval)})).then((function(){return e(t)}))}(r),r}))},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,Sr(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return function(e,t,n){var r={uuid:t,time:(new Date).getTime(),data:n},i=e.transaction(["messages"],"readwrite");return new Promise((function(e,t){i.oncomplete=function(){return e()},i.onerror=function(e){return t(e)},i.objectStore("messages").add(r)}))}(e.db,e.uuid,t)})).then((function(){0===Object(pr.d)(0,10)&&_r(e.db,e.options.idb.ttl)})),e.writeBlockPromise},canBeUsed:function(){return!pr.a&&!!wr()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:br},Ar=pr.c;function Pr(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function kr(e){return"pubkey.broadcastChannel-"+e}function xr(){if(pr.a)return!1;var e=Pr();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(e){return!1}return!0}var Cr={create:function(e,t){if(t=gr(t),!xr())throw new Error("BroadcastChannel: localstorage cannot be used");var n=Object(pr.e)(),r=new yr(t.localstorage.removeTimeout),i={channelName:e,uuid:n,eMIs:r};return i.listener=function(e,t){var n=kr(e),r=function(e){e.key===n&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",r),r}(e,(function(e){i.messagesCallback&&e.uuid!==n&&e.token&&!r.has(e.token)&&(e.data.time&&e.data.time<i.messagesCallbackTime||(r.add(e.token),i.messagesCallback(e.data)))})),i},close:function(e){var t;t=e.listener,window.removeEventListener("storage",t)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){Object(pr.f)().then((function(){var r=kr(e.channelName),i={token:Object(pr.e)(),time:(new Date).getTime(),data:t,uuid:e.uuid},o=JSON.stringify(i);Pr().setItem(r,o);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=o,window.dispatchEvent(a),n()}))}))},canBeUsed:xr,type:"localstorage",averageResponseTime:function(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120},microSeconds:Ar},Rr=pr.c,Ir=new Set;var Or={create:function(e){var t={name:e,messagesCallback:null};return Ir.add(t),t},close:function(e){Ir.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(Ir).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),n()}),5)}))},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:Rr},Mr=[mr,Tr,Cr];if(pr.a){var Nr=n(751);"function"==typeof Nr.canBeUsed&&Mr.push(Nr)}function Dr(e){var t=[].concat(e.methods,Mr).filter(Boolean);if(e.type){if("simulate"===e.type)return Or;var n=t.find((function(t){return t.type===e.type}));if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||pr.a||(t=t.filter((function(e){return"idb"!==e.type})));var r=t.find((function(e){return e.canBeUsed()}));if(r)return r;throw new Error("No useable methode found:"+JSON.stringify(Mr.map((function(e){return e.type}))))}var Lr,jr=function(e,t){var n,r;this.name=e,Lr&&(t=Lr),this.options=gr(t),this.method=Dr(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,r=(n=this).method.create(n.name,n.options),Object(pr.b)(r)?(n._prepP=r,r.then((function(e){n._state=e}))):n._state=r};function Br(e,t,n){var r={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:Promise.resolve()).then((function(){var t=e.method.postMessage(e._state,r);return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function Fr(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Ur(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&Fr(e)){var t=function(t){e._addEL[t.type].forEach((function(e){t.time>=e.time&&e.fn(t.data)}))},n=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function qr(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!Fr(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}jr._pubkey=!0,jr.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return Br(this,"message",e)},postInternal:function(e){return Br(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};qr(this,"message",this._onML),e&&"function"==typeof e?(this._onML=t,Ur(this,"message",t)):this._onML=null},addEventListener:function(e,t){Ur(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){qr(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){this.closed=!0;var t=this._prepP?this._prepP:Promise.resolve();return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}};var Hr=new Set,Kr=0,Vr=function(){function e(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};this.internalStore={},this.localDocumentsStore={},this.idleQueue=new lr,this.token=fr()(10),this._subs=[],this.destroyed=!1,this.subject=new he,this.observable$=this.subject.asObservable(),this.name=e,this.storage=t,this.instanceCreationOptions=n,this.password=r,this.multiInstance=i,this.eventReduce=o,this.options=a,this.collections={},Kr++}var t=e.prototype;return t.dangerousRemoveCollectionInfo=function(){var e=A()(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(this.internalStore);case 2:return t=e.sent,n=t.map((function(e){var t=Object(c.i)(e);return t._deleted=!0,{previous:e,document:t}})),e.next=6,this.internalStore.bulkWrite(n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.$emit=function(e){this.subject.next(e),e.databaseToken===this.token&&function(e,t){if(e.destroyed)return Promise.resolve(!1);if(e.multiInstance&&(!(r=t).collectionName||"_"!==r.collectionName.charAt(0))&&e.broadcastChannel){var n={cE:t,storageToken:e.storageToken};return e.broadcastChannel.postMessage(n).then((function(){return!0}))}return Promise.resolve(!1);var r}(this,e)},t.removeCollectionDoc=function(){var e=A()(k.a.mark((function e(t,n){var r,i,o,a=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Gr(t,n),e.next=3,Te(this.internalStore,r);case 3:if(i=e.sent){e.next=6;break}throw g("SNH",{name:t,schema:n});case 6:return(o=Object(c.i)(i))._deleted=!0,e.next=10,this.lockedRun((function(){return a.internalStore.bulkWrite([{document:o,previous:i}])}));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.addCollections=function(){var e=A()(k.a.mark((function e(t){var n,r,i,o,a,u,s=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.internalStore.findDocumentsById(Object.keys(t).map((function(e){return Gr(e,t[e].schema)})),!1);case 2:return n=e.sent,r={},Array.from(n.entries()).forEach((function(e){var t=e[0],n=e[1];r[t]=n})),i={},e.next=8,Promise.all(Object.entries(t).map((function(e){var n=e[0],o=e[1],a=n,u=r[Gr(n,t[a].schema)],f=Object(c.i)(o);f.name=a;var l=at(o.schema);if(i[a]=l.hash,f.schema=l,f.database=s,s.collections[n])throw g("DB3",{name:n});if(u&&u.schemaHash!==i[a])throw g("DB6",{name:n,previousSchemaHash:u.schemaHash,schemaHash:i[a]});var d=Object(c.i)(o);return d.database=s,d.name=n,E("preCreateRxCollection",d),ur(f,!!u)})));case 8:if(o=e.sent,a=[],u={},o.forEach((function(e){var n=e.name;if(u[n]=e,e.schema.crypt&&!s.password)throw g("DB7",{name:n});r[n]||a.push({document:{collectionName:Gr(n,t[n].schema),schemaHash:i[n],schema:e.schema.normalized,version:e.schema.version,_attachments:{}}}),s.collections[n]=e,s[n]||Object.defineProperty(s,n,{get:function(){return s.collections[n]}})})),!(a.length>0)){e.next=15;break}return e.next=15,this.internalStore.bulkWrite(a);case 15:return e.abrupt("return",u);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.removeCollection=function(e){var t=this;return this.collections[e]&&this.collections[e].destroy(),function(e,t){return $r.apply(this,arguments)}(this,e).then((function(n){return Promise.all(n.map((function(n){return t.storage.createStorageInstance({databaseName:t.name,collectionName:e,schema:Ve(n,"collectionName"),options:t.instanceCreationOptions})})))})).then((function(e){return Promise.all(e.map((function(e){return t.lockedRun((function(){return e.remove()}))})))})).then((function(){}))},t.lockedRun=function(e){return this.idleQueue.wrapCall(e)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(){throw Object(c.t)("json-dump")},t.importJSON=function(e){throw Object(c.t)("json-dump")},t.server=function(e){throw Object(c.t)("server")},t.backup=function(e){throw Object(c.t)("backup")},t.leaderElector=function(){throw Object(c.t)("leader-election")},t.isLeader=function(){throw Object(c.t)("leader-election")},t.waitForLeadership=function(){throw Object(c.t)("leader-election")},t.migrationStates=function(){throw Object(c.t)("migration")},t.destroy=function(){var e=this;return this.destroyed?Promise.resolve(!1):(E("preDestroyRxDatabase",this),Kr--,this.destroyed=!0,this._subs.map((function(e){return e.unsubscribe()})),this.requestIdlePromise().then((function(){return Promise.all(Object.keys(e.collections).map((function(t){return e.collections[t]})).map((function(e){return e.destroy()})))})).then((function(){return e.internalStore.close?e.internalStore.close():null})).then((function(){return e.broadcastChannel?e.broadcastChannel.close():Promise.resolve()})).then((function(){return Hr.delete(e.name)})).then((function(){return!0})))},t.remove=function(){var e=this;return this.destroy().then((function(){return ei(e.name,e.storage)}))},i()(e,[{key:"$",get:function(){return this.observable$}}]),e}();function zr(e){return Wr.apply(this,arguments)}function Wr(){return(Wr=A()(k.a.mark((function e(t){var n,r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="storageToken",e.next=3,Ne(t.localDocumentsStore,n);case 3:if(r=e.sent){e.next=11;break}return i=fr()(10),e.next=8,t.localDocumentsStore.bulkWrite([{document:{_id:n,value:i,_attachments:{}}}]);case 8:return e.abrupt("return",i);case 11:return e.abrupt("return",r.value);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gr(e,t){return e+"-"+t.version}function $r(){return($r=A()(k.a.mark((function e(t,n){var r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.lockedRun((function(){return _e(t.internalStore)}));case 2:return r=e.sent,i=r.filter((function(e){return e.collectionName.split("-")[0]===n})),e.abrupt("return",Promise.all(i.map((function(e){var n=Object(c.i)(e);return n._deleted=!0,t.lockedRun((function(){return Re(t.internalStore,{previous:e,document:n})}))}))).then((function(){return i.map((function(e){return e.version}))})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jr(e){e.broadcastChannel=new jr("RxDB:"+e.name+":socket"),e.broadcastChannel$=new he,e.broadcastChannel.onmessage=function(t){if(t.storageToken===e.storageToken&&t.cE.databaseToken!==e.token){var n=t.cE;e.broadcastChannel$.next(n)}},e._subs.push(e.broadcastChannel$.subscribe((function(t){e.$emit(t)})))}function Qr(e,t,n){return Yr.apply(this,arguments)}function Yr(){return(Yr=A()(k.a.mark((function e(t,n,r){var i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createStorageInstance({databaseName:n,collectionName:"_rxdb_internal",schema:Ve(0,"collectionName"),options:r});case 2:return i=e.sent,e.next=5,t.createKeyObjectStorageInstance(n,"",r);case 5:return o=e.sent,e.abrupt("return",{internalStore:i,localDocumentsStore:o});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xr(){return(Xr=A()(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr(t.storage,t.name,t.instanceCreationOptions);case 2:return n=e.sent,t.internalStore=n.internalStore,t.localDocumentsStore=n.localDocumentsStore,r=t.localDocumentsStore.changeStream().subscribe((function(e){t.$emit(Be(!0,e,t))})),t._subs.push(r),e.next=9,zr(t);case 9:t.storageToken=e.sent,t.multiInstance&&Jr(t);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zr(e){var t=e.storage,n=e.instanceCreationOptions,r=e.name,i=e.password,o=e.multiInstance,a=void 0===o||o,u=e.eventReduce,s=void 0!==u&&u,c=e.ignoreDuplicate,f=void 0!==c&&c,l=e.options,d=void 0===l?{}:l;E("preCreateRxDatabase",{storage:t,instanceCreationOptions:n,name:r,password:i,multiInstance:a,eventReduce:s,ignoreDuplicate:f,options:d}),i&&p.validatePassword(i),f||function(e){if(Hr.has(e))throw g("DB8",{name:e,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}(r),Hr.add(r);var h=new Vr(r,t,n,i,a,s,d);return function(e){return Xr.apply(this,arguments)}(h).then((function(){return _("createRxDatabase",h)})).then((function(){return h}))}function ei(e,t){return ti.apply(this,arguments)}function ti(){return(ti=A()(k.a.mark((function e(t,n){var r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qr(n,t,{});case 2:return r=e.sent,e.next=5,_e(r.internalStore);case 5:return i=e.sent,e.next=8,Promise.all(i.map((function(e){return e.collectionName})).map(function(){var e=A()(k.a.mark((function e(r){var i,o,a,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.split("-"),o=i[0],a=parseInt(i[1],10),e.next=5,n.createStorageInstance({databaseName:t,collectionName:o,schema:Ve(a,"collectionName"),options:{}});case 5:return u=e.sent,e.abrupt("return",u.remove());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",Promise.all([r.internalStore.remove(),r.localDocumentsStore.remove()]));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ni(e){return e instanceof Vr}function ri(){return Kr}var ii={RxSchema:Xe.prototype,Crypter:st.prototype,RxDocument:Ge,RxQuery:Ln.prototype,RxCollection:or.prototype,RxDatabase:Vr.prototype},oi=new Set;function ai(e){if(E("preAddRxPlugin",{plugin:e,plugins:oi}),!oi.has(e)){if(oi.add(e),!e.rxdb)throw b("PL1",{plugin:e});e.prototypes&&Object.entries(e.prototypes).forEach((function(e){var t=e[0];return(0,e[1])(ii[t])})),e.overwritable&&Object.assign(p,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach((function(e){var t=e[0],n=e[1];return w[t].push(n)}))}}var ui,si,ci={UT1:"given name is no string or empty",UT2:"collection- and database-names must match the regex\n    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'",UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",PL1:"Given plugin is not RxDB plugin. Pouchdb plugins must be added via addPouchPlugin()",PL2:"You tried importy a RxDB plugin to pouchdb. Use addRxPlugin() instead.",P1:"PouchDB.getBatch: limit must be > 2",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU7:"query must be an object",QU8:"query cannot be an array",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://pubkey.github.io/rxdb/questions-answers.html#cant-change-the-schema",DB7:"RxDatabase.addCollections(): schema encrypted but no password given",DB8:"RxDatabase.create(): A RxDatabase with the same name and adapter already exists.\nMake sure to use this combination only once or set ignoreDuplicate to true if you do this intentional",DB9:"RxDatabase.create(): Adapter not added. Use RxDB.plugin(require('pouchdb-adapter-[adaptername]');",DB10:"RxDatabase.create(): To use leveldown-adapters, you have to add the leveldb-plugin. Use RxDB.plugin(require('pouchdb-adapter-leveldb'));",DB11:"RxDatabase.create(): Invalid db-name, folder-paths must not have an ending slash",COL1:"RxDocument.insert() You cannot insert an existing document",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.atomicUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL19:"Pouchdb document update conflict",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): cant save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",AT1:"to use attachments, please define this in your schema",EN1:"password is no string",EN2:"validatePassword: min-length of password not complied",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ cant use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not useable on local documents",LD7:"Local document already exists",RC1:"Replication: already added",RC2:"RxCollection.syncCouchDB() query must be from the same RxCollection",RC3:"RxCollection.syncCouchDB() Do not use a collection's pouchdb as remote, use the collection instead",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await inital replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await inital replication if multiInstance because the replication might run on another instance",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",DEV1:"dev-mode added multiple times, this is likely because you have mixed up the import from the the plugins/core and the full RxDB",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",IM1:"InMemory: Memory-Adapter must be added. Use addPouchPlugin(require('pouchdb-adapter-memory'));",IM2:"inMemoryCollection.sync(): Do not replicate with the in-memory instance. Replicate with the parent instead",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"cannot find sub schema by key",SNH:"This should never happen"};var fi,li=new($e(Ge));function di(){if(!fi){var e=Object.getOwnPropertyNames(li),t=Object.getOwnPropertyNames(Ge);fi=[].concat(e,t,["deleted","synced"])}return fi}function hi(e){function t(e,t,n){if("string"!=typeof e||"object"!=typeof t||Array.isArray(t)||function(e){if(""!==e&&"_deleted"!==e){if(["properties","language"].includes(e))throw g("SC23",{fieldName:e});var t="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",n=new RegExp(t);if(!e.match(n))throw g("SC1",{regex:t,fieldName:e})}}(e),t.hasOwnProperty("item")&&"array"!==t.type)throw g("SC2",{fieldName:e});if(t.hasOwnProperty("required")&&"boolean"==typeof t.required)throw g("SC24",{fieldName:e});if(t.hasOwnProperty("ref"))if(Array.isArray(t.type)){if(t.type.length>2||!t.type.includes("string")||!t.type.includes("null"))throw g("SC4",{fieldName:e})}else switch(t.type){case"string":break;case"array":if(!t.items||!t.items.type||"string"!==t.items.type)throw g("SC3",{fieldName:e});break;default:throw g("SC4",{fieldName:e})}var r=n.split(".").length>=2;if(r){if(t.primary)throw g("SC6",{path:n,primary:t.primary});if(t.default)throw g("SC7",{path:n})}if(!r&&"_"===e.charAt(0)){if("_deleted"===e)return;throw g("SC8",{fieldName:e})}}return function e(n,r){"object"==typeof n&&Object.keys(n).forEach((function(i){n.properties||t(i,n[i],r);var o=r;"properties"!==i&&(o=o+"."+i),e(n[i],o)}))}(e,""),!0}function pi(e){for(var t=e.split("."),n="",r=0;r<t.length;r+=1)n="[]"!==t[r]?n.concat(".properties.".concat(t[r])):n.concat(".items");return Object(c.E)(n)}function mi(e){e&&Object.entries(e).forEach((function(e){var t=e[0],n=e[1];if("string"!=typeof t)throw b("COL14",{name:t});if(t.startsWith("_"))throw b("COL15",{name:t});if("function"!=typeof n)throw b("COL16",{name:t,type:typeof t});if(function(){if(!ui){var e=new or,t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));ui=[].concat(t,n)}return ui}().includes(t)||di().includes(t))throw g("COL17",{name:t})}))}function yi(e){if(function(){if(!si){var e=new Vr("pseudoInstance","memory"),t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));si=[].concat(t,n),e.destroy()}return si}().includes(e.name))throw g("DB5",{name:e.name})}var vi=n(702),gi=n.n(vi);var bi={name:"dev-mode",rxdb:!0,overwritable:{isDevMode:function(){return!0},deepFreezeWhenDevMode:function(e){return e?gi()(e):e},tunnelErrorMessage:function(e){if(!ci[e])throw console.error("RxDB: Error-Code not known: "+e),new Error("Error-Code "+e+" not known, contact the maintainer");return ci[e]}},hooks:{preAddRxPlugin:function(e){if("dev-mode"===e.plugin.name)throw g("DEV1",{plugins:e.plugins})},preCreateRxSchema:function(e){if(!e.primaryKey)throw g("SC30",{schema:e});if(!e.hasOwnProperty("properties"))throw g("SC29",{schema:e});if(e.properties._rev)throw g("SC10",{schema:e});if(!e.hasOwnProperty("version")||"number"!=typeof e.version||e.version<0)throw g("SC11",{version:e.version});if(hi(e),function(e){if(!e.primaryKey)throw g("SC30",e);function t(t){if(!t)throw g("SC33",{schema:e});var n=t.type;if(!n||!["string","number","integer"].includes(n))throw g("SC32",{schema:e,args:{schemaPart:t}})}if("string"==typeof e.primaryKey){var n=e.primaryKey;t(e.properties[n])}else{var r=e.primaryKey;t(ze(e,r.key)),r.fields.forEach((function(n){t(ze(e,n))}))}}(e),Object.keys(e.properties).forEach((function(t){var n=e.properties[t];if(t===e.primaryKey){if(e.indexes&&e.indexes.includes(t))throw g("SC13",{value:n,schema:e});if(n.unique)throw g("SC14",{value:n,schema:e});if(e.encrypted&&e.encrypted.includes(t))throw g("SC15",{value:n,schema:e});if("string"!==n.type)throw g("SC16",{value:n,schema:e})}if(di().includes(t))throw g("SC17",{key:t,schema:e})})),e.indexes){if(!Array.isArray(e.indexes))throw g("SC18",{indexes:e.indexes,schema:e});e.indexes.forEach((function(t){if("string"!=typeof t&&!Array.isArray(t))throw g("SC19",{index:t,schema:e});if(Array.isArray(t))for(var n=0;n<t.length;n+=1)if("string"!=typeof t[n])throw g("SC20",{index:t,schema:e})}))}if(Object.keys(e).includes("compoundIndexes"))throw g("SC25",{schema:e});Object.keys(Object(c.j)(e)).map((function(e){var t=e.split(".");return t.pop(),t.join(".")})).filter((function(e){return""!==e})).filter((function(e,t,n){return n.indexOf(e)===t})).filter((function(t){return!!s.a.get(e,t).index})).forEach((function(t){throw t=(t=t.replace("properties.","")).replace(/\.properties\./g,"."),g("SC26",{index:Object(c.E)(t),schema:e})})),(e.indexes||[]).reduce((function(e,t){return Array.isArray(t)?e.concat(t):e.push(t),e}),[]).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(t){var n=pi(t),r=s.a.get(e,n);if(!r||"object"!=typeof r)throw g("SC21",{index:t,schema:e});return{indexPath:t,schemaObj:r}})).filter((function(e){return"string"!==e.schemaObj.type&&"integer"!==e.schemaObj.type&&"number"!==e.schemaObj.type})).forEach((function(t){throw g("SC22",{key:t.indexPath,type:t.schemaObj.type,schema:e})})),Object.keys(Object(c.j)(e)).map((function(e){var t=e.split(".");return t.pop(),t.join(".")})).filter((function(e){return""!==e&&"attachments"!==e})).filter((function(e,t,n){return n.indexOf(e)===t})).filter((function(t){return!!s.a.get(e,t).encrypted})).forEach((function(t){throw t=(t=t.replace("properties.","")).replace(/\.properties\./g,"."),g("SC27",{index:Object(c.E)(t),schema:e})})),e.encrypted&&e.encrypted.forEach((function(t){var n=pi(t),r=s.a.get(e,n);if(!r||"object"!=typeof r)throw g("SC28",{field:t,schema:e})}))},preCreateRxDatabase:function(e){!function(e){if(tr(e.name),Object(c.o)(e.name)&&(e.name.endsWith("/")||e.name.endsWith("\\")))throw g("DB11",{name:e.name})}(e)},preCreateRxCollection:function(e){if(yi(e),"_"===e.name.charAt(0))throw g("DB2",{name:e.name});if(!e.schema)throw g("DB4",{name:e.name,args:e})},preCreateRxQuery:function(e){!function(e){if(!("[object Object]"===Object.prototype.toString.call(e.queryObj)))throw b("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj});var t=["selector","limit","skip","sort"];Object.keys(e.queryObj).forEach((function(n){if(!t.includes(n))throw b("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj,key:n})}))}(e)},createRxCollection:function(e){mi(e.statics),mi(e.methods),mi(e.attachments),e.schema&&e.migrationStrategies&&function(e,t){if("object"!=typeof t||Array.isArray(t))throw b("COL11",{schema:e});var n=nt(e);if(n.length!==Object.keys(t).length)throw g("COL12",{have:Object.keys(t),should:n});n.map((function(e){return{v:e,s:t[e+1]}})).filter((function(e){return"function"!=typeof e.s})).forEach((function(t){throw b("COL13",{version:t.v,type:typeof t,schema:e})}))}(e.schema,e.migrationStrategies)}}},wi=n(703),Ei=n.n(wi),_i=new Map;function Si(e){var t=e.hash;if(!_i.has(t)){var n=Ei()(e.jsonSchema);_i.set(t,n)}return _i.get(t)}var Ti=function(e){var t=Si(this);if(t(e))return e;throw g("VD2",{errors:t.errors,obj:e,schema:this.jsonSchema})},Ai={name:"validate",rxdb:!0,prototypes:{RxSchema:function(e){e._getValidator=Si,e.validate=Ti}},hooks:{createRxSchema:function(e){Object(c.y)((function(){Si(e)}))}}},Pi="abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ123456789",ki=Pi.length;var xi=function(e,t){return e<t?-1:t>e?1:0};function Ci(e){return Object.assign({},e)}var Ri=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function Ii(e,t,n){void 0===t&&(t="|"),void 0===n&&(n=[]);var r=function(e,t){var n=function e(t){var n=new Set;function r(t){var r=e(t);Array.from(r).forEach((function(e){return n.add(e)}))}t.properties&&Object.entries(t.properties).forEach((function(e){var i=Ri(e,2),o=i[0],a=i[1];n.add(o),t.properties&&r(a)}));t.items&&(Array.isArray(t.items)?t.items.forEach((function(e){r(e)})):r(t.items));return n}(e),r=Array.from(n).sort(xi),i=new Map,o=0;return r.filter((function(e){return e.length>3&&!t.includes(e)})).forEach((function(e){var t=function(e){var t=[];do{var n=e%ki;t.push(n),e=Math.floor(e/ki)}while(e-- >0);return t.reverse().map((function(e){return Pi[e]})).join("")}(o);o++,i.set(e,t)})),i}(e,n);return{compressedToUncompressed:r,uncompressedToCompressed:Oi(r,t,n),compressionFlag:t}}function Oi(e,t,n){var r=new Map;return Array.from(e.keys()).forEach((function(i){var o=e.get(i);n.includes(o)||r.set(t+o,i)})),r}var Mi=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function Ni(e,t){if("object"!=typeof t||null===t)return t;if(Array.isArray(t))return t.map((function(t){return Ni(e,t)}));var n={};return Object.keys(t).forEach((function(r){var i=Li(e,r),o=Ni(e,t[r]);n[i]=o})),n}function Di(e,t){return t.split(".").map((function(t){return Li(e,t)})).join(".")}function Li(e,t){!function(e,t){if(t.startsWith(e.compressionFlag))throw new Error("cannot compress objects that start with the compression-flag: "+e.compressionFlag+" on key "+t)}(e,t);var n=t.split("[");t=n.shift();var r=e.compressedToUncompressed.get(t);if(r){var i=n.length?"["+n.join("["):"";return e.compressionFlag+r+i}return t}function ji(e,t){if(Array.isArray(t))return t.map((function(t){return ji(e,t)}));if(t instanceof RegExp)return t;if("object"==typeof t&&null!==t){var n={};return Object.keys(t).forEach((function(r){var i;i=r.startsWith("$")?r:Di(e,r),n[i]=ji(e,t[r])})),n}return t}var Bi=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};function Fi(e,t){var n=t.split("[");t=n.shift();var r=e.uncompressedToCompressed.get(t);return r?r+(n.length?"["+n.join("["):""):t}var Ui=new WeakMap;function qi(e){var t=Object(c.i)(e);delete t.primaryKey;var n=Ii(t,"|",[et(e.primaryKey),"_rev","_attachments","_deleted"]);delete t.primaryKey;var r=function e(t,n){if("array"===n.type&&n.items){var r=Ci(n);if(Array.isArray(n.items)){var i=n.items.map((function(n){return e(t,n)}));r.items=i}else{i=e(t,n.items);r.items=i}return r}if("object"===n.type&&n.properties){r=Ci(n);var o={};return Object.entries(n.properties).forEach((function(n){var r=Bi(n,2),i=r[0],a=r[1],u=Di(t,i);o[u]=e(t,a)})),r.properties=o,r.required&&(r.required=r.required.map((function(e){return Di(t,e)}))),r}return n}(n,t);if("string"!=typeof e.primaryKey){var i=e.primaryKey,o={key:Di(n,i.key),fields:i.fields.map((function(e){return Di(n,e)})),separator:i.separator};r.primaryKey=o}else r.primaryKey=Di(n,e.primaryKey);if(e.indexes){var a=e.indexes.map((function(e){return Array.isArray(e)?e.map((function(e){return Di(n,e)})):Di(n,e)}));r.indexes=a}return{table:n,schema:r}}function Hi(e){var t=Ui.get(e);return t||(t=qi(e.schema.jsonSchema),Ui.set(e,t)),t}var Ki={name:"key-compression",rxdb:!0,prototypes:{},overwritable:{},hooks:{prePrepareQuery:function(e){var t=e.rxQuery,n=e.mangoQuery;if(t.collection.schema.jsonSchema.keyCompression){var r=function(e,t){var n={selector:ji(e,t.selector)};if(t.skip&&(n.skip=t.skip),t.limit&&(n.limit=t.limit),t.fields&&(n.fields=t.fields.map((function(t){return Di(e,t)}))),t.sort)if(Array.isArray(t.sort))n.sort=t.sort.map((function(t){if("string"==typeof t){var n=t.startsWith("-");n&&(t=t.substr(1));var r=Di(e,t);return n&&(r="-"+r),r}return ji(e,t)}));else{var r={};Object.entries(t.sort).forEach((function(t){var n=Mi(t,2),i=n[0],o=n[1],a=Di(e,i);r[a]=o})),n.sort=r}return n}(Hi(t.collection).table,n);e.mangoQuery=r}},preCreateRxStorageInstance:function(e){if(e.schema.keyCompression){var t=qi(e.schema);e.schema=t.schema}},preQueryMatcher:function(e){if(e.rxQuery.collection.schema.jsonSchema.keyCompression){var t=Hi(e.rxQuery.collection);e.doc=Ni(t.table,e.doc)}},preSortComparator:function(e){if(e.rxQuery.collection.schema.jsonSchema.keyCompression){var t=Hi(e.rxQuery.collection);e.docA=Ni(t.table,e.docA),e.docB=Ni(t.table,e.docB)}},preWriteToStorageInstance:function(e){if(e.collection.schema.jsonSchema.keyCompression){var t=Hi(e.collection),n=e.doc._attachments;delete e.doc._attachments,e.doc=Ni(t.table,e.doc),e.doc._attachments=n}},postReadFromInstance:function(e){if(e.collection.schema.jsonSchema.keyCompression){var t=Hi(e.collection);e.doc=function e(t,n){if("object"!=typeof n||null===n)return n;if(Array.isArray(n))return n.map((function(n){return e(t,n)}));var r={};return Object.keys(n).forEach((function(i){var o=Fi(t,i),a=e(t,n[i]);r[o]=a})),r}(t.table,e.doc)}}}},Vi=Array.isArray,zi=Object.getPrototypeOf,Wi=Object.prototype,Gi=Object.keys;function $i(e){if(1===e.length){var t=e[0];if(Vi(t))return{args:t,keys:null};if((r=t)&&"object"==typeof r&&zi(r)===Wi){var n=Gi(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var r;return{args:e,keys:null}}var Ji=Array.isArray;function Qi(e){return ge((function(t){return function(e,t){return Ji(t)?e.apply(void 0,N([],M(t))):e(t)}(e,t)}))}function Yi(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}function Xi(e,t,n){return void 0===n&&(n=se),function(r){Zi(t,(function(){for(var i=e.length,o=new Array(i),a=i,u=i,s=function(i){Zi(t,(function(){var s=Tt(e[i],t),c=!1;s.subscribe(new ve(r,(function(e){o[i]=e,c||(c=!0,u--),u||r.next(n(o.slice()))}),(function(){--a||r.complete()})))}),r)},c=0;c<i;c++)s(c)}),r)}}function Zi(e,t,n){e?n.add(e.schedule(t)):t()}var eo=new WeakMap;function to(e){eo.has(e)||eo.set(e,new me([]));var t=eo.get(e);return Object(c.g)(t)}var no=function(){function e(e,t){this._migrated=!1,this.newestCollection=e,this.migrationStrategies=t,this.currentSchema=e.schema,this.database=e.database,this.name=e.name}var t=e.prototype;return t.migrate=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;if(this._migrated)throw g("DM1");this._migrated=!0;var n,r={done:!1,total:0,handled:0,success:0,deleted:0,percent:0},i=new he,o=to(this.newestCollection.database),a=o.getValue().slice(0);return a.push(i.asObservable()),o.next(a),oo(e).then((function(e){return n=e,Promise.all(n.map((function(e){return Pe(e.storageInstance)})))})).then((function(o){var a=o.reduce((function(e,t){return e+t}),0);r.total=a,i.next({collection:e.newestCollection,state:Object(c.i)(r)});for(var u=n.shift(),s=Promise.resolve(),f=function(){var o=ho(u,t);s=s.then((function(){return new Promise((function(t){var n=o.subscribe((function(t){r.handled++,r[t.type]=r[t.type]+1,r.percent=Math.round(r.handled/r.total*100),i.next({collection:e.newestCollection,state:Object(c.i)(r)})}),(function(e){n.unsubscribe(),i.error(e)}),(function(){n.unsubscribe(),t()}))}))})),u=n.shift()};u;)f();return s})).then((function(){r.done=!0,r.percent=100,i.next({collection:e.newestCollection,state:Object(c.i)(r)}),i.complete()})),i.pipe(ge((function(e){return e.state})))},t.migratePromise=function(e){var t=this;return this._migratePromise||(this._migratePromise=uo(this).then((function(n){return n?new Promise((function(n,r){t.migrate(e).subscribe(null,r,n)})):Promise.resolve(!1)}))),this._migratePromise},e}();function ro(e,t,n){return io.apply(this,arguments)}function io(){return(io=A()(k.a.mark((function e(t,n,r){var i,o,a,u,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.newestCollection.database,o=at(n,!1),E("preCreateRxStorageInstance",a={databaseName:i.name,collectionName:r.newestCollection.name,schema:n,options:r.newestCollection.instanceCreationOptions}),e.next=6,i.storage.createStorageInstance(a);case 6:return u=e.sent,s={version:t,dataMigrator:r,newestCollection:r.newestCollection,database:i,schema:at(n,!1),storageInstance:u,_crypter:ct(i.password,o)},e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oo(e){return ao.apply(this,arguments)}function ao(){return(ao=A()(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(nt(t.currentSchema.jsonSchema).map((function(e){return Te(t.database.internalStore,t.name+"-"+e)})).map((function(e){return e.catch((function(){return null}))})));case 2:return n=e.sent,e.abrupt("return",Promise.all(n.map((function(e){return e?ro(e.schema.version,e.schema,t):null})).filter((function(e){return null!==e}))));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uo(e){return 0===e.currentSchema.version?Promise.resolve(!1):oo(e).then((function(e){return 0!==e.length}))}function so(e,t){return xe(e.storageInstance,t).then((function(t){return t.map((function(t){return t=Object(c.i)(t),t=He(e,t)}))}))}function co(e,t){var n=Object(c.i)(t._attachments),r=Object(c.e)(t);r._attachments=n;for(var i=e.version+1,o=Promise.resolve(r),a=function(){var t=i;o=o.then((function(n){return function(e,t,n){if(null===n)return Promise.resolve(null);var r=e.dataMigrator.migrationStrategies[t](n,e);return Object(c.D)(r)}(e,t,n)})),i++};i<=e.newestCollection.schema.version;)a();return o.then((function(n){if(null===n)return Promise.resolve(null);try{e.newestCollection.schema.validate(n)}catch(i){var r=i;throw g("DM2",{fromVersion:e.version,toVersion:e.newestCollection.schema.version,originalDoc:t,finalDoc:n,errors:r.parameters.errors,schema:r.parameters.schema})}return n}))}function fo(e,t){var n={res:null,type:"",migrated:null,doc:t,oldCollection:e,newestCollection:e.newestCollection};return _("preMigrateDocument",{docData:t,oldCollection:e}).then((function(){return co(e,t)})).then((function(r){if(o=t,u=r,s=Object.assign({},o,{_attachments:void 0,_rev:void 0}),f=Object.assign({},u,{_attachments:void 0,_rev:void 0}),a()(s,f))r._rev=t._rev;else if(null!==r){var i=Object(c.l)(t._rev)+1+"-"+Object(c.f)(r,!0);r._rev=i}var o,u,s,f;if(n.migrated=r,r){var l=r._attachments,d=qe(e.newestCollection,r);return d._attachments=l,e.newestCollection.storageInstance.bulkAddRevisions([d]).then((function(){return n.res=d,n.type="success",_("postMigrateDocument",n)}))}n.type="deleted"})).then((function(){var n=Object(c.i)(t);return n._deleted=!0,e.storageInstance.bulkWrite([{previous:qe(e,t),document:qe(e,n)}])})).then((function(){return n}))}function lo(e){return e.storageInstance.remove().then((function(){return e.database.removeCollectionDoc(e.dataMigrator.name,e.schema)}))}function ho(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(e._migrate)throw g("DM3");e._migrate=!0;var n,r=new he;return function i(){return so(e,t).then((function(t){return 0===t.length?(lo(e).then((function(){return r.complete()})),!1):Promise.all(t.map((function(t){return fo(e,t).then((function(e){return r.next(e)}))}))).catch((function(e){return n=e})).then((function(){return!0}))})).then((function(e){e&&(n?r.error(n):i())}))}(),r.asObservable()}var po=new WeakMap,mo={name:"migration",rxdb:!0,hooks:{preDestroyRxDatabase:function(e){var t=eo.get(e);t&&t.complete()}},prototypes:{RxDatabase:function(e){e.migrationStates=function(){return to(this).pipe((e=function(e){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Dt(e),r=Nt(e),i=$i(e),o=i.args,a=i.keys;if(0===o.length)return Tt([],n);var u=new fe(Xi(o,n,a?function(e){return Yi(a,e)}:se));return r?u.pipe(Qi(r)):u}(e)},ye((function(n,r){var i=null,o=0,a=!1,u=function(){return a&&!i&&r.complete()};n.subscribe(new ve(r,(function(n){null==i||i.unsubscribe();var a=0,s=o++;At(e(n,s)).subscribe(i=new ve(r,(function(e){return r.next(t?t(n,e,s,a++):e)}),(function(){i=null,u()})))}),(function(){a=!0,u()})))}))),Jn({bufferSize:1,refCount:!0}));var e,t}},RxCollection:function(e){e.getDataMigrator=function(){var e,t;return po.has(this)||po.set(this,(e=this.asRxCollection,t=this.migrationStrategies,new no(e,t))),po.get(this)},e.migrationNeeded=function(){return uo(this.getDataMigrator())}}}},yo=n(704),vo=n.n(yo);var go={add:function(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",(function(){e()}),!0),window.addEventListener("unload",(function(){e()}),!0)}}},bo=n(705),wo=n.n(bo),Eo=vo.a?wo.a:go,_o=new Set,So=!1;function To(){var e=[];return _o.forEach((function(t){e.push(t()),_o.delete(t)})),Promise.all(e)}var Ao={add:function(e){if(So||(So=!0,Eo.add(To)),"function"!=typeof e)throw new Error("Listener is no function");return _o.add(e),{remove:function(){return _o.delete(e)},run:function(){return _o.delete(e),e()}}},runAll:To,removeAll:function(){_o.clear()},getSize:function(){return _o.size}},Po=function(e,t){this._channel=e,this._options=t,this.isLeader=!1,this.isDead=!1,this.token=Object(pr.e)(),this._isApl=!1,this._reApply=!1,this._unl=[],this._lstns=[],this._invs=[],this._dpL=function(){},this._dpLC=!1};function ko(e,t){var n={context:"leader",action:t,token:e.token};return e._channel.postInternal(n)}function xo(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function(e,t){return e||(e={}),(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}(t,e);var n=new Po(e,t);return e._befC.push((function(){return n.die()})),e._leaderElector=n,n}Po.prototype={applyOnce:function(){var e=this;if(this.isLeader)return Promise.resolve(!1);if(this.isDead)return Promise.resolve(!1);if(this._isApl)return this._reApply=!0,Promise.resolve(!1);this._isApl=!0;var t=!1,n=[],r=function(r){"leader"===r.context&&r.token!=e.token&&(n.push(r),"apply"===r.action&&r.token>e.token&&(t=!0),"tell"===r.action&&(t=!0))};return this._channel.addEventListener("internal",r),ko(this,"apply").then((function(){return Object(pr.f)(e._options.responseTime)})).then((function(){return t?Promise.reject(new Error):ko(e,"apply")})).then((function(){return Object(pr.f)(e._options.responseTime)})).then((function(){return t?Promise.reject(new Error):ko(e)})).then((function(){return function(e){e.isLeader=!0;var t=Ao.add((function(){return e.die()}));e._unl.push(t);var n=function(t){"leader"===t.context&&"apply"===t.action&&ko(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._dpLC||(e._dpLC=!0,e._dpL(),ko(e,"tell"))};return e._channel.addEventListener("internal",n),e._lstns.push(n),ko(e,"tell")}(e)})).then((function(){return!0})).catch((function(){return!1})).then((function(t){return e._channel.removeEventListener("internal",r),e._isApl=!1,!t&&e._reApply?(e._reApply=!1,e.applyOnce()):t}))},awaitLeadership:function(){var e;return this._aLP||(this._aLP=(e=this).isLeader?Promise.resolve():new Promise((function(t){var n=!1;function r(){n||(n=!0,clearInterval(i),e._channel.removeEventListener("internal",o),t(!0))}e.applyOnce().then((function(){e.isLeader&&r()}));var i=setInterval((function(){e.applyOnce().then((function(){e.isLeader&&r()}))}),e._options.fallbackInterval);e._invs.push(i);var o=function(t){"leader"===t.context&&"death"===t.action&&e.applyOnce().then((function(){e.isLeader&&r()}))};e._channel.addEventListener("internal",o),e._lstns.push(o)}))),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var e=this;if(!this.isDead)return this.isDead=!0,this._lstns.forEach((function(t){return e._channel.removeEventListener("internal",t)})),this._invs.forEach((function(e){return clearInterval(e)})),this._unl.forEach((function(e){e.remove()})),ko(this,"death")}};var Co=new WeakMap,Ro=function(){function e(e){this.destroyed=!1,this.isLeader=!1,this.isDead=!1,this.database=e,this.elector=xo(e.broadcastChannel)}var t=e.prototype;return t.die=function(){return this.elector.die()},t.waitForLeadership=function(){var e=this;return this.elector.awaitLeadership().then((function(){return e.isLeader=!0,!0}))},t.destroy=function(){if(!this.destroyed)return this.destroyed=!0,this.isDead=!0,this.die()},e}();function Io(){return Co.has(this)||Co.set(this,new Ro(this)),Co.get(this)}function Oo(){return!this.multiInstance||this.leaderElector().isLeader}function Mo(){return this.multiInstance?this.leaderElector().waitForLeadership():Promise.resolve(!0)}var No={name:"leader-election",rxdb:!0,prototypes:{RxDatabase:function(e){e.leaderElector=Io,e.isLeader=Oo,e.waitForLeadership=Mo}},hooks:{preDestroyRxDatabase:function(e){var t=Co.get(e);t&&t.destroy()}}},Do=n(428),Lo=n.n(Do),jo=n(706);var Bo=function(e){return function(e,t){return Lo.a.encrypt(e,t).toString()}(e,this.password)},Fo=function(e){var t,n;return t=e,n=this.password,Lo.a.decrypt(t,n).toString(jo)};function Uo(){return(Uo=A()(k.a.mark((function e(t){var n,r,i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.password){e.next=2;break}return e.abrupt("return",Promise.resolve(!1));case 2:return n=Object(c.m)(t.password),r="pwHash",e.next=6,Ne(t.localDocumentsStore,r);case 6:if(i=e.sent){e.next=14;break}return o={_id:r,value:n,_attachments:{}},e.next=11,t.localDocumentsStore.bulkWrite([{document:o}]);case 11:return e.abrupt("return",!0);case 14:if(n===i.value){e.next=20;break}return e.next=17,t.destroy();case 17:throw g("DB1",{passwordHash:Object(c.m)(t.password),existingPasswordHash:i.value});case 20:return e.abrupt("return",!0);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qo={name:"encryption",rxdb:!0,prototypes:{Crypter:function(e){e._encryptString=Bo,e._decryptString=Fo}},overwritable:{validatePassword:function(e){if(e&&"string"!=typeof e)throw b("EN1",{password:e});if(e&&e.length<8)throw g("EN2",{minPassLength:8,password:e})}},hooks:{createRxDatabase:function(e){return function(e){return Uo.apply(this,arguments)}(e)}}},Ho=n(707),Ko=n.n(Ho);function Vo(e){var t=this._data,n=Ko()(t,e);return this._saveData(n,t)}function zo(e){return this.exec().then((function(t){return t?Array.isArray(t)?Promise.all(t.map((function(t){return t.update(e)}))).then((function(){return t})):t.update(e).then((function(){return t})):null}))}var Wo={name:"update",rxdb:!0,prototypes:{RxDocument:function(e){e.update=Vo},RxQuery:function(e){e.update=zo}}},Go=n(3);function $o(e,t){if(e===t)return 0;e=Jo(e),t=Jo(t);var n=ea(e),r=ea(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=$o(e[r],t[r]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),r=Object.keys(t),i=Math.min(n.length,r.length),o=0;o<i;o++){var a=$o(n[o],r[o]);if(0!==a)return a;if(0!==(a=$o(e[n[o]],t[r[o]])))return a}return n.length===r.length?0:n.length>r.length?1:-1}(e,t)}function Jo(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=Jo(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var i in e={},t)if(t.hasOwnProperty(i)){var o=t[i];void 0!==o&&(e[i]=Jo(o))}}}return e}function Qo(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,i=r?"0":"2",o=(a=((r?-n:n)- -324).toString(),u="0",s=3,function(e,t,n){for(var r="",i=n-e.length;r.length<i;)r+=t;return r}(a,u,s)+a);var a,u,s;i+=""+o;var c=Math.abs(parseFloat(t[0]));r&&(c=10-c);var f=c.toFixed(20);return f=f.replace(/\.?0+$/,""),i+=""+f}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,i=n.length,o="";if(t)for(;++r<i;)o+=Yo(n[r]);else for(;++r<i;){var a=n[r];o+=Yo(a)+Yo(e[a])}return o}return""}function Yo(e){return ea(e=Jo(e))+""+Qo(e)+"\0"}function Xo(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var i="0"===e[t];t++;var o="",a=e.substring(t,t+3),u=parseInt(a,10)+-324;for(i&&(u=-u),t+=3;;){var s=e[t];if("\0"===s)break;o+=s,t++}n=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),i&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function Zo(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(n);else if(o===e.length-2){i[e.pop()]=n}else e.push(n)}}function ea(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function ta(e,t,n,r,i){return e.get(t).catch((function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||Object(Go.g)(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:"pouchdb",version:1};throw n})).then((function(o){if(!i.cancelled&&o.last_seq!==n)return o.history=(o.history||[]).filter((function(e){return e.session_id!==r})),o.history.unshift({last_seq:n,session_id:r}),o.history=o.history.slice(0,5),o.version=1,o.replicator="pouchdb",o.session_id=r,o.last_seq=n,e.put(o).catch((function(o){if(409===o.status)return ta(e,t,n,r,i);throw o}))}))}function na(e,t,n,r,i){this.src=e,this.target=t,this.id=n,this.returnValue=r,this.opts=i||{}}na.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then((function(){return n.updateSource(e,t)}))},na.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?ta(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},na.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return ta(this.src,this.id,e,t,this.returnValue).catch((function(e){if(oa(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)};var ra={undefined:function(e,t){return 0===$o(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return function e(t,n){var r=t[0],i=t.slice(1),o=n[0],a=n.slice(1);if(!r||0===n.length)return{last_seq:0,history:[]};if(ia(r.session_id,n))return{last_seq:r.last_seq,history:t};if(ia(o.session_id,i))return{last_seq:o.last_seq,history:a};return e(i,a)}(e.history,t.history)}(t,e).last_seq}};function ia(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||ia(e,r))}function oa(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}na.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in ra?ra[n](t,e):0;var n}),(function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(n){return oa(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw n}))})).catch((function(e){if(404!==e.status)throw e;return 0}))};var aa=na,ua=n(87);var sa=function(e,t,n){var r=n.doc_ids?n.doc_ids.sort($o):"",i=n.filter?n.filter.toString():"",o="",a="",u="";return n.selector&&(u=JSON.stringify(n.selector)),n.filter&&n.query_params&&(o=JSON.stringify(function(e){return Object.keys(e).sort($o).reduce((function(t,n){return t[n]=e[n],t}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(a=n.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+i+a+o+r+u;return new Promise((function(e){Object(ua.a)(t,e)}))})).then((function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))}))},ca=n(9),fa=n(22),la=n.n(fa),da=n(33),ha=n.n(da);function pa(e){return/^1-/.test(e)}function ma(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map((function(n){return e.getAttachment(t._id,n,{rev:t._rev})})))}function ya(e,t,n,r){n=Object(Go.e)(n);var i=[],o=!0;function a(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then((function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach((function(e){var t;e.deleted||!e.doc||!pa(e.value.rev)||(t=e.doc,t._attachments&&Object.keys(t._attachments).length>0)||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,i.push(e.doc),delete n[e.id])}))}))}return Promise.resolve().then((function(){var e=Object.keys(n).filter((function(e){var t=n[e].missing;return 1===t.length&&pa(t[0])}));if(e.length>0)return a(e)})).then((function(){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].missing.forEach((function(e){t.push({id:n,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(n);if(a.docs.length)return e.bulkGet(a).then((function(n){if(r.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var r=n.ok;return n.error&&(o=!1),r&&r._attachments?function(e,t,n){var r=Object(Go.m)(t)&&!Object(Go.m)(e),i=Object.keys(n._attachments);return r?e.get(n._id).then((function(r){return Promise.all(i.map((function(i){return function(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}(r,n,i)?t.getAttachment(n._id,i):e.getAttachment(r._id,i)})))})).catch((function(e){if(404!==e.status)throw e;return ma(t,n)})):ma(t,n)}(t,e,r).then((function(e){var t=Object.keys(r._attachments);return e.forEach((function(e,n){var i=r._attachments[t[n]];delete i.stub,delete i.length,i.data=e})),r})):r})))}))).then((function(e){i=i.concat(Object(Go.i)(e).filter(Boolean))}))}))})).then((function(){return{ok:o,docs:i}}))}function va(e,t,n,r,i){var o,a,u,s=[],c={seq:0,changes:[],docs:[]},f=!1,l=!1,d=!1,h=0,p=n.continuous||n.live||!1,m=n.batch_size||100,y=n.batches_limit||10,v=!1,g=n.doc_ids,b=n.selector,w=[],E=Object(Go.x)();i=i||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var _={};function S(){return u?Promise.resolve():sa(e,t,n).then((function(i){a=i;var o={};o=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},u=new aa(e,t,a,r,o)}))}function T(){if(w=[],0!==o.docs.length){var e=o.docs,a={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},a).then((function(t){if(r.cancelled)throw R(),new Error("cancelled");var n=Object.create(null);t.forEach((function(e){e.error&&(n[e.id]=e)}));var o=Object.keys(n).length;i.doc_write_failures+=o,i.docs_written+=e.length-o,e.forEach((function(e){var t=n[e._id];if(t){i.errors.push(t);var o=(t.name||"").toLowerCase();if("unauthorized"!==o&&"forbidden"!==o)throw t;r.emit("denied",Object(Go.e)(t))}else w.push(e)}))}),(function(t){throw i.doc_write_failures+=e.length,t}))}}function A(){if(o.error)throw new Error("There was a problem getting docs.");i.last_seq=h=o.seq;var e=Object(Go.e)(i);return w.length&&(e.docs=w,"number"==typeof o.pending&&(e.pending=o.pending,delete o.pending),r.emit("change",e)),f=!0,u.writeCheckpoint(o.seq,E).then((function(){if(f=!1,r.cancelled)throw R(),new Error("cancelled");o=void 0,N()})).catch((function(e){throw L(e),e}))}function P(){return ya(e,t,o.diffs,r).then((function(e){o.error=!e.ok,e.docs.forEach((function(e){delete o.diffs[e._id],i.docs_read++,o.docs.push(e)}))}))}function k(){var e;r.cancelled||o||(0!==s.length?(o=s.shift(),(e={},o.changes.forEach((function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),t.revsDiff(e).then((function(e){if(r.cancelled)throw R(),new Error("cancelled");o.diffs=e}))).then(P).then(T).then(A).then(k).catch((function(e){C("batch processing terminated with error",e)}))):x(!0))}function x(e){0!==c.changes.length?(e||l||c.changes.length>=m)&&(s.push(c),c={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),k()):0!==s.length||o||((p&&_.live||l)&&(r.state="pending",r.emit("paused")),l&&R())}function C(e,t){d||(t.message||(t.message=e),i.ok=!1,i.status="aborting",s=[],c={seq:0,changes:[],docs:[]},R(t))}function R(o){if(!(d||r.cancelled&&(i.status="cancelled",f)))if(i.status=i.status||"complete",i.end_time=(new Date).toISOString(),i.last_seq=h,d=!0,o){(o=Object(ca.p)(o)).result=i;var a=(o.name||"").toLowerCase();"unauthorized"===a||"forbidden"===a?(r.emit("error",o),r.removeAllListeners()):function(e,t,n,r){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=Go.f),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var i=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",i)})),t.once("active",i)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}(n,r,o,(function(){va(e,t,n,r)}))}else r.emit("complete",i),r.removeAllListeners()}function I(e,t,i){if(r.cancelled)return R();"number"==typeof t&&(c.pending=t),Object(Go.h)(n)(e)&&(c.seq=e.seq||i,c.changes.push(e),Object(Go.o)((function(){x(0===s.length&&_.live)})))}function O(e){if(v=!1,r.cancelled)return R();if(e.results.length>0)_.since=e.results[e.results.length-1].seq,N(),x(!0);else{var t=function(){p?(_.live=!0,N()):l=!0,x(!0)};o||0!==e.results.length?t():(f=!0,u.writeCheckpoint(e.last_seq,E).then((function(){f=!1,i.last_seq=h=e.last_seq,t()})).catch(L))}}function M(e){if(v=!1,r.cancelled)return R();C("changes rejected",e)}function N(){if(!v&&!l&&s.length<y){v=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",i);var t=e.changes(_).on("change",I);t.then(o,o),t.then(O).catch(M),n.retry&&(r._changes=t,r._abortChanges=i)}function i(){t.cancel()}function o(){r.removeListener("cancel",i)}}function D(){S().then((function(){if(!r.cancelled)return u.getCheckpoint().then((function(e){_={since:h=e,limit:m,batch_size:m,style:"all_docs",doc_ids:g,selector:b,return_docs:!0},n.filter&&("string"!=typeof n.filter?_.include_docs=!0:_.filter=n.filter),"heartbeat"in n&&(_.heartbeat=n.heartbeat),"timeout"in n&&(_.timeout=n.timeout),n.query_params&&(_.query_params=n.query_params),n.view&&(_.view=n.view),N()}));R()})).catch((function(e){C("getCheckpoint rejected with ",e)}))}function L(e){f=!1,C("writeCheckpoint completed with error",e)}r.ready(e,t),r.cancelled?R():(r._addedListeners||(r.once("cancel",R),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",(function(e){n.complete(null,e)}))),r._addedListeners=!0),void 0===n.since?D():S().then((function(){return f=!0,u.writeCheckpoint(n.since,E)})).then((function(){f=!1,r.cancelled?R():(h=n.since,D())})).catch(L))}function ga(){ha.a.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise((function(t,n){e.once("complete",t),e.once("error",n)}));e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch((function(){}))}function ba(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function wa(e,t,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw Object(ca.p)(ca.b,"`doc_ids` filter parameter is not a list.");n.complete=r,(n=Object(Go.e)(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var i=new ga(n);return va(ba(e,n),ba(t,n),n,i),i}function Ea(e,t,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),(n=Object(Go.e)(n)).PouchConstructor=n.PouchConstructor||this,new _a(e=ba(e,n),t=ba(t,n),n,r)}function _a(e,t,n,r){var i=this;this.canceled=!1;var o=n.push?Object(Go.b)({},n,n.push):n,a=n.pull?Object(Go.b)({},n,n.pull):n;function u(e){i.emit("change",{direction:"pull",change:e})}function s(e){i.emit("change",{direction:"push",change:e})}function c(e){i.emit("denied",{direction:"push",doc:e})}function f(e){i.emit("denied",{direction:"pull",doc:e})}function l(){i.pushPaused=!0,i.pullPaused&&i.emit("paused")}function d(){i.pullPaused=!0,i.pushPaused&&i.emit("paused")}function h(){i.pushPaused=!1,i.pullPaused&&i.emit("active",{direction:"push"})}function p(){i.pullPaused=!1,i.pushPaused&&i.emit("active",{direction:"pull"})}this.push=wa(e,t,o),this.pull=wa(t,e,a),this.pushPaused=!0,this.pullPaused=!0;var m={};function y(e){return function(t,n){("change"===t&&(n===u||n===s)||"denied"===t&&(n===f||n===c)||"paused"===t&&(n===d||n===l)||"active"===t&&(n===p||n===h))&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&i.removeAllListeners(t))}}function v(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",i.pull.cancel.bind(i.pull)),this.pull.on("complete",i.push.cancel.bind(i.push))),this.on("newListener",(function(e){"change"===e?(v(i.pull,"change",u),v(i.push,"change",s)):"denied"===e?(v(i.pull,"denied",f),v(i.push,"denied",c)):"active"===e?(v(i.pull,"active",p),v(i.push,"active",h)):"paused"===e&&(v(i.pull,"paused",d),v(i.push,"paused",l))})),this.on("removeListener",(function(e){"change"===e?(i.pull.removeListener("change",u),i.push.removeListener("change",s)):"denied"===e?(i.pull.removeListener("denied",f),i.push.removeListener("denied",c)):"active"===e?(i.pull.removeListener("active",p),i.push.removeListener("active",h)):"paused"===e&&(i.pull.removeListener("paused",d),i.push.removeListener("paused",l))})),this.pull.on("removeListener",y("pull")),this.push.on("removeListener",y("push"));var g=Promise.all([this.push,this.pull]).then((function(e){var t={push:e[0],pull:e[1]};return i.emit("complete",t),r&&r(null,t),i.removeAllListeners(),t}),(function(e){if(i.cancel(),r?r(e):i.emit("error",e),i.removeAllListeners(),r)throw e}));this.then=function(e,t){return g.then(e,t)},this.catch=function(e){return g.catch(e)}}la()(ga,ha.a),ga.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},ga.prototype.ready=function(e,t){var n=this;function r(){n.cancel()}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",r),t.once("destroyed",r),n.once("complete",(function(){e.removeListener("destroyed",r),t.removeListener("destroyed",r)})))},la()(_a,ha.a),_a.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())};var Sa=function(e){e.replicate=wa,e.sync=Ea,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}},Ta=["addListener","removeListener"],Aa=["addEventListener","removeEventListener"],Pa=["on","off"];function ka(e,t,n,r){if(B(n)&&(r=n,n=void 0),r)return ka(e,t,n).pipe(Qi(r));var i=M(function(e){return B(e.addEventListener)&&B(e.removeEventListener)}(e)?Aa.map((function(r){return function(i){return e[r](t,i,n)}})):function(e){return B(e.addListener)&&B(e.removeListener)}(e)?Ta.map(xa(e,t)):function(e){return B(e.on)&&B(e.off)}(e)?Pa.map(xa(e,t)):[],2),o=i[0],a=i[1];if(!o&&dt(e))return xt((function(e){return ka(e,t,n)}))(Rt(e));if(!o)throw new TypeError("Invalid event target");return new fe((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return o(t),function(){return a(t)}}))}function xa(e,t){return function(n){return function(r){return e[n](t,r)}}}function Ca(e){return ye((function(t,n){var r=!1;t.subscribe(new ve(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}function Ra(e){return void 0===e&&(e=Ia),ye((function(t,n){var r=!1;t.subscribe(new ve(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}function Ia(){return new ft}var Oa=n(61),Ma=n(157),Na=n.n(Ma),Da=n(37),La=("undefined"!=typeof AbortController&&AbortController,fetch),ja=Headers;function Ba(e,t){for(var n=e,r=0,i=t.length;r<i;r++){if(!(n=n[t[r]]))break}return n}function Fa(e,t,n){for(var r=0,i=t.length;r<i-1;r++){var o=t[r];e=e[o]=e[o]||{}}e[t[i-1]]=n}function Ua(e,t){return e<t?-1:e>t?1:0}function qa(e){for(var t=[],n="",r=0,i=e.length;r<i;r++){var o=e[r];"."===o?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=o}return t.push(n),t}var Ha=["$or","$nor","$not"];function Ka(e){return Ha.indexOf(e)>-1}function Va(e){return Object.keys(e)[0]}function za(e){return e[Va(e)]}function Wa(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),Ka(n))t[n]=r instanceof Array?r.map((function(e){return Wa([e])})):Wa([r]);else{var i=t[n]=t[n]||{};Object.keys(r).forEach((function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t}(e,t,i):"$lt"===e||"$lte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t}(e,t,i):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,i):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,i):void(i[e]=t)}))}}))})),t}function Ga(e){var t=Object(Go.e)(e),n=!1;(function e(t,n){for(var r in t){"$and"===r&&(n=!0);var i=t[r];"object"==typeof i&&(n=e(i,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var r in t)t[r].$and&&(t[r]=Wa(t[r].$and));var i=t[n];"object"==typeof i&&e(i)}return t}(t))&&(t=Wa(t.$and)),n=!0),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],i=e[r];"object"==typeof i&&null!==i||(e[r]={$eq:i})}}))})),"$not"in t&&(t.$not=Wa([t.$not]));for(var r=Object.keys(t),i=0;i<r.length;i++){var o=r[i],a=t[o];"object"!=typeof a||null===a?a={$eq:a}:"$ne"in a&&!n&&(a.$ne=[a.$ne]),t[o]=a}return t}function $a(e,t,n){if(e=e.filter((function(e){return Ja(e.doc,t.selector,n)})),t.sort){var r=function(e){function t(t){return e.map((function(e){var n=qa(Va(e));return Ba(t,n)}))}return function(e,n){var r=$o(t(e.doc),t(n.doc));return 0!==r?r:Ua(e.doc._id,n.doc._id)}}(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===za(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var i=t.skip||0,o=("limit"in t?t.limit:e.length)+i;e=e.slice(i,o)}return e}function Ja(e,t,n){return n.every((function(n){var r=t[n],i=qa(n),o=Ba(e,i);return Ka(n)?function(e,t,n){if("$or"===e)return t.some((function(e){return Ja(n,e,Object.keys(e))}));if("$not"===e)return!Ja(n,t,Object.keys(t));return!t.find((function(e){return Ja(n,e,Object.keys(e))}))}(n,r,e):Qa(r,e,i,o)}))}function Qa(e,t,n,r){return!e||("object"==typeof e?Object.keys(e).every((function(i){var o=e[i];return function(e,t,n,r,i){if(!eu[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return eu[e](t,n,r,i)}(i,t,o,n,r)})):e===r)}function Ya(e){return null!=e}function Xa(e){return void 0!==e}function Za(e,t){return t.some((function(t){return e instanceof Array?e.indexOf(t)>-1:e===t}))}var eu={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.some((function(e){return Ja(e,t,Object.keys(t))})):r.some((function(r){return Qa(t,e,n,r)}))))},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&(0!==r.length&&("object"==typeof r[0]?r.every((function(e){return Ja(e,t,Object.keys(t))})):r.every((function(r){return Qa(t,e,n,r)}))))},$eq:function(e,t,n,r){return Xa(r)&&0===$o(r,t)},$gte:function(e,t,n,r){return Xa(r)&&$o(r,t)>=0},$gt:function(e,t,n,r){return Xa(r)&&$o(r,t)>0},$lte:function(e,t,n,r){return Xa(r)&&$o(r,t)<=0},$lt:function(e,t,n,r){return Xa(r)&&$o(r,t)<0},$exists:function(e,t,n,r){return t?Xa(r):!Xa(r)},$mod:function(e,t,n,r){return Ya(r)&&function(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}(r,t)},$ne:function(e,t,n,r){return t.every((function(e){return 0!==$o(r,e)}))},$in:function(e,t,n,r){return Ya(r)&&Za(r,t)},$nin:function(e,t,n,r){return Ya(r)&&!Za(r,t)},$size:function(e,t,n,r){return Ya(r)&&function(e,t){return e.length===t}(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&function(e,t){return t.every((function(t){return e.indexOf(t)>-1}))}(r,t)},$regex:function(e,t,n,r){return Ya(r)&&function(e,t){return new RegExp(t).test(e)}(r,t)},$type:function(e,t,n,r){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,t)}};function tu(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var n="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function nu(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=Object(Go.p)(e.view):e.filter=Object(Go.p)(e.filter))}function ru(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!Object(Go.m)(e.db)}function iu(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var r=Object(ca.p)(ca.b,"`view` filter parameter not found or invalid.");return n(r)}var i=Object(Go.r)(t.view);e.db.get("_design/"+i[0],(function(r,o){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(Object(ca.q)(r));var a,u=o&&o.views&&o.views[i[1]]&&o.views[i[1]].map;if(!u)return n(Object(ca.p)(ca.h,o.views?"missing json key: "+i[1]:"missing json key: views"));t.filter=(a=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+u+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),Object(Go.u)(a,{})),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=$a([{doc:e}],{selector:t=Ga(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var o=Object(Go.r)(t.filter);e.db.get("_design/"+o[0],(function(r,i){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(Object(ca.q)(r));var a,u=i&&i.filters&&i.filters[o[1]];if(!u)return n(Object(ca.p)(ca.h,i&&i.filters?"missing json key: "+o[1]:"missing json key: filters"));t.filter=(a=u,Object(Go.u)('"use strict";\nreturn '+a+";",{})),e.doChanges(t)}))}}var ou=function(e){e._changesFilterPlugin={validate:tu,normalize:nu,shouldFilter:ru,filter:iu}};function au(e,t,n){ha.a.call(this);var r=this;this.db=e;var i=(t=t?Object(Go.e)(t):{}).complete=Object(Go.q)((function(t,n){t?Object(Go.n)(r,"error")>0&&r.emit("error",t):r.emit("complete",n),r.removeAllListeners(),e.removeListener("destroyed",o)}));function o(){r.cancel()}n&&(r.on("complete",(function(e){n(null,e)})),r.on("error",n)),e.once("destroyed",o),t.onChange=function(e,t,n){r.isCancelled||function(e,t,n,r){try{e.emit("change",t,n,r)}catch(e){Object(Go.j)("error",'Error in .on("change", function):',e)}}(r,e,t,n)};var a=new Promise((function(e,n){t.complete=function(t,r){t?n(t):e(r)}}));r.once("cancel",(function(){e.removeListener("destroyed",o),t.complete(null,{status:"cancelled"})})),this.then=a.then.bind(a),this.catch=a.catch.bind(a),this.then((function(e){i(null,e)}),i),e.taskqueue.isReady?r.validateChanges(t):e.taskqueue.addTask((function(e){e?t.complete(e):r.isCancelled?r.emit("cancel"):r.validateChanges(t)}))}function uu(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=Object(Da.b)(t.rev_tree).map((function(e){return{rev:e.rev}})));var i={id:t.id,changes:r,doc:e};return Object(Da.d)(t,e._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=Object(Da.a)(t),i.doc._conflicts.length||delete i.doc._conflicts),i}function su(e,t){return e<t?-1:e>t?1:0}function cu(e,t){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=t,e(n)):e(null,r.length?r[0]:r)}}function fu(e,t){var n=su(e._id,t._id);return 0!==n?n:su(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function lu(){for(var e in ha.a.call(this),lu.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function du(){this.isReady=!1,this.failed=!1,this.queue=[]}function hu(e,t){if(!(this instanceof hu))return new hu(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=Object(Go.e)(t),n.auto_compaction=t.auto_compaction,n.prefix=hu.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=hu.adapters,i=hu.preferredAdapters,o=hu.prefix,a=t.adapter;if(!a)for(var u=0;u<i.length&&("idb"===(a=i[u])&&"websql"in r&&Object(Go.k)()&&localStorage["_pouch__websqldb_"+o+e]);++u)Object(Go.j)("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var s=r[a];return{name:!s||!("use_prefix"in s)||s.use_prefix?o+e:e,adapter:a}}((t.prefix||"")+e,t);if(t.name=r.name,t.adapter=t.adapter||r.adapter,n.name=e,n._adapter=t.adapter,hu.emit("debug",["adapter","Picked adapter: ",t.adapter]),!hu.adapters[t.adapter]||!hu.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);lu.call(n),n.taskqueue=new du,n.adapter=t.adapter,hu.adapters[t.adapter].call(n,t,(function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),hu.emit("created",n.name),n.taskqueue.ready(n)}))}la()(au,ha.a),au.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},au.prototype.validateChanges=function(e){var t=e.complete,n=this;hu._changesFilterPlugin?hu._changesFilterPlugin.validate(e,(function(r){if(r)return t(r);n.doChanges(e)})):n.doChanges(e)},au.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=Object(Go.e)(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=uu,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(hu._changesFilterPlugin){if(hu._changesFilterPlugin.normalize(e),hu._changesFilterPlugin.shouldFilter(this,e))return hu._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&Object(Go.j)("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var i=t.cancel;t.cancel=Na()((function(e){r.cancel(),i.apply(this,e)}))}}else this.db.info().then((function(r){t.isCancelled?n(null,{status:"cancelled"}):(e.since=r.update_seq,t.doChanges(e))}),n)},la()(lu,ha.a),lu.prototype.post=Object(Go.a)("post",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(Object(ca.p)(ca.k));this.bulkDocs({docs:[e]},t,cu(n,e._id))})),lu.prototype.put=Object(Go.a)("put",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(Object(ca.p)(ca.k));if(Object(Go.l)(e._id),Object(Da.e)(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var r,i,o,a,u=this;function s(n){"function"==typeof u._put&&!1!==t.new_edits?u._put(e,t,n):u.bulkDocs({docs:[e]},t,cu(n,e._id))}t.force&&e._rev?(r=e._rev.split("-"),i=r[1],o=parseInt(r[0],10)+1,a=Object(Go.t)(),e._revisions={start:o,ids:[a,i]},e._rev=o+"-"+a,t.new_edits=!1,s((function(t){var r=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,r)}))):s(n)})),lu.prototype.putAttachment=Object(Go.a)("putAttachment",(function(e,t,n,r,i){var o=this;function a(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:i,data:r,revpos:++n},o.put(e)}return"function"==typeof i&&(i=r,r=n,n=null),void 0===i&&(i=r,r=n,n=null),i||Object(Go.j)("warn","Attachment",t,"on document",e,"is missing content_type"),o.get(e).then((function(e){if(e._rev!==n)throw Object(ca.p)(ca.n);return a(e)}),(function(t){if(t.reason===ca.h.message)return a({_id:e});throw t}))})),lu.prototype.removeAttachment=Object(Go.a)("removeAttachment",(function(e,t,n,r){var i=this;i.get(e,(function(e,o){if(e)r(e);else if(o._rev===n){if(!o._attachments)return r();delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,i.put(o,r)}else r(Object(ca.p)(ca.n))}))})),lu.prototype.remove=Object(Go.a)("remove",(function(e,t,n,r){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(i=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),(n=n||{}).was_delete=!0;var o={_id:i._id,_rev:i._rev||n.rev,_deleted:!0};if(Object(Da.e)(o._id)&&"function"==typeof this._removeLocal)return this._removeLocal(i,r);this.bulkDocs({docs:[o]},n,cu(r,o._id))})),lu.prototype.revsDiff=Object(Go.a)("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={});var r=Object.keys(e);if(!r.length)return n(null,{});var i=0,o=new Oa.a;function a(e,t){o.has(e)||o.set(e,{missing:[]}),o.get(e).missing.push(t)}r.map((function(t){this._getRevisionTree(t,(function(u,s){if(u&&404===u.status&&"missing"===u.message)o.set(t,{missing:e[t]});else{if(u)return n(u);!function(t,n){var r=e[t].slice(0);Object(Da.j)(n,(function(e,n,i,o,u){var s=n+"-"+i,c=r.indexOf(s);-1!==c&&(r.splice(c,1),"available"!==u.status&&a(t,s))})),r.forEach((function(e){a(t,e)}))}(t,s)}if(++i===r.length){var c={};return o.forEach((function(e,t){c[t]=e})),n(null,c)}}))}),this)})),lu.prototype.bulkGet=Object(Go.a)("bulkGet",(function(e,t){Object(Go.c)(this,e,t)})),lu.prototype.compactDocument=Object(Go.a)("compactDocument",(function(e,t,n){var r=this;this._getRevisionTree(e,(function(i,o){if(i)return n(i);var a=function(e){var t={},n=[];return Object(Da.j)(e,(function(e,r,i,o){var a=r+"-"+i;return e&&(t[a]=0),void 0!==o&&n.push({from:o,to:a}),a})),n.reverse(),n.forEach((function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])})),t}(o),u=[],s=[];Object.keys(a).forEach((function(e){a[e]>t&&u.push(e)})),Object(Da.j)(o,(function(e,t,n,r,i){var o=t+"-"+n;"available"===i.status&&-1!==u.indexOf(o)&&s.push(o)})),r._doCompaction(e,s,n)}))})),lu.prototype.compact=Object(Go.a)("compact",(function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],r=n.opts,i=n.callback;t.get("_local/compaction").catch((function(){return!1})).then((function(n){n&&n.last_seq&&(r.last_seq=n.last_seq),t._compact(r,(function(n,r){n?i(n):i(null,r),Object(Go.o)((function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)}))}))}))}(this)})),lu.prototype._compact=function(e,t){var n=this,r={return_docs:!1,last_seq:e.last_seq||0},i=[];n.changes(r).on("change",(function(e){i.push(n.compactDocument(e.id,0))})).on("complete",(function(e){var r=e.last_seq;Promise.all(i).then((function(){return Object(Go.w)(n,"_local/compaction",(function(e){return(!e.last_seq||e.last_seq<r)&&(e.last_seq=r,e)}))})).then((function(){t(null,{ok:!0})})).catch(t)})).on("error",t)},lu.prototype.get=Object(Go.a)("get",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(Object(ca.p)(ca.e));if(Object(Da.e)(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var r=[],i=this;function o(){var o=[],a=r.length;if(!a)return n(null,o);r.forEach((function(r){i.get(e,{rev:r,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)o.push({missing:r});else{for(var i,u=0,s=o.length;u<s;u++)if(o[u].ok&&o[u].ok._rev===t._rev){i=!0;break}i||o.push({ok:t})}--a||n(null,o)}))}))}if(!t.open_revs)return this._get(e,t,(function(r,o){if(r)return r.docId=e,n(r);var a=o.doc,u=o.metadata,s=o.ctx;if(t.conflicts){var c=Object(Da.a)(u);c.length&&(a._conflicts=c)}if(Object(Da.d)(u,a._rev)&&(a._deleted=!0),t.revs||t.revs_info){for(var f=a._rev.split("-"),l=parseInt(f[0],10),d=f[1],h=Object(Da.i)(u.rev_tree),p=null,m=0;m<h.length;m++){var y=h[m],v=y.ids.map((function(e){return e.id})).indexOf(d);(v===l-1||!p&&-1!==v)&&(p=y)}if(!p)return(r=new Error("invalid rev tree")).docId=e,n(r);var g=p.ids.map((function(e){return e.id})).indexOf(a._rev.split("-")[1])+1,b=p.ids.length-g;if(p.ids.splice(g,b),p.ids.reverse(),t.revs&&(a._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map((function(e){return e.id}))}),t.revs_info){var w=p.pos+p.ids.length;a._revs_info=p.ids.map((function(e){return{rev:--w+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&a._attachments){var E=a._attachments,_=Object.keys(E).length;if(0===_)return n(null,a);Object.keys(E).forEach((function(e){this._getAttachment(a._id,e,E[e],{rev:a._rev,binary:t.binary,ctx:s},(function(t,r){var i=a._attachments[e];i.data=r,delete i.stub,delete i.length,--_||n(null,a)}))}),i)}else{if(a._attachments)for(var S in a._attachments)a._attachments.hasOwnProperty(S)&&(a._attachments[S].stub=!0);n(null,a)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return n(e);r=Object(Da.b)(t).map((function(e){return e.rev})),o()}));else{if(!Array.isArray(t.open_revs))return n(Object(ca.p)(ca.o,"function_clause"));r=t.open_revs;for(var a=0;a<r.length;a++){var u=r[a];if("string"!=typeof u||!/^\d+-/.test(u))return n(Object(ca.p)(ca.f))}o()}})),lu.prototype.getAttachment=Object(Go.a)("getAttachment",(function(e,t,n,r){var i=this;n instanceof Function&&(r=n,n={}),this._get(e,n,(function(o,a){return o?r(o):a.doc._attachments&&a.doc._attachments[t]?(n.ctx=a.ctx,n.binary=!0,void i._getAttachment(e,t,a.doc._attachments[t],n,r)):r(Object(ca.p)(ca.h))}))})),lu.prototype.allDocs=Object(Go.a)("allDocs",(function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(n)return void t(Object(ca.p)(ca.l,"Query parameter `"+n+"` is not compatible with multi-get"));if(!Object(Go.m)(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})),lu.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new au(this,e,t)},lu.prototype.close=Object(Go.a)("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})),lu.prototype.info=Object(Go.a)("info",(function(e){var t=this;this._info((function(n,r){if(n)return e(n);r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||Object(Go.m)(t)),r.adapter=t.adapter,e(null,r)}))})),lu.prototype.id=Object(Go.a)("id",(function(e){return this._id(e)})),lu.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},lu.prototype.bulkDocs=Object(Go.a)("bulkDocs",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(Object(ca.p)(ca.g));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(Object(ca.p)(ca.k));var i;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){i=i||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||Object(Go.j)("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),i)return n(Object(ca.p)(ca.b,i));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var o=this;t.new_edits||Object(Go.m)(o)||e.docs.sort(fu),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var o=r[i];n._attachments[o]=Object(Go.s)(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var a=e.docs.map((function(e){return e._id}));return this._bulkDocs(e,t,(function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter((function(e){return e.error}))),!Object(Go.m)(o))for(var i=0,u=r.length;i<u;i++)r[i].id=r[i].id||a[i];n(null,r)}))})),lu.prototype.registerDependentDatabase=Object(Go.a)("registerDependentDatabase",(function(e,t){var n=new this.constructor(e,this.__opts);Object(Go.w)(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:n})})).catch(t)})),lu.prototype.destroy=Object(Go.a)("destroy",(function(e,t){"function"==typeof e&&(t=e,e={});var n=this,r=!("use_prefix"in n)||n.use_prefix;function i(){n._destroy(e,(function(e,r){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,r||{ok:!0})}))}if(Object(Go.m)(n))return i();n.get("_local/_pouch_dependentDbs",(function(e,o){if(e)return 404!==e.status?t(e):i();var a=o.dependentDbs,u=n.constructor,s=Object.keys(a).map((function(e){var t=r?e.replace(new RegExp("^"+u.prefix),""):e;return new u(t,n.__opts).destroy()}));Promise.all(s).then(i,t)}))})),du.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},du.prototype.fail=function(e){this.failed=e,this.execute()},du.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},du.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},la()(hu,lu),hu.adapters={},hu.preferredAdapters=[],hu.prefix="_pouch_";var pu=new ha.a;!function(e){Object.keys(ha.a.prototype).forEach((function(t){"function"==typeof ha.a.prototype[t]&&(e[t]=pu[t].bind(pu))}));var t=e._destructionListeners=new Oa.a;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var n=t.get(e.name),r=n.indexOf(e);r<0||(n.splice(r,1),n.length>1?t.set(e.name,n):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach((function(e){e.emit("destroyed",!0)}))}}))}(hu),hu.adapter=function(e,t,n){t.valid()&&(hu.adapters[e]=t,n&&hu.preferredAdapters.push(e))},hu.plugin=function(e){if("function"==typeof e)e(hu);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){hu.prototype[t]=e[t]}))}return this.__defaults&&(hu.__defaults=Object(Go.b)({},this.__defaults)),hu},hu.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=Object(Go.b)({},t.__defaults,n),hu.call(this,e,n)}return la()(t,hu),t.preferredAdapters=hu.preferredAdapters.slice(),Object.keys(hu).forEach((function(e){e in t||(t[e]=hu[e])})),t.__defaults=Object(Go.b)({},this.__defaults,e),t},hu.fetch=function(e,t){return La(e,t)};hu.plugin(ou),hu.version="7.2.2";var mu=hu,yu=n(82);function vu(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,vu)}catch(e){}}function gu(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,gu)}catch(e){}}function bu(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,bu)}catch(e){}}function wu(e,t){return t&&e.then((function(e){Object(Go.o)((function(){t(null,e)}))}),(function(e){Object(Go.o)((function(){t(e)}))})),e}function Eu(e,t){return function(){var n=arguments,r=this;return e.add((function(){return t.apply(r,n)}))}}function _u(e){var t=new Oa.b(e),n=new Array(t.size),r=-1;return t.forEach((function(e){n[++r]=e})),n}function Su(e){var t=new Array(e.size),n=-1;return e.forEach((function(e,r){t[++n]=r})),t}function Tu(){this.promise=new Promise((function(e){e()}))}function Au(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function Pu(e,t,n,r,i,o){var a,u=function(e,t){return Au(e)+Au(t)+"undefined"}(n,r);if(!i&&(a=e._cachedViews=e._cachedViews||{})[u])return a[u];var s=e.info().then((function(s){var c=s.db_name+"-mrview-"+(i?"temp":Object(ua.b)(u));return Object(Go.w)(e,"_local/"+o,(function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var r=e.views[n]=e.views[n]||{};if(!r[c])return r[c]=!0,e})).then((function(){return e.registerDependentDatabase(c).then((function(t){var i=t.db;i.auto_compaction=!0;var o={name:c,db:i,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return o.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return o.seq=e?e.seq:0,a&&o.db.once("destroyed",(function(){delete a[u]})),o}))}))}))}));return a&&(a[u]=s),s}la()(vu,Error),la()(gu,Error),la()(bu,Error),Tu.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},Tu.prototype.finish=function(){return this.promise};var ku={},xu=new Tu;function Cu(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Ru(e,t){try{e.emit("error",t)}catch(e){Object(Go.j)("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),Object(Go.j)("error",t)}}var Iu=function(e,t,n,r){function i(e,t,n){try{t(n)}catch(t){Ru(e,t)}}function o(e,t,n,r,i){try{return{output:t(n,r,i)}}catch(t){return Ru(e,t),{error:t}}}function a(e,t){var n=$o(e.key,t.key);return 0!==n?n:$o(e.value,t.value)}function u(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function s(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function c(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n=t[e];t[e].data=Object(yu.b)(n.data,n.content_type)}))}))}(t),t}}function f(e,t,n,r){var i=t[e];void 0!==i&&(r&&(i=encodeURIComponent(JSON.stringify(i))),n.push(e+"="+i))}function l(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function d(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&$o(e[n],e[r])>0)throw new vu("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new vu("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new vu("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var n=function(e){if(e){if("number"!=typeof e)return new vu('Invalid value for integer: "'+e+'"');if(e<0)return new vu('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n}))}function h(e){return function(t){if(404===t.status)return e;throw t}}function p(e,t,n){var r="_local/doc_"+e,i={_id:r,keys:[]},o=n.get(e),a=o[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(o[1])?Promise.resolve(i):t.db.get(r).catch(h(i))).then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var n=[],r=new Oa.b,i=0,o=t.rows.length;i<o;i++){var u=t.rows[i].doc;if(u&&(n.push(u),r.add(u._id),u._deleted=!a.has(u._id),!u._deleted)){var s=a.get(u._id);"value"in s&&(u.value=s.value)}}var c=Su(a);return c.forEach((function(e){if(!r.has(e)){var t={_id:e},i=a.get(e);"value"in i&&(t.value=i.value),n.push(t)}})),e.keys=_u(c.concat(e.keys)),n.push(e),n}(e,t)}))}))}function m(e){var t="string"==typeof e?e:e.name,n=ku[t];return n||(n=ku[t]=new Tu),n}function y(e){return Eu(m(e),(function(){return function(e){var n,r;var o=t(e.mapFun,(function(e,t){var i={id:r._id,key:Jo(e)};null!=t&&(i.value=Jo(t)),n.push(i)})),u=e.seq||0;function s(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(h({_id:"_local/lastSeq",seq:0})).then((function(r){var i=Su(t);return Promise.all(i.map((function(n){return p(n,e,t)}))).then((function(t){var i=Object(Go.i)(t);return r.seq=n,i.push(r),e.db.bulkDocs({docs:i})}))}))}(e,t,n)}}var c=new Tu;function f(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:u,limit:50}).then(l)}function l(t){var l=t.results;if(l.length){var h=function(t){for(var s=new Oa.a,c=0,f=t.length;c<f;c++){var l=t[c];if("_"!==l.doc._id[0]){n=[],(r=l.doc)._deleted||i(e.sourceDB,o,r),n.sort(a);var h=d(n);s.set(l.doc._id,[h,l.changes])}u=l.seq}return s}(l);if(c.add(s(h,u)),!(l.length<50))return f()}}function d(e){for(var t,n=new Oa.a,r=0,i=e.length;r<i;r++){var o=e[r],a=[o.key,o.id];r>0&&0===$o(o.key,t)&&a.push(r),n.set(Yo(a),o),t=o.key}return n}return f().then((function(){return c.finish()})).then((function(){e.seq=u}))}(e)}))()}function v(e,t){return Eu(m(e),(function(){return function(e,t){var r,i=e.reduceFun&&!1!==t.reduce,a=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);function c(t){return t.include_docs=!0,e.db.allDocs(t).then((function(e){return r=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=function(e){for(var t=[],n=[],r=0;;){var i=e[r++];if("\0"!==i)switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var o=Xo(e,r);t.push(o.num),r+=o.length;break;case"4":for(var a="";;){var u=e[r];if("\0"===u)break;a+=u,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(a);break;case"5":var s={element:[],index:t.length};t.push(s.element),n.push(s);break;case"6":var c={element:{},index:t.length};t.push(c.element),n.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===t.length)return t.pop();Zo(t,n)}}}(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}}))}))}function f(c){var f;if(f=i?function(e,t,r){0===r.group_level&&delete r.group_level;var i=r.group||r.group_level,a=n(e.reduceFun),s=[],c=isNaN(r.group_level)?Number.POSITIVE_INFINITY:r.group_level;t.forEach((function(e){var t=s[s.length-1],n=i?e.key:null;if(i&&Array.isArray(n)&&(n=n.slice(0,c)),t&&0===$o(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);s.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})})),t=[];for(var f=0,l=s.length;f<l;f++){var d=s[f],h=o(e.sourceDB,a,d.keys,d.values,!1);if(h.error&&h.error instanceof bu)throw h.error;t.push({value:h.error?null:h.output,key:d.groupKey})}return{rows:u(t,r.limit,r.skip)}}(e,c,t):{total_rows:r,offset:a,rows:c},t.update_seq&&(f.update_seq=e.seq),t.include_docs){var l=_u(c.map(s));return e.sourceDB.allDocs({keys:l,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t=new Oa.a;return e.rows.forEach((function(e){t.set(e.id,e.doc)})),c.forEach((function(e){var n=s(e),r=t.get(n);r&&(e.doc=r)})),f}))}return f}if(void 0!==t.keys){var l=t.keys.map((function(e){var n={startkey:Yo([e]),endkey:Yo([e,{}])};return t.update_seq&&(n.update_seq=!0),c(n)}));return Promise.all(l).then(Go.i).then(f)}var d,h,p={descending:t.descending};if(t.update_seq&&(p.update_seq=!0),"start_key"in t&&(d=t.start_key),"startkey"in t&&(d=t.startkey),"end_key"in t&&(h=t.end_key),"endkey"in t&&(h=t.endkey),void 0!==d&&(p.startkey=t.descending?Yo([d,{}]):Yo([d])),void 0!==h){var m=!1!==t.inclusive_end;t.descending&&(m=!m),p.endkey=Yo(m?[h,{}]:[h])}if(void 0!==t.key){var y=Yo([t.key]),v=Yo([t.key,{}]);p.descending?(p.endkey=y,p.startkey=v):(p.startkey=y,p.endkey=v)}return i||("number"==typeof t.limit&&(p.limit=t.limit),p.skip=a),c(p).then(f)}(e,t)}))()}function g(t,n,i){if("function"==typeof t._query)return function(e,t,n){return new Promise((function(r,i){e._query(t,n,(function(e,t){if(e)return i(e);r(t)}))}))}(t,n,i);if(Object(Go.m)(t))return function(e,t,n){var r,i,o,a=[],u="GET";if(f("reduce",n,a),f("include_docs",n,a),f("attachments",n,a),f("limit",n,a),f("descending",n,a),f("group",n,a),f("group_level",n,a),f("skip",n,a),f("stale",n,a),f("conflicts",n,a),f("startkey",n,a,!0),f("start_key",n,a,!0),f("endkey",n,a,!0),f("end_key",n,a,!0),f("inclusive_end",n,a),f("key",n,a,!0),f("update_seq",n,a),a=""===(a=a.join("&"))?"":"?"+a,void 0!==n.keys){var s="keys="+encodeURIComponent(JSON.stringify(n.keys));s.length+a.length+1<=2e3?a+=("?"===a[0]?"&":"?")+s:(u="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var l=Cu(t);return e.fetch("_design/"+l[0]+"/_view/"+l[1]+a,{headers:new ja({"Content-Type":"application/json"}),method:u,body:JSON.stringify(r)}).then((function(e){return i=e.ok,o=e.status,e.json()})).then((function(e){if(!i)throw e.status=o,Object(ca.q)(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(c(n))}return r=r||{},Object.keys(t).forEach((function(e){Array.isArray(t[e])?r[e]=t[e]:r[e]=t[e].toString()})),e.fetch("_temp_view"+a,{headers:new ja({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)}).then((function(e){return i=e.ok,o=e.status,e.json()})).then((function(e){if(!i)throw e.status=o,Object(ca.q)(e);return e})).then(c(n))}(t,n,i);if("string"!=typeof n)return d(i,n),xu.add((function(){return Pu(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then((function(e){return t=y(e).then((function(){return v(e,i)})),n=function(){return e.db.destroy()},t.then((function(e){return n().then((function(){return e}))}),(function(e){return n().then((function(){throw e}))}));var t,n}))})),xu.finish();var o=n,a=Cu(o),u=a[0],s=a[1];return t.get("_design/"+u).then((function(n){var a=n.views&&n.views[s];if(!a)throw new gu("ddoc "+n._id+" has no view named "+s);return r(n,s),d(i,a),Pu(t,o,a.map,a.reduce,!1,e).then((function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&Object(Go.o)((function(){y(e)})),v(e,i)):y(e).then((function(){return v(e,i)}))}))}))}var b;return{query:function(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=l(e.group_level),e.limit=l(e.limit),e.skip=l(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var i=Promise.resolve().then((function(){return g(r,e,t)}));return wu(i,n),i},viewCleanup:(b=function(){var t=this;return"function"==typeof t._viewCleanup?function(e){return new Promise((function(t,n){e._viewCleanup((function(e,r){if(e)return n(e);t(r)}))}))}(t):Object(Go.m)(t)?function(e){return e.fetch("_view_cleanup",{headers:new ja({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(t):function(t){return t.get("_local/"+e).then((function(e){var n=new Oa.a;Object.keys(e.views).forEach((function(e){var t=Cu(e),r="_design/"+t[0],i=t[1],o=n.get(r);o||(o=new Oa.b,n.set(r,o)),o.add(i)}));var r={keys:Su(n),include_docs:!0};return t.allDocs(r).then((function(r){var i={};r.rows.forEach((function(t){var r=t.key.substring(8);n.get(t.key).forEach((function(n){var o=r+"/"+n;e.views[o]||(o=n);var a=Object.keys(e.views[o]),u=t.doc&&t.doc.views&&t.doc.views[n];a.forEach((function(e){i[e]=i[e]||u}))}))}));var o=Object.keys(i).filter((function(e){return!i[e]})).map((function(e){return Eu(m(e),(function(){return new t.constructor(e,t.__opts).destroy()}))()}));return Promise.all(o).then((function(){return{ok:!0}}))}))}),h({ok:!0}))}(t)},Na()((function(e){var t=e.pop(),n=b.apply(this,e);return"function"==typeof t&&wu(n,t),n})))}};function Ou(e){return(e=Object(Go.e)(e)).index||(e.index={}),["type","name","ddoc"].forEach((function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])})),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function Mu(e,t,n,r){var i,o;n.headers=new ja({"Content-type":"application/json"}),e.fetch(t,n).then((function(e){return i=e.status,o=e.ok,e.json()})).then((function(e){if(o)r(null,e);else{e.status=i;var t=Object(ca.q)(e);r(t)}})).catch(r)}function Nu(e,t,n){t=Ou(t),Mu(e,"_index",{method:"POST",body:JSON.stringify(t)},n)}function Du(e,t,n){Mu(e,"_find",{method:"POST",body:JSON.stringify(t)},n)}function Lu(e,t,n){Mu(e,"_explain",{method:"POST",body:JSON.stringify(t)},n)}function ju(e,t){Mu(e,"_index",{method:"GET"},t)}function Bu(e,t,n){var r=t.ddoc,i=t.type||"json",o=t.name;return r?o?void Mu(e,"_index/"+[r,i,o].map(encodeURIComponent).join("/"),{method:"DELETE"},n):n(new Error("you must provide an index's name")):n(new Error("you must provide an index's ddoc"))}function Fu(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}}function Uu(e){return Fu((function(t){var n=t.pop(),r=e.apply(this,t);return function(e,t){e.then((function(e){Object(Go.o)((function(){t(null,e)}))}),(function(e){Object(Go.o)((function(){t(e)}))}))}(r,n),r}))}var qu=Fu((function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];Array.isArray(i)?t=t.concat(qu.apply(null,i)):t.push(i)}return t}));function Hu(e){for(var t={},n=0,r=e.length;n<r;n++)t=Object(Go.b)(t,e[n]);return t}function Ku(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0}function Vu(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function zu(e,t){var n=function(e){for(var t=0,n=e.length;t<n;t++){if(-1!==e[t].indexOf("."))return!1}return!0}(e),r=1===e.length;return n?r?function(e,t){return function(n){t(n[e])}}(e[0],t):function(e,t){return function(n){for(var r=[],i=0,o=e.length;i<o;i++)r.push(n[e[i]]);t(r)}}(e,t):r?function(e,t){var n=qa(e);return function(e){for(var r=e,i=0,o=n.length;i<o;i++){if(void 0===(r=r[n[i]]))return}t(r)}}(e[0],t):function(e,t){return function(n){for(var r=[],i=0,o=e.length;i<o;i++){for(var a=qa(e[i]),u=n,s=0,c=a.length;s<c;s++){if(void 0===(u=u[a[s]]))return}r.push(u)}t(r)}}(e,t)}var Wu=Iu("indexes",(function(e,t){return zu(Object.keys(e.fields),t)}),(function(){throw new Error("reduce not supported")}),(function(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}));function Gu(e){return e._customFindAbstractMapper||Wu}function $u(e){return e.fields=e.fields.map((function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e})),e}function Ju(e,t){for(var n=[],r=0;r<t.def.fields.length;r++){var i=Va(t.def.fields[r]);n.push(e[i])}return n}function Qu(e){return e.allDocs({startkey:"_design/",endkey:"_design/￿",include_docs:!0}).then((function(e){var t={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return t.indexes=qu(t.indexes,e.rows.filter((function(e){return"query"===e.doc.language})).map((function(e){return(void 0!==e.doc.views?Object.keys(e.doc.views):[]).map((function(t){var n=e.doc.views[t];return{ddoc:e.id,name:t,type:"json",def:$u(n.options.def)}}))}))),t.indexes.sort((function(e,t){return Ua(e.name,t.name)})),t.total_rows=t.indexes.length,t}))}var Yu={"￿":{}};const Xu={queryOpts:{limit:0,startkey:Yu,endkey:null},inMemoryFields:[]};function Zu(e,t){for(var n=e.def.fields.map(Va),r=0,i=n.length;r<i;r++){if(t===n[r])return!0}return!1}function es(e,t){return"$eq"!==Va(e[t])}function ts(e,t){var n=t.def.fields.map(Va);return e.slice().sort((function(e,t){var r=n.indexOf(e),i=n.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),-1===i&&(i=Number.MAX_VALUE),Ua(r,i)}))}function ns(e,t,n,r){var i=qu(e,function(e,t,n){for(var r=!1,i=0,o=(n=ts(n,e)).length;i<o;i++){var a=n[i];if(r||!Zu(e,a))return n.slice(i);i<o-1&&es(t,a)&&(r=!0)}return[]}(t,n,r),function(e){var t=[];return Object.keys(e).forEach((function(n){var r=e[n];Object.keys(r).forEach((function(e){"$ne"===e&&t.push(n)}))})),t}(n));return ts(function(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map((function(e){return e.substring(1)}))}(i),t)}function rs(e,t,n){if(t){var r=(a=e,!((o=t).length>a.length)&&Ku(o,a)),i=Ku(n,e);return r&&i}var o,a;return function(e,t){e=e.slice();for(var n=0,r=t.length;n<r;n++){var i=t[n];if(!e.length)break;var o=e.indexOf(i);if(-1===o)return!1;e.splice(o,1)}return!0}(n,e)}var is=["$eq","$gt","$gte","$lt","$lte"];function os(e){return-1===is.indexOf(e)}function as(e,t,n,r){var i=e.def.fields.map(Va);return!!rs(i,t,n)&&function(e,t){var n=t[e[0]];return void 0===n||!(1===Object.keys(n).length&&"$ne"===Va(n))}(i,r)}function us(e,t,n,r,i){var o=function(e,t,n,r){return r.filter((function(r){return as(r,n,t,e)}))}(e,t,n,r);if(0===o.length){if(i)throw{error:"no_usable_index",message:"There is no index available for this selector."};var a=r[0];return a.defaultUsed=!0,a}if(1===o.length&&!i)return o[0];var u=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t}(t);if(i){var s="_design/"+i[0],c=2===i.length&&i[1],f=o.find((function(e){return!(!c||e.ddoc!==s||c!==e.name)||e.ddoc===s}));if(!f)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return f}return function(e,t){for(var n=null,r=-1,i=0,o=e.length;i<o;i++){var a=e[i],u=t(a);u>r&&(r=u,n=a)}return n}(o,(function(e){for(var t=e.def.fields.map(Va),n=0,r=0,i=t.length;r<i;r++){var o=t[r];u[o]&&n++}return n}))}function ss(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function cs(e,t){return t.defaultUsed?function(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}(e):1===t.def.fields.length?function(e,t){var n,r=Va(t.def.fields[0]),i=e[r]||{},o=[];return Object.keys(i).forEach((function(e){os(e)&&o.push(r);var t=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}return{startkey:null}}(e,i[e]);n=n?Hu([n,t]):t})),{queryOpts:n,inMemoryFields:o}}(e,t):function(e,t){var n,r,i=t.def.fields.map(Va),o=[],a=[],u=[];function s(e){!1!==n&&a.push(null),!1!==r&&u.push(Yu),o=i.slice(e)}for(var c=0,f=i.length;c<f;c++){var l=e[i[c]];if(!l||!Object.keys(l).length){s(c);break}if(Object.keys(l).some(os)){s(c);break}if(c>0){var d="$gt"in l||"$gte"in l||"$lt"in l||"$lte"in l,h=Object.keys(e[i[c-1]]),p=Vu(h,["$eq"]),m=Vu(h,Object.keys(l));if(d&&!p&&!m){s(c);break}}for(var y=Object.keys(l),v=null,g=0;g<y.length;g++){var b=y[g],w=ss(b,l[b]);v=v?Hu([v,w]):w}a.push("startkey"in v?v.startkey:null),u.push("endkey"in v?v.endkey:Yu),"inclusive_start"in v&&(n=v.inclusive_start),"inclusive_end"in v&&(r=v.inclusive_end)}var E={startkey:a,endkey:u};return void 0!==n&&(E.inclusive_start=n),void 0!==r&&(E.inclusive_end=r),{queryOpts:E,inMemoryFields:o}}(e,t)}function fs(e,t){var n=e.selector,r=e.sort;if(function(e){return Object.keys(e).map((function(t){return e[t]})).some((function(e){return"object"==typeof e&&0===Object.keys(e).length}))}(n))return Object(Go.b)({},Xu,{index:t[0]});var i=function(e,t){var n,r=Object.keys(e),i=t?t.map(Va):[];return n=r.length>=i.length?r:i,0===i.length?{fields:n}:{fields:n=n.sort((function(e,t){var n=i.indexOf(e);-1===n&&(n=Number.MAX_VALUE);var r=i.indexOf(t);return-1===r&&(r=Number.MAX_VALUE),n<r?-1:n>r?1:0})),sortOrder:t.map(Va)}}(n,r),o=i.fields,a=us(n,o,i.sortOrder,t,e.use_index),u=cs(n,a);return{queryOpts:u.queryOpts,index:a,inMemoryFields:ns(u.inMemoryFields,a,n,o)}}function ls(e,t,n){var r,i;return t.selector&&(t.selector=Ga(t.selector)),t.sort&&(t.sort=function(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map((function(e){if("string"==typeof e){var t={};return t[e]="asc",t}return e}))}(t.sort)),t.use_index&&(t.use_index=(r=t.use_index,i=[],"string"==typeof r?i.push(r):i=r,i.map((function(e){return e.replace("_design/","")})))),function(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}(t),Qu(e).then((function(r){e.constructor.emit("debug",["find","planning query",t]);var i=fs(t,r.indexes);e.constructor.emit("debug",["find","query plan",i]);var o=i.index;!function(e,t){if(t.defaultUsed&&e.sort){var n=e.sort.filter((function(e){return"_id"!==Object.keys(e)[0]})).map((function(e){return Object.keys(e)[0]}));if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}t.defaultUsed}(t,o);var a=Object(Go.b)({include_docs:!0,reduce:!1,indexes_count:r.total_rows},i.queryOpts);return"startkey"in a&&"endkey"in a&&$o(a.startkey,a.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===za(t.sort[0])&&(a.descending=!0,a=function(e){var t=Object(Go.e)(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}(a)),i.inMemoryFields.length||("limit"in t&&(a.limit=t.limit),"skip"in t&&(a.skip=t.skip)),n?Promise.resolve(i,a):Promise.resolve().then((function(){if("_all_docs"===o.name)return function(e,t){var n=Object(Go.e)(t);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),n.limit>0&&n.indexes_count&&(n.original_limit=n.limit,n.limit+=n.indexes_count),e.allDocs(n).then((function(e){return e.rows=e.rows.filter((function(e){return!/^_design\//.test(e.id)})),n.original_limit&&(n.limit=n.original_limit),e.rows=e.rows.slice(0,n.limit),e}))}(e,a);var t=function(e){return e.ddoc.substring(8)+"/"+e.name}(o);return Gu(e).query.call(e,t,a)})).then((function(e){!1===a.inclusive_start&&(e.rows=function(e,t,n){for(var r=n.def.fields,i=0,o=e.length;i<o;i++){var a=Ju(e[i].doc,n);if(1===r.length)a=a[0];else for(;a.length>t.length;)a.pop();if(Math.abs($o(a,t))>0)break}return i>0?e.slice(i):e}(e.rows,a.startkey,o)),i.inMemoryFields.length&&(e.rows=$a(e.rows,t,i.inMemoryFields));var n={docs:e.rows.map((function(e){var n=e.doc;return t.fields?function(e,t){for(var n={},r=0,i=t.length;r<i;r++){var o=qa(t[r]),a=Ba(e,o);void 0!==a&&Fa(n,o,a)}return n}(n,t.fields):n}))};return o.defaultUsed&&(n.warning="No matching index found, create an index to optimize query time."),n})))}))}var ds=Uu((function(e,t){t=Ou(t);var n,r=Object(Go.e)(t.index);function i(){return n||(n=Object(ua.b)(JSON.stringify(t)))}t.index=$u(t.index),function(e){var t=e.fields.filter((function(e){return"asc"===za(e)}));if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}(t.index);var o=t.name||"idx-"+i(),a=t.ddoc||"idx-"+i(),u="_design/"+a,s=!1,c=!1;return e.constructor.emit("debug",["find","creating index",u]),Object(Go.w)(e,u,(function(e){return e._rev&&"query"!==e.language&&(s=!0),e.language="query",e.views=e.views||{},!(c=!!e.views[o])&&(e.views[o]={map:{fields:Hu(t.index.fields)},reduce:"_count",options:{def:r}},e)})).then((function(){if(s)throw new Error('invalid language for ddoc with id "'+u+'" (should be "query")')})).then((function(){var t=a+"/"+o;return Gu(e).query.call(e,t,{limit:0,reduce:!1}).then((function(){return{id:u,name:o,result:c?"exists":"created"}}))}))})),hs=Uu(ls),ps=Uu((function(e,t){return ls(e,t,!0).then((function(n){return{dbname:e.name,index:n.index,selector:t.selector,range:{start_key:n.queryOpts.startkey,end_key:n.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}}))})),ms=Uu(Qu),ys=Uu((function(e,t){if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var n=t.ddoc,r=t.name;return Object(Go.w)(e,n,(function(e){return 1===Object.keys(e.views).length&&e.views[r]?{_id:n,_deleted:!0}:(delete e.views[r],e)})).then((function(){return Gu(e).viewCleanup.apply(e)})).then((function(){return{ok:!0}}))})),vs={};vs.createIndex=Object(Go.v)((function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));(Object(Go.m)(this)?Nu:ds)(this,e,t)})),vs.find=Object(Go.v)((function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));(Object(Go.m)(this)?Du:hs)(this,e,t)})),vs.explain=Object(Go.v)((function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to explain()"));(Object(Go.m)(this)?Lu:ps)(this,e,t)})),vs.getIndexes=Object(Go.v)((function(e){(Object(Go.m)(this)?ju:ms)(this,e)})),vs.deleteIndex=Object(Go.v)((function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));(Object(Go.m)(this)?Bu:ys)(this,e,t)}));var gs=vs,bs=!1,ws=new Map;function Es(e){var t=[e.name,e.adapter].join("|"),n=ws.get(t);return n||(n={subject:new he,obliviousSet:new yr(6e4)},ws.set(t,n)),n}var _s=0;function Ss(){if(!bs){bs=!0;var e=mu.prototype.bulkDocs,t=function(){var t=A()(k.a.mark((function t(n,r,i){var o,a,u,s,f,l,d,h=this;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=Object(c.r)(),a=_s++,"function"==typeof r&&(i=r,r={}),r||(r={}),Array.isArray(n)?u=n:void 0===n?u=[]:(u=n.docs,n.hasOwnProperty("new_edits")&&(r.new_edits=n.new_edits)),0!==u.length){t.next=7;break}throw g("SNH",{args:{body:n,options:r}});case 7:if(s=new Map,!r.hasOwnProperty("new_edits")||!1!==r.new_edits){t.next=18;break}return f=u.map((function(e){return e._id})),t.next=12,this.changes({live:!1,since:0,doc_ids:f,style:"all_docs"});case 12:return l=t.sent,t.next=15,Promise.all(l.results.map(function(){var e=A()(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get(t.id,{rev:t.changes[0].rev,deleted:"ok",revs:!!r.set_new_edit_as_latest_revision,style:"all_docs"});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 15:t.sent.forEach((function(e){return s.set(e._id,e)})),r.set_new_edit_as_latest_revision&&u.forEach((function(e){var t=e._id,n=s.get(t);if(n){var r=e._rev.split("-"),i=parseInt(r[0],10),o=r[1];e._revisions={start:i,ids:n._revisions.ids},e._revisions.ids.unshift(o),delete n._revisions}}));case 18:return(d=Object(c.i)(r)).isDeeper=!0,t.abrupt("return",e.call(this,u,d,(function(e,t){if(e){if(!i)throw e;i(e)}else{if(!r.isDeeper){var n=Object(c.r)(),f={emitId:a,writeDocs:u,writeOptions:r,writeResult:t,previousDocs:s,startTime:o,endTime:n};Es(h).subject.next(f)}if(!i)return t;i(null,t)}})));case 21:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}();mu.plugin({bulkDocs:t})}}function Ts(e){if(!e||"function"!=typeof e.super_)throw g("UT4",{adapter:e})}function As(e,t){var n=t.pull,r=void 0===n||n,i=t.push,o=void 0===i||i;if(r&&o)return e.sync.bind(e);if(!r&&o)return e.replicate.to.bind(e);if(r&&!o)return e.replicate.from.bind(e);if(!r&&!o)throw g("UT3",{pull:r,push:o})}function Ps(e){return e instanceof mu}function ks(e){if(e.rxdb)throw b("PL2",{plugin:e});"object"==typeof e&&e.default&&(e=e.default),mu.plugin(e)}ks(gs),Ss();var xs=mu,Cs="_local/",Rs="_design/",Is=new Set,Os=function(){function e(e,t,n,r){this.changes$=new he,this.databaseName=e,this.collectionName=t,this.internals=n,this.options=r,Is.add(this)}var t=e.prototype;return t.close=function(){return Is.delete(this),Promise.resolve()},t.remove=function(){var e=A()(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.internals.pouch.destroy();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.bulkWrite=function(){var e=A()(k.a.mark((function e(t){var n,r,i,o,a,u,s=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Map,r=t.map((function(e){n.set(e.document._id,e);var t=Object(c.i)(e.document);return t._id=Cs+t._id,e.previous&&(t._rev=e.previous._rev),t})),i=Object(c.r)(),e.next=5,this.internals.pouch.bulkDocs(r);case 5:return o=e.sent,a=Object(c.r)(),u={success:new Map,error:new Map},o.forEach((function(e){e.id=Ks(e.id);var t=Object(c.k)(n,e.id);if(e.error){var r={isError:!0,status:409,documentId:e.id,writeRow:t};u.error.set(e.id,r)}else{var o,f=Object(c.i)(t.document);if(f._rev=e.rev,f._attachments={},u.success.set(e.id,f),t.previous)if(t.document._deleted){var l=Object(c.i)(t.previous);l._rev=e.rev,o={operation:"DELETE",doc:null,id:e.id,previous:l}}else o={operation:"UPDATE",doc:f,id:e.id,previous:t.previous};else o={operation:"INSERT",doc:f,id:e.id,previous:null};if(!t.document._deleted||t.previous&&!t.previous._deleted){var d="DELETE"===o.operation?o.previous:o.doc,h={eventId:Vs(!0,d._id,d._rev?d._rev:""),documentId:e.id,change:o,startTime:i,endTime:a};s.changes$.next(h)}else;}})),e.abrupt("return",u);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.findLocalDocumentsById=function(){var e=A()(k.a.mark((function e(t){var n,r=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Map,e.next=3,Promise.all(t.map(function(){var e=A()(k.a.mark((function e(t){var i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cs+t,e.prev=1,e.next=4,r.internals.pouch.get(i);case 4:(o=e.sent)._id=t,n.set(t,o),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.changeStream=function(){return this.changes$.asObservable()},e}(),Ms=function(){function e(e,t,n,r,i){var o=this;this.changes$=new he,this.subs=[],this.databaseName=e,this.collectionName=t,this.schema=n,this.internals=r,this.options=i,Is.add(this),this.primaryPath=et(this.schema.primaryKey);var a=Es(this.internals.pouch);this.emittedEventIds=a.obliviousSet;var u=a.subject.subscribe(function(){var e=A()(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.writeOptions.hasOwnProperty("new_edits")||t.writeOptions.new_edits){e.next=4;break}return e.next=3,Promise.all(t.writeDocs.map(function(){var e=A()(k.a.mark((function e(n){var r,i,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n._id,n=Us(o.primaryPath,n),e.next=4,Ds(n._attachments);case 4:if(n._attachments=e.sent,(i=t.previousDocs.get(r))&&(i=Us(o.primaryPath,i)),!(i&&Object(c.l)(i._rev)>Object(c.l)(n._rev))){e.next=9;break}return e.abrupt("return");case 9:if(i||!n._deleted){e.next=11;break}return e.abrupt("return");case 11:if(!(i&&i._deleted&&n._deleted)){e.next=13;break}return e.abrupt("return");case 13:if(i||n._deleted){e.next=17;break}a={operation:"INSERT",doc:n,id:r,previous:null},e.next=27;break;case 17:if(!n._deleted||!i||i._deleted){e.next=22;break}i._rev=n._rev,a={operation:"DELETE",doc:null,id:r,previous:i},e.next=27;break;case 22:if(!i){e.next=26;break}a={operation:"UPDATE",doc:n,id:r,previous:i},e.next=27;break;case 26:throw g("SNH",{args:{writeDoc:n}});case 27:o.addEventToChangeStream(a,t.startTime,t.endTime);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return");case 4:if(t.writeOptions.custom){e.next=10;break}return n=new Map,t.writeDocs.forEach((function(e){return n.set(e._id,e)})),e.next=9,Promise.all(t.writeResult.map(function(){var e=A()(k.a.mark((function e(t){var r,i,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.id).startsWith(Rs)&&!r.startsWith(Cs)){e.next=3;break}return e.abrupt("return");case 3:return i=Object(c.k)(n,t.id),e.next=6,Ds(i._attachments);case 6:i._attachments=e.sent,(i=Object(c.i)(i))._rev=t.rev,a=zs(o.primaryPath,i),o.addEventToChangeStream(a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:return e.abrupt("return");case 10:return r=t.writeOptions.custom.writeRowById,e.next=13,Promise.all(t.writeResult.map(function(){var e=A()(k.a.mark((function e(n){var i,a,u,s,f;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.error){e.next=2;break}return e.abrupt("return");case 2:return i=n.id,a=Object(c.k)(r,i),u=Us(o.primaryPath,a.document),e.next=7,Ds(u._attachments);case 7:if(u._attachments=e.sent,u._rev=n.rev,a.previous){e.next=13;break}s={operation:"INSERT",doc:u,id:i,previous:null},e.next=23;break;case 13:if(!a.document._deleted){e.next=22;break}return f=Us(o.primaryPath,a.previous),e.next=17,Ds(f._attachments);case 17:f._attachments=e.sent,f._rev=n.rev,s={operation:"DELETE",doc:null,id:n.id,previous:f},e.next=23;break;case 22:s={operation:"UPDATE",doc:u,id:n.id,previous:a.previous};case 23:(!a.document._deleted||a.previous&&!a.previous._deleted)&&o.addEventToChangeStream(s,t.startTime,t.endTime);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());this.subs.push(u)}var t=e.prototype;return t.addEventToChangeStream=function(e,t,n){var r="DELETE"===e.operation?e.previous:e.doc,i=r[et(this.schema.primaryKey)],o=Vs(!1,i,r._rev);if(!this.emittedEventIds.has(o)){this.emittedEventIds.add(o);var a={eventId:o,documentId:i,change:e,startTime:t,endTime:n};this.changes$.next(a)}},t.close=function(){return this.subs.forEach((function(e){return e.unsubscribe()})),Is.delete(this),Promise.resolve()},t.remove=function(){var e=A()(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.internals.pouch.destroy();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getSortComparator=function(e){var t,n=et(this.schema.primaryKey),r=e.sort?e.sort:[(t={},t[this.primaryPath]="asc",t)],i=Ga(e.selector),o=Object.keys(e.selector);return function(e,t){var a=[e,t].map((function(e){var t=Object(c.i)(e),r=t[n];return delete t[n],t._id=r,{doc:t}}));return $a(a,{selector:i,sort:r},o)[0].doc._id===a[0].doc._id?-1:1}},t.getQueryMatcher=function(e){var t=this,n=Ga(e.selector);return function(r){var i=$a([{doc:Hs(t.primaryPath,r)}],{selector:n},Object.keys(e.selector));return i&&1===i.length}},t.prepareQuery=function(e){var t=this,n=et(this.schema.primaryKey),r=e;if(r.sort&&r.sort.forEach((function(e){var n=Object.keys(e)[0],i=["$gt","$gte","$lt","$lte"];if(!(r.selector[n]&&Object.keys(r.selector[n]).some((function(e){return i.includes(e)}))||!1)){var o=ze(t.schema,n);if(!o)throw g("QU5",{key:n});switch(r.selector[n]||(r.selector[n]={}),o.type){case"number":case"integer":r.selector[n].$gt=-1e28;break;case"string":"string"!=typeof r.selector[n]&&(r.selector[n].$gt="");break;default:r.selector[n].$gt=null}}})),r.selector[n]&&r.selector[n].$regex)throw g("QU4",{path:n,query:e});if(r.sort){var i=r.sort.map((function(e){var t,r=Object.keys(e)[0],i=Object.values(e)[0];return(t={})[r===n?"_id":r]=i,t}));r.sort=i}return Object.entries(r.selector).forEach((function(e){var t=e[0],n=e[1];"object"!=typeof n||null===n||Array.isArray(n)||0!==Object.keys(n).length||delete r.selector[t]})),r.selector=Gs(r.selector,this.primaryPath),r},t.bulkAddRevisions=function(){var e=A()(k.a.mark((function e(t){var n,r=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return Hs(r.primaryPath,e)})),e.next=3,this.internals.pouch.bulkDocs(n,{new_edits:!1,set_new_edit_as_latest_revision:!0});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.bulkWrite=function(){var e=A()(k.a.mark((function e(t){var n,r,i,o,a=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Map,r=t.map((function(e){var t=e.document[a.primaryPath];n.set(t,e);var r=qs(a.primaryPath,e.document);return e.previous&&(r._rev=e.previous._rev),r})),e.next=4,this.internals.pouch.bulkDocs(r,{custom:{writeRowById:n}});case 4:return i=e.sent,o={success:new Map,error:new Map},e.next=8,Promise.all(i.map(function(){var e=A()(k.a.mark((function e(t){var r,i,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(c.k)(n,t.id),!t.error){e.next=6;break}i={isError:!0,status:409,documentId:t.id,writeRow:r},o.error.set(t.id,i),e.next=18;break;case 6:if(u=Object(c.i)(r.document),(u=Fs(a.primaryPath,u))._rev=t.rev,u._attachments={},r.document._attachments){e.next=14;break}r.document._attachments={},e.next=17;break;case 14:return e.next=16,Ds(r.document._attachments);case 16:u._attachments=e.sent;case 17:o.success.set(t.id,u);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return e.next=10,Object(c.v)(0).then((function(){return Object(c.v)(0)}));case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.query=function(){var e=A()(k.a.mark((function e(t){var n,r,i=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.internals.pouch.find(t);case 2:return n=e.sent,r={documents:n.docs.map((function(e){return Us(i.primaryPath,e)}))},e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.getAttachmentData=function(){var e=A()(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.internals.pouch.getAttachment(t,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.findDocumentsById=function(){var e=A()(k.a.mark((function e(t,n){var r,i,o,a,u=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}return e.next=3,this.internals.pouch.changes({live:!1,since:0,doc_ids:t,style:"all_docs"});case 3:return r=e.sent,i=new Map,e.next=7,Promise.all(r.results.map(function(){var e=A()(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.internals.pouch.get(t.id,{rev:t.changes[0].rev,deleted:"ok",style:"all_docs"});case 2:n=e.sent,r=Us(u.primaryPath,n),i.set(t.id,r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:return e.abrupt("return",i);case 8:return e.next=10,this.internals.pouch.allDocs({include_docs:!0,keys:t});case 10:return o=e.sent,a=new Map,o.rows.filter((function(e){return!!e.doc})).forEach((function(e){var t=e.doc;t=Us(u.primaryPath,t),a.set(e.id,t)})),e.abrupt("return",a);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.changeStream=function(){return this.changes$.asObservable()},t.getChangedDocuments=function(){var e=A()(k.a.mark((function e(t){var n,r,i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={live:!1,limit:t.limit,include_docs:!1,since:t.startSequence,descending:"desc"===t.order},e.next=3,this.internals.pouch.changes(n);case 3:return r=e.sent,i=r.results.filter((function(e){return!e.id.startsWith(Rs)})).map((function(e){return{id:e.id,sequence:e.seq}})),o=r.last_seq,e.abrupt("return",{changedDocuments:i,lastSequence:o});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}(),Ns=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name="pouchdb",this.adapter=e,this.pouchSettings=t,js(e)}var t=e.prototype;return t.hash=function(e){return Bs(e)},t.createPouch=function(){var e=A()(k.a.mark((function e(t,n){var r,i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={location:t,adapter:Object(c.c)(this.adapter),settings:n},i=Object.assign({},r.adapter,this.pouchSettings,r.settings),o=new xs(r.location,i),e.abrupt("return",o);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t.createStorageInstance=function(){var e=A()(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qs(t.databaseName,t.collectionName,t.schema.version),e.next=3,this.createPouch(n,t.options);case 3:return r=e.sent,e.next=6,$s(r,t.schema);case 6:return e.abrupt("return",new Ms(t.databaseName,t.collectionName,t.schema,{pouch:r},t.options));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.createKeyObjectStorageInstance=function(){var e=A()(k.a.mark((function e(t,n,r){var i,o,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=Object(c.i)(r)).auto_compaction=!1,i.revs_limit=1,o=Qs(t,n,0),e.next=6,this.createPouch(o,r);case 6:return a=e.sent,e.abrupt("return",new Os(t,n,{pouch:a},r));case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}(),e}();function Ds(e){return Ls.apply(this,arguments)}function Ls(){return(Ls=A()(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{});case 2:return n={},e.next=5,Promise.all(Object.entries(t).map(function(){var e=A()(k.a.mark((function e(t){var r,i,o,a,u,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t[0],(i=t[1]).type){e.next=3;break}throw g("SNH",{args:{obj:i}});case 3:if(!i.data){e.next=15;break}return o=i,e.next=7,Bs(o.data);case 7:return a=e.sent,e.next=10,c.d.toString(o.data);case 10:u=e.sent,s=u.length,n[r]={digest:a,length:s,type:o.type},e.next=16;break;case 15:n[r]=i;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function js(e){if("string"==typeof e){if(!xs.adapters||!xs.adapters[e])throw g("DB9",{adapter:e})}else if(Ts(e),!xs.adapters||!xs.adapters.leveldb)throw g("DB10",{adapter:e})}function Bs(e){return new Promise((function(t){Object(ua.a)(e,(function(e){t("md5-"+e)}))}))}function Fs(e,t){return"_id"===e||t[e]||((t=Object(c.i)(t))[e]=t._id,delete t._id),t}function Us(e,t){var n=Fs(e,t);return delete(n=Object(c.i)(n))._revisions,n._attachments={},t._attachments&&Object.entries(t._attachments).forEach((function(e){var t=e[0],r=e[1];r.data?n._attachments[t]={data:r.data,type:r.type?r.type:r.content_type}:n._attachments[t]={digest:r.digest,type:r.type?r.type:r.content_type,length:r.length}})),n}function qs(e,t){var n=Hs(e,t);return(n=Object(c.i)(n))._attachments={},t._attachments&&Object.entries(t._attachments).forEach((function(e){var t=e[0],r=e[1];r.data?n._attachments[t]={data:r.data,content_type:r.type}:n._attachments[t]={digest:r.digest,content_type:r.type,length:r.length,stub:!0}})),n}function Hs(e,t){if("_id"===e)return t;var n={};return Object.entries(t).forEach((function(t){var r=t[0]===e?"_id":t[0];n[r]=t[1]})),n}function Ks(e){return e.substring(Cs.length)}function Vs(e,t,n){if(!t)throw new Error("primary missing !!");return(e?"local":"non-local")+"|"+t+"|"+n}function zs(e,t){if(!t)throw g("SNH",{args:{pouchDoc:t}});var n=t._id,r=Us(e,t),i=Object(c.l)(r._rev);return t._deleted?{operation:"DELETE",id:n,doc:null,previous:r}:1===i?{operation:"INSERT",id:n,doc:r,previous:null}:{operation:"UPDATE",id:n,doc:r,previous:"UNKNOWN"}}function Ws(e,t){var n=t.doc;if(!n)throw g("SNH",{args:{pouchRow:t}});var r=Object(c.l)(n._rev);if(t.deleted){var i=Object(c.i)(Us(e,t.doc));return delete i._deleted,{sequence:t.seq,id:t.id,operation:"DELETE",doc:null,previous:i}}return 1===r?{sequence:t.seq,id:t.id,operation:"INSERT",doc:Us(e,t.doc),previous:null}:{sequence:t.seq,id:t.id,operation:"UPDATE",doc:Us(e,t.doc),previous:"UNKNOWN"}}function Gs(e,t){if("_id"===t)return e;if(Array.isArray(e))return e.map((function(e){return Gs(e,t)}));if("object"==typeof e){var n={};return Object.entries(e).forEach((function(e){var r=e[0],i=e[1];r===t?n._id=i:r.startsWith("$")?n[r]=Gs(i,t):n[r]=i})),n}return e}function $s(e,t){return Js.apply(this,arguments)}function Js(){return(Js=A()(k.a.mark((function e(t,n){var r,i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.indexes){e.next=2;break}return e.abrupt("return");case 2:return r=et(n.primaryKey),e.next=5,t.getIndexes();case 5:return i=e.sent,o=new Set(i.indexes.map((function(e){return e.name}))),e.next=9,Promise.all(n.indexes.map(function(){var e=A()(k.a.mark((function e(n){var i,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(i=Array.isArray(n)?n:[n]).map((function(e){return e===r?"_id":e})),a="idx-rxdb-index-"+i.join(","),!o.has(a)){e.next=5;break}return e.abrupt("return");case 5:return e.abrupt("return",t.createIndex({name:a,ddoc:a,index:{fields:i}}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qs(e,t,n){var r=e+"-rxdb-"+n+"-";if(t.includes("/")){var i=t.split("/"),o=i.pop(),a=i.join("/");return a+="/"+r+o}return r+t}function Ys(e,t){if(!e)throw new Error("adapter missing");return new Ns(e,t)}var Xs="rxdb-adapter-check";function Zs(e){var t,n,r=Xs+"-"+Object(c.w)(12);try{t=new xs(Xs,Object(c.c)(e),{auto_compaction:!0,revs_limit:1})}catch(e){return Promise.resolve(!1)}return t.info().then((function(){return t.put({_id:r,value:{ok:!0,time:(new Date).getTime()}})})).then((function(){return t.get(r)})).then((function(e){return n=e})).then((function(){return t.remove(n)})).then((function(){return!0})).then((function(){return!!(n&&n.value&&n.value.ok)})).catch((function(){return!1}))}ks(Sa);var ec=new WeakSet,tc=function(){function e(e,t){var n=this;this._subs=[],this._subjects={change:new he,docs:new he,denied:new he,active:new me(!1),complete:new me(!1),alive:new me(!1),error:new he},this.canceled=!1,this.collection=e,this.syncOptions=t,Object.keys(this._subjects).forEach((function(e){Object.defineProperty(n,e+"$",{get:function(){return this._subjects[e].asObservable()}})}))}var t=e.prototype;return t.awaitInitialReplication=function(){if(this.syncOptions.options&&this.syncOptions.options.live)throw g("RC4",{database:this.collection.database.name,collection:this.collection.name});if(this.collection.database.multiInstance&&this.syncOptions.waitForLeadership)throw g("RC5",{database:this.collection.database.name,collection:this.collection.name});return lt(this.complete$.pipe(jt((function(e){return!!e}))))},t.cancel=function(){return this.canceled?Promise.resolve(!1):(this.canceled=!0,this.collection._repStates.delete(this),this._pouchEventEmitterObject&&this._pouchEventEmitterObject.cancel(),this._subs.forEach((function(e){return e.unsubscribe()})),Promise.resolve(!0))},e}();function nc(e,t){if(e._pouchEventEmitterObject)throw g("RC1");var n;e._pouchEventEmitterObject=t,e._subs.push(ka(t,"change").subscribe((function(t){e._subjects.change.next(t)}))),e._subs.push(ka(t,"denied").subscribe((function(t){return e._subjects.denied.next(t)}))),e._subs.push(ka(t,"change").subscribe((function(t){0!==e._subjects.docs.observers.length&&"pull"===t.direction&&t.change.docs.filter((function(e){return"query"!==e.language})).map((function(t){return He(e.collection,t)})).forEach((function(t){return e._subjects.docs.next(t)}))}))),e._subs.push(ka(t,"error").subscribe((function(t){return e._subjects.error.next(t)}))),e._subs.push(ka(t,"active").subscribe((function(){return e._subjects.active.next(!0)}))),e._subs.push(ka(t,"paused").subscribe((function(){return e._subjects.active.next(!1)}))),e._subs.push(ka(t,"complete").subscribe(function(){var t=A()(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(c.v)(100);case 2:e._subjects.complete.next(n);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.syncOptions.options&&e.syncOptions.options.live||e._subs.push(e.complete$.pipe(jt((function(e){return!!e})),function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?jt((function(t,n){return e(t,n,r)})):se,Gn(1),n?Ca(t):Ra((function(){return new ft})))}}(),xt((function(){return e.collection.database.requestIdlePromise().then((function(){return e.cancel()}))}))).subscribe()),e._subs.push(ka(t,"paused").pipe((n=ka(t,"active"),ye((function(e,t){var r=!1,i=new ve(t,(function(){null==i||i.unsubscribe(),r=!0}),J);At(n).subscribe(i),e.subscribe(new ve(t,(function(e){return r&&t.next(e)})))})))).subscribe((function(){(function e(t){var n=t.state;if(n||(n=[t.pull.state,t.push.state].reduce((function(e,t){return"active"===e||"active"===t?"active":"stopped"===e?e:t}),"")),"active"===n)return Object(c.v)(15).then((function(){return e(t)}));var r="stopped"!==n;return Promise.resolve(r)})(e._pouchEventEmitterObject).then((function(t){return e._subjects.alive.next(t)}))})))}function rc(e){var t=this,n=e.remote,r=e.waitForLeadership,i=void 0===r||r,o=e.direction,a=void 0===o?{pull:!0,push:!0}:o,u=e.options,s=void 0===u?{live:!0,retry:!0}:u,f=e.query,l=Object(c.i)(s);if(Ps(n)&&ec.has(n))throw g("RC3",{database:this.database.name,collection:this.name});if(sr(n)&&(n=n.storageInstance.internals.pouch),f&&this!==f.collection)throw g("RC2",{query:f});var d=As(this.storageInstance.internals.pouch,a);f&&(l.selector=f.toJSON().selector);var h=new tc(this,{remote:n,waitForLeadership:i,direction:a,options:s,query:f});return(i&&this.database.multiInstance?this.database.waitForLeadership():Object(c.v)(0)).then((function(){if(!t.destroyed&&!h.canceled){var e=d(n,l);nc(h,e),t._repStates.add(h)}})),h}var ic={name:"replication-couchdb",rxdb:!0,prototypes:{RxCollection:function(e){e.syncCouchDB=rc}},hooks:{createRxCollection:function(e){e.storageInstance.internals.pouch&&ec.add(e.storageInstance.internals.pouch)}}};function oc(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,r={name:this.name,instanceToken:this.token,encrypted:!1,passwordHash:null,collections:[]};this.password&&(r.passwordHash=Object(c.m)(this.password),r.encrypted=!t);var i=Object.keys(this.collections).filter((function(e){return!n||n.includes(e)})).filter((function(e){return"_"!==e.charAt(0)})).map((function(t){return e.collections[t]}));return Promise.all(i.map((function(e){return e.exportJSON(t)}))).then((function(e){return r.collections=e,r}))}var ac=function(e){var t=this,n=e.collections.filter((function(e){return!t.collections[e.name]})).map((function(e){return e.name}));if(n.length>0)throw g("JD1",{missingCollections:n});return Promise.all(e.collections.map((function(e){return t.collections[e.name].importJSON(e)})))},uc=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!e,n={name:this.name,schemaHash:this.schema.hash,encrypted:!1,passwordHash:null,docs:[]};this.database.password&&t&&(n.passwordHash=Object(c.m)(this.database.password),n.encrypted=!0);var r=Fn("find",jn(this),this);return this._queryStorageInstance(r,void 0,t).then((function(e){return n.docs=e.map((function(e){return delete e._rev,delete e._attachments,e})),n}))};function sc(e){var t=this;if(e.schemaHash!==this.schema.hash)throw g("JD2",{schemaHash:e.schemaHash,own:this.schema.hash});if(e.encrypted&&e.passwordHash!==Object(c.m)(this.database.password))throw g("JD3",{passwordHash:e.passwordHash,own:Object(c.m)(this.database.password)});var n=e.docs.map((function(e){return t._crypter.decrypt(e)})).map((function(e){return t.schema.validate(e)}));return this.database.lockedRun((function(){Object(c.r)();var e=n.map((function(e){return{document:qe(t,e)}}));return t.storageInstance.bulkWrite(e)}))}var cc={name:"json-dump",rxdb:!0,prototypes:{RxDatabase:function(e){e.exportJSON=oc,e.importJSON=ac},RxCollection:function(e){e.exportJSON=uc,e.importJSON=sc}},overwritable:{}},fc=n(245),lc=n.n(fc),dc=function(e){function t(t,n){return e.call(this)||this}return C(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(H),hc={setInterval:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=hc.delegate;return((null==n?void 0:n.setInterval)||setInterval).apply(void 0,N([],M(e)))},clearInterval:function(e){var t=hc.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},pc=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return C(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),hc.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;hc.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,q(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(dc),mc=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=zn.now,e}(),yc=new(function(e){function t(t,n){void 0===n&&(n=mc.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return C(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(mc))(pc),vc=yc;function gc(e,t){return t?function(n){return Kn(t.pipe(Gn(1),ye((function(e,t){e.subscribe(new ve(t,J))}))),n.pipe(gc(e)))}:xt((function(t,n){return e(t,n).pipe(Gn(1),function(e){return ge((function(){return e}))}(t))}))}function bc(e,t,n){void 0===e&&(e=0),void 0===n&&(n=vc);var r=-1;return null!=t&&(Ot(t)?n=t:r=t),new fe((function(t){var i,o=(i=e)instanceof Date&&!isNaN(i)?+e-n.now():e;o<0&&(o=0);var a=0;return n.schedule((function(){t.closed||(t.next(a++),0<=r?this.schedule(void 0,r):t.complete())}),o)}))}function wc(e,t){void 0===t&&(t=yc);var n=bc(e,t);return gc((function(){return n}))}var Ec=new WeakMap,_c=new WeakMap,Sc={new_edits:!0},Tc={new_edits:!1},Ac=function(e){function t(t,n){var r;(r=e.call(this,t.database,t.name,function(e){var t=Object(c.e)(e.jsonSchema);t.keyCompression=!1,delete t.properties._rev,delete t.properties._attachments;return function e(t,n){delete t.encrypted,Object.values(t).filter((function(e){return"object"==typeof e})).forEach((function(t){return e(t,n)}))}(t,t),at(t)}(t.schema),n,{},t._methods)||this)._eventCounter=0,r.parentCollection=t,r.pouchSettings=n,r._isInMemory=!0,t.onDestroy.then((function(){return r.destroy()})),r._crypter=ct(r.database.password,r.schema),r._changeStreams=[],r.onDestroy.then((function(){r._changeStreams.forEach((function(e){return e.cancel()})),r.storageInstance.internals.pouch.destroy()})),r.options=t.options,Object.entries(t.statics).forEach((function(e){var t=e[0],n=e[1];Object.defineProperty(lc()(r),t,{get:function(){return n.bind(lc()(r))}})})),r._observable$=new he,r._changeEventBuffer=Zn(lc()(r));var i=Object.getPrototypeOf(t);return r._oldPouchPut=i._pouchPut.bind(lc()(r)),r._nonPersistentRevisions=new Set,r._nonPersistentRevisionsSubject=new he,r}l()(t,e);var n=t.prototype;return n.prepareChild=function(){var e,t,n=this;return(e=this.schema,t=this.storageInstance.internals.pouch,Promise.all(e.indexes.map((function(e){var n="idx-rxdb-"+e.join(",");return t.createIndex({ddoc:n,name:n,index:{fields:e}})})))).then((function(){n._subs.push(n._observable$.subscribe((function(e){var t=n._docCache.get(e.documentId);t&&t._handleChangeEvent(e)})))})).then((function(){return e=n.parentCollection,t=n,e.storageInstance.internals.pouch.allDocs({attachments:!1,include_docs:!0}).then((function(n){var r=n.rows.map((function(e){return e.doc})).filter((function(e){return!e.language})).map((function(t){return He(e,t)})).map((function(t){return Hs(e.schema.primaryPath,t)}));return 0===r.length?Promise.resolve([]):t.storageInstance.internals.pouch.bulkDocs({docs:r},Tc).then((function(){return r}))}));var e,t})).then((function(){var e=Pc(n).pipe(xt((function(e){return kc(n.parentCollection,e).then((function(){return e._rev}))}))).subscribe((function(e){n._nonPersistentRevisions.delete(e),n._nonPersistentRevisionsSubject.next(n._nonPersistentRevisions.size)}));n._subs.push(e);var t=Pc(n.parentCollection).subscribe((function(e){return kc(n,e)}));n._subs.push(t)}))},n.awaitPersistence=function(){var e=this;return 0===this._nonPersistentRevisions.size?Promise.resolve():lt(this._nonPersistentRevisionsSubject.pipe(jt((function(){return 0===e._nonPersistentRevisions.size}))))},n._pouchPut=function(e,t){var n=this;return this._oldPouchPut(e,t).then((function(e){return n._nonPersistentRevisions.add(e.rev),e}))},n.$emit=function(e){var t=Ee(e);this._changeEventBuffer.hasChangeWithRevision(t&&t._rev)||(this._observable$.next(e),this._eventCounter++,10===this._eventCounter&&(this._eventCounter=0,this.storageInstance.internals.pouch.compact()))},n.syncCouchDB=function(){throw g("IM2")},t}(or);function Pc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return!0};e._doNotEmitSet||(e._doNotEmitSet=new Set);var n=ka(e.storageInstance.internals.pouch.changes({since:"now",live:!0,include_docs:!0}),"change").pipe(wc(0),ge((function(e){return e[0]})),jt((function(t){var n=t.id+":"+t.doc._rev;return!e._doNotEmitSet.has(n)})),jt((function(e){return t(e)})),ge((function(t){return He(e,t.doc)})),ge((function(t){return Fs(e.schema.primaryPath,t)})));return n}function kc(e,t){e._doNotEmitSet||(e._doNotEmitSet=new Set);var n=e.schema.primaryPath,r=qe(e,t);return r=Hs(n,r),e.storageInstance.internals.pouch.get(r._id).then((function(e){return r._rev=e._rev})).catch((function(){delete r._rev})).then((function(){return e.storageInstance.internals.pouch.bulkDocs({docs:[r]},Sc)})).then((function(t){if(t.length>0&&!t[0].ok)throw new Error(JSON.stringify(t[0]));var n=r._id+":"+t[0].rev;return e._doNotEmitSet.add(n),setTimeout((function(){return e._doNotEmitSet.delete(n)}),3e4),r}))}var xc=!1;function Cc(){return Rc.apply(this,arguments)}function Rc(){return(Rc=A()(k.a.mark((function e(){var t,n,r=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xc){e.next=4;break}if(xc=!0,xs.adapters&&xs.adapters.memory){e.next=4;break}throw g("IM1");case 4:if(!Ec.has(this)){e.next=6;break}return e.abrupt("return",_c.get(this).then((function(){return Ec.get(r)})));case 6:return t=new Ac(this),e.next=9,Ic(t);case 9:return n=t.prepareChild(),Ec.set(this,t),_c.set(this,n),e.abrupt("return",n.then((function(){return t})));case 13:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Ic(e){return Oc.apply(this,arguments)}function Oc(){return(Oc=A()(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ys("memory",{}),e.next=3,n.createStorageInstance({databaseName:"rxdb-in-memory",collectionName:Object(c.w)(10),schema:t.schema.jsonSchema,options:t.pouchSettings});case 3:t.storageInstance=e.sent,t.pouch=t.storageInstance.internals.pouch;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mc={name:"in-memory",rxdb:!0,prototypes:{RxCollection:function(e){e.inMemory=Cc}}};function Nc(e){if(!e.collection.schema.jsonSchema.attachments)throw g("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}var Dc=function(){function e(e){var t,n=e.doc,r=e.id,i=e.type,o=e.length,a=e.digest;this.doc=n,this.id=r,this.type=i,this.length=o,this.digest=a,t=this,Object.entries(t.doc.collection.attachments).forEach((function(e){var n=e[0],r=e[1];Object.defineProperty(t,n,{get:function(){return r.bind(t)}})}))}var t=e.prototype;return t.remove=function(){var e=A()(k.a.mark((function e(){var t=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.doc._atomicQueue=this.doc._atomicQueue.then(A()(k.a.mark((function e(){var n,r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(c.i)(t.doc._data))._attachments=Object(c.i)(n._attachments),delete n._attachments[t.id],e.next=5,Re(t.doc.collection.storageInstance,{previous:qe(t.doc.collection,Object(c.i)(t.doc._data)),document:qe(t.doc.collection,n)});case 5:r=e.sent,(i=Object(c.i)(t.doc._data))._rev=r._rev,i._attachments=r._attachments,t.doc._dataSync$.next(i);case 10:case"end":return e.stop()}}),e)})))),e.abrupt("return",this.doc._atomicQueue);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getData=function(){var e=A()(k.a.mark((function e(){var t,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.doc.collection.storageInstance.getAttachmentData(this.doc.primary,this.id);case 2:if(t=e.sent,!jc(this.doc.collection.schema)){e.next=11;break}return e.next=6,c.d.toString(t);case 6:return n=e.sent,r=c.d.createBlobBuffer(this.doc.collection._crypter._decryptString(n),this.type),e.abrupt("return",r);case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.getStringData=function(){return this.getData().then((function(e){return c.d.toString(e)}))},e}();function Lc(e,t,n){return new Dc({doc:n,id:e,type:t.type,length:t.length,digest:t.digest})}function jc(e){return!(!e.jsonSchema.attachments||!e.jsonSchema.attachments.encrypted)}function Bc(e){return Fc.apply(this,arguments)}function Fc(){return(Fc=A()(k.a.mark((function e(t){var n,r,i,o,a,u,s,f=this,l=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,r=t.data,i=t.type,o=void 0===i?"text/plain":i,a=!(l.length>1&&void 0!==l[1])||l[1],Nc(this),!jc(this.collection.schema)){e.next=9;break}return e.next=6,c.d.toString(r);case 6:u=e.sent,s=this.collection._crypter._encryptString(u),r=c.d.createBlobBuffer(s,"text/plain");case 9:return this._atomicQueue=this._atomicQueue.then(A()(k.a.mark((function e(){var t,i,u,s,l,d,h,p;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a&&f._data._attachments&&f._data._attachments[n])){e.next=7;break}return t=f._data._attachments[n],e.next=4,f.collection.database.storage.hash(r);case 4:if(i=e.sent,t.type!==o||t.digest!==i){e.next=7;break}return e.abrupt("return",f.getAttachment(n));case 7:return(u=Object(c.i)(f._data))._attachments=Object(c.i)(u._attachments),u._attachments[n]={type:o,data:r},s={previous:qe(f.collection,Object(c.i)(f._data)),document:qe(f.collection,Object(c.i)(u))},e.next=13,Re(f.collection.storageInstance,s);case 13:return l=e.sent,d=l._attachments[n],h=Lc(n,d,f),(p=Object(c.i)(f._data))._rev=l._rev,p._attachments=l._attachments,f._dataSync$.next(p),e.abrupt("return",h);case 21:case"end":return e.stop()}}),e)})))),e.abrupt("return",this._atomicQueue);case 11:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Uc(e){Nc(this);var t=this._dataSync$.getValue();return t._attachments&&t._attachments[e]?Lc(e,t._attachments[e],this):null}function qc(){var e=this;Nc(this);var t=this._dataSync$.getValue();return t._attachments?Object.keys(t._attachments).map((function(n){return Lc(n,t._attachments[n],e)})):[]}function Hc(){return(Hc=A()(k.a.mark((function e(t){var n,r,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.docData._attachments)){e.next=7;break}return r=!!jc(t.oldCollection.schema),i={},e.next=6,Promise.all(Object.keys(n).map(function(){var e=A()(k.a.mark((function e(o){var a,u,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n[o],u=t.docData[t.oldCollection.schema.primaryPath],e.next=4,t.oldCollection.storageInstance.getAttachmentData(u,o);case 4:if(s=e.sent,!r){e.next=9;break}return e.next=8,c.d.toString(s).then((function(e){return c.d.createBlobBuffer(t.oldCollection._crypter._decryptString(e),a.type)}));case 8:s=e.sent;case 9:i[o]={type:a.type,data:s};case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:t.docData._attachments=i;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kc(){return(Kc=A()(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vc={name:"attachments",rxdb:!0,prototypes:{RxDocument:function(e){e.putAttachment=Bc,e.getAttachment=Uc,e.allAttachments=qc,Object.defineProperty(e,"allAttachments$",{get:function(){var e=this;return this._dataSync$.pipe(ge((function(e){return e._attachments?e._attachments:{}})),ge((function(e){return Object.entries(e)})),ge((function(t){return t.map((function(t){return Lc(t[0],t[1],e)}))})))}})}},overwritable:{},hooks:{preMigrateDocument:function(e){return Hc.apply(this,arguments)},postMigrateDocument:function(e){return Kc.apply(this,arguments)}}},zc=new WeakMap,Wc=function(e){return zc.has(e)||zc.set(e,Yn()),zc.get(e)},Gc=new WeakMap,$c=function(e){function t(t,n,r){var i;return(i=e.call(this,null,n)||this).id=t,i.parent=r,i}return l()(t,e),t}($e());function Jc(e){return ni(e),e.localDocumentsStore}var Qc={get isLocal(){return!0},_handleChangeEvent:function(e){if(e.documentId===this.primary)switch(e.operation){case"UPDATE":var t=e.documentData;this._dataSync$.next(t);break;case"DELETE":Wc(this.parent).delete(this.primary),this._isDeleted$.next(!0)}},get allAttachments$(){throw g("LD1",{document:this})},get primaryPath(){return"id"},get primary(){return this.id},get $(){return this._dataSync$.asObservable()},$emit:function(e){return this.parent.$emit(e)},get:function(e){if(this._data){if("string"!=typeof e)throw b("LD2",{objPath:e});var t=s.a.get(this._data,e);return t=p.deepFreezeWhenDevMode(t)}},get$:function(e){if(e.includes(".item."))throw g("LD3",{path:e});if(e===this.primaryPath)throw g("LD4");return this._dataSync$.pipe(ge((function(t){return s.a.get(t,e)})),be())},set:function(e,t){if(!t){var n=Object(c.i)(e);return n._rev=this._data._rev,this._data=n,this}if("_id"===e)throw g("LD5",{objPath:e,value:t});if(!Object.is(this.get(e),t))return s.a.set(this._data,e,t),this},_saveData:function(e){var t=this._dataSync$.getValue(),n=Jc(this.parent);return e._id=this.id,n.bulkWrite([{previous:t,document:e}]).then((function(t){var n=t.success.get(e._id);if(!n)throw Object(c.k)(t.error,e._id);e._rev=n._rev}))},remove:function(){var e=this,t=Jc(this.parent),n={_id:this.id,_deleted:!0,_attachments:{}};return Oe(t,{previous:this._data,document:n}).then((function(){Wc(e.parent).delete(e.id)}))}},Yc=!1,Xc=function(){if(!Yc){Yc=!0;var e=Ge;Object.getOwnPropertyNames(e).forEach((function(t){if(!Object.getOwnPropertyDescriptor(Qc,t)){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(Qc,t,n)}}));["populate","update","putAttachment","getAttachment","allAttachments"].forEach((function(e){return Qc[e]=function(e){return function(){throw g("LD6",{functionName:e})}}(e)}))}};function Zc(e,t){var n=this;return sr(this)&&this._isInMemory?this.parentCollection.insertLocal(e,t):this.getLocal(e).then((function(r){if(r)throw g("LD7",{id:e,data:t});return(t=Object(c.i)(t))._id=e,Oe(Jc(n),{document:t}).then((function(r){return t._rev=r._rev,$c.create(e,t,n)}))}))}function ef(e,t){var n=this;return sr(this)&&this._isInMemory?this._parentCollection.upsertLocal(e,t):this.getLocal(e).then((function(r){return r?(t._rev=r._data._rev,r.atomicUpdate((function(){return t})).then((function(){return r}))):n.insertLocal(e,t)}))}function tf(e){var t=this;if(sr(this)&&this._isInMemory)return this.parentCollection.getLocal(e);var n=Jc(this),r=Wc(this).get(e);return r?Promise.resolve(r):Ne(n,e).then((function(n){return n?$c.create(e,n,t):null})).catch((function(){return null}))}function nf(e){var t=this;return this.$.pipe(Vn(null),xt(function(){var n=A()(k.a.mark((function n(r){var i;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r){n.next=4;break}return n.abrupt("return",{changeEvent:r});case 4:return n.next=6,t.getLocal(e);case 6:return i=n.sent,n.abrupt("return",{doc:i});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),xt(function(){var n=A()(k.a.mark((function n(r){var i,o;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.changeEvent){n.next=12;break}if((i=r.changeEvent).isLocal&&i.documentId===e){n.next=6;break}return n.abrupt("return",{use:!1});case 6:return n.next=8,t.getLocal(e);case 8:return o=n.sent,n.abrupt("return",{use:!0,doc:o});case 10:n.next=13;break;case 12:return n.abrupt("return",{use:!0,doc:r.doc});case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),jt((function(e){return e.use})),ge((function(e){return e.doc})))}$c.create=function(e,t,n){Xc(),function(e){if(!Gc.has(e)){var t=e.$.pipe(jt((function(e){return e.isLocal}))).subscribe((function(t){var n=Wc(e).get(t.documentId);n&&n._handleChangeEvent(t)}));e._subs.push(t),Gc.set(e,t)}Gc.get(e)}(n);var r=new $c(e,t,n);return r.__proto__=Qc,Wc(n).set(e,r),r};var rf={name:"local-documents",rxdb:!0,prototypes:{RxCollection:function(e){e.insertLocal=Zc,e.upsertLocal=ef,e.getLocal=tf,e.getLocal$=nf},RxDatabase:function(e){e.insertLocal=Zc,e.upsertLocal=ef,e.getLocal=tf,e.getLocal$=nf}},overwritable:{}},of=["__proto__","constructor","prototype"];function af(e,t){Object.keys(t).forEach((function(n){of.includes(n)||(void 0===e[n]?e[n]=t[n]:uf(t[n])?af(e[n],t[n]):e[n]=t[n])}))}function uf(e){return"[object Object]"===e.toString()}var sf=function(){function e(e){if(this.options={},this._conditions={},this._fields={},e){var t=this;e.selector&&t.find(e.selector),e.limit&&t.limit(e.limit),e.skip&&t.skip(e.skip),e.sort&&e.sort.forEach((function(e){return t.sort(e)}))}}var t=e.prototype;return t.where=function(e,t){if(!arguments.length)return this;var n=typeof arguments[0];if("string"===n)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"===n&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw b("MQ1",{path:arguments[0]})},t.equals=function(e){this._ensurePath("equals");var t=this._path;return this._conditions[t]=e,this},t.eq=function(e){this._ensurePath("eq");var t=this._path;return this._conditions[t]=e,this},t.or=function(e){var t=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(e)||(e=[e]),t.push.apply(t,e),this},t.nor=function(e){var t=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(e)||(e=[e]),t.push.apply(t,e),this},t.and=function(e){var t=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(e)||(e=[e]),t.push.apply(t,e),this},t.mod=function(e,t){var n,r;1===arguments.length?(this._ensurePath("mod"),n=arguments[0],r=this._path):2!==arguments.length||Array.isArray(arguments[1])?3===arguments.length?(n=arguments.slice(1),r=arguments[0]):(n=arguments[1],r=arguments[0]):(this._ensurePath("mod"),n=arguments.slice(),r=this._path);var i=this._conditions[r]||(this._conditions[r]={});return i.$mod=n,this},t.exists=function(e,t){var n,r;0===arguments.length?(this._ensurePath("exists"),n=this._path,r=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),n=this._path,r=arguments[0]):(n=arguments[0],r=!0):2===arguments.length&&(n=arguments[0],r=arguments[1]);var i=this._conditions[n]||(this._conditions[n]={});return i.$exists=r,this},t.elemMatch=function(t,n){if(null===arguments[0])throw b("MQ2");var r,i,o;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),i=this._path,r=arguments[0];else if(uf(arguments[0]))this._ensurePath("elemMatch"),i=this._path,o=arguments[0];else if("function"==typeof arguments[1])i=arguments[0],r=arguments[1];else{if(!arguments[1]||!uf(arguments[1]))throw b("MQ2");i=arguments[0],o=arguments[1]}r&&(r(o=new e),o=o._conditions);var a=this._conditions[i]||(this._conditions[i]={});return a.$elemMatch=o,this},t.sort=function(e){var t,n=this;if(!e)return this;var r=typeof e;if(Array.isArray(e)){t=e.length;for(var i=0;i<e.length;++i)df(this.options,e[i][0],e[i][1]);return this}if(1===arguments.length&&"string"===r){t=(e=e.split(/\s+/)).length;for(var o=0;o<t;++o){var a=e[o];if(a){var u="-"===a[0]?-1:1;-1===u&&(a=a.substring(1)),lf(this.options,a,u)}}return this}if(uf(e)){var s=Object.keys(e);return s.forEach((function(t){return lf(n.options,t,e[t])})),this}throw b("MQ3",{args:arguments})},t.merge=function(t){if(!t)return this;if(!hf(t))throw b("MQ4",{source:t});return t instanceof e?(t._conditions&&af(this._conditions,t._conditions),t._fields&&(this._fields||(this._fields={}),af(this._fields,t._fields)),t.options&&(this.options||(this.options={}),af(this.options,t.options)),t._distinct&&(this._distinct=t._distinct),this):(af(this._conditions,t),this)},t.find=function(e){return hf(e)&&this.merge(e),this},t._ensurePath=function(e){if(!this._path)throw g("MQ5",{method:e})},t.toJSON=function(){var e,t={selector:this._conditions};return this.options.skip&&(t.skip=this.options.skip),this.options.limit&&(t.limit=this.options.limit),this.options.sort&&(t.sort=(e=this.options.sort,Object.entries(e).map((function(e){var t,n=e[0],r=e[1];return(t={})[n]=1===r?"asc":"desc",t})))),{query:t,path:this._path}},e}();var cf=["limit","skip","maxScan","batchSize","comment"];cf.forEach((function(e){sf.prototype[e]=function(t){return this.options[e]=t,this}}));var ff=["gt","gte","lt","lte","ne","in","nin","all","regex","size"];function lf(e,t,n){if(Array.isArray(e.sort))throw b("MQ6",{opts:e,field:t,value:n});if(n&&n.$meta){(e.sort||(e.sort={}))[t]={$meta:n.$meta}}else{var r=String(n||1).toLowerCase();if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(r))throw Array.isArray(n)&&(n="["+n+"]"),b("MQ7",{field:t,value:n});var i=e.sort||(e.sort={}),o=n.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");i[t]=parseInt(o,10)}}function df(e,t,n){if(e.sort=e.sort||[],!Array.isArray(e.sort))throw b("MQ8",{opts:e,field:t,value:n});e.sort.push([t,n])}function hf(e){return e instanceof sf||uf(e)}ff.forEach((function(e){sf.prototype[e]=function(){var t,n;1===arguments.length?(this._ensurePath(e),n=arguments[0],t=this._path):(n=arguments[1],t=arguments[0]);var r=null===this._conditions[t]||"object"==typeof this._conditions[t]?this._conditions[t]:this._conditions[t]={};return r["$"+e]=n,this}}));function pf(e,t,n){var r,i=(r=Object(c.e)(e.mangoQuery),new sf(r));e.other.queryBuilderPath&&(i._path=e.other.queryBuilderPath),i[t](n);var o=i.toJSON(),a=new Ln(e.op,o.query,e.collection);return o.path&&(a.other.queryBuilderPath=o.path),Bn(a)}function mf(e,t){e[t]=function(e){return pf(this,t,e)}}var yf={name:"query-builder",rxdb:!0,prototypes:{RxQuery:function(e){["where","equals","eq","or","nor","and","mod","exists","elemMatch","sort"].forEach((function(t){mf(e,t)})),cf.forEach((function(t){mf(e,t)})),ff.forEach((function(t){mf(e,t)}))}}};ai(bi),ai(Ai),ai(Ki),ai(mo),ai(No),ai(qo),ai(Wo),ai(ic),ai(cc),ai(Mc),ai(Vc),ai(rf),ai(yf)},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"v1",(function(){return m})),n.d(t,"v3",(function(){return A})),n.d(t,"v4",(function(){return P})),n.d(t,"v5",(function(){return C})),n.d(t,"NIL",(function(){return R})),n.d(t,"version",(function(){return I})),n.d(t,"validate",(function(){return u})),n.d(t,"stringify",(function(){return d})),n.d(t,"parse",(function(){return y}));var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var u=function(e){return"string"==typeof e&&a.test(e)},s=[],c=0;c<256;++c)s.push((c+256).toString(16).substr(1));var f,l,d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!u(n))throw TypeError("Stringified UUID is invalid");return n},h=0,p=0;var m=function(e,t,n){var r=t&&n||0,i=t||new Array(16),a=(e=e||{}).node||f,u=void 0!==e.clockseq?e.clockseq:l;if(null==a||null==u){var s=e.random||(e.rng||o)();null==a&&(a=f=[1|s[0],s[1],s[2],s[3],s[4],s[5]]),null==u&&(u=l=16383&(s[6]<<8|s[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:p+1,y=c-h+(m-p)/1e4;if(y<0&&void 0===e.clockseq&&(u=u+1&16383),(y<0||c>h)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=c,p=m,l=u;var v=(1e4*(268435455&(c+=122192928e5))+m)%4294967296;i[r++]=v>>>24&255,i[r++]=v>>>16&255,i[r++]=v>>>8&255,i[r++]=255&v;var g=c/4294967296*1e4&268435455;i[r++]=g>>>8&255,i[r++]=255&g,i[r++]=g>>>24&15|16,i[r++]=g>>>16&255,i[r++]=u>>>8|128,i[r++]=255&u;for(var b=0;b<6;++b)i[r+b]=a[b];return t||d(i)};var y=function(e){if(!u(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var v=function(e,t,n){function r(e,r,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=y(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(r),a.set(e,r.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,i){o=o||0;for(var u=0;u<16;++u)i[o+u]=a[u];return i}return d(a)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r};function g(e){return 14+(e+64>>>9<<4)+1}function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function w(e,t,n,r,i,o){return b((a=b(b(t,e),b(r,o)))<<(u=i)|a>>>32-u,n);var a,u}function E(e,t,n,r,i,o,a){return w(t&n|~t&r,e,t,i,o,a)}function _(e,t,n,r,i,o,a){return w(t&r|n&~r,e,t,i,o,a)}function S(e,t,n,r,i,o,a){return w(t^n^r,e,t,i,o,a)}function T(e,t,n,r,i,o,a){return w(n^(t|~r),e,t,i,o,a)}var A=v("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r=0;r<n;r+=8){var i=e[r>>5]>>>r%32&255,o=parseInt("0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[g(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var u=n,s=r,c=i,f=o;n=E(n,r,i,o,e[a],7,-680876936),o=E(o,n,r,i,e[a+1],12,-389564586),i=E(i,o,n,r,e[a+2],17,606105819),r=E(r,i,o,n,e[a+3],22,-1044525330),n=E(n,r,i,o,e[a+4],7,-176418897),o=E(o,n,r,i,e[a+5],12,1200080426),i=E(i,o,n,r,e[a+6],17,-1473231341),r=E(r,i,o,n,e[a+7],22,-45705983),n=E(n,r,i,o,e[a+8],7,1770035416),o=E(o,n,r,i,e[a+9],12,-1958414417),i=E(i,o,n,r,e[a+10],17,-42063),r=E(r,i,o,n,e[a+11],22,-1990404162),n=E(n,r,i,o,e[a+12],7,1804603682),o=E(o,n,r,i,e[a+13],12,-40341101),i=E(i,o,n,r,e[a+14],17,-1502002290),r=E(r,i,o,n,e[a+15],22,1236535329),n=_(n,r,i,o,e[a+1],5,-165796510),o=_(o,n,r,i,e[a+6],9,-1069501632),i=_(i,o,n,r,e[a+11],14,643717713),r=_(r,i,o,n,e[a],20,-373897302),n=_(n,r,i,o,e[a+5],5,-701558691),o=_(o,n,r,i,e[a+10],9,38016083),i=_(i,o,n,r,e[a+15],14,-660478335),r=_(r,i,o,n,e[a+4],20,-405537848),n=_(n,r,i,o,e[a+9],5,568446438),o=_(o,n,r,i,e[a+14],9,-1019803690),i=_(i,o,n,r,e[a+3],14,-187363961),r=_(r,i,o,n,e[a+8],20,1163531501),n=_(n,r,i,o,e[a+13],5,-1444681467),o=_(o,n,r,i,e[a+2],9,-51403784),i=_(i,o,n,r,e[a+7],14,1735328473),r=_(r,i,o,n,e[a+12],20,-1926607734),n=S(n,r,i,o,e[a+5],4,-378558),o=S(o,n,r,i,e[a+8],11,-2022574463),i=S(i,o,n,r,e[a+11],16,1839030562),r=S(r,i,o,n,e[a+14],23,-35309556),n=S(n,r,i,o,e[a+1],4,-1530992060),o=S(o,n,r,i,e[a+4],11,1272893353),i=S(i,o,n,r,e[a+7],16,-155497632),r=S(r,i,o,n,e[a+10],23,-1094730640),n=S(n,r,i,o,e[a+13],4,681279174),o=S(o,n,r,i,e[a],11,-358537222),i=S(i,o,n,r,e[a+3],16,-722521979),r=S(r,i,o,n,e[a+6],23,76029189),n=S(n,r,i,o,e[a+9],4,-640364487),o=S(o,n,r,i,e[a+12],11,-421815835),i=S(i,o,n,r,e[a+15],16,530742520),r=S(r,i,o,n,e[a+2],23,-995338651),n=T(n,r,i,o,e[a],6,-198630844),o=T(o,n,r,i,e[a+7],10,1126891415),i=T(i,o,n,r,e[a+14],15,-1416354905),r=T(r,i,o,n,e[a+5],21,-57434055),n=T(n,r,i,o,e[a+12],6,1700485571),o=T(o,n,r,i,e[a+3],10,-1894986606),i=T(i,o,n,r,e[a+10],15,-1051523),r=T(r,i,o,n,e[a+1],21,-2054922799),n=T(n,r,i,o,e[a+8],6,1873313359),o=T(o,n,r,i,e[a+15],10,-30611744),i=T(i,o,n,r,e[a+6],15,-1560198380),r=T(r,i,o,n,e[a+13],21,1309151649),n=T(n,r,i,o,e[a+4],6,-145523070),o=T(o,n,r,i,e[a+11],10,-1120210379),i=T(i,o,n,r,e[a+2],15,718787259),r=T(r,i,o,n,e[a+9],21,-343485551),n=b(n,u),r=b(r,s),i=b(i,c),o=b(o,f)}return[n,r,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(g(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}));var P=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return d(r)};function k(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function x(e,t){return e<<t|e>>>32-t}var C=v("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,a=Math.ceil(o/16),u=new Array(a),s=0;s<a;++s){for(var c=new Uint32Array(16),f=0;f<16;++f)c[f]=e[64*s+4*f]<<24|e[64*s+4*f+1]<<16|e[64*s+4*f+2]<<8|e[64*s+4*f+3];u[s]=c}u[a-1][14]=8*(e.length-1)/Math.pow(2,32),u[a-1][14]=Math.floor(u[a-1][14]),u[a-1][15]=8*(e.length-1)&4294967295;for(var l=0;l<a;++l){for(var d=new Uint32Array(80),h=0;h<16;++h)d[h]=u[l][h];for(var p=16;p<80;++p)d[p]=x(d[p-3]^d[p-8]^d[p-14]^d[p-16],1);for(var m=n[0],y=n[1],v=n[2],g=n[3],b=n[4],w=0;w<80;++w){var E=Math.floor(w/20),_=x(m,5)+k(E,y,v,g)+b+t[E]+d[w]>>>0;b=g,g=v,v=x(y,30)>>>0,y=m,m=_}n[0]=n[0]+m>>>0,n[1]=n[1]+y>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+g>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),R="00000000-0000-0000-0000-000000000000";var I=function(e){if(!u(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},function(e,t,n){"use strict";n.r(t),n.d(t,"nanoid",(function(){return u})),n.d(t,"customAlphabet",(function(){return a})),n.d(t,"customRandom",(function(){return o})),n.d(t,"urlAlphabet",(function(){return r})),n.d(t,"random",(function(){return i}));let r="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW";let i=e=>crypto.getRandomValues(new Uint8Array(e)),o=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length);return()=>{let o="";for(;;){let a=n(i),u=i;for(;u--;)if(o+=e[a[u]&r]||"",o.length===t)return o}}},a=(e,t)=>o(e,t,i),u=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t}},function(e,t,n){(function(t){e.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!(void 0===t||"object"!=typeof t.versions||!t.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}}).call(this,n(49))},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=n(124)("Object.prototype.toString"),o=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},u=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=u?o:a},function(e,t,n){"use strict";var r=n(718);e.exports=Function.prototype.bind||r},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=n(22),i=n(451),o=n(38).Buffer,a=new Array(16);function u(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function s(e,t){return e<<t|e>>>32-t}function c(e,t,n,r,i,o,a){return s(e+(t&n|~t&r)+i+o|0,a)+t|0}function f(e,t,n,r,i,o,a){return s(e+(t&r|n&~r)+i+o|0,a)+t|0}function l(e,t,n,r,i,o,a){return s(e+(t^n^r)+i+o|0,a)+t|0}function d(e,t,n,r,i,o,a){return s(e+(n^(t|~r))+i+o|0,a)+t|0}r(u,i),u.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,o=this._d;n=c(n,r,i,o,e[0],3614090360,7),o=c(o,n,r,i,e[1],3905402710,12),i=c(i,o,n,r,e[2],606105819,17),r=c(r,i,o,n,e[3],3250441966,22),n=c(n,r,i,o,e[4],4118548399,7),o=c(o,n,r,i,e[5],1200080426,12),i=c(i,o,n,r,e[6],2821735955,17),r=c(r,i,o,n,e[7],4249261313,22),n=c(n,r,i,o,e[8],1770035416,7),o=c(o,n,r,i,e[9],2336552879,12),i=c(i,o,n,r,e[10],4294925233,17),r=c(r,i,o,n,e[11],2304563134,22),n=c(n,r,i,o,e[12],1804603682,7),o=c(o,n,r,i,e[13],4254626195,12),i=c(i,o,n,r,e[14],2792965006,17),n=f(n,r=c(r,i,o,n,e[15],1236535329,22),i,o,e[1],4129170786,5),o=f(o,n,r,i,e[6],3225465664,9),i=f(i,o,n,r,e[11],643717713,14),r=f(r,i,o,n,e[0],3921069994,20),n=f(n,r,i,o,e[5],3593408605,5),o=f(o,n,r,i,e[10],38016083,9),i=f(i,o,n,r,e[15],3634488961,14),r=f(r,i,o,n,e[4],3889429448,20),n=f(n,r,i,o,e[9],568446438,5),o=f(o,n,r,i,e[14],3275163606,9),i=f(i,o,n,r,e[3],4107603335,14),r=f(r,i,o,n,e[8],1163531501,20),n=f(n,r,i,o,e[13],2850285829,5),o=f(o,n,r,i,e[2],4243563512,9),i=f(i,o,n,r,e[7],1735328473,14),n=l(n,r=f(r,i,o,n,e[12],2368359562,20),i,o,e[5],4294588738,4),o=l(o,n,r,i,e[8],2272392833,11),i=l(i,o,n,r,e[11],1839030562,16),r=l(r,i,o,n,e[14],4259657740,23),n=l(n,r,i,o,e[1],2763975236,4),o=l(o,n,r,i,e[4],1272893353,11),i=l(i,o,n,r,e[7],4139469664,16),r=l(r,i,o,n,e[10],3200236656,23),n=l(n,r,i,o,e[13],681279174,4),o=l(o,n,r,i,e[0],3936430074,11),i=l(i,o,n,r,e[3],3572445317,16),r=l(r,i,o,n,e[6],76029189,23),n=l(n,r,i,o,e[9],3654602809,4),o=l(o,n,r,i,e[12],3873151461,11),i=l(i,o,n,r,e[15],530742520,16),n=d(n,r=l(r,i,o,n,e[2],3299628645,23),i,o,e[0],4096336452,6),o=d(o,n,r,i,e[7],1126891415,10),i=d(i,o,n,r,e[14],2878612391,15),r=d(r,i,o,n,e[5],4237533241,21),n=d(n,r,i,o,e[12],1700485571,6),o=d(o,n,r,i,e[3],2399980690,10),i=d(i,o,n,r,e[10],4293915773,15),r=d(r,i,o,n,e[1],2240044497,21),n=d(n,r,i,o,e[8],1873313359,6),o=d(o,n,r,i,e[15],4264355552,10),i=d(i,o,n,r,e[6],2734768916,15),r=d(r,i,o,n,e[13],1309151649,21),n=d(n,r,i,o,e[4],4149444226,6),o=d(o,n,r,i,e[11],3174756917,10),i=d(i,o,n,r,e[2],718787259,15),r=d(r,i,o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},u.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=u},function(e,t,n){"use strict";var r=n(181).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&t.readable,u=n.writable||!1!==n.writable&&t.writable,s=function(){t.writable||f()},c=t._writableState&&t._writableState.finished,f=function(){u=!1,c=!0,a||o.call(t)},l=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,l=!0,u||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!l?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):u&&!c?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},m=function(){t.req.on("finish",f)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?u&&!t._writableState&&(t.on("end",s),t.on("close",s)):(t.on("complete",f),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",d),t.on("finish",f),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",f),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",f),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",f),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},function(e,t,n){"use strict";var r=n(27).Buffer,i=n(22),o=n(451),a=new Array(16),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],s=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],l=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function h(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function m(e,t,n,r,i,o,a,u){return p(e+(t^n^r)+o+a|0,u)+i|0}function y(e,t,n,r,i,o,a,u){return p(e+(t&n|~t&r)+o+a|0,u)+i|0}function v(e,t,n,r,i,o,a,u){return p(e+((t|~n)^r)+o+a|0,u)+i|0}function g(e,t,n,r,i,o,a,u){return p(e+(t&r|n&~r)+o+a|0,u)+i|0}function b(e,t,n,r,i,o,a,u){return p(e+(t^(n|~r))+o+a|0,u)+i|0}i(h,o),h.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,h=0|this._e,w=0|this._a,E=0|this._b,_=0|this._c,S=0|this._d,T=0|this._e,A=0;A<80;A+=1){var P,k;A<16?(P=m(n,r,i,o,h,e[u[A]],l[0],c[A]),k=b(w,E,_,S,T,e[s[A]],d[0],f[A])):A<32?(P=y(n,r,i,o,h,e[u[A]],l[1],c[A]),k=g(w,E,_,S,T,e[s[A]],d[1],f[A])):A<48?(P=v(n,r,i,o,h,e[u[A]],l[2],c[A]),k=v(w,E,_,S,T,e[s[A]],d[2],f[A])):A<64?(P=g(n,r,i,o,h,e[u[A]],l[3],c[A]),k=y(w,E,_,S,T,e[s[A]],d[3],f[A])):(P=b(n,r,i,o,h,e[u[A]],l[4],c[A]),k=m(w,E,_,S,T,e[s[A]],d[4],f[A])),n=h,h=o,o=p(i,10),i=r,r=P,w=T,T=S,S=p(_,10),_=E,E=k}var x=this._b+i+S|0;this._b=this._c+o+T|0,this._c=this._d+h+w|0,this._d=this._e+n+E|0,this._e=this._a+r+_|0,this._a=x},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.alloc?r.alloc(20):new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=h},function(e,t,n){(t=e.exports=function(e){e=e.toLowerCase();var n=t[e];if(!n)throw new Error(e+" is not supported (we accept pull requests)");return new n}).sha=n(768),t.sha1=n(769),t.sha224=n(770),t.sha256=n(459),t.sha384=n(771),t.sha512=n(460)},function(e,t,n){(t=e.exports=n(461)).Stream=t,t.Readable=t,t.Writable=n(319),t.Duplex=n(159),t.Transform=n(464),t.PassThrough=n(777)},function(e,t,n){var r=n(27),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";(function(t,r,i){var o=n(250);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var u,s=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o.nextTick;g.WritableState=v;var c=Object.create(n(212));c.inherits=n(22);var f={deprecate:n(457)},l=n(462),d=n(318).Buffer,h=i.Uint8Array||function(){};var p,m=n(463);function y(){}function v(e,t){u=u||n(159),e=e||{};var r=t instanceof u;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(c||0===c)?c:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===e.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(o.nextTick(i,r),o.nextTick(T,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),T(e,t))}(e,n,r,t,i);else{var a=_(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||E(e,n),r?s(w,e,n,a,i):w(e,n,a,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function g(e){if(u=u||n(159),!(p.call(g,this)||this instanceof u))return new g(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function b(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),T(e,t)}function E(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var u=0,s=!0;n;)i[u]=n,n.isBuf||(s=!1),n=n.next,u+=1;i.allBuffers=s,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,f=n.encoding,l=n.callback;if(b(e,t,!1,t.objectMode?1:c.length,c,f,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),T(e,t)}))}function T(e,t){var n=_(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(g,l),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:f.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===g&&(e&&e._writableState instanceof v)}})):p=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var r,i=this._writableState,a=!1,u=!i.objectMode&&(r=e,d.isBuffer(r)||r instanceof h);return u&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(n=t,t=null),u?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=y),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o.nextTick(t,n)}(this,n):(u||function(e,t,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,e,n))&&(i.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var u=t.objectMode?1:r.length;t.length+=u;var s=t.length<t.highWaterMark;s||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,u,r,i,o);return s}(this,i,u,e,t,n)),a},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||E(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,T(e,t),n&&(t.finished?o.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=m.destroy,g.prototype._undestroy=m.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(49),n(184).setImmediate,n(48))},function(e,t,n){"use strict";var r=n(98);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<n;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,n=0,r=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,n=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),n+=this._flushBuffer(i,n);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,n;return e&&(t=this.update(e)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,n){var r=n(790),i=n(798),o=n(477);t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},function(e,t,n){var r={ECB:n(791),CBC:n(792),CFB:n(793),CFB8:n(794),CFB1:n(795),OFB:n(796),CTR:n(475),GCM:n(475)},i=n(477);for(var o in i)i[o].module=r[i[o].mode];e.exports=i},function(e,t,n){var r;function i(e){this.rand=e}if(e.exports=function(e){return r||(r=new i(null)),r.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(802);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},function(e,t,n){(function(t){var r=n(325),i=n(141);function o(e){var t,n=e.modulus.byteLength();do{t=new r(i(n))}while(t.cmp(e.modulus)>=0||!t.umod(e.prime1)||!t.umod(e.prime2));return t}function a(e,n){var i=function(e){var t=o(e);return{blinder:t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(n),a=n.modulus.byteLength(),u=new r(e).mul(i.blinder).umod(n.modulus),s=u.toRed(r.mont(n.prime1)),c=u.toRed(r.mont(n.prime2)),f=n.coefficient,l=n.prime1,d=n.prime2,h=s.redPow(n.exponent1).fromRed(),p=c.redPow(n.exponent2).fromRed(),m=h.isub(p).imul(f).umod(l).imul(d);return p.iadd(m).imul(i.unblinder).umod(n.modulus).toArrayLike(t,"be",a)}a.getr=o,e.exports=a}).call(this,n(27).Buffer)},function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:n(807).Buffer}catch(e){}function u(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function s(e,t,n){var r=u(e,n);return n-1>=t&&(r|=u(e,n-1)<<4),r}function c(e,t,n,i){for(var o=0,a=0,u=Math.min(e.length,n),s=t;s<u;s++){var c=e.charCodeAt(s)-48;o*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&a<i,"Invalid character"),o+=a}return o}function f(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,u=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<u&67108863,this.words[o+1]=a>>>26-u&67108863,(u+=24)>=26&&(u-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<u&67108863,this.words[o+1]=a>>>26-u&67108863,(u+=24)>=26&&(u-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=s(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=s(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,u=Math.min(o,o-a)+n,s=0,f=n;f<u;f+=r)s=c(e,f,f+r,t),this.imuln(i),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s);if(0!==a){var l=1;for(s=c(e,f,e.length,t),f=0;f<a;f++)l*=t;this.imuln(l),this.words[0]+s<67108864?this.words[0]+=s:this._iaddn(s)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){f(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(e){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var u=this.words[a],s=(16777215&(u<<i|o)).toString(16);n=0!==(o=u>>>24-i&16777215)||a!==this.length-1?d[6-s.length]+s+n:s+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],f=p[e];n="";var l=this.clone();for(l.negative=0;!l.isZero();){var m=l.modrn(f).toString(e);n=(l=l.idivn(f)).isZero()?m+n:d[c-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function m(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,u=67108863&a,s=a/67108864|0;n.words[0]=u;for(var c=1;c<r;c++){for(var f=s>>>26,l=67108863&s,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var p=c-h|0;f+=(a=(i=0|e.words[p])*(o=0|t.words[h])+l)/67108864|0,l=67108863&a}n.words[c]=0|l,s=0|f}return 0!==s?n.words[c]=0|s:n.length--,n._strip()}o.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;e[n++]=255&a,n<e.length&&(e[n++]=a>>8&255),n<e.length&&(e[n++]=a>>16&255),6===o?(n<e.length&&(e[n++]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;e[n--]=255&a,n>=0&&(e[n--]=a>>8&255),n>=0&&(e[n--]=a>>16&255),6===o?(n>=0&&(e[n--]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0==(8191&t)&&(n+=13,t>>>=13),0==(127&t)&&(n+=7,t>>>=7),0==(15&t)&&(n+=4,t>>>=4),0==(3&t)&&(n+=2,t>>>=2),0==(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,n){var r,i,o,a=e.words,u=t.words,s=n.words,c=0,f=0|a[0],l=8191&f,d=f>>>13,h=0|a[1],p=8191&h,m=h>>>13,y=0|a[2],v=8191&y,g=y>>>13,b=0|a[3],w=8191&b,E=b>>>13,_=0|a[4],S=8191&_,T=_>>>13,A=0|a[5],P=8191&A,k=A>>>13,x=0|a[6],C=8191&x,R=x>>>13,I=0|a[7],O=8191&I,M=I>>>13,N=0|a[8],D=8191&N,L=N>>>13,j=0|a[9],B=8191&j,F=j>>>13,U=0|u[0],q=8191&U,H=U>>>13,K=0|u[1],V=8191&K,z=K>>>13,W=0|u[2],G=8191&W,$=W>>>13,J=0|u[3],Q=8191&J,Y=J>>>13,X=0|u[4],Z=8191&X,ee=X>>>13,te=0|u[5],ne=8191&te,re=te>>>13,ie=0|u[6],oe=8191&ie,ae=ie>>>13,ue=0|u[7],se=8191&ue,ce=ue>>>13,fe=0|u[8],le=8191&fe,de=fe>>>13,he=0|u[9],pe=8191&he,me=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ye=(c+(r=Math.imul(l,q))|0)+((8191&(i=(i=Math.imul(l,H))+Math.imul(d,q)|0))<<13)|0;c=((o=Math.imul(d,H))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(p,q),i=(i=Math.imul(p,H))+Math.imul(m,q)|0,o=Math.imul(m,H);var ve=(c+(r=r+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,z)|0)+Math.imul(d,V)|0))<<13)|0;c=((o=o+Math.imul(d,z)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(v,q),i=(i=Math.imul(v,H))+Math.imul(g,q)|0,o=Math.imul(g,H),r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,z)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,z)|0;var ge=(c+(r=r+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,$)|0)+Math.imul(d,G)|0))<<13)|0;c=((o=o+Math.imul(d,$)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(w,q),i=(i=Math.imul(w,H))+Math.imul(E,q)|0,o=Math.imul(E,H),r=r+Math.imul(v,V)|0,i=(i=i+Math.imul(v,z)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,z)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,$)|0;var be=(c+(r=r+Math.imul(l,Q)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(d,Q)|0))<<13)|0;c=((o=o+Math.imul(d,Y)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(S,q),i=(i=Math.imul(S,H))+Math.imul(T,q)|0,o=Math.imul(T,H),r=r+Math.imul(w,V)|0,i=(i=i+Math.imul(w,z)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,z)|0,r=r+Math.imul(v,G)|0,i=(i=i+Math.imul(v,$)|0)+Math.imul(g,G)|0,o=o+Math.imul(g,$)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,Y)|0;var we=(c+(r=r+Math.imul(l,Z)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(d,Z)|0))<<13)|0;c=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(P,q),i=(i=Math.imul(P,H))+Math.imul(k,q)|0,o=Math.imul(k,H),r=r+Math.imul(S,V)|0,i=(i=i+Math.imul(S,z)|0)+Math.imul(T,V)|0,o=o+Math.imul(T,z)|0,r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,$)|0,r=r+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,Y)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Z)|0,o=o+Math.imul(m,ee)|0;var Ee=(c+(r=r+Math.imul(l,ne)|0)|0)+((8191&(i=(i=i+Math.imul(l,re)|0)+Math.imul(d,ne)|0))<<13)|0;c=((o=o+Math.imul(d,re)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(C,q),i=(i=Math.imul(C,H))+Math.imul(R,q)|0,o=Math.imul(R,H),r=r+Math.imul(P,V)|0,i=(i=i+Math.imul(P,z)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,z)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(T,G)|0,o=o+Math.imul(T,$)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,Y)|0,r=r+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,re)|0;var _e=(c+(r=r+Math.imul(l,oe)|0)|0)+((8191&(i=(i=i+Math.imul(l,ae)|0)+Math.imul(d,oe)|0))<<13)|0;c=((o=o+Math.imul(d,ae)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(O,q),i=(i=Math.imul(O,H))+Math.imul(M,q)|0,o=Math.imul(M,H),r=r+Math.imul(C,V)|0,i=(i=i+Math.imul(C,z)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,z)|0,r=r+Math.imul(P,G)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,Y)|0,r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,ee)|0,r=r+Math.imul(v,ne)|0,i=(i=i+Math.imul(v,re)|0)+Math.imul(g,ne)|0,o=o+Math.imul(g,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var Se=(c+(r=r+Math.imul(l,se)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(d,se)|0))<<13)|0;c=((o=o+Math.imul(d,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,q),i=(i=Math.imul(D,H))+Math.imul(L,q)|0,o=Math.imul(L,H),r=r+Math.imul(O,V)|0,i=(i=i+Math.imul(O,z)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,z)|0,r=r+Math.imul(C,G)|0,i=(i=i+Math.imul(C,$)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,$)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,Y)|0,r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,re)|0,r=r+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,ae)|0,r=r+Math.imul(p,se)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,se)|0,o=o+Math.imul(m,ce)|0;var Te=(c+(r=r+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,de)|0)+Math.imul(d,le)|0))<<13)|0;c=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,q),i=(i=Math.imul(B,H))+Math.imul(F,q)|0,o=Math.imul(F,H),r=r+Math.imul(D,V)|0,i=(i=i+Math.imul(D,z)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,z)|0,r=r+Math.imul(O,G)|0,i=(i=i+Math.imul(O,$)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,$)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,Y)|0,r=r+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(T,ne)|0,o=o+Math.imul(T,re)|0,r=r+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,r=r+Math.imul(v,se)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(g,se)|0,o=o+Math.imul(g,ce)|0,r=r+Math.imul(p,le)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(m,le)|0,o=o+Math.imul(m,de)|0;var Ae=(c+(r=r+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,me)|0)+Math.imul(d,pe)|0))<<13)|0;c=((o=o+Math.imul(d,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(B,V),i=(i=Math.imul(B,z))+Math.imul(F,V)|0,o=Math.imul(F,z),r=r+Math.imul(D,G)|0,i=(i=i+Math.imul(D,$)|0)+Math.imul(L,G)|0,o=o+Math.imul(L,$)|0,r=r+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,Y)|0,r=r+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,ee)|0,r=r+Math.imul(P,ne)|0,i=(i=i+Math.imul(P,re)|0)+Math.imul(k,ne)|0,o=o+Math.imul(k,re)|0,r=r+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,ae)|0,r=r+Math.imul(w,se)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(E,se)|0,o=o+Math.imul(E,ce)|0,r=r+Math.imul(v,le)|0,i=(i=i+Math.imul(v,de)|0)+Math.imul(g,le)|0,o=o+Math.imul(g,de)|0;var Pe=(c+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(B,G),i=(i=Math.imul(B,$))+Math.imul(F,G)|0,o=Math.imul(F,$),r=r+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,Y)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,Y)|0,r=r+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,ee)|0,r=r+Math.imul(C,ne)|0,i=(i=i+Math.imul(C,re)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,re)|0,r=r+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,r=r+Math.imul(S,se)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(T,se)|0,o=o+Math.imul(T,ce)|0,r=r+Math.imul(w,le)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(E,le)|0,o=o+Math.imul(E,de)|0;var ke=(c+(r=r+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,me)|0)+Math.imul(g,pe)|0))<<13)|0;c=((o=o+Math.imul(g,me)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,Y))+Math.imul(F,Q)|0,o=Math.imul(F,Y),r=r+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(L,Z)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,re)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,re)|0,r=r+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,r=r+Math.imul(P,se)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(k,se)|0,o=o+Math.imul(k,ce)|0,r=r+Math.imul(S,le)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(T,le)|0,o=o+Math.imul(T,de)|0;var xe=(c+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,me)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(B,Z),i=(i=Math.imul(B,ee))+Math.imul(F,Z)|0,o=Math.imul(F,ee),r=r+Math.imul(D,ne)|0,i=(i=i+Math.imul(D,re)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,r=r+Math.imul(C,se)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(R,se)|0,o=o+Math.imul(R,ce)|0,r=r+Math.imul(P,le)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(k,le)|0,o=o+Math.imul(k,de)|0;var Ce=(c+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,me)|0)+Math.imul(T,pe)|0))<<13)|0;c=((o=o+Math.imul(T,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(B,ne),i=(i=Math.imul(B,re))+Math.imul(F,ne)|0,o=Math.imul(F,re),r=r+Math.imul(D,oe)|0,i=(i=i+Math.imul(D,ae)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,ae)|0,r=r+Math.imul(O,se)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(M,se)|0,o=o+Math.imul(M,ce)|0,r=r+Math.imul(C,le)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(R,le)|0,o=o+Math.imul(R,de)|0;var Re=(c+(r=r+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,me)|0)+Math.imul(k,pe)|0))<<13)|0;c=((o=o+Math.imul(k,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(B,oe),i=(i=Math.imul(B,ae))+Math.imul(F,oe)|0,o=Math.imul(F,ae),r=r+Math.imul(D,se)|0,i=(i=i+Math.imul(D,ce)|0)+Math.imul(L,se)|0,o=o+Math.imul(L,ce)|0,r=r+Math.imul(O,le)|0,i=(i=i+Math.imul(O,de)|0)+Math.imul(M,le)|0,o=o+Math.imul(M,de)|0;var Ie=(c+(r=r+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(B,se),i=(i=Math.imul(B,ce))+Math.imul(F,se)|0,o=Math.imul(F,ce),r=r+Math.imul(D,le)|0,i=(i=i+Math.imul(D,de)|0)+Math.imul(L,le)|0,o=o+Math.imul(L,de)|0;var Oe=(c+(r=r+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,me)|0)+Math.imul(M,pe)|0))<<13)|0;c=((o=o+Math.imul(M,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(B,le),i=(i=Math.imul(B,de))+Math.imul(F,le)|0,o=Math.imul(F,de);var Me=(c+(r=r+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,me)|0)+Math.imul(L,pe)|0))<<13)|0;c=((o=o+Math.imul(L,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863;var Ne=(c+(r=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,me))+Math.imul(F,pe)|0))<<13)|0;return c=((o=Math.imul(F,me))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,s[0]=ye,s[1]=ve,s[2]=ge,s[3]=be,s[4]=we,s[5]=Ee,s[6]=_e,s[7]=Se,s[8]=Te,s[9]=Ae,s[10]=Pe,s[11]=ke,s[12]=xe,s[13]=Ce,s[14]=Re,s[15]=Ie,s[16]=Oe,s[17]=Me,s[18]=Ne,0!==c&&(s[19]=c,n.length++),n};function v(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var u=67108863&r,s=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=s;c++){var f=o-c,l=(0|e.words[f])*(0|t.words[c]),d=67108863&l;u=67108863&(d=d+u|0),i+=(a=(a=a+(l/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}n.words[o]=u,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function g(e,t,n){return v(e,t,n)}function b(e,t){this.x=e,this.y=t}Math.imul||(y=m),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):n<63?m(this,e,t):n<1024?v(this,e,t):g(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},b.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},b.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},b.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var u=a<<1,s=Math.cos(2*Math.PI/u),c=Math.sin(2*Math.PI/u),f=0;f<i;f+=u)for(var l=s,d=c,h=0;h<a;h++){var p=n[f+h],m=r[f+h],y=n[f+h+a],v=r[f+h+a],g=l*y-d*v;v=l*v+d*y,y=g,n[f+h]=p+y,r[f+h]=m+v,n[f+h+a]=p-y,r[f+h+a]=m-v,h!==u&&(g=s*l-c*d,d=s*d+c*l,l=g)}},b.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},b.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},b.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},b.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),u=new Array(r),s=new Array(r),c=new Array(r),f=new Array(r),l=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,c,r),this.transform(a,o,u,s,r,i),this.transform(c,o,f,l,r,i);for(var h=0;h<r;h++){var p=u[h]*f[h]-s[h]*l[h];s[h]=u[h]*l[h]+s[h]*f[h],u[h]=p}return this.conjugate(u,s,r),this.transform(u,s,d,o,r,i),this.conjugate(d,o,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),g(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"==typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var u=this.words[t]&o,s=(0|this.words[t])-u<<n;this.words[t]=s|a,a=u>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),u=67108863^67108863>>>o<<o,s=n;if(i-=a,i=Math.max(0,i),s){for(var c=0;c<a;c++)s.words[c]=this.words[c];s.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&u}return s&&0!==f&&(s.words[s.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var u=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+u;var s=(0|e.words[i])*t;u=((o-=67108863&s)>>26)-(s/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)u=(o=(0|this.words[i+n])+u)>>26,this.words[i+n]=67108863&o;if(0===u)return this._strip();for(r(-1===u),u=0,i=0;i<this.length;i++)u=(o=-(0|this.words[i])+u)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var u,s=r.length-i.length;if("mod"!==t){(u=new o(null)).length=s+1,u.words=new Array(u.length);for(var c=0;c<u.length;c++)u.words[c]=0}var f=r.clone()._ishlnsubmul(i,1,s);0===f.negative&&(r=f,u&&(u.words[s]=1));for(var l=s-1;l>=0;l--){var d=67108864*(0|r.words[i.length+l])+(0|r.words[i.length+l-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(i,d,l);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,l),r.isZero()||(r.negative^=1);u&&(u.words[l]=d)}return u&&u._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:u||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(u=this.neg().divmod(e,t),"mod"!==t&&(i=u.div.neg()),"div"!==t&&(a=u.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(u=this.divmod(e.neg(),t),"mod"!==t&&(i=u.div.neg()),{div:i,mod:u.mod}):0!=(this.negative&e.negative)?(u=this.neg().divmod(e.neg(),t),"div"!==t&&(a=u.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:u.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,u},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),u=new o(0),s=new o(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var f=n.clone(),l=t.clone();!t.isZero();){for(var d=0,h=1;0==(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(f),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(u.isOdd()||s.isOdd())&&(u.iadd(f),s.isub(l)),u.iushrn(1),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(u),a.isub(s)):(n.isub(t),u.isub(i),s.isub(a))}return{a:u,b:s,gcd:n.iushln(c)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),u=new o(0),s=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,f=1;0==(t.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);for(var l=0,d=1;0==(n.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(n.iushrn(l);l-- >0;)u.isOdd()&&u.iadd(s),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(u)):(n.isub(t),u.isub(a))}return(i=0===t.cmpn(1)?a:u).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var u=0|this.words[a];o=(u+=o)>>>26,u&=67108863,this.words[a]=u}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new P(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function E(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){E.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function S(){E.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function T(){E.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){E.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function P(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){P.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}E.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},E.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},E.prototype.split=function(e,t){e.iushrn(this.n,0,t)},E.prototype.imulK=function(e){return e.imul(this.k)},i(_,E),_.prototype.split=function(e,t){for(var n=Math.min(e.length,9),r=0;r<n;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[r-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(S,E),i(T,E),i(A,E),A.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new _;else if("p224"===e)t=new S;else if("p192"===e)t=new T;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new A}return w[e]=t,t},P.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},P.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},P.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(f(e,e.umod(this.m)._forceRed(this)),e)},P.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},P.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},P.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},P.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},P.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},P.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},P.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},P.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},P.prototype.isqr=function(e){return this.imul(e,e.clone())},P.prototype.sqr=function(e){return this.mul(e,e)},P.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var u=new o(1).toRed(this),s=u.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(s);)f.redIAdd(s);for(var l=this.pow(f,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(u);){for(var m=h,y=0;0!==m.cmp(u);y++)m=m.redSqr();r(y<p);var v=this.pow(l,new o(1).iushln(p-y-1));d=d.redMul(v),l=v.redSqr(),h=h.redMul(l),p=y}return d},P.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},P.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,u=0,s=t.bitLength()%26;for(0===s&&(s=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],f=s-1;f>=0;f--){var l=c>>f&1;i!==n[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++u||0===r&&0===f)&&(i=this.mul(i,n[a]),u=0,a=0)):u=0}s=26}return i},P.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},P.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new k(e)},i(k,P),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(481)(e))},function(e,t,n){"use strict";var r,i=t,o=n(327),a=n(484),u=n(99).assert;function s(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,u(this.g.validate(),"Invalid curve"),u(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var n=new s(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=s,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(818)}catch(e){r=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},function(e,t,n){var r=t;r.utils=n(110),r.common=n(214),r.sha=n(812),r.ripemd=n(816),r.hmac=n(817),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(e,t,n){"use strict";(function(t){var r,i=n(27),o=i.Buffer,a={};for(r in i)i.hasOwnProperty(r)&&"SlowBuffer"!==r&&"Buffer"!==r&&(a[r]=i[r]);var u=a.Buffer={};for(r in o)o.hasOwnProperty(r)&&"allocUnsafe"!==r&&"allocUnsafeSlow"!==r&&(u[r]=o[r]);if(a.Buffer.prototype=o.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(e,t,n){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,n)}),u.alloc||(u.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=o(e);return t&&0!==t.length?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r}),!a.kStringMaxLength)try{a.kStringMaxLength=t.binding("buffer").kStringMaxLength}catch(e){}a.constants||(a.constants={MAX_LENGTH:a.kMaxLength},a.kStringMaxLength&&(a.constants.MAX_STRING_LENGTH=a.kStringMaxLength)),e.exports=a}).call(this,n(49))},function(e,t,n){"use strict";const r=n(330).Reporter,i=n(215).EncoderBuffer,o=n(215).DecoderBuffer,a=n(98),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],s=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u);function c(e,t,n){const r={};this._baseState=r,r.name=n,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r.default=null,r.explicit=null,r.implicit=null,r.contains=null,r.parent||(r.children=[],this._wrap())}e.exports=c;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){const e=this._baseState,t={};f.forEach((function(n){t[n]=e[n]}));const n=new this.constructor(t.parent);return n._baseState=t,n},c.prototype._wrap=function(){const e=this._baseState;s.forEach((function(t){this[t]=function(){const n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}}),this)},c.prototype._init=function(e){const t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),a.equal(t.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(e){const t=this._baseState,n=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==n.length&&(a(null===t.children),t.children=n,n.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!=typeof e||e.constructor!==Object)return e;const t={};return Object.keys(e).forEach((function(n){n==(0|n)&&(n|=0);const r=e[n];t[r]=n})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){c.prototype[e]=function(){const t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),u.forEach((function(e){c.prototype[e]=function(){const t=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(n),this}})),c.prototype.use=function(e){a(e);const t=this._baseState;return a(null===t.use),t.use=e,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(e){const t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},c.prototype.explicit=function(e){const t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},c.prototype.implicit=function(e){const t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},c.prototype.obj=function(){const e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},c.prototype.key=function(e){const t=this._baseState;return a(null===t.key),t.key=e,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(e){const t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},c.prototype.contains=function(e){const t=this._baseState;return a(null===t.use),t.contains=e,this},c.prototype._decode=function(e,t){const n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));let r,i=n.default,a=!0,u=null;if(null!==n.key&&(u=e.enterKey(n.key)),n.optional){let r=null;if(null!==n.explicit?r=n.explicit:null!==n.implicit?r=n.implicit:null!==n.tag&&(r=n.tag),null!==r||n.any){if(a=this._peekTag(e,r,n.any),e.isError(a))return a}else{const r=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),a=!0}catch(e){a=!1}e.restore(r)}}if(n.obj&&a&&(r=e.enterObject()),a){if(null!==n.explicit){const t=this._decodeTag(e,n.explicit);if(e.isError(t))return t;e=t}const r=e.offset;if(null===n.use&&null===n.choice){let t;n.any&&(t=e.save());const r=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(r))return r;n.any?i=e.raw(t):e=r}if(t&&t.track&&null!==n.tag&&t.track(e.path(),r,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),n.any||(i=null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t)),e.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(e,t)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){const r=new o(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(r,t)}}return n.obj&&a&&(i=e.leaveObject(r)),null===n.key||null===i&&!0!==a?null!==u&&e.exitKey(u):e.leaveKey(u,n.key,i),i},c.prototype._decodeGeneric=function(e,t,n){const r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},c.prototype._getUse=function(e,t){const n=this._baseState;return n.useDecoder=this._use(e,t),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},c.prototype._decodeChoice=function(e,t){const n=this._baseState;let r=null,i=!1;return Object.keys(n.choice).some((function(o){const a=e.save(),u=n.choice[o];try{const n=u._decode(e,t);if(e.isError(n))return!1;r={type:o,value:n},i=!0}catch(t){return e.restore(a),!1}return!0}),this),i?r:e.error("Choice not matched")},c.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},c.prototype._encode=function(e,t,n){const r=this._baseState;if(null!==r.default&&r.default===e)return;const i=this._encodeValue(e,t,n);return void 0===i||this._skipDefault(i,t,n)?void 0:i},c.prototype._encodeValue=function(e,t,n){const i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new r);let o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}let a=null,u=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)a=this._getUse(i.contains,n)._encode(e,t),u=!0;else if(i.children)a=i.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");const r=t.enterKey(n._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");const i=n._encode(e[n._baseState.key],t,e);return t.leaveKey(r),i}),this).filter((function(e){return e})),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");const n=this.clone();n._baseState.implicit=null,a=this._createEncoderBuffer(e.map((function(n){const r=this._baseState;return this._getUse(r.args[0],e)._encode(n,t)}),n))}else null!==i.use?o=this._getUse(i.use,n)._encode(e,t):(a=this._encodePrimitive(i.tag,e),u=!0);if(!i.any&&null===i.choice){const e=null!==i.implicit?i.implicit:i.tag,n=null===i.implicit?"universal":"context";null===e?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(e,u,n,a))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},c.prototype._encodeChoice=function(e,t){const n=this._baseState,r=n.choice[e.type];return r||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(e.value,t)},c.prototype._encodePrimitive=function(e,t){const n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},c.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},c.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},function(e,t,n){"use strict";const r=n(22);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.Reporter=i,i.prototype.isError=function(e){return e instanceof o},i.prototype.save=function(){const e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,n){const r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){const t=this._reporterState,n=t.obj;return t.obj=e,n},i.prototype.error=function(e){let t;const n=this._reporterState,r=e instanceof o;if(t=r?e:new o(n.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!n.options.partial)throw t;return r||n.errors.push(t),t},i.prototype.wrapResult=function(e){const t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},function(e,t,n){"use strict";function r(e){const t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);const r=e[n];t[r]=n})),t}t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r(t.tag)},function(e,t,n){"use strict";var r=function(e){return function(e){var t;for(;;)t=void(e=e);return t}(e)},i=new(n(18).Show)(r);e.exports={absurd:r,showVoid:i}},function(e,t,n){"use strict";var r,i=n(100),o=n(106),a=n(91),u=n(26),s=o.withExceptT(a.functorIdentity),c=(r=u.unwrap(),function(e){return r(o.runExceptT(e))});e.exports={runExcept:c,mapExcept:function(e){return o.mapExceptT((t=u.unwrap(),function(n){return a.Identity(e(t(n)))}));var t},withExcept:s,MonadError:i.MonadError,catchError:i.catchError,catchJust:i.catchJust,throwError:i.throwError,ExceptT:o.ExceptT,MonadTrans:o.MonadTrans,except:o.except,lift:o.lift,mapExceptT:o.mapExceptT,runExceptT:o.runExceptT,withExceptT:o.withExceptT}},function(e,t,n){"use strict";var r=n(10);e.exports={coerce:function(e){return r.unsafeCoerce}}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(73),a=n(46),u=n(5),s=n(28),c=n(26),f=n(20),l=n(18),d=new f.Semigroup((function(e){return function(t){return e instanceof u.Just?e:t}})),h=u.ord1Maybe,p=new c.Newtype((function(){})),m=new s.Monoid((function(){return d}),u.Nothing.value),y=u.monadMaybe,v=u.invariantMaybe,g=u.functorMaybe,b=u.extendMaybe,w=u.eq1Maybe,E=u.bindMaybe,_=u.applyMaybe,S=u.applicativeMaybe,T=new r.Alt((function(){return g}),f.append(d)),A=new a.Plus((function(){return T}),s.mempty(m)),P=new i.Alternative((function(){return S}),(function(){return A})),k=new o.MonadZero((function(){return P}),(function(){return y}),(function(){}));e.exports={First:function(e){return e},newtypeFirst:p,eqFirst:function(e){return u.eqMaybe(e)},eq1First:w,ordFirst:function(e){return u.ordMaybe(e)},ord1First:h,boundedFirst:function(e){return u.boundedMaybe(e)},functorFirst:g,invariantFirst:v,applyFirst:_,applicativeFirst:S,bindFirst:E,monadFirst:y,extendFirst:b,showFirst:function(e){return new l.Show((function(t){return"First ("+l.show(u.showMaybe(e))(t)+")"}))},semigroupFirst:d,monoidFirst:m,altFirst:T,plusFirst:A,alternativeFirst:P,monadZeroFirst:k}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(88),a=n(13),u=n(2),s=n(125),c=n(28),f=n(26),l=n(16),d=n(20),h=n(18),p=new o.Semigroupoid((function(e){return function(e){return e}})),m=function(e){return e},y=new f.Newtype((function(){})),v=new u.Functor((function(e){return function(e){return e}})),g=new s.Invariant(s.imapF(v)),b=function(e){return e},w=function(e){return new a.Eq1((function(t){return a.eq(e)}))},E=function(e){return new i.Apply((function(){return v}),(function(t){return function(n){return d.append(e)(t)(n)}}))};e.exports={Const:function(e){return e},newtypeConst:y,eqConst:b,eq1Const:w,ordConst:m,ord1Const:function(e){return new l.Ord1((function(){return w(e.Eq0())}),(function(t){return l.compare(e)}))},boundedConst:function(e){return e},showConst:function(e){return new h.Show((function(t){return"(Const "+h.show(e)(t)+")"}))},semigroupoidConst:p,semigroupConst:function(e){return e},monoidConst:function(e){return e},semiringConst:function(e){return e},ringConst:function(e){return e},euclideanRingConst:function(e){return e},commutativeRingConst:function(e){return e},heytingAlgebraConst:function(e){return e},booleanAlgebraConst:function(e){return e},functorConst:v,invariantConst:g,applyConst:E,applicativeConst:function(e){return new r.Applicative((function(){return E(e.Semigroup0())}),(function(t){return c.mempty(e)}))}}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(15),a=n(40),u=n(78),s=n(13),c=n(2),f=n(26),l=n(16),d=n(34),h=n(18),p=n(29),m=function(e){return function(t){return new p.Tuple(e,t)}},y=new f.Newtype((function(){})),v=function(e){return function(t){return new c.Functor((function(n){return function(r){return u.bimap(u.bifunctorTuple)(c.map(e)(n))(c.map(t)(n))(r)}}))}},g=function(e){return function(t){return new s.Eq1((function(n){return function(r){return function(i){return s.eq1(e)(n)(r.value0)(i.value0)&&s.eq1(t)(n)(r.value1)(i.value1)}}}))}},b=function(e){return function(t){return function(n){return new s.Eq(s.eq1(g(e)(t))(n))}}},w=function(e){return function(t){return new l.Ord1((function(){return g(e.Eq10())(t.Eq10())}),(function(n){return function(r){return function(i){var o=l.compare1(e)(n)(r.value0)(i.value0);return o instanceof d.EQ?l.compare1(t)(n)(r.value1)(i.value1):o}}}))}},E=function(e){return function(t){return new i.Apply((function(){return v(e.Functor0())(t.Functor0())}),(function(n){return function(r){return m(i.apply(e)(n.value0)(r.value0))(i.apply(t)(n.value1)(r.value1))}}))}},_=function(e){return function(t){return new o.Bind((function(){return E(e.Apply0())(t.Apply0())}),(function(n){return function(r){return m(o.bind(e)(n.value0)((a=f.unwrap(),function(e){return p.fst(a(r(e)))})))(o.bind(t)(n.value1)((i=f.unwrap(),function(e){return p.snd(i(r(e)))})));var i,a}}))}},S=function(e){return function(t){return new r.Applicative((function(){return E(e.Apply0())(t.Apply0())}),(function(n){return m(r.pure(e)(n))(r.pure(t)(n))}))}};e.exports={Product:function(e){return e},product:m,bihoistProduct:function(e){return function(t){return function(n){return u.bimap(u.bifunctorTuple)(e)(t)(n)}}},newtypeProduct:y,eqProduct:b,eq1Product:g,ordProduct:function(e){return function(t){return function(n){return new l.Ord((function(){return b(e.Eq10())(t.Eq10())(n.Eq0())}),l.compare1(w(e)(t))(n))}}},ord1Product:w,showProduct:function(e){return function(t){return new h.Show((function(n){return"(product "+h.show(e)(n.value0)+" "+h.show(t)(n.value1)+")"}))}},functorProduct:v,applyProduct:E,applicativeProduct:S,bindProduct:_,monadProduct:function(e){return function(t){return new a.Monad((function(){return S(e.Applicative0())(t.Applicative0())}),(function(){return _(e.Bind1())(t.Bind1())}))}}}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(15),a=n(40),u=n(13),s=n(2),c=n(28),f=n(16),l=n(20),d=n(69),h=n(18),p=function(e){return e},m=function(e){return new l.Semigroup((function(t){return function(n){return d.mul(e)(t)(n)}}))},y=function(e){return e},v=new s.Functor((function(e){return function(t){return e(t)}})),g=function(e){return e},b=new u.Eq1((function(e){return u.eq(e)})),w=new f.Ord1((function(){return b}),(function(e){return f.compare(e)})),E=new i.Apply((function(){return v}),(function(e){return function(t){return e(t)}})),_=new o.Bind((function(){return E}),(function(e){return function(t){return t(e)}})),S=new r.Applicative((function(){return E}),p),T=new a.Monad((function(){return S}),(function(){return _}));e.exports={Multiplicative:p,eqMultiplicative:g,eq1Multiplicative:b,ordMultiplicative:y,ord1Multiplicative:w,boundedMultiplicative:function(e){return e},showMultiplicative:function(e){return new h.Show((function(t){return"(Multiplicative "+h.show(e)(t)+")"}))},functorMultiplicative:v,applyMultiplicative:E,applicativeMultiplicative:S,bindMultiplicative:_,monadMultiplicative:T,semigroupMultiplicative:m,monoidMultiplicative:function(e){return new c.Monoid((function(){return m(e)}),d.one(e))}}},function(e,t,n){"use strict";var r=n(19),i=n(25),o=n(261),a=n(36),u=n(56),s=function(e){return function(t){return function(n){var r,i=o.sequential(e),u=a.traverse_(e.Applicative1())(t)((r=o.parallel(e),function(e){return r(n(e))}));return function(e){return i(u(e))}}}},c=function(e){return function(t){return function(n){var r,i=o.sequential(e),a=u.traverse(t)(e.Applicative1())((r=o.parallel(e),function(e){return r(n(e))}));return function(e){return i(a(e))}}}};e.exports={parApply:function(e){return function(t){return function(n){return o.sequential(e)(r.apply(e.Applicative1().Apply0())(o.parallel(e)(t))(o.parallel(e)(n)))}}},parTraverse:c,parTraverse_:s,parSequence:function(e){return function(t){return c(e)(t)(i.identity(i.categoryFn))}},parSequence_:function(e){return function(t){return s(e)(t)(i.identity(i.categoryFn))}},parOneOf:function(e){return function(t){return function(n){return function(r){var i=o.sequential(e),u=a.oneOfMap(n)(t.Plus1())(o.parallel(e));return function(e){return i(u(e))}}}}},parOneOfMap:function(e){return function(t){return function(n){return function(r){return function(r){var i,u=o.sequential(e),s=a.oneOfMap(n)(t.Plus1())((i=o.parallel(e),function(e){return i(r(e))}));return function(e){return u(s(e))}}}}}},ParCont:o.ParCont,Parallel:o.Parallel,parallel:o.parallel,sequential:o.sequential}},function(e,t,n){"use strict";var r=n(881),i=n(882),o=r._unsafePartial;e.exports={unsafePartial:o,unsafeCrashWith:function(e){return o((function(t){return i.crashWith()(e)}))}}},function(e,t,n){"use strict";var r=n(894);n(515);e.exports={eventListener:r.eventListener,addEventListener:r.addEventListener,removeEventListener:r.removeEventListener,dispatchEvent:r.dispatchEvent}},function(e,t,n){"use strict";var r=n(895);n(343),n(896),n(899),n(901),n(903),n(904),n(906),n(907),n(909),n(911),n(912),n(914),n(916),n(344),n(266),n(919),n(921),n(923),n(925),n(926),n(927),n(928),n(930),n(517),n(938),n(940),n(942),n(944),n(946),n(948),n(950),n(956),n(958),n(960),n(962),n(964),n(966),n(968),n(970),n(972),n(973),n(975),n(976),n(978),n(980),n(982),n(984),n(986),n(987),n(989),n(990),n(992),n(994),n(995),n(997),n(999),n(1001),n(1003),n(519),n(1006),n(1008),n(1010),n(1013),n(1014),n(1016),n(520),n(1019),n(267);e.exports={window:r.window}},function(e,t,n){"use strict";var r=n(13),i=n(26),o=n(16),a=o.ordString,u=o.ordString,s=o.ordString,c=new i.Newtype((function(){})),f=new i.Newtype((function(){})),l=new i.Newtype((function(){})),d=r.eqString,h=r.eqString,p=r.eqString;e.exports={PropName:function(e){return e},AttrName:function(e){return e},ClassName:function(e){return e},newtypePropName:c,eqPropName:d,ordPropName:a,newtypeAttrName:l,eqAttrName:p,ordAttrName:s,newtypeClassName:f,eqClassName:h,ordClassName:u}},function(e,t,n){"use strict";var r,i,o,a,u,s,c=n(917),f=n(2),l=n(5),d=n(55),h=n(35),p=n(10),m=n(516),y=n(21),v=p.unsafeCoerce,g=p.unsafeCoerce,b=p.unsafeCoerce,w=p.unsafeCoerce,E=p.unsafeCoerce,_=(i=f.map(h.functorEffect)((r=l.fromMaybe(m.Loading.value),function(e){return r(m.parse(e))})),function(e){return i(c._readyState(e))}),S=(o=f.map(h.functorEffect)(d.toMaybe),function(e){return o(c._head(e))}),T=y.unsafeReadProtoTagged("HTMLDocument"),A=y.unsafeReadProtoTagged("HTMLDocument"),P=y.unsafeReadProtoTagged("HTMLDocument"),k=y.unsafeReadProtoTagged("HTMLDocument"),x=y.unsafeReadProtoTagged("HTMLDocument"),C=(a=f.map(h.functorEffect)(d.toMaybe),function(e){return a(c._currentScript(e))}),R=(u=f.map(h.functorEffect)(d.toMaybe),function(e){return u(c._body(e))}),I=(s=f.map(h.functorEffect)(d.toMaybe),function(e){return s(c._activeElement(e))});e.exports={fromDocument:x,fromNode:P,fromParentNode:T,fromNonElementParentNode:A,fromEventTarget:k,toDocument:E,toNode:b,toParentNode:v,toNonElementParentNode:g,toEventTarget:w,head:S,body:R,readyState:_,activeElement:I,currentScript:C,referrer:c.referrer,title:c.title,setTitle:c.setTitle}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(25),c=n(145),f=n(105),l=n(40),d=n(75),h=n(93),p=n(73),m=n(46),y=n(263),v=n(13),g=n(1036),b=n(36),w=n(2),E=n(125),_=n(16),S=n(162),T=n(188),A=n(56),P=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),k=function(e){return e},x=function(e){return function(t){return g.runExists((function(t){return e(t.value0)(t.value1)}))(t)}},C=function(e){return x(w.map(e))},R=function(e){return new b.Foldable((function(t){return function(n){return x((function(r){return b.foldMap(e)(t)((function(e){return n(r(e))}))}))}}),(function(t){return function(n){return x((function(r){return b.foldl(e)((function(e){var n=t(e);return function(e){return n(r(e))}}))(n)}))}}),(function(t){return function(n){return x((function(r){return b.foldr(e)((function(e){return t(r(e))}))(n)}))}}))},I=function(e){return new S.Foldable1((function(){return R(e.Foldable0())}),(function(t){return function(n){return x((function(r){return S.foldMap1(e)(t)((function(e){return n(r(e))}))}))}}),S.foldl1Default(I(e)),S.foldr1Default(I(e)))},O=function(e){return function(t){return function(n){return new v.Eq((function(r){return function(i){return v.eq1(t)(n)(C(e)(r))(C(e)(i))}}))}}},M=function(e){return function(t){return function(n){return new _.Ord((function(){return O(e)(t.Eq10())(n.Eq0())}),(function(r){return function(i){return _.compare1(t)(n)(C(e)(r))(C(e)(i))}}))}}},N=function(e){return function(t){return new v.Eq1((function(n){return v.eq(O(e)(t)(n))}))}},D=function(e){return function(t){return g.mkExists(new P(e,t))}},L=new w.Functor((function(e){return function(t){return g.runExists((function(t){return D((function(n){return e(t.value0(n))}))(t.value1)}))(t)}})),j=new E.Invariant(E.imapF(L)),B=D(s.identity(s.categoryFn)),F=function(e){return new f.Extend((function(){return L}),(function(t){return function(n){return g.runExists((function(n){return B(f.extend(e)((r=D(n.value0),function(e){return t(r(e))}))(n.value1));var r}))(n)}}))},U=new d.MonadTrans((function(e){return B})),q=function(e){return new A.Traversable((function(){return R(e.Foldable1())}),(function(){return L}),(function(t){return x((function(n){var r=w.map(t.Apply0().Functor0())(B),i=A.traverse(e)(t)(n);return function(e){return r(i(e))}}))}),(function(t){return function(n){return x((function(r){var i=w.map(t.Apply0().Functor0())(B),o=A.traverse(e)(t)((function(e){return n(r(e))}));return function(e){return i(o(e))}}))}}))},H=function(e){return new a.Apply((function(){return L}),(function(t){return function(n){return B(a.apply(e)(C(e.Functor0())(t))(C(e.Functor0())(n)))}}))},K=function(e){return new u.Bind((function(){return H(e.Apply0())}),(function(t){return function(n){return B(g.runExists((function(t){return u.bindFlipped(e)((r=C(e.Apply0().Functor0()),function(e){return r(n(t.value0(e)))}))(t.value1);var r}))(t))}}))},V=function(e){return new o.Applicative((function(){return H(e.Apply0())}),(t=o.pure(e),function(e){return B(t(e))}));var t},z=function(e){return new l.Monad((function(){return V(e.Applicative0())}),(function(){return K(e.Bind1())}))},W=function(e){return new r.Alt((function(){return L}),(function(t){return function(n){return B(r.alt(e)(C(e.Functor0())(t))(C(e.Functor0())(n)))}}))},G=function(e){return new m.Plus((function(){return W(e.Alt0())}),B(m.empty(e)))},$=function(e){return new i.Alternative((function(){return V(e.Applicative0())}),(function(){return G(e.Plus1())}))};e.exports={Coyoneda:k,coyoneda:D,unCoyoneda:x,liftCoyoneda:B,lowerCoyoneda:C,hoistCoyoneda:function(e){return function(t){return g.runExists((function(t){return D(t.value0)(e(t.value1))}))(t)}},eqCoyoneda:O,eq1Coyoneda:N,ordCoyoneda:M,ord1Coyoneda:function(e){return function(t){return new _.Ord1((function(){return N(e)(t.Eq10())}),(function(n){return _.compare(M(e)(t)(n))}))}},functorCoyoneda:L,invatiantCoyoneda:j,applyCoyoneda:H,applicativeCoyoneda:V,altCoyoneda:W,plusCoyoneda:G,alternativeCoyoneda:$,bindCoyoneda:K,monadCoyoneda:z,monadTransCoyoneda:U,monadZeroCoyoneda:function(e){return new p.MonadZero((function(){return $(e.Alternative1())}),(function(){return z(e.Monad0())}),(function(){}))},monadPlusCoyoneda:function(e){return new h.MonadPlus((function(){return $(e.Alternative1())}),(function(){return z(e.Monad0())}))},extendCoyoneda:F,comonadCoyoneda:function(e){return new c.Comonad((function(){return F(e.Extend0())}),(function(t){return g.runExists((function(t){return t.value0(c.extract(e)(t.value1))}))(t)}))},foldableCoyoneda:R,traversableCoyoneda:q,foldable1Coyoneda:I,traversable1Coyoneda:function(e){return new T.Traversable1((function(){return I(e.Foldable10())}),(function(){return q(e.Traversable1())}),(function(t){return x((function(n){var r=w.map(t.Functor0())(B),i=T.sequence1(e)(t),o=w.map(e.Traversable1().Functor0())(n);return function(e){return r(i(o(e)))}}))}),(function(t){return function(n){return x((function(r){var i=w.map(t.Functor0())(B),o=T.traverse1(e)(t)((function(e){return n(r(e))}));return function(e){return i(o(e))}}))}}))},distributiveCoyoneda:function(e){return new y.Distributive((function(){return L}),(function(t){return function(n){var r,i=y.collect(e)(t)((r=C(e.Functor0()),function(e){return r(n(e))}));return function(e){return B(i(e))}}}),(function(t){var n=y.collect(e)(t)(C(e.Functor0()));return function(e){return B(n(e))}}))}}},function(e,t,n){"use strict";var r=n(94),i=n(54),o=n(5),a=n(55),u=n(29),s=n(222),c=n(270),f=n(347),l=n(1050),d=function(e){return s.halt(e.widget)},h=function(e,t){if(t instanceof c.Grafted)return h(e,c.runGraft(t.value0));if(t instanceof c.Widget){var n=s.step(e.widget,t.value0);return s.unStep((function(t){return s.mkStep(new s.Step(t.value0,{build:e.build,widget:n},h,d))}))(n)}return d(e),e.build(t)},p=function(e){var t=f.parentNode(e.node);return f.removeChild(e.node,t)},m=function(e,t){if(t instanceof c.Grafted)return m(e,c.runGraft(t.value0));if(t instanceof c.Text){if(e.value===t.value0)return s.mkStep(new s.Step(e.node,e,m,p));if(i.otherwise){var n={build:e.build,node:e.node,value:t.value0};return f.setTextContent(t.value0,e.node),s.mkStep(new s.Step(e.node,n,m,p))}}return p(e),e.build(t)},y=function(e){var t=f.parentNode(e.node);return f.removeChild(e.node,t),f.forInE(e.children,(function(e,t){return s.halt(t)})),s.halt(e.attrs)},v=function(e){var t=f.parentNode(e.node);return f.removeChild(e.node,t),f.forEachE(e.children,s.halt),s.halt(e.attrs)},g=function(e,t,n,r){return!(t!==r)&&(e instanceof o.Just&&n instanceof o.Just&&e.value0===n.value0||e instanceof o.Nothing&&n instanceof o.Nothing)},b=function(e,t){if(t instanceof c.Grafted)return b(e,c.runGraft(t.value0));if(t instanceof c.Elem&&g(e.ns,e.name,t.value0,t.value1)){var n=r.length(t.value3);if(0===r.length(e.children)&&0===n){var i=s.step(e.attrs,t.value2),o={build:e.build,node:e.node,attrs:i,ns:t.value0,name:t.value1,children:e.children};return s.mkStep(new s.Step(e.node,o,b,v))}var a=f.diffWithIxE(e.children,t.value3,(function(t,n,r){var i=s.step(n,r);return f.insertChildIx(t,s.extract(i),e.node),i}),(function(e,t){return s.halt(t)}),(function(t,n){var r=e.build(n);return f.insertChildIx(t,s.extract(r),e.node),r}));i=s.step(e.attrs,t.value2),o={build:e.build,node:e.node,attrs:i,ns:t.value0,name:t.value1,children:a};return s.mkStep(new s.Step(e.node,o,b,v))}return v(e),e.build(t)},w=function(e,t){if(t instanceof c.Grafted)return w(e,c.runGraft(t.value0));if(t instanceof c.Keyed&&g(e.ns,e.name,t.value0,t.value1)){var n=r.length(t.value3);if(0===e.length&&0===n){var i=s.step(e.attrs,t.value2),o={build:e.build,node:e.node,attrs:i,ns:t.value0,name:t.value1,children:e.children,length:0};return s.mkStep(new s.Step(e.node,o,w,y))}var a=f.diffWithKeyAndIxE(e.children,t.value3,u.fst,(function(t,n,r,i){var o=s.step(r,i.value1);return f.insertChildIx(n,s.extract(o),e.node),o}),(function(e,t){return s.halt(t)}),(function(t,n,r){var i=e.build(r.value1);return f.insertChildIx(n,s.extract(i),e.node),i}));i=s.step(e.attrs,t.value2),o={build:e.build,node:e.node,attrs:i,ns:t.value0,name:t.value1,children:a,length:n};return s.mkStep(new s.Step(e.node,o,w,y))}return y(e),e.build(t)},E=function(e,t,n){var r=e.buildWidget(e)(n);return s.unStep((function(e){return s.mkStep(new s.Step(e.value0,{build:t,widget:r},h,d))}))(r)},_=function(e,t,n){var r=f.createTextNode(n,e.document),i={build:t,node:r,value:n};return s.mkStep(new s.Step(r,i,m,p))},S=function(e,t,n,i,o,c){var d=f.createElement(a.toNullable(n),i,e.document),h=l.toNode(d),p=f.strMapWithIxE(c,u.fst,(function(e,n,r){var i=t(r.value1);return f.insertChildIx(n,s.extract(i),h),i})),m=e.buildAttributes(d)(o),v={build:t,node:h,attrs:m,ns:n,name:i,children:p,length:r.length(c)};return s.mkStep(new s.Step(h,v,w,y))},T=function(e,t,n,r,i,o){var u=f.createElement(a.toNullable(n),r,e.document),c=l.toNode(u),d=f.forE(o,(function(e,n){var r=t(n);return f.insertChildIx(e,s.extract(r),c),r})),h=e.buildAttributes(u)(i),p={build:t,node:c,attrs:h,ns:n,name:r,children:d};return s.mkStep(new s.Step(c,p,b,v))};e.exports={VDomSpec:function(e){return e},buildVDom:function(e){var t=function(n){if(n instanceof c.Text)return _(e,t,n.value0);if(n instanceof c.Elem)return T(e,t,n.value0,n.value1,n.value2,n.value3);if(n instanceof c.Keyed)return S(e,t,n.value0,n.value1,n.value2,n.value3);if(n instanceof c.Widget)return E(e,t,n.value0);if(n instanceof c.Grafted)return t(c.runGraft(n.value0));throw new Error("Failed pattern match at Halogen.VDom.DOM (line 58, column 27 - line 63, column 52): "+[n.constructor.name])};return t},buildText:_,buildElem:T,buildKeyed:S,buildWidget:E}},function(e,t,n){"use strict";var r=n(1048),i=n(540),o=n(10),a=r.unsafeGetAny,u=o.unsafeCoerce,s=r.unsafeSetAny,c=i.new,f=r.unsafeDeleteAny;e.exports={newMutMap:c,pokeMutMap:s,deleteMutMap:f,unsafeFreeze:u,unsafeLookup:a,unsafeGetAny:r.unsafeGetAny,unsafeHasAny:r.unsafeHasAny,unsafeSetAny:r.unsafeSetAny,unsafeDeleteAny:r.unsafeDeleteAny,forE:r.forE,forEachE:r.forEachE,forInE:r.forInE,replicateE:r.replicateE,diffWithIxE:r.diffWithIxE,diffWithKeyAndIxE:r.diffWithKeyAndIxE,strMapWithIxE:r.strMapWithIxE,refEq:r.refEq,createTextNode:r.createTextNode,setTextContent:r.setTextContent,createElement:r.createElement,insertChildIx:r.insertChildIx,removeChild:r.removeChild,parentNode:r.parentNode,setAttribute:r.setAttribute,removeAttribute:r.removeAttribute,hasAttribute:r.hasAttribute,addEventListener:r.addEventListener,removeEventListener:r.removeEventListener,jsUndefined:r.jsUndefined}},function(e,t,n){"use strict";var r=n(2),i=n(5),o=n(55),a=n(29),u=n(24),s=n(112),c=n(147),f=n(542),l=n(222),d=n(347),h=n(10),p=n(341),m=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),y=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),v=function(){function e(e,t,n){this.value0=e,this.value1=t,this.value2=n}return e.create=function(t){return function(n){return function(r){return new e(t,n,r)}}},e}(),g=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),b=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),w=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),E=d.unsafeGetAny,_=d.unsafeSetAny,S=function(e){if(e instanceof v&&e.value0 instanceof i.Just)return"attr/"+e.value0.value0+":"+e.value1;if(e instanceof v)return"attr/:"+e.value1;if(e instanceof g)return"prop/"+e.value0;if(e instanceof b)return"handler/"+e.value0;if(e instanceof w)return"ref";throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 182, column 16 - line 187, column 16): "+[e.constructor.name])},T=h.unsafeCoerce,A=h.unsafeCoerce,P=h.unsafeCoerce,k=h.unsafeCoerce,x=new r.Functor((function(e){return function(t){return t instanceof b?new b(t.value0,r.map(r.functorFn)(r.map(i.functorMaybe)(e))(t.value1)):t instanceof w?new w(r.map(r.functorFn)(r.map(i.functorMaybe)(e))(t.value0)):t}})),C=new r.Functor((function(e){return function(t){if(t instanceof m)return new m(e(t.value0));if(t instanceof y)return new y(e(t.value0));throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 49, column 1 - line 51, column 36): "+[e.constructor.name,t.constructor.name])}}));e.exports={Attribute:v,Property:g,Handler:b,Ref:w,Created:m,Removed:y,propFromString:T,propFromBoolean:k,propFromInt:P,propFromNumber:A,buildProp:function(e){return function(t){var n=function(e){return function(n,r){if(r instanceof v)return d.removeAttribute(o.toNullable(r.value0),r.value1,t);if(r instanceof g)return function(e,t){return d.hasAttribute(o.null,e,t)?d.removeAttribute(o.null,e,t):"string"===c.typeOf(d.unsafeGetAny(e,t))?d.unsafeSetAny(e,"",t):"rowSpan"===e||"colSpan"===e?d.unsafeSetAny(e,1,t):d.unsafeSetAny(e,d.jsUndefined,t)}(r.value0,t);if(r instanceof b){var i=d.unsafeLookup(r.value0,e);return d.removeEventListener(r.value0,a.fst(i),t)}if(r instanceof w)return u.unit;throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 169, column 5 - line 179, column 18): "+[r.constructor.name])}},r=function(t){return t instanceof i.Just?e(t.value0)():u.unit},h=function(e){var n=f.lookup("ref")(e.props);return n instanceof i.Just&&n.value0 instanceof w?r(n.value0.value0(new y(t))):u.unit},T=function(e){return function(n,i,u){if(u instanceof v)return d.setAttribute(o.toNullable(u.value0),u.value1,u.value2,t),u;if(u instanceof g)return _(u.value0,u.value1,t),u;if(u instanceof b){var c=d.unsafeGetAny(u.value0,e);if(d.unsafeHasAny(u.value0,e))return s.write(u.value1)(a.snd(c))(),u;var f=s.new(u.value1)(),l=p.eventListener((function(e){return function(){var t=s.read(f)();return r(t(e))}}))();return d.pokeMutMap(u.value0,new a.Tuple(l,f),e),d.addEventListener(u.value0,l,t),u}if(u instanceof w)return r(u.value0(new m(t))),u;throw new Error("Failed pattern match at Halogen.VDom.DOM.Prop (line 113, column 5 - line 135, column 15): "+[u.constructor.name])}},A=function(e,r){var i=d.newMutMap(),c=n(e.events),f=function(e,n){return function(r,i,u,c){if(u instanceof v&&c instanceof v)return u.value2===c.value2||d.setAttribute(o.toNullable(c.value0),c.value1,c.value2,t),c;if(u instanceof g&&c instanceof g){if(d.refEq(u.value1,c.value1))return c;if("value"===c.value0){var f=E("value",t);return d.refEq(f,c.value1)||_(c.value0,c.value1,t),c}return _(c.value0,c.value1,t),c}if(u instanceof b&&c instanceof b){var l=d.unsafeLookup(c.value0,e);return s.write(c.value1)(a.snd(l))(),d.pokeMutMap(c.value0,l,n),c}return c}}(e.events,i),p=T(i),m=d.diffWithKeyAndIxE(e.props,r,S,f,c,p),y={events:d.unsafeFreeze(i),props:m};return l.mkStep(new l.Step(u.unit,y,A,h))};return function(e){var t=d.newMutMap(),n=d.strMapWithIxE(e,S,T(t)),r={events:d.unsafeFreeze(t),props:n};return l.mkStep(new l.Step(u.unit,r,A,h))}}},functorProp:x,functorElemRef:C}},function(e,t,n){"use strict";var r,i=n(271),o=n(2),a=n(346),u=n(222),s=n(347),c=n(10),f=function(){function e(e,t,n,r){this.value0=e,this.value1=t,this.value2=n,this.value3=r}return e.create=function(t){return function(n){return function(r){return function(i){return new e(t,n,r,i)}}}},e}(),l=c.unsafeCoerce,d=function(e,t,n,r){return new f(e,t,n,r)},h=(r=function(e,t){return s.refEq(e._1,t._1)&&s.refEq(e._2,t._2)},function(e,t,n){return d(l(e),r,(function(t){return e(t._1)(t._2)}),{_1:t,_2:n})}),p=function(){var e=function(e,t){return s.refEq(e._1,t._1)&&s.refEq(e._2,t._2)&&s.refEq(e._3,t._3)};return function(t,n,r,i){return d(l(t),e,(function(e){return t(e._1)(e._2)(e._3)}),{_1:n,_2:r,_3:i})}}(),m=function(e){return e.value2(e.value3)},y=function(e){return function(t){return new f(t.value0,t.value1,(function(n){return e(t.value2(n))}),t.value3)}},v=y;e.exports={buildThunk:function(e){var t=function(e){return u.halt(e.vdom)},n=function(r,i){var o,a;if(o=r.thunk,a=i,s.refEq(o.value0,a.value0)&&s.refEq(o.value1,a.value1)&&o.value1(o.value3,a.value3))return u.mkStep(new u.Step(u.extract(r.vdom),r,n,t));var c=u.step(r.vdom,e(m(i)));return u.mkStep(new u.Step(u.extract(c),{vdom:c,thunk:i},n,t))};return function(r){return function(i){var o=a.buildVDom(r)(e(m(i)));return u.mkStep(new u.Step(u.extract(o),{thunk:i,vdom:o},n,t))}}},runThunk:m,hoist:v,mapThunk:y,thunked:function(e){return function(t){var n=l({f:t}),r=i.mkFn2(e);return function(e){return d(n,r,t,e)}}},thunk1:function(e,t){return d(l(e),s.refEq,e,t)},thunk2:h,thunk3:p,functorThunk:function(e){return new o.Functor((function(t){return function(n){return new f(n.value0,n.value1,(r=o.map(e)(t),function(e){return r(n.value2(e))}),n.value3);var r}}))}}},function(e,t,n){"use strict";var r=n(23),i=n(2),o=n(5),a=n(114),u=n(95),s=n(165),c=n(223),f=n(349),l=n(10).unsafeCoerce;e.exports={fromPlainHTML:l,slot:function(e){return function(e){return function(t){return function(n){return function(r){return function(i){return function(s){return function(c){return u.widget(new a.ComponentSlot(a.componentSlot()(e)(t)(n)(r)(i)(s)((function(e){return o.Just.create(c(e))}))))}}}}}}}},slot_:function(e){return function(e){return function(t){return function(n){return function(i){return function(s){return function(c){return u.widget(new a.ComponentSlot(a.componentSlot()(e)(t)(n)(i)(s)(c)(r.const(o.Nothing.value))))}}}}}}},memoized:function(e){return function(t){return i.map(i.functorFn)((function(e){return u.widget(a.ThunkSlot.create(e))}))(f.thunked(e)(t))}},lazy:function(e){return function(t){return u.widget(new a.ThunkSlot(f.thunk1(e,t)))}},lazy2:function(e){return function(t){return function(n){return u.widget(new a.ThunkSlot(f.thunk2(e,t,n)))}}},lazy3:function(e){return function(t){return function(n){return function(r){return u.widget(new a.ThunkSlot(f.thunk3(e,t,n,r)))}}}},AttrName:u.AttrName,ClassName:u.ClassName,ElemName:u.ElemName,HTML:u.HTML,Namespace:u.Namespace,PropName:u.PropName,IsProp:u.IsProp,handler:u.handler,text:u.text,a:s.a,a_:s.a_,abbr:s.abbr,abbr_:s.abbr_,address:s.address,address_:s.address_,area:s.area,article:s.article,article_:s.article_,aside:s.aside,aside_:s.aside_,audio:s.audio,audio_:s.audio_,b:s.b,b_:s.b_,base:s.base,bdi:s.bdi,bdi_:s.bdi_,bdo:s.bdo,bdo_:s.bdo_,blockquote:s.blockquote,blockquote_:s.blockquote_,body:s.body,body_:s.body_,br:s.br,br_:s.br_,button:s.button,button_:s.button_,canvas:s.canvas,caption:s.caption,caption_:s.caption_,cite:s.cite,cite_:s.cite_,code:s.code,code_:s.code_,col:s.col,colgroup:s.colgroup,colgroup_:s.colgroup_,command:s.command,datalist:s.datalist,datalist_:s.datalist_,dd:s.dd,dd_:s.dd_,del:s.del,del_:s.del_,details:s.details,details_:s.details_,dfn:s.dfn,dfn_:s.dfn_,dialog:s.dialog,dialog_:s.dialog_,div:s.div,div_:s.div_,dl:s.dl,dl_:s.dl_,dt:s.dt,dt_:s.dt_,element:s.element,elementNS:s.elementNS,em:s.em,em_:s.em_,embed:s.embed,embed_:s.embed_,fieldset:s.fieldset,fieldset_:s.fieldset_,figcaption:s.figcaption,figcaption_:s.figcaption_,figure:s.figure,figure_:s.figure_,footer:s.footer,footer_:s.footer_,form:s.form,form_:s.form_,h1:s.h1,h1_:s.h1_,h2:s.h2,h2_:s.h2_,h3:s.h3,h3_:s.h3_,h4:s.h4,h4_:s.h4_,h5:s.h5,h5_:s.h5_,h6:s.h6,h6_:s.h6_,head:s.head,head_:s.head_,header:s.header,header_:s.header_,hr:s.hr,hr_:s.hr_,html:s.html,html_:s.html_,i:s.i,i_:s.i_,iframe:s.iframe,img:s.img,input:s.input,ins:s.ins,ins_:s.ins_,kbd:s.kbd,kbd_:s.kbd_,keyed:s.keyed,keyedNS:s.keyedNS,label:s.label,label_:s.label_,legend:s.legend,legend_:s.legend_,li:s.li,li_:s.li_,link:s.link,main:s.main,main_:s.main_,map:s.map,map_:s.map_,mark:s.mark,mark_:s.mark_,menu:s.menu,menu_:s.menu_,menuitem:s.menuitem,menuitem_:s.menuitem_,meta:s.meta,meter:s.meter,meter_:s.meter_,nav:s.nav,nav_:s.nav_,noscript:s.noscript,noscript_:s.noscript_,object:s.object,object_:s.object_,ol:s.ol,ol_:s.ol_,optgroup:s.optgroup,optgroup_:s.optgroup_,option:s.option,option_:s.option_,output:s.output,output_:s.output_,p:s.p,p_:s.p_,param:s.param,pre:s.pre,pre_:s.pre_,progress:s.progress,progress_:s.progress_,q:s.q,q_:s.q_,rp:s.rp,rp_:s.rp_,rt:s.rt,rt_:s.rt_,ruby:s.ruby,ruby_:s.ruby_,samp:s.samp,samp_:s.samp_,script:s.script,script_:s.script_,section:s.section,section_:s.section_,select:s.select,select_:s.select_,small:s.small,small_:s.small_,source:s.source,span:s.span,span_:s.span_,strong:s.strong,strong_:s.strong_,style:s.style,style_:s.style_,sub:s.sub,sub_:s.sub_,summary:s.summary,summary_:s.summary_,sup:s.sup,sup_:s.sup_,table:s.table,table_:s.table_,tbody:s.tbody,tbody_:s.tbody_,td:s.td,td_:s.td_,textarea:s.textarea,tfoot:s.tfoot,tfoot_:s.tfoot_,th:s.th,th_:s.th_,thead:s.thead,thead_:s.thead_,time:s.time,time_:s.time_,title:s.title,title_:s.title_,tr:s.tr,tr_:s.tr_,track:s.track,u:s.u,u_:s.u_,ul:s.ul,ul_:s.ul_,var:s.var,var_:s.var_,video:s.video,video_:s.video_,wbr:s.wbr,withKeys:s.withKeys,withKeys_:s.withKeys_,attr:c.attr,attrNS:c.attrNS,prop:c.prop}},function(e,t,n){"use strict";var r=n(36),i=n(70),o=n(149),a=n(5),u=n(112),s=n(220),c=n(10),f=c.unsafeCoerce,l=c.unsafeCoerce,d=c.unsafeCoerce,h=c.unsafeCoerce;e.exports={DriverState:function(e){return e},mapDriverState:function(e){return function(t){return e(t)}},DriverStateRef:function(e){return e},unDriverStateX:l,mkDriverStateXRef:h,renderStateX:function(e){return function(e){return l((function(t){return d(e(t.rendering))}))}},renderStateX_:function(e){return function(t){return l((function(n){return r.traverse_(e)(r.foldableMaybe)(t)(n.rendering)}))}},unRenderStateX:f,initDriverState:function(e){return function(t){return function(n){return function(r){return function(){var c=u.new({})(),f=u.new(s.empty)(),l=u.new(s.empty)(),d=u.new(n)(),p=u.new(new a.Just(i.Nil.value))(),m=u.new(new a.Just(i.Nil.value))(),y=u.new(a.Nothing.value)(),v=u.new(1)(),g=u.new(new a.Just(o.empty))(),b=u.new(o.empty)(),w={component:e,state:e.initialState(t),refs:o.empty,children:s.empty,childrenIn:f,childrenOut:l,selfRef:c,handlerRef:d,pendingQueries:p,pendingOuts:m,pendingHandlers:y,rendering:a.Nothing.value,fresh:v,subscriptions:g,forks:b,lifecycleHandlers:r};return u.write(w)(c)(),h(c)}}}}}}},function(e,t,n){"use strict";var r,i,o,a,u,s,c,f,l,d,h,p,m,y,v,g,b=n(54),w=n(63),E=n(76),_=n(13),S=n(5),T=n(16),A=n(34),P=n(18),k=function(){function e(){}return e.value=new e,e}(),x=function(){function e(){}return e.value=new e,e}(),C=function(){function e(){}return e.value=new e,e}(),R=function(){function e(){}return e.value=new e,e}(),I=function(){function e(){}return e.value=new e,e}(),O=function(){function e(){}return e.value=new e,e}(),M=function(){function e(){}return e.value=new e,e}(),N=function(){function e(){}return e.value=new e,e}(),D=function(){function e(){}return e.value=new e,e}(),L=function(){function e(){}return e.value=new e,e}(),j=function(){function e(){}return e.value=new e,e}(),B=function(){function e(){}return e.value=new e,e}(),F=function(){function e(){}return e.value=new e,e}(),U=function(){function e(){}return e.value=new e,e}(),q=function(){function e(){}return e.value=new e,e}(),H=function(){function e(){}return e.value=new e,e}(),K=function(){function e(){}return e.value=new e,e}(),V=function(){function e(){}return e.value=new e,e}(),z=function(){function e(){}return e.value=new e,e}(),W=new P.Show((function(e){return"(Year "+P.show(P.showInt)(e)+")"})),G=new P.Show((function(e){if(e instanceof k)return"Monday";if(e instanceof x)return"Tuesday";if(e instanceof C)return"Wednesday";if(e instanceof R)return"Thursday";if(e instanceof I)return"Friday";if(e instanceof O)return"Saturday";if(e instanceof M)return"Sunday";throw new Error("Failed pattern match at Data.Date.Component (line 184, column 1 - line 191, column 25): "+[e.constructor.name])})),$=new P.Show((function(e){if(e instanceof N)return"January";if(e instanceof D)return"February";if(e instanceof L)return"March";if(e instanceof j)return"April";if(e instanceof B)return"May";if(e instanceof F)return"June";if(e instanceof U)return"July";if(e instanceof q)return"August";if(e instanceof H)return"September";if(e instanceof K)return"October";if(e instanceof V)return"November";if(e instanceof z)return"December";throw new Error("Failed pattern match at Data.Date.Component (line 101, column 1 - line 113, column 29): "+[e.constructor.name])})),J=new P.Show((function(e){return"(Day "+P.show(P.showInt)(e)+")"})),Q=T.ordInt,Y=T.ordInt,X=_.eqInt,Z=new _.Eq((function(e){return function(t){return e instanceof k&&t instanceof k||(e instanceof x&&t instanceof x||(e instanceof C&&t instanceof C||(e instanceof R&&t instanceof R||(e instanceof I&&t instanceof I||(e instanceof O&&t instanceof O||e instanceof M&&t instanceof M)))))}})),ee=new T.Ord((function(){return Z}),(function(e){return function(t){if(e instanceof k&&t instanceof k)return A.EQ.value;if(e instanceof k)return A.LT.value;if(t instanceof k)return A.GT.value;if(e instanceof x&&t instanceof x)return A.EQ.value;if(e instanceof x)return A.LT.value;if(t instanceof x)return A.GT.value;if(e instanceof C&&t instanceof C)return A.EQ.value;if(e instanceof C)return A.LT.value;if(t instanceof C)return A.GT.value;if(e instanceof R&&t instanceof R)return A.EQ.value;if(e instanceof R)return A.LT.value;if(t instanceof R)return A.GT.value;if(e instanceof I&&t instanceof I)return A.EQ.value;if(e instanceof I)return A.LT.value;if(t instanceof I)return A.GT.value;if(e instanceof O&&t instanceof O)return A.EQ.value;if(e instanceof O)return A.LT.value;if(t instanceof O)return A.GT.value;if(e instanceof M&&t instanceof M)return A.EQ.value;throw new Error("Failed pattern match at Data.Date.Component (line 154, column 1 - line 154, column 42): "+[e.constructor.name,t.constructor.name])}})),te=new _.Eq((function(e){return function(t){return e instanceof N&&t instanceof N||(e instanceof D&&t instanceof D||(e instanceof L&&t instanceof L||(e instanceof j&&t instanceof j||(e instanceof B&&t instanceof B||(e instanceof F&&t instanceof F||(e instanceof U&&t instanceof U||(e instanceof q&&t instanceof q||(e instanceof H&&t instanceof H||(e instanceof K&&t instanceof K||(e instanceof V&&t instanceof V||e instanceof z&&t instanceof z))))))))))}})),ne=new T.Ord((function(){return te}),(function(e){return function(t){if(e instanceof N&&t instanceof N)return A.EQ.value;if(e instanceof N)return A.LT.value;if(t instanceof N)return A.GT.value;if(e instanceof D&&t instanceof D)return A.EQ.value;if(e instanceof D)return A.LT.value;if(t instanceof D)return A.GT.value;if(e instanceof L&&t instanceof L)return A.EQ.value;if(e instanceof L)return A.LT.value;if(t instanceof L)return A.GT.value;if(e instanceof j&&t instanceof j)return A.EQ.value;if(e instanceof j)return A.LT.value;if(t instanceof j)return A.GT.value;if(e instanceof B&&t instanceof B)return A.EQ.value;if(e instanceof B)return A.LT.value;if(t instanceof B)return A.GT.value;if(e instanceof F&&t instanceof F)return A.EQ.value;if(e instanceof F)return A.LT.value;if(t instanceof F)return A.GT.value;if(e instanceof U&&t instanceof U)return A.EQ.value;if(e instanceof U)return A.LT.value;if(t instanceof U)return A.GT.value;if(e instanceof q&&t instanceof q)return A.EQ.value;if(e instanceof q)return A.LT.value;if(t instanceof q)return A.GT.value;if(e instanceof H&&t instanceof H)return A.EQ.value;if(e instanceof H)return A.LT.value;if(t instanceof H)return A.GT.value;if(e instanceof K&&t instanceof K)return A.EQ.value;if(e instanceof K)return A.LT.value;if(t instanceof K)return A.GT.value;if(e instanceof V&&t instanceof V)return A.EQ.value;if(e instanceof V)return A.LT.value;if(t instanceof V)return A.GT.value;if(e instanceof z&&t instanceof z)return A.EQ.value;throw new Error("Failed pattern match at Data.Date.Component (line 61, column 1 - line 61, column 38): "+[e.constructor.name,t.constructor.name])}})),re=_.eqInt,ie=new w.Bounded((function(){return Q}),-271820,275759),oe=new w.Bounded((function(){return ee}),k.value,M.value),ae=new w.Bounded((function(){return ne}),N.value,z.value),ue=new E.BoundedEnum((function(){return ie}),(function(){return se}),547580,(function(e){return e}),(function(e){if(e>=-271820&&e<=275759)return new S.Just(e);if(b.otherwise)return S.Nothing.value;throw new Error("Failed pattern match at Data.Date.Component (line 35, column 1 - line 40, column 24): "+[e.constructor.name])})),se=new E.Enum((function(){return Q}),(o=E.toEnum(ue),a=E.fromEnum(ue),function(e){return o(a(e)-1|0)}),(r=E.toEnum(ue),i=E.fromEnum(ue),function(e){return r(i(e)+1|0)})),ce=new E.BoundedEnum((function(){return oe}),(function(){return fe}),7,(function(e){if(e instanceof k)return 1;if(e instanceof x)return 2;if(e instanceof C)return 3;if(e instanceof R)return 4;if(e instanceof I)return 5;if(e instanceof O)return 6;if(e instanceof M)return 7;throw new Error("Failed pattern match at Data.Date.Component (line 175, column 14 - line 182, column 16): "+[e.constructor.name])}),(function(e){return 1===e?new S.Just(k.value):2===e?new S.Just(x.value):3===e?new S.Just(C.value):4===e?new S.Just(R.value):5===e?new S.Just(I.value):6===e?new S.Just(O.value):7===e?new S.Just(M.value):S.Nothing.value})),fe=new E.Enum((function(){return ee}),(c=E.toEnum(ce),f=E.fromEnum(ce),function(e){return c(f(e)-1|0)}),(u=E.toEnum(ce),s=E.fromEnum(ce),function(e){return u(s(e)+1|0)})),le=new E.BoundedEnum((function(){return ae}),(function(){return de}),12,(function(e){if(e instanceof N)return 1;if(e instanceof D)return 2;if(e instanceof L)return 3;if(e instanceof j)return 4;if(e instanceof B)return 5;if(e instanceof F)return 6;if(e instanceof U)return 7;if(e instanceof q)return 8;if(e instanceof H)return 9;if(e instanceof K)return 10;if(e instanceof V)return 11;if(e instanceof z)return 12;throw new Error("Failed pattern match at Data.Date.Component (line 87, column 14 - line 99, column 19): "+[e.constructor.name])}),(function(e){return 1===e?new S.Just(N.value):2===e?new S.Just(D.value):3===e?new S.Just(L.value):4===e?new S.Just(j.value):5===e?new S.Just(B.value):6===e?new S.Just(F.value):7===e?new S.Just(U.value):8===e?new S.Just(q.value):9===e?new S.Just(H.value):10===e?new S.Just(K.value):11===e?new S.Just(V.value):12===e?new S.Just(z.value):S.Nothing.value})),de=new E.Enum((function(){return ne}),(h=E.toEnum(le),p=E.fromEnum(le),function(e){return h(p(e)-1|0)}),(l=E.toEnum(le),d=E.fromEnum(le),function(e){return l(d(e)+1|0)})),he=new w.Bounded((function(){return Y}),1,31),pe=new E.BoundedEnum((function(){return he}),(function(){return me}),31,(function(e){return e}),(function(e){if(e>=1&&e<=31)return new S.Just(e);if(b.otherwise)return S.Nothing.value;throw new Error("Failed pattern match at Data.Date.Component (line 133, column 1 - line 138, column 23): "+[e.constructor.name])})),me=new E.Enum((function(){return Y}),(v=E.toEnum(pe),g=E.fromEnum(pe),function(e){return v(g(e)-1|0)}),(m=E.toEnum(pe),y=E.fromEnum(pe),function(e){return m(y(e)+1|0)}));e.exports={January:N,February:D,March:L,April:j,May:B,June:F,July:U,August:q,September:H,October:K,November:V,December:z,Monday:k,Tuesday:x,Wednesday:C,Thursday:R,Friday:I,Saturday:O,Sunday:M,eqYear:X,ordYear:Q,boundedYear:ie,enumYear:se,boundedEnumYear:ue,showYear:W,eqMonth:te,ordMonth:ne,boundedMonth:ae,enumMonth:de,boundedEnumMonth:le,showMonth:$,eqDay:re,ordDay:Y,boundedDay:he,enumDay:me,boundedEnumDay:pe,showDay:J,eqWeekday:Z,ordWeekday:ee,boundedWeekday:oe,enumWeekday:fe,boundedEnumWeekday:ce,showWeekday:G}},function(e,t,n){"use strict";var r,i,o,a,u,s,c,f,l,d,h,p,m,y,v,g,b=n(54),w=n(63),E=n(76),_=n(13),S=n(5),T=n(16),A=n(18),P=new A.Show((function(e){return"(Second "+A.show(A.showInt)(e)+")"})),k=new A.Show((function(e){return"(Minute "+A.show(A.showInt)(e)+")"})),x=new A.Show((function(e){return"(Millisecond "+A.show(A.showInt)(e)+")"})),C=new A.Show((function(e){return"(Hour "+A.show(A.showInt)(e)+")"})),R=T.ordInt,I=T.ordInt,O=T.ordInt,M=T.ordInt,N=_.eqInt,D=_.eqInt,L=_.eqInt,j=_.eqInt,B=new w.Bounded((function(){return R}),0,59),F=new w.Bounded((function(){return I}),0,59),U=new w.Bounded((function(){return O}),0,999),q=new w.Bounded((function(){return M}),0,23),H=new E.BoundedEnum((function(){return B}),(function(){return K}),60,(function(e){return e}),(function(e){if(e>=0&&e<=59)return new S.Just(e);if(b.otherwise)return S.Nothing.value;throw new Error("Failed pattern match at Data.Time.Component (line 90, column 1 - line 95, column 26): "+[e.constructor.name])})),K=new E.Enum((function(){return R}),(o=E.toEnum(H),a=E.fromEnum(H),function(e){return o(a(e)-1|0)}),(r=E.toEnum(H),i=E.fromEnum(H),function(e){return r(i(e)+1|0)})),V=new E.BoundedEnum((function(){return F}),(function(){return z}),60,(function(e){return e}),(function(e){if(e>=0&&e<=59)return new S.Just(e);if(b.otherwise)return S.Nothing.value;throw new Error("Failed pattern match at Data.Time.Component (line 61, column 1 - line 66, column 26): "+[e.constructor.name])})),z=new E.Enum((function(){return I}),(c=E.toEnum(V),f=E.fromEnum(V),function(e){return c(f(e)-1|0)}),(u=E.toEnum(V),s=E.fromEnum(V),function(e){return u(s(e)+1|0)})),W=new E.BoundedEnum((function(){return U}),(function(){return G}),1e3,(function(e){return e}),(function(e){if(e>=0&&e<=999)return new S.Just(e);if(b.otherwise)return S.Nothing.value;throw new Error("Failed pattern match at Data.Time.Component (line 120, column 1 - line 125, column 31): "+[e.constructor.name])})),G=new E.Enum((function(){return O}),(h=E.toEnum(W),p=E.fromEnum(W),function(e){return h(p(e)-1|0)}),(l=E.toEnum(W),d=E.fromEnum(W),function(e){return l(d(e)+1|0)})),$=new E.BoundedEnum((function(){return q}),(function(){return J}),24,(function(e){return e}),(function(e){if(e>=0&&e<=23)return new S.Just(e);if(b.otherwise)return S.Nothing.value;throw new Error("Failed pattern match at Data.Time.Component (line 32, column 1 - line 37, column 24): "+[e.constructor.name])})),J=new E.Enum((function(){return M}),(v=E.toEnum($),g=E.fromEnum($),function(e){return v(g(e)-1|0)}),(m=E.toEnum($),y=E.fromEnum($),function(e){return m(y(e)+1|0)}));e.exports={eqHour:j,ordHour:M,boundedHour:q,enumHour:J,boundedEnumHour:$,showHour:C,eqMinute:D,ordMinute:I,boundedMinute:F,enumMinute:z,boundedEnumMinute:V,showMinute:k,eqSecond:N,ordSecond:R,boundedSecond:B,enumSecond:K,boundedEnumSecond:H,showSecond:P,eqMillisecond:L,ordMillisecond:O,boundedMillisecond:U,enumMillisecond:G,boundedEnumMillisecond:W,showMillisecond:x}},function(e,t,n){"use strict";var r=n(11),i=n(15),o=n(126),a=n(262),u=n(75),s=n(36),c=n(5),f=n(35),l=n(108),d=n(190),h=n(58),p=n(112),m=n(114),y=n(101),v=n(191),g=n(10),b=function(e,t,n,r){this.MonadEffect0=e,this.emitSelected=t,this.getStore=n,this.updateStore=r},w=function(e){return e.updateStore},E=function(e){return a.monadEffectReader(e)},_=function(e){return e.getStore},S=function(e){return e.emitSelected};e.exports={emitSelected:S,getStore:_,updateStore:w,MonadStore:b,StoreT:function(e){return e},runStoreT:function(e){return function(t){return function(n){return function(o){return i.bind(l.bindAff)(h.liftEffect(l.monadEffectAff)((function(){var e=p.new(t)(),r=v.create();return{value:e,emitter:r.emitter,listener:r.listener,reducer:n}})))((function(t){return r.pure(l.applicativeAff)(m.hoist(e.Bind1().Apply0().Functor0())((function(e){return a.runReaderT(e)(t)}))(o))}))}}}},functorStoreT:function(e){return a.functorReaderT(e)},applyStoreT:function(e){return a.applyReaderT(e)},applicativeStoreT:function(e){return a.applicativeReaderT(e)},bindStoreT:function(e){return a.bindReaderT(e)},monadStoreT:function(e){return a.monadReaderT(e)},monadAskStoreT:function(e){return a.monadAskReaderT(e)},monadEffectStoreT:E,monadAffStoreT:function(e){return d.monadAffReader(e)},monadStoreStoreT:function(e){return new b((function(){return E(e.MonadEffect0())}),(function(t){return i.bind(a.bindReaderT(e.MonadEffect0().Monad0().Bind1()))(o.ask(a.monadAskReaderT(e.MonadEffect0().Monad0())))((function(n){return h.liftEffect(a.monadEffectReader(e.MonadEffect0()))((function(){var e,r=p.read(n.value)(),o=p.new(t.select(r))();return(e=n.emitter,function(t){var n=(0,g.unsafeCoerce)(e);return v.makeEmitter((function(e){return n((function(n){return i.bind(f.bindEffect)(t(n))(s.traverse_(f.applicativeEffect)(s.foldableMaybe)(e))}))}))})((function(e){return function(){var n=p.read(o)(),r=t.select(e);return t.eq(n)(r)?c.Nothing.value:(h.liftEffect(h.monadEffectEffect)(p.write(r)(o))(),new c.Just(r))}}))}))}))}),i.bind(a.bindReaderT(e.MonadEffect0().Monad0().Bind1()))(o.ask(a.monadAskReaderT(e.MonadEffect0().Monad0())))((function(t){return h.liftEffect(a.monadEffectReader(e.MonadEffect0()))(p.read(t.value))})),(function(t){return i.bind(a.bindReaderT(e.MonadEffect0().Monad0().Bind1()))(o.ask(a.monadAskReaderT(e.MonadEffect0().Monad0())))((function(n){return h.liftEffect(a.monadEffectReader(e.MonadEffect0()))((function(){var e=p.read(n.value)(),r=n.reducer(e)(t);return p.write(r)(n.value)(),v.notify(n.listener)(r)()}))}))}))},monadStoreHalogenM:function(e){return new b((function(){return y.monadEffectHalogenM(e.MonadEffect0())}),(r=u.lift(y.monadTransHalogenM)(e.MonadEffect0().Monad0()),i=S(e),function(e){return r(i(e))}),u.lift(y.monadTransHalogenM)(e.MonadEffect0().Monad0())(_(e)),(t=u.lift(y.monadTransHalogenM)(e.MonadEffect0().Monad0()),n=w(e),function(e){return t(n(e))}));var t,n,r,i}}},function(e,t,n){"use strict";var r=n(13),i=n(59),o=n(111),a=n(550),u=n(60),s=n(10),c=function(e){this.equalFields=e},f=function(e){return function(t){return function(t){return function(t){return function(n){return function(r){return o.unsafeSet(i.reflectSymbol(e)(t))(n)(r)}}}}}},l=function(e){return function(t){return function(t){return function(t){return function(n){return function(r){return o.unsafeSet(i.reflectSymbol(e)(t))(n)(r)}}}}}},d=function(e){return function(t){return function(t){return function(n){return o.unsafeGet(i.reflectSymbol(e)(t))(n)}}}},h=new c((function(e){return function(e){return function(e){return!0}}})),p=function(e){return e.equalFields},m=function(e){return function(t){return function(t){return function(t){return function(n){return o.unsafeDelete(i.reflectSymbol(e)(t))(n)}}}}};e.exports={get:d,set:f,modify:function(e){return function(t){return function(t){return function(t){return function(n){return function(r){return f(e)()()(t)(n(d(e)()(t)(r)))(r)}}}}}},insert:l,delete:m,rename:function(e){return function(t){return function(n){return function(n){return function(n){return function(n){return function(n){return function(r){return function(i){return l(t)()()(r)(d(e)()(n)(i))(m(e)()()(n)(i))}}}}}}}}},equal:function(e){return function(e){return function(t){return function(n){return p(e)(u.Proxy.value)(t)(n)}}}},merge:function(e){return function(e){return function(e){return function(t){return a.unsafeUnionFn(e,t)}}}},union:function(e){return function(e){return function(t){return a.unsafeUnionFn(e,t)}}},disjointUnion:function(e){return function(e){return function(e){return function(t){return a.unsafeUnionFn(e,t)}}}},nub:function(e){return s.unsafeCoerce},EqualFields:c,equalFields:p,equalFieldsCons:function(e){return function(t){return function(n){return function(n){return new c((function(i){return function(i){return function(o){var a=d(e)()(u.Proxy.value),s=p(n)(u.Proxy.value);return r.eq(t)(a(i))(a(o))&&s(i)(o)}}}))}}}},equalFieldsNil:h}},function(e,t,n){"use strict";var r=n(1073),i=n(23),o=n(271),a=n(5),u=o.runFn3(r._encodeURIComponent)(i.const(a.Nothing.value))(a.Just.create),s=o.runFn3(r._encodeFormURLComponent)(i.const(a.Nothing.value))(a.Just.create),c=o.runFn3(r._decodeURIComponent)(i.const(a.Nothing.value))(a.Just.create),f=o.runFn3(r._decodeFormURLComponent)(i.const(a.Nothing.value))(a.Just.create);e.exports={encodeURIComponent:u,encodeFormURLComponent:s,decodeURIComponent:c,decodeFormURLComponent:f}},function(e,t,n){"use strict";var r,i,o,a,u=n(11),s=n(19),c=n(15),f=n(36),l=n(23),d=n(2),h=n(5),p=n(148),m=n(35),y=n(112),v=n(1075),g=n(341),b=n(342),w=n(1084),E=n(520),_=n(267),S=function(e){return c.bind(m.bindEffect)(c.bind(m.bindEffect)(b.window)(_.location))(E.setHash(e))},T=c.bind(m.bindEffect)(c.bind(m.bindEffect)(b.window)(_.location))((o=d.map(m.functorEffect)((r=h.fromMaybe(""),i=p.stripPrefix("#"),function(e){return r(i(e))})),function(e){return o(E.hash(e))})),A=function(e){return function(t){return function(){var n=c.bindFlipped(m.bindEffect)(y.new)(c.bindFlipped(m.bindEffect)(t)(T))(),r=d.map(m.functorEffect)(_.toEventTarget)(b.window)(),i=g.eventListener((function(t){return c.bindFlipped(m.bindEffect)(l.flip(y.write)(n))(c.join(m.bindEffect)(s.apply(m.applyEffect)(d.map(m.functorEffect)(e)(y.read(n)))(T)))}))();return g.addEventListener(w.hashchange)(i)(!1)(r)(),g.removeEventListener(w.hashchange)(i)(!1)(r)}}},P=function(e){return function(t){return function(n){var r=function(r){var i=h.maybe(u.pure(m.applicativeEffect)(r))((function(e){return d.voidRight(m.functorEffect)(new h.Just(e))(n(r)(e))})),o=f.indexl(e)(0);return function(e){return i(o(t(e)))}};return A(r)(r(h.Nothing.value))}}},k=P(f.foldableMaybe)(h.Just.create),x=(a=P(f.foldableEither),function(e){return a(v.match(e))});e.exports={getHash:T,setHash:S,modifyHash:function(e){return c.bind(m.bindEffect)(d.map(m.functorEffect)(e)(T))(S)},foldHashes:A,hashes:k,matches:x,matchesWith:P,match:v.match,matchWith:v.matchWith}},function(e,t,n){"use strict";const r=n(359);n(151),n(566);const i=n(39),o=n(4),a=n(132),u=n(1129),s={rsa:n(1130),ed25519:n(1136),secp256k1:n(1138)(r,n(283))},c="secp256k1 support requires libp2p-crypto-secp256k1 package",f="ERR_MISSING_PACKAGE";function l(e){const t=s[e.toLowerCase()];if(!t){const t=Object.keys(s).join(" / ");throw o(new Error(`invalid or unsupported key type ${e}. Must be ${t}`),"ERR_UNSUPPORTED_KEY_TYPE")}return t}const d=async e=>{const t=r.PrivateKey.decode(e),n=t.Data;switch(t.Type){case r.KeyType.RSA:return s.rsa.unmarshalRsaPrivateKey(n);case r.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PrivateKey(n);case r.KeyType.Secp256k1:if(s.secp256k1)return s.secp256k1.unmarshalSecp256k1PrivateKey(n);throw o(new Error(c),f);default:l(t.Type)}};e.exports={supportedKeys:s,keysPBM:r,keyStretcher:n(1143),generateEphemeralKeyPair:n(1145),generateKeyPair:async(e,t)=>l(e).generateKeyPair(t),generateKeyPairFromSeed:async(e,t,n)=>{const r=l(e);if("ed25519"!==e.toLowerCase())throw o(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return r.generateKeyPairFromSeed(t,n)},unmarshalPublicKey:e=>{const t=r.PublicKey.decode(e),n=t.Data;switch(t.Type){case r.KeyType.RSA:return s.rsa.unmarshalRsaPublicKey(n);case r.KeyType.Ed25519:return s.ed25519.unmarshalEd25519PublicKey(n);case r.KeyType.Secp256k1:if(s.secp256k1)return s.secp256k1.unmarshalSecp256k1PublicKey(n);throw o(new Error(c),f);default:l(t.Type)}},marshalPublicKey:(e,t)=>(l(t=(t||"rsa").toLowerCase()),e.bytes),unmarshalPrivateKey:d,marshalPrivateKey:(e,t)=>(l(t=(t||"rsa").toLowerCase()),e.bytes),import:async(e,t)=>{try{const n=await u.import(e,t);return d(n)}catch(e){}const n=i.pki.decryptRsaPrivateKey(e,t);if(null===n)throw o(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let r=i.asn1.toDer(i.pki.privateKeyToAsn1(n));return r=a(r.getBytes(),"ascii"),s.rsa.unmarshalRsaPrivateKey(r)}}},function(e,t,n){"use strict";var r,i,o=n(80),a=o.Reader,u=o.Writer,s=o.util,c=o.roots["libp2p-crypto-keys"]||(o.roots["libp2p-crypto-keys"]={});c.KeyType=(r={},(i=Object.create(r))[r[0]="RSA"]=0,i[r[1]="Ed25519"]=1,i[r[2]="Secp256k1"]=2,i),c.PublicKey=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Type=0,e.prototype.Data=s.newBuffer([]),e.encode=function(e,t){return t||(t=u.create()),t.uint32(8).int32(e.Type),t.uint32(18).bytes(e.Data),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.PublicKey;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.Type=e.int32();break;case 2:r.Data=e.bytes();break;default:e.skipType(7&i)}}if(!r.hasOwnProperty("Type"))throw s.ProtocolError("missing required 'Type'",{instance:r});if(!r.hasOwnProperty("Data"))throw s.ProtocolError("missing required 'Data'",{instance:r});return r},e.fromObject=function(e){if(e instanceof c.PublicKey)return e;var t=new c.PublicKey;switch(e.Type){case"RSA":case 0:t.Type=0;break;case"Ed25519":case 1:t.Type=1;break;case"Secp256k1":case 2:t.Type=2}return null!=e.Data&&("string"==typeof e.Data?s.base64.decode(e.Data,t.Data=s.newBuffer(s.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.Type=t.enums===String?"RSA":0,t.bytes===String?n.Data="":(n.Data=[],t.bytes!==Array&&(n.Data=s.newBuffer(n.Data)))),null!=e.Type&&e.hasOwnProperty("Type")&&(n.Type=t.enums===String?c.KeyType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(n.Data=t.bytes===String?s.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),c.PrivateKey=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Type=0,e.prototype.Data=s.newBuffer([]),e.encode=function(e,t){return t||(t=u.create()),t.uint32(8).int32(e.Type),t.uint32(18).bytes(e.Data),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new c.PrivateKey;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.Type=e.int32();break;case 2:r.Data=e.bytes();break;default:e.skipType(7&i)}}if(!r.hasOwnProperty("Type"))throw s.ProtocolError("missing required 'Type'",{instance:r});if(!r.hasOwnProperty("Data"))throw s.ProtocolError("missing required 'Data'",{instance:r});return r},e.fromObject=function(e){if(e instanceof c.PrivateKey)return e;var t=new c.PrivateKey;switch(e.Type){case"RSA":case 0:t.Type=0;break;case"Ed25519":case 1:t.Type=1;break;case"Secp256k1":case 2:t.Type=2}return null!=e.Data&&("string"==typeof e.Data?s.base64.decode(e.Data,t.Data=s.newBuffer(s.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.Type=t.enums===String?"RSA":0,t.bytes===String?n.Data="":(n.Data=[],t.bytes!==Array&&(n.Data=s.newBuffer(n.Data)))),null!=e.Type&&e.hasOwnProperty("Type")&&(n.Type=t.enums===String?c.KeyType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(n.Data=t.bytes===String?s.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),e.exports=c},function(e,t,n){var r=n(39);function i(e,t){r.cipher.registerAlgorithm(e,(function(){return new r.des.Algorithm(e,t)}))}n(567),n(568),n(51),e.exports=r.des=r.des||{},r.des.startEncrypting=function(e,t,n,r){var i=p({key:e,output:n,decrypt:!1,mode:r||(null===t?"ECB":"CBC")});return i.start(t),i},r.des.createEncryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!1,mode:t})},r.des.startDecrypting=function(e,t,n,r){var i=p({key:e,output:n,decrypt:!0,mode:r||(null===t?"ECB":"CBC")});return i.start(t),i},r.des.createDecryptionCipher=function(e,t){return p({key:e,output:null,decrypt:!0,mode:t})},r.des.Algorithm=function(e,t){var n=this;n.name=e,n.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return h(n._keys,e,t,!1)},decrypt:function(e,t){return h(n._keys,e,t,!0)}}}),n._init=!1},r.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=r.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=function(e){for(var t,n=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],o=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],u=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],s=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],l=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],m=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=e.length()>8?3:1,v=[],g=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,w=0;w<y;w++){var E=e.getInt32(),_=e.getInt32();E^=(t=252645135&(E>>>4^_))<<4,E^=t=65535&((_^=t)>>>-16^E),E^=(t=858993459&(E>>>2^(_^=t<<-16)))<<2,E^=t=65535&((_^=t)>>>-16^E),E^=(t=1431655765&(E>>>1^(_^=t<<-16)))<<1,E^=t=16711935&((_^=t)>>>8^E),t=(E^=(t=1431655765&(E>>>1^(_^=t<<8)))<<1)<<8|(_^=t)>>>20&240,E=_<<24|_<<8&16711680|_>>>8&65280|_>>>24&240,_=t;for(var S=0;S<g.length;++S){g[S]?(E=E<<2|E>>>26,_=_<<2|_>>>26):(E=E<<1|E>>>27,_=_<<1|_>>>27);var T=n[(E&=-15)>>>28]|r[E>>>24&15]|i[E>>>20&15]|o[E>>>16&15]|a[E>>>12&15]|u[E>>>8&15]|s[E>>>4&15],A=c[(_&=-15)>>>28]|f[_>>>24&15]|l[_>>>20&15]|d[_>>>16&15]|h[_>>>12&15]|p[_>>>8&15]|m[_>>>4&15];t=65535&(A>>>16^T),v[b++]=T^t,v[b++]=A^t<<16}}return v}(t),this._init=!0}},i("DES-ECB",r.cipher.modes.ecb),i("DES-CBC",r.cipher.modes.cbc),i("DES-CFB",r.cipher.modes.cfb),i("DES-OFB",r.cipher.modes.ofb),i("DES-CTR",r.cipher.modes.ctr),i("3DES-ECB",r.cipher.modes.ecb),i("3DES-CBC",r.cipher.modes.cbc),i("3DES-CFB",r.cipher.modes.cfb),i("3DES-OFB",r.cipher.modes.ofb),i("3DES-CTR",r.cipher.modes.ctr);var o=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],a=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],u=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],s=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],c=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],f=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],l=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],d=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function h(e,t,n,r){var i,h,p=32===e.length?3:9;i=3===p?r?[30,-2,-2]:[0,32,2]:r?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var m=t[0],y=t[1];m^=(h=252645135&(m>>>4^y))<<4,m^=(h=65535&(m>>>16^(y^=h)))<<16,m^=h=858993459&((y^=h)>>>2^m),m^=h=16711935&((y^=h<<2)>>>8^m),m=(m^=(h=1431655765&(m>>>1^(y^=h<<8)))<<1)<<1|m>>>31,y=(y^=h)<<1|y>>>31;for(var v=0;v<p;v+=3){for(var g=i[v+1],b=i[v+2],w=i[v];w!=g;w+=b){var E=y^e[w],_=(y>>>4|y<<28)^e[w+1];h=m,m=y,y=h^(a[E>>>24&63]|s[E>>>16&63]|f[E>>>8&63]|d[63&E]|o[_>>>24&63]|u[_>>>16&63]|c[_>>>8&63]|l[63&_])}h=m,m=y,y=h}y=y>>>1|y<<31,y^=h=1431655765&((m=m>>>1|m<<31)>>>1^y),y^=(h=16711935&(y>>>8^(m^=h<<1)))<<8,y^=(h=858993459&(y>>>2^(m^=h)))<<2,y^=h=65535&((m^=h)>>>16^y),y^=h=252645135&((m^=h<<16)>>>4^y),m^=h<<4,n[0]=m,n[1]=y}function p(e){var t,n="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),i=(t=e.decrypt?r.cipher.createDecipher(n,e.key):r.cipher.createCipher(n,e.key)).start;return t.start=function(e,n){var o=null;n instanceof r.util.ByteBuffer&&(o=n,n={}),(n=n||{}).output=o,n.iv=e,i.call(t,n)},t}},function(e,t){},function(e,t,n){var r=n(39);n(51);var i=e.exports=r.pem=r.pem||{};function o(e){for(var t=e.name+": ",n=[],r=function(e,t){return" "+t},i=0;i<e.values.length;++i)n.push(e.values[i].replace(/^(\S+\r\n)/,r));t+=n.join(",")+"\r\n";var o=0,a=-1;for(i=0;i<t.length;++i,++o)if(o>65&&-1!==a){var u=t[a];","===u?(++a,t=t.substr(0,a)+"\r\n "+t.substr(a)):t=t.substr(0,a)+"\r\n"+u+t.substr(a+1),o=i-a-1,a=-1,++i}else" "!==t[i]&&"\t"!==t[i]&&","!==t[i]||(a=i);return t}function a(e){return e.replace(/^\s+/,"")}i.encode=function(e,t){t=t||{};var n,i="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(i+=o(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(i+=o(n={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),i+=o(n)),e.headers)for(var a=0;a<e.headers.length;++a)i+=o(e.headers[a]);return e.procType&&(i+="\r\n"),i+=r.util.encode64(e.body,t.maxline||64)+"\r\n",i+="-----END "+e.type+"-----\r\n"},i.decode=function(e){for(var t,n=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,o=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,u=/\r?\n/;t=i.exec(e);){var s={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:r.util.decode64(t[3])};if(n.push(s),t[2]){for(var c=t[2].split(u),f=0;t&&f<c.length;){for(var l=c[f].replace(/\s+$/,""),d=f+1;d<c.length;++d){var h=c[d];if(!/\s/.test(h[0]))break;l+=h,f=d}if(t=l.match(o)){for(var p={name:t[1],values:[]},m=t[2].split(","),y=0;y<m.length;++y)p.values.push(a(m[y]));if(s.procType)if(s.contentDomain||"Content-Domain"!==p.name)if(s.dekInfo||"DEK-Info"!==p.name)s.headers.push(p);else{if(0===p.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');s.dekInfo={algorithm:m[0],parameters:m[1]||null}}else s.contentDomain=m[0]||"";else{if("Proc-Type"!==p.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==p.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');s.procType={version:m[0],type:m[1]}}}++f}if("ENCRYPTED"===s.procType&&!s.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===n.length)throw new Error("Invalid PEM formatted message.");return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const{name:r,code:i,encode:o,decode:a}={name:"json",code:512,encode:e=>(new TextEncoder).encode(JSON.stringify(e)),decode:e=>JSON.parse((new TextDecoder).decode(e))};t.code=i,t.decode=a,t.encode=o,t.name=r},function(e,t,n){var r=n(39);n(168),n(51);var i=e.exports=r.sha512=r.sha512||{};r.md.sha512=r.md.algorithms.sha512=i;var o=r.sha384=r.sha512.sha384=r.sha512.sha384||{};o.create=function(){return i.create("SHA-384")},r.md.sha384=r.md.algorithms.sha384=o,r.sha512.sha256=r.sha512.sha256||{create:function(){return i.create("SHA-512/256")}},r.md["sha512/256"]=r.md.algorithms["sha512/256"]=r.sha512.sha256,r.sha512.sha224=r.sha512.sha224||{create:function(){return i.create("SHA-512/224")}},r.md["sha512/224"]=r.md.algorithms["sha512/224"]=r.sha512.sha224,i.create=function(e){if(u||(a=String.fromCharCode(128),a+=r.util.fillString(String.fromCharCode(0),128),s=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(c={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],c["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],c["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],c["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],u=!0),void 0===e&&(e="SHA-512"),!(e in c))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=c[e],n=null,i=r.util.createBuffer(),o=new Array(80),l=0;l<80;++l)o[l]=new Array(2);var d=64;switch(e){case"SHA-384":d=48;break;case"SHA-512/256":d=32;break;case"SHA-512/224":d=28}var h={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:d,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){h.messageLength=0,h.fullMessageLength=h.messageLength128=[];for(var e=h.messageLengthSize/4,o=0;o<e;++o)h.fullMessageLength.push(0);i=r.util.createBuffer(),n=new Array(t.length);for(o=0;o<t.length;++o)n[o]=t[o].slice(0);return h}};return h.start(),h.update=function(e,t){"utf8"===t&&(e=r.util.encodeUtf8(e));var a=e.length;h.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var u=h.fullMessageLength.length-1;u>=0;--u)h.fullMessageLength[u]+=a[1],a[1]=a[0]+(h.fullMessageLength[u]/4294967296>>>0),h.fullMessageLength[u]=h.fullMessageLength[u]>>>0,a[0]=a[1]/4294967296>>>0;return i.putBytes(e),f(n,o,i),(i.read>2048||0===i.length())&&i.compact(),h},h.digest=function(){var t=r.util.createBuffer();t.putBytes(i.bytes());var u,s=h.fullMessageLength[h.fullMessageLength.length-1]+h.messageLengthSize&h.blockLength-1;t.putBytes(a.substr(0,h.blockLength-s));for(var c=8*h.fullMessageLength[0],l=0;l<h.fullMessageLength.length-1;++l)c+=(u=8*h.fullMessageLength[l+1])/4294967296>>>0,t.putInt32(c>>>0),c=u>>>0;t.putInt32(c);var d=new Array(n.length);for(l=0;l<n.length;++l)d[l]=n[l].slice(0);f(d,o,t);var p,m=r.util.createBuffer();p="SHA-512"===e?d.length:"SHA-384"===e?d.length-2:d.length-4;for(l=0;l<p;++l)m.putInt32(d[l][0]),l===p-1&&"SHA-512/224"===e||m.putInt32(d[l][1]);return m},h};var a=null,u=!1,s=null,c=null;function f(e,t,n){for(var r,i,o,a,u,c,f,l,d,h,p,m,y,v,g,b,w,E,_,S,T,A,P,k,x,C,R,I,O,M,N,D,L,j=n.length();j>=128;){for(R=0;R<16;++R)t[R][0]=n.getInt32()>>>0,t[R][1]=n.getInt32()>>>0;for(;R<80;++R)r=(((I=(M=t[R-2])[0])>>>19|(O=M[1])<<13)^(O>>>29|I<<3)^I>>>6)>>>0,i=((I<<13|O>>>19)^(O<<3|I>>>29)^(I<<26|O>>>6))>>>0,o=(((I=(D=t[R-15])[0])>>>1|(O=D[1])<<31)^(I>>>8|O<<24)^I>>>7)>>>0,a=((I<<31|O>>>1)^(I<<24|O>>>8)^(I<<25|O>>>7))>>>0,N=t[R-7],L=t[R-16],O=i+N[1]+a+L[1],t[R][0]=r+N[0]+o+L[0]+(O/4294967296>>>0)>>>0,t[R][1]=O>>>0;for(p=e[0][0],m=e[0][1],y=e[1][0],v=e[1][1],g=e[2][0],b=e[2][1],w=e[3][0],E=e[3][1],_=e[4][0],S=e[4][1],T=e[5][0],A=e[5][1],P=e[6][0],k=e[6][1],x=e[7][0],C=e[7][1],R=0;R<80;++R)f=((_>>>14|S<<18)^(_>>>18|S<<14)^(S>>>9|_<<23))>>>0,l=(P^_&(T^P))>>>0,u=((p>>>28|m<<4)^(m>>>2|p<<30)^(m>>>7|p<<25))>>>0,c=((p<<4|m>>>28)^(m<<30|p>>>2)^(m<<25|p>>>7))>>>0,d=(p&y|g&(p^y))>>>0,h=(m&v|b&(m^v))>>>0,O=C+(((_<<18|S>>>14)^(_<<14|S>>>18)^(S<<23|_>>>9))>>>0)+((k^S&(A^k))>>>0)+s[R][1]+t[R][1],r=x+f+l+s[R][0]+t[R][0]+(O/4294967296>>>0)>>>0,i=O>>>0,o=u+d+((O=c+h)/4294967296>>>0)>>>0,a=O>>>0,x=P,C=k,P=T,k=A,T=_,A=S,_=w+r+((O=E+i)/4294967296>>>0)>>>0,S=O>>>0,w=g,E=b,g=y,b=v,y=p,v=m,p=r+o+((O=i+a)/4294967296>>>0)>>>0,m=O>>>0;O=e[0][1]+m,e[0][0]=e[0][0]+p+(O/4294967296>>>0)>>>0,e[0][1]=O>>>0,O=e[1][1]+v,e[1][0]=e[1][0]+y+(O/4294967296>>>0)>>>0,e[1][1]=O>>>0,O=e[2][1]+b,e[2][0]=e[2][0]+g+(O/4294967296>>>0)>>>0,e[2][1]=O>>>0,O=e[3][1]+E,e[3][0]=e[3][0]+w+(O/4294967296>>>0)>>>0,e[3][1]=O>>>0,O=e[4][1]+S,e[4][0]=e[4][0]+_+(O/4294967296>>>0)>>>0,e[4][1]=O>>>0,O=e[5][1]+A,e[5][0]=e[5][0]+T+(O/4294967296>>>0)>>>0,e[5][1]=O>>>0,O=e[6][1]+k,e[6][0]=e[6][0]+P+(O/4294967296>>>0)>>>0,e[6][1]=O>>>0,O=e[7][1]+C,e[7][0]=e[7][0]+x+(O/4294967296>>>0)>>>0,e[7][1]=O>>>0,j-=128}}},function(e,t,n){"use strict";n(51),n(279);const r=n(39),i=n(132),o=n(115),a=n(227);t.bigIntegerToUintBase64url=(e,t)=>{let n=Uint8Array.from(e.abs().toByteArray());if(n=0===n[0]?n.slice(1):n,null!=t){if(n.length>t)throw new Error("byte array longer than desired length");n=a([new Uint8Array(t-n.length),n])}return o(n,"base64url")},t.base64urlToBigInteger=e=>{const n=t.base64urlToBuffer(e);return new r.jsbn.BigInteger(o(n,"base16"),16)},t.base64urlToBuffer=(e,t)=>{let n=i(e,"base64urlpad");if(null!=t){if(n.length>t)throw new Error("byte array longer than desired length");n=a([new Uint8Array(t-n.length),n])}return n}},function(e,t,n){"use strict";const{base64:r}=n(277),i=n(571);e.exports={export:async function(e,t){const n=i.create(),o=await n.encrypt(e,t);return r.encode(o)}}},function(e,t,n){"use strict";e.exports=function(e,{className:t,symbolName:n}){const r=Symbol.for(n),i={[t]:class extends e{constructor(...e){super(...e),Object.defineProperty(this,r,{value:!0})}get[Symbol.toStringTag](){return t}}}[t];return i["is"+t]=e=>!(!e||!e[r]),i},e.exports.proto=function(e,{className:t,symbolName:n,withoutNew:r}){const i=Symbol.for(n),o={[t]:function(...t){if(r&&!(this instanceof o))return new o(...t);const n=e.call(this,...t)||this;return n&&!n[i]&&Object.defineProperty(n,i,{value:!0}),n}}[t];return o.prototype=Object.create(e.prototype),o.prototype.constructor=o,Object.defineProperty(o.prototype,Symbol.toStringTag,{get:()=>t}),o["is"+t]=e=>!(!e||!e[i]),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(104),i=n(116),o=n(134),a=n(230);function u(e,t,n,o){i.assertEnoughData(e,t,n+o);const u=a.slice(e,t+n,t+n+o);return new r.Token(r.Type.bytes,u,n+o)}function s(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===r.Type.string?a.fromString(e.value):e.value),e.encodedBytes}function c(e,t){const n=s(t);o.encodeUintValue(e,t.type.majorEncoded,n.length),e.push(n)}function f(e,t){return e.length<t.length?-1:e.length>t.length?1:a.compare(e,t)}c.encodedSize=function(e){const t=s(e);return o.encodeUintValue.encodedSize(t.length)+t.length},c.compareTokens=function(e,t){return f(s(e),s(t))},t.compareBytes=f,t.decodeBytes16=function(e,t,n,r){return u(e,t,3,o.readUint16(e,t+1,r))},t.decodeBytes32=function(e,t,n,r){return u(e,t,5,o.readUint32(e,t+1,r))},t.decodeBytes64=function(e,t,n,r){const a=o.readUint64(e,t+1,r);if("bigint"==typeof a)throw new Error(i.decodeErrPrefix+" 64-bit integer bytes lengths not supported");return u(e,t,9,a)},t.decodeBytes8=function(e,t,n,r){return u(e,t,2,o.readUint8(e,t+1,r))},t.decodeBytesCompact=function(e,t,n,r){return u(e,t,1,n)},t.encodeBytes=c},function(e,t,n){"use strict";const{NotStartedError:r,AlreadyStartingError:i,AlreadyStartedError:o}=n(171),{withTimeout:a}=n(81);class u{static create({start:e,stop:t}){return new u(e,t)}static async start(e,t){const{state:n,activate:r}=e;switch(n.status){case"stopped":try{const n=r(t);e.state={status:"starting",ready:n};const i=await n;return e.state={status:"started",value:i},i}catch(t){throw e.state={status:"stopped"},t}case"starting":throw new i;case"started":throw new o;case"stopping":return await n.ready,await u.start(e,t);default:return u.panic(e)}}static async stop(e){const{state:t,deactivate:n}=e;switch(t.status){case"stopped":break;case"starting":try{await t.ready}catch(e){}return await u.stop(e);case"stopping":return await t.ready;case"started":n&&await n(t.value),e.state={status:"stopped"};break;default:u.panic(t)}}static try({state:e}){switch(e.status){case"started":return e.value;default:return null}}static async use({state:e},t){switch(e.status){case"started":return e.value;case"starting":return await a(e.ready,t);default:throw new r}}static panic({state:e}){const t=JSON.stringify({status:e.status});throw RangeError(`Service in invalid state ${t}, should never happen if you see this please report a bug`)}constructor(e,t){this.activate=e,this.deactivate=t,this.state={status:"stopped"}}async use(e){return await u.use(this,e)}try(){return u.try(this)}}e.exports=u},function(e,t,n){"use strict";class r extends Error{constructor(e){super(e),this.name="NonReversibleMigrationError",this.code="ERR_NON_REVERSIBLE_MIGRATION",this.message=e}}r.code="ERR_NON_REVERSIBLE_MIGRATION";class i extends Error{constructor(e){super(e),this.name="NotInitializedRepoError",this.code="ERR_NOT_INITIALIZED_REPO",this.message=e}}i.code="ERR_NOT_INITIALIZED_REPO";class o extends Error{constructor(e){super(e),this.name="RequiredParameterError",this.code="ERR_REQUIRED_PARAMETER",this.message=e}}o.code="ERR_REQUIRED_PARAMETER";class a extends Error{constructor(e){super(e),this.name="InvalidValueError",this.code="ERR_INVALID_VALUE",this.message=e}}a.code="ERR_INVALID_VALUE";class u extends Error{constructor(e){super(e),this.name="MissingRepoOptionsError",this.code="ERR_MISSING_REPO_OPTIONS",this.message=e}}u.code="ERR_MISSING_REPO_OPTIONS",e.exports={NonReversibleMigrationError:r,NotInitializedRepoError:i,RequiredParameterError:o,InvalidValueError:a,MissingRepoOptionsError:u}},function(e,t,n){"use strict";class r extends Error{constructor(e){super(e),this.name="LockExistsError",this.code=r.code}}r.code="ERR_LOCK_EXISTS",t.LockExistsError=r;class i extends Error{constructor(e){super(e),this.name="NotFoundError",this.code=i.code}}i.code="ERR_NOT_FOUND",t.NotFoundError=i;class o extends Error{constructor(e){super(e),this.name="InvalidRepoVersionError",this.code=o.code}}o.code="ERR_INVALID_REPO_VERSION",t.InvalidRepoVersionError=o,t.ERR_REPO_NOT_INITIALIZED="ERR_REPO_NOT_INITIALIZED",t.ERR_REPO_ALREADY_OPEN="ERR_REPO_ALREADY_OPEN",t.ERR_REPO_ALREADY_CLOSED="ERR_REPO_ALREADY_CLOSED"},function(e,t,n){"use strict";const r=n(371),i=n(6)("ipfs:repo:lock:memory"),o={};t.lock=async e=>{const t=e+"/repo.lock";if(i("locking %s",t),!0===o[t])throw new r.LockExistsError("Lock already being held for file: "+t);o[t]=!0;return{async close(){o[t]&&delete o[t]}}},t.locked=async e=>{const t=e+"/repo.lock";return i("checking lock: "+t),Boolean(o[t])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(170);var r=n(12),i=n(130);const o=({enumerable:e=!0,configurable:t=!1}={})=>({enumerable:e,configurable:t,writable:!1}),a=function*(e,t){if(null!=e&&!(e instanceof Uint8Array))for(const[n,i]of Object.entries(e)){const e=[...t,n];if(null!=i&&"object"==typeof i)if(Array.isArray(i))for(const[t,n]of i.entries()){const i=[...e,t],o=r.CID.asCID(n);o?yield[i.join("/"),o]:"object"==typeof n&&(yield*a(n,i))}else{const t=r.CID.asCID(i);t?yield[e.join("/"),t]:yield*a(i,e)}}},u=function*(e,t){if(null!=e)for(const[n,i]of Object.entries(e)){const e=[...t,n];if(yield e.join("/"),!(null==i||i instanceof Uint8Array||"object"!=typeof i||r.CID.asCID(i)))if(Array.isArray(i))for(const[t,n]of i.entries()){const i=[...e,t];yield i.join("/"),"object"!=typeof n||r.CID.asCID(n)||(yield*u(n,i))}else yield*u(i,e)}};class s{constructor({cid:e,bytes:t,value:n}){if(!e||!t||void 0===n)throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:o(),bytes:o(),value:o(),asBlock:o()})}links(){return a(this.value,[])}tree(){return u(this.value,[])}get(e="/"){return((e,t)=>{let n=e;for(const[e,i]of t.entries()){if(n=n[i],null==n)throw new Error("Object has no property at "+t.slice(0,e+1).map(e=>`[${JSON.stringify(e)}]`).join(""));const o=r.CID.asCID(n);if(o)return{value:o,remaining:t.slice(e+1).join("/")}}return{value:n}})(this.value,e.split("/").filter(Boolean))}}const c=({bytes:e,cid:t,value:n,codec:r})=>{const i=void 0!==n?n:r&&r.decode(e);if(void 0===i)throw new Error('Missing required argument, must either provide "value" or "codec"');return new s({cid:t,bytes:e,value:i})};t.Block=s,t.create=async({bytes:e,cid:t,hasher:n,codec:r})=>{if(!e)throw new Error('Missing required argument "bytes"');if(!n)throw new Error('Missing required argument "hasher"');const o=r.decode(e),a=await n.digest(e);if(!i.equals(t.multihash.bytes,a.bytes))throw new Error("CID hash does not match bytes");return c({bytes:e,cid:t,value:o,codec:r})},t.createUnsafe=c,t.decode=async({bytes:e,codec:t,hasher:n})=>{if(!e)throw new Error('Missing required argument "bytes"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.decode(e),o=await n.digest(e),a=r.CID.create(1,t.code,o);return new s({value:i,bytes:e,cid:a})},t.encode=async({value:e,codec:t,hasher:n})=>{if(void 0===e)throw new Error('Missing required argument "value"');if(!t||!n)throw new Error("Missing required argument: codec or hasher");const i=t.encode(e),o=await n.digest(i),a=r.CID.create(1,t.code,o);return new s({value:e,bytes:i,cid:a})}},function(e,t,n){"use strict";const r=n(375);e.exports=async function*(e,t=1){for await(const n of r(e,t)){const e=n.map(e=>e().then(e=>({ok:!0,value:e}),e=>({ok:!1,err:e})));for(let t=0;t<e.length;t++){const n=await e[t];if(!n.ok)throw n.err;yield n.value}}}},function(e,t,n){"use strict";e.exports=async function*(e,t=1){let n=[];t<1&&(t=1);for await(const r of e)for(n.push(r);n.length>=t;)yield n.slice(0,t),n=n.slice(t);for(;n.length;)yield n.slice(0,t),n=n.slice(t)}},function(e,t,n){"use strict";const r=n(603),i=n(4);t.getPubsubRouting=(e,t)=>{if(!e||!t||!t.ipnsPubsub)throw i(new Error("IPNS pubsub subsystem is not enabled"),"ERR_IPNS_PUBSUB_NOT_ENABLED");if(e.routing instanceof r)return e.routing;const n=(e.routing.stores||[]).find(e=>e instanceof r);if(!n)throw i(new Error("IPNS pubsub datastore not found"),"ERR_PUBSUB_DATASTORE_NOT_FOUND");return n}},function(e,t,n){"use strict";e.exports=()=>({Addresses:{Swarm:[],Announce:[],NoAnnounce:[],API:"",Gateway:"",RPC:"",Delegates:["/dns4/node0.delegate.ipfs.io/tcp/443/https","/dns4/node1.delegate.ipfs.io/tcp/443/https","/dns4/node2.delegate.ipfs.io/tcp/443/https","/dns4/node3.delegate.ipfs.io/tcp/443/https"]},Discovery:{MDNS:{Enabled:!1,Interval:10},webRTCStar:{Enabled:!0}},Bootstrap:["/dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN","/dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb","/dnsaddr/bootstrap.libp2p.io/p2p/QmZa1sAxajnQjVM8WjWXoMbmPd7NsWhfKsPkErzpm9wGkp","/dnsaddr/bootstrap.libp2p.io/p2p/QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa","/dnsaddr/bootstrap.libp2p.io/p2p/QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt","/dns4/node0.preload.ipfs.io/tcp/443/wss/p2p/QmZMxNdpMkewiVZLMRxaNxUeZpDUb34pWjZ1kZvsd16Zic","/dns4/node1.preload.ipfs.io/tcp/443/wss/p2p/Qmbut9Ywz9YEDrz8ySBSgWyJk41Uvm2QJPhwDJzJyGFsD6","/dns4/node2.preload.ipfs.io/tcp/443/wss/p2p/QmV7gnbW5VTcJ3oyM2Xk1rdFBJ3kTkvxc87UFGsun29STS","/dns4/node3.preload.ipfs.io/tcp/443/wss/p2p/QmY7JB6MQXhxHvq7dBDh4HpbH29v4yE9JRadAVpndvzySN"],Pubsub:{Enabled:!0},Swarm:{ConnMgr:{LowWater:200,HighWater:500},DisableNatPortMap:!0},Routing:{Type:"none"}})},function(e,t,n){"use strict";const r=n(374),i=n(379);e.exports={importer:async function*(e,t,o={}){const a=i(o);let u,s,c;u="function"==typeof o.dagBuilder?o.dagBuilder:n(1282),s="function"==typeof o.treeBuilder?o.treeBuilder:n(1296),c=Symbol.asyncIterator in e||Symbol.iterator in e?e:[e];for await(const e of s(r(u(c,t,a),a.fileImportConcurrency),t,a))yield{cid:e.cid,path:e.path,unixfs:e.unixfs,size:e.size}}}},function(e,t,n){"use strict";const r=n(57).bind({ignoreUndefined:!0}),{sha256:i}=n(65),o=n(609),a=n(44);const u={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hasher:i,leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,recursive:!1,hidden:!1,timeout:void 0,hamtHashFn:async function(e){return a(o.x64.hash128(e),"base16").slice(0,8).reverse()},hamtHashCode:34,hamtBucketBits:8};e.exports=function(e={}){return r(u,e)}},function(e,t,n){"use strict";e.exports=class{constructor(e,t){this.options=t||{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime,this.cid=void 0,this.size=void 0}async put(e,t){}get(e){return Promise.resolve(this)}async*eachChildSeries(){}async*flush(e){}}},function(e,t,n){"use strict";const{encode:r,prepare:i}=n(42),{UnixFS:o}=n(77),a=n(380),u=n(200),{createHAMT:s,Bucket:c}=n(382);e.exports=class extends a{constructor(e,t){super(e,t),this._bucket=s({hashFn:t.hamtHashFn,bits:t.hamtBucketBits})}async put(e,t){await this._bucket.put(e,t)}get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:e,value:t}of this._bucket.eachLeafSeries())yield{key:e,child:t}}async*flush(e){for await(const t of async function*e(t,n,a,s){const f=t._children,l=[];let d=0;for(let t=0;t<f.length;t++){const r=f.get(t);if(!r)continue;const i=t.toString(16).toUpperCase().padStart(2,"0");if(r instanceof c){let t;for await(const i of await e(r,n,null,s))t=i;if(!t)throw new Error("Could not flush sharded directory, no subshard found");l.push({Name:i,Tsize:t.size,Hash:t.cid}),d+=t.size}else if("function"==typeof r.value.flush){const e=r.value;let t;for await(const r of e.flush(n))t=r,yield t;const o=i+r.key;l.push({Name:o,Tsize:t.size,Hash:t.cid}),d+=t.size}else{const e=r.value;if(!e.cid)continue;const t=i+r.key,n=e.size;l.push({Name:t,Tsize:n,Hash:e.cid}),d+=n}}const h=Uint8Array.from(f.bitField().reverse()),p=new o({type:"hamt-sharded-directory",data:h,fanout:t.tableSize(),hashType:s.hamtHashCode,mtime:a&&a.mtime,mode:a&&a.mode}),m={Data:p.marshal(),Links:l},y=r(i(m)),v=await u(y,n,s),g=y.length+d;yield{cid:v,unixfs:p,size:g}}(this._bucket,e,this,this.options))yield{...t,path:this.path}}}},function(e,t,n){"use strict";const r=n(1298),i=n(1300);e.exports={createHAMT:function(e){if(!e||!e.hashFn)throw new Error("please define an options.hashFn");const t={bits:e.bits||8,hash:i(e.hashFn)};return new r(t)},Bucket:r}},function(e,t,n){"use strict";e.exports={isBytes:function(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer},isBlob:function(e){return e.constructor&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"==typeof e.stream},isFileObject:function(e){return"object"==typeof e&&(e.path||e.content)},isReadableStream:e=>e&&"function"==typeof e.getReader}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){const i=t+e.length;return n>=i||r<t?new Uint8Array(0):(r>=t&&r<i&&(e=e.slice(0,r-t)),n>=t&&n<i&&(e=e.slice(n-t)),e)}},function(e,t,n){"use strict";const r=n(4);e.exports=(e,t,n)=>{if(t||(t=0),t<0)throw r(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(t>e)throw r(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(n||0===n||(n=e-t),n<0)throw r(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return t+n>e&&(n=e-t),{offset:t,length:n}}},function(e){e.exports=JSON.parse('{"name":"ipfs-core","version":"0.9.1","description":"JavaScript implementation of the IPFS specification","keywords":["IPFS"],"homepage":"https://github.com/ipfs/js-ipfs/tree/master/packages/ipfs-core#readme","bugs":"https://github.com/ipfs/js-ipfs/issues","license":"(Apache-2.0 OR MIT)","leadMaintainer":"Alex Potsides <alex@achingbrain.net>","main":"src/index.js","types":"dist/src/index.d.ts","files":["src","dist","!dist/*.tsbuildinfo"],"browser":{"./src/runtime/init-assets-nodejs.js":"./src/runtime/init-assets-browser.js","./src/runtime/config-nodejs.js":"./src/runtime/config-browser.js","./src/runtime/dns-nodejs.js":"./src/runtime/dns-browser.js","./src/runtime/libp2p-nodejs.js":"./src/runtime/libp2p-browser.js","./src/runtime/libp2p-pubsub-routers-nodejs.js":"./src/runtime/libp2p-pubsub-routers-browser.js","./src/runtime/preload-nodejs.js":"./src/runtime/preload-browser.js","./src/runtime/repo-nodejs.js":"./src/runtime/repo-browser.js","ipfs-utils/src/files/glob-source":false},"typesVersions":{"*":{"src/*":["dist/src/*","dist/src/*/index"],"src/":["dist/src/index"]}},"repository":{"type":"git","url":"git+https://github.com/ipfs/js-ipfs.git"},"scripts":{"build":"aegir build","lint":"aegir lint","test":"aegir test","test:node":"aegir test -t node","test:browser":"aegir test -t browser","test:webworker":"aegir test -t webworker","test:electron-main":"aegir test -t electron-main","test:electron-renderer":"aegir test -t electron-renderer","test:bootstrapers":"IPFS_TEST=bootstrapers aegir test -t browser -f test/bootstrapers.js","coverage":"nyc --reporter=text --reporter=lcov npm run test:node","clean":"rimraf ./dist","dep-check":"aegir dep-check -i interface-ipfs-core -i ipfs-core-types -i abort-controller"},"dependencies":{"@ipld/car":"^3.1.0","@ipld/dag-cbor":"^6.0.5","@ipld/dag-pb":"^2.1.3","abort-controller":"^3.0.0","array-shuffle":"^2.0.0","blockstore-datastore-adapter":"1.0.0","datastore-core":"^5.0.1","datastore-fs":"^5.0.2","datastore-level":"^6.0.2","datastore-pubsub":"^0.7.0","debug":"^4.1.1","dlv":"^1.1.3","err-code":"^3.0.1","hamt-sharding":"^2.0.0","hashlru":"^2.3.0","interface-blockstore":"^1.0.0","interface-datastore":"^5.0.0","ipfs-bitswap":"^6.0.0","ipfs-core-types":"^0.6.1","ipfs-core-utils":"^0.9.1","ipfs-http-client":"^51.0.1","ipfs-repo":"^11.0.1","ipfs-unixfs":"^5.0.0","ipfs-unixfs-exporter":"^6.0.0","ipfs-unixfs-importer":"^8.0.0","ipfs-utils":"^8.1.4","ipns":"^0.13.2","is-domain-name":"^1.0.1","is-ipfs":"^6.0.1","it-all":"^1.0.4","it-drain":"^1.0.3","it-first":"^1.0.4","it-last":"^1.0.4","it-map":"^1.0.4","it-merge":"^1.0.2","it-peekable":"^1.0.2","it-pipe":"^1.1.0","it-pushable":"^1.4.2","just-safe-set":"^2.2.1","libp2p":"^0.32.0","libp2p-bootstrap":"^0.13.0","libp2p-crypto":"^0.19.6","libp2p-delegated-content-routing":"^0.11.0","libp2p-delegated-peer-routing":"^0.10.0","libp2p-floodsub":"^0.27.0","libp2p-gossipsub":"^0.11.0","libp2p-kad-dht":"^0.23.1","libp2p-mdns":"^0.17.0","libp2p-mplex":"^0.10.2","libp2p-noise":"^4.0.0","libp2p-record":"^0.10.3","libp2p-tcp":"^0.17.1","libp2p-webrtc-star":"^0.23.0","libp2p-websockets":"^0.16.1","mafmt":"^10.0.0","merge-options":"^3.0.4","mortice":"^2.0.0","multiaddr":"^10.0.0","multiaddr-to-uri":"^8.0.0","multiformats":"^9.4.1","native-abort-controller":"^1.0.3","p-queue":"^6.6.1","parse-duration":"^1.0.0","peer-id":"^0.15.1","streaming-iterables":"^6.0.0","uint8arrays":"^2.1.6"},"devDependencies":{"@types/dlv":"^1.1.2","aegir":"^34.0.2","delay":"^5.0.0","go-ipfs":"0.8.0","interface-blockstore-tests":"^1.0.0","interface-ipfs-core":"^0.148.0","ipfsd-ctl":"^9.0.0","iso-url":"^1.0.0","nanoid":"^3.1.12","p-defer":"^3.0.0","rimraf":"^3.0.2","sinon":"^11.1.1"},"gitHead":"dde3d28b4a0d0f74d73c0c0b38eda2e01874a2ed"}')},function(e,t,n){"use strict";const{CID:r}=n(12),{UnixFS:i}=n(77),o=n(42),{sha256:a}=n(65),u=n(6)("ipfs:mfs:utils:with-mfs-root"),s=n(4),{MFS_ROOT_KEY:c}=n(81);e.exports=async(e,t)=>{if(t&&t.signal&&t.signal.aborted)throw s(new Error("Request aborted"),"ERR_ABORTED",{name:"Aborted"});let n;await e.repo.datastore.open();try{const t=await e.repo.datastore.get(c);n=r.decode(t)}catch(f){if("ERR_NOT_FOUND"!==f.code)throw f;u("Creating new MFS root");const l=o.encode({Data:new i({type:"directory"}).marshal(),Links:[]}),d=await a.digest(l);if(n=r.createV0(d),await e.repo.blocks.put(n,l),t&&t.signal&&t.signal.aborted)throw s(new Error("Request aborted"),"ERR_ABORTED",{name:"Aborted"});await e.repo.datastore.put(c,n.bytes)}return u("Loaded MFS root /ipfs/"+n),n}},function(e,t,n){"use strict";e.exports=(e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)},function(e,t,n){"use strict";const r=n(390),i=n(295),o=n(6)("ipfs:mfs:cp"),a=n(4),u=n(202),s=n(203),c=n(201),f=n(156),l=n(57).bind({ignoreUndefined:!0}),d=n(237),h=n(17),p={parents:!1,flush:!0,hashAlg:"sha2-256",cidVersion:0,shardSplitThreshold:1e3};e.exports=e=>h((async function(t,n,u={}){const s=l(p,u);Array.isArray(t)||(t=[t]);const c=await Promise.all(t.map(t=>f(e,t,s)));let h=await f(e,n,s);if(!c.length||!h)throw a(new Error("Please supply at least one source"),"ERR_INVALID_PARAMS");const g=c.find(e=>!e.exists);if(g)throw a(new Error(g.path+" does not exist"),"ERR_INVALID_PARAMS");const b=m(h);if(h.exists){if(o("Destination exists"),1===c.length&&!b)throw a(new Error("directory already has entry by that name"),"ERR_ALREADY_EXISTS")}else if(o("Destination does not exist"),c.length>1){if(!s.parents)throw a(new Error("destination did not exist, pass -p to create intermediate directories"),"ERR_INVALID_PARAMS");await r(e)(h.path,s),h=await f(e,h.path,s)}else if(h.parts.length>1){const t="/"+h.parts.slice(0,-1).join("/");try{await i(e)(t,s)}catch(n){if("ERR_NOT_FOUND"!==n.code)throw n;if(!s.parents)throw a(new Error("destination did not exist, pass -p to create intermediate directories"),"ERR_INVALID_PARAMS");await r(e)(t,s),h=await f(e,h.path,s)}}const w=m(h)?h.mfsPath:h.mfsDirectory,E=await d(e,w);if(1===c.length){const t=c.pop();if(!t)throw a(new Error("could not find source"),"ERR_INVALID_PARAMS");const n=b?t.name:h.name;return o(`Only one source, copying to destination ${b?"directory":"file"} ${n}`),y(e,t,n,E,s)}return o("Multiple sources, wrapping in a directory"),v(e,c,h,E,s)}));const m=e=>e.unixfs&&e.unixfs.type&&e.unixfs.type.includes("directory"),y=async(e,t,n,r,i)=>{let o=r.pop();if(!o)throw a(new Error("destination had no parent"),"ERR_INVALID_PARAMS");o=await g(e,t,n,o,i),r.push(o);const c=await u(e,r,i);await s(e,c,i)},v=async(e,t,n,r,i)=>{for(let r=0;r<t.length;r++){const o=t[r];n=await g(e,o,o.name,n,i)}r[r.length-1]=n;const o=await u(e,r,i);await s(e,o,i)},g=async(e,t,n,r,i)=>{const o=await e.repo.blocks.get(t.cid),{node:a,cid:u}=await c(e,{parentCid:r.cid,size:o.length,cid:t.cid,name:n,hashAlg:i.hashAlg,cidVersion:i.cidVersion,flush:i.flush,shardSplitThreshold:i.shardSplitThreshold});return r.node=a,r.cid=u,r.size=a.size,r}},function(e,t,n){"use strict";const r=n(4),i=n(6)("ipfs:mfs:mkdir"),{exporter:o}=n(118),a=n(1336),u=n(388),s=n(203),c=n(202),f=n(201),l=n(387),d=n(57).bind({ignoreUndefined:!0}),h=n(17),p={parents:!1,hashAlg:"sha2-256",cidVersion:0,shardSplitThreshold:1e3,flush:!0};e.exports=e=>h((async function(t,n={}){const f=d(p,n);if(!t)throw new Error("no path given to Mkdir");if("/"===(t=t.trim())){if(f.parents)return;throw r(new Error("cannot create directory '/': Already exists"),"ERR_INVALID_PATH")}if("/"!==t.substring(0,1))throw r(new Error("paths must start with a leading slash"),"ERR_INVALID_PATH");i("Creating "+t);const h=u(t);if("ipfs"===h[0])throw r(new Error("path cannot have the prefix 'ipfs'"),"ERR_INVALID_PATH");const y=await l(e,f);let v;const g=[],b=await a(e,"directory",f);for(let n=0;n<=h.length;n++){const i=h.slice(0,n),a=`/ipfs/${y}/${i.join("/")}`;try{if(v=await o(a,e.repo.blocks),"file"!==v.type&&"directory"!==v.type)throw r(new Error(t+" was not a UnixFS node"),"ERR_NOT_UNIXFS");if(n===h.length){if(f.parents)return;throw r(new Error("file already exists"),"ERR_ALREADY_EXISTS")}g.push({name:v.name,cid:v.cid})}catch(t){if("ERR_NOT_FOUND"!==t.code)throw t;if(n<h.length&&!f.parents)throw r(new Error(`Intermediate directory path ${a} does not exist, use the -p flag to create it`),"ERR_NOT_FOUND");await m(e,i[i.length-1],b,g[g.length-1],g,f)}}const w=await c(e,g,f);await s(e,w,f)}));const m=async(e,t,n,r,o,a)=>{i(`Adding empty dir called ${t} to ${r.cid}`);const u=await f(e,{parent:r.node,parentCid:r.cid,size:0,cid:n.cid,name:t,hashAlg:a.hashAlg,cidVersion:a.cidVersion,flush:a.flush,shardSplitThreshold:a.shardSplitThreshold});o[o.length-1].cid=u.cid,o.push({name:t,cid:n.cid})}},function(e,t,n){"use strict";const r=n(4),i=n(202),o=n(203),a=n(1337),u=n(156),s=n(237),c=n(17),f=n(57).bind({ignoreUndefined:!0}),l={recursive:!1,cidVersion:0,hashAlg:"sha2-256",flush:!0,shardSplitThreshold:1e3};e.exports=e=>c((async function(t,n={}){const i=f(l,n);Array.isArray(t)||(t=[t]);const o=await Promise.all(t.map(t=>u(e,t,i)));if(!o.length)throw r(new Error("Please supply at least one path to remove"),"ERR_INVALID_PARAMS");o.forEach(e=>{if("/"===e.path)throw r(new Error("Cannot delete root"),"ERR_INVALID_PARAMS")});for(const t of o)await d(e,t.path,i)}));const d=async(e,t,n)=>{const c=await u(e,t,n),f=await s(e,c.mfsPath),l=f[f.length-1];f.pop();const d=f[f.length-1];if(!d)throw r(new Error(t+" does not exist"),"ERR_NOT_FOUND");if("directory"===l.type&&!n.recursive)throw r(new Error(t+" is a directory, use -r to remove directories"),"ERR_WAS_DIR");const{cid:h}=await a(e,{parentCid:d.cid,name:l.name,hashAlg:n.hashAlg,cidVersion:n.cidVersion,flush:n.flush,shardSplitThreshold:n.shardSplitThreshold});d.cid=h;const p=await i(e,f,n);await o(e,p,n)}},function(e,t,n){"use strict";const r=n(393);e.exports=function(e,...t){0===t.length?r(e):r(()=>e(...t))}},function(e,t,n){(function(t){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
let n;e.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:t):e=>(n||(n=Promise.resolve())).then(e).catch(e=>setTimeout(()=>{throw e},0))}).call(this,n(48))},function(e,t,n){"use strict";const r=n(1379).create,i=r("LevelUPError"),o=r("NotFoundError",i);o.prototype.notFound=!0,o.prototype.status=404,e.exports={LevelUPError:i,InitializationError:r("InitializationError",i),OpenError:r("OpenError",i),ReadError:r("ReadError",i),WriteError:r("WriteError",i),NotFoundError:o,EncodingError:r("EncodingError",i)}},function(e,t,n){"use strict";const r=n(625),i=n(1393);e.exports={BlockstoreAdapter:r,MemoryBlockstore:i}},function(e,t,n){"use strict";const r=n(628),i=Symbol.for("@libp2p/js-interfaces/topology/multicodec-topology");class o extends r{constructor({min:e,max:t,multicodecs:n,handlers:r}){if(super({min:e,max:t,handlers:r}),!n)throw new Error("one or more multicodec should be provided");if(!r)throw new Error("the handlers should be provided");if("function"!=typeof r.onConnect)throw new Error("the 'onConnect' handler must be provided");if("function"!=typeof r.onDisconnect)throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(n)?n:[n],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}get[Symbol.toStringTag](){return"Topology"}get[i](){return!0}static isMulticodecTopology(e){return Boolean(e&&e[i])}set registrar(e){this._registrar=e,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),this._updatePeers(this._registrar.peerStore.peers.values())}_updatePeers(e){for(const{id:t,protocols:n}of e)if(this.multicodecs.filter(e=>n.includes(e)).length){this.peers.add(t.toB58String());const e=this._registrar.getConnection(t);e&&this._onConnect(t,e)}else this.peers.delete(t.toB58String())}_onProtocolChange({peerId:e,protocols:t}){const n=this.peers.has(e.toB58String()),r=t.filter(e=>this.multicodecs.includes(e));n&&0===r.length&&this._onDisconnect(e);for(const n of t)if(this.multicodecs.includes(n)){const t=this._registrar.peerStore.get(e);return void this._updatePeers([t])}}_onPeerConnect(e){const t=e.remotePeer,n=this._registrar.peerStore.protoBook.get(t);n&&this.multicodecs.find(e=>n.includes(e))&&(this.peers.add(t.toB58String()),this._onConnect(t,e))}}e.exports=o},function(e,t,n){"use strict";t.codes={ERR_INVALID_SIGNATURE_POLICY:"ERR_INVALID_SIGNATURE_POLICY",ERR_UNHANDLED_SIGNATURE_POLICY:"ERR_UNHANDLED_SIGNATURE_POLICY",ERR_MISSING_SIGNATURE:"ERR_MISSING_SIGNATURE",ERR_MISSING_SEQNO:"ERR_MISSING_SEQNO",ERR_INVALID_SIGNATURE:"ERR_INVALID_SIGNATURE",ERR_UNEXPECTED_FROM:"ERR_UNEXPECTED_FROM",ERR_UNEXPECTED_SIGNATURE:"ERR_UNEXPECTED_SIGNATURE",ERR_UNEXPECTED_KEY:"ERR_UNEXPECTED_KEY",ERR_UNEXPECTED_SEQNO:"ERR_UNEXPECTED_SEQNO"}},function(e,t){e.exports=function(e){if(e){if("function"==typeof e[Symbol.iterator])return e[Symbol.iterator]();if("function"==typeof e[Symbol.asyncIterator])return e[Symbol.asyncIterator]();if("function"==typeof e.next)return e}throw new Error("argument is not an iterator or iterable")}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=n(30).Multiaddr,b=n(275),w=b.isBrowser,E=b.isWebWorker,_=b.isNode,S=n(287).default,T=n(6)("ipfs-http-client:lib:error-handler"),A=n(274),P=n(57).bind({ignoreUndefined:!0}),k=n(1427),x=n(1428),C=n(1429),R=w||E?location.protocol:"http",I=w||E?location.hostname:"localhost",O=w||E?location.port:"5001",M=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};if("string"==typeof n||g.isMultiaddr(n))e=new URL(k(n));else if(n instanceof URL)e=n;else if("string"==typeof n.url||g.isMultiaddr(n.url))e=new URL(k(n.url)),r=n;else if(n.url instanceof URL)e=n.url,r=n;else{var i=((r=n||{}).protocol||R).replace(":",""),o=(r.host||I).split(":")[0],a=r.port||O;e=new URL("".concat(i,"://").concat(o,":").concat(a))}if(r.apiPath?e.pathname=r.apiPath:"/"!==e.pathname&&void 0!==e.pathname||(e.pathname="api/v0"),_){var u=e.protocol.startsWith("https")?C.Agent:x.Agent;t=r.agent||new u({keepAlive:!0,maxSockets:6})}return y(y({},r),{},{host:e.host,protocol:e.protocol.replace(":",""),port:Number(e.port),apiPath:e.pathname,url:e,agent:t})},N=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t.headers.get("Content-Type")||"").startsWith("application/json")){e.next=9;break}return e.next=4,t.json();case 4:r=e.sent,T(r),n=r.Message||r.message,e.next=12;break;case 9:return e.next=11,t.text();case 11:n=e.sent;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),T("Failed to parse error response",e.t0),n=e.t0.message;case 18:throw i=new A.HTTPError(t),n&&n.includes("context deadline exceeded")&&(i=new A.TimeoutError("Request timed out")),n&&n.includes("request timed out")&&(i=new A.TimeoutError("Request timed out")),n&&(i.message=n),i;case 23:case"end":return e.stop()}}),e,null,[[0,14]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,u,"next",e)}function u(e){p(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),D=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,L=function(e){return e.replace(D,(function(e){return"-"+e.toLowerCase()}))},j=function(e){return"string"==typeof e?S(e):e},B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,e);var t=f(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,n);var a=M(r);delete(e=t.call(this,{timeout:j(a.timeout||0)||12e5,headers:a.headers,base:"".concat(a.url),handleError:N,transformSearchParams:function(e){var t,n=new URLSearchParams,r=o(e);try{for(r.s();!(t=r.n()).done;){var a=i(t.value,2),u=a[0],s=a[1];"undefined"!==s&&"null"!==s&&"signal"!==u&&n.append(L(u),s),"timeout"!==u||isNaN(s)||n.append(L(u),s)}}catch(e){r.e(e)}finally{r.f()}return n},agent:a.agent})).get,delete e.put,delete e.delete,delete e.options;var u=e.fetch;return e.fetch=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"!=typeof t||t.startsWith("/")||(t="".concat(a.url,"/").concat(t)),u.call(d(e),t,P(n,{method:"POST"}))},e}return n}(A);B.errorHandler=N,e.exports=B},function(e,t,n){"use strict";e.exports=function(e){if(null!=e)return"string"==typeof e?e:e.toString(8).padStart(4,"0")}},function(e,t,n){"use strict";e.exports={SendingQuery:0,PeerResponse:1,FinalPeer:2,QueryError:3,Provider:4,Value:5,AddingPeer:6,DialingPeer:7}},function(e,t,n){const r=n(86);e.exports=e=>{const t=async function*(){let t=yield,n=new r;for await(const i of e)if(t)for(n.append(i);n.length>=t;){const e=n.shallowSlice(0,t);if(n.consume(t),t=yield e,!t){n.length&&(t=yield n,n=new r);break}}else t=yield n.append(i),n=new r;if(t)throw Object.assign(new Error(`stream ended before ${t} bytes became available`),{code:"ERR_UNDER_READ",buffer:n})}();return t.next(),t}},function(e,t,n){"use strict";e.exports={DIAL_TIMEOUT:3e4,MAX_PARALLEL_DIALS:100,MAX_PER_PEER_DIALS:4,MAX_ADDRS_TO_DIAL:25,METRICS:{computeThrottleMaxQueueSize:1e3,computeThrottleTimeout:2e3,movingAverageIntervals:[6e4,3e5,9e5],maxOldPeersRetention:50}}},function(e,t,n){"use strict";e.exports={ADVERTISE_BOOT_DELAY:9e5,ADVERTISE_TTL:18e5,CIRCUIT_PROTO_CODE:290,HOP_METADATA_KEY:"hop_relay",HOP_METADATA_VALUE:"true",RELAY_RENDEZVOUS_NS:"/libp2p/relay"}},function(e,t,n){"use strict";const{Multiaddr:r}=n(30),i=n(31),o=n(1578),{PeerRecord:a}=n(1579),{ENVELOPE_DOMAIN_PEER_RECORD:u,ENVELOPE_PAYLOAD_TYPE_PEER_RECORD:s}=n(1580);class c{constructor({peerId:e,multiaddrs:t=[],seqNumber:n=Date.now()}){this.domain=u,this.codec=s,this.peerId=e,this.multiaddrs=t,this.seqNumber=n,this._marshal=void 0}marshal(){return this._marshal||(this._marshal=a.encode({peerId:this.peerId.toBytes(),seq:this.seqNumber,addresses:this.multiaddrs.map(e=>({multiaddr:e.bytes}))}).finish()),this._marshal}equals(e){return e instanceof c&&(!!this.peerId.equals(e.peerId)&&(this.seqNumber===e.seqNumber&&!!o(this.multiaddrs,e.multiaddrs)))}}c.createFromProtobuf=e=>{const t=a.decode(e),n=i.createFromBytes(t.peerId),o=(t.addresses||[]).map(e=>new r(e.multiaddr)),u=Number(t.seq);return new c({peerId:n,multiaddrs:o,seqNumber:u})},c.DOMAIN=u,e.exports=c},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:circuit:stream-handler"),{error:r("libp2p:circuit:stream-handler:err")}),o=n(119),a=n(240),{CircuitRelay:u}=n(239);e.exports=class{constructor({stream:e,maxLength:t=4096}){this.stream=e,this.shake=a(this.stream),this.decoder=o.decode.fromReader(this.shake.reader,{maxDataLength:t})}async read(){const e=await this.decoder.next();if(e.value){const t=u.decode(e.value.slice());return i("read message type",t.type),t}i("read received no value, closing stream"),this.close()}write(e){i("write message type %s",e.type),this.shake.write(o.encode.single(u.encode(e).finish()))}rest(){return this.shake.rest(),this.shake.stream}end(e){this.write(e),this.close()}close(){i("closing the stream"),this.rest().sink([])}}},function(e,t,n){"use strict";const r=n(86),i=n(119),o=n(66),a=n(4),u=n(132),s=n(198),c=u("\n");t.encode=e=>i.encode.single(new r([e,c])),t.write=(e,n)=>e.push(t.encode(n)),t.writeAll=(e,n)=>{e.push(n.reduce((e,n)=>e.append(t.encode(n)),new r))},t.read=async e=>{let t=1;const n={[Symbol.asyncIterator](){return this},next:()=>e.next(t)},r=await o(n,i.decode({onLength:e=>{t=e}}),s);if(r.get(r.length-1)!==c[0])throw a(new Error("missing newline"),"ERR_INVALID_MULTISTREAM_SELECT_MESSAGE");return r.shallowSlice(0,-1)}},function(e,t,n){"use strict";const{Buffer:r}=n(27),i=n(86);e.exports=async function*(e){for await(const t of e)r.isBuffer(t)?yield t:i.isBufferList(t)?yield t.slice():yield r.from(t)},e.exports.toBuffer=e.exports,e.exports.toList=async function*(e){for await(const t of e)r.isBuffer(t)?yield(new i).append(t):i.isBufferList(t)?yield t:yield(new i).append(r.from(t))}},function(e,t,n){"use strict";t.CODE_P2P=421,t.CODE_CIRCUIT=290,t.CLOSE_TIMEOUT=2e3},function(e,t,n){const r=n(241),i=n(242),o=n(6)("engine.io-client:transport");e.exports=class extends i{constructor(e){super(),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t){const n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState?this.write(e):o("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(e){const t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){this.emit("packet",e)}onClose(){this.readyState="closed",this.emit("close")}}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;const r=n(242),i=n(1680),o=n(683),a=n(6)("socket.io-parser");var u;t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(u=t.PacketType||(t.PacketType={}));t.Encoder=class{encode(e){return a("encoding packet %j",e),e.type!==u.EVENT&&e.type!==u.ACK||!o.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===u.EVENT?u.BINARY_EVENT:u.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return e.type!==u.BINARY_EVENT&&e.type!==u.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),a("encoded %j as %s",e,t),t}encodeAsBinary(e){const t=i.deconstructPacket(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}};class s extends r{constructor(){super()}add(e){let t;if("string"==typeof e)t=this.decodeString(e),t.type===u.BINARY_EVENT||t.type===u.BINARY_ACK?(this.reconstructor=new c(t),0===t.attachments&&super.emit("decoded",t)):super.emit("decoded",t);else{if(!o.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emit("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===u[n.type])throw new Error("unknown packet type "+n.type);if(n.type===u.BINARY_EVENT||n.type===u.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!s.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return a("decoded %s as %j",e,n),n}static isPayloadValid(e,t){switch(e){case u.CONNECT:return"object"==typeof t;case u.DISCONNECT:return void 0===t;case u.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case u.EVENT:case u.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case u.ACK:case u.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}t.Decoder=s;class c{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1691),i=n(138);function o(e){var t=new Float64Array(16);if(e)for(var n=0;n<e.length;n++)t[n]=e[n];return t}t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;var a=new Uint8Array(32);a[0]=9;var u=o([56129,1]);function s(e){for(var t=1,n=0;n<16;n++){var r=e[n]+t+65535;t=Math.floor(r/65536),e[n]=r-65536*t}e[0]+=t-1+37*(t-1)}function c(e,t,n){for(var r=~(n-1),i=0;i<16;i++){var o=r&(e[i]^t[i]);e[i]^=o,t[i]^=o}}function f(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function l(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function d(e,t,n){var r,i,o=0,a=0,u=0,s=0,c=0,f=0,l=0,d=0,h=0,p=0,m=0,y=0,v=0,g=0,b=0,w=0,E=0,_=0,S=0,T=0,A=0,P=0,k=0,x=0,C=0,R=0,I=0,O=0,M=0,N=0,D=0,L=n[0],j=n[1],B=n[2],F=n[3],U=n[4],q=n[5],H=n[6],K=n[7],V=n[8],z=n[9],W=n[10],G=n[11],$=n[12],J=n[13],Q=n[14],Y=n[15];o+=(r=t[0])*L,a+=r*j,u+=r*B,s+=r*F,c+=r*U,f+=r*q,l+=r*H,d+=r*K,h+=r*V,p+=r*z,m+=r*W,y+=r*G,v+=r*$,g+=r*J,b+=r*Q,w+=r*Y,a+=(r=t[1])*L,u+=r*j,s+=r*B,c+=r*F,f+=r*U,l+=r*q,d+=r*H,h+=r*K,p+=r*V,m+=r*z,y+=r*W,v+=r*G,g+=r*$,b+=r*J,w+=r*Q,E+=r*Y,u+=(r=t[2])*L,s+=r*j,c+=r*B,f+=r*F,l+=r*U,d+=r*q,h+=r*H,p+=r*K,m+=r*V,y+=r*z,v+=r*W,g+=r*G,b+=r*$,w+=r*J,E+=r*Q,_+=r*Y,s+=(r=t[3])*L,c+=r*j,f+=r*B,l+=r*F,d+=r*U,h+=r*q,p+=r*H,m+=r*K,y+=r*V,v+=r*z,g+=r*W,b+=r*G,w+=r*$,E+=r*J,_+=r*Q,S+=r*Y,c+=(r=t[4])*L,f+=r*j,l+=r*B,d+=r*F,h+=r*U,p+=r*q,m+=r*H,y+=r*K,v+=r*V,g+=r*z,b+=r*W,w+=r*G,E+=r*$,_+=r*J,S+=r*Q,T+=r*Y,f+=(r=t[5])*L,l+=r*j,d+=r*B,h+=r*F,p+=r*U,m+=r*q,y+=r*H,v+=r*K,g+=r*V,b+=r*z,w+=r*W,E+=r*G,_+=r*$,S+=r*J,T+=r*Q,A+=r*Y,l+=(r=t[6])*L,d+=r*j,h+=r*B,p+=r*F,m+=r*U,y+=r*q,v+=r*H,g+=r*K,b+=r*V,w+=r*z,E+=r*W,_+=r*G,S+=r*$,T+=r*J,A+=r*Q,P+=r*Y,d+=(r=t[7])*L,h+=r*j,p+=r*B,m+=r*F,y+=r*U,v+=r*q,g+=r*H,b+=r*K,w+=r*V,E+=r*z,_+=r*W,S+=r*G,T+=r*$,A+=r*J,P+=r*Q,k+=r*Y,h+=(r=t[8])*L,p+=r*j,m+=r*B,y+=r*F,v+=r*U,g+=r*q,b+=r*H,w+=r*K,E+=r*V,_+=r*z,S+=r*W,T+=r*G,A+=r*$,P+=r*J,k+=r*Q,x+=r*Y,p+=(r=t[9])*L,m+=r*j,y+=r*B,v+=r*F,g+=r*U,b+=r*q,w+=r*H,E+=r*K,_+=r*V,S+=r*z,T+=r*W,A+=r*G,P+=r*$,k+=r*J,x+=r*Q,C+=r*Y,m+=(r=t[10])*L,y+=r*j,v+=r*B,g+=r*F,b+=r*U,w+=r*q,E+=r*H,_+=r*K,S+=r*V,T+=r*z,A+=r*W,P+=r*G,k+=r*$,x+=r*J,C+=r*Q,R+=r*Y,y+=(r=t[11])*L,v+=r*j,g+=r*B,b+=r*F,w+=r*U,E+=r*q,_+=r*H,S+=r*K,T+=r*V,A+=r*z,P+=r*W,k+=r*G,x+=r*$,C+=r*J,R+=r*Q,I+=r*Y,v+=(r=t[12])*L,g+=r*j,b+=r*B,w+=r*F,E+=r*U,_+=r*q,S+=r*H,T+=r*K,A+=r*V,P+=r*z,k+=r*W,x+=r*G,C+=r*$,R+=r*J,I+=r*Q,O+=r*Y,g+=(r=t[13])*L,b+=r*j,w+=r*B,E+=r*F,_+=r*U,S+=r*q,T+=r*H,A+=r*K,P+=r*V,k+=r*z,x+=r*W,C+=r*G,R+=r*$,I+=r*J,O+=r*Q,M+=r*Y,b+=(r=t[14])*L,w+=r*j,E+=r*B,_+=r*F,S+=r*U,T+=r*q,A+=r*H,P+=r*K,k+=r*V,x+=r*z,C+=r*W,R+=r*G,I+=r*$,O+=r*J,M+=r*Q,N+=r*Y,w+=(r=t[15])*L,a+=38*(_+=r*B),u+=38*(S+=r*F),s+=38*(T+=r*U),c+=38*(A+=r*q),f+=38*(P+=r*H),l+=38*(k+=r*K),d+=38*(x+=r*V),h+=38*(C+=r*z),p+=38*(R+=r*W),m+=38*(I+=r*G),y+=38*(O+=r*$),v+=38*(M+=r*J),g+=38*(N+=r*Q),b+=38*(D+=r*Y),o=(r=(o+=38*(E+=r*j))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=u,e[3]=s,e[4]=c,e[5]=f,e[6]=l,e[7]=d,e[8]=h,e[9]=p,e[10]=m,e[11]=y,e[12]=v,e[13]=g,e[14]=b,e[15]=w}function h(e,t){d(e,t,t)}function p(e,t){for(var n=new Uint8Array(32),r=new Float64Array(80),i=o(),a=o(),p=o(),m=o(),y=o(),v=o(),g=0;g<31;g++)n[g]=e[g];n[31]=127&e[31]|64,n[0]&=248,function(e,t){for(var n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(r,t);for(g=0;g<16;g++)a[g]=r[g];i[0]=m[0]=1;for(g=254;g>=0;--g){var b=n[g>>>3]>>>(7&g)&1;c(i,a,b),c(p,m,b),f(y,i,p),l(i,i,p),f(p,a,m),l(a,a,m),h(m,y),h(v,i),d(i,p,i),d(p,a,y),f(y,i,p),l(i,i,p),h(a,i),l(p,m,v),d(i,p,u),f(i,i,m),d(p,p,i),d(i,m,v),d(m,a,r),h(a,y),c(i,a,b),c(p,m,b)}for(g=0;g<16;g++)r[g+16]=i[g],r[g+32]=p[g],r[g+48]=a[g],r[g+64]=m[g];var w=r.subarray(32),E=r.subarray(16);!function(e,t){for(var n=o(),r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)h(n,n),2!==r&&4!==r&&d(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}(w,w),d(E,E,w);var _=new Uint8Array(32);return function(e,t){for(var n=o(),r=o(),i=0;i<16;i++)r[i]=t[i];s(r),s(r),s(r);for(var a=0;a<2;a++){n[0]=r[0]-65517;for(i=1;i<15;i++)n[i]=r[i]-65535-(n[i-1]>>16&1),n[i-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);var u=n[15]>>16&1;n[14]&=65535,c(r,n,1-u)}for(i=0;i<16;i++)e[2*i]=255&r[i],e[2*i+1]=r[i]>>8}(_,E),_}function m(e){return p(e,a)}function y(e){if(e.length!==t.SECRET_KEY_LENGTH)throw new Error("x25519: seed must be "+t.SECRET_KEY_LENGTH+" bytes");var n=new Uint8Array(e);return{publicKey:m(n),secretKey:n}}t.scalarMult=p,t.scalarMultBase=m,t.generateKeyPairFromSeed=y,t.generateKeyPair=function(e){var t=r.randomBytes(32,e),n=y(t);return i.wipe(t),n},t.sharedKey=function(e,n,r){if(void 0===r&&(r=!1),e.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(n.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");var i=p(e,n);if(r){for(var o=0,a=0;a<i.length;a++)o|=i[a];if(0===o)throw new Error("X25519: invalid shared key")}return i}},function(e,t,n){"use strict";function r(e,t){if(e.length!==t.length)return 0;for(var n=0,r=0;r<e.length;r++)n|=e[r]^t[r];return 1&n-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,n){return~(e-1)&t|e-1&n},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=r,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==r(e,t)}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.DUMP_SESSION_KEYS=t.NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG=t.NOISE_MSG_MAX_LENGTH_BYTES=void 0,t.NOISE_MSG_MAX_LENGTH_BYTES=65535,t.NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG=t.NOISE_MSG_MAX_LENGTH_BYTES-16,t.DUMP_SESSION_KEYS=e.env.DUMP_SESSION_KEYS}).call(this,n(49))},function(e,t,n){(function(t){function n(e,n){if(e.length!==n.length)throw new Error("Inputs should have the same length");for(var r=t.allocUnsafe(e.length),i=0;i<e.length;i++)r[i]=e[i]^n[i];return r}e.exports=n,n.compare=function(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");for(var n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0},n.gt=function(e,t){return 1===n.compare(e,t)},n.lt=function(e,t){return-1===n.compare(e,t)},n.eq=function(e,t){return 0===n.compare(e,t)}}).call(this,n(27).Buffer)},function(e,t,n){"use strict";const r=n(665);e.exports=async(e,t,{concurrency:n=1/0,stopOnError:i=!0}={})=>new Promise((o,a)=>{if("function"!=typeof t)throw new TypeError("Mapper function is required");if(!Number.isSafeInteger(n)&&n!==1/0||!(n>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${n}\` (${typeof n})`);const u=[],s=[],c=e[Symbol.iterator]();let f=!1,l=!1,d=0,h=0;const p=()=>{if(f)return;const e=c.next(),n=h;if(h++,e.done)return l=!0,void(0===d&&(i||0===s.length?o(u):a(new r(s))));d++,(async()=>{try{const r=await e.value;u[n]=await t(r,n),d--,p()}catch(e){i?(f=!0,a(e)):(s.push(e),d--,p())}})()};for(let e=0;e<n&&(p(),!l);e++);})},function(e,t,n){"use strict";const{base58btc:r}=n(64),i=n(68),o=n(1728);e.exports=class{constructor(e,t,n){this.dht=e,this.key=t,this.makePath=n,this._log=i.logger(this.dht.peerId,"query:"+r.baseEncode(t)),this.running=!1,this._onStart=this._onStart.bind(this),this._onComplete=this._onComplete.bind(this)}async run(e){return this.dht._queryManager.running?0===e.length?(this._log.error("Running query with no peers"),{finalSet:new Set,paths:[]}):(this._run=new o(this),this._log(`query running with K=${this.dht.kBucketSize}, A=${this.dht.concurrency}, D=${Math.min(this.dht.disjointPaths,e.length)}`),this._run.once("start",this._onStart),this._run.once("complete",this._onComplete),this._run.execute(e)):(this._log.error("Attempt to run query after shutdown"),{finalSet:new Set,paths:[]})}_onStart(){this.running=!0,this._startTime=Date.now(),this._log("query:start"),this.dht._queryManager.queryStarted(this)}_onComplete(){this.stop()}stop(){this._log(`query:done in ${Date.now()-(this._startTime||0)}ms`),this._run&&this._log(`${this._run.errors.length} of ${this._run.peersSeen.size} peers errored (${this._run.errors.length/this._run.peersSeen.size*100}% fail rate)`),this.running&&(this.running=!1,this._run&&(this._run.removeListener("start",this._onStart),this._run.removeListener("complete",this._onComplete),this._run.stop()),this.dht._queryManager.queryCompleted(this))}}},function(e,t,n){"use strict";var r=n(11),i=n(15),o=n(92),a=n(2),u=n(5),s=n(16),c=n(59),f=n(24),l=n(114),d=n(350),h=n(95),p=n(101),m=n(354),y=n(191),v=n(60),g=n(221),b=function(){function e(){}return e.value=new e,e}(),w=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),E=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),_=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),S=function(e){return function(t){return function(n){return i.bind(p.bindHalogenM)(m.emitSelected(m.monadStoreHalogenM(e))(t))((function(e){return a.void(p.functorHalogenM)(p.subscribe(a.map(y.functorEmitter)(n)(e)))}))}}};e.exports={connect:function(e){return function(e){return function(t){return function(n){return l.mkComponent({initialState:function(e){return{context:u.Nothing.value,initialized:!1,input:e}},render:function(e){return e.context instanceof u.Just?(t=e.input,function(e){return d.slot()(new c.IsSymbol((function(){return"inner"})))(s.ordUnit)(v.Proxy.value)(f.unit)(n)({input:t,context:e})(_.create)})(e.context.value0):h.text("");var t},eval:l.mkEval({handleAction:function(n){if(n instanceof b)return i.discard(i.discardUnit)(p.bindHalogenM)(S(e)(t)(E.create))((function(){return i.bind(p.bindHalogenM)(a.map(p.functorHalogenM)(t.select)(m.getStore(m.monadStoreHalogenM(e))))((function(e){return o.modify_(p.monadStateHalogenM)((function(t){var n={};for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.context=new u.Just(e),n}))}))}));if(n instanceof w)return i.bind(p.bindHalogenM)(o.gets(p.monadStateHalogenM)((function(e){return e.input})))((function(e){return r.unless(p.applicativeHalogenM)(g.unsafeRefEq(e)(n.value0))(o.modify_(p.monadStateHalogenM)((function(e){var t={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.input=n.value0,t})))}));if(n instanceof E)return i.bind(p.bindHalogenM)(o.gets(p.monadStateHalogenM)((function(e){return e.context})))((function(e){return e instanceof u.Just&&g.unsafeRefEq(e.value0)(n.value0)?r.pure(p.applicativeHalogenM)(f.unit):o.modify_(p.monadStateHalogenM)((function(e){var t={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.context=new u.Just(n.value0),t}))}));if(n instanceof _)return p.raise(n.value0);throw new Error("Failed pattern match at Halogen.Store.Connect (line 74, column 18 - line 91, column 21): "+[n.constructor.name])},handleQuery:p.query()(new c.IsSymbol((function(){return"inner"})))(s.ordUnit)(v.Proxy.value)(f.unit),initialize:new u.Just(b.value),finalize:u.Nothing.value,receive:function(e){return u.Just.create(w.create(e))}})})}}}},subscribe:S}},function(e,t,n){"use strict";var r=n(25),i=n(13),o=function(e){return e},a={eq:function(e){return function(e){return!1}},select:r.identity(r.categoryFn)};e.exports={Selector:o,select:function(e){return function(t){return{eq:e,select:t}}},selectEq:function(e){return function(t){return n=t,{eq:i.eq(e),select:n};var n}},selectAll:a}},function(e,t,n){"use strict";var r=n(1781),i=n(41),o=n(5),a=n(18),u=n(148),s=n(422),c=new a.Show(r.showRegexImpl),f=r._search(o.Just.create)(o.Nothing.value),l=r._replaceBy(o.Just.create)(o.Nothing.value),d=function(e){return(e.value0.global?"g":"")+(e.value0.ignoreCase?"i":"")+(e.value0.multiline?"m":"")+(e.value0.dotAll?"s":"")+(e.value0.sticky?"y":"")+(e.value0.unicode?"u":"")},h=r._match(o.Just.create)(o.Nothing.value);e.exports={regex:function(e){return function(t){return r.regexImpl(i.Left.create)(i.Right.create)(e)(d(t))}},flags:function(e){return s.RegexFlags.create(r.flagsImpl(e))},renderFlags:d,parseFlags:function(e){return new s.RegexFlags({global:u.contains("g")(e),ignoreCase:u.contains("i")(e),multiline:u.contains("m")(e),dotAll:u.contains("s")(e),sticky:u.contains("y")(e),unicode:u.contains("u")(e)})},match:h,"replace'":l,search:f,showRegex:c,source:r.source,test:r.test,replace:r.replace,split:r.split}},function(e,t,n){"use strict";var r=n(50),i=n(13),o=n(2),a=n(28),u=n(20),s=n(18),c=n(129),f=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),l=new f({global:!1,ignoreCase:!1,multiline:!1,dotAll:!1,sticky:!1,unicode:!0}),d=new f({global:!1,ignoreCase:!1,multiline:!1,dotAll:!1,sticky:!0,unicode:!1}),h=new s.Show((function(e){var t=u.append(u.semigroupArray)([])(u.append(u.semigroupArray)(o.voidLeft(o.functorArray)(r.guard(r.alternativeArray)(e.value0.global))("global"))(u.append(u.semigroupArray)(o.voidLeft(o.functorArray)(r.guard(r.alternativeArray)(e.value0.ignoreCase))("ignoreCase"))(u.append(u.semigroupArray)(o.voidLeft(o.functorArray)(r.guard(r.alternativeArray)(e.value0.multiline))("multiline"))(u.append(u.semigroupArray)(o.voidLeft(o.functorArray)(r.guard(r.alternativeArray)(e.value0.dotAll))("dotAll"))(u.append(u.semigroupArray)(o.voidLeft(o.functorArray)(r.guard(r.alternativeArray)(e.value0.sticky))("sticky"))(o.voidLeft(o.functorArray)(r.guard(r.alternativeArray)(e.value0.unicode))("unicode")))))));return i.eq(i.eqArray(i.eqString))(t)([])?"noFlags":"("+c.joinWith(" <> ")(t)+")"})),p=new u.Semigroup((function(e){return function(t){return new f({global:e.value0.global||t.value0.global,ignoreCase:e.value0.ignoreCase||t.value0.ignoreCase,multiline:e.value0.multiline||t.value0.multiline,dotAll:e.value0.dotAll||t.value0.dotAll,sticky:e.value0.sticky||t.value0.sticky,unicode:e.value0.unicode||t.value0.unicode})}})),m=new f({global:!1,ignoreCase:!1,multiline:!1,dotAll:!1,sticky:!1,unicode:!1}),y=new f({global:!1,ignoreCase:!1,multiline:!0,dotAll:!1,sticky:!1,unicode:!1}),v=new a.Monoid((function(){return p}),m),g=new f({global:!1,ignoreCase:!0,multiline:!1,dotAll:!1,sticky:!1,unicode:!1}),b=new f({global:!0,ignoreCase:!1,multiline:!1,dotAll:!1,sticky:!1,unicode:!1}),w=new i.Eq((function(e){return function(t){return e.value0.global===t.value0.global&&e.value0.ignoreCase===t.value0.ignoreCase&&e.value0.multiline===t.value0.multiline&&e.value0.dotAll===t.value0.dotAll&&e.value0.sticky===t.value0.sticky&&e.value0.unicode===t.value0.unicode}})),E=new f({global:!1,ignoreCase:!1,multiline:!1,dotAll:!0,sticky:!1,unicode:!1});e.exports={RegexFlags:f,noFlags:m,global:b,ignoreCase:g,multiline:y,sticky:d,unicode:l,dotAll:E,semigroupRegexFlags:p,monoidRegexFlags:v,eqRegexFlags:w,showRegexFlags:h}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(89),c=n(40),f=n(74),l=n(93),d=n(73),h=n(46),p=n(78),m=n(54),y=n(41),v=n(2),g=n(28),b=n(20),w=n(18),E=n(24),_=function(e){return e},S=function(e){return e},T=new s.Lazy((function(e){return function(t){return e(E.unit)(t)}})),A=new v.Functor((function(e){return function(t){var n=v.map(y.functorEither)((function(t){return{result:e(t.result),suffix:t.suffix}}));return function(e){return n(t(e))}}})),P=function(e){return function(t){return new y.Left({pos:t.pos,error:e})}},k=new a.Apply((function(){return A}),(function(e){return function(t){return function(n){return u.bind(y.bindEither)(e(n))((function(e){return u.bind(y.bindEither)(t(e.suffix))((function(t){return o.pure(y.applicativeEither)({result:e.result(t.result),suffix:t.suffix})}))}))}}})),x=new u.Bind((function(){return k}),(function(e){return function(t){return function(n){return u.bind(y.bindEither)(e(n))((function(e){return t(e.result)(e.suffix)}))}}})),C=function(e){return new b.Semigroup(a.lift2(k)(b.append(e)))},R=new o.Applicative((function(){return k}),(function(e){return function(t){return new y.Right({result:e,suffix:t})}})),I=new c.Monad((function(){return R}),(function(){return x})),O=new f.MonadRec((function(){return I}),(function(e){return function(t){var n=function(e){if(e.result instanceof f.Loop)return new f.Loop({state:e.result.value0,str:e.suffix});if(e.result instanceof f.Done)return new f.Done({result:e.result.value0,suffix:e.suffix});throw new Error("Failed pattern match at Text.Parsing.StringParser (line 90, column 7 - line 90, column 70): "+[e.constructor.name])};return function(r){return f.tailRecM(f.monadRecEither)((function(t){return v.map(y.functorEither)(n)(e(t.state)(t.str))}))({state:t,str:r})}}})),M=new r.Alt((function(){return A}),(function(e){return function(t){return function(n){var r=e(n);if(r instanceof y.Left){if(n.pos===r.value0.pos)return t(n);if(m.otherwise)return new y.Left({error:r.value0.error,pos:r.value0.pos})}return r}}})),N=new h.Plus((function(){return M}),P("No alternative")),D=new i.Alternative((function(){return R}),(function(){return N})),L=new l.MonadPlus((function(){return D}),(function(){return I})),j=new d.MonadZero((function(){return D}),(function(){return I}),(function(){}));e.exports={Parser:_,unParser:S,runParser:function(e){return function(t){return v.map(y.functorEither)((function(e){return e.result}))(e({str:t,pos:0}))}},printParserError:function(e){return e.error+"; pos = "+w.show(w.showInt)(e.pos)},fail:P,try:function(e){return function(t){return p.lmap(p.bifunctorEither)((function(e){return{pos:t.pos,error:e.error}}))(e(t))}},functorParser:A,applyParser:k,applicativeParser:R,altParser:M,plusParser:N,alternativeParser:D,bindParser:x,monadParser:I,monadZeroParser:j,monadPlusParser:L,monadRecParser:O,lazyParser:T,semigroupParser:C,monoidParser:function(e){return new g.Monoid((function(){return C(e.Semigroup0())}),o.pure(R)(g.mempty(e)))}}},function(e,t,n){(function(t){var n=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var n,r,i;try{n=Map}catch(e){n=function(){}}try{r=Set}catch(e){r=function(){}}try{i=Promise}catch(e){i=function(){}}function o(a,s,c,f,l){"object"==typeof s&&(c=s.depth,f=s.prototype,l=s.includeNonEnumerable,s=s.circular);var d=[],h=[],p=void 0!==t;return void 0===s&&(s=!0),void 0===c&&(c=1/0),function a(c,m){if(null===c)return null;if(0===m)return c;var y,v;if("object"!=typeof c)return c;if(e(c,n))y=new n;else if(e(c,r))y=new r;else if(e(c,i))y=new i((function(e,t){c.then((function(t){e(a(t,m-1))}),(function(e){t(a(e,m-1))}))}));else if(o.__isArray(c))y=[];else if(o.__isRegExp(c))y=new RegExp(c.source,u(c)),c.lastIndex&&(y.lastIndex=c.lastIndex);else if(o.__isDate(c))y=new Date(c.getTime());else{if(p&&t.isBuffer(c))return y=t.allocUnsafe?t.allocUnsafe(c.length):new t(c.length),c.copy(y),y;e(c,Error)?y=Object.create(c):void 0===f?(v=Object.getPrototypeOf(c),y=Object.create(v)):(y=Object.create(f),v=f)}if(s){var g=d.indexOf(c);if(-1!=g)return h[g];d.push(c),h.push(y)}for(var b in e(c,n)&&c.forEach((function(e,t){var n=a(t,m-1),r=a(e,m-1);y.set(n,r)})),e(c,r)&&c.forEach((function(e){var t=a(e,m-1);y.add(t)})),c){var w;v&&(w=Object.getOwnPropertyDescriptor(v,b)),w&&null==w.set||(y[b]=a(c[b],m-1))}if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(c);for(b=0;b<E.length;b++){var _=E[b];(!(T=Object.getOwnPropertyDescriptor(c,_))||T.enumerable||l)&&(y[_]=a(c[_],m-1),T.enumerable||Object.defineProperty(y,_,{enumerable:!1}))}}if(l){var S=Object.getOwnPropertyNames(c);for(b=0;b<S.length;b++){var T,A=S[b];(T=Object.getOwnPropertyDescriptor(c,A))&&T.enumerable||(y[A]=a(c[A],m-1),Object.defineProperty(y,A,{enumerable:!1}))}}return y}(a,c)}function a(e){return Object.prototype.toString.call(e)}function u(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=a,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===a(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===a(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===a(e)},o.__getRegExpFlags=u,o}();e.exports&&(e.exports=n)}).call(this,n(27).Buffer)},function(e,t,n){"use strict";var r,i,o,a=[n(740),n(741),n(742),n(743),n(744),n(745)],u=-1,s=[],c=!1;function f(){r&&i&&(r=!1,i.length?s=i.concat(s):u=-1,s.length&&l())}function l(){if(!r){c=!1,r=!0;for(var e=s.length,t=setTimeout(f);e;){for(i=s,s=[];i&&++u<e;)i[u].run();u=-1,e=s.length}i=null,u=-1,r=!1,clearTimeout(t)}}for(var d=-1,h=a.length;++d<h;)if(a[d]&&a[d].test&&a[d].test()){o=a[d].install(l);break}function p(e,t){this.fun=e,this.array=t}p.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new p(e,t)),c||r||(c=!0,o())}},function(e,t,n){var r=n(746),i=n(312),o=n(747),a=n(748);function u(t){var n="function"==typeof Map?new Map:void 0;return e.exports=u=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.default=e.exports,e.exports.__esModule=!0,u(t)}e.exports=u,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){!function(t){var n=function(e,t){return isNaN(t)||t<1?void 0:function(e,t){for(var n,r="",i=e.length;t--;){r+=e[(n=i,Math.floor(Math.random()*n))]}return r}(e,t)};function r(e){e="string"==typeof e&&e.length>0?e:"abcdefghijklmnopqrstuvwxzy0123456789";var t=n.bind(n,e);return t.salt=function(){return e},t.create=r,t.gen=r,t}n.gen=r,e.exports=r()}()},function(e,t,n){var r;e.exports=(r=n(140),n(841),n(842),n(497),n(845),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,i=[],o=[],a=[],u=[],s=[],c=[],f=[],l=[],d=[],h=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,i[n]=p,o[p]=n;var m=e[n],y=e[m],v=e[y],g=257*e[p]^16843008*p;a[n]=g<<24|g>>>8,u[n]=g<<16|g>>>16,s[n]=g<<8|g>>>24,c[n]=g,g=16843009*v^65537*y^257*m^16843008*n,f[p]=g<<24|g>>>8,l[p]=g<<16|g>>>16,d[p]=g<<8|g>>>24,h[p]=g,n?(n=m^e[e[e[v^m]]],r^=e[e[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<r;a++)a<n?o[a]=t[a]:(c=o[a-1],a%n?n>6&&a%n==4&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=i[(c=c<<8|c>>>24)>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=p[a/n|0]<<24),o[a]=o[a-n]^c);for(var u=this._invKeySchedule=[],s=0;s<r;s++){if(a=r-s,s%4)var c=o[a];else c=o[a-4];u[s]=s<4||a<=4?c:f[i[c>>>24]]^l[i[c>>>16&255]]^d[i[c>>>8&255]]^h[i[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,u,s,c,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,f,l,d,h,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,u){for(var s=this._nRounds,c=e[t]^n[0],f=e[t+1]^n[1],l=e[t+2]^n[2],d=e[t+3]^n[3],h=4,p=1;p<s;p++){var m=r[c>>>24]^i[f>>>16&255]^o[l>>>8&255]^a[255&d]^n[h++],y=r[f>>>24]^i[l>>>16&255]^o[d>>>8&255]^a[255&c]^n[h++],v=r[l>>>24]^i[d>>>16&255]^o[c>>>8&255]^a[255&f]^n[h++],g=r[d>>>24]^i[c>>>16&255]^o[f>>>8&255]^a[255&l]^n[h++];c=m,f=y,l=v,d=g}m=(u[c>>>24]<<24|u[f>>>16&255]<<16|u[l>>>8&255]<<8|u[255&d])^n[h++],y=(u[f>>>24]<<24|u[l>>>16&255]<<16|u[d>>>8&255]<<8|u[255&c])^n[h++],v=(u[l>>>24]<<24|u[d>>>16&255]<<16|u[c>>>8&255]<<8|u[255&f])^n[h++],g=(u[d>>>24]<<24|u[c>>>16&255]<<16|u[f>>>8&255]<<8|u[255&l])^n[h++],e[t]=m,e[t+1]=y,e[t+2]=v,e[t+3]=g},keySize:8});e.AES=t._createHelper(m)}(),r.AES)},function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(e);else if(o===t.length-2){i[t.pop()]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,i,o,a,u,s,c,f,l,d="";n=t.pop();)if(r=n.obj,d+=n.prefix||"",i=n.val||"")d+=i;else if("object"!=typeof r)d+=void 0===r?null:JSON.stringify(r);else if(null===r)d+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),o=r.length-1;o>=0;o--)a=0===o?"":",",t.push({obj:r[o],prefix:a});t.push({val:"["})}else{for(s in u=[],r)r.hasOwnProperty(s)&&u.push(s);for(t.push({val:"}"}),o=u.length-1;o>=0;o--)f=r[c=u[o]],l=o>0?",":"",l+=JSON.stringify(c)+":",t.push({obj:f,prefix:l});t.push({val:"{"})}return d},t.parse=function(e){for(var t,n,i,o,a,u,s,c,f,l=[],d=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,r(null,l,d);break;case"t":h+=3,r(!0,l,d);break;case"f":h+=4,r(!1,l,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",h--;;){if(i=e[h++],!/[\d\.\-e\+]/.test(i)){h--;break}n+=i}r(parseFloat(n),l,d);break;case'"':for(o="",a=void 0,u=0;'"'!==(s=e[h++])||"\\"===a&&u%2==1;)o+=s,"\\"===(a=s)?u++:u=0;r(JSON.parse('"'+o+'"'),l,d);break;case"[":c={element:[],index:l.length},l.push(c.element),d.push(c);break;case"{":f={element:{},index:l.length},l.push(f.element),d.push(f);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===l.length)return l.pop();r(l.pop(),l,d)}}},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";var r=n(158),i=n(248),o=n(432),a=n(433),u=n(720),s=i(a(),Object);r(s,{getPolyfill:a,implementation:o,shim:u}),e.exports=s},function(e,t,n){"use strict";var r=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!r(e)||!r(t))}},function(e,t,n){"use strict";var r=n(432);e.exports=function(){return"function"==typeof Object.is?Object.is:r}},function(e,t,n){"use strict";var r,i,o,a,u=n(124),s=n(247)()&&!!Symbol.toStringTag;if(s){r=u("Object.prototype.hasOwnProperty"),i=u("RegExp.prototype.exec"),o={};var c=function(){throw o};a={toString:c,valueOf:c},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=c)}var f=u("Object.prototype.toString"),l=Object.getOwnPropertyDescriptor;e.exports=s?function(e){if(!e||"object"!=typeof e)return!1;var t=l(e,"lastIndex");if(!(t&&r(t,"value")))return!1;try{i(e,a)}catch(e){return e===o}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===f(e)}},function(e,t,n){"use strict";var r=n(158),i=n(248),o=n(436),a=n(437),u=n(721),s=i(o);r(s,{getPolyfill:a,implementation:o,shim:u}),e.exports=s},function(e,t,n){"use strict";var r=Object,i=TypeError;e.exports=function(){if(null!=this&&this!==r(this))throw new i("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},function(e,t,n){"use strict";var r=n(436),i=n(158).supportsDescriptors,o=Object.getOwnPropertyDescriptor,a=TypeError;e.exports=function(){if(!i)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return r}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,o="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Date]"===i.call(e))}},function(e,t,n){"use strict";var r=String.prototype.valueOf,i=Object.prototype.toString,o="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"string"==typeof e||"object"==typeof e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object String]"===i.call(e))}},function(e,t,n){"use strict";var r,i="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;i||(r=function(e){return!1});var a=i?Map.prototype.has:null,u=o?Set.prototype.has:null;r||a||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!=typeof e)return!1;try{if(a.call(e),u)try{u.call(e)}catch(e){return!0}return e instanceof i}catch(e){}return!1}},function(e,t,n){"use strict";var r,i="function"==typeof Map&&Map.prototype?Map:null,o="function"==typeof Set&&Set.prototype?Set:null;o||(r=function(e){return!1});var a=i?Map.prototype.has:null,u=o?Set.prototype.has:null;r||u||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!=typeof e)return!1;try{if(u.call(e),a)try{a.call(e)}catch(e){return!0}return e instanceof o}catch(e){}return!1}},function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,t,i){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;a<o;a++)t.call(i,e[a],a,e);else for(var u in e)n.call(e,u)&&t.call(i,e[u],u,e)}},function(e,t,n){"use strict";(function(t){var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"];e.exports=function(){for(var e=[],r=0;r<n.length;r++)"function"==typeof t[n[r]]&&(e[e.length]=n[r]);return e}}).call(this,n(48))},function(e,t,n){"use strict";var r=n(180)("%Object.getOwnPropertyDescriptor%");if(r)try{r([],"length")}catch(e){r=null}e.exports=r},function(e,t,n){"use strict";var r=n(246),i=function(e){return null!=e},o=n(247)(),a=n(124),u=Object,s=a("Array.prototype.push"),c=a("Object.prototype.propertyIsEnumerable"),f=o?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(!i(e))throw new TypeError("target must be an object");var n,a,l,d,h,p,m,y=u(e);for(n=1;n<arguments.length;++n){a=u(arguments[n]),d=r(a);var v=o&&(Object.getOwnPropertySymbols||f);if(v)for(h=v(a),l=0;l<h.length;++l)m=h[l],c(a,m)&&s(d,m);for(l=0;l<d.length;++l)p=a[m=d[l]],c(a,m)&&(y[m]=p)}return y}},function(e,t,n){"use strict";var r=n(446);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var i=Object.assign({},n),o="";for(var a in i)o+=a;return e!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?r:Object.assign:r}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";e.exports=function(e){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(e)}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(u(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),s=r[n];n<o;s=r[++n])m(s)||!w(s)?a+=" "+s:a+=" "+u(s);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function u(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),g(r.showHidden)&&(r.showHidden=!1),g(r.depth)&&(r.depth=2),g(r.colors)&&(r.colors=!1),g(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),f(r,e,r.depth)}function s(e,t){var n=u.styles[t];return n?"["+u.colors[n][0]+"m"+e+"["+u.colors[n][1]+"m":e}function c(e,t){return e}function f(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return v(i)||(i=f(e,i,r)),i}var o=function(e,t){if(g(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(y(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),u=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),_(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(n);if(0===a.length){if(S(n)){var s=n.name?": "+n.name:"";return e.stylize("[Function"+s+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(E(n))return e.stylize(Date.prototype.toString.call(n),"date");if(_(n))return l(n)}var c,w="",T=!1,A=["{","}"];(h(n)&&(T=!0,A=["[","]"]),S(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),E(n)&&(w=" "+Date.prototype.toUTCString.call(n)),_(n)&&(w=" "+l(n)),0!==a.length||T&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=T?function(e,t,n,r,i){for(var o=[],a=0,u=t.length;a<u;++a)x(t,String(a))?o.push(d(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))})),o}(e,n,r,u,a):a.map((function(t){return d(e,n,r,u,t,T)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,w,A)):A[0]+w+A[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,o){var a,u,s;if((s=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?u=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(u=e.stylize("[Setter]","special")),x(r,i)||(a="["+i+"]"),u||(e.seen.indexOf(s.value)<0?(u=m(n)?f(e,s.value,null):f(e,s.value,n-1)).indexOf("\n")>-1&&(u=o?u.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+u.split("\n").map((function(e){return"   "+e})).join("\n")):u=e.stylize("[Circular]","special")),g(a)){if(o&&i.match(/^\d+$/))return u;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+u}function h(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function y(e){return"number"==typeof e}function v(e){return"string"==typeof e}function g(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===T(e)}function w(e){return"object"==typeof e&&null!==e}function E(e){return w(e)&&"[object Date]"===T(e)}function _(e){return w(e)&&("[object Error]"===T(e)||e instanceof Error)}function S(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function A(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(g(o)&&(o=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=g,t.isRegExp=b,t.isObject=w,t.isDate=E,t.isError=_,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(754);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[A(e.getHours()),A(e.getMinutes()),A(e.getSeconds())].join(":");return[e.getDate(),P[e.getMonth()],t].join(" ")}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",k(),t.format.apply(t,arguments))},t.inherits=n(755),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=C,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(R,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(49))},function(e,t,n){"use strict";var r=n(38).Buffer,i=n(249).Transform;function o(e){i.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(22)(o,i),o.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(e){r=e}n(r)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var a=0,u=8*e.length;u>0;++a)this._length[a]+=u,(u=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*u);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},function(e,t,n){"use strict";(function(t,r){var i;e.exports=A,A.ReadableState=T;n(33).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=n(453),u=n(27).Buffer,s=t.Uint8Array||function(){};var c,f=n(761);c=f&&f.debuglog?f.debuglog("stream"):function(){};var l,d,h,p=n(762),m=n(454),y=n(455).getHighWaterMark,v=n(181).codes,g=v.ERR_INVALID_ARG_TYPE,b=v.ERR_STREAM_PUSH_AFTER_EOF,w=v.ERR_METHOD_NOT_IMPLEMENTED,E=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(22)(A,a);var _=m.errorOrDestroy,S=["error","close","destroy","pause","resume"];function T(e,t,r){i=i||n(182),e=e||{},"boolean"!=typeof r&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=n(211).StringDecoder),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function A(e){if(i=i||n(182),!(this instanceof A))return new A(e);var t=this instanceof i;this._readableState=new T(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function P(e,t,n,r,i){c("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?C(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}(e,a);else if(i||(o=function(e,t){var n;r=t,u.isBuffer(r)||r instanceof s||"string"==typeof t||void 0===t||e.objectMode||(n=new g("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(a,t)),o)_(e,o);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r)a.endEmitted?_(e,new E):k(e,a,t,!0);else if(a.ended)_(e,new b);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?k(e,a,t,!1):I(e,a)):k(e,a,t,!1)}else r||(a.reading=!1,I(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function k(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&C(e)),I(e,t)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),A.prototype.destroy=m.destroy,A.prototype._undestroy=m.undestroy,A.prototype._destroy=function(e,t){t(e)},A.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),P(this,e,t,!1,n)},A.prototype.unshift=function(e){return P(this,e,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(e){l||(l=n(211).StringDecoder);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function C(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(R,e))}function R(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function I(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(c("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function M(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){c("readable nexttick read 0"),e.read(0)}function D(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function B(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(F,t,e))}function F(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function U(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}A.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):C(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&B(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(n,t))),null===(r=e>0?j(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&B(this)),null!==r&&this.emit("data",r),r},A.prototype._read=function(e){_(this,new w("_read()"))},A.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,c("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?s:y;function u(t,r){c("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",m),e.removeListener("drain",f),e.removeListener("error",h),e.removeListener("unpipe",u),n.removeListener("end",s),n.removeListener("end",y),n.removeListener("data",d),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function s(){c("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",u);var f=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,L(e))}}(n);e.on("drain",f);var l=!1;function d(t){c("ondata");var r=e.write(t);c("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==U(i.pipes,e))&&!l&&(c("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function h(t){c("onerror",t),y(),e.removeListener("error",h),0===o(e,"error")&&_(e,t)}function p(){e.removeListener("finish",m),y()}function m(){c("onfinish"),e.removeListener("close",p),y()}function y(){c("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",h),e.once("close",p),e.once("finish",m),e.emit("pipe",n),i.flowing||(c("pipe resume"),n.resume()),e},A.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=U(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},A.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,c("on readable",i.length,i.reading),i.length?C(this):i.reading||r.nextTick(N,this))),n},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(M,this),n},A.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(M,this),t},A.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(D,e,t))}(this,e)),e.paused=!1,this},A.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<S.length;o++)e.on(S[o],this.emit.bind(this,S[o]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return void 0===d&&(d=n(764)),d(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),A._fromList=j,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(A.from=function(e,t){return void 0===h&&(h=n(765)),h(A,e,t)})}).call(this,n(48),n(49))},function(e,t,n){e.exports=n(33).EventEmitter},function(e,t,n){"use strict";(function(t){function n(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,u=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return u||s?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(i,this,e)):t.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?a._writableState?a._writableState.errorEmitted?t.nextTick(r,a):(a._writableState.errorEmitted=!0,t.nextTick(n,a,e)):t.nextTick(n,a,e):o?(t.nextTick(r,a),o(e)):t.nextTick(r,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,n(49))},function(e,t,n){"use strict";var r=n(181).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";(function(t,r){function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var o;e.exports=A,A.WritableState=T;var a={deprecate:n(457)},u=n(453),s=n(27).Buffer,c=t.Uint8Array||function(){};var f,l=n(454),d=n(455).getHighWaterMark,h=n(181).codes,p=h.ERR_INVALID_ARG_TYPE,m=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_MULTIPLE_CALLBACK,v=h.ERR_STREAM_CANNOT_PIPE,g=h.ERR_STREAM_DESTROYED,b=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,E=h.ERR_UNKNOWN_ENCODING,_=l.errorOrDestroy;function S(){}function T(e,t,a){o=o||n(182),e=e||{},"boolean"!=typeof a&&(a=t instanceof o),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=d(this,e,"writableHighWaterMark",a),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(I,e,t),e._writableState.errorEmitted=!0,_(e,i)):(o(i),e._writableState.errorEmitted=!0,_(e,i),I(e,t))}(e,n,i,t,o);else{var a=C(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||x(e,n),i?r.nextTick(k,e,n,a,o):k(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function A(e){var t=this instanceof(o=o||n(182));if(!t&&!f.call(A,this))return new A(e);this._writableState=new T(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function P(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new g("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function k(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),I(e,t)}function x(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var u=0,s=!0;n;)o[u]=n,n.isBuf||(s=!1),n=n.next,u+=1;o.allBuffers=s,P(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,f=n.encoding,l=n.callback;if(P(e,t,!1,t.objectMode?1:c.length,c,f,l),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(n){t.pendingcb--,n&&_(e,n),t.prefinished=!0,e.emit("prefinish"),I(e,t)}))}function I(e,t){var n=C(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(R,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}n(22)(A,u),T.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(T.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===A&&(e&&e._writableState instanceof T)}})):f=function(e){return e instanceof this},A.prototype.pipe=function(){_(this,new v)},A.prototype.write=function(e,t,n){var i,o=this._writableState,a=!1,u=!o.objectMode&&(i=e,s.isBuffer(i)||i instanceof c);return u&&!s.isBuffer(e)&&(e=function(e){return s.from(e)}(e)),"function"==typeof t&&(n=t,t=null),u?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=S),o.ending?function(e,t){var n=new w;_(e,n),r.nextTick(t,n)}(this,n):(u||function(e,t,n,i){var o;return null===n?o=new b:"string"==typeof n||t.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(_(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=s.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var u=t.objectMode?1:r.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else P(e,t,!1,u,r,i,o);return c}(this,o,u,e,t,n)),a},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},A.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(A.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(e,t,n){n(new m("_write()"))},A.prototype._writev=null,A.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,I(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(A.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),A.prototype.destroy=l.destroy,A.prototype._undestroy=l.undestroy,A.prototype._destroy=function(e,t){t(e)}}).call(this,n(48),n(49))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(48))},function(e,t,n){"use strict";e.exports=f;var r=n(181).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,u=r.ERR_TRANSFORM_WITH_LENGTH_0,s=n(182);function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function f(e){if(!(this instanceof f))return new f(e);s.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",l)}function l(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new u;if(e._transformState.transforming)throw new a;return e.push(null)}n(22)(f,s),f.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},f.prototype._transform=function(e,t,n){n(new i("_transform()"))},f.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},f.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},f.prototype._destroy=function(e,t){s.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,n){var r=n(22),i=n(183),o=n(38).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=new Array(64);function s(){this.init(),this._w=u,i.call(this,64,56)}function c(e,t,n){return n^e&(t^n)}function f(e,t,n){return e&t|n&(e|t)}function l(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function d(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(s,i),s.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},s.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,u=0|this._d,s=0|this._e,p=0|this._f,m=0|this._g,y=0|this._h,v=0;v<16;++v)n[v]=e.readInt32BE(4*v);for(;v<64;++v)n[v]=0|(((t=n[v-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[v-7]+h(n[v-15])+n[v-16];for(var g=0;g<64;++g){var b=y+d(s)+c(s,p,m)+a[g]+n[g]|0,w=l(r)+f(r,i,o)|0;y=m,m=p,p=s,s=u+b|0,u=o,o=i,i=r,r=b+w|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=u+this._d|0,this._e=s+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=y+this._h|0},s.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=s},function(e,t,n){var r=n(22),i=n(183),o=n(38).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],u=new Array(160);function s(){this.init(),this._w=u,i.call(this,128,112)}function c(e,t,n){return n^e&(t^n)}function f(e,t,n){return e&t|n&(e|t)}function l(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function d(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function v(e,t){return e>>>0<t>>>0?1:0}r(s,i),s.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},s.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,u=0|this._eh,s=0|this._fh,g=0|this._gh,b=0|this._hh,w=0|this._al,E=0|this._bl,_=0|this._cl,S=0|this._dl,T=0|this._el,A=0|this._fl,P=0|this._gl,k=0|this._hl,x=0;x<32;x+=2)t[x]=e.readInt32BE(4*x),t[x+1]=e.readInt32BE(4*x+4);for(;x<160;x+=2){var C=t[x-30],R=t[x-30+1],I=h(C,R),O=p(R,C),M=m(C=t[x-4],R=t[x-4+1]),N=y(R,C),D=t[x-14],L=t[x-14+1],j=t[x-32],B=t[x-32+1],F=O+L|0,U=I+D+v(F,O)|0;U=(U=U+M+v(F=F+N|0,N)|0)+j+v(F=F+B|0,B)|0,t[x]=U,t[x+1]=F}for(var q=0;q<160;q+=2){U=t[q],F=t[q+1];var H=f(n,r,i),K=f(w,E,_),V=l(n,w),z=l(w,n),W=d(u,T),G=d(T,u),$=a[q],J=a[q+1],Q=c(u,s,g),Y=c(T,A,P),X=k+G|0,Z=b+W+v(X,k)|0;Z=(Z=(Z=Z+Q+v(X=X+Y|0,Y)|0)+$+v(X=X+J|0,J)|0)+U+v(X=X+F|0,F)|0;var ee=z+K|0,te=V+H+v(ee,z)|0;b=g,k=P,g=s,P=A,s=u,A=T,u=o+Z+v(T=S+X|0,S)|0,o=i,S=_,i=r,_=E,r=n,E=w,n=Z+te+v(w=X+ee|0,X)|0}this._al=this._al+w|0,this._bl=this._bl+E|0,this._cl=this._cl+_|0,this._dl=this._dl+S|0,this._el=this._el+T|0,this._fl=this._fl+A|0,this._gl=this._gl+P|0,this._hl=this._hl+k|0,this._ah=this._ah+n+v(this._al,w)|0,this._bh=this._bh+r+v(this._bl,E)|0,this._ch=this._ch+i+v(this._cl,_)|0,this._dh=this._dh+o+v(this._dl,S)|0,this._eh=this._eh+u+v(this._el,T)|0,this._fh=this._fh+s+v(this._fl,A)|0,this._gh=this._gh+g+v(this._gl,P)|0,this._hh=this._hh+b+v(this._hl,k)|0},s.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=s},function(e,t,n){"use strict";(function(t,r){var i=n(250);e.exports=b;var o,a=n(448);b.ReadableState=g;n(33).EventEmitter;var u=function(e,t){return e.listeners(t).length},s=n(462),c=n(318).Buffer,f=t.Uint8Array||function(){};var l=Object.create(n(212));l.inherits=n(22);var d=n(773),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,m=n(774),y=n(463);l.inherits(b,s);var v=["error","close","destroy","pause","resume"];function g(e,t){e=e||{};var r=t instanceof(o=o||n(159));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,a=e.readableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:u,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(211).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||n(159),!(this instanceof b))return new b(e);this._readableState=new g(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function w(e,t,n,r,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}(e,a)):(i||(o=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof f||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):E(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?E(e,a,t,!1):A(e,a)):E(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function E(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),A(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=y.destroy,b.prototype._undestroy=y.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),w(this,e,t,!1,n)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=n(211).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function _(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(T,e):T(e))}function T(e){h("emit readable"),e.emit("readable"),C(e)}function A(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(P,e,t))}function P(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function k(e){h("readable nexttick read 0"),e.read(0)}function x(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),C(e),t.flowing&&!t.reading&&e.read(0)}function C(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function I(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(O,t,e))}function O(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function M(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):S(this),null;if(0===(e=_(e,t))&&t.ended)return 0===t.length&&I(this),null;var r,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=_(n,t))),null===(r=e>0?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&I(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,t);var s=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?f:b;function c(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",v),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",y),e.removeListener("unpipe",c),n.removeListener("end",f),n.removeListener("end",b),n.removeListener("data",m),d=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function f(){h("onend"),e.end()}o.endEmitted?i.nextTick(s):n.once("end",s),e.on("unpipe",c);var l=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&u(e,"data")&&(t.flowing=!0,C(e))}}(n);e.on("drain",l);var d=!1;var p=!1;function m(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==M(o.pipes,e))&&!d&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function y(t){h("onerror",t),b(),e.removeListener("error",y),0===u(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",g),b()}function g(){h("onfinish"),e.removeListener("close",v),b()}function b(){h("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",y),e.once("close",v),e.once("finish",g),e.emit("pipe",n),o.flowing||(h("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=M(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(k,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(x,e,t))}(this,e)),this},b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<v.length;o++)e.on(v[o],this.emit.bind(this,v[o]));return this._read=function(t){h("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=R}).call(this,n(48),n(49))},function(e,t,n){e.exports=n(33).EventEmitter},function(e,t,n){"use strict";var r=n(250);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";e.exports=a;var r=n(159),i=Object.create(n(212));function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){s(e,t,n)})):s(this,null,null)}function s(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(22),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){"use strict";var r=n(22),i=n(782),o=n(142),a=n(38).Buffer,u=n(466),s=n(315),c=n(316),f=a.alloc(128);function l(e,t){o.call(this,"digest"),"string"==typeof t&&(t=a.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new s:c(e)).update(t).digest():t.length<n&&(t=a.concat([t,f],n));for(var r=this._ipad=a.allocUnsafe(n),i=this._opad=a.allocUnsafe(n),u=0;u<n;u++)r[u]=54^t[u],i[u]=92^t[u];this._hash="rmd160"===e?new s:c(e),this._hash.update(r)}r(l,o),l.prototype._update=function(e){this._hash.update(e)},l.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new s:c(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new l("rmd160",t):"md5"===e?new i(u,t):new l(e,t)}},function(e,t,n){var r=n(313);e.exports=function(e){return(new r).update(e).digest()}},function(e){e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},function(e,t,n){t.pbkdf2=n(784),t.pbkdf2Sync=n(471)},function(e,t){var n=Math.pow(2,30)-1;e.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||t>n||t!=t)throw new TypeError("Bad key length")}},function(e,t,n){(function(t,n){var r;if(t.process&&t.process.browser)r="utf-8";else if(t.process&&t.process.version){r=parseInt(n.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}else r="utf-8";e.exports=r}).call(this,n(48),n(49))},function(e,t,n){var r=n(466),i=n(315),o=n(316),a=n(38).Buffer,u=n(469),s=n(470),c=n(472),f=a.alloc(128),l={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(e,t,n){var u=function(e){function t(t){return o(e).update(t).digest()}return"rmd160"===e||"ripemd160"===e?function(e){return(new i).update(e).digest()}:"md5"===e?r:t}(e),s="sha512"===e||"sha384"===e?128:64;t.length>s?t=u(t):t.length<s&&(t=a.concat([t,f],s));for(var c=a.allocUnsafe(s+l[e]),d=a.allocUnsafe(s+l[e]),h=0;h<s;h++)c[h]=54^t[h],d[h]=92^t[h];var p=a.allocUnsafe(s+n+4);c.copy(p,0,0,s),this.ipad1=p,this.ipad2=c,this.opad=d,this.alg=e,this.blocksize=s,this.hash=u,this.size=l[e]}d.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,n,r,i){u(n,r);var o=new d(i=i||"sha1",e=c(e,s,"Password"),(t=c(t,s,"Salt")).length),f=a.allocUnsafe(r),h=a.allocUnsafe(t.length+4);t.copy(h,0,0,t.length);for(var p=0,m=l[i],y=Math.ceil(r/m),v=1;v<=y;v++){h.writeUInt32BE(v,t.length);for(var g=o.run(h,o.ipad1),b=g,w=1;w<n;w++){b=o.run(b,o.ipad2);for(var E=0;E<m;E++)g[E]^=b[E]}g.copy(f,p),p+=m}return f}},function(e,t,n){var r=n(38).Buffer;e.exports=function(e,t,n){if(r.isBuffer(e))return e;if("string"==typeof e)return r.from(e,t);if(ArrayBuffer.isView(e))return r.from(e.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}},function(e,t,n){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,r){for(var i=0,o=0,a=6;a>=0;a-=2){for(var u=0;u<=24;u+=8)i<<=1,i|=t>>>u+a&1;for(u=0;u<=24;u+=8)i<<=1,i|=e>>>u+a&1}for(a=6;a>=0;a-=2){for(u=1;u<=25;u+=8)o<<=1,o|=t>>>u+a&1;for(u=1;u<=25;u+=8)o<<=1,o|=e>>>u+a&1}n[r+0]=i>>>0,n[r+1]=o>>>0},t.rip=function(e,t,n,r){for(var i=0,o=0,a=0;a<4;a++)for(var u=24;u>=0;u-=8)i<<=1,i|=t>>>u+a&1,i<<=1,i|=e>>>u+a&1;for(a=4;a<8;a++)for(u=24;u>=0;u-=8)o<<=1,o|=t>>>u+a&1,o<<=1,o|=e>>>u+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},t.pc1=function(e,t,n,r){for(var i=0,o=0,a=7;a>=5;a--){for(var u=0;u<=24;u+=8)i<<=1,i|=t>>u+a&1;for(u=0;u<=24;u+=8)i<<=1,i|=e>>u+a&1}for(u=0;u<=24;u+=8)i<<=1,i|=t>>u+a&1;for(a=1;a<=3;a++){for(u=0;u<=24;u+=8)o<<=1,o|=t>>u+a&1;for(u=0;u<=24;u+=8)o<<=1,o|=e>>u+a&1}for(u=0;u<=24;u+=8)o<<=1,o|=e>>u+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,n,i){for(var o=0,a=0,u=r.length>>>1,s=0;s<u;s++)o<<=1,o|=e>>>r[s]&1;for(s=u;s<r.length;s++)a<<=1,a|=t>>>r[s]&1;n[i+0]=o>>>0,n[i+1]=a>>>0},t.expand=function(e,t,n){var r=0,i=0;r=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[n+0]=r>>>0,t[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,r=0;r<4;r++){n<<=4,n|=i[64*r+(e>>>18-6*r&63)]}for(r=0;r<4;r++){n<<=4,n|=i[256+64*r+(t>>>18-6*r&63)]}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<o.length;n++)t<<=1,t|=e>>>o[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var i=[],o=0;o<t;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},function(e,t,n){"use strict";var r=n(98),i=n(22),o=n(473),a=n(320);function u(){this.tmp=new Array(2),this.keys=null}function s(e){a.call(this,e);var t=new u;this._desState=t,this.deriveKeys(t,e.key)}i(s,a),e.exports=s,s.create=function(e){return new s(e)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];s.prototype.deriveKeys=function(e,t){e.keys=new Array(32),r.equal(t.length,this.blockSize,"Invalid key length");var n=o.readUInt32BE(t,0),i=o.readUInt32BE(t,4);o.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var u=c[a>>>1];n=o.r28shl(n,u),i=o.r28shl(i,u),o.pc2(n,i,e.keys,a)}},s.prototype._update=function(e,t,n,r){var i=this._desState,a=o.readUInt32BE(e,t),u=o.readUInt32BE(e,t+4);o.ip(a,u,i.tmp,0),a=i.tmp[0],u=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,u,i.tmp,0):this._decrypt(i,a,u,i.tmp,0),a=i.tmp[0],u=i.tmp[1],o.writeUInt32BE(n,a,r),o.writeUInt32BE(n,u,r+4)},s.prototype._pad=function(e,t){for(var n=e.length-t,r=t;r<e.length;r++)e[r]=n;return!0},s.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)r.equal(e[n],t);return e.slice(0,e.length-t)},s.prototype._encrypt=function(e,t,n,r,i){for(var a=t,u=n,s=0;s<e.keys.length;s+=2){var c=e.keys[s],f=e.keys[s+1];o.expand(u,e.tmp,0),c^=e.tmp[0],f^=e.tmp[1];var l=o.substitute(c,f),d=u;u=(a^o.permute(l))>>>0,a=d}o.rip(u,a,r,i)},s.prototype._decrypt=function(e,t,n,r,i){for(var a=n,u=t,s=e.keys.length-2;s>=0;s-=2){var c=e.keys[s],f=e.keys[s+1];o.expand(a,e.tmp,0),c^=e.tmp[0],f^=e.tmp[1];var l=o.substitute(c,f),d=a;a=(u^o.permute(l))>>>0,u=d}o.rip(a,u,r,i)}},function(e,t,n){var r=n(213),i=n(38).Buffer,o=n(476);function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var n=Math.ceil(t.length/16),o=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*n)]);for(var u=0;u<n;u++){var s=a(e),c=o+16*u;e._cache.writeUInt32BE(s[0],c+0),e._cache.writeUInt32BE(s[1],c+4),e._cache.writeUInt32BE(s[2],c+8),e._cache.writeUInt32BE(s[3],c+12)}var f=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),r(t,f)}},function(e,t){e.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}},function(e){e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},function(e,t,n){var r=n(251),i=n(38).Buffer,o=n(142),a=n(22),u=n(797),s=n(213),c=n(476);function f(e,t,n,a){o.call(this);var s=i.alloc(4,0);this._cipher=new r.AES(t);var f=this._cipher.encryptBlock(s);this._ghash=new u(f),n=function(e,t,n){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var r=new u(n),o=t.length,a=o%16;r.update(t),a&&(a=16-a,r.update(i.alloc(a,0))),r.update(i.alloc(8,0));var s=8*o,f=i.alloc(8);f.writeUIntBE(s,0,8),r.update(f),e._finID=r.state;var l=i.from(e._finID);return c(l),l}(this,n,f),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(f,o),f.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=s(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var n=0;e.length!==t.length&&n++;for(var r=Math.min(e.length,t.length),i=0;i<r;++i)n+=e[i]^t[i];return n}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},f.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=f},function(e,t,n){var r=n(251),i=n(38).Buffer,o=n(142);function a(e,t,n,a){o.call(this),this._cipher=new r.AES(t),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=e}n(22)(a,o),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},function(e,t,n){var r=n(141);e.exports=g,g.simpleSieve=y,g.fermatTest=v;var i=n(72),o=new i(24),a=new(n(482)),u=new i(1),s=new i(2),c=new i(5),f=(new i(16),new i(8),new i(10)),l=new i(3),d=(new i(7),new i(11)),h=new i(4),p=(new i(12),null);function m(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<t&&e[i]<=r&&n%e[i]!=0;i++);t!==i&&e[i]<=r||(e[t++]=n)}return p=e,e}function y(e){for(var t=m(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function v(e){var t=i.mont(e);return 0===s.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function g(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var n,p;for(t=new i(t);;){for(n=new i(r(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(u),n.testn(1)||n.iadd(s),t.cmp(s)){if(!t.cmp(c))for(;n.mod(f).cmp(l);)n.iadd(h)}else for(;n.mod(o).cmp(d);)n.iadd(h);if(y(p=n.shrn(1))&&y(n)&&v(p)&&v(n)&&a.test(p)&&a.test(n))return n}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(72),i=n(323);function o(e){this.rand=e||new i.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(e)>=0);return i},o.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},o.prototype.test=function(e,t,n){var i=e.bitLength(),o=r.mont(e),a=new r(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var u=e.subn(1),s=0;!u.testn(s);s++);for(var c=e.shrn(s),f=u.toRed(o);t>0;t--){var l=this._randrange(new r(2),u);n&&n(l);var d=l.toRed(o).redPow(c);if(0!==d.cmp(a)&&0!==d.cmp(f)){for(var h=1;h<s;h++){if(0===(d=d.redSqr()).cmp(a))return!1;if(0===d.cmp(f))break}if(h===s)return!1}}return!0},o.prototype.getDivisor=function(e,t){var n=e.bitLength(),i=r.mont(e),o=new r(1).toRed(i);t||(t=Math.max(1,n/48|0));for(var a=e.subn(1),u=0;!a.testn(u);u++);for(var s=e.shrn(u),c=a.toRed(i);t>0;t--){var f=this._randrange(new r(2),a),l=e.gcd(f);if(0!==l.cmpn(1))return l;var d=f.toRed(i).redPow(s);if(0!==d.cmp(o)&&0!==d.cmp(c)){for(var h=1;h<u;h++){if(0===(d=d.redSqr()).cmp(o))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(c))break}if(h===u)return(d=d.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},function(e,t,n){"use strict";var r=t;function i(e){return 1===e.length?"0"+e:e}function o(e){for(var t="",n=0;n<e.length;n++)t+=i(e[n].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!=typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}return n},r.zero2=i,r.toHex=o,r.encode=function(e,t){return"hex"===t?o(e):e}},function(e,t,n){"use strict";var r=t;r.base=n(254),r.short=n(809),r.mont=n(810),r.edwards=n(811)},function(e,t,n){"use strict";var r=n(110).rotr32;function i(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function a(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?a(t,n,r):2===e?o(t,n,r):void 0},t.ch32=i,t.maj32=o,t.p32=a,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},function(e,t,n){"use strict";var r=n(110),i=n(214),o=n(485),a=n(98),u=r.sum32,s=r.sum32_4,c=r.sum32_5,f=o.ch32,l=o.maj32,d=o.s0_256,h=o.s1_256,p=o.g0_256,m=o.g1_256,y=i.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}r.inherits(g,y),e.exports=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=s(m(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],y=this.h[2],v=this.h[3],g=this.h[4],b=this.h[5],w=this.h[6],E=this.h[7];for(a(this.k.length===n.length),r=0;r<n.length;r++){var _=c(E,h(g),f(g,b,w),this.k[r],n[r]),S=u(d(i),l(i,o,y));E=w,w=b,b=g,g=u(v,_),v=y,y=o,o=i,i=u(_,S)}this.h[0]=u(this.h[0],i),this.h[1]=u(this.h[1],o),this.h[2]=u(this.h[2],y),this.h[3]=u(this.h[3],v),this.h[4]=u(this.h[4],g),this.h[5]=u(this.h[5],b),this.h[6]=u(this.h[6],w),this.h[7]=u(this.h[7],E)},g.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(110),i=n(214),o=n(98),a=r.rotr64_hi,u=r.rotr64_lo,s=r.shr64_hi,c=r.shr64_lo,f=r.sum64,l=r.sum64_hi,d=r.sum64_lo,h=r.sum64_4_hi,p=r.sum64_4_lo,m=r.sum64_5_hi,y=r.sum64_5_lo,v=i.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}function w(e,t,n,r,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function E(e,t,n,r,i,o){var a=t&r^~t&o;return a<0&&(a+=4294967296),a}function _(e,t,n,r,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function S(e,t,n,r,i,o){var a=t&r^t&o^r&o;return a<0&&(a+=4294967296),a}function T(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function A(e,t){var n=u(e,t,28)^u(t,e,2)^u(t,e,7);return n<0&&(n+=4294967296),n}function P(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function k(e,t){var n=u(e,t,14)^u(e,t,18)^u(t,e,9);return n<0&&(n+=4294967296),n}function x(e,t){var n=a(e,t,1)^a(e,t,8)^s(e,t,7);return n<0&&(n+=4294967296),n}function C(e,t){var n=u(e,t,1)^u(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function R(e,t){var n=a(e,t,19)^a(t,e,29)^s(e,t,6);return n<0&&(n+=4294967296),n}function I(e,t){var n=u(e,t,19)^u(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(b,v),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=R(n[r-4],n[r-3]),o=I(n[r-4],n[r-3]),a=n[r-14],u=n[r-13],s=x(n[r-30],n[r-29]),c=C(n[r-30],n[r-29]),f=n[r-32],l=n[r-31];n[r]=h(i,o,a,u,s,c,f,l),n[r+1]=p(i,o,a,u,s,c,f,l)}},b.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],a=this.h[2],u=this.h[3],s=this.h[4],c=this.h[5],h=this.h[6],p=this.h[7],v=this.h[8],g=this.h[9],b=this.h[10],x=this.h[11],C=this.h[12],R=this.h[13],I=this.h[14],O=this.h[15];o(this.k.length===n.length);for(var M=0;M<n.length;M+=2){var N=I,D=O,L=P(v,g),j=k(v,g),B=w(v,g,b,x,C),F=E(v,g,b,x,C,R),U=this.k[M],q=this.k[M+1],H=n[M],K=n[M+1],V=m(N,D,L,j,B,F,U,q,H,K),z=y(N,D,L,j,B,F,U,q,H,K);N=T(r,i),D=A(r,i),L=_(r,i,a,u,s),j=S(r,i,a,u,s,c);var W=l(N,D,L,j),G=d(N,D,L,j);I=C,O=R,C=b,R=x,b=v,x=g,v=l(h,p,V,z),g=d(p,p,V,z),h=s,p=c,s=a,c=u,a=r,u=i,r=l(V,z,W,G),i=d(V,z,W,G)}f(this.h,0,r,i),f(this.h,2,a,u),f(this.h,4,s,c),f(this.h,6,h,p),f(this.h,8,v,g),f(this.h,10,b,x),f(this.h,12,C,R),f(this.h,14,I,O)},b.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";const r=t;r.bignum=n(72),r.define=n(827).define,r.base=n(830),r.constants=n(831),r.decoders=n(491),r.encoders=n(489)},function(e,t,n){"use strict";const r=t;r.der=n(490),r.pem=n(828)},function(e,t,n){"use strict";const r=n(22),i=n(328).Buffer,o=n(329),a=n(331);function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new s,this.tree._init(e.body)}function s(e){o.call(this,"der",e)}function c(e){return e<10?"0"+e:e}e.exports=u,u.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(s,o),s.prototype._encodeComposite=function(e,t,n,r){const o=function(e,t,n,r){let i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(a.tagByName.hasOwnProperty(e))i=a.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);i=e}if(i>=31)return r.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=a.tagClassByName[n||"universal"]<<6,i}(e,t,n,this.reporter);if(r.length<128){const e=i.alloc(2);return e[0]=o,e[1]=r.length,this._createEncoderBuffer([e,r])}let u=1;for(let e=r.length;e>=256;e>>=8)u++;const s=i.alloc(2+u);s[0]=o,s[1]=128|u;for(let e=1+u,t=r.length;t>0;e--,t>>=8)s[e]=255&t;return this._createEncoderBuffer([s,r])},s.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){const t=i.alloc(2*e.length);for(let n=0;n<e.length;n++)t.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(t)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},s.prototype._encodeObjid=function(e,t,n){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s.]+/g);for(let t=0;t<e.length;t++)e[t]|=0}else if(Array.isArray(e)){e=e.slice();for(let t=0;t<e.length;t++)e[t]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}let r=0;for(let t=0;t<e.length;t++){let n=e[t];for(r++;n>=128;n>>=7)r++}const o=i.alloc(r);let a=o.length-1;for(let t=e.length-1;t>=0;t--){let n=e[t];for(o[a--]=127&n;(n>>=7)>0;)o[a--]=128|127&n}return this._createEncoderBuffer(o)},s.prototype._encodeTime=function(e,t){let n;const r=new Date(e);return"gentime"===t?n=[c(r.getUTCFullYear()),c(r.getUTCMonth()+1),c(r.getUTCDate()),c(r.getUTCHours()),c(r.getUTCMinutes()),c(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[c(r.getUTCFullYear()%100),c(r.getUTCMonth()+1),c(r.getUTCDate()),c(r.getUTCHours()),c(r.getUTCMinutes()),c(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},s.prototype._encodeNull=function(){return this._createEncoderBuffer("")},s.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!i.isBuffer(e)){const t=e.toArray();!e.sign&&128&t[0]&&t.unshift(0),e=i.from(t)}if(i.isBuffer(e)){let t=e.length;0===e.length&&t++;const n=i.alloc(t);return e.copy(n),0===e.length&&(n[0]=0),this._createEncoderBuffer(n)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let t=e;t>=256;t>>=8)n++;const r=new Array(n);for(let t=r.length-1;t>=0;t--)r[t]=255&e,e>>=8;return 128&r[0]&&r.unshift(0),this._createEncoderBuffer(i.from(r))},s.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},s.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},s.prototype._skipDefault=function(e,t,n){const r=this._baseState;let i;if(null===r.default)return!1;const o=e.join();if(void 0===r.defaultBuffer&&(r.defaultBuffer=this._encodeValue(r.default,t,n).join()),o.length!==r.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==r.defaultBuffer[i])return!1;return!0}},function(e,t,n){"use strict";const r=t;r.der=n(492),r.pem=n(829)},function(e,t,n){"use strict";const r=n(22),i=n(72),o=n(215).DecoderBuffer,a=n(329),u=n(331);function s(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){a.call(this,"der",e)}function f(e,t){let n=e.readUInt8(t);if(e.isError(n))return n;const r=u.tagClass[n>>6],i=0==(32&n);if(31==(31&n)){let r=n;for(n=0;128==(128&r);){if(r=e.readUInt8(t),e.isError(r))return r;n<<=7,n|=127&r}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:u.tag[n]}}function l(e,t,n){let r=e.readUInt8(n);if(e.isError(r))return r;if(!t&&128===r)return null;if(0==(128&r))return r;const i=127&r;if(i>4)return e.error("length octect is too long");r=0;for(let t=0;t<i;t++){r<<=8;const t=e.readUInt8(n);if(e.isError(t))return t;r|=t}return r}e.exports=s,s.prototype.decode=function(e,t){return o.isDecoderBuffer(e)||(e=new o(e,t)),this.tree._decode(e,t)},r(c,a),c.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;const r=e.save(),i=f(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(r),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||n)},c.prototype._decodeTag=function(e,t,n){const r=f(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;let i=l(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!n&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');const o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},c.prototype._skipUntilEnd=function(e,t){for(;;){const n=f(e,t);if(e.isError(n))return n;const r=l(e,n.primitive,t);if(e.isError(r))return r;let i;if(i=n.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,t),e.isError(i))return i;if("end"===n.tagStr)break}},c.prototype._decodeList=function(e,t,n,r){const i=[];for(;!e.isEmpty();){const t=this._peekTag(e,"end");if(e.isError(t))return t;const o=n.decode(e,"der",r);if(e.isError(o)&&t)break;i.push(o)}return i},c.prototype._decodeStr=function(e,t){if("bitstr"===t){const t=e.readUInt8();return e.isError(t)?t:{unused:t,data:e.raw()}}if("bmpstr"===t){const t=e.raw();if(t.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let n="";for(let e=0;e<t.length/2;e++)n+=String.fromCharCode(t.readUInt16BE(2*e));return n}if("numstr"===t){const t=e.raw().toString("ascii");return this._isNumstr(t)?t:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){const t=e.raw().toString("ascii");return this._isPrintstr(t)?t:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},c.prototype._decodeObjid=function(e,t,n){let r;const i=[];let o=0,a=0;for(;!e.isEmpty();)a=e.readUInt8(),o<<=7,o|=127&a,0==(128&a)&&(i.push(o),o=0);128&a&&i.push(o);const u=i[0]/40|0,s=i[0]%40;if(r=n?i:[u,s].concat(i.slice(1)),t){let e=t[r.join(" ")];void 0===e&&(e=t[r.join(".")]),void 0!==e&&(r=e)}return r},c.prototype._decodeTime=function(e,t){const n=e.raw().toString();let r,i,o,a,u,s;if("gentime"===t)r=0|n.slice(0,4),i=0|n.slice(4,6),o=0|n.slice(6,8),a=0|n.slice(8,10),u=0|n.slice(10,12),s=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|n.slice(0,2),i=0|n.slice(2,4),o=0|n.slice(4,6),a=0|n.slice(6,8),u=0|n.slice(8,10),s=0|n.slice(10,12),r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,o,a,u,s,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(e){const t=e.readUInt8();return e.isError(t)?t:0!==t},c.prototype._decodeInt=function(e,t){const n=e.raw();let r=new i(n);return t&&(r=t[r.toString(10)]||r),r},c.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e){e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},function(e,t,n){var r=n(210),i=n(38).Buffer;function o(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var n,a=i.alloc(0),u=0;a.length<t;)n=o(u++),a=i.concat([a,r("sha1").update(e).update(n).digest()]);return a.slice(0,t)}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=-1;++r<n;)e[r]^=t[r];return e}},function(e,t,n){var r=n(72),i=n(38).Buffer;e.exports=function(e,t){return i.from(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}},function(e,t,n){var r,i,o,a,u,s,c,f;e.exports=(f=n(140),n(843),n(844),i=(r=f).lib,o=i.Base,a=i.WordArray,u=r.algo,s=u.MD5,c=u.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,i=r.hasher.create(),o=a.create(),u=o.words,s=r.keySize,c=r.iterations;u.length<s;){n&&i.update(n),n=i.update(e).finalize(t),i.reset();for(var f=1;f<c;f++)n=i.finalize(n),i.reset();o.concat(n)}return o.sigBytes=4*s,o}}),r.EvpKDF=function(e,t,n){return c.create(n).compute(e,t)},f.EvpKDF)},function(e,t,n){"use strict";var r=n(90),i=function(e){this.HeytingAlgebraRecord0=e},o=function(e){this.HeytingAlgebra0=e},a=new o((function(){return r.heytingAlgebraUnit})),u=new i((function(){return r.heytingAlgebraRecordNil})),s=new o((function(){return r.heytingAlgebraProxy3})),c=new o((function(){return r.heytingAlgebraProxy2})),f=new o((function(){return r.heytingAlgebraProxy})),l=new o((function(){return r.heytingAlgebraBoolean}));e.exports={BooleanAlgebra:o,BooleanAlgebraRecord:i,booleanAlgebraBoolean:l,booleanAlgebraUnit:a,booleanAlgebraFn:function(e){return new o((function(){return r.heytingAlgebraFunction(e.HeytingAlgebra0())}))},booleanAlgebraRecord:function(e){return function(e){return new o((function(){return r.heytingAlgebraRecord()(e.HeytingAlgebraRecord0())}))}},booleanAlgebraProxy:f,booleanAlgebraProxy2:c,booleanAlgebraProxy3:s,booleanAlgebraRecordNil:u,booleanAlgebraRecordCons:function(e){return function(t){return function(t){return function(n){return new i((function(){return r.heytingAlgebraRecordCons(e)()(t.HeytingAlgebraRecord0())(n.HeytingAlgebra0())}))}}}},HeytingAlgebra:r.HeytingAlgebra,HeytingAlgebraRecord:r.HeytingAlgebraRecord,conj:r.conj,disj:r.disj,ff:r.ff,implies:r.implies,not:r.not,tt:r.tt}},function(e,t,n){"use strict";var r=n(25),i=n(88),o=n(28),a=n(20),u=n(18),s=function(e){return new a.Semigroup((function(t){return function(n){return i.compose(e)(t)(n)}}))};e.exports={Endo:function(e){return e},eqEndo:function(e){return e},ordEndo:function(e){return e},boundedEndo:function(e){return e},showEndo:function(e){return new u.Show((function(t){return"(Endo "+u.show(e)(t)+")"}))},semigroupEndo:s,monoidEndo:function(e){return new o.Monoid((function(){return s(e.Semigroupoid0())}),r.identity(e))}}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(73),a=n(46),u=n(5),s=n(28),c=n(26),f=n(20),l=n(18),d=new f.Semigroup((function(e){return function(t){if(t instanceof u.Just)return t;if(t instanceof u.Nothing)return e;throw new Error("Failed pattern match at Data.Maybe.Last (line 52, column 1 - line 54, column 36): "+[e.constructor.name,t.constructor.name])}})),h=u.ord1Maybe,p=new c.Newtype((function(){})),m=new s.Monoid((function(){return d}),u.Nothing.value),y=u.monadMaybe,v=u.invariantMaybe,g=u.functorMaybe,b=u.extendMaybe,w=u.eq1Maybe,E=u.bindMaybe,_=u.applyMaybe,S=u.applicativeMaybe,T=new r.Alt((function(){return g}),f.append(d)),A=new a.Plus((function(){return T}),s.mempty(m)),P=new i.Alternative((function(){return S}),(function(){return A})),k=new o.MonadZero((function(){return P}),(function(){return y}),(function(){}));e.exports={Last:function(e){return e},newtypeLast:p,eqLast:function(e){return u.eqMaybe(e)},eq1Last:w,ordLast:function(e){return u.ordMaybe(e)},ord1Last:h,boundedLast:function(e){return u.boundedMaybe(e)},functorLast:g,invariantLast:v,applyLast:_,applicativeLast:S,bindLast:E,monadLast:y,extendLast:b,showLast:function(e){return new l.Show((function(t){return"(Last "+l.show(u.showMaybe(e))(t)+")"}))},semigroupLast:d,monoidLast:m,altLast:T,plusLast:A,alternativeLast:P,monadZeroLast:k}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(15),a=n(40),u=n(13),s=n(2),c=n(28),f=n(16),l=n(20),d=n(69),h=n(18),p=function(e){return e},m=function(e){return new l.Semigroup((function(t){return function(n){return d.add(e)(t)(n)}}))},y=function(e){return e},v=new s.Functor((function(e){return function(t){return e(t)}})),g=function(e){return e},b=new u.Eq1((function(e){return u.eq(e)})),w=new f.Ord1((function(){return b}),(function(e){return f.compare(e)})),E=new i.Apply((function(){return v}),(function(e){return function(t){return e(t)}})),_=new o.Bind((function(){return E}),(function(e){return function(t){return t(e)}})),S=new r.Applicative((function(){return E}),p),T=new a.Monad((function(){return S}),(function(){return _}));e.exports={Additive:p,eqAdditive:g,eq1Additive:b,ordAdditive:y,ord1Additive:w,boundedAdditive:function(e){return e},showAdditive:function(e){return new h.Show((function(t){return"(Additive "+h.show(e)(t)+")"}))},functorAdditive:v,applyAdditive:E,applicativeAdditive:S,bindAdditive:_,monadAdditive:T,semigroupAdditive:m,monoidAdditive:function(e){return new c.Monoid((function(){return m(e)}),d.zero(e))}}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(2),a=function(e){return e},u=function(e){return e},s=new o.Functor((function(e){return function(t){return function(n){var r=t(n);return{accum:r.accum,value:e(r.value)}}}})),c=new o.Functor((function(e){return function(t){return function(n){var r=t(n);return{accum:r.accum,value:e(r.value)}}}})),f=new i.Apply((function(){return s}),(function(e){return function(t){return function(n){var r=t(n),i=e(r.accum);return{accum:i.accum,value:i.value(r.value)}}}})),l=new i.Apply((function(){return c}),(function(e){return function(t){return function(n){var r=e(n),i=t(r.accum);return{accum:i.accum,value:r.value(i.value)}}}})),d=new r.Applicative((function(){return f}),(function(e){return function(t){return{accum:t,value:e}}})),h=new r.Applicative((function(){return l}),(function(e){return function(t){return{accum:t,value:e}}}));e.exports={StateL:function(e){return e},stateL:u,StateR:function(e){return e},stateR:a,functorStateL:c,applyStateL:l,applicativeStateL:h,functorStateR:s,applyStateR:f,applicativeStateR:d}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(15),a=n(40),u=n(186),s=n(126),c=n(92),f=n(75),l=n(23),d=n(2),h=n(28),p=n(26),m=n(20),y=n(58),v=new p.Newtype((function(){})),g=new f.MonadTrans((function(e){return function(t){return function(n){return o.bind(e.Bind1())(t)(n)}}})),b=function(e){return new d.Functor((function(e){return function(t){return function(n){return t((function(t){return n(e(t))}))}}}))},w=function(e){return new i.Apply((function(){return b(e.Functor0())}),(function(e){return function(t){return function(n){return e((function(e){return t((function(t){return n(e(t))}))}))}}}))},E=function(e){return new o.Bind((function(){return w(e.Apply0())}),(function(e){return function(t){return function(n){return e((function(e){return t(e)(n)}))}}}))},_=function(e){return function(t){return new m.Semigroup(i.lift2(w(e))(m.append(t)))}},S=function(e){return new r.Applicative((function(){return w(e.Apply0())}),(function(e){return function(t){return t(e)}}))},T=function(e){return new a.Monad((function(){return S(e.Applicative0())}),(function(){return E(e.Bind1())}))},A=function(e){return new s.MonadAsk((function(){return T(e.Monad0())}),f.lift(g)(e.Monad0())(s.ask(e)))};e.exports={ContT:function(e){return e},runContT:function(e){return function(t){return e(t)}},mapContT:function(e){return function(t){return function(n){return e(t(n))}}},withContT:function(e){return function(t){return function(n){return t(e(n))}}},newtypeContT:v,monadContContT:function(e){return new u.MonadCont((function(){return T(e)}),(function(e){return function(t){return e((function(e){return function(n){return t(e)}}))(t)}}))},functorContT:b,applyContT:w,applicativeContT:S,bindContT:E,monadContT:T,monadTransContT:g,monadEffectContT:function(e){return new y.MonadEffect((function(){return T(e.Monad0())}),(t=f.lift(g)(e.Monad0()),n=y.liftEffect(e),function(e){return t(n(e))}));var t,n},monadAskContT:A,monadReaderContT:function(e){return new s.MonadReader((function(){return A(e.MonadAsk0())}),(function(t){return function(n){return function(r){return o.bind(e.MonadAsk0().Monad0().Bind1())(s.ask(e.MonadAsk0()))((function(i){return s.local(e)(t)(n((o=s.local(e)(l.const(i)),function(e){return o(r(e))})));var o}))}}}))},monadStateContT:function(e){return new c.MonadState((function(){return T(e.Monad0())}),(t=f.lift(g)(e.Monad0()),n=c.state(e),function(e){return t(n(e))}));var t,n},semigroupContT:_,monoidContT:function(e){return function(t){return new h.Monoid((function(){return _(e.Apply0())(t.Semigroup0())}),r.pure(S(e))(h.mempty(t)))}},MonadCont:u.MonadCont,callCC:u.callCC,MonadTrans:f.MonadTrans,lift:f.lift}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(25),c=n(40),f=n(186),l=n(100),d=n(126),h=n(74),p=n(92),m=n(75),y=n(161),v=n(93),g=n(73),b=n(46),w=n(2),E=n(5),_=n(28),S=n(26),T=n(20),A=n(29),P=n(58),k=function(e){return e},x=new S.Newtype((function(){})),C=new m.MonadTrans((function(e){var t=c.liftM1(e)(E.Just.create);return function(e){return t(e)}})),R=function(e){return function(t){return e(t)}},I=function(e){return new w.Functor((function(t){return function(n){return w.map(e)(w.map(E.functorMaybe)(t))(n)}}))},O=function(e){return new c.Monad((function(){return D(e)}),(function(){return M(e)}))},M=function(e){return new u.Bind((function(){return N(e)}),(function(t){return function(n){return u.bind(e.Bind1())(t)((function(t){if(t instanceof E.Nothing)return o.pure(e.Applicative0())(E.Nothing.value);if(t instanceof E.Just)return n(t.value0);throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 55, column 11 - line 57, column 42): "+[t.constructor.name])}))}}))},N=function(e){return new a.Apply((function(){return I(e.Bind1().Apply0().Functor0())}),c.ap(O(e)))},D=function(e){return new o.Applicative((function(){return N(e)}),(t=o.pure(e.Applicative0()),function(e){return t(E.Just.create(e))}));var t},L=function(e){return function(t){return new T.Semigroup(a.lift2(N(e))(T.append(t)))}},j=function(e){return new d.MonadAsk((function(){return O(e.Monad0())}),m.lift(C)(e.Monad0())(d.ask(e)))},B=function(e){return new y.MonadTell((function(){return O(e.Monad1())}),e.Semigroup0,(t=m.lift(C)(e.Monad1()),n=y.tell(e),function(e){return t(n(e))}));var t,n},F=function(e){return new l.MonadThrow((function(){return O(e.Monad0())}),(function(t){return m.lift(C)(e.Monad0())(l.throwError(e)(t))}))},U=function(e){return new r.Alt((function(){return I(e.Bind1().Apply0().Functor0())}),(function(t){return function(n){return u.bind(e.Bind1())(t)((function(t){return t instanceof E.Nothing?n:o.pure(e.Applicative0())(t)}))}}))},q=function(e){return new b.Plus((function(){return U(e)}),o.pure(e.Applicative0())(E.Nothing.value))},H=function(e){return new i.Alternative((function(){return D(e)}),(function(){return q(e)}))};e.exports={MaybeT:k,runMaybeT:function(e){return e},mapMaybeT:R,newtypeMaybeT:x,functorMaybeT:I,applyMaybeT:N,applicativeMaybeT:D,bindMaybeT:M,monadMaybeT:O,monadTransMaybeT:C,altMaybeT:U,plusMaybeT:q,alternativeMaybeT:H,monadPlusMaybeT:function(e){return new v.MonadPlus((function(){return H(e)}),(function(){return O(e)}))},monadZeroMaybeT:function(e){return new g.MonadZero((function(){return H(e)}),(function(){return O(e)}),(function(){}))},monadRecMaybeT:function(e){return new h.MonadRec((function(){return O(e.Monad0())}),(function(t){var n=h.tailRecM(e)((function(n){var r=t(n);return u.bind(e.Monad0().Bind1())(r)((function(t){return o.pure(e.Monad0().Applicative0())(function(){if(t instanceof E.Nothing)return new h.Done(E.Nothing.value);if(t instanceof E.Just&&t.value0 instanceof h.Loop)return new h.Loop(t.value0.value0);if(t instanceof E.Just&&t.value0 instanceof h.Done)return new h.Done(new E.Just(t.value0.value0));throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 85, column 16 - line 88, column 43): "+[t.constructor.name])}())}))}));return function(e){return n(e)}}))},monadEffectMaybe:function(e){return new P.MonadEffect((function(){return O(e.Monad0())}),(t=m.lift(C)(e.Monad0()),n=P.liftEffect(e),function(e){return t(n(e))}));var t,n},monadContMaybeT:function(e){return new f.MonadCont((function(){return O(e.Monad0())}),(function(t){return f.callCC(e)((function(e){return t((function(t){return e(new E.Just(t))}))}))}))},monadThrowMaybeT:F,monadErrorMaybeT:function(e){return new l.MonadError((function(){return F(e.MonadThrow0())}),(function(t){return function(n){return l.catchError(e)(t)((function(e){return n(e)}))}}))},monadAskMaybeT:j,monadReaderMaybeT:function(e){return new d.MonadReader((function(){return j(e.MonadAsk0())}),(function(t){return R(d.local(e)(t))}))},monadStateMaybeT:function(e){return new p.MonadState((function(){return O(e.Monad0())}),(function(t){return m.lift(C)(e.Monad0())(p.state(e)(t))}))},monadTellMaybeT:B,monadWriterMaybeT:function(e){return new y.MonadWriter((function(){return B(e.MonadTell1())}),e.Monoid0,R((function(t){return u.bind(e.MonadTell1().Monad1().Bind1())(y.listen(e)(t))((function(t){return o.pure(e.MonadTell1().Monad1().Applicative0())(w.map(E.functorMaybe)((function(e){return new A.Tuple(e,t.value1)}))(t.value0))}))})),R((function(t){return y.pass(e)(u.bind(e.MonadTell1().Monad1().Bind1())(t)((function(t){return o.pure(e.MonadTell1().Monad1().Applicative0())(function(){if(t instanceof E.Nothing)return new A.Tuple(E.Nothing.value,s.identity(s.categoryFn));if(t instanceof E.Just)return new A.Tuple(new E.Just(t.value0.value0),t.value0.value1);throw new Error("Failed pattern match at Control.Monad.Maybe.Trans (line 122, column 10 - line 124, column 43): "+[t.constructor.name])}())})))})))},semigroupMaybeT:L,monoidMaybeT:function(e){return function(t){return new _.Monoid((function(){return L(e)(t.Semigroup0())}),o.pure(D(e))(_.mempty(t)))}},MonadTrans:m.MonadTrans,lift:m.lift}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(40),c=n(186),f=n(100),l=n(126),d=n(74),h=n(92),p=n(75),m=n(161),y=n(93),v=n(73),g=n(46),b=n(2),w=n(28),E=n(26),_=n(20),S=n(29),T=n(24),A=n(58),P=function(e){return e},k=new E.Newtype((function(){})),x=function(e){return new p.MonadTrans((function(t){return function(n){return u.bind(t.Bind1())(n)((function(n){return o.pure(t.Applicative0())(new S.Tuple(n,w.mempty(e)))}))}}))},C=function(e){return function(t){return e(t)}},R=function(e){return new b.Functor((function(t){return C(b.map(e)((function(e){return new S.Tuple(t(e.value0),e.value1)})))}))},I=function(e){return function(t){return new a.Apply((function(){return R(t.Functor0())}),(function(n){return function(r){return a.apply(t)(b.map(t.Functor0())((function(t){return function(n){return new S.Tuple(t.value0(n.value0),_.append(e)(t.value1)(n.value1))}}))(n))(r)}}))}},O=function(e){return function(t){return new u.Bind((function(){return I(e)(t.Apply0())}),(function(n){return function(r){return u.bind(t)(n)((function(n){var i=r(n.value0);return b.map(t.Apply0().Functor0())((function(t){return new S.Tuple(t.value0,_.append(e)(n.value1)(t.value1))}))(i)}))}}))}},M=function(e){return function(t){return function(n){return new _.Semigroup(a.lift2(I(t)(e))(_.append(n)))}}},N=function(e){return function(t){return new o.Applicative((function(){return I(e.Semigroup0())(t.Apply0())}),(function(n){return o.pure(t)(new S.Tuple(n,w.mempty(e)))}))}},D=function(e){return function(t){return new s.Monad((function(){return N(e)(t.Applicative0())}),(function(){return O(e.Semigroup0())(t.Bind1())}))}},L=function(e){return function(t){return new l.MonadAsk((function(){return D(e)(t.Monad0())}),p.lift(x(e))(t.Monad0())(l.ask(t)))}},j=function(e){return function(t){return new m.MonadTell((function(){return D(e)(t)}),e.Semigroup0,(n=o.pure(t.Applicative0()),r=S.Tuple.create(T.unit),function(e){return n(r(e))}));var n,r}},B=function(e){return function(t){return new f.MonadThrow((function(){return D(e)(t.Monad0())}),(function(n){return p.lift(x(e))(t.Monad0())(f.throwError(t)(n))}))}},F=function(e){return new r.Alt((function(){return R(e.Functor0())}),(function(t){return function(n){return r.alt(e)(t)(n)}}))},U=function(e){return new g.Plus((function(){return F(e.Alt0())}),g.empty(e))},q=function(e){return function(t){return new i.Alternative((function(){return N(e)(t.Applicative0())}),(function(){return U(t.Plus1())}))}};e.exports={WriterT:P,runWriterT:function(e){return e},execWriterT:function(e){return function(t){return b.map(e)(S.snd)(t)}},mapWriterT:C,newtypeWriterT:k,functorWriterT:R,applyWriterT:I,applicativeWriterT:N,altWriterT:F,plusWriterT:U,alternativeWriterT:q,bindWriterT:O,monadWriterT:D,monadRecWriterT:function(e){return function(t){return new d.MonadRec((function(){return D(e)(t.Monad0())}),(function(n){return function(r){return d.tailRecM(t)((function(r){var i=n(r.value0);return u.bind(t.Monad0().Bind1())(i)((function(n){return o.pure(t.Monad0().Applicative0())(function(){if(n.value0 instanceof d.Loop)return new d.Loop(new S.Tuple(n.value0.value0,_.append(e.Semigroup0())(r.value1)(n.value1)));if(n.value0 instanceof d.Done)return new d.Done(new S.Tuple(n.value0.value0,_.append(e.Semigroup0())(r.value1)(n.value1)));throw new Error("Failed pattern match at Control.Monad.Writer.Trans (line 84, column 16 - line 86, column 47): "+[n.value0.constructor.name])}())}))}))(new S.Tuple(r,w.mempty(e)))}}))}},monadZeroWriterT:function(e){return function(t){return new v.MonadZero((function(){return q(e)(t.Alternative1())}),(function(){return D(e)(t.Monad0())}),(function(){}))}},monadPlusWriterT:function(e){return function(t){return new y.MonadPlus((function(){return q(e)(t.Alternative1())}),(function(){return D(e)(t.Monad0())}))}},monadTransWriterT:x,monadEffectWriter:function(e){return function(t){return new A.MonadEffect((function(){return D(e)(t.Monad0())}),(n=p.lift(x(e))(t.Monad0()),r=A.liftEffect(t),function(e){return n(r(e))}));var n,r}},monadContWriterT:function(e){return function(t){return new c.MonadCont((function(){return D(e)(t.Monad0())}),(function(n){return c.callCC(t)((function(t){return n((function(n){return t(new S.Tuple(n,w.mempty(e)))}))}))}))}},monadThrowWriterT:B,monadErrorWriterT:function(e){return function(t){return new f.MonadError((function(){return B(e)(t.MonadThrow0())}),(function(e){return function(n){return f.catchError(t)(e)((function(e){return n(e)}))}}))}},monadAskWriterT:L,monadReaderWriterT:function(e){return function(t){return new l.MonadReader((function(){return L(e)(t.MonadAsk0())}),(function(e){return C(l.local(t)(e))}))}},monadStateWriterT:function(e){return function(t){return new h.MonadState((function(){return D(e)(t.Monad0())}),(function(n){return p.lift(x(e))(t.Monad0())(h.state(t)(n))}))}},monadTellWriterT:j,monadWriterWriterT:function(e){return function(t){return new m.MonadWriter((function(){return j(e)(t)}),(function(){return e}),(function(e){return u.bind(t.Bind1())(e)((function(e){return o.pure(t.Applicative0())(new S.Tuple(new S.Tuple(e.value0,e.value1),e.value1))}))}),(function(e){return u.bind(t.Bind1())(e)((function(e){return o.pure(t.Applicative0())(new S.Tuple(e.value0.value0,e.value0.value1(e.value1)))}))}))}},semigroupWriterT:M,monoidWriterT:function(e){return function(t){return function(n){return new w.Monoid((function(){return M(e.Apply0())(t.Semigroup0())(n.Semigroup0())}),o.pure(N(t)(e))(w.mempty(n)))}}},MonadTrans:p.MonadTrans,lift:p.lift,MonadTell:m.MonadTell,MonadWriter:m.MonadWriter,censor:m.censor,listen:m.listen,listens:m.listens,pass:m.pass,tell:m.tell}},function(e,t,n){"use strict";var r=n(2),i=n(332),o=function(e){this.cmap=e},a=new o((function(e){return function(e){return e}})),u=function(e){return e.cmap};e.exports={cmap:u,Contravariant:o,cmapFlipped:function(e){return function(t){return function(n){return u(e)(n)(t)}}},coerce:function(e){return function(t){return function(n){return r.map(t)(i.absurd)(u(e)(i.absurd)(n))}}},imapC:function(e){return function(t){return function(t){return u(e)(t)}}},contravariantConst:a}},function(e,t,n){"use strict";var r=n(88),i=n(164),o=function(e,t){this.Profunctor0=e,this.closed=t},a=new o((function(){return i.profunctorFn}),r.compose(r.semigroupoidFn));e.exports={closed:function(e){return e.closed},Closed:o,closedFunction:a}},function(e,t,n){"use strict";var r=n(25),i=n(88),o=n(2),a=n(164),u=n(29),s=function(e,t,n){this.Profunctor0=e,this.first=t,this.second=n},c=new s((function(){return a.profunctorFn}),(function(e){return function(t){return new u.Tuple(e(t.value0),t.value1)}}),o.map(u.functorTuple)),f=function(e){return e.second},l=function(e){return e.first},d=function(e){return function(t){return function(n){return function(r){return i.composeFlipped(e.Semigroupoid0())(l(t)(n))(f(t)(r))}}}};e.exports={first:l,second:f,Strong:s,splitStrong:d,fanout:function(e){return function(t){return function(n){return function(o){var s=a.dimap(t.Profunctor0())(r.identity(r.categoryFn))((function(e){return new u.Tuple(e,e)}))(r.identity(e));return i.composeFlipped(e.Semigroupoid0())(s)(d(e)(t)(n)(o))}}}},strongFn:c}},function(e,t,n){"use strict";var r=n(887),i=n(5);e.exports={fromString:function(e){return r.fromStringImpl(e,r.isFinite,i.Just.create,i.Nothing.value)},nan:r.nan,isNaN:r.isNaN,infinity:r.infinity,isFinite:r.isFinite}},function(e,t,n){"use strict";var r=n(888);e.exports={abs:r.abs,acos:r.acos,asin:r.asin,atan:r.atan,atan2:r.atan2,ceil:r.ceil,cos:r.cos,exp:r.exp,floor:r.floor,imul:r.imul,log:r.log,max:r.max,min:r.min,pow:r.pow,round:r.round,sin:r.sin,sqrt:r.sqrt,tan:r.tan,trunc:r.trunc,remainder:r.remainder,e:r.e,ln2:r.ln2,ln10:r.ln10,log2e:r.log2e,log10e:r.log10e,pi:r.pi,tau:r.tau,sqrt1_2:r.sqrt1_2,sqrt2:r.sqrt2}},function(e,t,n){"use strict";var r=n(70),i=n(34),o=function(){function e(){}return e.value=new e,e}(),a=function(){function e(e,t,n){this.value0=e,this.value1=t,this.value2=n}return e.create=function(t){return function(n){return function(r){return new e(t,n,r)}}},e}(),u=function(){function e(e,t,n,r,i){this.value0=e,this.value1=t,this.value2=n,this.value3=r,this.value4=i}return e.create=function(t){return function(n){return function(r){return function(i){return function(o){return new e(t,n,r,i,o)}}}}},e}(),s=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),c=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),f=function(){function e(e,t,n,r){this.value0=e,this.value1=t,this.value2=n,this.value3=r}return e.create=function(t){return function(n){return function(r){return function(i){return new e(t,n,r,i)}}}},e}(),l=function(){function e(e,t,n,r){this.value0=e,this.value1=t,this.value2=n,this.value3=r}return e.create=function(t){return function(n){return function(r){return function(i){return new e(t,n,r,i)}}}},e}(),d=function(){function e(e,t,n,r){this.value0=e,this.value1=t,this.value2=n,this.value3=r}return e.create=function(t){return function(n){return function(r){return function(i){return new e(t,n,r,i)}}}},e}(),h=function(){function e(e,t,n){this.value0=e,this.value1=t,this.value2=n}return e.create=function(t){return function(n){return function(r){return new e(t,n,r)}}},e}(),p=function(e){return function(t){var n,i=e,o=!1;function h(e,n){if(e instanceof r.Nil)return o=!0,n;if(e instanceof r.Cons){if(e.value0 instanceof s)return i=e.value1,void(t=new a(n,e.value0.value0,e.value0.value1));if(e.value0 instanceof c)return i=e.value1,void(t=new a(e.value0.value0,e.value0.value1,n));if(e.value0 instanceof f)return i=e.value1,void(t=new u(n,e.value0.value0,e.value0.value1,e.value0.value2,e.value0.value3));if(e.value0 instanceof l)return i=e.value1,void(t=new u(e.value0.value0,e.value0.value1,n,e.value0.value2,e.value0.value3));if(e.value0 instanceof d)return i=e.value1,void(t=new u(e.value0.value0,e.value0.value1,e.value0.value2,e.value0.value3,n));throw new Error("Failed pattern match at Data.List.Internal (line 25, column 3 - line 30, column 76): "+[e.value0.constructor.name])}throw new Error("Failed pattern match at Data.List.Internal (line 22, column 1 - line 22, column 63): "+[e.constructor.name,n.constructor.name])}for(;!o;)n=h(i,t);return n}},m=o.value;e.exports={emptySet:m,insertAndLookupBy:function(e){return function(t){return function(n){var m,y=function(e){return function(t){var n,i=e,o=!1;function m(e,n){if(e instanceof r.Nil)return o=!0,new a(n.value0,n.value1,n.value2);if(e instanceof r.Cons){if(e.value0 instanceof s)return o=!0,p(e.value1)(new u(n.value0,n.value1,n.value2,e.value0.value0,e.value0.value1));if(e.value0 instanceof c)return o=!0,p(e.value1)(new u(e.value0.value0,e.value0.value1,n.value0,n.value1,n.value2));if(e.value0 instanceof f)return i=e.value1,void(t=new h(new a(n.value0,n.value1,n.value2),e.value0.value0,new a(e.value0.value1,e.value0.value2,e.value0.value3)));if(e.value0 instanceof l)return i=e.value1,void(t=new h(new a(e.value0.value0,e.value0.value1,n.value0),n.value1,new a(n.value2,e.value0.value2,e.value0.value3)));if(e.value0 instanceof d)return i=e.value1,void(t=new h(new a(e.value0.value0,e.value0.value1,e.value0.value2),e.value0.value3,new a(n.value0,n.value1,n.value2)));throw new Error("Failed pattern match at Data.List.Internal (line 58, column 5 - line 63, column 90): "+[e.value0.constructor.name,n.constructor.name])}throw new Error("Failed pattern match at Data.List.Internal (line 55, column 3 - line 55, column 50): "+[e.constructor.name,n.constructor.name])}for(;!o;)n=m(i,t);return n}};return(m=r.Nil.value,function(p){var v,g=m,b=!1;function w(m,v){if(v instanceof o)return b=!0,{found:!1,result:y(m)(new h(o.value,t,o.value))};if(v instanceof a)return(w=e(t)(v.value1))instanceof i.EQ?(b=!0,{found:!0,result:n}):w instanceof i.LT?(g=new r.Cons(new s(v.value1,v.value2),m),void(p=v.value0)):(g=new r.Cons(new c(v.value0,v.value1),m),void(p=v.value2));if(v instanceof u){var w;if((w=e(t)(v.value1))instanceof i.EQ)return b=!0,{found:!0,result:n};var E=e(t)(v.value3);return E instanceof i.EQ?(b=!0,{found:!0,result:n}):w instanceof i.LT?(g=new r.Cons(new f(v.value1,v.value2,v.value3,v.value4),m),void(p=v.value0)):w instanceof i.GT&&E instanceof i.LT?(g=new r.Cons(new l(v.value0,v.value1,v.value3,v.value4),m),void(p=v.value2)):(g=new r.Cons(new d(v.value0,v.value1,v.value2,v.value3),m),void(p=v.value4))}throw new Error("Failed pattern match at Data.List.Internal (line 38, column 3 - line 38, column 81): "+[m.constructor.name,v.constructor.name])}for(;!b;)v=w(g,p);return v})(n)}}}}},function(e,t,n){"use strict";var r=n(890);e.exports={char:r.char,charAt:r.charAt}},function(e,t,n){"use strict";var r,i,o=n(892),a=n(13),u=n(2),s=n(26),c=n(55),f=n(16),l=n(35),d=f.ordString,h=new s.Newtype((function(){})),p=(r=u.map(l.functorEffect)(c.toMaybe),function(e){return r(o._lastElementChild(e))}),m=(i=u.map(l.functorEffect)(c.toMaybe),function(e){return i(o._firstElementChild(e))}),y=a.eqString;e.exports={firstElementChild:m,lastElementChild:p,QuerySelector:function(e){return e},querySelector:function(e){var t=u.map(l.functorEffect)(c.toMaybe),n=o._querySelector(e);return function(e){return t(n(e))}},eqQuerySelector:y,ordQuerySelector:d,newtypeQuerySelector:h,children:o.children,childElementCount:o.childElementCount,querySelectorAll:o.querySelectorAll}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(13),i=n(5),o=n(16),a=n(34),u=n(18),s=function(){function e(){}return e.value=new e,e}(),c=function(){function e(){}return e.value=new e,e}(),f=function(){function e(){}return e.value=new e,e}(),l=new u.Show((function(e){if(e instanceof s)return"Loading";if(e instanceof c)return"Interactive";if(e instanceof f)return"Complete";throw new Error("Failed pattern match at Web.HTML.HTMLDocument.ReadyState (line 15, column 10 - line 18, column 27): "+[e.constructor.name])})),d=new r.Eq((function(e){return function(t){return e instanceof s&&t instanceof s||(e instanceof c&&t instanceof c||e instanceof f&&t instanceof f)}})),h=new o.Ord((function(){return d}),(function(e){return function(t){if(e instanceof s&&t instanceof s)return a.EQ.value;if(e instanceof s)return a.LT.value;if(t instanceof s)return a.GT.value;if(e instanceof c&&t instanceof c)return a.EQ.value;if(e instanceof c)return a.LT.value;if(t instanceof c)return a.GT.value;if(e instanceof f&&t instanceof f)return a.EQ.value;throw new Error("Failed pattern match at Web.HTML.HTMLDocument.ReadyState (line 12, column 1 - line 12, column 48): "+[e.constructor.name,t.constructor.name])}}));e.exports={Loading:s,Interactive:c,Complete:f,print:function(e){if(e instanceof s)return"loading";if(e instanceof c)return"interactive";if(e instanceof f)return"complete";throw new Error("Failed pattern match at Web.HTML.HTMLDocument.ReadyState (line 21, column 9 - line 24, column 25): "+[e.constructor.name])},parse:function(e){return"loading"===e?new i.Just(s.value):"interactive"===e?new i.Just(c.value):"complete"===e?new i.Just(f.value):i.Nothing.value},eqReadyState:d,ordReadyState:h,showReadyState:l}},function(e,t,n){"use strict";var r,i,o,a=n(937),u=n(2),s=n(55),c=n(35),f=n(10),l=n(518),d=n(21),h=f.unsafeCoerce,p=f.unsafeCoerce,m=f.unsafeCoerce,y=f.unsafeCoerce,v=f.unsafeCoerce,g=f.unsafeCoerce,b=f.unsafeCoerce,w=a.stepUpBy,E=w(1),_=a.stepDownBy,S=_(1),T=(r=u.map(c.functorEffect)(s.toMaybe),function(e){return r(a._list(e))}),A=d.unsafeReadProtoTagged("HTMLInputElement"),P=d.unsafeReadProtoTagged("HTMLInputElement"),k=d.unsafeReadProtoTagged("HTMLInputElement"),x=d.unsafeReadProtoTagged("HTMLInputElement"),C=d.unsafeReadProtoTagged("HTMLInputElement"),R=d.unsafeReadProtoTagged("HTMLInputElement"),I=d.unsafeReadProtoTagged("HTMLInputElement"),O=(i=u.map(c.functorEffect)(s.toMaybe),function(e){return i(a._form(e))}),M=(o=u.map(c.functorEffect)(s.toMaybe),function(e){return o(a._files(e))});e.exports={fromHTMLElement:x,fromElement:R,fromNode:k,fromChildNode:I,fromNonDocumentTypeChildNode:P,fromParentNode:A,fromEventTarget:C,toHTMLElement:y,toElement:g,toNode:m,toChildNode:b,toNonDocumentTypeChildNode:p,toParentNode:h,toEventTarget:v,form:O,files:M,list:T,stepUp:E,"stepUp'":w,stepDown:S,"stepDown'":_,"setRangeText'":function(e){return function(t){return function(n){return function(r){return function(i){return function(){return a._setRangeText(e,t,n,l.print(r),i)}}}}}},accept:a.accept,setAccept:a.setAccept,alt:a.alt,setAlt:a.setAlt,autocomplete:a.autocomplete,setAutocomplete:a.setAutocomplete,autofocus:a.autofocus,setAutofocus:a.setAutofocus,defaultChecked:a.defaultChecked,setDefaultChecked:a.setDefaultChecked,checked:a.checked,setChecked:a.setChecked,dirName:a.dirName,setDirName:a.setDirName,disabled:a.disabled,setDisabled:a.setDisabled,formAction:a.formAction,setFormAction:a.setFormAction,formEnctype:a.formEnctype,setFormEnctype:a.setFormEnctype,formMethod:a.formMethod,setFormMethod:a.setFormMethod,formNoValidate:a.formNoValidate,setFormNoValidate:a.setFormNoValidate,formTarget:a.formTarget,setFormTarget:a.setFormTarget,height:a.height,setHeight:a.setHeight,indeterminate:a.indeterminate,setIndeterminate:a.setIndeterminate,max:a.max,setMax:a.setMax,maxLength:a.maxLength,setMaxLength:a.setMaxLength,min:a.min,setMin:a.setMin,minLength:a.minLength,setMinLength:a.setMinLength,multiple:a.multiple,setMultiple:a.setMultiple,name:a.name,setName:a.setName,pattern:a.pattern,setPattern:a.setPattern,placeholder:a.placeholder,setPlaceholder:a.setPlaceholder,readOnly:a.readOnly,setReadOnly:a.setReadOnly,required:a.required,setRequired:a.setRequired,size:a.size,setSize:a.setSize,src:a.src,setSrc:a.setSrc,step:a.step,setStep:a.setStep,type_:a.type_,setType:a.setType,defaultValue:a.defaultValue,setDefaultValue:a.setDefaultValue,value:a.value,setValue:a.setValue,valueAsDate:a.valueAsDate,setValueAsDate:a.setValueAsDate,valueAsNumber:a.valueAsNumber,setValueAsNumber:a.setValueAsNumber,width:a.width,setWidth:a.setWidth,willValidate:a.willValidate,validity:a.validity,validationMessage:a.validationMessage,checkValidity:a.checkValidity,reportValidity:a.reportValidity,setCustomValidity:a.setCustomValidity,labels:a.labels,select:a.select,selectionStart:a.selectionStart,setSelectionStart:a.setSelectionStart,selectionEnd:a.selectionEnd,setSelectionEnd:a.setSelectionEnd,selectionDirection:a.selectionDirection,setSelectionDirection:a.setSelectionDirection,setRangeText:a.setRangeText,setSelectionRange:a.setSelectionRange}},function(e,t,n){"use strict";var r=n(13),i=n(5),o=n(16),a=n(34),u=n(18),s=function(){function e(){}return e.value=new e,e}(),c=function(){function e(){}return e.value=new e,e}(),f=function(){function e(){}return e.value=new e,e}(),l=function(){function e(){}return e.value=new e,e}(),d=new u.Show((function(e){if(e instanceof s)return"Preserve";if(e instanceof c)return"Select";if(e instanceof f)return"Start";if(e instanceof l)return"End";throw new Error("Failed pattern match at Web.HTML.SelectionMode (line 17, column 10 - line 21, column 17): "+[e.constructor.name])})),h=new r.Eq((function(e){return function(t){return e instanceof s&&t instanceof s||(e instanceof c&&t instanceof c||(e instanceof f&&t instanceof f||e instanceof l&&t instanceof l))}})),p=new o.Ord((function(){return h}),(function(e){return function(t){if(e instanceof s&&t instanceof s)return a.EQ.value;if(e instanceof s)return a.LT.value;if(t instanceof s)return a.GT.value;if(e instanceof c&&t instanceof c)return a.EQ.value;if(e instanceof c)return a.LT.value;if(t instanceof c)return a.GT.value;if(e instanceof f&&t instanceof f)return a.EQ.value;if(e instanceof f)return a.LT.value;if(t instanceof f)return a.GT.value;if(e instanceof l&&t instanceof l)return a.EQ.value;throw new Error("Failed pattern match at Web.HTML.SelectionMode (line 14, column 1 - line 14, column 54): "+[e.constructor.name,t.constructor.name])}}));e.exports={Preserve:s,Select:c,Start:f,End:l,parse:function(e){return"preserve"===e?new i.Just(s.value):"select"===e?new i.Just(c.value):"start"===e?new i.Just(f.value):"end"===e?new i.Just(l.value):i.Nothing.value},print:function(e){if(e instanceof s)return"preserve";if(e instanceof c)return"select";if(e instanceof f)return"start";if(e instanceof l)return"end";throw new Error("Failed pattern match at Web.HTML.SelectionMode (line 32, column 9 - line 36, column 15): "+[e.constructor.name])},eqSelectionMode:h,ordSelectionMode:p,showSelectionMode:d}},function(e,t,n){"use strict";var r,i=n(1005),o=n(2),a=n(55),u=n(35),s=n(10),c=n(518),f=n(21),l=s.unsafeCoerce,d=s.unsafeCoerce,h=s.unsafeCoerce,p=s.unsafeCoerce,m=s.unsafeCoerce,y=s.unsafeCoerce,v=s.unsafeCoerce,g=f.unsafeReadProtoTagged("HTMLTextAreaElement"),b=f.unsafeReadProtoTagged("HTMLTextAreaElement"),w=f.unsafeReadProtoTagged("HTMLTextAreaElement"),E=f.unsafeReadProtoTagged("HTMLTextAreaElement"),_=f.unsafeReadProtoTagged("HTMLTextAreaElement"),S=f.unsafeReadProtoTagged("HTMLTextAreaElement"),T=f.unsafeReadProtoTagged("HTMLTextAreaElement"),A=(r=o.map(u.functorEffect)(a.toMaybe),function(e){return r(i._form(e))});e.exports={fromHTMLElement:E,fromElement:S,fromNode:w,fromChildNode:T,fromNonDocumentTypeChildNode:b,fromParentNode:g,fromEventTarget:_,toHTMLElement:p,toElement:y,toNode:h,toChildNode:v,toNonDocumentTypeChildNode:d,toParentNode:l,toEventTarget:m,form:A,"setRangeText'":function(e){return function(t){return function(n){return function(r){return function(o){return function(){return i._setRangeText(e,t,n,c.print(r),o)}}}}}},autocomplete:i.autocomplete,setAutocomplete:i.setAutocomplete,autofocus:i.autofocus,setAutofocus:i.setAutofocus,cols:i.cols,setCols:i.setCols,dirName:i.dirName,setDirName:i.setDirName,disabled:i.disabled,setDisabled:i.setDisabled,maxLength:i.maxLength,setMaxLength:i.setMaxLength,minLength:i.minLength,setMinLength:i.setMinLength,name:i.name,setName:i.setName,placeholder:i.placeholder,setPlaceholder:i.setPlaceholder,readOnly:i.readOnly,setReadOnly:i.setReadOnly,required:i.required,setRequired:i.setRequired,rows:i.rows,setRows:i.setRows,wrap:i.wrap,setWrap:i.setWrap,type_:i.type_,defaultValue:i.defaultValue,setDefaultValue:i.setDefaultValue,value:i.value,setValue:i.setValue,textLength:i.textLength,willValidate:i.willValidate,validity:i.validity,validationMessage:i.validationMessage,checkValidity:i.checkValidity,reportValidity:i.reportValidity,setCustomValidity:i.setCustomValidity,labels:i.labels,select:i.select,selectionStart:i.selectionStart,setSelectionStart:i.setSelectionStart,selectionEnd:i.selectionEnd,setSelectionEnd:i.setSelectionEnd,selectionDirection:i.selectionDirection,setSelectionDirection:i.setSelectionDirection,setRangeText:i.setRangeText,setSelectionRange:i.setSelectionRange}},function(e,t,n){"use strict";var r=n(1018);e.exports={hash:r.hash,setHash:r.setHash,host:r.host,setHost:r.setHost,hostname:r.hostname,setHostname:r.setHostname,href:r.href,setHref:r.setHref,origin:r.origin,setOrigin:r.setOrigin,pathname:r.pathname,setPathname:r.setPathname,port:r.port,setPort:r.setPort,protocol:r.protocol,setProtocol:r.setProtocol,search:r.search,setSearch:r.setSearch,assign:r.assign,replace:r.replace,reload:r.reload}},function(e,t,n){"use strict";e.exports={abort:"abort",afterprint:"afterprint",afterscriptexecute:"afterscriptexecute",beforeprint:"beforeprint",beforescriptexecute:"beforescriptexecute",blur:"blur",cancel:"cancel",change:"change",click:"click",close:"close",copy:"copy",cut:"cut",domcontentloaded:"DOMContentLoaded",error:"error",focus:"focus",input:"input",invalid:"invalid",languagechange:"languagechange",load:"load",loadend:"loadend",loadstart:"loadstart",message:"message",offline:"offline",online:"online",paste:"paste",progress:"progress",readystatechange:"readystatechange",reset:"reset",select:"select",storage:"storage",submit:"submit",toggle:"toggle",unload:"unload"}},function(e,t,n){"use strict";var r,i=n(15),o=n(25),a=n(92),u=n(75),s=n(2),c=n(5),f=n(24),l=n(190),d=n(58),h=n(101),p=n(269),m=n(192),y=n(266),v=(r=s.map(h.functorHalogenM)((function(e){return i.bindFlipped(c.bindMaybe)(y.fromElement)(e)})),function(e){return r(h.getRef(e))});e.exports={mkTell:function(e){return e(f.unit)},tell:function(e){return function(e){return function(t){return function(n){return function(r){return function(i){return s.void(h.functorHalogenM)(h.query()(e)(t)(n)(r)(i(f.unit)))}}}}}},tellAll:function(e){return function(e){return function(t){return function(n){return function(r){return s.void(h.functorHalogenM)(h.queryAll()(e)(t)(n)(r(f.unit)))}}}}},mkRequest:function(e){return e(o.identity(o.categoryFn))},request:function(e){return function(e){return function(t){return function(n){return function(r){return function(i){return h.query()(e)(t)(n)(r)(i(o.identity(o.categoryFn)))}}}}}},requestAll:function(e){return function(e){return function(t){return function(n){return function(r){return h.queryAll()(e)(t)(n)(r(o.identity(o.categoryFn)))}}}}},getHTMLElementRef:v,get:a.get,gets:a.gets,modify:a.modify,modify_:a.modify_,put:a.put,lift:u.lift,liftAff:l.liftAff,liftEffect:d.liftEffect,ChildQuery:h.ChildQuery,Fork:h.Fork,GetRef:h.GetRef,Kill:h.Kill,Lift:h.Lift,Par:h.Par,Raise:h.Raise,State:h.State,Subscribe:h.Subscribe,Unsubscribe:h.Unsubscribe,HalogenM:h.HalogenM,fork:h.fork,getRef:h.getRef,kill:h.kill,query:h.query,queryAll:h.queryAll,raise:h.raise,subscribe:h.subscribe,"subscribe'":h["subscribe'"],unsubscribe:h.unsubscribe,Action:p.Action,Finalize:p.Finalize,Initialize:p.Initialize,Query:p.Query,Receive:p.Receive,RefLabel:m.RefLabel}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(25),a=n(336),u=n(41),s=n(2),c=n(265),f=n(70),l=n(26),d=n(146),h=n(29),p=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),m=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),y=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),v=function(e){return function(t){return new y(e,t)}},g=m.create,b=function(e){return function(t){return function(n){return function(r){var o,a=e,s=t,c=n,l=!1;function p(e,t,n,o){if(t instanceof f.Nil)return l=!0,new u.Left(o);if(t instanceof f.Cons){var p=i.apply(e.Apply0())(t.value0.func)(o);if(1===t.value0.count)return t.value1 instanceof f.Nil?(l=!0,new u.Left(p)):(a=e,s=t.value1,c=n,void(r=p));if(n instanceof f.Nil)return l=!0,new u.Left(p);if(n instanceof f.Cons)return l=!0,u.Right.create(new h.Tuple(new f.Cons({func:p,count:t.value0.count-1|0},t.value1),new d.NonEmpty(n.value0,n.value1)));throw new Error("Failed pattern match at Control.Applicative.Free (line 83, column 11 - line 88, column 50): "+[n.constructor.name])}throw new Error("Failed pattern match at Control.Applicative.Free (line 72, column 3 - line 88, column 50): "+[t.constructor.name])}for(;!l;)o=p(a,s,c,r);return o}}}},w=new s.Functor((function(e){return function(t){return v(new p(e))(t)}})),E=function(e){return function(t){return function(n){return function(n){var i,o=!1;function a(i){if(i.value1.value0 instanceof p){if((a=b(e)(i.value0)(i.value1.value1)(r.pure(e)(i.value1.value0.value0)))instanceof u.Left)return o=!0,a.value0;if(a instanceof u.Right)return void(n=a.value0);throw new Error("Failed pattern match at Control.Applicative.Free (line 54, column 17 - line 56, column 24): "+[a.constructor.name])}if(i.value1.value0 instanceof m){var a;if((a=b(e)(i.value0)(i.value1.value1)(t(i.value1.value0.value0)))instanceof u.Left)return o=!0,a.value0;if(a instanceof u.Right)return void(n=a.value0);throw new Error("Failed pattern match at Control.Applicative.Free (line 57, column 17 - line 59, column 24): "+[a.constructor.name])}var s;if(!(i.value1.value0 instanceof y))throw new Error("Failed pattern match at Control.Applicative.Free (line 53, column 5 - line 62, column 47): "+[i.value1.value0.constructor.name]);var l=new d.NonEmpty(i.value1.value0.value1,i.value1.value1);n=(s=e,function(e){return function(t){return function(n){return function(i){return function(o){var a,u=s,l=e,d=t,v=n,g=i,b=!1;function w(e,t,n,i,a,s){if(a instanceof p)return b=!0,new h.Tuple(new f.Cons({func:r.pure(e)(a.value0),count:s},t),n);if(a instanceof m)return b=!0,new h.Tuple(new f.Cons({func:i(a.value0),count:s},t),n);if(a instanceof y)return u=e,l=t,d=c.cons(a.value1)(n),v=i,g=a.value0,void(o=s+1|0);throw new Error("Failed pattern match at Control.Applicative.Free (line 102, column 41 - line 105, column 81): "+[a.constructor.name])}for(;!b;)a=w(u,l,d,v,g,o);return a}}}}})(i.value0)(l)(t)(i.value1.value0.value0)(1)}for(;!o;)i=a(n);return i}(new h.Tuple(f.Nil.value,c.singleton(n)))}}},_=new i.Apply((function(){return w}),(function(e){return function(t){return v(e)(t)}})),S=new r.Applicative((function(){return _}),p.create);e.exports={liftFreeAp:g,retractFreeAp:function(e){return E(e)(o.identity(o.categoryFn))},foldFreeAp:E,hoistFreeAp:function(e){return E(S)((function(t){return g(e(t))}))},analyzeFreeAp:function(e){return function(t){var n=l.unwrap(),r=E(a.applicativeConst(e))((function(e){return a.Const(t(e))}));return function(e){return n(r(e))}}},functorFreeAp:w,applyFreeAp:_,applicativeFreeAp:S}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(15),a=n(25),u=n(40),s=n(74),c=n(75),f=n(1026),l=n(41),d=n(13),h=n(36),p=n(23),m=n(2),y=n(5),v=n(28),g=n(16),b=n(34),w=n(20),E=n(56),_=n(10),S=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),T=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),A=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),P=function(e){var t,n=!1;function r(t){var r=function(e){return function(t){return new S(e.value0,w.append(f.semigroupCatList)(e.value1)(t))}};if(t.value0 instanceof T){var i=f.uncons(t.value1);if(i instanceof y.Nothing)return n=!0,new T(t.value0.value0);if(i instanceof y.Just)return void(e=r((0,i.value0.value0)(t.value0.value0))(i.value0.value1));throw new Error("Failed pattern match at Control.Monad.Free (line 227, column 7 - line 231, column 64): "+[i.constructor.name])}if(t.value0 instanceof A)return n=!0,new A(t.value0.value0,(function(e){return r(t.value0.value1(e))(t.value1)}));throw new Error("Failed pattern match at Control.Monad.Free (line 225, column 3 - line 233, column 56): "+[t.value0.constructor.name])}for(;!n;)t=r(e);return t},k=function(e){return function(t){return function(n){var r=P(n);if(r instanceof T)return t(r.value0);if(r instanceof A)return e(r.value0)(r.value1);throw new Error("Failed pattern match at Control.Monad.Free (line 213, column 17 - line 215, column 20): "+[r.constructor.name])}}},x=function(e){return k((function(t){return function(n){return new l.Left(m.map(e)(n)(t))}}))(l.Right.create)},C=function(e){return new S(e,f.empty)},R=function(e){return C(new A(e,_.unsafeCoerce))},I=new u.Monad((function(){return D}),(function(){return M})),O=new m.Functor((function(e){return function(t){return o.bindFlipped(M)((n=r.pure(D),function(t){return n(e(t))}))(t);var n}})),M=new o.Bind((function(){return N}),(function(e){return function(t){return new S(e.value0,f.snoc(e.value1)(t))}})),N=new i.Apply((function(){return O}),u.ap(I)),D=new r.Applicative((function(){return N}),(function(e){return C(T.create(e))})),L=function(e){return new w.Semigroup(i.lift2(N)(w.append(e)))},j=new s.MonadRec((function(){return I}),(function(e){return function(t){return o.bind(M)(e(t))((function(t){if(t instanceof s.Loop)return s.tailRecM(j)(e)(t.value0);if(t instanceof s.Done)return r.pure(D)(t.value0);throw new Error("Failed pattern match at Control.Monad.Free (line 86, column 26 - line 88, column 21): "+[t.constructor.name])}))}})),B=function(e){return C(new A(e,(t=r.pure(D),function(e){return t(e)})));var t},F=new c.MonadTrans((function(e){return B})),U=function(e){var t=function(n){var i=P(n);if(i instanceof T)return r.pure(D)(i.value0);if(i instanceof A)return o.bind(M)(e(i.value0))(m.map(m.functorFn)(t)(i.value1));throw new Error("Failed pattern match at Control.Monad.Free (line 168, column 10 - line 170, column 33): "+[i.constructor.name])};return t},q=function(e){return function(t){return new h.Foldable((function(n){return function(r){var i,o=(i=x(e),function(e){return function(e){if(e instanceof l.Left)return h.foldMap(t)(n)(o)(e.value0);if(e instanceof l.Right)return r(e.value0);throw new Error("Failed pattern match at Control.Monad.Free (line 93, column 21 - line 95, column 21): "+[e.constructor.name])}(i(e))});return o}}),(function(n){var r=function(i){var o=x(e);return function(e){return function(e){if(e instanceof l.Left)return h.foldl(t)(r)(i)(e.value0);if(e instanceof l.Right)return n(i)(e.value0);throw new Error("Failed pattern match at Control.Monad.Free (line 98, column 23 - line 100, column 23): "+[e.constructor.name])}(o(e))}};return r}),(function(n){var r=function(i){var o=x(e);return function(e){return function(e){if(e instanceof l.Left)return h.foldr(t)(p.flip(r))(i)(e.value0);if(e instanceof l.Right)return n(e.value0)(i);throw new Error("Failed pattern match at Control.Monad.Free (line 103, column 23 - line 105, column 23): "+[e.constructor.name])}(o(e))}};return r}))}},H=function(e){return new E.Traversable((function(){return q(e.Functor0())(e.Foldable1())}),(function(){return O}),(function(t){return function(n){return E.traverse(H(e))(t)(a.identity(a.categoryFn))(n)}}),(function(t){return function(n){var i,a=(i=x(e.Functor0()),function(u){return function(i){if(i instanceof l.Left)return m.map(t.Apply0().Functor0())((u=o.join(M),function(e){return u(B(e))}))(E.traverse(e)(t)(a)(i.value0));var u;if(i instanceof l.Right)return m.map(t.Apply0().Functor0())(r.pure(D))(n(i.value0));throw new Error("Failed pattern match at Control.Monad.Free (line 110, column 21 - line 112, column 30): "+[i.constructor.name])}(i(u))});return a}}))},K=function(e){return function(t){return function(n){return new d.Eq((function(r){return function(i){var o=x(e)(i),a=x(e)(r);return a instanceof l.Left&&o instanceof l.Left?d.eq1(t)(K(e)(t)(n))(a.value0)(o.value0):a instanceof l.Right&&o instanceof l.Right&&d.eq(n)(a.value0)(o.value0)}}))}}},V=function(e){return function(t){return function(n){return new g.Ord((function(){return K(e)(t.Eq10())(n.Eq0())}),(function(r){return function(i){var o=x(e)(i),a=x(e)(r);if(a instanceof l.Left&&o instanceof l.Left)return g.compare1(t)(V(e)(t)(n))(a.value0)(o.value0);if(a instanceof l.Left)return b.LT.value;if(o instanceof l.Left)return b.GT.value;if(a instanceof l.Right&&o instanceof l.Right)return g.compare(n)(a.value0)(o.value0);throw new Error("Failed pattern match at Control.Monad.Free (line 56, column 17 - line 60, column 36): "+[a.constructor.name,o.constructor.name])}}))}}},z=function(e){return function(t){return new d.Eq1((function(n){return d.eq(K(e)(t)(n))}))}};e.exports={suspendF:function(e){return function(t){return R(r.pure(e)(t))}},wrap:R,liftF:B,hoistFree:function(e){return U((function(t){return B(e(t))}))},foldFree:function(e){return function(t){return s.tailRecM(e)((function(n){var i=P(n);if(i instanceof T)return m.map(e.Monad0().Bind1().Apply0().Functor0())(s.Done.create)(r.pure(e.Monad0().Applicative0())(i.value0));if(i instanceof A)return m.map(e.Monad0().Bind1().Apply0().Functor0())((function(e){return s.Loop.create(i.value1(e))}))(t(i.value0));throw new Error("Failed pattern match at Control.Monad.Free (line 158, column 10 - line 160, column 37): "+[i.constructor.name])}))}},substFree:U,runFree:function(e){return function(t){return function(n){var r,i=!1;function o(r){var o=P(r);if(o instanceof T)return i=!0,o.value0;if(!(o instanceof A))throw new Error("Failed pattern match at Control.Monad.Free (line 178, column 10 - line 180, column 33): "+[o.constructor.name]);n=t(m.map(e)(o.value1)(o.value0))}for(;!i;)r=o(n);return r}}},runFreeM:function(e){return function(t){return function(n){return s.tailRecM(t)((function(i){var o=P(i);if(o instanceof T)return m.map(t.Monad0().Bind1().Apply0().Functor0())(s.Done.create)(r.pure(t.Monad0().Applicative0())(o.value0));if(o instanceof A)return m.map(t.Monad0().Bind1().Apply0().Functor0())(s.Loop.create)(n(m.map(e)(o.value1)(o.value0)));throw new Error("Failed pattern match at Control.Monad.Free (line 194, column 10 - line 196, column 37): "+[o.constructor.name])}))}}},resume:x,"resume'":k,eqFree:K,eq1Free:z,ordFree:V,ord1Free:function(e){return function(t){return new g.Ord1((function(){return z(e)(t.Eq10())}),(function(n){return g.compare(V(e)(t)(n))}))}},freeFunctor:O,freeBind:M,freeApplicative:D,freeApply:N,freeMonad:I,freeMonadTrans:F,freeMonadRec:j,foldableFree:q,traversableFree:H,semigroupFree:L,monoidFree:function(e){return new v.Monoid((function(){return L(e.Semigroup0())}),r.pure(D)(v.mempty(e)))}}},function(e,t,n){"use strict";var r,i,o=n(32),a=n(50),u=n(11),s=n(19),c=n(15),f=n(25),l=n(145),d=n(105),h=n(89),p=n(40),m=n(93),y=n(73),v=n(46),g=n(13),b=n(36),w=n(127),E=n(23),_=n(2),S=n(107),T=n(219),A=n(5),P=n(28),k=n(26),x=n(146),C=n(16),R=n(34),I=n(20),O=n(69),M=n(18),N=n(56),D=n(163),L=n(29),j=n(79),B=n(113),F=function(e){return e},U=function(){function e(){}return e.value=new e,e}(),q=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),H=function(e){return e},K=T.defer((function(e){return U.value})),V=new k.Newtype((function(){})),z=new k.Newtype((function(){})),W=(r=k.unwrap(),function(e){return T.force(r(e))}),G=new I.Semigroup((function(e){return function(t){return _.map(T.functorLazy)((function(e){if(e instanceof U)return W(t);if(e instanceof q)return new q(e.value0,I.append(G)(e.value1)(t));throw new Error("Failed pattern match at Data.List.Lazy.Types (line 104, column 5 - line 104, column 21): "+[e.constructor.name])}))(k.unwrap()(e))}})),$=new P.Monoid((function(){return G}),K),J=new h.Lazy((function(e){return T.defer((function(t){return W(e(t))}))})),Q=new _.Functor((function(e){return function(t){return _.map(T.functorLazy)((function(t){if(t instanceof U)return U.value;if(t instanceof q)return new q(e(t.value0),_.map(Q)(e)(t.value1));throw new Error("Failed pattern match at Data.List.Lazy.Types (line 113, column 5 - line 113, column 17): "+[t.constructor.name])}))(k.unwrap()(t))}})),Y=new _.Functor((function(e){return function(t){return _.map(T.functorLazy)(_.map(x.functorNonEmpty(Q))(e))(t)}})),X=new g.Eq1((function(e){return function(t){return function(n){var r;return(r=W(t),function(t){for(var n,i,o,a=r,u=!1;!u;)o=t,n=(i=a)instanceof U&&o instanceof U?(u=!0,!0):i instanceof q&&o instanceof q&&g.eq(e)(i.value0)(o.value0)?(a=W(i.value1),void(t=W(o.value1))):(u=!0,!1);return n})(W(n))}}})),Z=new g.Eq1((function(e){return function(t){return function(n){return g.eq1(T.eq1Lazy)(x.eqNonEmpty(X)(e))(t)(n)}}})),ee=function(e){return new g.Eq(g.eq1(X)(e))},te=new C.Ord1((function(){return X}),(function(e){return function(t){return function(n){var r;return(r=W(t),function(t){var n,i=r,o=!1;function a(n,r){if(n instanceof U&&r instanceof U)return o=!0,R.EQ.value;if(n instanceof U)return o=!0,R.LT.value;if(r instanceof U)return o=!0,R.GT.value;if(n instanceof q&&r instanceof q){var a=C.compare(e)(n.value0)(r.value0);return a instanceof R.EQ?(i=W(n.value1),void(t=W(r.value1))):(o=!0,a)}throw new Error("Failed pattern match at Data.List.Lazy.Types (line 90, column 5 - line 90, column 20): "+[n.constructor.name,r.constructor.name])}for(;!o;)n=a(i,t);return n})(W(n))}}})),ne=new C.Ord1((function(){return Z}),(function(e){return function(t){return function(n){return C.compare1(T.ord1Lazy)(x.ordNonEmpty(te)(e))(t)(n)}}})),re=function(e){return function(t){return T.defer((function(n){return new q(e,t)}))}},ie=new b.Foldable((function(e){return function(t){return b.foldl(ie)((function(n){return function(r){return I.append(e.Semigroup0())(n)(t(r))}}))(P.mempty(e))}}),(function(e){return function(t){return function(n){var r,i=t,o=!1;function a(t,r){var a=W(r);if(a instanceof U)return o=!0,t;if(a instanceof q)return i=e(t)(a.value0),void(n=a.value1);throw new Error("Failed pattern match at Data.List.Lazy.Types (line 128, column 7 - line 130, column 40): "+[a.constructor.name])}for(;!o;)r=a(i,n);return r}}}),(function(e){return function(t){return function(n){var r=b.foldl(ie)(E.flip(re))(K);return b.foldl(ie)(E.flip(e))(t)(r(n))}}})),oe=new d.Extend((function(){return Q}),(function(e){return function(t){var n=W(t);if(n instanceof U)return K;if(n instanceof q)return re(e(t))(b.foldr(ie)((function(t){return function(n){var r=re(t)(n.acc);return{val:re(e(r))(n.val),acc:r}}}))({val:K,acc:K})(n.value1).val);throw new Error("Failed pattern match at Data.List.Lazy.Types (line 200, column 5 - line 203, column 55): "+[n.constructor.name])}})),ae=new d.Extend((function(){return Y}),(function(e){return function(t){var n=function(t){return function(n){return{val:re(e(T.defer((function(e){return new x.NonEmpty(t,n.acc)}))))(n.val),acc:re(t)(n.acc)}}},r=T.force(t);return T.defer((function(i){return new x.NonEmpty(e(t),b.foldr(ie)(n)({val:K,acc:K})(r.value1).val)}))}})),ue=new b.Foldable((function(e){return function(t){return function(n){return b.foldMap(x.foldableNonEmpty(ie))(e)(t)(T.force(n))}}}),(function(e){return function(t){return function(n){return b.foldl(x.foldableNonEmpty(ie))(e)(t)(T.force(n))}}}),(function(e){return function(t){return function(n){return b.foldr(x.foldableNonEmpty(ie))(e)(t)(T.force(n))}}})),se=function(e){return new M.Show((function(t){return"(fromFoldable ["+function(){var n=W(t);if(n instanceof U)return"";if(n instanceof q)return M.show(e)(n.value0)+b.foldl(ie)((function(t){return function(n){return t+","+M.show(e)(n)}}))("")(n.value1);throw new Error("Failed pattern match at Data.List.Lazy.Types (line 67, column 13 - line 70, column 78): "+[n.constructor.name])}()+"])"}))},ce=new w.FoldableWithIndex((function(){return ie}),(function(e){return function(t){return w.foldlWithIndex(ce)((function(n){return function(r){var i=I.append(e.Semigroup0())(r),o=t(n);return function(e){return i(o(e))}}}))(P.mempty(e))}}),(function(e){return function(t){var n=b.foldl(ie)((function(t){return function(n){return new L.Tuple(t.value0+1|0,e(t.value0)(t.value1)(n))}}))(new L.Tuple(0,t));return function(e){return L.snd(n(e))}}}),(function(e){return function(t){return function(n){var r=b.foldl(ie)((function(e){return function(t){return new L.Tuple(e.value0+1|0,re(t)(e.value1))}}))(new L.Tuple(0,K))(n);return L.snd(b.foldl(ie)((function(t){return function(n){return new L.Tuple(t.value0-1|0,e(t.value0-1|0)(n)(t.value1))}}))(new L.Tuple(r.value0,t))(r.value1))}}})),fe=new w.FoldableWithIndex((function(){return ue}),(function(e){return function(t){return function(n){return w.foldMapWithIndex(x.foldableWithIndexNonEmpty(ce))(e)((r=A.maybe(0)(O.add(O.semiringInt)(1)),function(e){return t(r(e))}))(T.force(n));var r}}}),(function(e){return function(t){return function(n){return w.foldlWithIndex(x.foldableWithIndexNonEmpty(ce))((r=A.maybe(0)(O.add(O.semiringInt)(1)),function(t){return e(r(t))}))(t)(T.force(n));var r}}}),(function(e){return function(t){return function(n){return w.foldrWithIndex(x.foldableWithIndexNonEmpty(ce))((r=A.maybe(0)(O.add(O.semiringInt)(1)),function(t){return e(r(t))}))(t)(T.force(n));var r}}})),le=new S.FunctorWithIndex((function(){return Q}),(function(e){return w.foldrWithIndex(ce)((function(t){return function(n){return function(r){return re(e(t)(n))(r)}}}))(K)})),de=new S.FunctorWithIndex((function(){return Y}),(function(e){return function(t){return T.defer((function(n){return S.mapWithIndex(x.functorWithIndex(le))((r=A.maybe(0)(O.add(O.semiringInt)(1)),function(t){return e(r(t))}))(T.force(t));var r}))}})),he=function(e){return h.defer(J)((function(t){var n=T.force(e);return re(n.value0)(n.value1)}))},pe=new I.Semigroup((function(e){return function(t){var n=T.force(e);return T.defer((function(e){return new x.NonEmpty(n.value0,I.append(G)(n.value1)(he(t)))}))}})),me=new N.Traversable((function(){return ie}),(function(){return Q}),(function(e){return N.traverse(me)(e)(f.identity(f.categoryFn))}),(function(e){return function(t){return b.foldr(ie)((function(n){return function(r){return s.apply(e.Apply0())(_.map(e.Apply0().Functor0())(re)(t(n)))(r)}}))(u.pure(e)(K))}})),ye=new N.Traversable((function(){return ue}),(function(){return Y}),(function(e){return function(t){return _.map(e.Apply0().Functor0())((function(e){return T.defer((function(t){return e}))}))(N.sequence(x.traversableNonEmpty(me))(e)(T.force(t)))}}),(function(e){return function(t){return function(n){return _.map(e.Apply0().Functor0())((function(e){return T.defer((function(t){return e}))}))(N.traverse(x.traversableNonEmpty(me))(e)(t)(T.force(n)))}}})),ve=new D.TraversableWithIndex((function(){return ce}),(function(){return le}),(function(){return me}),(function(e){return function(t){return w.foldrWithIndex(ce)((function(n){return function(r){return function(i){return s.apply(e.Apply0())(_.map(e.Apply0().Functor0())(re)(t(n)(r)))(i)}}}))(u.pure(e)(K))}})),ge=new D.TraversableWithIndex((function(){return fe}),(function(){return de}),(function(){return ye}),(function(e){return function(t){return function(n){return _.map(e.Apply0().Functor0())((function(e){return T.defer((function(t){return e}))}))(D.traverseWithIndex(x.traversableWithIndexNonEmpty(ve))(e)((r=A.maybe(0)(O.add(O.semiringInt)(1)),function(e){return t(r(e))}))(T.force(n)));var r}}})),be=new B.Unfoldable1(i=function(e){return function(t){return h.defer(J)((function(n){var r=e(t);if(r.value1 instanceof A.Just)return re(r.value0)(i(e)(r.value1.value0));if(r.value1 instanceof A.Nothing)return re(r.value0)(K);throw new Error("Failed pattern match at Data.List.Lazy.Types (line 152, column 28 - line 154, column 33): "+[r.constructor.name])}))}}),we=new j.Unfoldable((function(){return be}),function(){var e=function(t){return function(n){return h.defer(J)((function(r){var i=t(n);if(i instanceof A.Nothing)return K;if(i instanceof A.Just)return re(i.value0.value0)(e(t)(i.value0.value1));throw new Error("Failed pattern match at Data.List.Lazy.Types (line 158, column 28 - line 160, column 39): "+[i.constructor.name])}))}};return e}()),Ee=new B.Unfoldable1((function(e){return function(t){return T.defer((function(n){return B.unfoldr1(x.unfoldable1NonEmpty(we))(e)(t)}))}})),_e=new l.Comonad((function(){return ae}),(function(e){return x.head(T.force(e))})),Se=new p.Monad((function(){return Pe}),(function(){return Te})),Te=new c.Bind((function(){return Ae}),(function(e){return function(t){return _.map(T.functorLazy)((function(e){if(e instanceof U)return U.value;if(e instanceof q)return W(I.append(G)(t(e.value0))(c.bind(Te)(e.value1)(t)));throw new Error("Failed pattern match at Data.List.Lazy.Types (line 181, column 5 - line 181, column 17): "+[e.constructor.name])}))(k.unwrap()(e))}})),Ae=new s.Apply((function(){return Q}),p.ap(Se)),Pe=new u.Applicative((function(){return Ae}),(function(e){return re(e)(K)})),ke=new s.Apply((function(){return Y}),(function(e){return function(t){var n=T.force(t),r=T.force(e);return T.defer((function(e){return new x.NonEmpty(r.value0(n.value0),I.append(G)(s.apply(Ae)(r.value1)(re(n.value0)(K)))(s.apply(Ae)(re(r.value0)(r.value1))(n.value1)))}))}})),xe=new c.Bind((function(){return ke}),(function(e){return function(t){var n=T.force(e),r=T.force(k.unwrap()(t(n.value0)));return T.defer((function(e){return new x.NonEmpty(r.value0,I.append(G)(r.value1)(c.bind(Te)(n.value1)((function(e){return he(t(e))}))))}))}})),Ce=new o.Alt((function(){return Y}),I.append(pe)),Re=new o.Alt((function(){return Q}),I.append(G)),Ie=new v.Plus((function(){return Re}),K),Oe=new a.Alternative((function(){return Pe}),(function(){return Ie})),Me=new m.MonadPlus((function(){return Oe}),(function(){return Se})),Ne=new y.MonadZero((function(){return Oe}),(function(){return Se}),(function(){})),De=new u.Applicative((function(){return ke}),(function(e){return T.defer((function(t){return x.singleton(Ie)(e)}))})),Le=new p.Monad((function(){return De}),(function(){return xe}));e.exports={List:F,Nil:U,Cons:q,step:W,nil:K,cons:re,NonEmptyList:H,toList:he,showStep:function(e){return new M.Show((function(t){if(t instanceof U)return"Nil";if(t instanceof q)return"("+M.show(e)(t.value0)+" : "+M.show(se(e))(t.value1)+")";throw new Error("Failed pattern match at Data.List.Lazy.Types (line 37, column 1 - line 39, column 62): "+[t.constructor.name])}))},newtypeList:z,showList:se,eqList:ee,eq1List:X,ordList:function(e){return new C.Ord((function(){return ee(e.Eq0())}),C.compare1(te)(e))},ord1List:te,lazyList:J,semigroupList:G,monoidList:$,functorList:Q,functorWithIndexList:le,foldableList:ie,foldableWithIndexList:ce,unfoldable1List:be,unfoldableList:we,traversableList:me,traversableWithIndexList:ve,applyList:Ae,applicativeList:Pe,bindList:Te,monadList:Se,altList:Re,plusList:Ie,alternativeList:Oe,monadZeroList:Ne,monadPlusList:Me,extendList:oe,newtypeNonEmptyList:V,eqNonEmptyList:function(e){return T.eqLazy(x.eqNonEmpty(X)(e))},ordNonEmptyList:function(e){return T.ordLazy(x.ordNonEmpty(te)(e))},eq1NonEmptyList:Z,ord1NonEmptyList:ne,showNonEmptyList:function(e){return new M.Show((function(t){return"(NonEmptyList "+M.show(T.showLazy(x.showNonEmpty(e)(se(e))))(t)+")"}))},functorNonEmptyList:Y,applyNonEmptyList:ke,applicativeNonEmptyList:De,bindNonEmptyList:xe,monadNonEmptyList:Le,altNonEmptyList:Ce,extendNonEmptyList:ae,comonadNonEmptyList:_e,semigroupNonEmptyList:pe,foldableNonEmptyList:ue,traversableNonEmptyList:ye,unfoldable1NonEmptyList:Ee,functorWithIndexNonEmptyList:de,foldableWithIndexNonEmptyList:fe,traversableWithIndexNonEmptyList:ge}},function(e,t,n){"use strict";var r=n(2),i=n(10),o=function(){function e(e,t,n){this.value0=e,this.value1=t,this.value2=n}return e.create=function(t){return function(n){return function(r){return new e(t,n,r)}}},e}(),a=i.unsafeCoerce,u=i.unsafeCoerce,s=new r.Functor((function(e){return a((function(t){return u(new o((function(e){return t.value0(e)}),t.value1,(function(n){return e(t.value2(n))})))}))}));e.exports={ChildQuery:o,mkChildQueryBox:u,unChildQueryBox:a,functorChildQuery:s}},function(e,t,n){"use strict";var r=n(1033),i=n(15),o=n(268),a=n(5),u=n(16),s=n(34),c=function(e){return r.sortByImpl(e)((function(e){if(e instanceof s.GT)return 1;if(e instanceof s.EQ)return 0;if(e instanceof s.LT)return-1;throw new Error("Failed pattern match at Data.Array.ST (line 113, column 31 - line 116, column 11): "+[e.constructor.name])}))},f=r.shiftImpl(a.Just.create)(a.Nothing.value),l=r.popImpl(a.Just.create)(a.Nothing.value),d=r.peekImpl(a.Just.create)(a.Nothing.value);e.exports={run:function(e){return i.bind(o.bindST)(e)(r.unsafeFreeze)()},withArray:function(e){return function(t){return function(){var n=r.thaw(t)();return e(n)(),r.unsafeFreeze(n)()}}},empty:function(e){return r.new},peek:d,modify:function(e){return function(t){return function(n){return function(){var i=d(e)(n)();if(i instanceof a.Just)return r.poke(e)(t(i.value0))(n)();if(i instanceof a.Nothing)return!1;throw new Error("Failed pattern match at Data.Array.ST (line 198, column 3 - line 200, column 26): "+[i.constructor.name])}}}},pop:l,push:function(e){return r.pushAll([e])},shift:f,unshift:function(e){return r.unshiftAll([e])},sort:function(e){return c(u.compare(e))},sortBy:c,sortWith:function(e){return function(t){return c(u.comparing(e)(t))}},new:r.new,poke:r.poke,pushAll:r.pushAll,unshiftAll:r.unshiftAll,splice:r.splice,freeze:r.freeze,thaw:r.thaw,unsafeFreeze:r.unsafeFreeze,unsafeThaw:r.unsafeThaw,toAssocArray:r.toAssocArray}},function(e,t,n){"use strict";var r=n(262),i=n(75),o=n(108),a=function(e,t,n,r,i){this.Functor1=e,this.Monad0=t,this.fork=n,this.join=r,this.suspend=i},u=function(e,t,n){this.MonadFork0=e,this.MonadThrow1=t,this.kill=n},s=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),c=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),f=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),l=function(e,t,n,r,i){this.MonadError1=e,this.MonadKill0=t,this.bracket=n,this.never=r,this.uninterruptible=i},d=function(e){return e.uninterruptible},h=function(e){return e.suspend},p=function(e){return e.never},m=new a((function(){return o.functorFiber}),(function(){return o.monadAff}),o.forkAff,o.joinFiber,o.suspendAff),y=new u((function(){return m}),(function(){return o.monadThrowAff}),o.killFiber),v=new l((function(){return o.monadErrorAff}),(function(){return y}),(function(e){return function(t){return function(n){return o.generalBracket(e)({completed:function(e){return t(s.create(e))},failed:function(e){return t(c.create(e))},killed:function(e){return t(f.create(e))}})(n)}}}),o.never,o.invincible),g=function(e){return e.kill},b=function(e){return e.join},w=function(e){return e.fork},E=function(e){return new a(e.Functor1,(function(){return r.monadReaderT(e.Monad0())}),(function(t){var n=w(e);return function(e){return n(t(e))}}),(t=i.lift(r.monadTransReaderT)(e.Monad0()),n=b(e),function(e){return t(n(e))}),(function(t){var n=h(e);return function(e){return n(t(e))}}));var t,n},_=function(e){return new u((function(){return E(e.MonadFork0())}),(function(){return r.monadThrowReaderT(e.MonadThrow1())}),(function(t){var n=i.lift(r.monadTransReaderT)(e.MonadThrow1().Monad0()),o=g(e)(t);return function(e){return n(o(e))}}))},S=function(e){return e.bracket};e.exports={bracket:S,fork:w,join:b,kill:g,never:p,suspend:h,uninterruptible:d,MonadFork:a,MonadKill:u,Completed:s,Failed:c,Killed:f,MonadBracket:l,monadForkAff:m,monadForkReaderT:E,monadKillAff:y,monadKillReaderT:_,monadBracketAff:v,monadBracketReaderT:function(e){return new l((function(){return r.monadErrorReaderT(e.MonadError1())}),(function(){return _(e.MonadKill0())}),(function(t){return function(n){return function(i){return function(o){return S(e)(t(o))((function(e){return function(t){return r.runReaderT(n(e)(t))(o)}}))((function(e){return r.runReaderT(i(e))(o)}))}}}}),i.lift(r.monadTransReaderT)(e.MonadError1().MonadThrow0().Monad0())(p(e)),(function(t){return function(n){return d(e)(r.runReaderT(t)(n))}}))}}},function(e,t,n){"use strict";var r=function(){function e(){}return e.value=new e,e}(),i=function(){function e(){}return e.value=new e,e}(),o=function(){function e(){}return e.value=new e,e}();e.exports={ButtonButton:r,ButtonSubmit:i,ButtonReset:o,renderButtonType:function(e){if(e instanceof r)return"button";if(e instanceof i)return"submit";if(e instanceof o)return"reset";throw new Error("Failed pattern match at DOM.HTML.Indexed.ButtonType (line 9, column 20 - line 12, column 25): "+[e.constructor.name])}}},function(e,t,n){"use strict";var r=function(){function e(){}return e.value=new e,e}(),i=function(){function e(){}return e.value=new e,e}();e.exports={POST:r,GET:i,renderFormMethod:function(e){if(e instanceof r)return"post";if(e instanceof i)return"get";throw new Error("Failed pattern match at DOM.HTML.Indexed.FormMethod (line 8, column 20 - line 10, column 15): "+[e.constructor.name])}}},function(e,t,n){"use strict";var r=n(2),i=n(20),o=n(129),a=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),u=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),s=new i.Semigroup((function(e){return function(t){return i.append(i.semigroupArray)(e)(t)}})),c=function(e){if(e instanceof a)return e.value0;if(e instanceof u)return e.value0;throw new Error("Failed pattern match at DOM.HTML.Indexed.InputAcceptType (line 28, column 29 - line 30, column 33): "+[e.constructor.name])};e.exports={InputAcceptType:function(e){return e},mediaType:function(e){return[new a(e)]},extension:function(e){return[new u(e)]},AcceptMediaType:a,AcceptFileExtension:u,renderInputAcceptType:function(e){return o.joinWith(",")(r.map(r.functorArray)(c)(e))},renderInputAcceptTypeAtom:c,semigroupInputAcceptType:s}},function(e,t,n){"use strict";var r=function(){function e(){}return e.value=new e,e}(),i=function(){function e(){}return e.value=new e,e}(),o=function(){function e(){}return e.value=new e,e}(),a=function(){function e(){}return e.value=new e,e}(),u=function(){function e(){}return e.value=new e,e}(),s=function(){function e(){}return e.value=new e,e}(),c=function(){function e(){}return e.value=new e,e}(),f=function(){function e(){}return e.value=new e,e}(),l=function(){function e(){}return e.value=new e,e}(),d=function(){function e(){}return e.value=new e,e}(),h=function(){function e(){}return e.value=new e,e}(),p=function(){function e(){}return e.value=new e,e}(),m=function(){function e(){}return e.value=new e,e}(),y=function(){function e(){}return e.value=new e,e}(),v=function(){function e(){}return e.value=new e,e}(),g=function(){function e(){}return e.value=new e,e}(),b=function(){function e(){}return e.value=new e,e}(),w=function(){function e(){}return e.value=new e,e}(),E=function(){function e(){}return e.value=new e,e}(),_=function(){function e(){}return e.value=new e,e}(),S=function(){function e(){}return e.value=new e,e}(),T=function(){function e(){}return e.value=new e,e}();e.exports={InputButton:r,InputCheckbox:i,InputColor:o,InputDate:a,InputDatetimeLocal:u,InputEmail:s,InputFile:c,InputHidden:f,InputImage:l,InputMonth:d,InputNumber:h,InputPassword:p,InputRadio:m,InputRange:y,InputReset:v,InputSearch:g,InputSubmit:b,InputTel:w,InputText:E,InputTime:_,InputUrl:S,InputWeek:T,renderInputType:function(e){if(e instanceof r)return"button";if(e instanceof i)return"checkbox";if(e instanceof o)return"color";if(e instanceof a)return"date";if(e instanceof u)return"datetime-local";if(e instanceof s)return"email";if(e instanceof c)return"file";if(e instanceof f)return"hidden";if(e instanceof l)return"image";if(e instanceof d)return"month";if(e instanceof h)return"number";if(e instanceof p)return"password";if(e instanceof m)return"radio";if(e instanceof y)return"range";if(e instanceof v)return"reset";if(e instanceof g)return"search";if(e instanceof b)return"submit";if(e instanceof w)return"tel";if(e instanceof E)return"text";if(e instanceof _)return"time";if(e instanceof S)return"url";if(e instanceof T)return"week";throw new Error("Failed pattern match at DOM.HTML.Indexed.InputType (line 28, column 19 - line 50, column 22): "+[e.constructor.name])}}},function(e,t,n){"use strict";var r=function(){function e(){}return e.value=new e,e}(),i=function(){function e(){}return e.value=new e,e}(),o=function(){function e(){}return e.value=new e,e}();e.exports={MenuList:r,MenuContext:i,MenuToolbar:o,renderMenuType:function(e){if(e instanceof r)return"list";if(e instanceof i)return"context";if(e instanceof o)return"toolbar";throw new Error("Failed pattern match at DOM.HTML.Indexed.MenuType (line 9, column 18 - line 12, column 27): "+[e.constructor.name])}}},function(e,t,n){"use strict";var r=function(){function e(){}return e.value=new e,e}(),i=function(){function e(){}return e.value=new e,e}(),o=function(){function e(){}return e.value=new e,e}();e.exports={MenuitemCommand:r,MenuitemCheckbox:i,MenuitemRadio:o,renderMenuitemType:function(e){if(e instanceof r)return"command";if(e instanceof i)return"checkbox";if(e instanceof o)return"radio";throw new Error("Failed pattern match at DOM.HTML.Indexed.MenuitemType (line 9, column 22 - line 12, column 27): "+[e.constructor.name])}}},function(e,t,n){"use strict";var r=function(){function e(){}return e.value=new e,e}(),i=function(){function e(){}return e.value=new e,e}();e.exports={On:r,Off:i,renderOnOff:function(e){if(e instanceof r)return"on";if(e instanceof i)return"off";throw new Error("Failed pattern match at DOM.HTML.Indexed.OnOff (line 8, column 15 - line 10, column 15): "+[e.constructor.name])}}},function(e,t,n){"use strict";var r=function(){function e(){}return e.value=new e,e}(),i=function(){function e(){}return e.value=new e,e}(),o=function(){function e(){}return e.value=new e,e}(),a=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),u=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),s=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}();e.exports={Uppercase:r,Lowercase:i,NumeralDecimal:o,NumeralRoman:a,OrderedListNumeric:u,OrderedListAlphabetic:s,renderOrderedListType:function(e){if(e instanceof u&&e.value0 instanceof o)return"1";if(e instanceof u&&e.value0 instanceof a&&e.value0.value0 instanceof i)return"i";if(e instanceof u&&e.value0 instanceof a&&e.value0.value0 instanceof r)return"I";if(e instanceof s&&e.value0 instanceof i)return"a";if(e instanceof s&&e.value0 instanceof r)return"A";throw new Error("Failed pattern match at DOM.HTML.Indexed.OrderedListType (line 16, column 25 - line 21, column 41): "+[e.constructor.name])}}},function(e,t,n){"use strict";var r=function(){function e(){}return e.value=new e,e}(),i=function(){function e(){}return e.value=new e,e}(),o=function(){function e(){}return e.value=new e,e}();e.exports={PreloadNone:r,PreloadAuto:i,PreloadMetadata:o,renderPreloadValue:function(e){if(e instanceof r)return"none";if(e instanceof i)return"auto";if(e instanceof o)return"metadata";throw new Error("Failed pattern match at DOM.HTML.Indexed.PreloadValue (line 9, column 22 - line 12, column 32): "+[e.constructor.name])}}},function(e,t,n){"use strict";var r=function(){function e(){}return e.value=new e,e}(),i=function(){function e(){}return e.value=new e,e}(),o=function(){function e(){}return e.value=new e,e}(),a=function(){function e(){}return e.value=new e,e}(),u=function(){function e(){}return e.value=new e,e}();e.exports={ScopeRow:r,ScopeCol:i,ScopeRowGroup:o,ScopeColGroup:a,ScopeAuto:u,renderScopeValue:function(e){if(e instanceof r)return"row";if(e instanceof i)return"col";if(e instanceof o)return"rowgroup";if(e instanceof a)return"colgroup";if(e instanceof u)return"auto";throw new Error("Failed pattern match at DOM.HTML.Indexed.ScopeValue (line 11, column 20 - line 16, column 22): "+[e.constructor.name])}}},function(e,t,n){"use strict";var r=n(18),i=function(){function e(){}return e.value=new e,e}(),o=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}();e.exports={Any:i,Step:o,renderStepValue:function(e){if(e instanceof i)return"any";if(e instanceof o)return r.show(r.showNumber)(e.value0);throw new Error("Failed pattern match at DOM.HTML.Indexed.StepValue (line 10, column 19 - line 12, column 19): "+[e.constructor.name])}}},function(e,t,n){"use strict";var r=n(1049),i=n(5),o=r.peekImpl(i.Just.create)(i.Nothing.value);e.exports={peek:o,new:r.new,poke:r.poke,delete:r.delete}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(1054),i=n(11),o=n(19),a=n(15),u=n(25),s=n(268),c=n(94),f=n(13),l=n(36),d=n(127),h=n(23),p=n(271),m=n(2),y=n(107),v=n(5),g=n(28),b=n(16),w=n(20),E=n(18),_=n(56),S=n(163),T=n(29),A=n(79),P=n(540),k=n(10),x=r.toArrayWithKey((function(e){return function(e){return e}})),C=function(e){var t=c.toUnfoldable(e),n=c.sortWith(b.ordString)(T.fst),i=r.toArrayWithKey(T.Tuple.create);return function(e){return t(n(i(e)))}},R=C(A.unfoldableArray),I=r.toArrayWithKey(T.Tuple.create),O=r._copyST,M=function(e){return function(t){return r.runST((function(){var n=O(t)();return e(n)(),n}))}},N=p.runFn4(r._lookup)(!1)(h.const(!0)),D=function(e){return function(t){return r._mapWithKey(t,e)}},L=p.runFn4(r._lookup)(v.Nothing.value)(v.Just.create),j=function(e){return function(t){return function(n){return r.all((function(t){return function(i){return r._lookup(!1,f.eq(e)(i),t,n)}}))(t)}}},B=r.all((function(e){return function(e){return!1}})),F=function(e){return function(t){return M(P.poke(e)(t))}},U=new m.Functor((function(e){return function(t){return r._fmapObject(t,e)}})),q=new y.FunctorWithIndex((function(){return U}),D),H=r._copyST,K=function(e){return function(t){return function(n){return r._foldM(a.bind(e.Bind1()))(t)(i.pure(e.Applicative0())(n))}}},V=function(e){return M((function(t){return K(s.monadST)((function(e){return function(t){return function(n){return P.poke(t)(n)(e)}}}))(t)(e)}))},z=function(e){return function(t){return function(n){return M((function(i){return K(s.monadST)((function(t){return function(i){return function(o){return P.poke(i)(r._lookup(o,(function(t){return e(o)(t)}),i,n))(t)}}}))(i)(t)}))(n)}}},W=function(e){return new w.Semigroup(z(w.append(e)))},G=r._foldM(h.applyFlipped),$=function(e){return function(t){return G((function(n){return function(r){return function(i){return w.append(e.Semigroup0())(n)(t(r)(i))}}}))(g.mempty(e))}},J=new l.Foldable((function(e){return function(t){return $(e)(h.const(t))}}),(function(e){return G((function(t){return function(n){return e(t)}}))}),(function(e){return function(t){return function(n){return l.foldr(l.foldableArray)(e)(t)(x(n))}}})),Q=new d.FoldableWithIndex((function(){return J}),(function(e){return $(e)}),(function(e){return G(h.flip(e))}),(function(e){return function(t){return function(n){return l.foldr(l.foldableArray)(T.uncurry(e))(t)(r.toArrayWithKey(T.Tuple.create)(n))}}})),Y=new S.TraversableWithIndex((function(){return Q}),(function(){return q}),(function(){return X}),(function(e){return function(t){return function(n){return G((function(n){return function(r){return function(i){return o.apply(e.Apply0())(m.map(e.Apply0().Functor0())(h.flip(F(r)))(n))(t(r)(i))}}}))(i.pure(e)(r.empty))(n)}}})),X=new _.Traversable((function(){return J}),(function(){return U}),(function(e){return _.traverse(X)(e)(u.identity(u.categoryFn))}),(function(e){var t=S.traverseWithIndex(Y)(e);return function(e){return t(h.const(e))}})),Z=function(e){return function(t){var n,o=(n=function(t){return function(n){return function(r){return e(n)(r)?P.poke(n)(r)(t):i.pure(s.applicativeST)(t)}}},function(){var e=P.new();return K(s.monadST)(n)(e)(t)()});return r.runST(o)}},ee=function(e){return new f.Eq((function(t){return function(n){return j(e)(t)(n)&&j(e)(n)(t)}}))},te=new f.Eq1((function(e){return f.eq(ee(e))})),ne=function(e){return M(P.delete(e))},re=function(e){return function(t){return function(n){var r=e(L(t)(n));if(r instanceof v.Nothing)return ne(t)(n);if(r instanceof v.Just)return F(t)(r.value0)(n);throw new Error("Failed pattern match at Foreign.Object (line 209, column 15 - line 211, column 25): "+[r.constructor.name])}}};e.exports={isEmpty:B,singleton:function(e){return function(t){return r.runST(a.bindFlipped(s.bindST)(P.poke(e)(t))(P.new))}},insert:F,lookup:L,toUnfoldable:function(e){var t=c.toUnfoldable(e),n=r.toArrayWithKey(T.Tuple.create);return function(e){return t(n(e))}},toAscUnfoldable:C,fromFoldable:function(e){return function(t){return r.runST((function(){var n=P.new();return s.foreach(c.fromFoldable(e)(t))((function(e){return m.void(s.functorST)(P.poke(e.value0)(e.value1)(n))}))(),n}))}},fromFoldableWith:function(e){return function(t){return function(n){return r.runST((function(){var i=P.new();return l.for_(s.applicativeST)(e)(n)((function(e){return function(){var n=r._lookupST(e.value1,t(e.value1),e.value0,i)();return P.poke(e.value0)(n)(i)()}}))(),i}))}}},fromHomogeneous:function(e){return k.unsafeCoerce},delete:ne,pop:function(e){return function(t){return m.mapFlipped(v.functorMaybe)(L(e)(t))((function(n){return new T.Tuple(n,ne(e)(t))}))}},member:N,alter:re,update:function(e){return function(t){return function(n){return re(v.maybe(v.Nothing.value)(e))(t)(n)}}},mapWithKey:D,filterWithKey:Z,filterKeys:function(e){return Z((function(t){return h.const(e(t))}))},filter:function(e){return Z(h.const(e))},values:x,union:V,unionWith:z,unions:function(e){return l.foldl(e)(V)(r.empty)},isSubmap:j,fold:G,foldMap:$,foldM:K,foldMaybe:function(e){return function(t){return function(n){return r._foldSCObject(n,t,e,v.fromMaybe)}}},thawST:O,freezeST:H,functorObject:U,functorWithIndexObject:q,foldableObject:J,foldableWithIndexObject:Q,traversableObject:X,traversableWithIndexObject:Y,eqObject:ee,eq1Object:te,ordObject:function(e){return new b.Ord((function(){return ee(e.Eq0())}),(function(t){return function(n){return b.compare(b.ordArray(T.ordTuple(b.ordString)(e)))(R(t))(R(n))}}))},showObject:function(e){return new E.Show((function(t){return"(fromFoldable "+E.show(E.showArray(T.showTuple(E.showString)(e)))(I(t))+")"}))},semigroupObject:W,monoidObject:function(e){return new g.Monoid((function(){return W(e)}),r.empty)},empty:r.empty,size:r.size,keys:r.keys,all:r.all,runST:r.runST,toArrayWithKey:r.toArrayWithKey}},function(e,t,n){"use strict";var r=n(1065),i=n(19),o=n(15),a=n(63),u=n(544),s=n(352),c=n(76),f=n(13),l=n(23),d=n(2),h=n(5),p=n(16),m=n(34),y=n(18),v=n(545),g=n(353),b=n(218),w=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),E=function(e){return{year:c.fromEnum(s.boundedEnumYear)(u.year(e.value0)),month:c.fromEnum(s.boundedEnumMonth)(u.month(e.value0)),day:c.fromEnum(s.boundedEnumDay)(u.day(e.value0)),hour:c.fromEnum(g.boundedEnumHour)(v.hour(e.value1)),minute:c.fromEnum(g.boundedEnumMinute)(v.minute(e.value1)),second:c.fromEnum(g.boundedEnumSecond)(v.second(e.value1)),millisecond:c.fromEnum(g.boundedEnumMillisecond)(v.millisecond(e.value1))}},_=new y.Show((function(e){return"(DateTime "+y.show(u.showDate)(e.value0)+" "+y.show(v.showTime)(e.value1)+")"})),S=new f.Eq((function(e){return function(t){return f.eq(u.eqDate)(e.value0)(t.value0)&&f.eq(v.eqTime)(e.value1)(t.value1)}})),T=new p.Ord((function(){return S}),(function(e){return function(t){var n=p.compare(u.ordDate)(e.value0)(t.value0);return n instanceof m.LT?m.LT.value:n instanceof m.GT?m.GT.value:p.compare(v.ordTime)(e.value1)(t.value1)}})),A=new a.Bounded((function(){return T}),new w(a.bottom(u.boundedDate),a.bottom(v.boundedTime)),new w(a.top(u.boundedDate),a.top(v.boundedTime)));e.exports={DateTime:w,date:function(e){return e.value0},modifyDate:function(e){return function(t){return new w(e(t.value0),t.value1)}},modifyDateF:function(e){return function(t){return function(n){return d.map(e)(l.flip(w.create)(n.value1))(t(n.value0))}}},time:function(e){return e.value1},modifyTime:function(e){return function(t){return new w(t.value0,e(t.value1))}},modifyTimeF:function(e){return function(t){return function(n){return d.map(e)(w.create(n.value0))(t(n.value1))}}},adjust:function(e){return function(t){return function(n){return o.bind(h.bindMaybe)(r.adjustImpl(h.Just.create)(h.Nothing.value)(b.fromDuration(e)(t))(E(n)))((function(e){return i.apply(h.applyMaybe)(d.map(h.functorMaybe)(w.create)(o.join(h.bindMaybe)(i.apply(h.applyMaybe)(i.apply(h.applyMaybe)(d.map(h.functorMaybe)(u.exactDate)(c.toEnum(s.boundedEnumYear)(e.year)))(c.toEnum(s.boundedEnumMonth)(e.month)))(c.toEnum(s.boundedEnumDay)(e.day)))))(i.apply(h.applyMaybe)(i.apply(h.applyMaybe)(i.apply(h.applyMaybe)(d.map(h.functorMaybe)(v.Time.create)(c.toEnum(g.boundedEnumHour)(e.hour)))(c.toEnum(g.boundedEnumMinute)(e.minute)))(c.toEnum(g.boundedEnumSecond)(e.second)))(c.toEnum(g.boundedEnumMillisecond)(e.millisecond)))}))}}},diff:function(e){return function(t){return function(n){return b.toDuration(e)(r.calcDiff(E(t),E(n)))}}},eqDateTime:S,ordDateTime:T,boundedDateTime:A,showDateTime:_,April:u.April,August:u.August,December:u.December,February:u.February,January:u.January,July:u.July,June:u.June,March:u.March,May:u.May,November:u.November,October:u.October,September:u.September,Friday:u.Friday,Monday:u.Monday,Saturday:u.Saturday,Sunday:u.Sunday,Thursday:u.Thursday,Tuesday:u.Tuesday,Wednesday:u.Wednesday,canonicalDate:u.canonicalDate,day:u.day,exactDate:u.exactDate,month:u.month,weekday:u.weekday,year:u.year,Time:v.Time,hour:v.hour,millisecond:v.millisecond,minute:v.minute,second:v.second,setHour:v.setHour,setMillisecond:v.setMillisecond,setMinute:v.setMinute,setSecond:v.setSecond}},function(e,t,n){"use strict";var r=n(1066),i=n(11),o=n(19),a=n(15),u=n(54),s=n(63),c=n(352),f=n(76),l=n(13),d=n(216),h=n(23),p=n(2),m=n(189),y=n(5),v=n(16),g=n(34),b=n(18),w=n(218),E=function(){function e(e,t,n){this.value0=e,this.value1=t,this.value2=n}return e.create=function(t){return function(n){return function(r){return new e(t,n,r)}}},e}(),_=new b.Show((function(e){return"(Date "+b.show(c.showYear)(e.value0)+" "+b.show(c.showMonth)(e.value1)+" "+b.show(c.showDay)(e.value2)+")"})),S=function(e){var t=f.fromEnum(c.boundedEnumYear)(e);return!(0!==d.mod(d.euclideanRingInt)(t)(4)||0!==d.mod(d.euclideanRingInt)(t)(400)&&0===d.mod(d.euclideanRingInt)(t)(100))},T=function(e){return function(t){var n,r,i=(n=y.fromJust(),r=f.toEnum(c.boundedEnumDay),function(e){return n(r(e))});if(t instanceof c.January)return i(31);if(t instanceof c.February){if(S(e))return i(29);if(u.otherwise)return i(28)}if(t instanceof c.March)return i(31);if(t instanceof c.April)return i(30);if(t instanceof c.May)return i(31);if(t instanceof c.June)return i(30);if(t instanceof c.July)return i(31);if(t instanceof c.August)return i(31);if(t instanceof c.September)return i(30);if(t instanceof c.October)return i(31);if(t instanceof c.November)return i(30);if(t instanceof c.December)return i(31);throw new Error("Failed pattern match at Data.Date (line 127, column 22 - line 141, column 27): "+[t.constructor.name])}},A=new l.Eq((function(e){return function(t){return l.eq(c.eqYear)(e.value0)(t.value0)&&l.eq(c.eqMonth)(e.value1)(t.value1)&&l.eq(c.eqDay)(e.value2)(t.value2)}})),P=new v.Ord((function(){return A}),(function(e){return function(t){var n=v.compare(c.ordYear)(e.value0)(t.value0);if(n instanceof g.LT)return g.LT.value;if(n instanceof g.GT)return g.GT.value;var r=v.compare(c.ordMonth)(e.value1)(t.value1);return r instanceof g.LT?g.LT.value:r instanceof g.GT?g.GT.value:v.compare(c.ordDay)(e.value2)(t.value2)}})),k=new f.Enum((function(){return P}),(function(e){var t=f.pred(c.enumMonth)(e.value1),n=f.pred(c.enumDay)(e.value2),r=y.isNothing(n)&&y.isNothing(t)?f.pred(c.enumYear)(e.value0):new y.Just(e.value0),a=y.isNothing(n)?y.fromMaybe(c.December.value)(t):e.value1,u=T(e.value0)(a),s=y.isNothing(n)?new y.Just(u):n;return o.apply(y.applyMaybe)(o.apply(y.applyMaybe)(p.map(y.functorMaybe)(E.create)(r))(i.pure(y.applicativeMaybe)(a)))(s)}),(function(e){var t,n=f.succ(c.enumMonth)(e.value1),r=T(e.value0)(e.value1),a=(t=f.succ(c.enumDay)(e.value2),v.greaterThan(y.ordMaybe(c.ordDay))(t)(new y.Just(r))?y.Nothing.value:t),u=y.isNothing(a)?y.fromMaybe(c.January.value)(n):e.value1,s=y.isNothing(a)&&y.isNothing(n)?f.succ(c.enumYear)(e.value0):new y.Just(e.value0),l=y.isNothing(a)?f.toEnum(c.boundedEnumDay)(1):a;return o.apply(y.applyMaybe)(o.apply(y.applyMaybe)(p.map(y.functorMaybe)(E.create)(s))(i.pure(y.applicativeMaybe)(u)))(l)})),x=function(e){return function(t){return function(n){return r.canonicalDateImpl((function(e){return function(t){return function(n){return new E(e,y.fromJust()(f.toEnum(c.boundedEnumMonth)(t)),n)}}}),e,f.fromEnum(c.boundedEnumMonth)(t),n)}}},C=new s.Bounded((function(){return P}),new E(s.bottom(c.boundedYear),s.bottom(c.boundedMonth),s.bottom(c.boundedDay)),new E(s.top(c.boundedYear),s.top(c.boundedMonth),s.top(c.boundedDay)));e.exports={canonicalDate:x,exactDate:function(e){return function(t){return function(n){var r=new E(e,t,n);return l.eq(A)(x(e)(t)(n))(r)?new y.Just(r):y.Nothing.value}}},year:function(e){return e.value0},month:function(e){return e.value1},day:function(e){return e.value2},weekday:function(e){var t=r.calcWeekday(e.value0,f.fromEnum(c.boundedEnumMonth)(e.value1),e.value2);return 0===t?y.fromJust()(f.toEnum(c.boundedEnumWeekday)(7)):y.fromJust()(f.toEnum(c.boundedEnumWeekday)(t))},diff:function(e){return function(t){return function(n){return w.toDuration(e)(r.calcDiff(t.value0,f.fromEnum(c.boundedEnumMonth)(t.value1),t.value2,n.value0,f.fromEnum(c.boundedEnumMonth)(n.value1),n.value2))}}},isLeapYear:S,lastDayOfMonth:T,adjust:function(e){return function(t){var n=function(e){return function(t){if(0===e)return new y.Just(t);var r=e+f.fromEnum(c.boundedEnumDay)(t.value2)|0,i=r<1,o=T(t.value0)(i?y.fromMaybe(c.December.value)(f.pred(c.enumMonth)(t.value1)):t.value1),s=r>f.fromEnum(c.boundedEnumDay)(o),l=function(){if(i)return r;if(s)return(r-f.fromEnum(c.boundedEnumDay)(o)|0)-1|0;if(u.otherwise)return 0;throw new Error("Failed pattern match at Data.Date (line 101, column 9 - line 103, column 28): "+[])}(),d=function(){if(i)return a.bindFlipped(y.bindMaybe)(f.pred(k))(p.map(y.functorMaybe)(E.create(t.value0)(t.value1))(f.toEnum(c.boundedEnumDay)(1)));if(s)return f.succ(k)(new E(t.value0,t.value1,o));if(u.otherwise)return p.map(y.functorMaybe)(E.create(t.value0)(t.value1))(f.toEnum(c.boundedEnumDay)(r));throw new Error("Failed pattern match at Data.Date (line 104, column 9 - line 106, column 48): "+[])}();return a.bindFlipped(y.bindMaybe)(n(l))(d)}};return a.bind(y.bindMaybe)(m.fromNumber(e))(h.flip(n)(t))}},eqDate:A,ordDate:P,boundedDate:C,showDate:_,enumDate:k,April:c.April,August:c.August,December:c.December,February:c.February,January:c.January,July:c.July,June:c.June,March:c.March,May:c.May,November:c.November,October:c.October,September:c.September,Friday:c.Friday,Monday:c.Monday,Saturday:c.Saturday,Sunday:c.Sunday,Thursday:c.Thursday,Tuesday:c.Tuesday,Wednesday:c.Wednesday}},function(e,t,n){"use strict";var r=n(19),i=n(63),o=n(76),a=n(13),u=n(2),s=n(189),c=n(5),f=n(26),l=n(16),d=n(34),h=n(20),p=n(18),m=n(353),y=n(218),v=n(29),g=n(511),b=function(){function e(e,t,n,r){this.value0=e,this.value1=t,this.value2=n,this.value3=r}return e.create=function(t){return function(n){return function(r){return function(i){return new e(t,n,r,i)}}}},e}(),w=new p.Show((function(e){return"(Time "+p.show(m.showHour)(e.value0)+" "+p.show(m.showMinute)(e.value1)+" "+p.show(m.showSecond)(e.value2)+" "+p.show(m.showMillisecond)(e.value3)+")"})),E=function(e){return e.value2},_=function(e){return e.value1},S=function(e){return e.value3},T=function(e){return e.value0},A=function(e){return y.Milliseconds(36e5*s.toNumber(o.fromEnum(m.boundedEnumHour)(T(e)))+6e4*s.toNumber(o.fromEnum(m.boundedEnumMinute)(_(e)))+1e3*s.toNumber(o.fromEnum(m.boundedEnumSecond)(E(e)))+s.toNumber(o.fromEnum(m.boundedEnumMillisecond)(S(e))))},P=new a.Eq((function(e){return function(t){return a.eq(m.eqHour)(e.value0)(t.value0)&&a.eq(m.eqMinute)(e.value1)(t.value1)&&a.eq(m.eqSecond)(e.value2)(t.value2)&&a.eq(m.eqMillisecond)(e.value3)(t.value3)}})),k=new l.Ord((function(){return P}),(function(e){return function(t){var n=l.compare(m.ordHour)(e.value0)(t.value0);if(n instanceof d.LT)return d.LT.value;if(n instanceof d.GT)return d.GT.value;var r=l.compare(m.ordMinute)(e.value1)(t.value1);if(r instanceof d.LT)return d.LT.value;if(r instanceof d.GT)return d.GT.value;var i=l.compare(m.ordSecond)(e.value2)(t.value2);return i instanceof d.LT?d.LT.value:i instanceof d.GT?d.GT.value:l.compare(m.ordMillisecond)(e.value3)(t.value3)}})),x=new i.Bounded((function(){return k}),new b(i.bottom(m.boundedHour),i.bottom(m.boundedMinute),i.bottom(m.boundedSecond),i.bottom(m.boundedMillisecond)),new b(i.top(m.boundedHour),i.top(m.boundedMinute),i.top(m.boundedSecond),i.top(m.boundedMillisecond))),C=A(i.top(x)),R=A(i.bottom(x));e.exports={Time:b,hour:T,setHour:function(e){return function(t){return new b(e,t.value1,t.value2,t.value3)}},minute:_,setMinute:function(e){return function(t){return new b(t.value0,e,t.value2,t.value3)}},second:E,setSecond:function(e){return function(t){return new b(t.value0,t.value1,e,t.value3)}},millisecond:S,setMillisecond:function(e){return function(t){return new b(t.value0,t.value1,t.value2,e)}},adjust:function(e){return function(t){return function(n){var i,a,d,p,w,E=A(n),_=y.fromDuration(e)(t),S=y.Days(g.floor(f.unwrap()(_)/864e5)),T=h.append(y.semigroupMilliseconds)(_)(y.negateDuration(y.durationMilliseconds)(y.fromDuration(y.durationDays)(S))),P=h.append(y.semigroupMilliseconds)(E)(T),k=l.greaterThan(y.ordMilliseconds)(P)(C)?1:l.lessThan(y.ordMilliseconds)(P)(R)?-1:0;return new v.Tuple(h.append(y.semigroupDays)(S)(k),(i=h.append(y.semigroupMilliseconds)(P)(864e5*-k),a=g.floor(i/36e5),d=g.floor((i-36e5*a)/6e4),p=g.floor((i-(36e5*a+6e4*d))/1e3),w=i-(36e5*a+6e4*d+1e3*p),c.fromJust()(r.apply(c.applyMaybe)(r.apply(c.applyMaybe)(r.apply(c.applyMaybe)(u.map(c.functorMaybe)(b.create)(o.toEnum(m.boundedEnumHour)(s.floor(a))))(o.toEnum(m.boundedEnumMinute)(s.floor(d))))(o.toEnum(m.boundedEnumSecond)(s.floor(p))))(o.toEnum(m.boundedEnumMillisecond)(s.floor(w))))))}}},diff:function(e){return function(t){return function(n){return y.toDuration(e)(h.append(y.semigroupMilliseconds)(A(t))(y.negateDuration(y.durationMilliseconds)(A(n))))}}},eqTime:P,ordTime:k,boundedTime:x,showTime:w}},function(e,t,n){"use strict";var r=n(75),i=n(101),o=function(e,t){this.Monad0=e,this.navigate=t},a=function(e){return e.navigate};e.exports={navigate:a,Navigate:o,navigateHalogenM:function(e){return new o((function(){return i.monadHalogenM}),(t=r.lift(i.monadTransHalogenM)(e.Monad0()),n=a(e),function(e){return t(n(e))}));var t,n}}},function(e,t,n){"use strict";var r=n(75),i=n(101),o=function(e,t,n,r,i){this.Monad0=e,this.now=t,this.nowDate=n,this.nowDateTime=r,this.nowTime=i},a=function(e){return e.nowTime},u=function(e){return e.nowDateTime},s=function(e){return e.nowDate},c=function(e){return e.now};e.exports={now:c,nowDate:s,nowDateTime:u,nowTime:a,Now:o,nowHalogenM:function(e){return new o((function(){return i.monadHalogenM}),r.lift(i.monadTransHalogenM)(e.Monad0())(c(e)),r.lift(i.monadTransHalogenM)(e.Monad0())(s(e)),r.lift(i.monadTransHalogenM)(e.Monad0())(u(e)),r.lift(i.monadTransHalogenM)(e.Monad0())(a(e)))}}},function(e,t,n){"use strict";var r=n(75),i=n(101),o=function(e,t,n){this.Monad0=e,this.createTopic=t,this.getTopics=n},a=function(e){return e.getTopics},u=function(e){return e.createTopic};e.exports={createTopic:u,getTopics:a,ManageTopic:o,manageTopicHalogenM:function(e){return new o((function(){return i.monadHalogenM}),(t=r.lift(i.monadTransHalogenM)(e.Monad0()),n=u(e),function(e){return t(n(e))}),r.lift(i.monadTransHalogenM)(e.Monad0())(a(e)));var t,n}}},function(e,t,n){"use strict";var r=n(13),i=n(5),o=n(16),a=n(34),u=function(){function e(){}return e.value=new e,e}(),s=function(){function e(){}return e.value=new e,e}(),c=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),f=function(){function e(){}return e.value=new e,e}(),l=new r.Eq((function(e){return function(t){return e instanceof u&&t instanceof u||e instanceof s&&t instanceof s}})),d=new o.Ord((function(){return l}),(function(e){return function(t){if(e instanceof u&&t instanceof u)return a.EQ.value;if(e instanceof u)return a.LT.value;if(t instanceof u)return a.GT.value;if(e instanceof s&&t instanceof s)return a.EQ.value;throw new Error("Failed pattern match at LinkNote.Component.Store (line 13, column 1 - line 13, column 44): "+[e.constructor.name,t.constructor.name])}}));e.exports={Dev:u,Prod:s,SetIPFS:c,ClearIPFS:f,reduce:function(e){return function(t){if(t instanceof c)return{ipfs:new i.Just(t.value0),collTopic:e.collTopic,collNote:e.collNote,collFile:e.collFile};if(t instanceof f)return{ipfs:i.Nothing.value,collTopic:e.collTopic,collNote:e.collNote,collFile:e.collFile};throw new Error("Failed pattern match at LinkNote.Component.Store (line 30, column 16 - line 32, column 40): "+[t.constructor.name])}},eqLogLevel:l,ordLogLevel:d}},function(e,t,n){"use strict";var r=n(1069),i=n(271).runFn2(r.unsafeUnionFn);e.exports={unsafeUnion:i,unsafeUnionFn:r.unsafeUnionFn}},function(e,t,n){"use strict";var r,i,o,a,u,s,c,f,l,d,h,p,m,y,v,g,b,w,E,_,S,T,A,P,k,x=n(32),C=n(11),R=n(19),I=n(89),O=n(46),M=n(94),N=n(552),D=n(553),L=n(78),j=n(54),B=n(41),F=n(13),U=n(36),q=n(23),H=n(2),K=n(144),V=n(189),z=n(219),W=n(5),G=n(20),$=n(18),J=n(1071),Q=n(148),Y=n(129),X=n(59),Z=n(29),ee=n(24),te=n(356),ne=(n(554),function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}()),re=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),ie=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),oe=function(){function e(){}return e.value=new e,e}(),ae=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),ue=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),se=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),ce=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),fe=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),le=new ce((function(e){var t=M.uncons(e.segments);return t instanceof W.Just?new ue({segments:t.value0.tail,params:e.params,hash:e.hash},t.value0.head):new ae(oe.value)})),de=new ce((function(e){return new ue({segments:[],params:e.params,hash:e.hash},e.segments)})),he=fe.create,pe=(r=W.fromJust(),l=function(e){return r(te.decodeURIComponent(e))},i=(d=function(e){return function(t){return""===t?[]:Y.split(e)(t)}})("/"),h=function(e){return 2===(t=i(e)).length&&""===t[0]&&""===t[1]?[""]:H.map(H.functorArray)(l)(t);var t},p=function(e){return function(t){return function(n){var r=Q.indexOf(t)(n);if(r instanceof W.Just)return new Z.Tuple(Q.take(r.value0)(n),Q.drop(r.value0+Q.length(t)|0)(n));if(r instanceof W.Nothing)return e(n);throw new Error("Failed pattern match at Routing.Duplex.Parser (line 185, column 5 - line 187, column 23): "+[r.constructor.name])}}},o=L.bimap(L.bifunctorTuple)(l)(l),a=p(q.flip(Z.Tuple.create)(""))("="),m=function(e){return o(a(e))},u=H.map(H.functorArray)(m),s=d("&"),y=function(e){return u(s(e))},c=L.bimap(L.bifunctorTuple)(h)(y),f=p(q.flip(Z.Tuple.create)(""))("?"),v=function(e){return c(f(e))},g=L.lmap(L.bifunctorTuple)(v),b=p(q.flip(Z.Tuple.create)(""))("#"),function(e){return{segments:(t=g(b(e))).value0.value0,params:t.value0.value1,hash:t.value1};var t}),me=function(e){return new ce((function(t){var n=U.lookup(U.foldableArray)(F.eqString)(e)(t.params);return n instanceof W.Just?new ue(t,n.value0):ae.create(new ie(e))}))},ye=(w=W.maybe(new B.Left("Int"))(B.Right.create),function(e){return w(V.fromString(e))}),ve=new ce((function(e){return new ue(e,e.hash)})),ge=new K.Generic((function(e){if(e instanceof ae)return new K.Inl(e.value0);if(e instanceof ue)return new K.Inr(new K.Product(e.value0,e.value1));throw new Error("Failed pattern match at Routing.Duplex.Parser (line 54, column 1 - line 54, column 64): "+[e.constructor.name])}),(function(e){if(e instanceof K.Inl)return new ae(e.value0);if(e instanceof K.Inr)return new ue(e.value0.value0,e.value0.value1);throw new Error("Failed pattern match at Routing.Duplex.Parser (line 54, column 1 - line 54, column 64): "+[e.constructor.name])})),be=new K.Generic((function(e){if(e instanceof ne)return new K.Inl(new K.Product(e.value0,e.value1));if(e instanceof re)return new K.Inr(new K.Inl(e.value0));if(e instanceof ie)return new K.Inr(new K.Inr(new K.Inl(e.value0)));if(e instanceof oe)return new K.Inr(new K.Inr(new K.Inr(K.NoArguments.value)));throw new Error("Failed pattern match at Routing.Duplex.Parser (line 64, column 1 - line 64, column 58): "+[e.constructor.name])}),(function(e){if(e instanceof K.Inl)return new ne(e.value0.value0,e.value0.value1);if(e instanceof K.Inr&&e.value0 instanceof K.Inl)return new re(e.value0.value0);if(e instanceof K.Inr&&e.value0 instanceof K.Inr&&e.value0.value0 instanceof K.Inl)return new ie(e.value0.value0.value0);if(e instanceof K.Inr&&e.value0 instanceof K.Inr&&e.value0.value0 instanceof K.Inr)return oe.value;throw new Error("Failed pattern match at Routing.Duplex.Parser (line 64, column 1 - line 64, column 58): "+[e.constructor.name])})),we=new $.Show(J.genericShow(be)(J.genericShowSum(J.genericShowConstructor(J.genericShowArgsProduct(J.genericShowArgsArgument($.showString))(J.genericShowArgsArgument($.showString)))(new X.IsSymbol((function(){return"Expected"}))))(J.genericShowSum(J.genericShowConstructor(J.genericShowArgsArgument($.showString))(new X.IsSymbol((function(){return"ExpectedEndOfPath"}))))(J.genericShowSum(J.genericShowConstructor(J.genericShowArgsArgument($.showString))(new X.IsSymbol((function(){return"MissingParam"}))))(J.genericShowConstructor(J.genericShowArgsNoArguments)(new X.IsSymbol((function(){return"EndOfPath"})))))))),Ee=new H.Functor((function(e){return function(t){if(t instanceof ae)return new ae(t.value0);if(t instanceof ue)return new ue(t.value0,e(t.value1));throw new Error("Failed pattern match at Routing.Duplex.Parser (line 53, column 1 - line 53, column 58): "+[t.constructor.name])}})),_e=new H.Functor((function(e){return function(t){if(t instanceof se)return new se(H.map(D.functorNonEmptyArray)(H.map(_e)(e))(t.value0));if(t instanceof ce)return new ce(H.map(H.functorFn)(H.map(Ee)(e))(t.value0));if(t instanceof fe)return new fe(t.value0,H.map(_e)(e)(t.value1));throw new Error("Failed pattern match at Routing.Duplex.Parser (line 72, column 1 - line 72, column 58): "+[t.constructor.name])}})),Se=new F.Eq((function(e){return function(t){return e instanceof ne&&t instanceof ne?e.value0===t.value0&&e.value1===t.value1:e instanceof re&&t instanceof re||e instanceof ie&&t instanceof ie?e.value0===t.value0:e instanceof oe&&t instanceof oe}})),Te=new ce((function(e){var t=M.head(e.segments);if(t instanceof W.Nothing)return new ue(e,ee.unit);if(t instanceof W.Just)return new ae(new re(t.value0));throw new Error("Failed pattern match at Routing.Duplex.Parser (line 256, column 3 - line 258, column 45): "+[t.constructor.name])})),Ae=function(e){return function(t){var n,r=e,i=!1;function o(e,n){if(n instanceof se)return i=!0,U.foldl(D.foldableNonEmptyArray)(function(e){return function(t){return function(n){return t instanceof ae?Ae(e)(n):t}}}(e))(new ae(oe.value))(n.value0);if(n instanceof ce)return i=!0,n.value0(e);if(n instanceof fe){var o=(a=n.value0,function(e){var t=M.head(e.segments);return t instanceof W.Just&&a===t.value0?new ue({segments:M.drop(1)(e.segments),params:e.params,hash:e.hash},ee.unit):t instanceof W.Just?ae.create(new ne(a,t.value0)):ae.create(oe.value)})(e);if(o instanceof ae)return i=!0,new ae(o.value0);if(o instanceof ue)return r=o.value0,void(t=n.value1);throw new Error("Failed pattern match at Routing.Duplex.Parser (line 149, column 7 - line 151, column 40): "+[o.constructor.name])}var a;throw new Error("Failed pattern match at Routing.Duplex.Parser (line 145, column 14 - line 151, column 40): "+[n.constructor.name])}for(;!i;)n=o(r,t);return n}},Pe=new I.Lazy((function(e){var t=z.defer(e);return new ce((function(e){return Ae(e)(z.force(t))}))})),ke=function(e){return function(t){return function(n){return new ce((function(r){var i,o=Ae(r)(n);if(o instanceof ae)return new ae(o.value0);if(o instanceof ue)return(i=o.value0,function(r){var o,a=i,u=!1;function s(i,o){var s=Ae(i)(n);if(s instanceof ae)return u=!0,new ue(i,o);if(s instanceof ue)return a=s.value0,void(r=x.alt(e)(o)(C.pure(t)(s.value1)));throw new Error("Failed pattern match at Routing.Duplex.Parser (line 223, column 5 - line 225, column 53): "+[s.constructor.name])}for(;!u;)o=s(a,r);return o})(C.pure(t)(o.value1));throw new Error("Failed pattern match at Routing.Duplex.Parser (line 217, column 5 - line 219, column 46): "+[o.constructor.name])}))}}},xe=new R.Apply((function(){return _e}),(function(e){return function(t){return new ce((function(n){var r=Ae(n)(e);if(r instanceof ae)return new ae(r.value0);if(r instanceof ue)return H.map(Ee)(r.value1)(Ae(r.value0)(t));throw new Error("Failed pattern match at Routing.Duplex.Parser (line 76, column 5 - line 78, column 56): "+[r.constructor.name])}))}})),Ce=new C.Applicative((function(){return xe}),(E=q.flip(ue.create),function(e){return ce.create(E(e))})),Re=new x.Alt((function(){return _e}),(function(e){return function(t){return e instanceof se&&t instanceof se?new se(Oe(e.value0)(t.value0)):e instanceof se?new se((n=e.value0,function(e){var t=function(t){return N.snoc(n)(e)};if(e instanceof fe){var r=N.last(n);return r instanceof fe&&e.value0===r.value0?N["snoc'"](N.init(n))(new fe(e.value0,x.alt(Re)(r.value1)(e.value1))):t()}return t()})(t)):t instanceof se?new se(Ie(e)(t.value0)):e instanceof fe&&t instanceof fe&&e.value0===t.value0?new fe(e.value0,x.alt(Re)(e.value1)(t.value1)):new se(N.cons(e)(N.singleton(t)));var n}})),Ie=function(e){return function(t){var n=function(n){return N.cons(e)(t)};if(e instanceof fe){var r=N.head(t);return r instanceof fe&&e.value0===r.value0?N["cons'"](new fe(e.value0,x.alt(Re)(e.value1)(r.value1)))(N.tail(t)):n()}return n()}},Oe=function(e){return function(t){var n,r=e,i=!1;function o(e,n){var o=function(t){if(j.otherwise)return G.append(D.semigroupNonEmptyArray)(e)(n);throw new Error("Failed pattern match at Routing.Duplex.Parser (line 98, column 1 - line 101, column 32): "+[e.constructor.name,n.constructor.name])},a=N.last(e);if(a instanceof fe){var u=N.head(n);if(u instanceof fe){if(a.value0===u.value0){var s=N["cons'"](new fe(a.value0,x.alt(Re)(a.value1)(u.value1)))(N.tail(n)),c=N.fromArray(N.init(e));if(c instanceof W.Just)return r=c.value0,void(t=s);if(c instanceof W.Nothing)return i=!0,s;throw new Error("Failed pattern match at Routing.Duplex.Parser (line 110, column 9 - line 112, column 26): "+[c.constructor.name])}return i=!0,o()}return i=!0,o()}return i=!0,o()}for(;!i;)n=o(r,t);return n}},Me=(_=q.flip(x.alt(Re)),S=C.pure(Ce),function(e){return _(S(e))}),Ne=(T=Me(!1),A=H.map(_e)(q.const(!0)),function(e){return T(A(me(e)))}),De=(P=Me(W.Nothing.value),k=H.map(_e)(W.Just.create),function(e){return P(k(e))});e.exports={Expected:ne,ExpectedEndOfPath:re,MissingParam:ie,EndOfPath:oe,Fail:ae,Success:ue,Alt:se,Chomp:ce,Prefix:fe,runRouteParser:Ae,parsePath:pe,run:function(e){var t=q.flip(Ae)(e);return function(e){return function(e){if(e instanceof ae)return new B.Left(e.value0);if(e instanceof ue)return new B.Right(e.value1);throw new Error("Failed pattern match at Routing.Duplex.Parser (line 190, column 49 - line 192, column 29): "+[e.constructor.name])}(t(pe(e)))}},prefix:he,take:le,param:me,flag:Ne,many1:ke,many:function(e){return function(t){return x.alt(Re)(ke(e.Plus1().Alt0())(e.Applicative0())(t))(C.pure(Ce)(O.empty(e.Plus1())))}},rest:de,default:Me,optional:De,as:function(e){return function(t){return function(n){return new ce((function(r){var i=Ae(r)(n);if(i instanceof ae)return new ae(i.value0);if(i instanceof ue){var o=t(i.value1);if(o instanceof B.Left)return ae.create(new ne(o.value0,e(i.value1)));if(o instanceof B.Right)return new ue(i.value0,o.value0);throw new Error("Failed pattern match at Routing.Duplex.Parser (line 244, column 7 - line 246, column 36): "+[o.constructor.name])}throw new Error("Failed pattern match at Routing.Duplex.Parser (line 241, column 3 - line 246, column 36): "+[i.constructor.name])}))}}},int:ye,boolean:function(e){return"true"===e?new B.Right(!0):"false"===e?new B.Right(!1):new B.Left("Boolean")},hash:ve,end:Te,eqRouteResult:function(e){return new F.Eq((function(t){return function(n){return t instanceof ae&&n instanceof ae?F.eq(Se)(t.value0)(n.value0):t instanceof ue&&n instanceof ue&&(t.value0.hash===n.value0.hash&&F.eq(F.eqArray(Z.eqTuple(F.eqString)(F.eqString)))(t.value0.params)(n.value0.params)&&F.eq(F.eqArray(F.eqString))(t.value0.segments)(n.value0.segments)&&F.eq(e)(t.value1)(n.value1))}}))},functorRouteResult:Ee,genericRouteResult:ge,showRouteResult:function(e){return new $.Show(J.genericShow(ge)(J.genericShowSum(J.genericShowConstructor(J.genericShowArgsArgument(we))(new X.IsSymbol((function(){return"Fail"}))))(J.genericShowConstructor(J.genericShowArgsProduct(J.genericShowArgsArgument($.showRecord()($.showRecordFieldsCons(new X.IsSymbol((function(){return"hash"})))($.showRecordFieldsCons(new X.IsSymbol((function(){return"params"})))($.showRecordFieldsCons(new X.IsSymbol((function(){return"segments"})))($.showRecordFieldsNil)($.showArray($.showString)))($.showArray(Z.showTuple($.showString)($.showString))))($.showString))))(J.genericShowArgsArgument(e)))(new X.IsSymbol((function(){return"Success"}))))))},eqRouteError:Se,genericRouteError:be,showRouteError:we,functorRouteParser:_e,applyRouteParser:xe,applicativeRouteParser:Ce,altRouteParser:Re,lazyRouteParser:Pe}},function(e,t,n){"use strict";var r,i,o=n(15),a=n(94),u=n(553),s=n(78),c=n(54),f=n(13),l=n(23),d=n(2),h=n(5),p=n(146),m=n(16),y=n(20),v=n(162),g=n(29),b=n(113),w=n(10).unsafeCoerce,E=u.NonEmptyArray,_=function(e){return e},S=function(e){return function(t){var n=a.unionBy(e)(t);return function(e){return E(n(e))}}},T=function(e){return function(t){var n=S(e)(t);return function(e){return n(e)}}},A=(r=s.bimap(s.bifunctorTuple)(E)(E),function(e){return r(a.unzip(e))}),P=function(e){return function(t){return a.intersectBy(e)(t)}},k=function(e){return function(t){var n=P(e)(t);return function(e){return n(e)}}},x=function(e){if(a.length(e)>0)return new h.Just(E(e));if(c.otherwise)return h.Nothing.value;throw new Error("Failed pattern match at Data.Array.NonEmpty (line 159, column 1 - line 159, column 58): "+[e.constructor.name])},C=v.foldr1(u.foldable1NonEmptyArray),R=v.foldl1(u.foldable1NonEmptyArray),I=function(e){return function(t){return a.difference(e)(t)}},O=function(e){return function(t){return E(a.cons(e)(t))}},M=l.flip(o.bind(u.bindNonEmptyArray)),N=(i=d.map(u.functorNonEmptyArray)(_),function(e){return E(a.concat(i(e)))}),D=function(e){var t=h.fromJust();return function(n){return t(e(n))}},L=D(a.head),j=D(a.init),B=D(a.last),F=D(a.tail),U=D(a.uncons),q=D(a.unsnoc),H=function(e){return function(t){return e(t)}},K=H(a.catMaybes),V=H(a.index),z=H(a.length),W=function(e){var t=H(e);return function(e){return E(t(e))}},G=function(e){return W(a.groupAllBy(e))},$=W(a.reverse),J=function(e){return H(a.unsafeIndex())};e.exports={fromArray:x,fromNonEmpty:function(e){return O(e.value0)(e.value1)},toArray:_,toNonEmpty:function(e){return t=U(e),new p.NonEmpty(t.head,t.tail);var t},fromFoldable:function(e){var t=a.fromFoldable(e);return function(e){return x(t(e))}},fromFoldable1:function(e){var t=a.fromFoldable(e.Foldable0());return function(e){return E(t(e))}},toUnfoldable:function(e){return H(a.toUnfoldable(e))},toUnfoldable1:function(e){return function(t){var n=z(t);return b.unfoldr1(e)((function(e){return g.Tuple.create(J()(t)(e))(e<(n-1|0)?new h.Just(e+1|0):h.Nothing.value)}))(0)}},singleton:function(e){return E(a.singleton(e))},range:function(e){return function(t){return E(a.range(e)(t))}},replicate:function(e){return function(t){return E(a.replicate(m.max(m.ordInt)(1)(e))(t))}},some:function(e){return function(t){var n=a.some(e)(t);return function(e){return w(n(e))}}},length:z,cons:function(e){return W(a.cons(e))},"cons'":O,snoc:function(e){return function(t){return E(a.snoc(e)(t))}},"snoc'":function(e){return function(t){return E(a.snoc(e)(t))}},appendArray:function(e){return function(t){return E(y.append(y.semigroupArray)(e)(t))}},insert:function(e){return function(t){return W(a.insert(e)(t))}},insertBy:function(e){return function(t){return W(a.insertBy(e)(t))}},head:L,last:B,tail:F,init:j,uncons:U,unsnoc:q,index:V,elem:function(e){return function(t){return H(a.elem(e)(t))}},notElem:function(e){return function(t){return H(a.notElem(e)(t))}},elemIndex:function(e){return function(t){return H(a.elemIndex(e)(t))}},elemLastIndex:function(e){return function(t){return H(a.elemLastIndex(e)(t))}},find:function(e){return H(a.find(e))},findMap:function(e){return H(a.findMap(e))},findIndex:function(e){return H(a.findIndex(e))},findLastIndex:function(e){return H(a.findLastIndex(e))},insertAt:function(e){return function(t){var n=a.insertAt(e)(t);return function(e){return w(n(e))}}},deleteAt:function(e){return H(a.deleteAt(e))},updateAt:function(e){return function(t){var n=a.updateAt(e)(t);return function(e){return w(n(e))}}},updateAtIndices:function(e){return function(t){return W(a.updateAtIndices(e)(t))}},modifyAt:function(e){return function(t){var n=a.modifyAt(e)(t);return function(e){return w(n(e))}}},modifyAtIndices:function(e){return function(t){return function(n){return W(a.modifyAtIndices(e)(t)(n))}}},alterAt:function(e){return function(t){var n=a.alterAt(e)(t);return function(e){return n(e)}}},intersperse:function(e){return W(a.intersperse(e))},reverse:$,concat:N,concatMap:M,filter:function(e){return H(a.filter(e))},partition:function(e){return H(a.partition(e))},splitAt:function(e){return function(t){return a.splitAt(e)(t)}},filterA:function(e){return function(t){return H(a.filterA(e)(t))}},mapMaybe:function(e){return H(a.mapMaybe(e))},catMaybes:K,mapWithIndex:function(e){return W(a.mapWithIndex(e))},foldl1:R,foldr1:C,foldMap1:function(e){return v.foldMap1(u.foldable1NonEmptyArray)(e)},fold1:function(e){return v.fold1(u.foldable1NonEmptyArray)(e)},intercalate:function(e){return v.intercalate(u.foldable1NonEmptyArray)(e)},scanl:function(e){return function(t){return W(a.scanl(e)(t))}},scanr:function(e){return function(t){return W(a.scanr(e)(t))}},sort:function(e){return W(a.sort(e))},sortBy:function(e){return W(a.sortBy(e))},sortWith:function(e){return function(t){return W(a.sortWith(e)(t))}},slice:function(e){return function(t){return H(a.slice(e)(t))}},take:function(e){return H(a.take(e))},takeEnd:function(e){return H(a.takeEnd(e))},takeWhile:function(e){return H(a.takeWhile(e))},drop:function(e){return H(a.drop(e))},dropEnd:function(e){return H(a.dropEnd(e))},dropWhile:function(e){return H(a.dropWhile(e))},span:function(e){return H(a.span(e))},group:function(e){return W(a.group(e))},groupAll:function(e){return G(m.compare(e))},"group'":function(e){return function(e){return W(a.groupAll(e))}},groupBy:function(e){return W(a.groupBy(e))},groupAllBy:G,nub:function(e){return W(a.nub(e))},nubBy:function(e){return W(a.nubBy(e))},nubEq:function(e){return W(a.nubEq(e))},nubByEq:function(e){return W(a.nubByEq(e))},union:function(e){return T(f.eq(e))},"union'":function(e){return S(f.eq(e))},unionBy:T,"unionBy'":S,delete:function(e){return function(t){return H(a.delete(e)(t))}},deleteBy:function(e){return function(t){return H(a.deleteBy(e)(t))}},difference:function(e){return function(t){return H(I(e)(t))}},"difference'":I,intersect:function(e){return k(f.eq(e))},"intersect'":function(e){return P(f.eq(e))},intersectBy:k,"intersectBy'":P,zipWith:function(e){return function(t){return function(n){return E(a.zipWith(e)(t)(n))}}},zipWithA:function(e){return function(t){return function(n){return function(r){return w(a.zipWithA(e)(t)(n)(r))}}}},zip:function(e){return function(t){return E(a.zip(e)(t))}},unzip:A,any:function(e){return H(a.any(e))},all:function(e){return H(a.all(e))},foldM:function(e){return function(t){return function(n){return H(a.foldM(e)(t)(n))}}},foldRecM:function(e){return function(t){return function(n){return H(a.foldRecM(e)(t)(n))}}},unsafeIndex:J}},function(e,t,n){"use strict";var r=n(1070),i=n(32),o=n(11),a=n(19),u=n(15),s=n(40),c=n(13),f=n(36),l=n(127),d=n(2),h=n(107),p=n(16),m=n(20),y=n(162),v=n(188),g=n(18),b=n(56),w=n(163),E=n(113).unfoldable1Array,_=w.traversableWithIndexArray,S=b.traversableArray,T=m.semigroupArray,A=p.ord1Array,P=s.monadArray,k=h.functorWithIndexArray,x=d.functorArray,C=l.foldableWithIndexArray,R=f.foldableArray,I=new y.Foldable1((function(){return R}),(function(e){return y.foldMap1DefaultL(I)(x)(e)}),r.foldl1Impl,r.foldr1Impl),O=new v.Traversable1((function(){return I}),(function(){return S}),(function(e){return v.sequence1Default(O)(e)}),(function(e){return r.traverse1Impl(a.apply(e))(d.map(e.Functor0()))})),M=c.eq1Array,N=u.bindArray,D=a.applyArray,L=o.applicativeArray,j=i.altArray;e.exports={NonEmptyArray:function(e){return e},showNonEmptyArray:function(e){return new g.Show((function(t){return"(NonEmptyArray "+g.show(g.showArray(e))(t)+")"}))},eqNonEmptyArray:function(e){return c.eqArray(e)},eq1NonEmptyArray:M,ordNonEmptyArray:function(e){return p.ordArray(e)},ord1NonEmptyArray:A,semigroupNonEmptyArray:T,functorNonEmptyArray:x,functorWithIndexNonEmptyArray:k,foldableNonEmptyArray:R,foldableWithIndexNonEmptyArray:C,foldable1NonEmptyArray:I,unfoldable1NonEmptyArray:E,traversableNonEmptyArray:S,traversableWithIndexNonEmptyArray:_,traversable1NonEmptyArray:O,applyNonEmptyArray:D,applicativeNonEmptyArray:L,bindNonEmptyArray:N,monadNonEmptyArray:P,altNonEmptyArray:j}},function(e,t,n){"use strict";e.exports={emptyRouteState:{segments:[],params:[],hash:""}}},function(e,t,n){"use strict";var r,i,o=n(25),a=n(94),u=n(54),s=n(23),c=n(2),f=n(5),l=n(28),d=n(26),h=n(20),p=n(129),m=n(29),y=n(356),v=n(554),g=new h.Semigroup((function(e){return function(t){return function(n){return t(e(n))}}})),b=function(e){var t,n,r=(t=f.fromJust(),function(e){return t(y.encodeURIComponent(e))}),i=function(e){return function(t){return""===t?r(e):r(e)+"="+r(t)}};return(1===(n=e.segments).length&&""===n[0]?"/":p.joinWith("/")(c.map(c.functorArray)(r)(n)))+(function(e){return 0===e.length?"":"?"+p.joinWith("&")(c.map(c.functorArray)(m.uncurry(i))(e))}(e.params)+function(e){return""===e?"":"#"+e}(e.hash))},w=function(e){return function(t){return function(n){return{segments:n.segments,params:a.cons(new m.Tuple(e,t))(n.params),hash:n.hash}}}},E=new d.Newtype((function(){})),_=(r=s.applyFlipped(v.emptyRouteState),i=d.unwrap(),function(e){return b(r(i(e)))}),S=new l.Monoid((function(){return g}),o.identity(o.categoryFn));e.exports={RoutePrinter:function(e){return e},put:function(e){return function(t){return{segments:a.snoc(t.segments)(e),params:t.params,hash:t.hash}}},param:w,flag:function(e){return function(t){if(t)return w(e)("");if(u.otherwise)return l.mempty(S);throw new Error("Failed pattern match at Routing.Duplex.Printer (line 39, column 1 - line 39, column 42): "+[e.constructor.name,t.constructor.name])}},hash:function(e){return function(t){return{segments:t.segments,params:t.params,hash:e}}},run:_,printPath:b,newtypeRoutePrinter:E,semigroupRoutePrinter:g,monoidRoutePRinter:S}},function(e,t,n){"use strict";var r=n(32),i=n(11),o=n(19),a=n(25),u=n(2),s=n(144),c=n(164),f=n(20),l=n(355),d=n(166),h=n(551),p=n(555),m=n(60),y=function(e){this.gRouteDuplexCtr=e},v=function(e){this.gRouteDuplex=e},g=i.pure(d.applicativeRouteDuplex)(s.NoArguments.value),b=new y(a.identity(a.categoryFn)),w=new y(a.identity(a.categoryFn)),E=function(e){return e.gRouteDuplexCtr},_=function(e){return e.gRouteDuplex},S=new y(a.identity(a.categoryFn)),T=new y((function(e){return new d.RouteDuplex((function(t){return e.value0(t)}),u.map(h.functorRouteParser)(s.Argument)(e.value1))}));e.exports={gRouteDuplex:_,gRouteDuplexCtr:E,sum:function(e){return function(t){var n=c.dimap(d.profunctorRouteDuplex)(s.from(e))(s.to(e)),r=_(t);return function(e){return n(r(e))}}},GRouteDuplex:v,GRouteDuplexCtr:y,product:function(e){return function(t){return function(n){var r=E(e)(n),i=o.apply(h.applyRouteParser)(u.map(h.functorRouteParser)(s.Product.create)(u.map(h.functorRouteParser)(s.Argument)(t.value1)))(r.value1);return new d.RouteDuplex((function(e){return f.append(p.semigroupRoutePrinter)(t.value0(e.value0))(r.value0(e.value1))}),i)}}},noArgs:g,gRouteSum:function(e){return function(t){return new v((function(n){var i=_(e)(n),o=_(t)(n),a=r.alt(h.altRouteParser)(u.map(h.functorRouteParser)(s.Inl.create)(i.value1))(u.map(h.functorRouteParser)(s.Inr.create)(o.value1));return new d.RouteDuplex((function(e){if(e instanceof s.Inl)return i.value0(e.value0);if(e instanceof s.Inr)return o.value0(e.value0);throw new Error("Failed pattern match at Routing.Duplex.Generic (line 33, column 11 - line 35, column 22): "+[e.constructor.name])}),a)}))}},gRouteConstructor:function(e){return function(t){return function(t){return new v((function(n){var r=d.end(E(t)(l.get(e)()(m.Proxy.value)(n))),i=u.map(h.functorRouteParser)(s.Constructor)(r.value1);return new d.RouteDuplex((function(e){return r.value0(e)}),i)}))}}},gRouteProduct:b,gRouteNoArguments:w,gRouteArgument:S,gRouteAll:T}},function(e,t,n){"use strict";var r=n(13),i=n(149),o=n(16),a=n(34),u=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),s=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),c=new r.Eq((function(e){return function(t){return e instanceof u&&t instanceof u?e.value0===t.value0:e instanceof s&&t instanceof s&&r.eq(i.eqMap(r.eqString)(r.eqString))(e.value0)(t.value0)}})),f=new o.Ord((function(){return c}),(function(e){return function(t){if(e instanceof u&&t instanceof u)return o.compare(o.ordString)(e.value0)(t.value0);if(e instanceof u)return a.LT.value;if(t instanceof u)return a.GT.value;if(e instanceof s&&t instanceof s)return o.compare(i.ordMap(o.ordString)(o.ordString))(e.value0)(t.value0);throw new Error("Failed pattern match at Routing.Types (line 11, column 1 - line 11, column 46): "+[e.constructor.name,t.constructor.name])}}));e.exports={Path:u,Query:s,eqRoutePart:c,ordRoutePart:f}},function(e,t,n){"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},function(e,t,n){"use strict";const r="undefined"!=typeof navigator&&"ReactNative"===navigator.product;const i=self.URL,o=r?"http://localhost":self.location.protocol+"//"+self.location.host;e.exports={URLWithLegacySupport:class{constructor(e="",t=o){this.super=new i(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set username(e){this.super.username=e}static createObjectURL(e){return i.createObjectURL(e)}static revokeObjectURL(e){i.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}},URLSearchParams:self.URLSearchParams,defaultBase:o,format:function(e){if("string"==typeof e){return new i(e).toString()}if(!(e instanceof i)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",n=e.auth?e.auth+"@":"",r=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",o=e.host||"",a=e.hostname||"",u=e.search||(e.query?"?"+e.query:""),s=e.hash||"",c=e.pathname||"";return`${i}${t||n}${o||a+r}${e.path||c+u}${s}`}}}},function(e,t,n){"use strict";const r=n(274);async function*i(e,t){const n=new r,i=await n.get(e,t);yield*i.iterator()}e.exports=(e,t)=>({path:decodeURIComponent(new URL(e).pathname.split("/").pop()||""),content:i(e,t)})},function(e,t,n){"use strict";class r extends Error{constructor(e="Request timed out"){super(e),this.name="TimeoutError"}}t.TimeoutError=r;class i extends Error{constructor(e="The operation was aborted."){super(e),this.name="AbortError"}}t.AbortError=i;class o extends Error{constructor(e){super(e.statusText),this.name="HTTPError",this.response=e}}t.HTTPError=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(131);const i=r.baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),o=r.baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});t.base36=i,t.base36upper=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(131);const i=r.rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),o=r.rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});t.base16=i,t.base16upper=o},function(e,t,n){"use strict";e.exports=l;var r,i=n(167),o=i.LongBits,a=i.base64,u=i.utf8;function s(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function c(){}function f(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function l(){this.len=0,this.head=new s(c,0,0),this.tail=this.head,this.states=null}var d=function(){return i.Buffer?function(){return(l.create=function(){return new r})()}:function(){return new l}};function h(e,t,n){t[n]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function y(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}l.create=d(),l.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(l.alloc=i.pool(l.alloc,i.Array.prototype.subarray)),l.prototype._push=function(e,t,n){return this.tail=this.tail.next=new s(e,t,n),this.len+=t,this},p.prototype=Object.create(s.prototype),p.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},l.prototype.int32=function(e){return e<0?this._push(m,10,o.fromNumber(e)):this.uint32(e)},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},l.prototype.uint64=function(e){var t=o.from(e);return this._push(m,t.length(),t)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(m,t.length(),t)},l.prototype.bool=function(e){return this._push(h,1,e?1:0)},l.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(e){var t=o.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},l.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var v=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};l.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(i.isString(e)){var n=l.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(v,t,e)},l.prototype.string=function(e){var t=u.length(e);return t?this.uint32(t)._push(u.write,t,e):this._push(h,1,0)},l.prototype.fork=function(){return this.states=new f(this),this.head=this.tail=new s(c,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new s(c,0,0),this.len=0),this},l.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},l._configure=function(e){r=e,l.create=d(),r._configure()}},function(e,t,n){"use strict";e.exports=s;var r,i=n(167),o=i.LongBits,a=i.utf8;function u(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function s(e){this.buf=e,this.pos=0,this.len=e.length}var c,f="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new s(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new s(e);throw Error("illegal buffer")},l=function(){return i.Buffer?function(e){return(s.create=function(e){return i.Buffer.isBuffer(e)?new r(e):f(e)})(e)}:f};function d(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw u(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw u(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw u(this,8);return new o(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}s.create=l(),s.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,s.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,u(this,10);return c}),s.prototype.int32=function(){return 0|this.uint32()},s.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},s.prototype.bool=function(){return 0!==this.uint32()},s.prototype.fixed32=function(){if(this.pos+4>this.len)throw u(this,4);return h(this.buf,this.pos+=4)},s.prototype.sfixed32=function(){if(this.pos+4>this.len)throw u(this,4);return 0|h(this.buf,this.pos+=4)},s.prototype.float=function(){if(this.pos+4>this.len)throw u(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},s.prototype.double=function(){if(this.pos+8>this.len)throw u(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},s.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw u(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},s.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},s.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw u(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw u(this)}while(128&this.buf[this.pos++]);return this},s.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},s._configure=function(e){r=e,s.create=l(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(s.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return p.call(this)[t](!0)},sfixed64:function(){return p.call(this)[t](!1)}})}},function(e,t,n){var r=n(39);if(n(226),n(151),n(360),n(168),n(225),n(569),n(362),n(169),n(1121),n(278),n(51),void 0===i)var i=r.jsbn.BigInteger;var o=r.asn1,a=r.pki=r.pki||{};e.exports=a.pbe=r.pbe=r.pbe||{};var u=a.oids,s={name:"EncryptedPrivateKeyInfo",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},c={name:"PBES2Algorithms",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:o.Class.UNIVERSAL,type:o.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},f={name:"pkcs-12PbeParams",tagClass:o.Class.UNIVERSAL,type:o.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:o.Class.UNIVERSAL,type:o.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:o.Class.UNIVERSAL,type:o.Type.INTEGER,constructed:!1,capture:"iterations"}]};function l(e,t){return e.start().update(t).digest().getBytes()}function d(e){var t;if(e){if(!(t=a.oids[o.derToOid(e)])){var n=new Error("Unsupported PRF OID.");throw n.oid=e,n.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],n}}else t="hmacWithSHA1";return h(t)}function h(e){var t=r.md;switch(e){case"hmacWithSHA224":t=r.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var n=new Error("Unsupported PRF algorithm.");throw n.algorithm=e,n.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],n}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}a.encryptPrivateKeyInfo=function(e,t,n){(n=n||{}).saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||"aes128",n.prfAlgorithm=n.prfAlgorithm||"sha1";var i,s,c,f=r.random.getBytesSync(n.saltSize),l=n.count,d=o.integerToDer(l);if(0===n.algorithm.indexOf("aes")||"des"===n.algorithm){var p,m,y;switch(n.algorithm){case"aes128":i=16,p=16,m=u["aes128-CBC"],y=r.aes.createEncryptionCipher;break;case"aes192":i=24,p=16,m=u["aes192-CBC"],y=r.aes.createEncryptionCipher;break;case"aes256":i=32,p=16,m=u["aes256-CBC"],y=r.aes.createEncryptionCipher;break;case"des":i=8,p=8,m=u.desCBC,y=r.des.createEncryptionCipher;break;default:throw(_=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=n.algorithm,_}var v="hmacWith"+n.prfAlgorithm.toUpperCase(),g=h(v),b=r.pkcs5.pbkdf2(t,f,l,i,g),w=r.random.getBytesSync(p);(S=y(b)).start(w),S.update(o.toDer(e)),S.finish(),c=S.output.getBytes();var E=function(e,t,n,i){var u=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,e),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,t.getBytes())]);"hmacWithSHA1"!==i&&u.value.push(o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,r.util.hexToBytes(n.toString(16))),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(a.oids[i]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.NULL,!1,"")]));return u}(f,d,i,v);s=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(u.pkcs5PBES2).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(u.pkcs5PBKDF2).getBytes()),E]),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(m).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,w)])])])}else{var _;if("3des"!==n.algorithm)throw(_=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=n.algorithm,_;i=24;var S,T=new r.util.ByteBuffer(f);b=a.pbe.generatePkcs12Key(t,T,1,l,i),w=a.pbe.generatePkcs12Key(t,T,2,l,i);(S=r.des.createEncryptionCipher(b)).start(w),S.update(o.toDer(e)),S.finish(),c=S.output.getBytes(),s=o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OID,!1,o.oidToDer(u["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,f),o.create(o.Class.UNIVERSAL,o.Type.INTEGER,!1,d.getBytes())])])}return o.create(o.Class.UNIVERSAL,o.Type.SEQUENCE,!0,[s,o.create(o.Class.UNIVERSAL,o.Type.OCTETSTRING,!1,c)])},a.decryptPrivateKeyInfo=function(e,t){var n=null,i={},u=[];if(!o.validate(e,s,i,u)){var c=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw c.errors=u,c}var f=o.derToOid(i.encryptionOid),l=a.pbe.getCipher(f,i.encryptionParams,t),d=r.util.createBuffer(i.encryptedData);return l.update(d),l.finish()&&(n=o.fromDer(l.output)),n},a.encryptedPrivateKeyToPem=function(e,t){var n={type:"ENCRYPTED PRIVATE KEY",body:o.toDer(e).getBytes()};return r.pem.encode(n,{maxline:t})},a.encryptedPrivateKeyFromPem=function(e){var t=r.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var n=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return o.fromDer(t.body)},a.encryptRsaPrivateKey=function(e,t,n){if(!(n=n||{}).legacy){var i=a.wrapRsaPrivateKey(a.privateKeyToAsn1(e));return i=a.encryptPrivateKeyInfo(i,t,n),a.encryptedPrivateKeyToPem(i)}var u,s,c,f;switch(n.algorithm){case"aes128":u="AES-128-CBC",c=16,s=r.random.getBytesSync(16),f=r.aes.createEncryptionCipher;break;case"aes192":u="AES-192-CBC",c=24,s=r.random.getBytesSync(16),f=r.aes.createEncryptionCipher;break;case"aes256":u="AES-256-CBC",c=32,s=r.random.getBytesSync(16),f=r.aes.createEncryptionCipher;break;case"3des":u="DES-EDE3-CBC",c=24,s=r.random.getBytesSync(8),f=r.des.createEncryptionCipher;break;case"des":u="DES-CBC",c=8,s=r.random.getBytesSync(8),f=r.des.createEncryptionCipher;break;default:var l=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+n.algorithm+'".');throw l.algorithm=n.algorithm,l}var d=f(r.pbe.opensslDeriveBytes(t,s.substr(0,8),c));d.start(s),d.update(o.toDer(a.privateKeyToAsn1(e))),d.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:u,parameters:r.util.bytesToHex(s).toUpperCase()},body:d.output.getBytes()};return r.pem.encode(h)},a.decryptRsaPrivateKey=function(e,t){var n=null,i=r.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==i.type&&"PRIVATE KEY"!==i.type&&"RSA PRIVATE KEY"!==i.type)throw(c=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=c,c;if(i.procType&&"ENCRYPTED"===i.procType.type){var u,s;switch(i.dekInfo.algorithm){case"DES-CBC":u=8,s=r.des.createDecryptionCipher;break;case"DES-EDE3-CBC":u=24,s=r.des.createDecryptionCipher;break;case"AES-128-CBC":u=16,s=r.aes.createDecryptionCipher;break;case"AES-192-CBC":u=24,s=r.aes.createDecryptionCipher;break;case"AES-256-CBC":u=32,s=r.aes.createDecryptionCipher;break;case"RC2-40-CBC":u=5,s=function(e){return r.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":u=8,s=function(e){return r.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":u=16,s=function(e){return r.rc2.createDecryptionCipher(e,128)};break;default:var c;throw(c=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".')).algorithm=i.dekInfo.algorithm,c}var f=r.util.hexToBytes(i.dekInfo.parameters),l=s(r.pbe.opensslDeriveBytes(t,f.substr(0,8),u));if(l.start(f),l.update(r.util.createBuffer(i.body)),!l.finish())return n;n=l.output.getBytes()}else n=i.body;return null!==(n="ENCRYPTED PRIVATE KEY"===i.type?a.decryptPrivateKeyInfo(o.fromDer(n),t):o.fromDer(n))&&(n=a.privateKeyFromAsn1(n)),n},a.pbe.generatePkcs12Key=function(e,t,n,i,o,a){var u,s;if(null==a){if(!("sha1"in r.md))throw new Error('"sha1" hash algorithm unavailable.');a=r.md.sha1.create()}var c=a.digestLength,f=a.blockLength,l=new r.util.ByteBuffer,d=new r.util.ByteBuffer;if(null!=e){for(s=0;s<e.length;s++)d.putInt16(e.charCodeAt(s));d.putInt16(0)}var h=d.length(),p=t.length(),m=new r.util.ByteBuffer;m.fillWithByte(n,f);var y=f*Math.ceil(p/f),v=new r.util.ByteBuffer;for(s=0;s<y;s++)v.putByte(t.at(s%p));var g=f*Math.ceil(h/f),b=new r.util.ByteBuffer;for(s=0;s<g;s++)b.putByte(d.at(s%h));var w=v;w.putBuffer(b);for(var E=Math.ceil(o/c),_=1;_<=E;_++){var S=new r.util.ByteBuffer;S.putBytes(m.bytes()),S.putBytes(w.bytes());for(var T=0;T<i;T++)a.start(),a.update(S.getBytes()),S=a.digest();var A=new r.util.ByteBuffer;for(s=0;s<f;s++)A.putByte(S.at(s%c));var P=Math.ceil(p/f)+Math.ceil(h/f),k=new r.util.ByteBuffer;for(u=0;u<P;u++){var x=new r.util.ByteBuffer(w.getBytes(f)),C=511;for(s=A.length()-1;s>=0;s--)C>>=8,C+=A.at(s)+x.at(s),x.setAt(s,255&C);k.putBuffer(x)}w=k,l.putBuffer(S)}return l.truncate(l.length()-o),l},a.pbe.getCipher=function(e,t,n){switch(e){case a.oids.pkcs5PBES2:return a.pbe.getCipherForPBES2(e,t,n);case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case a.oids["pbewithSHAAnd40BitRC2-CBC"]:return a.pbe.getCipherForPKCS12PBE(e,t,n);default:var r=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw r.oid=e,r.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],r}},a.pbe.getCipherForPBES2=function(e,t,n){var i,u={},s=[];if(!o.validate(t,c,u,s))throw(i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=s,i;if((e=o.derToOid(u.kdfOid))!==a.oids.pkcs5PBKDF2)throw(i=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=e,i.supportedOids=["pkcs5PBKDF2"],i;if((e=o.derToOid(u.encOid))!==a.oids["aes128-CBC"]&&e!==a.oids["aes192-CBC"]&&e!==a.oids["aes256-CBC"]&&e!==a.oids["des-EDE3-CBC"]&&e!==a.oids.desCBC)throw(i=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=e,i.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],i;var f,l,h=u.kdfSalt,p=r.util.createBuffer(u.kdfIterationCount);switch(p=p.getInt(p.length()<<3),a.oids[e]){case"aes128-CBC":f=16,l=r.aes.createDecryptionCipher;break;case"aes192-CBC":f=24,l=r.aes.createDecryptionCipher;break;case"aes256-CBC":f=32,l=r.aes.createDecryptionCipher;break;case"des-EDE3-CBC":f=24,l=r.des.createDecryptionCipher;break;case"desCBC":f=8,l=r.des.createDecryptionCipher}var m=d(u.prfOid),y=r.pkcs5.pbkdf2(n,h,p,f,m),v=u.encIv,g=l(y);return g.start(v),g},a.pbe.getCipherForPKCS12PBE=function(e,t,n){var i={},u=[];if(!o.validate(t,f,i,u))throw(m=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=u,m;var s,c,l,h=r.util.createBuffer(i.salt),p=r.util.createBuffer(i.iterations);switch(p=p.getInt(p.length()<<3),e){case a.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:s=24,c=8,l=r.des.startDecrypting;break;case a.oids["pbewithSHAAnd40BitRC2-CBC"]:s=5,c=8,l=function(e,t){var n=r.rc2.createDecryptionCipher(e,40);return n.start(t,null),n};break;default:var m;throw(m=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e,m}var y=d(i.prfOid),v=a.pbe.generatePkcs12Key(n,h,1,p,s,y);return y.start(),l(v,a.pbe.generatePkcs12Key(n,h,2,p,c,y))},a.pbe.opensslDeriveBytes=function(e,t,n,i){if(null==i){if(!("md5"in r.md))throw new Error('"md5" hash algorithm unavailable.');i=r.md.md5.create()}null===t&&(t="");for(var o=[l(i,e+t)],a=16,u=1;a<n;++u,a+=16)o.push(l(i,o[u-1]+e+t));return o.join("").substr(0,n)}},function(e,t,n){var r=n(39);n(51),e.exports=r.cipher=r.cipher||{},r.cipher.algorithms=r.cipher.algorithms||{},r.cipher.createCipher=function(e,t){var n=e;if("string"==typeof n&&(n=r.cipher.getAlgorithm(n))&&(n=n()),!n)throw new Error("Unsupported algorithm: "+e);return new r.cipher.BlockCipher({algorithm:n,key:t,decrypt:!1})},r.cipher.createDecipher=function(e,t){var n=e;if("string"==typeof n&&(n=r.cipher.getAlgorithm(n))&&(n=n()),!n)throw new Error("Unsupported algorithm: "+e);return new r.cipher.BlockCipher({algorithm:n,key:t,decrypt:!0})},r.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),r.cipher.algorithms[e]=t},r.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in r.cipher.algorithms?r.cipher.algorithms[e]:null};var i=r.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};i.prototype.start=function(e){e=e||{};var t={};for(var n in e)t[n]=e[n];t.decrypt=this._decrypt,this._finish=!1,this._input=r.util.createBuffer(),this.output=e.output||r.util.createBuffer(),this.mode.start(t)},i.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},i.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))}},function(e,t,n){var r=n(39);n(51),r.cipher=r.cipher||{};var i=e.exports=r.cipher.modes=r.cipher.modes||{};function o(e,t){if("string"==typeof e&&(e=r.util.createBuffer(e)),r.util.isArray(e)&&e.length>4){var n=e;e=r.util.createBuffer();for(var i=0;i<n.length;++i)e.putByte(n[i])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!r.util.isArray(e)){var o=[],a=t/4;for(i=0;i<a;++i)o.push(e.getInt32());e=o}return e}function a(e){e[e.length-1]=e[e.length-1]+1&4294967295}function u(e){return[e/4294967296|0,4294967295&e]}i.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.ecb.prototype.start=function(e){},i.ecb.prototype.encrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r])},i.ecb.prototype.decrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r])},i.ecb.prototype.pad=function(e,t){var n=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(n,n),!0},i.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var n=e.length(),r=e.at(n-1);return!(r>this.blockSize<<2)&&(e.truncate(r),!0)},i.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},i.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv,this.blockSize),this._prev=this._iv.slice(0)}},i.cbc.prototype.encrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=this._prev[r]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._outBlock[r]);this._prev=this._outBlock},i.cbc.prototype.decrypt=function(e,t,n){if(e.length()<this.blockSize&&!(n&&e.length()>0))return!0;for(var r=0;r<this._ints;++r)this._inBlock[r]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(r=0;r<this._ints;++r)t.putInt32(this._prev[r]^this._outBlock[r]);this._prev=this._inBlock.slice(0)},i.cbc.prototype.pad=function(e,t){var n=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(n,n),!0},i.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var n=e.length(),r=e.at(n-1);return!(r>this.blockSize<<2)&&(e.truncate(r),!0)},i.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},i.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.cfb.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);else{var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!n)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}},i.cfb.prototype.decrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);else{var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!n)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}},i.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},i.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ofb.prototype.encrypt=function(e,t,n){var r=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!n)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}},i.ofb.prototype.decrypt=i.ofb.prototype.encrypt,i.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},i.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=o(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},i.ctr.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]);else{var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!n)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}a(this._inBlock)},i.ctr.prototype.decrypt=i.ctr.prototype.encrypt,i.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0,this._R=3774873600},i.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,n=r.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?r.util.createBuffer(e.additionalData):r.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=r.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=n.length();if(12===i)this._j0=[n.getInt32(),n.getInt32(),n.getInt32(),1];else{for(this._j0=[0,0,0,0];n.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[n.getInt32(),n.getInt32(),n.getInt32(),n.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(u(8*i)))}this._inBlock=this._j0.slice(0),a(this._inBlock),this._partialBytes=0,t=r.util.createBuffer(t),this._aDataLength=u(8*t.length());var o=t.length()%this.blockSize;for(o&&t.fillWithByte(0,this.blockSize-o),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},i.gcm.prototype.encrypt=function(e,t,n){var r=e.length();if(0===r)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&r>=this.blockSize){for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^=e.getInt32());this._cipherLength+=this.blockSize}else{var o=(this.blockSize-r)%this.blockSize;o>0&&(o=this.blockSize-o),this._partialOutput.clear();for(i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o<=0||n){if(n){var u=r%this.blockSize;this._cipherLength+=u,this._partialOutput.truncate(this.blockSize-u)}else this._cipherLength+=this.blockSize;for(i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!n)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(r-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),a(this._inBlock)},i.gcm.prototype.decrypt=function(e,t,n){var r=e.length();if(r<this.blockSize&&!(n&&r>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),a(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)t.putInt32(this._outBlock[i]^this._hashBlock[i]);r<this.blockSize?this._cipherLength+=r%this.blockSize:this._cipherLength+=this.blockSize},i.gcm.prototype.afterFinish=function(e,t){var n=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=r.util.createBuffer();var i=this._aDataLength.concat(u(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,i);var o=[];this.cipher.encrypt(this._j0,o);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^o[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(n=!1),n},i.gcm.prototype.multiply=function(e,t){for(var n=[0,0,0,0],r=t.slice(0),i=0;i<128;++i){e[i/32|0]&1<<31-i%32&&(n[0]^=r[0],n[1]^=r[1],n[2]^=r[2],n[3]^=r[3]),this.pow(r,r)}return n},i.gcm.prototype.pow=function(e,t){for(var n=1&e[3],r=3;r>0;--r)t[r]=e[r]>>>1|(1&e[r-1])<<31;t[0]=e[0]>>>1,n&&(t[0]^=this._R)},i.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],n=0;n<32;++n){var r=e[n/8|0]>>>4*(7-n%8)&15,i=this._m[n][r];t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]}return t},i.gcm.prototype.ghash=function(e,t,n){return t[0]^=n[0],t[1]^=n[1],t[2]^=n[2],t[3]^=n[3],this.tableMultiply(t)},i.gcm.prototype.generateHashTable=function(e,t){for(var n=8/t,r=4*n,i=16*n,o=new Array(i),a=0;a<i;++a){var u=[0,0,0,0],s=(r-1-a%r)*t;u[a/r|0]=1<<t-1<<s,o[a]=this.generateSubHashTable(this.multiply(u,e),t)}return o},i.gcm.prototype.generateSubHashTable=function(e,t){var n=1<<t,r=n>>>1,i=new Array(n);i[r]=e.slice(0);for(var o=r>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<r;){for(var a=1;a<o;++a){var u=i[o],s=i[a];i[o+a]=[u[0]^s[0],u[1]^s[1],u[2]^s[2],u[3]^s[3]]}o*=2}for(i[0]=[0,0,0,0],o=r+1;o<n;++o){var c=i[o^r];i[o]=[e[0]^c[0],e[1]^c[1],e[2]^c[2],e[3]^c[3]]}return i}},function(e,t,n){(function(t){var r=n(39);n(1118),n(168),n(51);var i,o=r.pkcs5=r.pkcs5||{};r.util.isNodejs&&!r.options.usePureJavaScript&&(i=n(361)),e.exports=r.pbkdf2=o.pbkdf2=function(e,n,o,a,u,s){if("function"==typeof u&&(s=u,u=null),r.util.isNodejs&&!r.options.usePureJavaScript&&i.pbkdf2&&(null===u||"object"!=typeof u)&&(i.pbkdf2Sync.length>4||!u||"sha1"===u))return"string"!=typeof u&&(u="sha1"),e=t.from(e,"binary"),n=t.from(n,"binary"),s?4===i.pbkdf2Sync.length?i.pbkdf2(e,n,o,a,(function(e,t){if(e)return s(e);s(null,t.toString("binary"))})):i.pbkdf2(e,n,o,a,u,(function(e,t){if(e)return s(e);s(null,t.toString("binary"))})):4===i.pbkdf2Sync.length?i.pbkdf2Sync(e,n,o,a).toString("binary"):i.pbkdf2Sync(e,n,o,a,u).toString("binary");if(null==u&&(u="sha1"),"string"==typeof u){if(!(u in r.md.algorithms))throw new Error("Unknown hash algorithm: "+u);u=r.md[u].create()}var c=u.digestLength;if(a>4294967295*c){var f=new Error("Derived key is too long.");if(s)return s(f);throw f}var l=Math.ceil(a/c),d=a-(l-1)*c,h=r.hmac.create();h.start(u,e);var p,m,y,v="";if(!s){for(var g=1;g<=l;++g){h.start(null,null),h.update(n),h.update(r.util.int32ToBytes(g)),p=y=h.digest().getBytes();for(var b=2;b<=o;++b)h.start(null,null),h.update(y),m=h.digest().getBytes(),p=r.util.xorBytes(p,m,c),y=m;v+=g<l?p:p.substr(0,d)}return v}g=1;function w(){if(g>l)return s(null,v);h.start(null,null),h.update(n),h.update(r.util.int32ToBytes(g)),p=y=h.digest().getBytes(),b=2,E()}function E(){if(b<=o)return h.start(null,null),h.update(y),m=h.digest().getBytes(),p=r.util.xorBytes(p,m,c),y=m,++b,r.util.setImmediate(E);v+=g<l?p:p.substr(0,d),++g,w()}w()}}).call(this,n(27).Buffer)},function(e,t,n){"use strict";const{bases:r}=n(280);function i(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const o=i("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),a=i("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),u={utf8:o,"utf-8":o,hex:r.base16,latin1:a,ascii:a,binary:a,...r};e.exports=u},function(e,t,n){"use strict";const r=n(227),i=n(132),o=n(282);e.exports={create:function({algorithm:e="AES-GCM",nonceLength:t=12,keyLength:n=16,digest:a="SHA-256",saltLength:u=16,iterations:s=32767}={}){const c=o.get();return n*=8,{encrypt:async function(o,f){const l=c.getRandomValues(new Uint8Array(u)),d=c.getRandomValues(new Uint8Array(t)),h={name:e,iv:d},p={name:"PBKDF2",salt:l,iterations:s,hash:{name:a}},m=await c.subtle.importKey("raw",i(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),y=await c.subtle.deriveKey(p,m,{name:e,length:n},!0,["encrypt"]),v=await c.subtle.encrypt(h,y,o);return r([l,h.iv,new Uint8Array(v)])},decrypt:async function(r,o){const f=r.slice(0,u),l=r.slice(u,u+t),d=r.slice(u+t),h={name:e,iv:l},p={name:"PBKDF2",salt:f,iterations:s,hash:{name:a}},m=await c.subtle.importKey("raw",i(o),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),y=await c.subtle.deriveKey(p,m,{name:e,length:n},!0,["decrypt"]),v=await c.subtle.decrypt(h,y,d);return new Uint8Array(v)}}}}},function(e,t,n){(function(t){var r=n(39);n(279),n(169),n(364),n(51);var i=n(1131),o=i.publicKeyValidator,a=i.privateKeyValidator;if(void 0===u)var u=r.jsbn.BigInteger;var s=r.util.ByteBuffer,c=void 0===t?Uint8Array:t;r.pki=r.pki||{},e.exports=r.pki.ed25519=r.ed25519=r.ed25519||{};var f=r.ed25519;function l(e){var n=e.message;if(n instanceof Uint8Array||n instanceof c)return n;var r=e.encoding;if(void 0===n){if(!e.md)throw new TypeError('"options.message" or "options.md" not specified.');n=e.md.digest().getBytes(),r="binary"}if("string"==typeof n&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof n){if(void 0!==t)return t.from(n,r);n=new s(n,r)}else if(!(n instanceof s))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var i=new c(n.length()),o=0;o<i.length;++o)i[o]=n.at(o);return i}f.constants={},f.constants.PUBLIC_KEY_BYTE_LENGTH=32,f.constants.PRIVATE_KEY_BYTE_LENGTH=64,f.constants.SEED_BYTE_LENGTH=32,f.constants.SIGN_BYTE_LENGTH=64,f.constants.HASH_BYTE_LENGTH=64,f.generateKeyPair=function(e){var t=(e=e||{}).seed;if(void 0===t)t=r.random.getBytesSync(f.constants.SEED_BYTE_LENGTH);else if("string"==typeof t){if(t.length!==f.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+f.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=l({message:t,encoding:"binary"});for(var n=new c(f.constants.PUBLIC_KEY_BYTE_LENGTH),i=new c(f.constants.PRIVATE_KEY_BYTE_LENGTH),o=0;o<32;++o)i[o]=t[o];return function(e,t){var n,r=[D(),D(),D(),D()],i=w(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,I(r,i),A(e,r),n=0;n<32;++n)t[n+32]=e[n]}(n,i),{publicKey:n,privateKey:i}},f.privateKeyFromAsn1=function(e){var t={},n=[];if(!r.asn1.validate(e,a,t,n)){var i=new Error("Invalid Key.");throw i.errors=n,i}var o=r.asn1.derToOid(t.privateKeyOid),u=r.oids.EdDSA25519;if(o!==u)throw new Error('Invalid OID "'+o+'"; OID must be "'+u+'".');var s=t.privateKey;return{privateKeyBytes:l({message:r.asn1.fromDer(s).value,encoding:"binary"})}},f.publicKeyFromAsn1=function(e){var t={},n=[];if(!r.asn1.validate(e,o,t,n)){var i=new Error("Invalid Key.");throw i.errors=n,i}var a=r.asn1.derToOid(t.publicKeyOid),u=r.oids.EdDSA25519;if(a!==u)throw new Error('Invalid OID "'+a+'"; OID must be "'+u+'".');var s=t.ed25519PublicKey;if(s.length!==f.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return l({message:s,encoding:"binary"})},f.publicKeyFromPrivateKey=function(e){var t=l({message:(e=e||{}).privateKey,encoding:"binary"});if(t.length!==f.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+f.constants.PRIVATE_KEY_BYTE_LENGTH);for(var n=new c(f.constants.PUBLIC_KEY_BYTE_LENGTH),r=0;r<n.length;++r)n[r]=t[32+r];return n},f.sign=function(e){var t=l(e=e||{}),n=l({message:e.privateKey,encoding:"binary"});if(n.length===f.constants.SEED_BYTE_LENGTH)n=f.generateKeyPair({seed:n}).privateKey;else if(n.length!==f.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+f.constants.SEED_BYTE_LENGTH+" or "+f.constants.PRIVATE_KEY_BYTE_LENGTH);var r=new c(f.constants.SIGN_BYTE_LENGTH+t.length);!function(e,t,n,r){var i,o,a=new Float64Array(64),u=[D(),D(),D(),D()],s=w(r,32);s[0]&=248,s[31]&=127,s[31]|=64;var c=n+64;for(i=0;i<n;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=s[32+i];var f=w(e.subarray(32),n+32);for(_(f),I(u,f),A(e,u),i=32;i<64;++i)e[i]=r[i];var l=w(e,n+64);for(_(l),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=f[i];for(i=0;i<32;++i)for(o=0;o<32;o++)a[i+o]+=l[i]*s[o];E(e.subarray(32),a)}(r,t,t.length,n);for(var i=new c(f.constants.SIGN_BYTE_LENGTH),o=0;o<i.length;++o)i[o]=r[o];return i},f.verify=function(e){var t=l(e=e||{});if(void 0===e.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var n=l({message:e.signature,encoding:"binary"});if(n.length!==f.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+f.constants.SIGN_BYTE_LENGTH);var r=l({message:e.publicKey,encoding:"binary"});if(r.length!==f.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+f.constants.PUBLIC_KEY_BYTE_LENGTH);var i,o=new c(f.constants.SIGN_BYTE_LENGTH+t.length),a=new c(f.constants.SIGN_BYTE_LENGTH+t.length);for(i=0;i<f.constants.SIGN_BYTE_LENGTH;++i)o[i]=n[i];for(i=0;i<t.length;++i)o[i+f.constants.SIGN_BYTE_LENGTH]=t[i];return function(e,t,n,r){var i,o=new c(32),a=[D(),D(),D(),D()],u=[D(),D(),D(),D()];if(-1,n<64)return-1;if(function(e,t){var n=D(),r=D(),i=D(),o=D(),a=D(),u=D(),s=D();O(e[2],h),function(e,t){var n;for(n=0;n<16;++n)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(e[1],t),B(i,e[1]),F(o,i,p),j(i,i,e[2]),L(o,e[2],o),B(a,o),B(u,a),F(s,u,a),F(n,s,i),F(n,n,o),function(e,t){var n,r=D();for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)B(r,r),1!==n&&F(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}(n,n),F(n,n,i),F(n,n,o),F(n,n,o),F(e[0],n,o),B(r,e[0]),F(r,r,o),k(r,i)&&F(e[0],e[0],b);if(B(r,e[0]),F(r,r,o),k(r,i))return-1;C(e[0])===t[31]>>7&&j(e[0],d,e[0]);return F(e[3],e[0],e[1]),0}(u,r))return-1;for(i=0;i<n;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=r[i];var s=w(e,n);if(_(s),R(a,u,s),I(u,t.subarray(32)),S(a,u),A(o,a),n-=64,x(t,0,o,0)){for(i=0;i<n;++i)e[i]=0;return-1}for(i=0;i<n;++i)e[i]=t[i+64];return n}(a,o,o.length,r)>=0};var d=D(),h=D([1]),p=D([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),m=D([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),y=D([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),v=D([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),g=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),b=D([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function w(e,n){var i=r.md.sha512.create(),o=new s(e);i.update(o.getBytes(n),"binary");var a=i.digest().getBytes();if(void 0!==t)return t.from(a,"binary");for(var u=new c(f.constants.HASH_BYTE_LENGTH),l=0;l<64;++l)u[l]=a.charCodeAt(l);return u}function E(e,t){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)t[i]+=n-16*t[r]*g[i-(r-32)],n=t[i]+128>>8,t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;++i)t[i]+=n-(t[31]>>4)*g[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=n*g[i];for(r=0;r<32;++r)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function _(e){for(var t=new Float64Array(64),n=0;n<64;++n)t[n]=e[n],e[n]=0;E(e,t)}function S(e,t){var n=D(),r=D(),i=D(),o=D(),a=D(),u=D(),s=D(),c=D(),f=D();j(n,e[1],e[0]),j(f,t[1],t[0]),F(n,n,f),L(r,e[0],e[1]),L(f,t[0],t[1]),F(r,r,f),F(i,e[3],t[3]),F(i,i,m),F(o,e[2],t[2]),L(o,o,o),j(a,r,n),j(u,o,i),L(s,o,i),L(c,r,n),F(e[0],a,u),F(e[1],c,s),F(e[2],s,u),F(e[3],a,c)}function T(e,t,n){for(var r=0;r<4;++r)N(e[r],t[r],n)}function A(e,t){var n=D(),r=D(),i=D();!function(e,t){var n,r=D();for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)B(r,r),2!==n&&4!==n&&F(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}(i,t[2]),F(n,t[0],i),F(r,t[1],i),P(e,r),e[31]^=C(n)<<7}function P(e,t){var n,r,i,o=D(),a=D();for(n=0;n<16;++n)a[n]=t[n];for(M(a),M(a),M(a),r=0;r<2;++r){for(o[0]=a[0]-65517,n=1;n<15;++n)o[n]=a[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,N(a,o,1-i)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function k(e,t){var n=new c(32),r=new c(32);return P(n,e),P(r,t),x(n,0,r,0)}function x(e,t,n,r){return function(e,t,n,r,i){var o,a=0;for(o=0;o<i;++o)a|=e[t+o]^n[r+o];return(1&a-1>>>8)-1}(e,t,n,r,32)}function C(e){var t=new c(32);return P(t,e),1&t[0]}function R(e,t,n){var r,i;for(O(e[0],d),O(e[1],h),O(e[2],h),O(e[3],d),i=255;i>=0;--i)T(e,t,r=n[i/8|0]>>(7&i)&1),S(t,e),S(e,e),T(e,t,r)}function I(e,t){var n=[D(),D(),D(),D()];O(n[0],y),O(n[1],v),O(n[2],h),F(n[3],y,v),R(e,n,t)}function O(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function M(e){var t,n,r=1;for(t=0;t<16;++t)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function N(e,t,n){for(var r,i=~(n-1),o=0;o<16;++o)r=i&(e[o]^t[o]),e[o]^=r,t[o]^=r}function D(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;++t)n[t]=e[t];return n}function L(e,t,n){for(var r=0;r<16;++r)e[r]=t[r]+n[r]}function j(e,t,n){for(var r=0;r<16;++r)e[r]=t[r]-n[r]}function B(e,t){F(e,t,t)}function F(e,t,n){var r,i,o=0,a=0,u=0,s=0,c=0,f=0,l=0,d=0,h=0,p=0,m=0,y=0,v=0,g=0,b=0,w=0,E=0,_=0,S=0,T=0,A=0,P=0,k=0,x=0,C=0,R=0,I=0,O=0,M=0,N=0,D=0,L=n[0],j=n[1],B=n[2],F=n[3],U=n[4],q=n[5],H=n[6],K=n[7],V=n[8],z=n[9],W=n[10],G=n[11],$=n[12],J=n[13],Q=n[14],Y=n[15];o+=(r=t[0])*L,a+=r*j,u+=r*B,s+=r*F,c+=r*U,f+=r*q,l+=r*H,d+=r*K,h+=r*V,p+=r*z,m+=r*W,y+=r*G,v+=r*$,g+=r*J,b+=r*Q,w+=r*Y,a+=(r=t[1])*L,u+=r*j,s+=r*B,c+=r*F,f+=r*U,l+=r*q,d+=r*H,h+=r*K,p+=r*V,m+=r*z,y+=r*W,v+=r*G,g+=r*$,b+=r*J,w+=r*Q,E+=r*Y,u+=(r=t[2])*L,s+=r*j,c+=r*B,f+=r*F,l+=r*U,d+=r*q,h+=r*H,p+=r*K,m+=r*V,y+=r*z,v+=r*W,g+=r*G,b+=r*$,w+=r*J,E+=r*Q,_+=r*Y,s+=(r=t[3])*L,c+=r*j,f+=r*B,l+=r*F,d+=r*U,h+=r*q,p+=r*H,m+=r*K,y+=r*V,v+=r*z,g+=r*W,b+=r*G,w+=r*$,E+=r*J,_+=r*Q,S+=r*Y,c+=(r=t[4])*L,f+=r*j,l+=r*B,d+=r*F,h+=r*U,p+=r*q,m+=r*H,y+=r*K,v+=r*V,g+=r*z,b+=r*W,w+=r*G,E+=r*$,_+=r*J,S+=r*Q,T+=r*Y,f+=(r=t[5])*L,l+=r*j,d+=r*B,h+=r*F,p+=r*U,m+=r*q,y+=r*H,v+=r*K,g+=r*V,b+=r*z,w+=r*W,E+=r*G,_+=r*$,S+=r*J,T+=r*Q,A+=r*Y,l+=(r=t[6])*L,d+=r*j,h+=r*B,p+=r*F,m+=r*U,y+=r*q,v+=r*H,g+=r*K,b+=r*V,w+=r*z,E+=r*W,_+=r*G,S+=r*$,T+=r*J,A+=r*Q,P+=r*Y,d+=(r=t[7])*L,h+=r*j,p+=r*B,m+=r*F,y+=r*U,v+=r*q,g+=r*H,b+=r*K,w+=r*V,E+=r*z,_+=r*W,S+=r*G,T+=r*$,A+=r*J,P+=r*Q,k+=r*Y,h+=(r=t[8])*L,p+=r*j,m+=r*B,y+=r*F,v+=r*U,g+=r*q,b+=r*H,w+=r*K,E+=r*V,_+=r*z,S+=r*W,T+=r*G,A+=r*$,P+=r*J,k+=r*Q,x+=r*Y,p+=(r=t[9])*L,m+=r*j,y+=r*B,v+=r*F,g+=r*U,b+=r*q,w+=r*H,E+=r*K,_+=r*V,S+=r*z,T+=r*W,A+=r*G,P+=r*$,k+=r*J,x+=r*Q,C+=r*Y,m+=(r=t[10])*L,y+=r*j,v+=r*B,g+=r*F,b+=r*U,w+=r*q,E+=r*H,_+=r*K,S+=r*V,T+=r*z,A+=r*W,P+=r*G,k+=r*$,x+=r*J,C+=r*Q,R+=r*Y,y+=(r=t[11])*L,v+=r*j,g+=r*B,b+=r*F,w+=r*U,E+=r*q,_+=r*H,S+=r*K,T+=r*V,A+=r*z,P+=r*W,k+=r*G,x+=r*$,C+=r*J,R+=r*Q,I+=r*Y,v+=(r=t[12])*L,g+=r*j,b+=r*B,w+=r*F,E+=r*U,_+=r*q,S+=r*H,T+=r*K,A+=r*V,P+=r*z,k+=r*W,x+=r*G,C+=r*$,R+=r*J,I+=r*Q,O+=r*Y,g+=(r=t[13])*L,b+=r*j,w+=r*B,E+=r*F,_+=r*U,S+=r*q,T+=r*H,A+=r*K,P+=r*V,k+=r*z,x+=r*W,C+=r*G,R+=r*$,I+=r*J,O+=r*Q,M+=r*Y,b+=(r=t[14])*L,w+=r*j,E+=r*B,_+=r*F,S+=r*U,T+=r*q,A+=r*H,P+=r*K,k+=r*V,x+=r*z,C+=r*W,R+=r*G,I+=r*$,O+=r*J,M+=r*Q,N+=r*Y,w+=(r=t[15])*L,a+=38*(_+=r*B),u+=38*(S+=r*F),s+=38*(T+=r*U),c+=38*(A+=r*q),f+=38*(P+=r*H),l+=38*(k+=r*K),d+=38*(x+=r*V),h+=38*(C+=r*z),p+=38*(R+=r*W),m+=38*(I+=r*G),y+=38*(O+=r*$),v+=38*(M+=r*J),g+=38*(N+=r*Q),b+=38*(D+=r*Y),o=(r=(o+=38*(E+=r*j))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=u,e[3]=s,e[4]=c,e[5]=f,e[6]=l,e[7]=d,e[8]=h,e[9]=p,e[10]=m,e[11]=y,e[12]=v,e[13]=g,e[14]=b,e[15]=w}}).call(this,n(27).Buffer)},function(e,t,n){"use strict";const r=n(282),i=n(1144),o={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"};t.create=async function(e,t){const n=o[e],a=await r.get().subtle.importKey("raw",t,{name:"HMAC",hash:{name:n}},!1,["sign"]);return{digest:async e=>(async(e,t)=>{const n=await r.get().subtle.sign({name:"HMAC"},e,t);return new Uint8Array(n,n.byteOffset,n.byteLength)})(a,e),length:i[e]}}},function(e,t,n){"use strict";const{bases:r}=n(280);function i(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const o=i("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),a=i("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),u={utf8:o,"utf-8":o,hex:r.base16,latin1:a,ascii:a,binary:a,...r};e.exports=u},function(e,t,n){"use strict";const r=e=>e&&e.includeBoundaries?"(?:(?<=\\s|^)(?=[a-fA-F\\d:])|(?<=[a-fA-F\\d:])(?=\\s|$))":"",i="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",o="[a-fA-F\\d]{1,4}",a=`\n(?:\n(?:${o}:){7}(?:${o}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${o}:){6}(?:${i}|:${o}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${o}:){5}(?::${i}|(?::${o}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${o}:){4}(?:(?::${o}){0,1}:${i}|(?::${o}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${o}:){3}(?:(?::${o}){0,2}:${i}|(?::${o}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${o}:){2}(?:(?::${o}){0,3}:${i}|(?::${o}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${o}:){1}(?:(?::${o}){0,4}:${i}|(?::${o}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::${o}){0,5}:${i}|(?::${o}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),u=new RegExp(`(?:^${i}$)|(?:^${a}$)`),s=new RegExp(`^${i}$`),c=new RegExp(`^${a}$`),f=e=>e&&e.exact?u:new RegExp(`(?:${r(e)}${i}${r(e)})|(?:${r(e)}${a}${r(e)})`,"g");f.v4=e=>e&&e.exact?s:new RegExp(`${r(e)}${i}${r(e)}`,"g"),f.v6=e=>e&&e.exact?c:new RegExp(`${r(e)}${a}${r(e)}`,"g"),e.exports=f},function(e,t,n){"use strict";const{bases:r}=n(280);function i(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const o=i("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>(new TextEncoder).encode(e.substring(1))),a=i("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),u={utf8:o,"utf-8":o,hex:r.base16,latin1:a,ascii:a,binary:a,...r};e.exports=u},function(e,t,n){"use strict";e.exports=function(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));const n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(104),i=n(134),o=n(579),a=n(368),u=n(580),s=n(581),c=n(582),f=n(583),l=n(584),d=n(116),h=n(230);function p(e,t,n){throw new Error(`${d.decodeErrPrefix} encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function m(e){return()=>{throw new Error(`${d.decodeErrPrefix} ${e}`)}}const y=[];for(let e=0;e<=23;e++)y[e]=p;y[24]=i.decodeUint8,y[25]=i.decodeUint16,y[26]=i.decodeUint32,y[27]=i.decodeUint64,y[28]=p,y[29]=p,y[30]=p,y[31]=p;for(let e=32;e<=55;e++)y[e]=p;y[56]=o.decodeNegint8,y[57]=o.decodeNegint16,y[58]=o.decodeNegint32,y[59]=o.decodeNegint64,y[60]=p,y[61]=p,y[62]=p,y[63]=p;for(let e=64;e<=87;e++)y[e]=a.decodeBytesCompact;y[88]=a.decodeBytes8,y[89]=a.decodeBytes16,y[90]=a.decodeBytes32,y[91]=a.decodeBytes64,y[92]=p,y[93]=p,y[94]=p,y[95]=m("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)y[e]=u.decodeStringCompact;y[120]=u.decodeString8,y[121]=u.decodeString16,y[122]=u.decodeString32,y[123]=u.decodeString64,y[124]=p,y[125]=p,y[126]=p,y[127]=m("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)y[e]=s.decodeArrayCompact;y[152]=s.decodeArray8,y[153]=s.decodeArray16,y[154]=s.decodeArray32,y[155]=s.decodeArray64,y[156]=p,y[157]=p,y[158]=p,y[159]=s.decodeArrayIndefinite;for(let e=160;e<=183;e++)y[e]=c.decodeMapCompact;y[184]=c.decodeMap8,y[185]=c.decodeMap16,y[186]=c.decodeMap32,y[187]=c.decodeMap64,y[188]=p,y[189]=p,y[190]=p,y[191]=c.decodeMapIndefinite;for(let e=192;e<=215;e++)y[e]=f.decodeTagCompact;y[216]=f.decodeTag8,y[217]=f.decodeTag16,y[218]=f.decodeTag32,y[219]=f.decodeTag64,y[220]=p,y[221]=p,y[222]=p,y[223]=p;for(let e=224;e<=243;e++)y[e]=m("simple values are not supported");y[244]=p,y[245]=p,y[246]=p,y[247]=l.decodeUndefined,y[248]=m("simple values are not supported"),y[249]=l.decodeFloat16,y[250]=l.decodeFloat32,y[251]=l.decodeFloat64,y[252]=p,y[253]=p,y[254]=p,y[255]=l.decodeBreak;const v=[];for(let e=0;e<24;e++)v[e]=new r.Token(r.Type.uint,e,1);for(let e=-1;e>=-24;e--)v[31-e]=new r.Token(r.Type.negint,e,1);v[64]=new r.Token(r.Type.bytes,new Uint8Array(0),1),v[96]=new r.Token(r.Type.string,"",1),v[128]=new r.Token(r.Type.array,0,1),v[160]=new r.Token(r.Type.map,0,1),v[244]=new r.Token(r.Type.false,!1,1),v[245]=new r.Token(r.Type.true,!0,1),v[246]=new r.Token(r.Type.null,null,1),t.jump=y,t.quick=v,t.quickEncodeToken=function(e){switch(e.type){case r.Type.false:return h.fromArray([244]);case r.Type.true:return h.fromArray([245]);case r.Type.null:return h.fromArray([246]);case r.Type.bytes:return e.value.length?void 0:h.fromArray([64]);case r.Type.string:return""===e.value?h.fromArray([96]):void 0;case r.Type.array:return 0===e.value?h.fromArray([128]):void 0;case r.Type.map:return 0===e.value?h.fromArray([160]):void 0;case r.Type.uint:return e.value<24?h.fromArray([Number(e.value)]):void 0;case r.Type.negint:if(e.value>=-24)return h.fromArray([31-Number(e.value)])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(104),i=n(134),o=n(116);const a=BigInt(-1),u=BigInt(1);function s(e,t){const n=t.value,r="bigint"==typeof n?n*a-u:-1*n-1;i.encodeUintValue(e,t.type.majorEncoded,r)}s.encodedSize=function(e){const t=e.value,n="bigint"==typeof t?t*a-u:-1*t-1;return n<i.uintBoundaries[0]?1:n<i.uintBoundaries[1]?2:n<i.uintBoundaries[2]?3:n<i.uintBoundaries[3]?5:9},s.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},t.decodeNegint16=function(e,t,n,o){return new r.Token(r.Type.negint,-1-i.readUint16(e,t+1,o),3)},t.decodeNegint32=function(e,t,n,o){return new r.Token(r.Type.negint,-1-i.readUint32(e,t+1,o),5)},t.decodeNegint64=function(e,t,n,u){const s=i.readUint64(e,t+1,u);if("bigint"!=typeof s){const e=-1-s;if(e>=Number.MIN_SAFE_INTEGER)return new r.Token(r.Type.negint,e,9)}if(!0!==u.allowBigInt)throw new Error(o.decodeErrPrefix+" integers outside of the safe integer range are not supported");return new r.Token(r.Type.negint,a-BigInt(s),9)},t.decodeNegint8=function(e,t,n,o){return new r.Token(r.Type.negint,-1-i.readUint8(e,t+1,o),2)},t.encodeNegint=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(104),i=n(116),o=n(134),a=n(368),u=n(230);function s(e,t,n,o){const a=n+o;return i.assertEnoughData(e,t,a),new r.Token(r.Type.string,u.toString(e,t+n,t+a),a)}const c=a.encodeBytes;t.decodeString16=function(e,t,n,r){return s(e,t,3,o.readUint16(e,t+1,r))},t.decodeString32=function(e,t,n,r){return s(e,t,5,o.readUint32(e,t+1,r))},t.decodeString64=function(e,t,n,r){const a=o.readUint64(e,t+1,r);if("bigint"==typeof a)throw new Error(i.decodeErrPrefix+" 64-bit integer string lengths not supported");return s(e,t,9,a)},t.decodeString8=function(e,t,n,r){return s(e,t,2,o.readUint8(e,t+1,r))},t.decodeStringCompact=function(e,t,n,r){return s(e,t,1,n)},t.encodeString=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(104),i=n(134),o=n(116);function a(e,t,n,i){return new r.Token(r.Type.array,i,n)}function u(e,t){i.encodeUintValue(e,r.Type.array.majorEncoded,t.value)}u.compareTokens=i.encodeUint.compareTokens,t.decodeArray16=function(e,t,n,r){return a(0,0,3,i.readUint16(e,t+1,r))},t.decodeArray32=function(e,t,n,r){return a(0,0,5,i.readUint32(e,t+1,r))},t.decodeArray64=function(e,t,n,r){const u=i.readUint64(e,t+1,r);if("bigint"==typeof u)throw new Error(o.decodeErrPrefix+" 64-bit integer array lengths not supported");return a(0,0,9,u)},t.decodeArray8=function(e,t,n,r){return a(0,0,2,i.readUint8(e,t+1,r))},t.decodeArrayCompact=function(e,t,n,r){return a(0,0,1,n)},t.decodeArrayIndefinite=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(o.decodeErrPrefix+" indefinite length items not allowed");return a(0,0,1,1/0)},t.encodeArray=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(104),i=n(134),o=n(116);function a(e,t,n,i){return new r.Token(r.Type.map,i,n)}function u(e,t){i.encodeUintValue(e,r.Type.map.majorEncoded,t.value)}u.compareTokens=i.encodeUint.compareTokens,t.decodeMap16=function(e,t,n,r){return a(0,0,3,i.readUint16(e,t+1,r))},t.decodeMap32=function(e,t,n,r){return a(0,0,5,i.readUint32(e,t+1,r))},t.decodeMap64=function(e,t,n,r){const u=i.readUint64(e,t+1,r);if("bigint"==typeof u)throw new Error(o.decodeErrPrefix+" 64-bit integer map lengths not supported");return a(0,0,9,u)},t.decodeMap8=function(e,t,n,r){return a(0,0,2,i.readUint8(e,t+1,r))},t.decodeMapCompact=function(e,t,n,r){return a(0,0,1,n)},t.decodeMapIndefinite=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(o.decodeErrPrefix+" indefinite length items not allowed");return a(0,0,1,1/0)},t.encodeMap=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(104),i=n(134);function o(e,t){i.encodeUintValue(e,r.Type.tag.majorEncoded,t.value)}o.compareTokens=i.encodeUint.compareTokens,t.decodeTag16=function(e,t,n,o){return new r.Token(r.Type.tag,i.readUint16(e,t+1,o),3)},t.decodeTag32=function(e,t,n,o){return new r.Token(r.Type.tag,i.readUint32(e,t+1,o),5)},t.decodeTag64=function(e,t,n,o){return new r.Token(r.Type.tag,i.readUint64(e,t+1,o),9)},t.decodeTag8=function(e,t,n,o){return new r.Token(r.Type.tag,i.readUint8(e,t+1,o),2)},t.decodeTagCompact=function(e,t,n,i){return new r.Token(r.Type.tag,n,1)},t.encodeTag=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(104),i=n(116),o=n(134);function a(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error(i.decodeErrPrefix+" NaN values are not supported");if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error(i.decodeErrPrefix+" Infinity values are not supported")}return new r.Token(r.Type.float,e,t)}function u(e,t,n){const i=t.value;if(!1===i)e.push([20|r.Type.float.majorEncoded]);else if(!0===i)e.push([21|r.Type.float.majorEncoded]);else if(null===i)e.push([22|r.Type.float.majorEncoded]);else if(void 0===i)e.push([23|r.Type.float.majorEncoded]);else{let t,r=!1;n&&!0===n.float64||(l(i),t=d(f,1),i===t||Number.isNaN(i)?(f[0]=249,e.push(f.slice(0,3)),r=!0):(h(i),t=p(f,1),i===t&&(f[0]=250,e.push(f.slice(0,5)),r=!0))),r||(o=i,c.setFloat64(0,o,!1),t=m(f,1),f[0]=251,e.push(f.slice(0,9)))}var o}u.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null==n)return 1;let r;if(!t||!0!==t.float64){if(l(n),r=d(f,1),n===r||Number.isNaN(n))return 3;if(h(n),r=p(f,1),n===r)return 5}return 9};const s=new ArrayBuffer(9),c=new DataView(s,1),f=new Uint8Array(s,0);function l(e){if(e===1/0)c.setUint16(0,31744,!1);else if(e===-1/0)c.setUint16(0,64512,!1);else if(Number.isNaN(e))c.setUint16(0,32256,!1);else{c.setFloat32(0,e);const t=c.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)c.setUint16(0,31744,!1);else if(0===n)c.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?c.setUint16(0,0):e<-14?c.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):c.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function d(e,t){if(e.length-t<2)throw new Error(i.decodeErrPrefix+" not enough data for float16");const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,o=1023&n;let a;return a=0===r?o*2**-24:31!==r?(o+1024)*2**(r-25):0===o?1/0:NaN,32768&n?-a:a}function h(e){c.setFloat32(0,e,!1)}function p(e,t){if(e.length-t<4)throw new Error(i.decodeErrPrefix+" not enough data for float32");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function m(e,t){if(e.length-t<8)throw new Error(i.decodeErrPrefix+" not enough data for float64");const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}u.compareTokens=o.encodeUint.compareTokens,t.decodeBreak=function(e,t,n,o){if(!1===o.allowIndefinite)throw new Error(i.decodeErrPrefix+" indefinite length items not allowed");return new r.Token(r.Type.break,void 0,1)},t.decodeFloat16=function(e,t,n,r){return a(d(e,t+1),3,r)},t.decodeFloat32=function(e,t,n,r){return a(p(e,t+1),5,r)},t.decodeFloat64=function(e,t,n,r){return a(m(e,t+1),9,r)},t.decodeUndefined=function(e,t,n,o){if(!1===o.allowUndefined)throw new Error(i.decodeErrPrefix+" undefined values are not supported");return new r.Token(r.Type.undefined,void 0,1)},t.encodeFloat=u},function(e,t,n){"use strict";const{nanoid:r}=n(308),i=n(45),o=n(44),a=(new TextEncoder).encode("/"),u=a[0];class s{constructor(e,t){if("string"==typeof e)this._buf=o(e);else{if(!(e instanceof Uint8Array))throw new Error("Invalid key, should be String of Uint8Array");this._buf=e}if(null==t&&(t=!0),t&&this.clean(),0===this._buf.byteLength||this._buf[0]!==u)throw new Error("Invalid key")}toString(e="utf8"){return i(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new s(e.join("/"))}static random(){return new s(r().replace(/-/g,""))}clean(){if(this._buf&&0!==this._buf.byteLength||(this._buf=a),this._buf[0]!==u){const e=new Uint8Array(this._buf.byteLength+1);e.fill(u,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===u;)this._buf=this._buf.subarray(0,-1)}less(e){const t=this.list(),n=e.list();for(let e=0;e<t.length;e++){if(n.length<e+1)return!1;const r=t[e],i=n[e];if(r<i)return!0;if(r>i)return!1}return t.length<n.length}reverse(){return s.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const e=this.namespaces();return e[e.length-1]}list(){return this.toString().split("/").slice(1)}type(){return function(e){const t=e.split(":");if(t.length<2)return"";return t.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(e){const t=e.split(":");return t[t.length-1]}(this.baseNamespace())}instance(e){return new s(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith("/")||(e+="/"),e+=this.type(),new s(e)}parent(){const e=this.list();return 1===e.length?new s("/"):new s(e.slice(0,-1).join("/"))}child(e){return"/"===this.toString()?e:"/"===e.toString()?this:new s(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()!==this.toString()&&e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()!==this.toString()&&this.toString().startsWith(e.toString())}isTopLevel(){return 1===this.list().length}concat(...e){return s.withNamespaces([...this.namespaces(),...(t=e.map(e=>e.namespaces()),[].concat(...t))]);var t}}e.exports=s},function(e,t,n){"use strict";const{sortAll:r}=n(587),i=n(135),o=n(154),a=n(232);e.exports=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,t,n){return Promise.reject(new Error(".put is not implemented"))}get(e,t){return Promise.reject(new Error(".get is not implemented"))}has(e,t){return Promise.reject(new Error(".has is not implemented"))}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,t={}){for await(const{key:n,value:r}of e)await this.put(n,r,t),yield{key:n,value:r}}async*getMany(e,t={}){for await(const n of e)yield this.get(n,t)}async*deleteMany(e,t={}){for await(const n of e)await this.delete(n,t),yield n}batch(){let e=[],t=[];return{put(t,n){e.push({key:t,value:n})},delete(e){t.push(e)},commit:async n=>{await i(this.putMany(e,n)),e=[],await i(this.deleteMany(t,n)),t=[]}}}async*_all(e,t){throw new Error("._all is not implemented")}async*_allKeys(e,t){throw new Error("._allKeys is not implemented")}query(e,t){let n=this._all(e,t);if(null!=e.prefix&&(n=o(n,t=>t.key.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(n=e.filters.reduce((e,t)=>o(e,t),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((e,t)=>r(e,t),n)),null!=e.offset){let t=0;n=o(n,()=>t++>=e.offset)}return null!=e.limit&&(n=a(n,e.limit)),n}queryKeys(e,t){let n=this._allKeys(e,t);if(null!=e.prefix&&(n=o(n,t=>t.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(n=e.filters.reduce((e,t)=>o(e,t),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((e,t)=>r(e,t),n)),null!=e.offset){let t=0;n=o(n,()=>t++>=e.offset)}return null!=e.limit&&(n=a(n,e.limit)),n}}},function(e,t,n){"use strict";const r=n(1176),i=n(231);e.exports={sortAll:(e,t)=>async function*(){const n=await i(e);yield*n.sort(t)}(),tmpdir:r,replaceStartWith:(e,t)=>{const n=new RegExp("^"+t);return e.replace(n,"")}}},function(e,t,n){"use strict";const r=n(4);e.exports={dbOpenFailedError:function(e){return e=e||new Error("Cannot open database"),r(e,"ERR_DB_OPEN_FAILED")},dbDeleteFailedError:function(e){return e=e||new Error("Delete failed"),r(e,"ERR_DB_DELETE_FAILED")},dbWriteFailedError:function(e){return e=e||new Error("Write failed"),r(e,"ERR_DB_WRITE_FAILED")},notFoundError:function(e){return e=e||new Error("Not Found"),r(e,"ERR_NOT_FOUND")},abortedError:function(e){return e=e||new Error("Aborted"),r(e,"ERR_ABORTED")}}},function(e,t,n){"use strict";const{AbortController:r}="undefined"!=typeof self?self:"undefined"!=typeof window?window:n(193),i=n(1177);class o extends r{constructor(e){super(),this._ms=e,this._timer=i(()=>this.abort(),e),Object.setPrototypeOf(this,o.prototype)}abort(){return this._timer.clear(),super.abort()}clear(){this._timer.clear()}reset(){this._timer.clear(),this._timer=i(()=>this.abort(),this._ms)}}e.exports=o,e.exports.TimeoutController=o},function(e,t,n){"use strict";const r=n(289);e.exports=class{constructor(e){this.lru=r(e)}get(e){const t=this.lru.get(e);if(t)return t.expire&&t.expire<Date.now()?void this.lru.remove(e):t.value}set(e,t,n){this.lru.set(e,{value:t,expire:Date.now()+n})}has(e){return!!this.get(e)}remove(e){this.lru.remove(e)}clear(){this.lru.clear()}}},function(e,t){e.exports=function(e,t,n){if(!e)return n;var r,i;Array.isArray(t)&&(r=t.slice(0));"string"==typeof t&&(r=t.split("."));"symbol"==typeof t&&(r=[t]);if(!Array.isArray(r))throw new Error("props arg must be an array, a string or a symbol");for(;r.length;){if(i=r.shift(),!e)return n;if(void 0===(e=e[i]))return n}return e}},function(e,t,n){"use strict";e.exports=async e=>{let t=0;for await(const n of e)t++;return t}},function(e,t,n){"use strict";const{Key:r}=n(47),{base32:i}=n(85),{CID:o}=n(170),a=new r("/local/pins"),u=o.parse("QmdfTbBqBPQ7VNxZEYEj14VmRuZBkqFbiwReogJgS1zR1n");e.exports={PIN_DS_KEY:a,DEFAULT_FANOUT:256,MAX_ITEMS:8192,EMPTY_KEY:u,PinTypes:{direct:"direct",recursive:"recursive"},cidToKey:function(e){return new r("/"+i.encode(e.multihash.bytes).toUpperCase().substring(1))}}},function(e,t){function n(e){if("__proto__"===e||"constructor"===e||"prototype"===e)throw new Error("setting of prototype values not supported")}e.exports=function(e,t,r){"string"==typeof t&&(t=t.split("."));"symbol"==typeof t&&(t=[t]);var i,o=t.pop();if(!o)return!1;n(o);for(;i=t.shift();)if(n(i),void 0===e[i]&&(e[i]={}),!(e=e[i])||"object"!=typeof e)return!1;return e[o]=r,!0}},function(e,t,n){const r=n(1212);e.exports=class{constructor(e){this.hwm=e||16,this.head=new r(this.hwm),this.tail=this.head}push(e){if(!this.head.push(e)){const t=this.head;this.head=t.next=new r(2*this.head.buffer.length),this.head.push(e)}}shift(){const e=this.tail.shift();if(void 0===e&&this.tail.next){const e=this.tail.next;return this.tail.next=null,this.tail=e,this.tail.shift()}return e}isEmpty(){return this.head.isEmpty()}}},function(e,t,n){"use strict";const{CID:r}=n(12),i=n(4),o=n(6),a=n(198),u=n(373),s=n(286),c=n(42),{cidToKey:f,keyToMultihash:l}=n(597),d=n(598);const h={direct:"direct",recursive:"recursive",indirect:"indirect",all:"all"};e.exports={PinManager:class{constructor({pinstore:e,blockstore:t,loadCodec:n}){this.pinstore=e,this.blockstore=t,this.loadCodec=n,this.log=o("ipfs:repo:pin"),this.directPins=new Set,this.recursivePins=new Set}async pinDirectly(e,t={}){await this.blockstore.get(e,t);const n={depth:0};return 0!==e.version&&(n.version=e.version),e.code!==c.code&&(n.codec=e.code),t.metadata&&(n.metadata=t.metadata),this.pinstore.put(f(e),s.encode(n))}unpin(e,t){return this.pinstore.delete(f(e),t)}async pinRecursively(e,t={}){await this.fetchCompleteDag(e,t);const n={depth:1/0};0!==e.version&&(n.version=e.version),e.code!==c.code&&(n.codec=e.code),t.metadata&&(n.metadata=t.metadata),await this.pinstore.put(f(e),s.encode(n))}async*directKeys(e){for await(const e of this.pinstore.query({filters:[e=>0===s.decode(e.value).depth]})){const t=s.decode(e.value),n=t.version||0,i=null!=t.codec?t.codec:c.code,o=l(e.key);yield{cid:r.create(n,i,o),metadata:t.metadata}}}async*recursiveKeys(e){for await(const e of this.pinstore.query({filters:[e=>s.decode(e.value).depth===1/0]})){const t=s.decode(e.value),n=t.version||0,i=null!=t.codec?t.codec:c.code,o=l(e.key);yield{cid:r.create(n,i,o),metadata:t.metadata}}}async*indirectKeys(e){for await(const{cid:t}of this.recursiveKeys())for await(const n of d(t,this.blockstore,this.loadCodec,e)){const e=[h.recursive];(await this.isPinnedWithType(n,e)).pinned||(yield n)}}async isPinnedWithType(e,t,n){Array.isArray(t)||(t=[t]);const r=t.includes(h.all),i=t.includes(h.direct),o=t.includes(h.recursive),u=t.includes(h.indirect);if(o||i||r){const n=await a(this.pinstore.query({prefix:f(e).toString(),filters:[e=>{if(r)return!0;const n=s.decode(e.value);return t.includes(0===n.depth?h.direct:h.recursive)}],limit:1}));if(n){const t=s.decode(n.value);return{cid:e,pinned:!0,reason:0===t.depth?h.direct:h.recursive,metadata:t.metadata}}}const c=this;if(r||u){const t=await a(async function*(e,t){for await(const{cid:n}of t)for await(const t of d(n,c.blockstore,c.loadCodec))if(t.equals(e))return void(yield n)}(e,this.recursiveKeys()));if(t)return{cid:e,pinned:!0,reason:h.indirect,parent:t}}return{cid:e,pinned:!1}}async fetchCompleteDag(e,t){const n=new Set,r=async(e,t)=>{if(n.has(e.toString()))return;n.add(e.toString());const i=await this.blockstore.get(e,t),o=await this.loadCodec(e.code),a=u.createUnsafe({bytes:i,cid:e,codec:o});await Promise.all([...a.links()].map(([,e])=>r(e,t)))};await r(e,t)}static checkPinType(e){if("string"!=typeof e||!Object.keys(h).includes(e))throw function(e){return i(new Error(`Invalid type '${e}', must be one of {direct, indirect, recursive, all}`),"ERR_INVALID_PIN_TYPE")}(e);return!0}},PinTypes:h}},function(e,t,n){"use strict";const{Key:r}=n(47),{CID:i}=n(170),o=n(102),a=n(4),{base32:u}=n(85),s=n(84);function c(e){return s.decode(u.decode("b"+e.toString().toLowerCase().substring(1)))}e.exports={cidToKey:function(e){const t=i.asCID(e);if(null==t)throw a(new Error("Not a valid cid"),"ERR_INVALID_CID");const n=u.encode(t.multihash.bytes);return new r("/"+n.slice(1).toUpperCase(),!1)},keyToCid:function(e){return i.createV1(o.code,c(e))},keyToMultihash:c}},function(e,t,n){"use strict";const r=n(6)("ipfs:repo:utils:walk-dag"),i=n(373);e.exports=async function*e(t,n,o,a){try{const r=await n.get(t,a),u=await o(t.code),s=i.createUnsafe({bytes:r,cid:t,codec:u});for(const[,t]of s.links())yield t,yield*e(t,n,o,a)}catch(e){throw r("Could not walk DAG for CID",t.toString(),e),e}}},function(e,t,n){(function(t){const r=n(1216),i=n(1218),{default:o}=n(155),{timeout:a}=n(1219),u=n(601),s={};let c;function f(e,t){let n;const r=new Promise(e=>{n=e});return e.add(()=>a(new Promise(e=>{n(()=>{e()})}),t.timeout)),r}const l={concurrency:1/0,timeout:846e5,global:t,singleProcess:!1};e.exports=(e,t)=>(t||(t={}),"object"==typeof e&&(t=e,e="lock"),e||(e="lock"),t=Object.assign({},l,t),c||(c=r(t)||i(t),c.isWorker||(c.on("requestReadLock",(e,t)=>{s[e]&&s[e].readLock().then(e=>t().finally(()=>e()))}),c.on("requestWriteLock",async(e,t)=>{s[e]&&s[e].writeLock().then(e=>t().finally(()=>e()))}))),s[e]||(s[e]=((e,t)=>{if(c.isWorker)return{readLock:c.readLock(e,t),writeLock:c.writeLock(e,t)};const n=new o({concurrency:1});let r=null;return{readLock:()=>{if(r)return f(r,t);r=new o({concurrency:t.concurrency,autoStart:!1});const e=r,i=f(r,t);return n.add(()=>(e.start(),e.onIdle().then(()=>{r===e&&(r=null)}))),i},writeLock:()=>(r=null,f(n,t))}})(e,t)),s[e]),e.exports.Worker=function(e,n){let r;n=n||t.Worker;try{r=new n(e)}catch(t){t.message.includes("not a constructor")&&(r=n(e))}if(!r)throw new Error("Could not create Worker from",n);return u(r),r}}).call(this,n(48))},function(e,t){e.exports={WORKER_REQUEST_READ_LOCK:"lock:worker:request-read",WORKER_RELEASE_READ_LOCK:"lock:worker:release-read",MASTER_GRANT_READ_LOCK:"lock:master:grant-read",WORKER_REQUEST_WRITE_LOCK:"lock:worker:request-write",WORKER_RELEASE_WRITE_LOCK:"lock:worker:release-write",MASTER_GRANT_WRITE_LOCK:"lock:master:grant-write"}},function(e,t){const n={},r=e=>{e.addEventListener("message",t=>{r.dispatchEvent("message",e,t)}),e.port&&e.port.addEventListener("message",t=>{r.dispatchEvent("message",e,t)})};r.addEventListener=(e,t)=>{n[e]||(n[e]=[]),n[e].push(t)},r.removeEventListener=(e,t)=>{n[e]&&(n[e]=n[e].filter(e=>e===t))},r.dispatchEvent=function(){const e=Array.prototype.slice.call(arguments),t=e.shift();n[t]&&n[t].forEach(t=>t.apply(null,e))},e.exports=r},function(e,t,n){"use strict";const{Key:r}=n(47),i=n(1237),o="/repo/flatfs/shard/";class a{constructor(e){this.param=e,this.name="base",this._padding=""}fun(e){return"implement me"}toString(){return`${o}v1/${this.name}/${this.param}`}}class u extends a{constructor(e){super(e),this._padding="".padStart(e,"_"),this.name="prefix"}fun(e){return(e+this._padding).slice(0,this.param)}}class s extends a{constructor(e){super(e),this._padding="".padStart(e,"_"),this.name="suffix"}fun(e){const t=this._padding+e;return t.slice(t.length-this.param)}}class c extends a{constructor(e){super(e),this._padding="".padStart(e+1,"_"),this.name="next-to-last"}fun(e){const t=this._padding+e,n=t.length-this.param-1;return t.slice(n,n+this.param)}}function f(e){if(0===(e=e.trim()).length)throw new Error("empty shard string");if(!e.startsWith(o))throw new Error("invalid or no path prefix: "+e);const t=e.slice(o.length).split("/"),n=t[0];if("v1"!==n)throw new Error(`expect 'v1' version, got '${n}'`);const r=t[1];if(!t[2])throw new Error("missing param");const i=parseInt(t[2],10);switch(r){case"prefix":return new u(i);case"suffix":return new s(i);case"next-to-last":return new c(i);default:throw new Error("unkown sharding function: "+r)}}e.exports={readme:i,parseShardFun:f,readShardFun:async(e,t)=>{const n=new r(e).child(new r("SHARDING")),i="function"==typeof t.getRaw?t.getRaw.bind(t):t.get.bind(t),o=await i(n);return f((new TextDecoder).decode(o||"").trim())},Prefix:u,Suffix:s,NextToLast:c,README_FN:"_README",SHARDING_FN:"SHARDING",PREFIX:o}},function(e,t,n){"use strict";const r=n(235),{base58btc:i}=n(64),o=n(1241),a=n(45),u=n(44),s=n(4),c=n(6),f=Object.assign(c("ipfs:ipns:pubsub"),{error:c("ipfs:ipns:pubsub:error")});e.exports=class{constructor(e,t,n){this._subscriptions={},this._handleSubscriptionKey=this._handleSubscriptionKey.bind(this),this._pubsubDs=new o(e,t,n,r.validator,this._handleSubscriptionKey)}put(e,t){return this._pubsubDs.put(e,t)}async get(e){let t,n;try{t=await this._pubsubDs.get(e)}catch(e){n=e}const o=e.slice(0,r.namespaceLength);if(a(o)===r.namespace){const t=i.encode(e).substring(1),n=i.encode(e.slice(r.namespaceLength)).substring(1);this._subscriptions[t]=n,f(`subscribed to pubsub topic ${t}, id ${n}`)}if(n)throw n;return t}_handleSubscriptionKey(e){e instanceof Uint8Array&&(e=a(e,"base58btc"));const t=this._subscriptions[e];if(!t)throw s(new Error(`key ${e} does not correspond to a subscription`),"ERR_INVALID_KEY");let n;try{n=r.getIdKeys(u(t,"base58btc"))}catch(e){throw f.error(e),e}return n.routingKey.uint8Array()}getSubscriptions(){return Object.values(this._subscriptions).filter(Boolean).map(e=>`${r.namespace}${e}`)}async cancel(e){if("string"!=typeof e)throw s(new Error("invalid subscription name"),"ERR_INVALID_SUBSCRIPTION_NAME");e.startsWith(r.namespace)&&(e=e.substring(r.namespaceLength));const t=Object.keys(this._subscriptions).find(t=>this._subscriptions[t]===e);if(!t)return{canceled:!1};const n=u(t);return this._pubsubDs.unsubscribe(n),delete this._subscriptions[t],f(`unsubscribed pubsub ${t}: ${e}`),{canceled:!0}}}},function(e,t,n){"use strict";const{Key:r}=n(47),{Record:i}=n(199),{encodeBase32:o}=n(605),a=n(4),u=n(6),s=Object.assign(u("ipfs:ipns:offline-datastore"),{error:u("ipfs:ipns:offline-datastore:error")});e.exports=class{constructor(e){this._repo=e,this.stores=[]}async put(e,t){if(!(e instanceof Uint8Array))throw a(new Error("Offline datastore key must be a Uint8Array"),"ERR_INVALID_KEY");if(!(t instanceof Uint8Array))throw a(new Error("Offline datastore value must be a Uint8Array"),"ERR_INVALID_VALUE");let n;try{n=this._routingKey(e)}catch(e){throw s.error(e),a(new Error("Not possible to generate the routing key"),"ERR_GENERATING_ROUTING_KEY")}const r=new i(e,t);return this._repo.datastore.put(n,r.serialize())}async get(e){if(!(e instanceof Uint8Array))throw a(new Error("Offline datastore key must be a Uint8Array"),"ERR_INVALID_KEY");let t;try{t=this._routingKey(e)}catch(e){throw s.error(e),a(new Error("Not possible to generate the routing key"),"ERR_GENERATING_ROUTING_KEY")}const n=await this._repo.datastore.get(t);let r;try{r=i.deserialize(n)}catch(e){throw s.error(e),e}return r.value}_routingKey(e){return new r("/"+o(e),!1)}}},function(e,t,n){"use strict";const r=n(235),i=n(45);e.exports={encodeBase32:e=>i(e,"base32upper"),validator:{func:(e,t)=>r.validator.validate(t,e)},selector:(e,t)=>r.validator.select(t[0],t[1])}},function(e,t,n){"use strict";const r=n(17);e.exports=({network:e})=>r((async function(t={}){const n=(await e.use(t)).bitswap,r=n.stat().snapshot;return{provideBufLen:parseInt(r.providesBufferLength.toString()),blocksReceived:BigInt(r.blocksReceived.toString()),wantlist:Array.from(n.getWantlist()).map(e=>e[1].cid),peers:n.peers().map(e=>e.toB58String()),dupBlksReceived:BigInt(r.dupBlksReceived.toString()),dupDataReceived:BigInt(r.dupDataReceived.toString()),dataReceived:BigInt(r.dataReceived.toString()),blocksSent:BigInt(r.blocksSent.toString()),dataSent:BigInt(r.dataSent.toString())}}))},function(e,t,n){"use strict";const r=n(195).IPFS.matches;t.isValidMultiaddr=e=>{try{return r(e)}catch(e){return!1}}},function(e,t,n){"use strict";const{CID:r}=n(12),i=n(4);t.cleanCid=e=>{if(e instanceof r)return e;if("string"==typeof e)return r.parse(e);if(e instanceof Uint8Array)return r.decode(e);throw i(new Error("Invalid CID"),"ERR_INVALID_CID")}},function(e,t,n){e.exports=n(1281)},function(e,t,n){"use strict";const{encode:r,prepare:i}=n(42),{UnixFS:o}=n(77),a=n(380),u=n(200);e.exports=class extends a{constructor(e,t){super(e,t),this._children={}}async put(e,t){this.cid=void 0,this.size=void 0,this._children[e]=t}get(e){return Promise.resolve(this._children[e])}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}async*eachChildSeries(){const e=Object.keys(this._children);for(let t=0;t<e.length;t++){const n=e[t];yield{key:n,child:this._children[n]}}}async*flush(e){const t=Object.keys(this._children),n=[];for(let r=0;r<t.length;r++){let i=this._children[t[r]];if(i instanceof a)for await(const t of i.flush(e))i=t,yield i;null!=i.size&&i.cid&&n.push({Name:t[r],Tsize:i.size,Hash:i.cid})}const s=new o({type:"directory",mtime:this.mtime,mode:this.mode}),c={Data:s.marshal(),Links:n},f=r(i(c)),l=await u(f,e,this.options),d=f.length+c.Links.reduce((e,t)=>e+(null==t.Tsize?0:t.Tsize),0);this.cid=l,this.size=d,yield{cid:l,unixfs:s,path:this.path,size:d}}}},function(e,t,n){"use strict";const r=n(4),i=n(292),o=n(293),a=n(117),{isBytes:u,isBlob:s,isReadableStream:c,isFileObject:f}=n(383),{parseMtime:l,parseMode:d}=n(77);async function h(e,t){const{path:n,mode:r,mtime:i,content:o}=e,a={path:n||"",mode:d(r),mtime:l(i)};return o?a.content=await t(o):n||(a.content=await t(e)),a}e.exports=async function*(e,t){if(null!=e)if("string"==typeof e||e instanceof String)yield h(e.toString(),t);else if(u(e)||s(e))yield h(e,t);else{if(c(e)&&(e=i(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const n=o(e),{value:r,done:i}=await n.peek();if(i)return void(yield*[]);if(n.push(r),Number.isInteger(r)||u(r))return void(yield h(n,t));if(f(r)||s(r)||"string"==typeof r||r instanceof String)return void(yield*a(n,e=>h(e,t)));if(r[Symbol.iterator]||r[Symbol.asyncIterator]||c(r))return void(yield*a(n,e=>h(e,t)))}if(!f(e))throw r(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT");yield h(e,t)}}},function(e,t,n){"use strict";const r=n(384),i=n(385),{UnixFS:o}=n(77),a=n(4),u=n(42),s=n(153),c=n(102);e.exports=(e,t,n,f,l,d,h)=>function(e={}){const f=n.fileSize();if(void 0===f)throw new Error("File was a directory");const{offset:l,length:d}=i(f,e.offset,e.length);return async function*e(t,n,i,f,l=0,d){if(n instanceof Uint8Array){const e=r(n,l,i,f);return e.length&&(yield e),l+=e.length}if(null==n.Data)throw a(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");let h;try{h=o.unmarshal(n.Data)}catch(e){throw a(e,"ERR_NOT_UNIXFS")}if(h.data&&h.data.length){const e=r(h.data,l,i,f);e.length&&(yield e),l+=h.data.length}let p=l;for(let r=0;r<n.Links.length;r++){const o=n.Links[r],a=l+h.blockSizes[r];if(i>=p&&i<a||f>p&&f<=a||i<p&&f>a){const n=await t.get(o.Hash,{signal:d.signal});let r;switch(o.Hash.code){case u.code:r=await u.decode(n);break;case c.code:r=n;break;case s.code:r=await s.decode(n);break;default:throw Error("Unsupported codec: "+o.Hash.code)}for await(const n of e(t,r,i,f,l,d))l+=n.length,yield n}l=a,p=a+1}}(h,t,l,l+d,0,e)}},function(e,t,n){"use strict";const r=n(594),i=n(377),o=n(17),a=n(6)("ipfs:core:config");async function u(e){return Object.keys(s).map(e=>({name:e,description:s[e].description}))}e.exports=({repo:e})=>({getAll:o((async function(t={}){return e.config.getAll(t)})),get:o((async function(t,n){if(!t)return Promise.reject(new Error("key argument is required"));return e.config.get(t,n)})),set:o((async function(t,n,r){return e.config.set(t,n,r)})),replace:o((async function(t,n){return e.config.replace(t,n)})),profiles:{apply:o((async function(t,n={dryRun:!1}){const{dryRun:r}=n,i=s[t];if(!i)throw new Error(`No profile with name '${t}' exists`);try{const t=await e.config.getAll(n);let o=JSON.parse(JSON.stringify(t));return o=i.transform(o),r||await e.config.replace(o,n),delete t.Identity.PrivKey,delete o.Identity.PrivKey,{original:t,updated:o}}catch(e){throw a(e),new Error(`Could not apply profile '${t}' to config: ${e.message}`)}})),list:o(u)}});const s={server:{description:"Recommended for nodes with public IPv4 address (servers, VPSes, etc.), disables host and content discovery and UPnP in local networks.",transform:e=>(r(e,"Discovery.MDNS.Enabled",!1),r(e,"Discovery.webRTCStar.Enabled",!1),e.Swarm={...e.Swarm||{},DisableNatPortMap:!0},e)},"local-discovery":{description:"Sets default values to fields affected by `server` profile, enables discovery and UPnP in local networks.",transform:e=>(r(e,"Discovery.MDNS.Enabled",!0),r(e,"Discovery.webRTCStar.Enabled",!0),r(e,"Swarm",{...e.Swarm||{},DisableNatPortMap:!1}),e)},test:{description:"Reduces external interference, useful for running ipfs in test environments. Note that with these settings node won't be able to talk to the rest of the network without manual bootstrap.",transform:e=>{const t=i();return r(e,"Addresses.API",t.Addresses.API?"/ip4/127.0.0.1/tcp/0":""),r(e,"Addresses.Gateway",t.Addresses.Gateway?"/ip4/127.0.0.1/tcp/0":""),r(e,"Addresses.Swarm",t.Addresses.Swarm.length?["/ip4/127.0.0.1/tcp/0"]:[]),r(e,"Addresses.Delegates",[]),r(e,"Bootstrap",[]),r(e,"Discovery.MDNS.Enabled",!1),r(e,"Discovery.webRTCStar.Enabled",!1),r(e,"Swarm",{...e.Swarm||{},DisableNatPortMap:!0}),e}},"default-networking":{description:"Restores default network settings. Inverse profile of the `test` profile.",transform:e=>{const t=i();return r(e,"Addresses.API",t.Addresses.API),r(e,"Addresses.Gateway",t.Addresses.Gateway),r(e,"Addresses.Swarm",t.Addresses.Swarm),r(e,"Addresses.Delegates",t.Addresses.Delegates),r(e,"Bootstrap",t.Bootstrap),r(e,"Discovery.MDNS.Enabled",t.Discovery.MDNS.Enabled),r(e,"Discovery.webRTCStar.Enabled",t.Discovery.webRTCStar.Enabled),r(e,"Swarm",{...e.Swarm||{},DisableNatPortMap:!1}),e}},lowpower:{description:"Reduces daemon overhead on the system. May affect node functionality,performance of content discovery and data fetching may be degraded. Recommended for low power systems.",transform:e=>{const t=e.Swarm||{},n=t.ConnMgr||{};return n.LowWater=20,n.HighWater=40,t.ConnMgr=n,e.Swarm=t,e}},"default-power":{description:'Inverse of "lowpower" profile.',transform:e=>{const t=i();return e.Swarm=t.Swarm,e}}};e.exports.profiles=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(103),i=n(12),o=n(84),a=n(153);function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var c=u(r),f=s(o);const l=18,d=32,h=112;async function p(e){const t=await e.upTo(8),n=c.default.decode(t);return e.seek(c.default.decode.bytes),n}async function m(e){const t=await p(e),n=await e.exactly(t);e.seek(t);const r=a.decode(n);if(null==r||Array.isArray(r)||"object"!=typeof r)throw new Error("Invalid CAR header format");if(1!==r.version){if("string"==typeof r.version)throw new Error(`Invalid CAR version: "${r.version}"`);throw new Error("Invalid CAR version: "+r.version)}if(!Array.isArray(r.roots))throw new Error("Invalid CAR header format");if(Object.keys(r).filter(e=>"roots"!==e&&"version"!==e).length)throw new Error("Invalid CAR header format");return r}async function y(e){const t=await e.exactly(2);if(t[0]===l&&t[1]===d){const t=await e.exactly(34);e.seek(34);const n=f.decode(t);return i.CID.create(0,h,n)}const n=await p(e);if(1!==n)throw new Error(`Unexpected CID version (${n})`);const r=await p(e),o=await async function(e){const t=await e.upTo(8);c.default.decode(t);const n=c.default.decode.bytes,r=c.default.decode(t.subarray(c.default.decode.bytes)),i=n+c.default.decode.bytes+r,o=await e.exactly(i);return e.seek(i),o}(e),a=f.decode(o);return i.CID.create(n,r,a)}async function v(e){const t=e.pos,n=await p(e)+(e.pos-t);return{cid:await y(e),length:n,blockLength:n-(e.pos-t)}}async function g(e){const{cid:t,blockLength:n}=await v(e),r=await e.exactly(n);return e.seek(n),{bytes:r,cid:t}}async function b(e){const t=e.pos,{cid:n,length:r,blockLength:i}=await v(e),o={cid:n,length:r,blockLength:i,offset:t,blockOffset:e.pos};return e.seek(o.blockLength),o}function w(e){let t=0,n=0,r=0,i=new Uint8Array(0);const o=async t=>{n=i.length-r;const o=[i.subarray(r)];for(;n<t;){const t=await e();if(0===t.length)break;n<0?t.length>n&&o.push(t.subarray(-n)):o.push(t),n+=t.length}i=new Uint8Array(o.reduce((e,t)=>e+t.length,0));let a=0;for(const e of o)i.set(e,a),a+=e.length;r=0};return{upTo:async e=>(i.length-r<e&&await o(e),i.subarray(r,r+Math.min(i.length-r,e))),async exactly(e){if(i.length-r<e&&await o(e),i.length-r<e)throw new Error("Unexpected end of data");return i.subarray(r,r+e)},seek(e){t+=e,r+=e},get pos(){return t}}}t.asyncIterableReader=function(e){const t=e[Symbol.asyncIterator]();return w((async function(){const e=await t.next();return e.done?new Uint8Array(0):e.value}))},t.bytesReader=function(e){let t=0;return{upTo:async n=>e.subarray(t,t+Math.min(n,e.length-t)),async exactly(n){if(n>e.length-t)throw new Error("Unexpected end of data");return e.subarray(t,t+n)},seek(e){t+=e},get pos(){return t}}},t.chunkReader=w,t.createDecoder=function(e){const t=m(e);return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await g(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await b(e)}}},t.readHeader=m},function(e,t,n){"use strict";const r=n(599);let i;e.exports=(e=!1)=>{if(i)return i;const t=r({singleProcess:e});return i={readLock:e=>async(...n)=>{const r=await t.readLock();try{return await e.apply(null,n)}finally{r()}},writeLock:e=>async(...n)=>{const r=await t.writeLock();try{return await e.apply(null,n)}finally{r()}}},i}},function(e,t,n){"use strict";const r=n(42),{Bucket:i,createHAMT:o}=n(382),a=n(381),u=n(379),s=n(6)("ipfs:mfs:core:utils:hamt-utils"),{UnixFS:c}=n(77),f=n(97),{CID:l}=n(12),d=async(e,t,n,r)=>{const o=new i({hash:t._options.hash,bits:t._options.bits},n,r);return n._putObjectAt(r,o),await p(e,o,t),o},h=async e=>{const t=u(),n=o({hashFn:t.hamtHashFn,bits:t.hamtBucketBits});return await p(e,n,n),n},p=async(e,t,n)=>{await Promise.all(e.map(e=>{const r=e.Name||"";if(2===r.length){const e=parseInt(r,16);return t._putObjectAt(e,new i({hash:n._options.hash,bits:n._options.bits},t,e)),Promise.resolve()}return n.put(r.substring(2),{size:e.Tsize,cid:e.Hash})}))},m=e=>e.toString(16).toUpperCase().padStart(2,"0").substring(0,2);e.exports={generatePath:async(e,t,n)=>{const i=await h(n.Links),o=await i._findNewBucketAndPos(t),a=[{bucket:o.bucket,prefix:m(o.pos)}];let u=o.bucket;for(;u!==i;)a.push({bucket:u,prefix:m(u._posAtParent)}),u=u._parent;a.reverse(),a[0].node=n;for(let n=0;n<a.length;n++){const o=a[n];if(!o.node)throw new Error("Could not generate HAMT path");const u=o.node.Links.filter(e=>(e.Name||"").substring(0,2)===o.prefix).pop();if(!u){s(`Link ${o.prefix}${t} will be added`);continue}if(u.Name===`${o.prefix}${t}`){s(`Link ${o.prefix}${t} will be replaced`);continue}s("Found subshard "+o.prefix);const c=await e.repo.blocks.get(u.Hash),f=r.decode(c);if(!a[n+1]){s("Loaded new subshard "+o.prefix),await d(f.Links,i,o.bucket,parseInt(o.prefix,16));const e=await i._findNewBucketAndPos(t);a.push({bucket:e.bucket,prefix:m(e.pos),node:f});continue}const l=a[n+1];await p(f.Links,l.bucket,i),l.node=f}return await i.put(t,!0),a.reverse(),{rootBucket:i,path:a}},updateHamtDirectory:async(e,t,n,i)=>{const o=u();if(!i.parent.Data)throw new Error("Could not update HAMT directory because parent had no data");const a=Uint8Array.from(n._children.bitField().reverse()),s=c.unmarshal(i.parent.Data),f=new c({type:"hamt-sharded-directory",data:a,fanout:n.tableSize(),hashType:o.hamtHashCode,mode:s.mode,mtime:s.mtime}),d=await e.hashers.getHasher(i.hashAlg),h={Data:f.marshal(),Links:t.sort((e,t)=>(e.Name||"").localeCompare(t.Name||""))},p=r.encode(h),m=await d.digest(p),y=l.create(i.cidVersion,r.code,m);return i.flush&&await e.repo.blocks.put(y,p),{node:h,cid:y,size:t.reduce((e,t)=>e+(t.Tsize||0),p.length)}},recreateHamtLevel:d,recreateInitialHamtLevel:h,addLinksToHamtBucket:p,toPrefix:m,createShard:async(e,t,n={})=>{const i=u(),o=new a({root:!0,dir:!0,parent:null,parentKey:null,path:"",dirty:!0,flat:!1,mtime:n.mtime,mode:n.mode},{hamtHashFn:i.hamtHashFn,hamtHashCode:i.hamtHashCode,hamtBucketBits:i.hamtBucketBits,hasher:i.hasher,...n,codec:r});for(let e=0;e<t.length;e++)await o._bucket.put(t[e].name,{size:t[e].size,cid:t[e].cid});return f(o.flush(e.repo.blocks))}}},function(e,t,n){"use strict";const r=n(17);e.exports=({repo:e})=>r((async function(t={}){const n=await e.stat();return{numObjects:BigInt(n.numObjects.toString()),repoSize:BigInt(n.repoSize.toString()),repoPath:n.repoPath,version:""+n.version,storageMax:BigInt(n.storageMax.toString())}}))},function(e,t,n){"use strict";e.exports=function(...e){const t=e.reduce((e,t)=>Object.assign(e,t),{});return Object.assign(t,{bufferKeys:t.bufferKeys||!1,snapshots:t.snapshots||!1,permanence:t.permanence||!1,seek:t.seek||!1,clear:t.clear||!1,status:t.status||!1,createIfMissing:t.createIfMissing||!1,errorIfExists:t.errorIfExists||!1,deferredOpen:t.deferredOpen||!1,openCallback:t.openCallback||!1,promises:t.promises||!1,streams:t.streams||!1,encodings:t.encodings||!1,additionalMethods:Object.assign({},t.additionalMethods)})}},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";function r(e){if("object"!=typeof e||null===e)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){if("function"!=typeof e)throw new Error("next() requires a callback argument");return this._ended?(this._nextTick(e,new Error("cannot call next() after end()")),this):this._nexting?(this._nextTick(e,new Error("cannot call next() before previous next() has completed")),this):(this._nexting=!0,this._next((t,...n)=>{this._nexting=!1,e(t,...n)}),this)},r.prototype._next=function(e){this._nextTick(e)},r.prototype.seek=function(e){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");e=this.db._serializeKey(e),this._seek(e)},r.prototype._seek=function(e){},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");if(this._ended)return this._nextTick(e,new Error("end() already called on iterator"));this._ended=!0,this._end(e)},r.prototype._end=function(e){this._nextTick(e)},r.prototype._nextTick=n(392),e.exports=r},function(e,t,n){"use strict";const r=Object.freeze({});function i(e){if("object"!=typeof e||null===e)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=e,this._operations=[],this._written=!1}i.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},i.prototype.put=function(e,t,n){this._checkWritten();const i=this.db._checkKey(e)||this.db._checkValue(t);if(i)throw i;return e=this.db._serializeKey(e),t=this.db._serializeValue(t),this._put(e,t,null!=n?n:r),this},i.prototype._put=function(e,t,n){this._operations.push({...n,type:"put",key:e,value:t})},i.prototype.del=function(e,t){this._checkWritten();const n=this.db._checkKey(e);if(n)throw n;return e=this.db._serializeKey(e),this._del(e,null!=t?t:r),this},i.prototype._del=function(e,t){this._operations.push({...t,type:"del",key:e})},i.prototype.clear=function(){return this._checkWritten(),this._clear(),this},i.prototype._clear=function(){this._operations=[]},i.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");"object"==typeof e&&null!==e||(e={}),this._written=!0,this._write(e,t)},i.prototype._write=function(e,t){this.db._batch(this._operations,e,t)},i.prototype._nextTick=n(392),e.exports=i},function(e,t,n){"use strict";(function(e){t.fromCallback=function(e){if(void 0===e){var t=new Promise((function(t,n){e=function(e,r){e?n(e):t(r)}}));e.promise=t}return e},t.fromPromise=function(t,n){if(void 0===n)return t;t.then((function(t){e.nextTick(n,null,t)})).catch((function(t){e.nextTick(n,t)}))}}).call(this,n(49))},function(e,t,n){"use strict";const r=n(1388),i=Symbol("none");e.exports=function(e){const t=r.lowerBound(e,i),n=r.upperBound(e,i),o=r.lowerBoundExclusive(e,i),a=r.upperBoundExclusive(e,i);return t!==i&&n!==i?IDBKeyRange.bound(t,n,o,a):t!==i?IDBKeyRange.lowerBound(t,o):n!==i?IDBKeyRange.upperBound(n,a):null}},function(e,t,n){"use strict";(function(t){const r=n(27).Buffer,i=function(){if(t.TextDecoder){const e=new TextDecoder("utf-8");return e.decode.bind(e)}return function(e){return a(e).toString()}}(),o=function(){if(t.TextDecoder){const e=new TextDecoder("utf-8");return e.decode.bind(e)}return function(e){return r.from(e).toString()}}();function a(e){const t=r.from(e.buffer);return e.byteLength===e.buffer.byteLength?t:t.slice(e.byteOffset,e.byteOffset+e.byteLength)}e.exports=function(e,t){return e instanceof Uint8Array?t?a(e):i(e):e instanceof ArrayBuffer?t?r.from(e):o(e):t?r.from(String(e)):String(e)}}).call(this,n(48))},function(e,t,n){"use strict";const r=n(135),i=n(154),o=n(232),a=n(231),u=(e,t)=>async function*(){const n=await a(e);yield*n.sort(t)}();e.exports=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,t,n){return Promise.reject(new Error(".put is not implemented"))}get(e,t){return Promise.reject(new Error(".get is not implemented"))}has(e,t){return Promise.reject(new Error(".has is not implemented"))}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,t={}){for await(const{key:n,value:r}of e)await this.put(n,r,t),yield{key:n,value:r}}async*getMany(e,t={}){for await(const n of e)yield this.get(n,t)}async*deleteMany(e,t={}){for await(const n of e)await this.delete(n,t),yield n}batch(){let e=[],t=[];return{put(t,n){e.push({key:t,value:n})},delete(e){t.push(e)},commit:async n=>{await r(this.putMany(e,n)),e=[],await r(this.deleteMany(t,n)),t=[]}}}async*_all(e,t){throw new Error("._all is not implemented")}async*_allKeys(e,t){throw new Error("._allKeys is not implemented")}query(e,t){let n=this._all(e,t);if(null!=e.prefix&&(n=i(n,t=>t.key.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(n=e.filters.reduce((e,t)=>i(e,t),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((e,t)=>u(e,t),n)),null!=e.offset){let t=0;n=i(n,()=>t++>=(e.offset||0))}return null!=e.limit&&(n=o(n,e.limit)),n}queryKeys(e,t){let n=this._allKeys(e,t);if(null!=e.prefix&&(n=i(n,t=>t.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(n=e.filters.reduce((e,t)=>i(e,t),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((e,t)=>u(e,t),n)),null!=e.offset){let t=0;n=i(n,()=>t++>=e.offset)}return null!=e.limit&&(n=o(n,e.limit)),n}}},function(e,t,n){"use strict";const r=n(291),i=n(57).bind({ignoreUndefined:!0}),o=n(4),a=n(1395),u=n(1423),s=n(1424),{create:c}=n(636),{Multiaddr:f}=n(30),l=n(386).version;e.exports=({options:e={},peerId:t,multiaddrs:d=[],repo:h,keychainConfig:p={},config:m={}})=>{const{datastore:y,keys:v}=h,g=function({options:e,config:t,datastore:d,keys:h,keychainConfig:p,peerId:m,multiaddrs:y}){const v={datastore:d,peerId:m,modules:{}},g={modules:{pubsub:(()=>{const e=r(t,"Pubsub.Router")||"gossipsub";if(!a[e])throw o(new Error(`Router unavailable. Configure libp2p.modules.pubsub to use the ${e} router.`),"ERR_NOT_SUPPORTED");return a[e]})(),contentRouting:[],peerRouting:[]},config:{peerDiscovery:{mdns:{enabled:r(e,"config.Discovery.MDNS.Enabled",r(t,"Discovery.MDNS.Enabled",!0))},webRTCStar:{enabled:r(e,"config.Discovery.webRTCStar.Enabled",r(t,"Discovery.webRTCStar.Enabled",!0))},bootstrap:{list:r(e,"config.Bootstrap",r(t,"Bootstrap",[]))}},relay:{enabled:r(e,"relay.enabled",r(t,"relay.enabled",!0)),hop:{enabled:r(e,"relay.hop.enabled",r(t,"relay.hop.enabled",!1)),active:r(e,"relay.hop.active",r(t,"relay.hop.active",!1))}},dht:{enabled:"none"!==r(t,"Routing.Type","none"),clientMode:"dhtserver"!==r(t,"Routing.Type","dht"),kBucketSize:r(e,"dht.kBucketSize",20)},pubsub:{enabled:r(e,"config.Pubsub.Enabled",r(t,"Pubsub.Enabled",!0))},nat:{enabled:!r(t,"Swarm.DisableNatPortMap",!1)}},addresses:{listen:y.map(e=>e.toString()),announce:r(e,"addresses.announce",r(t,"Addresses.Announce",[])),noAnnounce:r(e,"addresses.noAnnounce",r(t,"Addresses.NoAnnounce",[]))},connectionManager:r(e,"connectionManager",{maxConnections:r(e,"config.Swarm.ConnMgr.HighWater",r(t,"Swarm.ConnMgr.HighWater")),minConnections:r(e,"config.Swarm.ConnMgr.LowWater",r(t,"Swarm.ConnMgr.LowWater"))}),keychain:{datastore:h,...p},host:{agentVersion:"js-ipfs/"+l}},b=n(1648);let w=r(e,"libp2p",void 0);"function"==typeof w&&(w=void 0);const E=i(v,b(),g,w);r(E,"config.peerDiscovery.bootstrap.list",[]).length>0&&E.modules.peerDiscovery.push(n(1743));const _=r(e,"config.Addresses.Delegates",r(t,"Addresses.Delegates",[]));if(_.length>0){const e=_[Math.floor(Math.random()*_.length)],t=new f(e).toOptions(),n={host:t.host,protocol:443===parseInt(t.port)?"https":"http",port:t.port},r=c(n);g.modules.contentRouting=g.modules.contentRouting||[],g.modules.contentRouting.push(new s(m,r)),g.modules.peerRouting=g.modules.peerRouting||[],g.modules.peerRouting.push(new u(r))}return E}({options:e,config:m,datastore:y,keys:v,keychainConfig:p,peerId:t,multiaddrs:d});if("function"==typeof e.libp2p)return e.libp2p({libp2pOptions:g,options:e,config:m,datastore:y,peerId:t});return n(1560).create(g)}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function u(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))};const u=o(n(1396)),s=n(1405),c=n(1410),f=o(n(205)),l=n(1411),d=n(633),h=n(204),p=n(1412),m=n(1419),y=n(1420),v=n(31),g=n(297);class b extends u.default{constructor(e,t={}){const n=[f.GossipsubIDv11,f.GossipsubIDv10],r=Object.assign(Object.assign({gossipIncoming:!0,fallbackToFloodsub:!0,floodPublish:!0,doPX:!1,directPeers:[],D:f.GossipsubD,Dlo:f.GossipsubDlo,Dhi:f.GossipsubDhi,Dscore:f.GossipsubDscore,Dout:f.GossipsubDout,Dlazy:f.GossipsubDlazy},t),{scoreParams:p.createPeerScoreParams(t.scoreParams),scoreThresholds:p.createPeerScoreThresholds(t.scoreThresholds)});r.fallbackToFloodsub&&n.push(f.FloodsubID),super(Object.assign({debugName:"libp2p:gossipsub",multicodecs:n,libp2p:e},r)),this._options=r,this.direct=new Set(r.directPeers.map(e=>e.id.toB58String())),r.directPeers.forEach(t=>{e.peerStore.addressBook.add(t.id,t.addrs)}),this.seenCache=new y,this.mesh=new Map,this.fanout=new Map,this.lastpub=new Map,this.gossip=new Map,this.control=new Map,this.peerhave=new Map,this.iasked=new Map,this.backoff=new Map,this.outbound=new Map,this.messageCache=t.messageCache||new s.MessageCache(f.GossipsubHistoryGossip,f.GossipsubHistoryLength,this.getMsgId.bind(this)),this.heartbeat=new l.Heartbeat(this),this.heartbeatTicks=0,this.gossipTracer=new m.IWantTracer(this.getMsgId.bind(this)),this._libp2p=e,this.score=new p.PeerScore(this._options.scoreParams,e.connectionManager,this.getMsgId.bind(this))}_decodeRpc(e){return c.RPC.decode(e)}_encodeRpc(e){return c.RPC.encode(e).finish()}_addPeer(e,t){const n=super._addPeer(e,t);this.score.addPeer(e.toB58String());let r=!1;for(const n of this._libp2p.connectionManager.getAll(e))if("outbound"===n.stat.direction&&Array.from(n.registry.values()).some(e=>t===e.protocol)){r=!0;break}return this.outbound.set(n.id.toB58String(),r),n}_removePeer(e){const t=super._removePeer(e),n=e.toB58String();for(const e of this.mesh.values())e.delete(n);for(const e of this.fanout.values())e.delete(n);return this.gossip.delete(n),this.control.delete(n),this.outbound.delete(n),this.score.removePeer(n),t}_processRpc(e,t,n){const r=Object.create(null,{_processRpc:{get:()=>super._processRpc}});return a(this,void 0,void 0,(function*(){return!!(yield r._processRpc.call(this,e,t,n))&&(n.control&&this._processRpcControlMessage(e,n.control),!0)}))}_processRpcControlMessage(e,t){if(!t)return;const n=t.ihave?this._handleIHave(e,t.ihave):[],r=t.iwant?this._handleIWant(e,t.iwant):[],i=t.graft?this._handleGraft(e,t.graft):[];if(t.prune&&this._handlePrune(e,t.prune),!n.length&&!r.length&&!i.length)return;const o=h.createGossipRpc(r,{iwant:n,prune:i});this._sendRpc(e,o)}_processRpcMessage(e){const t=Object.create(null,{_processRpcMessage:{get:()=>super._processRpcMessage}});return a(this,void 0,void 0,(function*(){const n=yield this.getMsgId(e),r=h.messageIdToString(n);this.seenCache.has(r)?this.score.duplicateMessage(e):(this.seenCache.put(r),this.score.validateMessage(e),yield t._processRpcMessage.call(this,e))}))}_acceptFrom(e){return this.direct.has(e)||this.score.score(e)>=this._options.scoreThresholds.graylistThreshold}validate(e){const t=Object.create(null,{validate:{get:()=>super.validate}});return a(this,void 0,void 0,(function*(){try{yield t.validate.call(this,e)}catch(t){throw this.score.rejectMessage(e,t.code),this.gossipTracer.rejectMessage(e,t.code),t}}))}_handleIHave(e,t){if(!t.length)return[];const n=this.score.score(e);if(n<this._options.scoreThresholds.gossipThreshold)return this.log("IHAVE: ignoring peer %s with score below threshold [ score = %d ]",e,n),[];const r=(this.peerhave.get(e)||0)+1;if(this.peerhave.set(e,r),r>f.GossipsubMaxIHaveMessages)return this.log("IHAVE: peer %s has advertised too many times (%d) within this heartbeat interval; ignoring",e,r),[];const i=this.iasked.get(e)||0;if(i>=f.GossipsubMaxIHaveLength)return this.log("IHAVE: peer %s has already advertised too many messages (%d); ignoring",e,i),[];const o=new Map;if(t.forEach(({topicID:e,messageIDs:t})=>{e&&t&&this.mesh.has(e)&&t.forEach(e=>{const t=h.messageIdToString(e);this.seenCache.has(t)||o.set(t,e)})}),!o.size)return[];let a=o.size;a+i>f.GossipsubMaxIHaveLength&&(a=f.GossipsubMaxIHaveLength-i),this.log("IHAVE: Asking for %d out of %d messages from %s",a,o.size,e);let u=Array.from(o.values());return h.shuffle(u),u=u.slice(0,a),this.iasked.set(e,i+a),this.gossipTracer.addPromise(e,u),[{messageIDs:u}]}_handleIWant(e,t){if(!t.length)return[];const n=this.score.score(e);if(n<this._options.scoreThresholds.gossipThreshold)return this.log("IWANT: ignoring peer %s with score below threshold [score = %d]",e,n),[];const r=new Map;return t.forEach(({messageIDs:t})=>{t&&t.forEach(t=>{const[n,i]=this.messageCache.getForPeer(t,e);n&&(i>f.GossipsubGossipRetransmission?this.log("IWANT: Peer %s has asked for message %s too many times: ignoring request",e,t):r.set(h.messageIdToString(t),n))})}),r.size?(this.log("IWANT: Sending %d messages to %s",r.size,e),Array.from(r.values()).map(u.utils.normalizeOutRpcMessage)):[]}_handleGraft(e,t){const n=[],r=this.score.score(e),i=this._now();let o=this._options.doPX;return t.forEach(({topicID:t})=>{var a;if(!t)return;const u=this.mesh.get(t);if(!u)return void(o=!1);if(u.has(e))return;if(this.direct.has(e))return this.log("GRAFT: ignoring request from direct peer %s",e),n.push(t),void(o=!1);const s=null===(a=this.backoff.get(t))||void 0===a?void 0:a.get(e);if("number"==typeof s&&i<s){this.log("GRAFT: ignoring backed off peer %s",e),this.score.addPenalty(e,1),o=!1;const r=s+f.GossipsubGraftFloodThreshold-f.GossipsubPruneBackoff;return i<r&&this.score.addPenalty(e,1),this._addBackoff(e,t),void n.push(t)}return r<0?(this.log("GRAFT: ignoring peer %s with negative score: score=%d, topic=%s",e,r,t),n.push(t),o=!1,void this._addBackoff(e,t)):u.size>=this._options.Dhi&&!this.outbound.get(e)?(n.push(t),void this._addBackoff(e,t)):(this.log("GRAFT: Add mesh link from %s in %s",e,t),this.score.graft(e,t),void u.add(e))}),n.length?n.map(t=>this._makePrune(e,t,o)):[]}_handlePrune(e,t){const n=this.score.score(e);t.forEach(({topicID:t,backoff:r,peers:i})=>{if(!t)return;const o=this.mesh.get(t);if(o&&(this.log("PRUNE: Remove mesh link to %s in %s",e,t),this.score.prune(e,t),o.delete(e),"number"==typeof r&&r>0?this._doAddBackoff(e,t,1e3*r):this._addBackoff(e,t),i&&i.length)){if(n<this._options.scoreThresholds.acceptPXThreshold)return void this.log("PRUNE: ignoring PX from peer %s with insufficient score [score = %d, topic = %s]",e,n,t);this._pxConnect(i)}})}_addBackoff(e,t){this._doAddBackoff(e,t,f.GossipsubPruneBackoff)}_doAddBackoff(e,t,n){let r=this.backoff.get(t);r||(r=new Map,this.backoff.set(t,r));const i=this._now()+n;(r.get(e)||0)<i&&r.set(e,i)}_applyIwantPenalties(){this.gossipTracer.getBrokenPromises().forEach((e,t)=>{this.log("peer %s didn't follow up in %d IWANT requests; adding penalty",t,e),this.score.addPenalty(t,e)})}_clearBackoff(){if(this.heartbeatTicks%f.GossipsubPruneBackoffTicks!=0)return;const e=this._now();this.backoff.forEach((t,n)=>{t.forEach((n,r)=>{n<e&&t.delete(r)}),0===t.size&&this.backoff.delete(n)})}_directConnect(){if(this.heartbeatTicks%f.GossipsubDirectConnectTicks!=0)return;const e=[];this.direct.forEach(t=>{const n=this.peers.get(t);n&&n.isWritable||e.push(t)}),e.length&&e.forEach(e=>{this._connect(e)})}_pxConnect(e){return a(this,void 0,void 0,(function*(){e.length>f.GossipsubPrunePeers&&(h.shuffle(e),e=e.slice(0,f.GossipsubPrunePeers));const t=[];yield Promise.all(e.map(e=>a(this,void 0,void 0,(function*(){if(!e.peerID)return;const n=v.createFromBytes(e.peerID).toB58String();if(!this.peers.has(n))if(e.signedPeerRecord)try{const r=yield g.openAndCertify(e.signedPeerRecord,"libp2p-peer-record"),i=r.peerId.toB58String();if(n!==i)return void this.log("bogus peer record obtained through px: peer ID %s doesn't match expected peer %s",i,n);if(!this._libp2p.peerStore.addressBook.consumePeerRecord(r))return void this.log("bogus peer record obtained through px: could not add peer record to address book");t.push(n)}catch(e){this.log("bogus peer record obtained through px: invalid signature or not a peer record")}else t.push(n)})))),t.length&&t.forEach(e=>this._connect(e))}))}start(){super.start(),this.heartbeat.start(),this.score.start(),this._directPeerInitial=setTimeout(()=>{this.direct.forEach(e=>{this._connect(e)})},f.GossipsubDirectConnectInitialDelay)}stop(){super.stop(),this.heartbeat.stop(),this.score.stop(),this.mesh=new Map,this.fanout=new Map,this.lastpub=new Map,this.gossip=new Map,this.control=new Map,this.peerhave=new Map,this.iasked=new Map,this.backoff=new Map,this.outbound=new Map,this.gossipTracer.clear(),clearTimeout(this._directPeerInitial)}_connect(e){this.log("Initiating connection with %s",e),this._libp2p.dialProtocol(v.createFromB58String(e),this.multicodecs)}subscribe(e){super.subscribe(e),this.join(e)}unsubscribe(e){super.unsubscribe(e),this.leave(e)}join(e){if(!this.started)throw new Error("Gossipsub has not started");this.log("JOIN %s",e);const t=this.fanout.get(e);if(t)t.forEach(e=>{this.score.score(e)<0&&t.delete(e)}),t.size<this._options.D&&d.getGossipPeers(this,e,this._options.D-t.size,e=>!t.has(e)&&!this.direct.has(e)&&this.score.score(e)>=0).forEach(e=>t.add(e)),this.mesh.set(e,t),this.fanout.delete(e),this.lastpub.delete(e);else{const t=d.getGossipPeers(this,e,this._options.D,e=>!this.direct.has(e)&&this.score.score(e)>=0);this.mesh.set(e,t)}this.mesh.get(e).forEach(t=>{this.log("JOIN: Add mesh link to %s in %s",t,e),this._sendGraft(t,e)})}leave(e){if(!this.started)throw new Error("Gossipsub has not started");this.log("LEAVE %s",e);const t=this.mesh.get(e);t&&(t.forEach(t=>{this.log("LEAVE: Remove mesh link to %s in %s",t,e),this._sendPrune(t,e)}),this.mesh.delete(e))}_publish(e){return a(this,void 0,void 0,(function*(){e.receivedFrom!==this.peerId.toB58String()&&(this.score.deliverMessage(e),this.gossipTracer.deliverMessage(e));const t=yield this.getMsgId(e),n=h.messageIdToString(t);this.seenCache.put(n),this.messageCache.put(e);const r=new Set;e.topicIDs.forEach(t=>{const n=this.topics.get(t);if(n)if(this._options.floodPublish&&e.from===this.peerId.toB58String())n.forEach(e=>{(this.direct.has(e)||this.score.score(e)>=this._options.scoreThresholds.publishThreshold)&&r.add(e)});else{this.direct.forEach(e=>{r.add(e)}),n.forEach(e=>{const t=this.score.score(e),n=this.peers.get(e);n&&n.protocol===f.FloodsubID&&t>=this._options.scoreThresholds.publishThreshold&&r.add(e)});let e=this.mesh.get(t);if(!e||!e.size){if(e=this.fanout.get(t),!e){const n=d.getGossipPeers(this,t,this._options.D,e=>this.score.score(e)>=this._options.scoreThresholds.publishThreshold);n.size>0?(e=n,this.fanout.set(t,n)):e=new Set}this.lastpub.set(t,this._now())}e.forEach(e=>{r.add(e)})}});const i=h.createGossipRpc([u.utils.normalizeOutRpcMessage(e)]);r.forEach(t=>{t!==e.from&&this._sendRpc(t,i)})}))}_sendGraft(e,t){const n=[{topicID:t}],r=h.createGossipRpc([],{graft:n});this._sendRpc(e,r)}_sendPrune(e,t){const n=[this._makePrune(e,t,this._options.doPX)],r=h.createGossipRpc([],{prune:n});this._sendRpc(e,r)}_sendRpc(e,t){const n=this.peers.get(e);if(!n||!n.isWritable)return;const r=this.control.get(e);r&&(this._piggybackControl(e,t,r),this.control.delete(e));const i=this.gossip.get(e);i&&(this._piggybackGossip(e,t,i),this.gossip.delete(e)),n.write(c.RPC.encode(t).finish())}_piggybackControl(e,t,n){const r=(n.graft||[]).filter(({topicID:t})=>(t&&this.mesh.get(t)||new Set).has(e)),i=(n.prune||[]).filter(({topicID:t})=>!(t&&this.mesh.get(t)||new Set).has(e));(r.length||i.length)&&(t.control?(t.control.graft=t.control.graft&&t.control.graft.concat(r),t.control.prune=t.control.prune&&t.control.prune.concat(i)):t.control={ihave:[],iwant:[],graft:r,prune:i})}_piggybackGossip(e,t,n){t.control||(t.control={ihave:[],iwant:[],graft:[],prune:[]}),t.control.ihave=n}_sendGraftPrune(e,t,n){const r=this._options.doPX;for(const[i,o]of e){const e=o.map(e=>({topicID:e}));let a=[];const u=t.get(i);u&&(a=u.map(e=>this._makePrune(i,e,r&&!n.get(i))),t.delete(i));const s=h.createGossipRpc([],{graft:e,prune:a});this._sendRpc(i,s)}for(const[e,i]of t){const t=i.map(t=>this._makePrune(e,t,r&&!n.get(e))),o=h.createGossipRpc([],{prune:t});this._sendRpc(e,o)}}_emitGossip(e,t){const n=this.messageCache.getGossipIDs(e);if(!n.length)return;h.shuffle(n),n.length>f.GossipsubMaxIHaveLength&&this.log("too many messages for gossip; will truncate IHAVE list (%d messages)",n.length);const r=[],i=this.topics.get(e);if(!i)return;i.forEach(e=>{const n=this.peers.get(e);n&&!t.has(e)&&!this.direct.has(e)&&h.hasGossipProtocol(n.protocol)&&this.score.score(e)>=this._options.scoreThresholds.gossipThreshold&&r.push(e)});let o=this._options.Dlazy;const a=f.GossipsubGossipFactor*r.length;a>o&&(o=a),o>r.length?o=r.length:h.shuffle(r),r.slice(0,o).forEach(t=>{let r=n;n.length>f.GossipsubMaxIHaveLength&&(r=h.shuffle(r.slice()).slice(0,f.GossipsubMaxIHaveLength)),this._pushGossip(t,{topicID:e,messageIDs:r})})}_flush(){for(const[e,t]of this.gossip.entries()){this.gossip.delete(e);const n=h.createGossipRpc([],{ihave:t});this._sendRpc(e,n)}for(const[e,t]of this.control.entries()){this.control.delete(e);const n=h.createGossipRpc([],{graft:t.graft,prune:t.prune});this._sendRpc(e,n)}}_pushGossip(e,t){this.log("Add gossip to %s",e);const n=this.gossip.get(e)||[];this.gossip.set(e,n.concat(t))}_now(){return Date.now()}_makePrune(e,t,n){if(this.peers.get(e).protocol===f.GossipsubIDv10)return{topicID:t,peers:[]};const r=f.GossipsubPruneBackoff/1e3,i=[];if(n){d.getGossipPeers(this,t,f.GossipsubPrunePeers,t=>t!==e&&this.score.score(t)>=0).forEach(e=>{const t=v.createFromB58String(e);i.push({peerID:t.toBytes(),signedPeerRecord:this._libp2p.peerStore.addressBook.getRawEnvelope(t)})})}return{topicID:t,peers:i,backoff:r}}}b.multicodec=f.GossipsubIDv11,e.exports=b},function(e,t,n){"use strict";const r=()=>{},i=Symbol.for("@libp2p/js-interfaces/topology");class o{constructor({min:e=0,max:t=1/0,handlers:n={}}){this.min=e,this.max=t,this._onConnect=n.onConnect||r,this._onDisconnect=n.onDisconnect||r,this.peers=new Set}get[Symbol.toStringTag](){return"Topology"}get[i](){return!0}static isTopology(e){return Boolean(e&&e[i])}set registrar(e){this._registrar=e}disconnect(e){this._onDisconnect(e)}}e.exports=o},function(e,t,n){"use strict";var r=n(80),i=r.Reader,o=r.Writer,a=r.util,u=r.roots["libp2p-pubsub-rpc"]||(r.roots["libp2p-pubsub-rpc"]={});u.RPC=function(){function e(e){if(this.subscriptions=[],this.msgs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.subscriptions=a.emptyArray,e.prototype.msgs=a.emptyArray,e.encode=function(e,t){if(t||(t=o.create()),null!=e.subscriptions&&e.subscriptions.length)for(var n=0;n<e.subscriptions.length;++n)u.RPC.SubOpts.encode(e.subscriptions[n],t.uint32(10).fork()).ldelim();if(null!=e.msgs&&e.msgs.length)for(n=0;n<e.msgs.length;++n)u.RPC.Message.encode(e.msgs[n],t.uint32(18).fork()).ldelim();return t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.RPC;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.subscriptions&&r.subscriptions.length||(r.subscriptions=[]),r.subscriptions.push(u.RPC.SubOpts.decode(e,e.uint32()));break;case 2:r.msgs&&r.msgs.length||(r.msgs=[]),r.msgs.push(u.RPC.Message.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.RPC)return e;var t=new u.RPC;if(e.subscriptions){if(!Array.isArray(e.subscriptions))throw TypeError(".RPC.subscriptions: array expected");t.subscriptions=[];for(var n=0;n<e.subscriptions.length;++n){if("object"!=typeof e.subscriptions[n])throw TypeError(".RPC.subscriptions: object expected");t.subscriptions[n]=u.RPC.SubOpts.fromObject(e.subscriptions[n])}}if(e.msgs){if(!Array.isArray(e.msgs))throw TypeError(".RPC.msgs: array expected");t.msgs=[];for(n=0;n<e.msgs.length;++n){if("object"!=typeof e.msgs[n])throw TypeError(".RPC.msgs: object expected");t.msgs[n]=u.RPC.Message.fromObject(e.msgs[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.subscriptions=[],n.msgs=[]),e.subscriptions&&e.subscriptions.length){n.subscriptions=[];for(var r=0;r<e.subscriptions.length;++r)n.subscriptions[r]=u.RPC.SubOpts.toObject(e.subscriptions[r],t)}if(e.msgs&&e.msgs.length){n.msgs=[];for(r=0;r<e.msgs.length;++r)n.msgs[r]=u.RPC.Message.toObject(e.msgs[r],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.SubOpts=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.subscribe=null,e.prototype.topicID=null,Object.defineProperty(e.prototype,"_subscribe",{get:a.oneOfGetter(t=["subscribe"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_topicID",{get:a.oneOfGetter(t=["topicID"]),set:a.oneOfSetter(t)}),e.encode=function(e,t){return t||(t=o.create()),null!=e.subscribe&&Object.hasOwnProperty.call(e,"subscribe")&&t.uint32(8).bool(e.subscribe),null!=e.topicID&&Object.hasOwnProperty.call(e,"topicID")&&t.uint32(18).string(e.topicID),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.RPC.SubOpts;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.subscribe=e.bool();break;case 2:r.topicID=e.string();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.RPC.SubOpts)return e;var t=new u.RPC.SubOpts;return null!=e.subscribe&&(t.subscribe=Boolean(e.subscribe)),null!=e.topicID&&(t.topicID=String(e.topicID)),t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.subscribe&&e.hasOwnProperty("subscribe")&&(n.subscribe=e.subscribe,t.oneofs&&(n._subscribe="subscribe")),null!=e.topicID&&e.hasOwnProperty("topicID")&&(n.topicID=e.topicID,t.oneofs&&(n._topicID="topicID")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e.Message=function(){function e(e){if(this.topicIDs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.from=null,e.prototype.data=null,e.prototype.seqno=null,e.prototype.topicIDs=a.emptyArray,e.prototype.signature=null,e.prototype.key=null,Object.defineProperty(e.prototype,"_from",{get:a.oneOfGetter(t=["from"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_data",{get:a.oneOfGetter(t=["data"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_seqno",{get:a.oneOfGetter(t=["seqno"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_signature",{get:a.oneOfGetter(t=["signature"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_key",{get:a.oneOfGetter(t=["key"]),set:a.oneOfSetter(t)}),e.encode=function(e,t){if(t||(t=o.create()),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(10).bytes(e.from),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),null!=e.seqno&&Object.hasOwnProperty.call(e,"seqno")&&t.uint32(26).bytes(e.seqno),null!=e.topicIDs&&e.topicIDs.length)for(var n=0;n<e.topicIDs.length;++n)t.uint32(34).string(e.topicIDs[n]);return null!=e.signature&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(42).bytes(e.signature),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(50).bytes(e.key),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.RPC.Message;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.from=e.bytes();break;case 2:r.data=e.bytes();break;case 3:r.seqno=e.bytes();break;case 4:r.topicIDs&&r.topicIDs.length||(r.topicIDs=[]),r.topicIDs.push(e.string());break;case 5:r.signature=e.bytes();break;case 6:r.key=e.bytes();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.RPC.Message)return e;var t=new u.RPC.Message;if(null!=e.from&&("string"==typeof e.from?a.base64.decode(e.from,t.from=a.newBuffer(a.base64.length(e.from)),0):e.from.length&&(t.from=e.from)),null!=e.data&&("string"==typeof e.data?a.base64.decode(e.data,t.data=a.newBuffer(a.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),null!=e.seqno&&("string"==typeof e.seqno?a.base64.decode(e.seqno,t.seqno=a.newBuffer(a.base64.length(e.seqno)),0):e.seqno.length&&(t.seqno=e.seqno)),e.topicIDs){if(!Array.isArray(e.topicIDs))throw TypeError(".RPC.Message.topicIDs: array expected");t.topicIDs=[];for(var n=0;n<e.topicIDs.length;++n)t.topicIDs[n]=String(e.topicIDs[n])}return null!=e.signature&&("string"==typeof e.signature?a.base64.decode(e.signature,t.signature=a.newBuffer(a.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),null!=e.key&&("string"==typeof e.key?a.base64.decode(e.key,t.key=a.newBuffer(a.base64.length(e.key)),0):e.key.length&&(t.key=e.key)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.topicIDs=[]),null!=e.from&&e.hasOwnProperty("from")&&(n.from=t.bytes===String?a.base64.encode(e.from,0,e.from.length):t.bytes===Array?Array.prototype.slice.call(e.from):e.from,t.oneofs&&(n._from="from")),null!=e.data&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?a.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data,t.oneofs&&(n._data="data")),null!=e.seqno&&e.hasOwnProperty("seqno")&&(n.seqno=t.bytes===String?a.base64.encode(e.seqno,0,e.seqno.length):t.bytes===Array?Array.prototype.slice.call(e.seqno):e.seqno,t.oneofs&&(n._seqno="seqno")),e.topicIDs&&e.topicIDs.length){n.topicIDs=[];for(var r=0;r<e.topicIDs.length;++r)n.topicIDs[r]=e.topicIDs[r]}return null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=t.bytes===String?a.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature,t.oneofs&&(n._signature="signature")),null!=e.key&&e.hasOwnProperty("key")&&(n.key=t.bytes===String?a.base64.encode(e.key,0,e.key.length):t.bytes===Array?Array.prototype.slice.call(e.key):e.key,t.oneofs&&(n._key="key")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e}(),e.exports=u},function(e,t,n){"use strict";const r=n(103),{Buffer:i}=n(27),o=(e,t,n)=>{const a=r.encode(e,t,n);return o.bytes=r.encode.bytes,t||i.from(a)};e.exports=o},function(e,t,n){"use strict";const r=n(103),{Buffer:i}=n(27),o=e=>{const t=r.decode(i.isBuffer(e)?e:(n=e,new Proxy({},{get:(e,t)=>"l"===t[0]?n[t]:n.get(parseInt(t))})));var n;return o.bytes=r.decode.bytes,t};e.exports=o},function(e,t,n){"use strict";const r=n(283),i=n(45),o=n(44),a=n(31),{sha256:u}=n(65);e.exports={randomSeqno:()=>r(8),msgId:(e,t)=>{let n;n=e instanceof Uint8Array?a.createFromBytes(e).id:a.parse(e).id;const r=new Uint8Array(n.length+t.length);return r.set(n,0),r.set(t,n.length),r},noSignMsgId:e=>u.encode(e),anyMatch:(e,t)=>{let n;n=Array.isArray(t)?e=>t.indexOf(e)>-1:e=>t.has(e);for(const t of e)if(n(t))return!0;return!1},ensureArray:e=>Array.isArray(e)?e:[e],normalizeInRpcMessage:(e,t)=>{const n=Object.assign({},e);return e.from instanceof Uint8Array&&(n.from=i(e.from,"base58btc")),t&&(n.receivedFrom=t),n},normalizeOutRpcMessage:e=>{const t=Object.assign({},e);return"string"==typeof e.from&&(t.from=o(e.from,"base58btc")),"string"==typeof e.data&&(t.data=o(e.data)),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGossipPeers=void 0;const r=n(204);t.getGossipPeers=function(e,t,n,i=(()=>!0)){const o=e.topics.get(t);if(!o)return new Set;let a=[];return o.forEach(t=>{const n=e.peers.get(t);n&&r.hasGossipProtocol(n.protocol)&&i(t)&&a.push(t)}),a=r.shuffle(a),n>0&&a.length>n&&(a=a.slice(0,n)),new Set(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTopicScoreParams=t.validatePeerScoreParams=t.createTopicScoreParams=t.createPeerScoreParams=t.defaultTopicScoreParams=t.defaultPeerScoreParams=void 0;const r=n(635),i=n(4);function o(e={}){return Object.assign(Object.assign({},t.defaultTopicScoreParams),e)}function a(e){if(e.topicWeight<0)throw i(new Error("invalid topic weight; must be >= 0"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(0===e.timeInMeshQuantum)throw i(new Error("invalid TimeInMeshQuantum; must be non zero"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(e.timeInMeshWeight<0)throw i(new Error("invalid TimeInMeshWeight; must be positive (or 0 to disable)"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.timeInMeshWeight&&e.timeInMeshQuantum<=0)throw i(new Error("invalid TimeInMeshQuantum; must be positive"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.timeInMeshWeight&&e.timeInMeshCap<=0)throw i(new Error("invalid TimeInMeshCap; must be positive"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(e.firstMessageDeliveriesWeight<0)throw i(new Error("invallid FirstMessageDeliveriesWeight; must be positive (or 0 to disable)"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.firstMessageDeliveriesWeight&&(e.firstMessageDeliveriesDecay<=0||e.firstMessageDeliveriesDecay>=1))throw i(new Error("invalid FirstMessageDeliveriesDecay; must be between 0 and 1"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.firstMessageDeliveriesWeight&&e.firstMessageDeliveriesCap<=0)throw i(new Error("invalid FirstMessageDeliveriesCap; must be positive"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(e.meshMessageDeliveriesWeight>0)throw i(new Error("invalid MeshMessageDeliveriesWeight; must be negative (or 0 to disable)"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.meshMessageDeliveriesWeight&&(e.meshMessageDeliveriesDecay<=0||e.meshMessageDeliveriesDecay>=1))throw i(new Error("invalid MeshMessageDeliveriesDecay; must be between 0 and 1"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.meshMessageDeliveriesWeight&&e.meshMessageDeliveriesCap<=0)throw i(new Error("invalid MeshMessageDeliveriesCap; must be positive"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.meshMessageDeliveriesWeight&&e.meshMessageDeliveriesThreshold<=0)throw i(new Error("invalid MeshMessageDeliveriesThreshold; must be positive"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(e.meshMessageDeliveriesWindow<0)throw i(new Error("invalid MeshMessageDeliveriesWindow; must be non-negative"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.meshMessageDeliveriesWeight&&e.meshMessageDeliveriesActivation<1e3)throw i(new Error("invalid MeshMessageDeliveriesActivation; must be at least 1s"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(e.meshFailurePenaltyWeight>0)throw i(new Error("invalid MeshFailurePenaltyWeight; must be negative (or 0 to disable)"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.meshFailurePenaltyWeight&&(e.meshFailurePenaltyDecay<=0||e.meshFailurePenaltyDecay>=1))throw i(new Error("invalid MeshFailurePenaltyDecay; must be between 0 and 1"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(e.invalidMessageDeliveriesWeight>0)throw i(new Error("invalid InvalidMessageDeliveriesWeight; must be negative (or 0 to disable)"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(e.invalidMessageDeliveriesDecay<=0||e.invalidMessageDeliveriesDecay>=1)throw i(new Error("invalid InvalidMessageDeliveriesDecay; must be between 0 and 1"),r.ERR_INVALID_PEER_SCORE_PARAMS)}t.defaultPeerScoreParams={topics:{},topicScoreCap:10,appSpecificScore:()=>0,appSpecificWeight:10,IPColocationFactorWeight:-5,IPColocationFactorThreshold:10,IPColocationFactorWhitelist:new Set,behaviourPenaltyWeight:-10,behaviourPenaltyDecay:.2,decayInterval:1e3,decayToZero:.1,retainScore:36e5},t.defaultTopicScoreParams={topicWeight:.5,timeInMeshWeight:1,timeInMeshQuantum:1,timeInMeshCap:3600,firstMessageDeliveriesWeight:1,firstMessageDeliveriesDecay:.5,firstMessageDeliveriesCap:2e3,meshMessageDeliveriesWeight:-1,meshMessageDeliveriesDecay:.5,meshMessageDeliveriesCap:100,meshMessageDeliveriesThreshold:20,meshMessageDeliveriesWindow:10,meshMessageDeliveriesActivation:5e3,meshFailurePenaltyWeight:-1,meshFailurePenaltyDecay:.5,invalidMessageDeliveriesWeight:-1,invalidMessageDeliveriesDecay:.3},t.createPeerScoreParams=function(e={}){return Object.assign(Object.assign(Object.assign({},t.defaultPeerScoreParams),e),{topics:e.topics?Object.entries(e.topics).reduce((e,[t,n])=>(e[t]=o(n),e),{}):{}})},t.createTopicScoreParams=o,t.validatePeerScoreParams=function(e){for(const[t,n]of Object.entries(e.topics))try{a(n)}catch(e){throw i(new Error(`invalid score parameters for topic ${t}: ${e.message}`),r.ERR_INVALID_PEER_SCORE_PARAMS)}if(e.topicScoreCap<0)throw i(new Error("invalid topic score cap; must be positive (or 0 for no cap)"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(null===e.appSpecificScore||void 0===e.appSpecificScore)throw i(new Error("missing application specific score function"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(e.IPColocationFactorWeight>0)throw i(new Error("invalid IPColocationFactorWeight; must be negative (or 0 to disable)"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.IPColocationFactorWeight&&e.IPColocationFactorThreshold<1)throw i(new Error("invalid IPColocationFactorThreshold; must be at least 1"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(e.behaviourPenaltyWeight>0)throw i(new Error("invalid BehaviourPenaltyWeight; must be negative (or 0 to disable)"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(0!==e.behaviourPenaltyWeight&&(e.behaviourPenaltyDecay<=0||e.behaviourPenaltyDecay>=1))throw i(new Error("invalid BehaviourPenaltyDecay; must be between 0 and 1"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(e.decayInterval<1e3)throw i(new Error("invalid DecayInterval; must be at least 1s"),r.ERR_INVALID_PEER_SCORE_PARAMS);if(e.decayToZero<=0||e.decayToZero>=1)throw i(new Error("invalid DecayToZero; must be between 0 and 1"),r.ERR_INVALID_PEER_SCORE_PARAMS)},t.validateTopicScoreParams=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERR_INVALID_PEER_SCORE_THRESHOLDS=t.ERR_INVALID_PEER_SCORE_PARAMS=void 0,t.ERR_INVALID_PEER_SCORE_PARAMS="ERR_INVALID_PEER_SCORE_PARAMS",t.ERR_INVALID_PEER_SCORE_THRESHOLDS="ERR_INVALID_PEER_SCORE_THRESHOLDS"},function(e,t,n){"use strict";var r=n(12).CID,i=n(30).multiaddr,o=n(1425),a=n(560),u=n(637),s=n(638),c=n(639),f=n(42),l=n(153),d=n(102),h=n(363),p=n(65),m=p.sha256,y=p.sha512,v=n(152).identity,g=n(64).base58btc;e.exports={create:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={name:v.name,code:v.code,encode:function(e){return e},decode:function(e){return e}},i=new c({bases:[g].concat(t.ipld&&t.ipld.bases?t.ipld.bases:[]),loadBase:t.ipld&&t.ipld.loadBase}),o=new u({codecs:[f,l,d,h,r].concat((null===(e=t.ipld)||void 0===e?void 0:e.codecs)||[]),loadCodec:t.ipld&&t.ipld.loadCodec}),a=new s({hashers:[m,y,v].concat(t.ipld&&t.ipld.hashers?t.ipld.hashers:[]),loadHasher:t.ipld&&t.ipld.loadHasher}),p={add:n(1426)(t),addAll:n(640)(t),bitswap:n(1432)(t),block:n(1436)(t),bootstrap:n(1440)(t),cat:n(1446)(t),commands:n(1447)(t),config:n(1448)(t),dag:n(1456)(o,t),dht:n(1462)(t),diag:n(1469)(t),dns:n(1473)(t),files:n(1474)(t),get:n(1485)(t),getEndpointConfig:n(1494)(t),id:n(647)(t),isOnline:n(1495)(t),key:n(1496)(t),log:n(1504)(t),ls:n(1508)(t),mount:n(1509)(t),name:n(1510)(t),object:n(1517)(o,t),pin:n(1529)(t),ping:n(1535)(t),pubsub:n(1536)(t),refs:n(1543)(t),repo:n(1545)(t),resolve:n(1548)(t),start:n(1549)(t),stats:n(1550)(t),stop:n(1552)(t),swarm:n(1553)(t),version:n(1559)(t),bases:i,codecs:o,hashers:a};return p},CID:r,multiaddr:i,globSource:o,urlSource:a}},function(e,t,n){"use strict";const r=e=>Promise.reject(new Error(`No codec found for "${e}"`));e.exports=class{constructor(e){this._codecsByName={},this._codecsByCode={},this._loadCodec=e.loadCodec||r;for(const t of e.codecs)this.addCodec(t)}addCodec(e){if(this._codecsByName[e.name]||this._codecsByCode[e.code])throw new Error(`Resolver already exists for codec "${e.name}"`);this._codecsByName[e.name]=e,this._codecsByCode[e.code]=e}removeCodec(e){delete this._codecsByName[e.name],delete this._codecsByCode[e.code]}async getCodec(e){const t="string"==typeof e?this._codecsByName:this._codecsByCode;if(t[e])return t[e];const n=await this._loadCodec(e);return null==t[e]&&this.addCodec(n),n}listCodecs(){return Object.values(this._codecsByName)}}},function(e,t,n){"use strict";const r=e=>Promise.reject(new Error(`No hasher found for "${e}"`));e.exports=class{constructor(e){this._hashersByName={},this._hashersByCode={},this._loadHasher=e.loadHasher||r;for(const t of e.hashers)this.addHasher(t)}addHasher(e){if(this._hashersByName[e.name]||this._hashersByCode[e.code])throw new Error(`Resolver already exists for codec "${e.name}"`);this._hashersByName[e.name]=e,this._hashersByCode[e.code]=e}removeHasher(e){delete this._hashersByName[e.name],delete this._hashersByCode[e.code]}async getHasher(e){const t="string"==typeof e?this._hashersByName:this._hashersByCode;if(t[e])return t[e];const n=await this._loadHasher(e);return null==t[e]&&this.addHasher(n),n}listHashers(){return Object.values(this._hashersByName)}}},function(e,t,n){"use strict";const r=e=>Promise.reject(new Error(`No base found for "${e}"`));e.exports=class{constructor(e){this._basesByName={},this._basesByPrefix={},this._loadBase=e.loadBase||r;for(const t of e.bases)this.addBase(t)}addBase(e){if(this._basesByName[e.name]||this._basesByPrefix[e.prefix])throw new Error(`Codec already exists for codec "${e.name}"`);this._basesByName[e.name]=e,this._basesByPrefix[e.prefix]=e}removeBase(e){delete this._basesByName[e.name],delete this._basesByPrefix[e.prefix]}async getBase(e){if(this._basesByName[e])return this._basesByName[e];if(this._basesByPrefix[e])return this._basesByPrefix[e];const t=await this._loadBase(e);return null==this._basesByName[t.name]&&null==this._basesByPrefix[t.prefix]&&this.addBase(t),t}listBases(){return Object.values(this._basesByName)}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return new l(e)}function c(e){return function(){return new f(e.apply(this,arguments))}}function f(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof l;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function l(e){this.wrapped=e}function d(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}f.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},f.prototype.next=function(e){return this._invoke("next",e)},f.prototype.throw=function(e){return this._invoke("throw",e)},f.prototype.return=function(e){return this._invoke("return",e)};var h=n(12).CID,p=n(67),m=n(7),y=n(120),v=n(8),g=n(121),b=n(83).AbortController;e.exports=m((function(e){function t(){return(t=c(regeneratorRuntime.mark((function t(n){var r,o,u,c,f,l,h,m,E,S,T,A,P,k,x,C,R,I,O,M,N=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=N.length>1&&void 0!==N[1]?N[1]:{},o=new b,u=g(o.signal,r.signal),t.next=5,s(y(n,o,r.headers));case 5:return c=t.sent,f=c.headers,l=c.body,h=c.total,m=c.parts,E="function"==typeof r.progress?w(h,m,r.progress):[void 0,void 0],S=a(E,2),T=S[0],A=S[1],t.next=13,s(e.post("add",{searchParams:v(i(i({"stream-channels":!0},r),{},{progress:Boolean(T)})),timeout:r.timeout,onUploadProgress:A,signal:u,headers:f,body:l}));case 13:P=t.sent,k=!0,x=!1,t.prev=16,R=d(P.ndjson());case 18:return t.next=20,s(R.next());case 20:return I=t.sent,k=I.done,t.next=24,s(I.value);case 24:if(O=t.sent,k){t.next=37;break}if(void 0===(M=p(M=O)).hash){t.next=33;break}return t.next=31,_(M);case 31:t.next=34;break;case 33:T&&T(M.bytes||0,M.name);case 34:k=!0,t.next=18;break;case 37:t.next=43;break;case 39:t.prev=39,t.t0=t.catch(16),x=!0,C=t.t0;case 43:if(t.prev=43,t.prev=44,k||null==R.return){t.next=48;break}return t.next=48,s(R.return());case 48:if(t.prev=48,!x){t.next=51;break}throw C;case 51:return t.finish(48);case 52:return t.finish(43);case 53:case"end":return t.stop()}}),t,null,[[16,39,43,53],[44,,48,52]])})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}));var w=function(e,t,n){return t?[void 0,E(e,t,n)]:[n,void 0]},E=function(e,t,n){var r=0,i=t.length;return function(o){for(var a=o.loaded,u=o.total,s=Math.floor(a/u*e);r<i;){var c=t[r],f=c.start,l=c.end,d=c.name;if(s<l){n(s-f,d);break}n(l-f,d),r+=1}}};function _(e){var t=e.name,n=e.hash,r=e.size,i=e.mode,o=e.mtime,a=e.mtimeNsecs,u={path:t,cid:h.parse(n),size:parseInt(r)};return null!=i&&(u.mode=parseInt(i,8)),null!=o&&(u.mtime={secs:o,nsecs:a||0}),u}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e){if(null!=e){var t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){var n=e.getTime(),i=Math.floor(n/1e3);t={secs:i,nsecs:1e3*(n-1e3*i)}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw r(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(12).CID,a=n(7),u=n(8);function s(e){return{provideBufLen:e.ProvideBufLen,wantlist:(e.Wantlist||[]).map((function(e){return o.parse(e["/"])})),peers:e.Peers||[],blocksReceived:BigInt(e.BlocksReceived),dataReceived:BigInt(e.DataReceived),blocksSent:BigInt(e.BlocksSent),dataSent:BigInt(e.DataSent),dupBlksReceived:BigInt(e.DupBlksReceived),dupDataReceived:BigInt(e.DupDataReceived)}}e.exports=a((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("bitswap/stat",{searchParams:u(n),timeout:n.timeout,signal:n.signal,headers:n.headers});case 3:return r=t.sent,t.t0=s,t.next=7,r.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8);e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,e.post("block/get",{timeout:r.timeout,signal:r.signal,searchParams:c(i({arg:n.toString()},r)),headers:r.headers});case 3:return o=t.sent,t.t0=Uint8Array,t.next=7,o.arrayBuffer();case 7:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}var u=n(12).CID,s=n(7),c=n(120),f=n(8),l=n(121),d=n(83).AbortController;e.exports=function(e,t){return s((function(t){return function(){var n=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}(regeneratorRuntime.mark((function n(r){var o,a,s,h,p,m,y,v,g=arguments;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=g.length>1&&void 0!==g[1]?g[1]:{},a=i({format:"dag-cbor",hashAlg:"sha2-256",inputEnc:"raw"},o),n.next=4,e.getCodec(a.format);case 4:return s=n.sent,h=s.encode(r),p=new d,m=l(p.signal,a.signal),n.t0=t,n.t1=i,n.t2={timeout:a.timeout,signal:m,searchParams:f(a)},n.next=13,c(h,p,a.headers);case 13:return n.t3=n.sent,n.t4=(0,n.t1)(n.t2,n.t3),n.next=17,n.t0.post.call(n.t0,"dag/put",n.t4);case 17:return y=n.sent,n.next=20,y.json();case 20:return v=n.sent,n.abrupt("return",u.parse(v.Cid["/"]));case 22:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}))(t)}},function(e,t,n){"use strict";var r=n(67);e.exports=function(e){var t=r(e);return Object.prototype.hasOwnProperty.call(t,"mode")&&(t.mode=parseInt(t.mode,8)),Object.prototype.hasOwnProperty.call(t,"mtime")&&(t.mtime={secs:t.mtime,nsecs:t.mtimeNsecs||0},delete t.mtimeNsecs),t}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(12).CID,c=n(645),f=n(7),l=n(8);function d(e){return e.cid=s.parse(e.hash),delete e.hash,e}e.exports=f((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},!n||n instanceof s||"string"==typeof n||(r=n||{},n="/"),r=r||{},t.next=5,e.post("files/stat",{timeout:r.timeout,signal:r.signal,searchParams:l(i({arg:n},r)),headers:r.headers});case 5:return o=t.sent,t.next=8,o.json();case 8:return(a=t.sent).WithLocality=a.WithLocality||!1,t.abrupt("return",d(c(a)));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(67),c=n(30).Multiaddr,f=n(7),l=n(8);e.exports=f((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(){var n,r,o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:{},t.next=3,e.post("id",{timeout:n.timeout,signal:n.signal,searchParams:l(i({arg:n.peerId?n.peerId.toString():void 0},n)),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return o=t.sent,(a=i({},s(o))).addresses&&(a.addresses=a.addresses.map((function(e){return new c(e)}))),t.abrupt("return",a);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return new l(e)}function c(e){return function(){return new f(e.apply(this,arguments))}}function f(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof l;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function l(e){this.wrapped=e}function d(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}f.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},f.prototype.next=function(e){return this._invoke("next",e)},f.prototype.throw=function(e){return this._invoke("throw",e)},f.prototype.return=function(e){return this._invoke("return",e)};var h=n(12).CID,p=n(7),m=n(233),y=n(8);e.exports=p((function(e){function t(){return(t=c(regeneratorRuntime.mark((function t(n){var i,o,u,c,f,l,p,v,g,b,w,E,_,S,T,A,P,k,x,C,R,I,O=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=O.length>1&&void 0!==O[1]?O[1]:{},o=!0,u=!1,t.prev=3,f=d(m(n));case 5:return t.next=7,s(f.next());case 7:return l=t.sent,o=l.done,t.next=11,s(l.value);case 11:if(p=t.sent,o){t.next=73;break}return g=(v=p).path,b=v.recursive,w=v.metadata,t.next=16,s(e.post("pin/add",{timeout:i.timeout,signal:i.signal,searchParams:y(a(a({},i),{},{arg:g,recursive:b,metadata:w?JSON.stringify(w):void 0,stream:!0})),headers:i.headers}));case 16:E=t.sent,_=!0,S=!1,t.prev=19,A=d(E.ndjson());case 21:return t.next=23,s(A.next());case 23:return P=t.sent,_=P.done,t.next=27,s(P.value);case 27:if(k=t.sent,_){t.next=54;break}if(!(x=k).Pins){t.next=49;break}C=r(x.Pins),t.prev=32,C.s();case 34:if((R=C.n()).done){t.next=40;break}return I=R.value,t.next=38,h.parse(I);case 38:t.next=34;break;case 40:t.next=45;break;case 42:t.prev=42,t.t0=t.catch(32),C.e(t.t0);case 45:return t.prev=45,C.f(),t.finish(45);case 48:return t.abrupt("continue",51);case 49:return t.next=51,h.parse(x);case 51:_=!0,t.next=21;break;case 54:t.next=60;break;case 56:t.prev=56,t.t1=t.catch(19),S=!0,T=t.t1;case 60:if(t.prev=60,t.prev=61,_||null==A.return){t.next=65;break}return t.next=65,s(A.return());case 65:if(t.prev=65,!S){t.next=68;break}throw T;case 68:return t.finish(65);case 69:return t.finish(60);case 70:o=!0,t.next=5;break;case 73:t.next=79;break;case 75:t.prev=75,t.t2=t.catch(3),u=!0,c=t.t2;case 79:if(t.prev=79,t.prev=80,o||null==f.return){t.next=84;break}return t.next=84,s(f.return());case 84:if(t.prev=84,!u){t.next=87;break}throw c;case 87:return t.finish(84);case 88:return t.finish(79);case 89:case"end":return t.stop()}}),t,null,[[3,75,79,89],[19,56,60,70],[32,42,45,48],[61,,65,69],[80,,84,88]])})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(){return new u(e.apply(this,arguments))}}function u(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof c;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function s(e){return new c(e)}function c(e){this.wrapped=e}function f(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}function l(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}u.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},u.prototype.next=function(e){return this._invoke("next",e)},u.prototype.throw=function(e){return this._invoke("throw",e)},u.prototype.return=function(e){return this._invoke("return",e)};var d=n(12).CID,h=n(7),p=n(233),m=n(8);e.exports=h((function(e){function t(){return(t=a(regeneratorRuntime.mark((function t(n){var r,o,a,u,c,h,y,v,g,b,w,E,_,S,T,A,P,k,x,C=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=C.length>1&&void 0!==C[1]?C[1]:{},o=!0,a=!1,t.prev=3,c=l(p(n));case 5:return t.next=7,s(c.next());case 7:return h=t.sent,o=h.done,t.next=11,s(h.value);case 11:if(y=t.sent,o){t.next=60;break}return g=(v=y).path,b=v.recursive,(w=new URLSearchParams(r.searchParams)).append("arg","".concat(g)),null!=b&&w.set("recursive",String(b)),t.next=19,s(e.post("pin/rm",{timeout:r.timeout,signal:r.signal,headers:r.headers,searchParams:m(i(i({},r),{},{arg:"".concat(g),recursive:b}))}));case 19:E=t.sent,_=!0,S=!1,t.prev=22,A=l(E.ndjson());case 24:return t.next=26,s(A.next());case 26:return P=t.sent,_=P.done,t.next=30,s(P.value);case 30:if(k=t.sent,_){t.next=41;break}if(!(x=k).Pins){t.next=36;break}return t.delegateYield(f(l(x.Pins.map((function(e){return d.parse(e)}))),s),"t0",35);case 35:return t.abrupt("continue",38);case 36:return t.next=38,d.parse(x);case 38:_=!0,t.next=24;break;case 41:t.next=47;break;case 43:t.prev=43,t.t1=t.catch(22),S=!0,T=t.t1;case 47:if(t.prev=47,t.prev=48,_||null==A.return){t.next=52;break}return t.next=52,s(A.return());case 52:if(t.prev=52,!S){t.next=55;break}throw T;case 55:return t.finish(52);case 56:return t.finish(47);case 57:o=!0,t.next=5;break;case 60:t.next=66;break;case 62:t.prev=62,t.t2=t.catch(3),a=!0,u=t.t2;case 66:if(t.prev=66,t.prev=67,o||null==c.return){t.next=71;break}return t.next=71,s(c.return());case 71:if(t.prev=71,!a){t.next=74;break}throw u;case 74:return t.finish(71);case 75:return t.finish(66);case 76:case"end":return t.stop()}}),t,null,[[3,62,66,76],[22,43,47,57],[48,,52,56],[67,,71,75]])})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(7),a=n(8);e.exports=o((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},t.next=3,e.post("repo/stat",{timeout:n.timeout,signal:n.signal,searchParams:a(n),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,t.abrupt("return",{numObjects:BigInt(i.NumObjects),repoSize:BigInt(i.RepoSize),repoPath:i.RepoPath,version:i.Version,storageMax:BigInt(i.StorageMax)});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";const r=n(4),i=n(154),o=n(117),a=n(232);e.exports={storeAddresses:function(e,t){return o(e,e=>(t.addressBook.add(e.id,e.multiaddrs),e))},uniquePeers:function(e){const t=new Set;return i(e,e=>!t.has(e.id.toString())&&(t.add(e.id.toString()),!0))},requirePeers:async function*(e,t=1){let n=0;for await(const t of e)n++,yield t;if(n<t)throw r(new Error("not found"),"NOT_FOUND")},maybeLimitSource:function(e,t){return t?a(e,t):e}}},function(e,t,n){"use strict";const r=new Map;e.exports={setDelayedInterval:function(e,t,n){n=n||t;const i=`${Date.now()}:${Math.floor(1e6*Math.random())}`,o=setTimeout(()=>{!async function(e,t,n){for(;r.get(n);){try{await e()}catch(e){setTimeout(()=>{throw e},1);break}if(!r.get(n))break;await new Promise(e=>{const i=setTimeout(e,t);r.set(n,i)})}}(e,t,i)},n);return r.set(i,o),i},clearDelayedInterval:function(e){const t=r.get(e);t&&(clearTimeout(t),r.delete(e))}}},function(e,t,n){"use strict";const r=n(31),{Multiaddr:i}=n(30),o=n(4),{codes:a}=n(71);e.exports=function(e){let t;if("string"==typeof e&&(e=new i(e)),i.isMultiaddr(e)){t=e;const n=e.getPeerId();if(!n)throw o(new Error(e+" does not have a valid peer type"),a.ERR_INVALID_MULTIADDR);try{e=r.createFromB58String(n)}catch(t){throw o(new Error(e+" is not a valid peer type"),a.ERR_INVALID_MULTIADDR)}}return{id:e,multiaddrs:t?[t]:void 0}}},function(e,t,n){"use strict";const r=n(655).version;e.exports.PROTOCOL_VERSION="ipfs/0.1.0",e.exports.AGENT_VERSION="js-libp2p/"+r,e.exports.MULTICODEC_IDENTIFY="/ipfs/id/1.0.0",e.exports.MULTICODEC_IDENTIFY_PUSH="/ipfs/id/push/1.0.0"},function(e){e.exports=JSON.parse('{"name":"libp2p","version":"0.32.1","description":"JavaScript implementation of libp2p, a modular peer to peer network stack","leadMaintainer":"Jacob Heun <jacobheun@gmail.com>","main":"src/index.js","types":"dist/src/index.d.ts","typesVersions":{"*":{"src/*":["dist/src/*","dist/src/*/index"]}},"files":["dist","src"],"scripts":{"lint":"aegir lint","build":"aegir build","build:proto":"npm run build:proto:circuit && npm run build:proto:identify && npm run build:proto:plaintext && npm run build:proto:address-book && npm run build:proto:proto-book && npm run build:proto:peer-record && npm run build:proto:envelope","build:proto:circuit":"pbjs -t static-module -w commonjs -r libp2p-circuit --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/circuit/protocol/index.js ./src/circuit/protocol/index.proto","build:proto:identify":"pbjs -t static-module -w commonjs -r libp2p-identify --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/identify/message.js ./src/identify/message.proto","build:proto:plaintext":"pbjs -t static-module -w commonjs -r libp2p-plaintext --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/insecure/proto.js ./src/insecure/proto.proto","build:proto:address-book":"pbjs -t static-module -w commonjs -r libp2p-address-book --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/peer-store/persistent/pb/address-book.js ./src/peer-store/persistent/pb/address-book.proto","build:proto:proto-book":"pbjs -t static-module -w commonjs -r libp2p-proto-book --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/peer-store/persistent/pb/proto-book.js ./src/peer-store/persistent/pb/proto-book.proto","build:proto:peer-record":"pbjs -t static-module -w commonjs -r libp2p-peer-record --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/record/peer-record/peer-record.js ./src/record/peer-record/peer-record.proto","build:proto:envelope":"pbjs -t static-module -w commonjs -r libp2p-envelope --force-number --no-verify --no-delimited --no-create --no-beautify --no-defaults --lint eslint-disable -o src/record/envelope/envelope.js ./src/record/envelope/envelope.proto","build:proto-types":"npm run build:proto-types:circuit && npm run build:proto-types:identify && npm run build:proto-types:plaintext && npm run build:proto-types:address-book && npm run build:proto-types:proto-book && npm run build:proto-types:peer-record && npm run build:proto-types:envelope","build:proto-types:circuit":"pbts -o src/circuit/protocol/index.d.ts src/circuit/protocol/index.js","build:proto-types:identify":"pbts -o src/identify/message.d.ts src/identify/message.js","build:proto-types:plaintext":"pbts -o src/insecure/proto.d.ts src/insecure/proto.js","build:proto-types:address-book":"pbts -o src/peer-store/persistent/pb/address-book.d.ts src/peer-store/persistent/pb/address-book.js","build:proto-types:proto-book":"pbts -o src/peer-store/persistent/pb/proto-book.d.ts src/peer-store/persistent/pb/proto-book.js","build:proto-types:peer-record":"pbts -o src/record/peer-record/peer-record.d.ts src/record/peer-record/peer-record.js","build:proto-types:envelope":"pbts -o src/record/envelope/envelope.d.ts src/record/envelope/envelope.js","test":"aegir test","test:ts":"aegir build --no-bundle && npm run test --prefix test/ts-use","test:node":"aegir test -t node -f \\"./test/**/*.{node,spec}.js\\"","test:browser":"aegir test -t browser","test:examples":"cd examples && npm run test:all","prepare":"aegir build --no-bundle","release":"aegir release -t node -t browser","release-minor":"aegir release --type minor -t node -t browser","release-major":"aegir release --type major -t node -t browser","coverage":"nyc --reporter=text --reporter=lcov npm run test:node"},"repository":{"type":"git","url":"https://github.com/libp2p/js-libp2p.git"},"keywords":["libp2p","network","p2p","peer","peer-to-peer","IPFS"],"bugs":{"url":"https://github.com/libp2p/js-libp2p/issues"},"homepage":"https://libp2p.io","license":"MIT","engines":{"node":">=14.0.0"},"browser":{"@motrix/nat-api":false},"eslintConfig":{"extends":"ipfs","ignorePatterns":["!.aegir.js","test/ts-use"]},"dependencies":{"@motrix/nat-api":"^0.3.1","@vascosantos/moving-average":"^1.1.0","abort-controller":"^3.0.0","aggregate-error":"^3.1.0","any-signal":"^2.1.1","bignumber.js":"^9.0.1","class-is":"^1.1.0","debug":"^4.3.1","err-code":"^3.0.0","es6-promisify":"^6.1.1","events":"^3.3.0","hashlru":"^2.3.0","interface-datastore":"^5.1.1","it-all":"^1.0.4","it-buffer":"^0.1.2","it-drain":"^1.0.3","it-filter":"^1.0.1","it-first":"^1.0.4","it-handshake":"^2.0.0","it-length-prefixed":"^5.0.2","it-map":"^1.0.4","it-merge":"^1.0.0","it-pipe":"^1.1.0","it-take":"^1.0.0","libp2p-crypto":"^0.19.4","libp2p-interfaces":"^1.0.0","libp2p-utils":"^0.4.0","mafmt":"^10.0.0","merge-options":"^3.0.4","multiaddr":"^10.0.0","multiformats":"^9.0.0","multistream-select":"^2.0.0","mutable-proxy":"^1.0.0","node-forge":"^0.10.0","p-any":"^3.0.0","p-fifo":"^1.0.0","p-retry":"^4.4.0","p-settle":"^4.1.1","peer-id":"^0.15.0","private-ip":"^2.1.0","protobufjs":"^6.10.2","retimer":"^3.0.0","sanitize-filename":"^1.6.3","set-delayed-interval":"^1.0.0","streaming-iterables":"^6.0.0","timeout-abort-controller":"^1.1.1","varint":"^6.0.0","wherearewe":"^1.0.0","xsalsa20":"^1.1.0"},"devDependencies":{"@nodeutils/defaults-deep":"^1.1.0","@types/es6-promisify":"^6.0.0","@types/node":"^16.0.1","@types/node-forge":"^0.10.1","@types/varint":"^6.0.0","abortable-iterator":"^3.0.0","aegir":"^33.1.1","buffer":"^6.0.3","delay":"^5.0.0","interop-libp2p":"^0.4.0","into-stream":"^6.0.0","ipfs-http-client":"^50.1.1","it-concat":"^2.0.0","it-pair":"^1.0.0","it-pushable":"^1.4.0","libp2p":".","libp2p-bootstrap":"^0.13.0","libp2p-delegated-content-routing":"^0.11.0","libp2p-delegated-peer-routing":"^0.10.0","libp2p-floodsub":"^0.27.0","libp2p-gossipsub":"^0.10.0","libp2p-interfaces-compliance-tests":"^1.0.0","libp2p-kad-dht":"^0.23.0","libp2p-mdns":"^0.17.0","libp2p-mplex":"^0.10.1","libp2p-noise":"^4.0.0","libp2p-tcp":"^0.17.0","libp2p-webrtc-star":"^0.23.0","libp2p-websockets":"^0.16.0","multihashes":"^4.0.2","nock":"^13.0.3","p-defer":"^3.0.0","p-times":"^3.0.0","p-wait-for":"^3.2.0","rimraf":"^3.0.2","sinon":"^11.1.1","uint8arrays":"^2.1.3","util":"^0.12.3"},"contributors":["Vasco Santos <vasco.santos@moxy.studio>","David Dias <daviddias.p@gmail.com>","Jacob Heun <jacobheun@gmail.com>","Alex Potsides <alex@achingbrain.net>","Alan Shaw <alan@tableflip.io>","Cayman <caymannava@gmail.com>","Pedro Teixeira <i@pgte.me>","Friedel Ziegelmayer <dignifiedquire@gmail.com>","Maciej Krüger <mkg20001@gmail.com>","Hugo Dias <mail@hugodias.me>","Volker Mische <volker.mische@gmail.com>","Chris Dostert <chrisdostert@users.noreply.github.com>","dirkmc <dirkmdev@gmail.com>","zeim839 <50573884+zeim839@users.noreply.github.com>","Richard Littauer <richard.littauer@gmail.com>","Ryan Bell <ryan@piing.net>","a1300 <matthias-knopp@gmx.net>","ᴠɪᴄᴛᴏʀ ʙᴊᴇʟᴋʜᴏʟᴍ <victorbjelkholm@gmail.com>","Samlior <samlior@foxmail.com>","Franck Royer <franck@royer.one>","Thomas Eizinger <thomas@eizinger.io>","Giovanni T. Parra <fiatjaf@gmail.com>","acolytec3 <17355484+acolytec3@users.noreply.github.com>","Elven <mon.samuel@qq.com>","Andrew Nesbitt <andrewnez@gmail.com>","Didrik Nordström <didrik.nordstrom@gmail.com>","RasmusErik Voel Jensen <github@solsort.com>","Robert Kiel <robert.kiel@hoprnet.org>","Aditya Bose <13054902+adbose@users.noreply.github.com>","Smite Chow <xiaopengyou@live.com>","Soeren <nikorpoulsen@gmail.com>","Sönke Hahn <soenkehahn@gmail.com>","TJKoury <TJKoury@gmail.com>","Tiago Alves <alvesjtiago@gmail.com>","Yusef Napora <yusef@napora.org>","Zane Starr <zcstarr@gmail.com>","ebinks <elizabethjbinks@gmail.com>","isan_rivkin <isanrivkin@gmail.com>","mayerwin <mayerwin@users.noreply.github.com>","mcclure <andi.m.mcclure@gmail.com>","phillmac <phillmac@users.noreply.github.com>","robertkiel <robert.kiel@validitylabs.org>","shresthagrawal <34920931+shresthagrawal@users.noreply.github.com>","swedneck <40505480+swedneck@users.noreply.github.com>","Aleksei <vozhdb@gmail.com>","Bernd Strehl <bernd.strehl@gmail.com>","Chris Bratlien <chrisbratlien@gmail.com>","Cindy Wu <ciindy.wu@gmail.com>","Daijiro Wachi <daijiro.wachi@gmail.com>","Diogo Silva <fsdiogo@gmail.com>","Dmitriy Ryajov <dryajov@gmail.com>","Ethan Lam <elmemphis2000@gmail.com>","Fei Liu <liu.feiwood@gmail.com>","Felipe Martins <felipebrasil93@gmail.com>","Florian-Merle <florian.david.merle@gmail.com>","Francis Gulotta <wizard@roborooter.com>","Guy Sviry <32539816+guysv@users.noreply.github.com>","Henrique Dias <hacdias@gmail.com>","Irakli Gozalishvili <rfobic@gmail.com>","Joel Gustafson <joelg@mit.edu>","John Rees <johnrees@users.noreply.github.com>","João Santos <joaosantos15@users.noreply.github.com>","Julien Bouquillon <contact@revolunet.com>","Kevin Kwok <antimatter15@gmail.com>","Kevin Lacker <lacker@gmail.com>","Lars Gierth <lgierth@users.noreply.github.com>","Marcin Tojek <mtojek@users.noreply.github.com>","Michael Burns <5170+mburns@users.noreply.github.com>","Miguel Mota <miguelmota2@gmail.com>","Nuno Nogueira <nunofmn@gmail.com>","Philipp Muens <raute1337@gmx.de>"]}')},function(e,t,n){"use strict";const r=n(1571);function i(e,t){const n=r(e.multiaddr),i=r(t.multiaddr);return n&&!i?1:!n&&i||e.isCertified&&!t.isCertified?-1:!e.isCertified&&t.isCertified?1:0}e.exports.publicAddressesFirst=function(e){return[...e].sort(i)}},function(e,t,n){"use strict";e.exports=n(1572)},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:transports"),{error:r("libp2p:transports:err")}),o=n(1574),{codes:a}=n(71),u=n(4),{updateSelfPeerRecord:s}=n(659);class c{constructor({libp2p:e,upgrader:t,faultTolerance:n=f.FATAL_ALL}){this.libp2p=e,this.upgrader=t,this._transports=new Map,this._listeners=new Map,this._listenerOptions=new Map,this.faultTolerance=n}add(e,t,n={}){if(i("adding %s",e),!e)throw u(new Error(`Transport must have a valid key, was given '${e}'`),a.ERR_INVALID_KEY);if(this._transports.has(e))throw u(new Error("There is already a transport with this key"),a.ERR_DUPLICATE_TRANSPORT);const r=new t({...n,libp2p:this.libp2p,upgrader:this.upgrader});this._transports.set(e,r),this._listenerOptions.set(e,n.listenerOptions||{}),this._listeners.has(e)||this._listeners.set(e,[])}async close(){const e=[];for(const[t,n]of this._listeners)for(i("closing listeners for %s",t);n.length;){const t=n.pop();t.removeAllListeners("listening"),t.removeAllListeners("close"),e.push(t.close())}await Promise.all(e),i("all listeners closed");for(const e of this._listeners.keys())this._listeners.set(e,[])}async dial(e,t){const n=this.transportForMultiaddr(e);if(!n)throw u(new Error("No transport available for address "+String(e)),a.ERR_TRANSPORT_UNAVAILABLE);try{return await n.dial(e,t)}catch(e){throw e.code||(e.code=a.ERR_TRANSPORT_DIAL_FAILED),e}}getAddrs(){let e=[];for(const t of this._listeners.values())for(const n of t)e=[...e,...n.getAddrs()];return e}getTransports(){return this._transports.values()}transportForMultiaddr(e){for(const t of this._transports.values()){if(t.filter([e]).length)return t}return null}async listen(e){if(!e||0===e.length)return void i("no addresses were provided for listening, this node is dial only");const t=[];for(const[n,r]of this._transports.entries()){const c=r.filter(e),l=[];for(const e of c){i("creating listener for %s on %s",n,e);const t=r.createListener(this._listenerOptions.get(n));this._listeners.get(n).push(t),t.on("listening",()=>s(this.libp2p)),t.on("close",()=>s(this.libp2p)),l.push(t.listen(e))}if(0===l.length){t.push(n);continue}if(!(await o(l)).find(e=>!0===e.isFulfilled)&&this.faultTolerance!==f.NO_FATAL)throw u(new Error(`Transport (${n}) could not listen on any available address`),a.ERR_NO_VALID_ADDRESSES)}if(t.length===this._transports.size){const e=`no valid addresses were provided for transports [${t}]`;if(this.faultTolerance===f.FATAL_ALL)throw u(new Error(e),a.ERR_NO_VALID_ADDRESSES);i("libp2p in dial mode only: "+e)}}async remove(e){if(i("removing %s",e),this._listeners.has(e))for(const t of this._listeners.get(e))t.removeAllListeners("listening"),t.removeAllListeners("close"),await t.close();this._transports.delete(e),this._listeners.delete(e)}async removeAll(){const e=[];for(const t of this._transports.keys())e.push(this.remove(t));await Promise.all(e)}}const f={FATAL_ALL:0,NO_FATAL:1};c.FaultTolerance=f,e.exports=c},function(e,t,n){"use strict";const r=n(297),i=n(405);e.exports.updateSelfPeerRecord=async function(e){const t=new i({peerId:e.peerId,multiaddrs:e.multiaddrs}),n=await r.seal(t,e.peerId);e.peerStore.addressBook.consumePeerRecord(n)}},function(e,t,n){"use strict";const r=n(1585);class i{constructor(e,t,n){const i=this;this._started=r(),this._rescheduled=0,this._scheduled=t,this._args=n,this._triggered=!1,this._timerWrapper=()=>{i._rescheduled>0?(i._scheduled=i._rescheduled-(r()-i._started),i._schedule(i._scheduled)):(i._triggered=!0,e.apply(null,i._args))},this._timer=setTimeout(this._timerWrapper,t)}reschedule(e){e||(e=this._scheduled);const t=r();t+e-(this._started+this._scheduled)<0?(clearTimeout(this._timer),this._schedule(e)):this._triggered?this._schedule(e):(this._started=t,this._rescheduled=e)}_schedule(e){this._triggered=!1,this._started=r(),this._rescheduled=0,this._scheduled=e,this._timer=setTimeout(this._timerWrapper,e)}clear(){clearTimeout(this._timer)}}e.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("timeout needed");let e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new i(arguments[0],arguments[1],e)}},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:circuit:hop"),{error:r("libp2p:circuit:hop:err")}),o=n(4),a=n(31),{validateAddrs:u}=n(662),s=n(406),{CircuitRelay:c}=n(239),{pipe:f}=n(66),{codes:l}=n(71),{stop:d}=n(663),h=n(299);e.exports={handleHop:async function({connection:e,request:t,streamHandler:n,circuit:r}){if(!r._options.hop.enabled)return i("HOP request received but we are not acting as a relay"),n.end({type:c.Type.STATUS,code:c.Status.HOP_CANT_SPEAK_RELAY});try{u(t,n)}catch(t){return i.error("invalid hop request via peer %s",e.remotePeer.toB58String(),t)}if(!t.dstPeer)return void i("HOP request received but we do not receive a dstPeer");const o=new a(t.dstPeer.id),s=r._connectionManager.get(o);if(!s&&!r._options.hop.active)return i("HOP request received but we are not connected to the destination peer"),n.end({type:c.Type.STATUS,code:c.Status.HOP_NO_CONN_TO_DST});if(!s)return;const l={type:c.Type.STOP,dstPeer:t.dstPeer,srcPeer:t.srcPeer};let h;try{h=await d({connection:s,request:l})}catch(e){return i.error(e)}i("hop request from %s is valid",e.remotePeer.toB58String()),n.write({type:c.Type.STATUS,code:c.Status.SUCCESS});const p=n.rest();return f(p,h,p)},hop:async function({connection:e,request:t}){const{stream:n}=await e.newStream([h.relay]),r=new s({stream:n});r.write(t);const a=await r.read();if(!a)throw o(new Error("HOP request had no response"),l.ERR_HOP_REQUEST_FAILED);if(a.code===c.Status.SUCCESS)return i("hop request was successful"),r.rest();throw i("hop request failed with code %d, closing stream",a.code),r.close(),o(new Error("HOP request failed with code "+a.code),l.ERR_HOP_REQUEST_FAILED)},canHop:async function({connection:e}){const{stream:t}=await e.newStream([h.relay]),n=new s({stream:t});n.write({type:c.Type.CAN_HOP});const r=await n.read();return await n.close(),!(!r||r.code!==c.Status.SUCCESS)},handleCanHop:function({connection:e,streamHandler:t,circuit:n}){const r=n._options.hop.enabled;i("can hop (%s) request from %s",r,e.remotePeer.toB58String()),t.end({type:c.Type.STATUS,code:r?c.Status.SUCCESS:c.Status.HOP_CANT_SPEAK_RELAY})}}},function(e,t,n){"use strict";const{Multiaddr:r}=n(30),{CircuitRelay:i}=n(239);function o(e,t){e.write({type:i.Type.STATUS,code:t})}e.exports={validateAddrs:function(e,t){try{e.dstPeer&&e.dstPeer.addrs&&e.dstPeer.addrs.forEach(e=>new r(e))}catch(n){throw o(t,e.type===i.Type.HOP?i.Status.HOP_DST_MULTIADDR_INVALID:i.Status.STOP_DST_MULTIADDR_INVALID),n}try{e.srcPeer&&e.srcPeer.addrs&&e.srcPeer.addrs.forEach(e=>new r(e))}catch(n){throw o(t,e.type===i.Type.HOP?i.Status.HOP_SRC_MULTIADDR_INVALID:i.Status.STOP_SRC_MULTIADDR_INVALID),n}}}},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:circuit:stop"),{error:r("libp2p:circuit:stop:err")}),{CircuitRelay:o}=n(239),a=n(299),u=n(406),{validateAddrs:s}=n(662);e.exports.handleStop=function({connection:e,request:t,streamHandler:n}){try{s(t,n)}catch(t){return i.error("invalid stop request via peer %s",e.remotePeer.toB58String(),t)}return i("stop request is valid"),n.write({type:o.Type.STATUS,code:o.Status.SUCCESS}),n.rest()},e.exports.stop=async function({connection:e,request:t}){const{stream:n}=await e.newStream([a.relay]);i("starting stop request to %s",e.remotePeer.toB58String());const r=new u({stream:n});r.write(t);const s=await r.read();return s?s.code===o.Status.SUCCESS?(i("stop request to %s was successful",e.remotePeer.toB58String()),r.rest()):(i("stop request failed with code %d",s.code),void r.close()):r.close()}},function(e,t,n){"use strict";const{CID:r}=n(12),{sha256:i}=n(65);e.exports.namespaceToCid=async e=>{const t=(new TextEncoder).encode(e),n=await i.digest(t);return r.createV0(n)}},function(e,t,n){"use strict";const r=n(1596),i=n(1597);class o extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t=(e=[...e].map(e=>e instanceof Error?e:null!==e&&"object"==typeof e?Object.assign(new Error(e.message),e):new Error(e))).map(e=>"string"==typeof e.stack?i(e.stack).replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""):String(e)).join("\n");t="\n"+r(t,4),super(t),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(const e of this._errors)yield e}}e.exports=o},function(e,t,n){"use strict";class r extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}}class i{static fn(e){return(...t)=>new i((n,r,i)=>{t.push(i),e(...t).then(n,r)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((t,n)=>{this._reject=n;const r=e=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(e)};return Object.defineProperties(r,{shouldReject:{get:()=>this._rejectOnCancel,set:e=>{this._rejectOnCancel=e}}}),e(e=>{this._isCanceled&&r.shouldReject||(this._isPending=!1,t(e))},e=>{this._isPending=!1,n(e)},r)})}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(this._isPending&&!this._isCanceled){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(const e of this._cancelHandlers)e()}catch(e){return void this._reject(e)}this._rejectOnCancel&&this._reject(new r(e))}}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(i.prototype,Promise.prototype),e.exports=i,e.exports.CancelError=r},function(e,t,n){var r=n(39);n(226),n(151),n(360),n(168),n(1607),n(225),n(362),n(1609),n(278),n(51);var i=r.asn1,o=e.exports=r.pki=r.pki||{},a=o.oids,u={};u.CN=a.commonName,u.commonName="CN",u.C=a.countryName,u.countryName="C",u.L=a.localityName,u.localityName="L",u.ST=a.stateOrProvinceName,u.stateOrProvinceName="ST",u.O=a.organizationName,u.organizationName="O",u.OU=a.organizationalUnitName,u.organizationalUnitName="OU",u.E=a.emailAddress,u.emailAddress="E";var s=r.pki.rsa.publicKeyValidator,c={name:"Certificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:i.Class.UNIVERSAL,type:i.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:i.Class.UNIVERSAL,type:i.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},s,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},f={name:"rsapss",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:i.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:i.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:i.Class.UNIVERSAL,type:i.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},l={name:"CertificationRequestInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},s,{name:"CertificationRequestInfo.attributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0}]}]}]},d={name:"CertificationRequest",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[l,{name:"CertificationRequest.signatureAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function h(e,t){"string"==typeof t&&(t={shortName:t});for(var n,r=null,i=0;null===r&&i<e.attributes.length;++i)n=e.attributes[i],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}o.RDNAttributesAsArray=function(e,t){for(var n,r,o,s=[],c=0;c<e.value.length;++c){n=e.value[c];for(var f=0;f<n.value.length;++f)o={},r=n.value[f],o.type=i.derToOid(r.value[0].value),o.value=r.value[1].value,o.valueTagClass=r.value[1].type,o.type in a&&(o.name=a[o.type],o.name in u&&(o.shortName=u[o.name])),t&&(t.update(o.type),t.update(o.value)),s.push(o)}return s},o.CRIAttributesAsArray=function(e){for(var t=[],n=0;n<e.length;++n)for(var r=e[n],s=i.derToOid(r.value[0].value),c=r.value[1].value,f=0;f<c.length;++f){var l={};if(l.type=s,l.value=c[f].value,l.valueTagClass=c[f].type,l.type in a&&(l.name=a[l.type],l.name in u&&(l.shortName=u[l.name])),l.type===a.extensionRequest){l.extensions=[];for(var d=0;d<l.value.length;++d)l.extensions.push(o.certificateExtensionFromAsn1(l.value[d]))}t.push(l)}return t};var p=function(e,t,n){var r={};if(e!==a["RSASSA-PSS"])return r;n&&(r={hash:{algorithmOid:a.sha1},mgf:{algorithmOid:a.mgf1,hash:{algorithmOid:a.sha1}},saltLength:20});var o={},u=[];if(!i.validate(t,f,o,u)){var s=new Error("Cannot read RSASSA-PSS parameter block.");throw s.errors=u,s}return void 0!==o.hashOid&&(r.hash=r.hash||{},r.hash.algorithmOid=i.derToOid(o.hashOid)),void 0!==o.maskGenOid&&(r.mgf=r.mgf||{},r.mgf.algorithmOid=i.derToOid(o.maskGenOid),r.mgf.hash=r.mgf.hash||{},r.mgf.hash.algorithmOid=i.derToOid(o.maskGenHashOid)),void 0!==o.saltLength&&(r.saltLength=o.saltLength.charCodeAt(0)),r};function m(e){for(var t,n,o=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),a=e.attributes,u=0;u<a.length;++u){var s=(t=a[u]).value,c=i.Type.PRINTABLESTRING;"valueTagClass"in t&&(c=t.valueTagClass)===i.Type.UTF8&&(s=r.util.encodeUtf8(s)),n=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.type).getBytes()),i.create(i.Class.UNIVERSAL,c,!1,s)])]),o.value.push(n)}return o}function y(e){for(var t,n=0;n<e.length;++n){if(void 0===(t=e[n]).name&&(t.type&&t.type in o.oids?t.name=o.oids[t.type]:t.shortName&&t.shortName in u&&(t.name=o.oids[u[t.shortName]])),void 0===t.type){if(!t.name||!(t.name in o.oids))throw(s=new Error("Attribute type not specified.")).attribute=t,s;t.type=o.oids[t.name]}if(void 0===t.shortName&&t.name&&t.name in u&&(t.shortName=u[t.name]),t.type===a.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=i.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var r=0;r<t.extensions.length;++r)t.value.push(o.certificateExtensionToAsn1(v(t.extensions[r])))}var s;if(void 0===t.value)throw(s=new Error("Attribute value not specified.")).attribute=t,s}}function v(e,t){if(t=t||{},void 0===e.name&&e.id&&e.id in o.oids&&(e.name=o.oids[e.id]),void 0===e.id){if(!e.name||!(e.name in o.oids))throw(E=new Error("Extension ID not specified.")).extension=e,E;e.id=o.oids[e.name]}if(void 0!==e.value)return e;if("keyUsage"===e.name){var n=0,u=0,s=0;e.digitalSignature&&(u|=128,n=7),e.nonRepudiation&&(u|=64,n=6),e.keyEncipherment&&(u|=32,n=5),e.dataEncipherment&&(u|=16,n=4),e.keyAgreement&&(u|=8,n=3),e.keyCertSign&&(u|=4,n=2),e.cRLSign&&(u|=2,n=1),e.encipherOnly&&(u|=1,n=0),e.decipherOnly&&(s|=128,n=7);var c=String.fromCharCode(n);0!==s?c+=String.fromCharCode(u)+String.fromCharCode(s):0!==u&&(c+=String.fromCharCode(u)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,c)}else if("basicConstraints"===e.name)e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);var f=e.value.value;for(var l in e)!0===e[l]&&(l in a?f.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a[l]).getBytes())):-1!==l.indexOf(".")&&f.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(l).getBytes())))}else if("nsCertType"===e.name){n=0,u=0;e.client&&(u|=128,n=7),e.server&&(u|=64,n=6),e.email&&(u|=32,n=5),e.objsign&&(u|=16,n=4),e.reserved&&(u|=8,n=3),e.sslCA&&(u|=4,n=2),e.emailCA&&(u|=2,n=1),e.objCA&&(u|=1,n=0);c=String.fromCharCode(n);0!==u&&(c+=String.fromCharCode(u)),e.value=i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,c)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);for(var d=0;d<e.altNames.length;++d){c=(g=e.altNames[d]).value;if(7===g.type&&g.ip){if(null===(c=r.util.bytesFromIP(g.ip)))throw(E=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,E}else 8===g.type&&(c=g.oid?i.oidToDer(i.oidToDer(g.oid)):i.oidToDer(c));e.value.value.push(i.create(i.Class.CONTEXT_SPECIFIC,g.type,!1,c))}}else if("nsComment"===e.name&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=i.create(i.Class.UNIVERSAL,i.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&t.cert){var h=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=h.toHex(),e.value=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,h.getBytes())}else if("authorityKeyIdentifier"===e.name&&t.cert){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);f=e.value.value;if(e.keyIdentifier){var p=!0===e.keyIdentifier?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;f.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!1,p))}if(e.authorityCertIssuer){var y=[i.create(i.Class.CONTEXT_SPECIFIC,4,!0,[m(!0===e.authorityCertIssuer?t.cert.issuer:e.authorityCertIssuer)])];f.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,y))}if(e.serialNumber){var v=r.util.hexToBytes(!0===e.serialNumber?t.cert.serialNumber:e.serialNumber);f.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!1,v))}}else if("cRLDistributionPoints"===e.name){e.value=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);f=e.value.value;var g,b=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),w=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(d=0;d<e.altNames.length;++d){c=(g=e.altNames[d]).value;if(7===g.type&&g.ip){if(null===(c=r.util.bytesFromIP(g.ip)))throw(E=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,E}else 8===g.type&&(c=g.oid?i.oidToDer(i.oidToDer(g.oid)):i.oidToDer(c));w.value.push(i.create(i.Class.CONTEXT_SPECIFIC,g.type,!1,c))}b.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[w])),f.push(b)}var E;if(void 0===e.value)throw(E=new Error("Extension value not specified.")).extension=e,E;return e}function g(e,t){switch(e){case a["RSASSA-PSS"]:var n=[];return void 0!==t.hash.algorithmOid&&n.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])),void 0!==t.mgf.algorithmOid&&n.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.mgf.hash.algorithmOid).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])])])),void 0!==t.saltLength&&n.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.saltLength).getBytes())])),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,n);default:return i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")}}function b(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return t;for(var n=e.attributes,o=0;o<n.length;++o){var a=n[o],u=a.value,s=i.Type.UTF8;"valueTagClass"in a&&(s=a.valueTagClass),s===i.Type.UTF8&&(u=r.util.encodeUtf8(u));var c=!1;"valueConstructed"in a&&(c=a.valueConstructed);var f=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[i.create(i.Class.UNIVERSAL,s,c,u)])]);t.value.push(f)}return t}o.certificateFromPem=function(e,t,n){var a=r.pem.decode(e)[0];if("CERTIFICATE"!==a.type&&"X509 CERTIFICATE"!==a.type&&"TRUSTED CERTIFICATE"!==a.type){var u=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw u.headerType=a.type,u}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=i.fromDer(a.body,n);return o.certificateFromAsn1(s,t)},o.certificateToPem=function(e,t){var n={type:"CERTIFICATE",body:i.toDer(o.certificateToAsn1(e)).getBytes()};return r.pem.encode(n,{maxline:t})},o.publicKeyFromPem=function(e){var t=r.pem.decode(e)[0];if("PUBLIC KEY"!==t.type&&"RSA PUBLIC KEY"!==t.type){var n=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return o.publicKeyFromAsn1(a)},o.publicKeyToPem=function(e,t){var n={type:"PUBLIC KEY",body:i.toDer(o.publicKeyToAsn1(e)).getBytes()};return r.pem.encode(n,{maxline:t})},o.publicKeyToRSAPublicKeyPem=function(e,t){var n={type:"RSA PUBLIC KEY",body:i.toDer(o.publicKeyToRSAPublicKey(e)).getBytes()};return r.pem.encode(n,{maxline:t})},o.getPublicKeyFingerprint=function(e,t){var n,a=(t=t||{}).md||r.md.sha1.create();switch(t.type||"RSAPublicKey"){case"RSAPublicKey":n=i.toDer(o.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":n=i.toDer(o.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}a.start(),a.update(n);var u=a.digest();if("hex"===t.encoding){var s=u.toHex();return t.delimiter?s.match(/.{2}/g).join(t.delimiter):s}if("binary"===t.encoding)return u.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return u},o.certificationRequestFromPem=function(e,t,n){var a=r.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==a.type){var u=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw u.headerType=a.type,u}if(a.procType&&"ENCRYPTED"===a.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=i.fromDer(a.body,n);return o.certificationRequestFromAsn1(s,t)},o.certificationRequestToPem=function(e,t){var n={type:"CERTIFICATE REQUEST",body:i.toDer(o.certificationRequestToAsn1(e)).getBytes()};return r.pem.encode(n,{maxline:t})},o.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return h(e.issuer,t)},e.issuer.addField=function(t){y([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return h(e.subject,t)},e.subject.addField=function(t){y([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,n){y(t),e.subject.attributes=t,delete e.subject.uniqueId,n&&(e.subject.uniqueId=n),e.subject.hash=null},e.setIssuer=function(t,n){y(t),e.issuer.attributes=t,delete e.issuer.uniqueId,n&&(e.issuer.uniqueId=n),e.issuer.hash=null},e.setExtensions=function(t){for(var n=0;n<t.length;++n)v(t[n],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var n,r=null,i=0;null===r&&i<e.extensions.length;++i)n=e.extensions[i],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,n){e.md=n||r.md.sha1.create();var u=a[e.md.algorithm+"WithRSAEncryption"];if(!u){var s=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=u,e.tbsCertificate=o.getTBSCertificate(e);var c=i.toDer(e.tbsCertificate);e.md.update(c.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var n=!1;if(!e.issued(t)){var u=t.issuer,s=e.subject;throw(m=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=u.attributes,m.actualIssuer=s.attributes,m}var c=t.md;if(null===c){if(t.signatureOid in a)switch(a[t.signatureOid]){case"sha1WithRSAEncryption":c=r.md.sha1.create();break;case"md5WithRSAEncryption":c=r.md.md5.create();break;case"sha256WithRSAEncryption":c=r.md.sha256.create();break;case"sha384WithRSAEncryption":c=r.md.sha384.create();break;case"sha512WithRSAEncryption":c=r.md.sha512.create();break;case"RSASSA-PSS":c=r.md.sha256.create()}if(null===c)throw(m=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=t.signatureOid,m;var f=t.tbsCertificate||o.getTBSCertificate(t),l=i.toDer(f);c.update(l.getBytes())}if(null!==c){var d;switch(t.signatureOid){case a.sha1WithRSAEncryption:d=void 0;break;case a["RSASSA-PSS"]:var h,p,m;if(void 0===(h=a[t.signatureParameters.mgf.hash.algorithmOid])||void 0===r.md[h])throw(m=new Error("Unsupported MGF hash function.")).oid=t.signatureParameters.mgf.hash.algorithmOid,m.name=h,m;if(void 0===(p=a[t.signatureParameters.mgf.algorithmOid])||void 0===r.mgf[p])throw(m=new Error("Unsupported MGF function.")).oid=t.signatureParameters.mgf.algorithmOid,m.name=p,m;if(p=r.mgf[p].create(r.md[h].create()),void 0===(h=a[t.signatureParameters.hash.algorithmOid])||void 0===r.md[h])throw{message:"Unsupported RSASSA-PSS hash function.",oid:t.signatureParameters.hash.algorithmOid,name:h};d=r.pss.create(r.md[h].create(),p,t.signatureParameters.saltLength)}n=e.publicKey.verify(c.digest().getBytes(),t.signature,d)}return n},e.isIssuer=function(t){var n=!1,r=e.issuer,i=t.subject;if(r.hash&&i.hash)n=r.hash===i.hash;else if(r.attributes.length===i.attributes.length){var o,a;n=!0;for(var u=0;n&&u<r.attributes.length;++u)o=r.attributes[u],a=i.attributes[u],o.type===a.type&&o.value===a.value||(n=!1)}return n},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return o.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=a.subjectKeyIdentifier,n=0;n<e.extensions.length;++n){var i=e.extensions[n];if(i.id===t){var o=e.generateSubjectKeyIdentifier().getBytes();return r.util.hexToBytes(i.subjectKeyIdentifier)===o}}return!1},e},o.certificateFromAsn1=function(e,t){var n={},u=[];if(!i.validate(e,c,n,u))throw(d=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=u,d;if(i.derToOid(n.publicKeyOid)!==o.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=o.createCertificate();s.version=n.certVersion?n.certVersion.charCodeAt(0):0;var f=r.util.createBuffer(n.certSerialNumber);s.serialNumber=f.toHex(),s.signatureOid=r.asn1.derToOid(n.certSignatureOid),s.signatureParameters=p(s.signatureOid,n.certSignatureParams,!0),s.siginfo.algorithmOid=r.asn1.derToOid(n.certinfoSignatureOid),s.siginfo.parameters=p(s.siginfo.algorithmOid,n.certinfoSignatureParams,!1),s.signature=n.certSignature;var l=[];if(void 0!==n.certValidity1UTCTime&&l.push(i.utcTimeToDate(n.certValidity1UTCTime)),void 0!==n.certValidity2GeneralizedTime&&l.push(i.generalizedTimeToDate(n.certValidity2GeneralizedTime)),void 0!==n.certValidity3UTCTime&&l.push(i.utcTimeToDate(n.certValidity3UTCTime)),void 0!==n.certValidity4GeneralizedTime&&l.push(i.generalizedTimeToDate(n.certValidity4GeneralizedTime)),l.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(l.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(s.validity.notBefore=l[0],s.validity.notAfter=l[1],s.tbsCertificate=n.tbsCertificate,t){var d;if(s.md=null,s.signatureOid in a)switch(a[s.signatureOid]){case"sha1WithRSAEncryption":s.md=r.md.sha1.create();break;case"md5WithRSAEncryption":s.md=r.md.md5.create();break;case"sha256WithRSAEncryption":s.md=r.md.sha256.create();break;case"sha384WithRSAEncryption":s.md=r.md.sha384.create();break;case"sha512WithRSAEncryption":s.md=r.md.sha512.create();break;case"RSASSA-PSS":s.md=r.md.sha256.create()}if(null===s.md)throw(d=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=s.signatureOid,d;var m=i.toDer(s.tbsCertificate);s.md.update(m.getBytes())}var v=r.md.sha1.create();s.issuer.getField=function(e){return h(s.issuer,e)},s.issuer.addField=function(e){y([e]),s.issuer.attributes.push(e)},s.issuer.attributes=o.RDNAttributesAsArray(n.certIssuer,v),n.certIssuerUniqueId&&(s.issuer.uniqueId=n.certIssuerUniqueId),s.issuer.hash=v.digest().toHex();var g=r.md.sha1.create();return s.subject.getField=function(e){return h(s.subject,e)},s.subject.addField=function(e){y([e]),s.subject.attributes.push(e)},s.subject.attributes=o.RDNAttributesAsArray(n.certSubject,g),n.certSubjectUniqueId&&(s.subject.uniqueId=n.certSubjectUniqueId),s.subject.hash=g.digest().toHex(),n.certExtensions?s.extensions=o.certificateExtensionsFromAsn1(n.certExtensions):s.extensions=[],s.publicKey=o.publicKeyFromAsn1(n.subjectPublicKeyInfo),s},o.certificateExtensionsFromAsn1=function(e){for(var t=[],n=0;n<e.value.length;++n)for(var r=e.value[n],i=0;i<r.value.length;++i)t.push(o.certificateExtensionFromAsn1(r.value[i]));return t},o.certificateExtensionFromAsn1=function(e){var t={};if(t.id=i.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===i.Type.BOOLEAN?(t.critical=0!==e.value[1].value.charCodeAt(0),t.value=e.value[2].value):t.value=e.value[1].value,t.id in a)if(t.name=a[t.id],"keyUsage"===t.name){var n=0,o=0;(s=i.fromDer(t.value)).value.length>1&&(n=s.value.charCodeAt(1),o=s.value.length>2?s.value.charCodeAt(2):0),t.digitalSignature=128==(128&n),t.nonRepudiation=64==(64&n),t.keyEncipherment=32==(32&n),t.dataEncipherment=16==(16&n),t.keyAgreement=8==(8&n),t.keyCertSign=4==(4&n),t.cRLSign=2==(2&n),t.encipherOnly=1==(1&n),t.decipherOnly=128==(128&o)}else if("basicConstraints"===t.name){(s=i.fromDer(t.value)).value.length>0&&s.value[0].type===i.Type.BOOLEAN?t.cA=0!==s.value[0].value.charCodeAt(0):t.cA=!1;var u=null;s.value.length>0&&s.value[0].type===i.Type.INTEGER?u=s.value[0].value:s.value.length>1&&(u=s.value[1].value),null!==u&&(t.pathLenConstraint=i.derToInteger(u))}else if("extKeyUsage"===t.name)for(var s=i.fromDer(t.value),c=0;c<s.value.length;++c){var f=i.derToOid(s.value[c].value);f in a?t[a[f]]=!0:t[f]=!0}else if("nsCertType"===t.name){n=0;(s=i.fromDer(t.value)).value.length>1&&(n=s.value.charCodeAt(1)),t.client=128==(128&n),t.server=64==(64&n),t.email=32==(32&n),t.objsign=16==(16&n),t.reserved=8==(8&n),t.sslCA=4==(4&n),t.emailCA=2==(2&n),t.objCA=1==(1&n)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){var l;t.altNames=[];s=i.fromDer(t.value);for(var d=0;d<s.value.length;++d){var h={type:(l=s.value[d]).type,value:l.value};switch(t.altNames.push(h),l.type){case 1:case 2:case 6:break;case 7:h.ip=r.util.bytesToIP(l.value);break;case 8:h.oid=i.derToOid(l.value)}}}else if("subjectKeyIdentifier"===t.name){s=i.fromDer(t.value);t.subjectKeyIdentifier=r.util.bytesToHex(s.value)}return t},o.certificationRequestFromAsn1=function(e,t){var n={},u=[];if(!i.validate(e,d,n,u))throw(c=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=u,c;if(i.derToOid(n.publicKeyOid)!==o.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=o.createCertificationRequest();if(s.version=n.csrVersion?n.csrVersion.charCodeAt(0):0,s.signatureOid=r.asn1.derToOid(n.csrSignatureOid),s.signatureParameters=p(s.signatureOid,n.csrSignatureParams,!0),s.siginfo.algorithmOid=r.asn1.derToOid(n.csrSignatureOid),s.siginfo.parameters=p(s.siginfo.algorithmOid,n.csrSignatureParams,!1),s.signature=n.csrSignature,s.certificationRequestInfo=n.certificationRequestInfo,t){var c;if(s.md=null,s.signatureOid in a)switch(a[s.signatureOid]){case"sha1WithRSAEncryption":s.md=r.md.sha1.create();break;case"md5WithRSAEncryption":s.md=r.md.md5.create();break;case"sha256WithRSAEncryption":s.md=r.md.sha256.create();break;case"sha384WithRSAEncryption":s.md=r.md.sha384.create();break;case"sha512WithRSAEncryption":s.md=r.md.sha512.create();break;case"RSASSA-PSS":s.md=r.md.sha256.create()}if(null===s.md)throw(c=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=s.signatureOid,c;var f=i.toDer(s.certificationRequestInfo);s.md.update(f.getBytes())}var l=r.md.sha1.create();return s.subject.getField=function(e){return h(s.subject,e)},s.subject.addField=function(e){y([e]),s.subject.attributes.push(e)},s.subject.attributes=o.RDNAttributesAsArray(n.certificationRequestInfoSubject,l),s.subject.hash=l.digest().toHex(),s.publicKey=o.publicKeyFromAsn1(n.subjectPublicKeyInfo),s.getAttribute=function(e){return h(s,e)},s.addAttribute=function(e){y([e]),s.attributes.push(e)},s.attributes=o.CRIAttributesAsArray(n.certificationRequestInfoAttributes||[]),s},o.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return h(e.subject,t)},e.subject.addField=function(t){y([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return h(e,t)},e.addAttribute=function(t){y([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){y(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){y(t),e.attributes=t},e.sign=function(t,n){e.md=n||r.md.sha1.create();var u=a[e.md.algorithm+"WithRSAEncryption"];if(!u){var s=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=u,e.certificationRequestInfo=o.getCertificationRequestInfo(e);var c=i.toDer(e.certificationRequestInfo);e.md.update(c.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,n=e.md;if(null===n){if(e.signatureOid in a)switch(a[e.signatureOid]){case"sha1WithRSAEncryption":n=r.md.sha1.create();break;case"md5WithRSAEncryption":n=r.md.md5.create();break;case"sha256WithRSAEncryption":n=r.md.sha256.create();break;case"sha384WithRSAEncryption":n=r.md.sha384.create();break;case"sha512WithRSAEncryption":n=r.md.sha512.create();break;case"RSASSA-PSS":n=r.md.sha256.create()}if(null===n)throw(d=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=e.signatureOid,d;var u=e.certificationRequestInfo||o.getCertificationRequestInfo(e),s=i.toDer(u);n.update(s.getBytes())}if(null!==n){var c;switch(e.signatureOid){case a.sha1WithRSAEncryption:break;case a["RSASSA-PSS"]:var f,l,d;if(void 0===(f=a[e.signatureParameters.mgf.hash.algorithmOid])||void 0===r.md[f])throw(d=new Error("Unsupported MGF hash function.")).oid=e.signatureParameters.mgf.hash.algorithmOid,d.name=f,d;if(void 0===(l=a[e.signatureParameters.mgf.algorithmOid])||void 0===r.mgf[l])throw(d=new Error("Unsupported MGF function.")).oid=e.signatureParameters.mgf.algorithmOid,d.name=l,d;if(l=r.mgf[l].create(r.md[f].create()),void 0===(f=a[e.signatureParameters.hash.algorithmOid])||void 0===r.md[f])throw(d=new Error("Unsupported RSASSA-PSS hash function.")).oid=e.signatureParameters.hash.algorithmOid,d.name=f,d;c=r.pss.create(r.md[f].create(),l,e.signatureParameters.saltLength)}t=e.publicKey.verify(n.digest().getBytes(),e.signature,c)}return t},e};var w=new Date("1950-01-01T00:00:00Z"),E=new Date("2050-01-01T00:00:00Z");function _(e){return e>=w&&e<E?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(e)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(e))}o.getTBSCertificate=function(e){var t=_(e.validity.notBefore),n=_(e.validity.notAfter),a=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes())]),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,r.util.hexToBytes(e.serialNumber)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.siginfo.algorithmOid).getBytes()),g(e.siginfo.algorithmOid,e.siginfo.parameters)]),m(e.issuer),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,n]),m(e.subject),o.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&a.value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&a.value.push(i.create(i.Class.CONTEXT_SPECIFIC,2,!0,[i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&a.value.push(o.certificateExtensionsToAsn1(e.extensions)),a},o.getCertificationRequestInfo=function(e){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),m(e.subject),o.publicKeyToAsn1(e.publicKey),b(e)])},o.distinguishedNameToAsn1=function(e){return m(e)},o.certificateToAsn1=function(e){var t=e.tbsCertificate||o.getTBSCertificate(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),g(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},o.certificateExtensionsToAsn1=function(e){var t=i.create(i.Class.CONTEXT_SPECIFIC,3,!0,[]),n=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(n);for(var r=0;r<e.length;++r)n.value.push(o.certificateExtensionToAsn1(e[r]));return t},o.certificateExtensionToAsn1=function(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.id).getBytes())),e.critical&&t.value.push(i.create(i.Class.UNIVERSAL,i.Type.BOOLEAN,!1,String.fromCharCode(255)));var n=e.value;return"string"!=typeof e.value&&(n=i.toDer(n).getBytes()),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,n)),t},o.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||o.getCertificationRequestInfo(e);return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[t,i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureOid).getBytes()),g(e.signatureOid,e.signatureParameters)]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},o.createCaStore=function(e){var t={certs:{}};function n(e){return a(e),t.certs[e.hash]||null}function a(e){if(!e.hash){var t=r.md.sha1.create();e.attributes=o.RDNAttributesAsArray(m(e),t),e.hash=t.digest().toHex()}}if(t.getIssuer=function(e){return n(e.issuer)},t.addCertificate=function(e){if("string"==typeof e&&(e=r.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))if(e.subject.hash in t.certs){var n=t.certs[e.subject.hash];r.util.isArray(n)||(n=[n]),n.push(e),t.certs[e.subject.hash]=n}else t.certs[e.subject.hash]=e},t.hasCertificate=function(e){"string"==typeof e&&(e=r.pki.certificateFromPem(e));var t=n(e.subject);if(!t)return!1;r.util.isArray(t)||(t=[t]);for(var a=i.toDer(o.certificateToAsn1(e)).getBytes(),u=0;u<t.length;++u){if(a===i.toDer(o.certificateToAsn1(t[u])).getBytes())return!0}return!1},t.listAllCertificates=function(){var e=[];for(var n in t.certs)if(t.certs.hasOwnProperty(n)){var i=t.certs[n];if(r.util.isArray(i))for(var o=0;o<i.length;++o)e.push(i[o]);else e.push(i)}return e},t.removeCertificate=function(e){var u;if("string"==typeof e&&(e=r.pki.certificateFromPem(e)),a(e.subject),!t.hasCertificate(e))return null;var s=n(e.subject);if(!r.util.isArray(s))return u=t.certs[e.subject.hash],delete t.certs[e.subject.hash],u;for(var c=i.toDer(o.certificateToAsn1(e)).getBytes(),f=0;f<s.length;++f){c===i.toDer(o.certificateToAsn1(s[f])).getBytes()&&(u=s[f],s.splice(f,1))}return 0===s.length&&delete t.certs[e.subject.hash],u},e)for(var u=0;u<e.length;++u){var s=e[u];t.addCertificate(s)}return t},o.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},o.verifyCertificateChain=function(e,t,n){"function"==typeof n&&(n={verify:n}),n=n||{};var i=(t=t.slice(0)).slice(0),a=n.validityCheckDate;void 0===a&&(a=new Date);var u=!0,s=null,c=0;do{var f=t.shift(),l=null,d=!1;if(a&&(a<f.validity.notBefore||a>f.validity.notAfter)&&(s={message:"Certificate is not valid yet or has expired.",error:o.certificateError.certificate_expired,notBefore:f.validity.notBefore,notAfter:f.validity.notAfter,now:a}),null===s){if(null===(l=t[0]||e.getIssuer(f))&&f.isIssuer(f)&&(d=!0,l=f),l){var h=l;r.util.isArray(h)||(h=[h]);for(var p=!1;!p&&h.length>0;){l=h.shift();try{p=l.verify(f)}catch(e){}}p||(s={message:"Certificate signature is invalid.",error:o.certificateError.bad_certificate})}null!==s||l&&!d||e.hasCertificate(f)||(s={message:"Certificate is not trusted.",error:o.certificateError.unknown_ca})}if(null===s&&l&&!f.isIssuer(l)&&(s={message:"Certificate issuer is invalid.",error:o.certificateError.bad_certificate}),null===s)for(var m={keyUsage:!0,basicConstraints:!0},y=0;null===s&&y<f.extensions.length;++y){var v=f.extensions[y];v.critical&&!(v.name in m)&&(s={message:"Certificate has an unsupported critical extension.",error:o.certificateError.unsupported_certificate})}if(null===s&&(!u||0===t.length&&(!l||d))){var g=f.getExtension("basicConstraints"),b=f.getExtension("keyUsage");if(null!==b&&(b.keyCertSign&&null!==g||(s={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:o.certificateError.bad_certificate})),null!==s||null===g||g.cA||(s={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:o.certificateError.bad_certificate}),null===s&&null!==b&&"pathLenConstraint"in g)c-1>g.pathLenConstraint&&(s={message:"Certificate basicConstraints pathLenConstraint violated.",error:o.certificateError.bad_certificate})}var w=null===s||s.error,E=n.verify?n.verify(w,c,i):w;if(!0!==E)throw!0===w&&(s={message:"The application rejected the certificate.",error:o.certificateError.bad_certificate}),(E||0===E)&&("object"!=typeof E||r.util.isArray(E)?"string"==typeof E&&(s.error=E):(E.message&&(s.message=E.message),E.error&&(s.error=E.error))),s;s=null,u=!1,++c}while(t.length>0);return!0}},function(e,t,n){"use strict";const r=Math.exp;e.exports=function(e){if("number"!=typeof e)throw new Error("must provide a timespan to the moving average constructor");if(e<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let t,n,i=0,o=0,a=0,u={};return u.push=function(u,s){if(n){const c=1-r(-(u-n)/e),f=s-t;t=c*s+(1-c)*t,i=(1-c)*(i+f*(c*f)),o=Math.sqrt(i),a=t+c*f}else t=s;n=u},u.movingAverage=function(){return t},u.variance=function(){return i},u.deviation=function(){return o},u.forecast=function(){return a},u}},function(e,t,n){"use strict";t.PROTOCOL_ID="/multistream/1.0.0"},function(e,t,n){"use strict";const r=n(4),{EventEmitter:i}=n(33),o=n(31),a=n(1624),u=n(1625),s=n(1626),c=n(1627),{codes:{ERR_INVALID_PARAMETERS:f}}=n(71);e.exports=class extends i{constructor({peerId:e}){super(),this._peerId=e,this.addressBook=new a(this),this.keyBook=new u(this),this.metadataBook=new s(this),this.protoBook=new c(this)}start(){}stop(){}get peers(){const e=new Set([...this.addressBook.data.keys(),...this.keyBook.data.keys(),...this.protoBook.data.keys(),...this.metadataBook.data.keys()]);this._peerId&&e.delete(this._peerId.toB58String());const t=new Map;return e.forEach(e=>{t.set(e,this.get(o.createFromB58String(e)))}),t}delete(e){const t=this.addressBook.delete(e),n=this.keyBook.delete(e),r=this.protoBook.delete(e),i=this.metadataBook.delete(e);return t||n||r||i}get(e){if(!o.isPeerId(e))throw r(new Error("peerId must be an instance of peer-id"),f);const t=this.keyBook.data.get(e.toB58String()),n=this.addressBook.get(e),i=this.metadataBook.get(e),a=this.protoBook.get(e);if(t||n||i||a)return{id:t||e,addresses:n||[],protocols:a||[],metadata:i}}}},function(e,t,n){"use strict";t.CODE_P2P=421,t.CODE_CIRCUIT=290,t.CODE_TCP=6,t.CODE_WS=477,t.CODE_WSS=478,t.CLOSE_TIMEOUT=2e3},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:ip-port-to-multiaddr"),{error:r("libp2p:ip-port-to-multiaddr:err")}),{Multiaddr:o}=n(30),a=n(4),{Address4:u,Address6:s}=n(1821),c={ERR_INVALID_IP_PARAMETER:"ERR_INVALID_IP_PARAMETER",ERR_INVALID_PORT_PARAMETER:"ERR_INVALID_PORT_PARAMETER",ERR_INVALID_IP:"ERR_INVALID_IP"};e.exports=function(e,t){if("string"!=typeof e)throw a(new Error("invalid ip provided: "+e),c.ERR_INVALID_IP_PARAMETER);if("string"==typeof t&&(t=parseInt(t)),isNaN(t))throw a(new Error("invalid port provided: "+t),c.ERR_INVALID_PORT_PARAMETER);try{return new u(e),new o(`/ip4/${e}/tcp/${t}`)}catch{}try{const n=new s(e);return n.is4()?new o(`/ip4/${n.to4().correctForm()}/tcp/${t}`):new o(`/ip6/${e}/tcp/${t}`)}catch(n){const r=`invalid ip:port for creating a multiaddr: ${e}:${t}`;throw i.error(r),a(new Error(r),c.ERR_INVALID_IP)}},e.exports.Errors=c},function(e,t,n){
/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var r=n(6)("simple-peer"),i=n(1664),o=n(141),a=n(249),u=n(393),s=n(1665);function c(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}class f extends a.Duplex{constructor(e){if(super(e=Object.assign({allowHalfOpen:!1},e)),this._id=o(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||o(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||f.channelConfig,this.negotiated=this.channelConfig.negotiated,this.config=Object.assign({},f.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(e=>e),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=void 0===e.trickle||e.trickle,this.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,this.iceCompleteTimeout=e.iceCompleteTimeout||5e3,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:i(),!this._wrtc)throw"undefined"==typeof window?s(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):s(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!this.negotiated&&!this.initiator,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._firstStable=!0,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(e){return void u(()=>this.destroy(s(e,"ERR_PC_CONSTRUCTOR")))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=e=>{this._onIceCandidate(e)},this.initiator||this.negotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=e=>{this._setupData(e)},this.streams&&this.streams.forEach(e=>{this.addStream(e)}),this._pc.ontrack=e=>{this._onTrack(e)},this.initiator&&this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(e){if(this.destroyed)throw s(new Error("cannot signal after peer is destroyed"),"ERR_SIGNALING");if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(e=>{this._addIceCandidate(e)}),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())}).catch(e=>{this.destroy(s(e,"ERR_SET_REMOTE_DESCRIPTION"))}),e.sdp||e.candidate||e.renegotiate||e.transceiverRequest||this.destroy(s(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}_addIceCandidate(e){var t=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(t).catch(e=>{var n;!t.address||t.address.endsWith(".local")?(n="Ignoring unsupported ICE candidate.",console.warn(n)):this.destroy(s(e,"ERR_ADD_ICE_CANDIDATE"))})}send(e){this._channel.send(e)}addTransceiver(e,t){if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(e){this.destroy(s(e,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{transceiverRequest:{kind:e,init:t}})}addStream(e){this._debug("addStream()"),e.getTracks().forEach(t=>{this.addTrack(t,e)})}addTrack(e,t){this._debug("addTrack()");var n=this._senderMap.get(e)||new Map,r=n.get(t);if(r)throw r.removed?s(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):s(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");r=this._pc.addTrack(e,t),n.set(t,r),this._senderMap.set(e,n),this._needsNegotiation()}replaceTrack(e,t,n){this._debug("replaceTrack()");var r=this._senderMap.get(e),i=r?r.get(n):null;if(!i)throw s(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,r),null!=i.replaceTrack?i.replaceTrack(t):this.destroy(s(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(e,t){this._debug("removeSender()");var n=this._senderMap.get(e),r=n?n.get(t):null;if(!r)throw s(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{r.removed=!0,this._pc.removeTrack(r)}catch(e){"NS_ERROR_UNEXPECTED"===e.name?this._sendersAwaitingStable.push(r):this.destroy(s(e,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(e){this._debug("removeSenders()"),e.getTracks().forEach(t=>{this.removeTrack(t,e)})}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,u(()=>{this._batchedNegotiation=!1,this._debug("starting batched negotiation"),this.negotiate()}))}negotiate(){this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{renegotiate:!0})),this._isNegotiating=!0}_destroy(e,t){if(this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(e){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(e){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,t(e)}_setupData(e){if(!e.channel)return this.destroy(s(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=65536),this.channelName=this._channel.label,this._channel.onmessage=e=>{this._onChannelMessage(e)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=e=>{this.destroy(s(e,"ERR_DATA_CHANNEL"))};var t=!1;this._closingInterval=setInterval(()=>{this._channel&&"closing"===this._channel.readyState?(t&&this._onChannelClose(),t=!0):t=!1},5e3)}_read(){}_write(e,t,n){if(this.destroyed)return n(s(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(e){return this.destroy(s(e,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>65536?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=n):n(null)}else this._debug("write before connect"),this._chunk=e,this._cb=n}_onFinish(){if(this.destroyed)return;const e=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?e():this.once("connect",e)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=c(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(!this.destroyed){var t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp})}};this._pc.setLocalDescription(e).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))}).catch(e=>{this.destroy(s(e,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(e=>{this.destroy(s(e,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(e=>{e.mid||!e.sender.track||e.requested||(e.requested=!0,this.addTransceiver(e.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(e=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(e.sdp=c(e.sdp)),e.sdp=this.sdpTransform(e.sdp);const t=()=>{if(!this.destroyed){var t=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:t.type,sdp:t.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(e).then(()=>{this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))}).catch(e=>{this.destroy(s(e,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(e=>{this.destroy(s(e,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(s(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(!this.destroyed){var e=this._pc.iceConnectionState,t=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),"connected"!==e&&"completed"!==e||(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy(s(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy(s(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}}getStats(e){const t=e=>("[object Array]"===Object.prototype.toString.call(e.values)&&e.values.forEach(t=>{Object.assign(e,t)}),e);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then(n=>{var r=[];n.forEach(e=>{r.push(t(e))}),e(null,r)},t=>e(t)):this._pc.getStats.length>0?this._pc.getStats(n=>{if(!this.destroyed){var r=[];n.result().forEach(e=>{var n={};e.names().forEach(t=>{n[t]=e.stat(t)}),n.id=e.id,n.type=e.type,n.timestamp=e.timestamp,r.push(t(n))}),e(null,r)}},t=>e(t)):e(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const e=()=>{this.destroyed||this.getStats((t,n)=>{if(this.destroyed)return;t&&(n=[]);var r={},i={},o={},a=!1;n.forEach(e=>{"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(r[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(i[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(o[e.id]=e)});const u=e=>{a=!0;var t=i[e.localCandidateId];t&&(t.ip||t.address)?(this.localAddress=t.ip||t.address,this.localPort=Number(t.port)):t&&t.ipAddress?(this.localAddress=t.ipAddress,this.localPort=Number(t.portNumber)):"string"==typeof e.googLocalAddress&&(t=e.googLocalAddress.split(":"),this.localAddress=t[0],this.localPort=Number(t[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");var n=r[e.remoteCandidateId];n&&(n.ip||n.address)?(this.remoteAddress=n.ip||n.address,this.remotePort=Number(n.port)):n&&n.ipAddress?(this.remoteAddress=n.ipAddress,this.remotePort=Number(n.portNumber)):"string"==typeof e.googRemoteAddress&&(n=e.googRemoteAddress.split(":"),this.remoteAddress=n[0],this.remotePort=Number(n[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(n.forEach(e=>{"transport"===e.type&&e.selectedCandidatePairId&&u(o[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&u(e)}),a||Object.keys(o).length&&!Object.keys(i).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(t){return this.destroy(s(t,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');var c=this._cb;this._cb=null,c(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(e,100)})};e()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>65536||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"!==this._pc.signalingState||this._firstStable||(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation&&(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()),this._debug("negotiate"),this.emit("negotiate")),this._firstStable=!1,this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e){if(!this.destroyed){var t=e.data;t instanceof ArrayBuffer&&(t=new Uint8Array(t)),this.push(t)}}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);var e=this._cb;this._cb=null,e(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach(t=>{this._debug("on track"),this.emit("track",e.track,t),this._remoteTracks.push({track:e.track,stream:t}),this._remoteStreams.some(e=>e.id===t.id)||(this._remoteStreams.push(t),u(()=>{this.emit("stream",t)}))})}_debug(){var e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],r.apply(null,e)}}f.WEBRTC_SUPPORT=!!i(),f.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},f.channelConfig={},e.exports=f},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a,u,s=n.exec(e||""),c={},f=14;f--;)c[r[f]]=s[f]||"";return-1!=i&&-1!=o&&(c.source=t,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=function(e,t){var n=t.replace(/\/{2,9}/g,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||n.splice(0,1);"/"==t.substr(t.length-1,1)&&n.splice(n.length-1,1);return n}(0,c.path),c.queryKey=(a=c.query,u={},a.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(u[t]=n)})),u),c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;const r=n(1670),i=n(682),o=n(412),a=n(684),u=n(1681),s=n(685),c=n(6)("socket.io-client:manager");class f extends s.StrictEventEmitter{constructor(e,t){super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new u({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||o;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(c("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=r(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=a.on(t,"open",(function(){n.onopen(),e&&e()})),o=a.on(t,"error",t=>{c("error"),n.cleanup(),n._readyState="closed",this.emitReserved("error",t),e?e(t):n.maybeReconnectOnOpen()});if(!1!==this._timeout){const e=this._timeout;c("connect attempt will timeout after %d",e),0===e&&i();const n=setTimeout(()=>{c("connect attempt timed out after %d",e),i(),t.close(),t.emit("error",new Error("timeout"))},e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){c("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(a.on(e,"ping",this.onping.bind(this)),a.on(e,"data",this.ondata.bind(this)),a.on(e,"error",this.onerror.bind(this)),a.on(e,"close",this.onclose.bind(this)),a.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){c("error",e),this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n||(n=new i.Socket(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t){if(this.nsps[e].active)return void c("socket %s is still active, skipping close",e)}this._close()}_packet(e){c("writing packet %j",e);const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){c("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){c("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){c("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this._reconnecting=!0;const n=setTimeout(()=>{e.skipReconnect||(c("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(c("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):(c("reconnect success"),e.onreconnect())}))},t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}t.Manager=f},function(e,t,n){const r=n(677),i=n(1673),o=n(1677),a=n(1678);t.polling=function(e){let t,n=!1,a=!1;const u=!1!==e.jsonp;if("undefined"!=typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?443:80),n=e.hostname!==location.hostname||r!==e.port,a=e.secure!==t}if(e.xdomain=n,e.xscheme=a,t=new r(e),"open"in t&&!e.forceJSONP)return new i(e);if(!u)throw new Error("JSONP disabled");return new o(e)},t.websocket=a},function(e,t,n){const r=n(1672),i=n(301);e.exports=function(e){const t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(e){}if(!t)try{return new(i[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},function(e,t,n){const r=n(410),i=n(411),o=n(241),a=n(680),u=n(6)("engine.io-client:polling");e.exports=class extends r{get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{u("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(u("we are currently polling - waiting to pause"),e++,this.once("pollComplete",(function(){u("pre-pause polling complete"),--e||t()}))),this.writable||(u("we are currently writing - waiting to pause"),e++,this.once("drain",(function(){u("pre-pause writing complete"),--e||t()})))}else t()}poll(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){u("polling got data %s",e);o.decodePayload(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose(),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))}doClose(){const e=()=>{u("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,o.encodePayload(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emit("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),e.length&&(e="?"+e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}}},function(e,t){const n=Object.create(null);n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";const r=Object.create(null);Object.keys(n).forEach(e=>{r[n[e]]=e});e.exports={PACKET_TYPES:n,PACKET_TYPES_REVERSE:r,ERROR_PACKET:{type:"error",data:"parser error"}}},function(e,t,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},a=0,u=0;function s(e){var t="";do{t=i[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function c(){var e=s(+new Date);return e!==r?(a=0,r=e):e+"."+s(a++)}for(;u<64;u++)o[i[u]]=u;c.encode=s,c.decode=function(e){var t=0;for(u=0;u<e.length;u++)t=64*t+o[e.charAt(u)];return t},e.exports=c},function(e,t){e.exports.pick=(e,...t)=>t.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const r=n(412),i=n(684),o=n(685),a=n(6)("socket.io-client:socket"),u=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class s extends o.StrictEventEmitter{constructor(e,t,n){super(),this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const e=this.io;this.subs=[i.on(e,"open",this.onopen.bind(this)),i.on(e,"packet",this.onpacket.bind(this)),i.on(e,"error",this.onerror.bind(this)),i.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(u.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const n={type:r.PacketType.EVENT,data:t,options:{}};n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(a("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++);const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)?a("discard packet as the transport is not currently writable"):this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){a("transport is open - connecting"),"function"==typeof this.auth?this.auth(e=>{this.packet({type:r.PacketType.CONNECT,data:e})}):this.packet({type:r.PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e){a("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case r.PacketType.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case r.PacketType.EVENT:case r.PacketType.BINARY_EVENT:this.onevent(e);break;case r.PacketType.ACK:case r.PacketType.BINARY_ACK:this.onack(e);break;case r.PacketType.DISCONNECT:this.ondisconnect();break;case r.PacketType.CONNECT_ERROR:const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];a("emitting event %j",t),null!=e.id&&(a("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let n=!1;return function(...i){n||(n=!0,a("sending ack %j",i),t.packet({type:r.PacketType.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];"function"==typeof t?(a("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):a("bad ack %s",e.id)}onconnect(e){a("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>this.packet(e)),this.sendBuffer=[]}ondisconnect(){a("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(a("performing disconnect (%s)",this.nsp),this.packet({type:r.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}t.Socket=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;const r="function"==typeof ArrayBuffer,i=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);function u(e){return r&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||o&&e instanceof Blob||a&&e instanceof File}t.isBinary=u,t.hasBinary=function e(t,n){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(e(t[n]))return!0;return!1}if(u(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return!0;return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,n){return e.on(t,n),function(){e.off(t,n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StrictEventEmitter=void 0;const r=n(242);t.StrictEventEmitter=class extends r{on(e,t){return super.on(e,t),this}once(e,t){return super.once(e,t),this}emit(e,...t){return super.emit(e,...t),this}emitReserved(e,...t){return super.emit(e,...t),this}listeners(e){return super.listeners(e)}}},function(e,t,n){"use strict";const r=n(137),i=n(1682),{CLOSE_TIMEOUT:o}=n(409),a=n(672),u=n(6),s=u("libp2p:webrtc-star:socket");s.error=u("libp2p:webrtc-star:socket:error");const c=(e,t)=>{if(e&&t)try{return a(e,t)}catch(e){return s.error(e),a("0.0.0.0",t)}};e.exports=(e,t={})=>{const{sink:n,source:a}=i.duplex(e),u=t.remoteAddr||c(e.remoteAddress,e.remotePort),f=c(e.localAddress,e.localPort),l={async sink(e){t.signal&&(e=r(e,t.signal));try{await n(async function*(){for await(const t of e)yield t instanceof Uint8Array?t:t.slice()}())}catch(e){"aborted"!==e.type&&s.error(e)}},source:t.signal?r(a,t.signal):a,conn:e,localAddr:f,remoteAddr:u,timeline:{open:Date.now()},close(){if(!e.destroyed)return new Promise((t,n)=>{const r=Date.now(),i=setTimeout(()=>{if(l.remoteAddr){const{host:e,port:t}=l.remoteAddr.toOptions();s("timeout closing socket to %s:%s after %dms, destroying it manually",e,t,Date.now()-r)}e.destroyed||e.destroy()},o);e.once("close",()=>{t()}),e.end(e=>{if(clearTimeout(i),l.timeline.close=Date.now(),e)return n(e)})})}};return e.once("close",()=>{l.timeline.close||(l.timeline.close=Date.now())}),l}},function(e,t,n){const r=n(398);e.exports=e=>async t=>{t=r(t);const n=e=>{"function"==typeof e.return&&e.return()};let i=null,o=null;const a=e=>{i=e,o&&o(e),n(t)};let u=null,s=!1;const c=()=>{s=!0,u&&u()};let f=null,l=!1;const d=()=>{l=!0,f&&f()};let h=null;const p=()=>{h&&h()};e.once("error",a),e.once("close",c),e.once("finish",d);try{for await(const n of t){if(!e.writable||e.destroyed||i)break;!1===e.write(n)&&await new Promise((t,n)=>{u=h=t,o=n,e.once("drain",p)})}}catch(t){i||e.destroy(),i=t}try{if(e.writable&&e.end(),await(n(t),new Promise((e,t)=>{if(s||l||i)return e();f=u=e,o=t})),i)throw i}finally{e.removeListener("error",a),e.removeListener("close",c),e.removeListener("finish",d),e.removeListener("drain",p)}}},function(e,t,n){const r=n(687),i=n(298);e.exports=e=>({sink:r(e),source:i(e)})},function(e,t,n){"use strict";const{Multiaddr:r}=n(30);e.exports={cleanUrlSIO:function(e){const t=e.toString().split("/"),n=e.protos()[1].name,i=e.protos()[2].name,o=e.stringTuples()[1][1];if("tcp"!==n||"ws"!==i&&"wss"!==i)throw new Error("invalid multiaddr: "+e.toString());return r.isName(e)?"ws"===i?"http://"+t[2]+("80"===o?"":":"+o):"wss"===i?"https://"+t[2]+("443"===o?"":":"+o):void 0:"http://"+t[2]+":"+t[4]},cleanMultiaddr:function(e){const t="/libp2p-webrtc-star";if(-1!==e.indexOf(t)){e=e.substring(t.length,e.length);let n=new r(e);const i=n.stringTuples().filter(e=>421===e[0])[0];n=n.decapsulate("p2p"),n=n.encapsulate("/p2p-webrtc-star"),n=n.encapsulate("/p2p/"+i[1]),e=n.toString()}return e}}},function(e,t,n){"use strict";e.exports=e=>{e=e||1<<20;const t=t=>{if(t.data&&t.data.length>e)throw Object.assign(new Error("message size too large!"),{code:"ERR_MSG_TOO_BIG"})};return e=>async function*(){for await(const n of e)Array.isArray(n)?n.forEach(t):t(n),yield n}()},e.exports.MAX_MSG_SIZE=1<<20},function(e,t,n){"use strict";const r=Object.freeze({NEW_STREAM:0,MESSAGE_RECEIVER:1,MESSAGE_INITIATOR:2,CLOSE_RECEIVER:3,CLOSE_INITIATOR:4,RESET_RECEIVER:5,RESET_INITIATOR:6});t.MessageTypes=r,t.InitiatorMessageTypes=Object.freeze({NEW_STREAM:r.NEW_STREAM,MESSAGE:r.MESSAGE_INITIATOR,CLOSE:r.CLOSE_INITIATOR,RESET:r.RESET_INITIATOR}),t.ReceiverMessageTypes=Object.freeze({MESSAGE:r.MESSAGE_RECEIVER,CLOSE:r.CLOSE_RECEIVER,RESET:r.RESET_RECEIVER}),t.MessageTypeNames=Object.freeze(Object.entries(r).reduce((e,t)=>(e[t[1]]=t[0],e),{}))},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Noise=void 0;const u=o(n(413)),s=n(27),c=a(n(1697)),f=a(n(1698)),l=a(n(408)),d=a(n(66)),h=n(119),p=n(693),m=n(1708),y=n(1711),v=n(176),g=n(303),b=n(1712),w=n(1713),E=n(243),_=n(415);t.Noise=class{constructor(e,t){if(this.protocol="/noise",this.prologue=s.Buffer.alloc(0),this.earlyData=null!=t?t:s.Buffer.alloc(0),this.useNoisePipes=!1,e){const t=u.generateKeyPairFromSeed(e);this.staticKeys={privateKey:s.Buffer.from(t.secretKey.buffer,t.secretKey.byteOffset,t.secretKey.length),publicKey:s.Buffer.from(t.publicKey.buffer,t.publicKey.byteOffset,t.publicKey.length)}}else this.staticKeys=v.generateKeypair()}async secureOutbound(e,t,n){const r=c.default(t,{lengthEncoder:g.uint16BEEncode,lengthDecoder:g.uint16BEDecode,maxDataLength:_.NOISE_MSG_MAX_LENGTH_BYTES}),i=await this.performHandshake({connection:r,isInitiator:!0,localPeer:e,remotePeer:n});return{conn:await this.createSecureConnection(r,i),remoteEarlyData:i.remoteEarlyData,remotePeer:i.remotePeer}}async secureInbound(e,t,n){const r=c.default(t,{lengthEncoder:g.uint16BEEncode,lengthDecoder:g.uint16BEDecode,maxDataLength:_.NOISE_MSG_MAX_LENGTH_BYTES}),i=await this.performHandshake({connection:r,isInitiator:!1,localPeer:e,remotePeer:n});return{conn:await this.createSecureConnection(r,i),remoteEarlyData:i.remoteEarlyData,remotePeer:i.remotePeer}}async performHandshake(e){var t;const n=await v.getPayload(e.localPeer,this.staticKeys.publicKey,this.earlyData);let r=this.useNoisePipes;if(e.isInitiator&&null===w.KeyCache.load(e.remotePeer)&&(r=!1),!r)return await this.performXXHandshake(e,n);{const{remotePeer:r,connection:i,isInitiator:o}=e,a=new m.IKHandshake(o,n,this.prologue,this.staticKeys,i,null!==(t=w.KeyCache.load(e.remotePeer))&&void 0!==t?t:s.Buffer.alloc(32),r);try{return await this.performIKHandshake(a)}catch(t){let r;return e.isInitiator&&(r=a.getLocalEphemeralKeys()),await this.performXXFallbackHandshake(e,n,t.initialMsg,r)}}}async performXXFallbackHandshake(e,t,n,r){const{isInitiator:i,remotePeer:o,connection:a}=e,u=new y.XXFallbackHandshake(i,t,this.prologue,this.staticKeys,a,n,o,r);try{await u.propose(),await u.exchange(),await u.finish()}catch(e){E.logger(e);throw new Error("Error occurred during XX Fallback handshake: "+e.message)}return u}async performXXHandshake(e,t){const{isInitiator:n,remotePeer:r,connection:i}=e,o=new p.XXHandshake(n,t,this.prologue,this.staticKeys,i,r);try{await o.propose(),await o.exchange(),await o.finish(),this.useNoisePipes&&o.remotePeer&&w.KeyCache.store(o.remotePeer,o.getRemoteStaticKey())}catch(e){throw new Error("Error occurred during XX handshake: "+e.message)}return o}async performIKHandshake(e){return await e.stage0(),await e.stage1(),e}async createSecureConnection(e,t){const[n,r]=f.default(),i=e.unwrap();return await d.default(n,l.default,b.encryptStream(t),h.encode({lengthEncoder:g.uint16BEEncode}),i,h.decode({lengthDecoder:g.uint16BEDecode}),l.default,b.decryptStream(t),n),r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XXHandshake=void 0;const r=n(27),i=n(1700),o=n(176),a=n(243),u=n(303);t.XXHandshake=class{constructor(e,t,n,o,a,u,s){this.isInitiator=e,this.payload=t,this.prologue=n,this.staticKeypair=o,this.connection=a,u&&(this.remotePeer=u),this.xx=null!=s?s:new i.XX,this.session=this.xx.initSession(this.isInitiator,this.prologue,this.staticKeypair),this.remoteEarlyData=r.Buffer.alloc(0)}async propose(){if(a.logLocalStaticKeys(this.session.hs.s),this.isInitiator){a.logger("Stage 0 - Initiator starting to send first message.");const e=this.xx.sendMessage(this.session,r.Buffer.alloc(0));this.connection.writeLP(u.encode0(e)),a.logger("Stage 0 - Initiator finished sending first message."),a.logLocalEphemeralKeys(this.session.hs.e)}else{a.logger("Stage 0 - Responder waiting to receive first message...");const e=u.decode0((await this.connection.readLP()).slice()),{valid:t}=this.xx.recvMessage(this.session,e);if(!t)throw new Error("xx handshake stage 0 validation fail");a.logger("Stage 0 - Responder received first message."),a.logRemoteEphemeralKey(this.session.hs.re)}}async exchange(){if(this.isInitiator){a.logger("Stage 1 - Initiator waiting to receive first message from responder...");const e=u.decode1((await this.connection.readLP()).slice()),{plaintext:t,valid:n}=this.xx.recvMessage(this.session,e);if(!n)throw new Error("xx handshake stage 1 validation fail");a.logger("Stage 1 - Initiator received the message."),a.logRemoteEphemeralKey(this.session.hs.re),a.logRemoteStaticKey(this.session.hs.rs),a.logger("Initiator going to check remote's signature...");try{const n=await o.decodePayload(t);this.remotePeer=this.remotePeer||await o.getPeerIdFromPayload(n),this.remotePeer=await o.verifySignedPayload(e.ns,n,this.remotePeer),this.setRemoteEarlyData(n.data)}catch(e){throw new Error("Error occurred while verifying signed payload: "+e.message)}a.logger("All good with the signature!")}else{a.logger("Stage 1 - Responder sending out first message with signed payload and static key.");const e=this.xx.sendMessage(this.session,this.payload);this.connection.writeLP(u.encode1(e)),a.logger("Stage 1 - Responder sent the second handshake message with signed payload."),a.logLocalEphemeralKeys(this.session.hs.e)}}async finish(){if(this.isInitiator){a.logger("Stage 2 - Initiator sending third handshake message.");const e=this.xx.sendMessage(this.session,this.payload);this.connection.writeLP(u.encode2(e)),a.logger("Stage 2 - Initiator sent message with signed payload.")}else{a.logger("Stage 2 - Responder waiting for third handshake message...");const e=u.decode2((await this.connection.readLP()).slice()),{plaintext:t,valid:n}=this.xx.recvMessage(this.session,e);if(!n)throw new Error("xx handshake stage 2 validation fail");a.logger("Stage 2 - Responder received the message, finished handshake.");try{const e=await o.decodePayload(t);this.remotePeer=this.remotePeer||await o.getPeerIdFromPayload(e),await o.verifySignedPayload(this.session.hs.rs,e,this.remotePeer),this.setRemoteEarlyData(e.data)}catch(e){throw new Error("Error occurred while verifying signed payload: "+e.message)}}a.logCipherState(this.session)}encrypt(e,t){const n=this.getCS(t);return this.xx.encryptWithAd(n,r.Buffer.alloc(0),e)}decrypt(e,t){const n=this.getCS(t,!1);return this.xx.decryptWithAd(n,r.Buffer.alloc(0),e)}getRemoteStaticKey(){return this.session.hs.rs}getCS(e,t=!0){if(!e.cs1||!e.cs2)throw new Error("Handshake not completed properly, cipher state does not exist.");return this.isInitiator?t?e.cs1:e.cs2:t?e.cs2:e.cs1}setRemoteEarlyData(e){e&&(this.remoteEarlyData=r.Buffer.from(e.buffer,e.byteOffset,e.length))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(302),i=n(138);t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var o=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[n++],t--;this._bufferLength===this.blockSize&&(u(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(n=u(this._temp,this._state,e,n,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[n++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,i=t/536870912|0,o=t<<3,a=t%64<56?64:128;this._buffer[n]=128;for(var s=n+1;s<a-8;s++)this._buffer[s]=0;r.writeUint32BE(i,this._buffer,a-8),r.writeUint32BE(o,this._buffer,a-4),u(this._temp,this._state,this._buffer,0,a),this._finished=!0}for(s=0;s<this.digestLength/4;s++)r.writeUint32BE(this._state[s],e,4*s);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.state),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA256=o;var a=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function u(e,t,n,i,o){for(;o>=64;){for(var u=t[0],s=t[1],c=t[2],f=t[3],l=t[4],d=t[5],h=t[6],p=t[7],m=0;m<16;m++){var y=i+4*m;e[m]=r.readUint32BE(n,y)}for(m=16;m<64;m++){var v=e[m-2],g=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,b=((v=e[m-15])>>>7|v<<25)^(v>>>18|v<<14)^v>>>3;e[m]=(g+e[m-7]|0)+(b+e[m-16]|0)}for(m=0;m<64;m++){g=(((l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&d^~l&h)|0)+(p+(a[m]+e[m]|0)|0)|0,b=((u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10))+(u&s^u&c^s&c)|0;p=h,h=d,d=l,l=f+g|0,f=c,c=s,s=u,u=g+b|0}t[0]+=u,t[1]+=s,t[2]+=c,t[3]+=f,t[4]+=l,t[5]+=d,t[6]+=h,t[7]+=p,i+=64,o-=64}return i}t.hash=function(e){var t=new o;t.update(e);var n=t.digest();return t.clean(),n}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractHandshake=t.MIN_NONCE=void 0;const a=n(27),u=o(n(413)),s=o(n(694)),c=n(1705),f=n(176),l=n(243);t.MIN_NONCE=0;t.AbstractHandshake=class{encryptWithAd(e,t,n){const r=this.encrypt(e.k,e.n,t,n);return this.setNonce(e,this.incrementNonce(e.n)),r}decryptWithAd(e,t,n){const{plaintext:r,valid:i}=this.decrypt(e.k,e.n,t,n);return this.setNonce(e,this.incrementNonce(e.n)),{plaintext:r,valid:i}}hasKey(e){return!this.isEmptyKey(e.k)}setNonce(e,t){e.n=t}createEmptyKey(){return a.Buffer.alloc(32)}isEmptyKey(e){return this.createEmptyKey().equals(e)}incrementNonce(e){return e+1}nonceToBytes(e){const t=a.Buffer.alloc(12);return t.writeUInt32LE(e,4),t}encrypt(e,t,n,r){const i=this.nonceToBytes(t),o=new c.ChaCha20Poly1305(e).seal(i,r,n);return a.Buffer.from(o.buffer,o.byteOffset,o.length)}encryptAndHash(e,t){let n;return n=this.hasKey(e.cs)?this.encryptWithAd(e.cs,e.h,t):t,this.mixHash(e,n),n}decrypt(e,t,n,r){const i=this.nonceToBytes(t),o=new c.ChaCha20Poly1305(e).open(i,r,n);return o?{plaintext:a.Buffer.from(o.buffer,o.byteOffset,o.length),valid:!0}:{plaintext:a.Buffer.from(""),valid:!1}}decryptAndHash(e,t){let n,r=!0;return this.hasKey(e.cs)?({plaintext:n,valid:r}=this.decryptWithAd(e.cs,e.h,t)):n=t,this.mixHash(e,t),{plaintext:n,valid:r}}dh(e,t){try{const n=u.sharedKey(e,t),r=a.Buffer.from(n.buffer,n.byteOffset,n.length),i=a.Buffer.alloc(32);return r.copy(i),i}catch(e){return l.logger(e.message),a.Buffer.alloc(32)}}mixHash(e,t){e.h=this.getHash(e.h,t)}getHash(e,t){const n=s.hash(a.Buffer.from([...e,...t]));return a.Buffer.from(n.buffer,n.byteOffset,n.length)}mixKey(e,t){const[n,r]=f.getHkdf(e.ck,t);e.cs=this.initializeKey(r),e.ck=n}initializeKey(e){return{k:e,n:t.MIN_NONCE}}initializeSymmetric(e){const t=a.Buffer.from(e,"utf-8"),n=this.hashProtocolName(t),r=n,i=this.createEmptyKey();return{cs:this.initializeKey(i),ck:r,h:n}}hashProtocolName(e){if(e.length<=32){const t=a.Buffer.alloc(32);return e.copy(t),t}return this.getHash(e,a.Buffer.alloc(0))}split(e){const[t,n]=f.getHkdf(e.ck,a.Buffer.alloc(0));return{cs1:this.initializeKey(t),cs2:this.initializeKey(n)}}writeMessageRegular(e,t){const n=this.encryptWithAd(e,a.Buffer.alloc(0),t);return{ne:this.createEmptyKey(),ns:a.Buffer.alloc(0),ciphertext:n}}readMessageRegular(e,t){return this.decryptWithAd(e,a.Buffer.alloc(0),t.ciphertext)}}},function(e,t,n){"use strict";const r=n(304).Entry,{base58btc:i}=n(64);e.exports=class{constructor(e,t,n,i,o){this.entry=new r(e,t,n),this.cancel=Boolean(i),this.sendDontHave=Boolean(o)}get cid(){return this.entry.cid}set cid(e){this.entry.cid=e}get priority(){return this.entry.priority}set priority(e){this.entry.priority=e}get wantType(){return this.entry.wantType}set wantType(e){this.entry.wantType=e}get[Symbol.toStringTag](){return`BitswapMessageEntry ${this.cid.toString(i)} <cancel: ${this.cancel}, priority: ${this.priority}>`}equals(e){return this.cancel===e.cancel&&this.sendDontHave===e.sendDontHave&&this.wantType===e.wantType&&this.entry.equals(e.entry)}}},function(e,t,n){"use strict";var r,i=n(1783),o=n(11),a=n(15),u=n(106),s=n(41),c=n(13),f=n(91),l=n(265),d=n(5),h=n(16),p=n(18),m=n(35),y=n(147),v=n(1784),g=function(e){return e},b=new p.Show((function(e){return"(UUID "+e+")"})),w=function(e){return i.validateV4UUID(e)?d.Just.create(e):d.Nothing.value},E=a.bind(m.bindEffect)(i.getUUIDImpl)((r=o.pure(m.applicativeEffect),function(e){return r(e)})),_=new c.Eq((function(e){return function(t){return e===t}})),S=new h.Ord((function(){return _}),(function(e){return function(t){return h.compare(h.ordString)(e)(t)}})),T=new v.Encode((function(e){return y.unsafeToForeign(e)})),A=new v.Decode((function(e){return a.bind(u.bindExceptT(f.monadIdentity))(y.readString(f.monadIdentity)(e))((t=u.except(f.applicativeIdentity),n=s.note(l.singleton(new y.ForeignError("Failed to parse foreign UUID"))),function(e){return t(n(w(e)))}));var t,n}));e.exports={emptyUUID:"00000000-0000-0000-0000-000000000000",genUUID:E,parseUUID:w,genv3UUID:function(e){return function(t){return i.getUUID3Impl(e)(t)}},genv5UUID:function(e){return function(t){return i.getUUID5Impl(e)(t)}},toString:g,showUUID:b,eqUUID:_,ordUUID:S,decodeUUID:A,encodeUUID:T}},function(e,t,n){"use strict";var r=n(1786),i=n(11),o=n(15),a=n(106),u=n(23),s=n(147),c=function(e,t,n,r){this.errorAt=e,this.hasOwnProperty=t,this.hasProperty=n,this.index=r},f=function(e){this.ix=e},l=function(e){return function(t){return function(n){return r.unsafeReadPropImpl(s.fail(e)(new s.TypeMismatch("object",s.typeOf(n))),i.pure(a.applicativeExceptT(e)),t,n)}}},d=function(e){return l(e)},h=function(e){return l(e)},p=function(e){return e.index},m=function(e){return function(t){return!s.isNull(t)&&(!s.isUndefined(t)&&(("object"===s.typeOf(t)||"function"===s.typeOf(t))&&r.unsafeHasProperty(e,t)))}},y=function(e){return function(t){return!s.isNull(t)&&(!s.isUndefined(t)&&(("object"===s.typeOf(t)||"function"===s.typeOf(t))&&r.unsafeHasOwnProperty(e,t)))}};e.exports={Index:c,Indexable:f,readProp:d,readIndex:h,ix:function(e){return e.ix},index:p,hasProperty:function(e){return e.hasProperty},hasOwnProperty:function(e){return e.hasOwnProperty},errorAt:function(e){return e.errorAt},indexString:function(e){return new c(s.ErrorAtProperty.create,y,m,u.flip(d(e)))},indexInt:function(e){return new c(s.ErrorAtIndex.create,y,m,u.flip(h(e)))},indexableForeign:function(e){return new f((function(e){return p(e)}))},indexableExceptT:function(e){return new f((function(t){return function(n){return function(r){return o.bindFlipped(a.bindExceptT(e))(u.flip(p(t))(r))(n)}}}))}}},function(e,t,n){"use strict";var r,i,o,a,u,s,c,f,l,d,h,p,m,y,v,g,b,w,E,_,S,T,A,P,k,x,C,R,I,O,M,N,D,L=n(15),j=n(333),B=n(106),F=n(41),U=n(23),q=n(2),H=n(91),K=n(5),V=n(79),z=n(264),W=n(147),G=n(698),$=n(95),J=n(192),Q=n(10),Y=n(1792),X=n(700),Z=n(1795),ee=n(1797),te=n(521),ne=n(517),re=n(1798),ie=n(1799),oe=n(1800),ae=n(1801),ue=Q.unsafeCoerce,se=Q.unsafeCoerce,ce=Q.unsafeCoerce,fe=Q.unsafeCoerce,le=function(e){return function(t){return $.handler(e)((function(e){return q.map(K.functorMaybe)(J.Action.create)(t(e))}))}},de=function(e){return function(t){return $.handler(e)((function(e){return new K.Just(new J.Action(t(e)))}))}},he=de("abort"),pe=de(te.change),me=(r=de(oe.click),function(e){return r(ce(e))}),ye=(i=de(oe.dblclick),function(e){return i(ce(e))}),ve=de(te.error),ge=de(te.input),be=de(te.invalid),we=(o=de(ie.keydown),function(e){return o(fe(e))}),Ee=(a=de(ie.keyup),function(e){return a(fe(e))}),_e=de(te.load),Se=(u=de(oe.mousedown),function(e){return u(ce(e))}),Te=(s=de(oe.mouseenter),function(e){return s(ce(e))}),Ae=(c=de(oe.mouseleave),function(e){return c(ce(e))}),Pe=(f=de(oe.mousemove),function(e){return f(ce(e))}),ke=(l=de(oe.mouseout),function(e){return l(ce(e))}),xe=(d=de(oe.mouseover),function(e){return d(ce(e))}),Ce=(h=de(oe.mouseup),function(e){return h(ce(e))}),Re=de("reset"),Ie=de("resize"),Oe=de("scroll"),Me=de(te.select),Ne=de("submit"),De=(p=de("touchcancel"),function(e){return p(se(e))}),Le=(m=de("touchend"),function(e){return m(se(e))}),je=(y=de("touchenter"),function(e){return y(se(e))}),Be=(v=de("touchleave"),function(e){return v(se(e))}),Fe=(g=de("touchmove"),function(e){return g(se(e))}),Ue=(b=de("touchstart"),function(e){return b(se(e))}),qe=de("transitionend"),He=(w=de(ae.wheel),function(e){return w(ue(e))}),Ke=Q.unsafeCoerce,Ve=(E=de(te.blur),function(e){return E(Ke(e))}),ze=(_=de(re.focus),function(e){return _(Ke(e))}),We=(S=de(re.focusin),function(e){return S(Ke(e))}),Ge=(T=de(re.focusout),function(e){return T(Ke(e))}),$e=Q.unsafeCoerce,Je=(A=de(ee.drag),function(e){return A($e(e))}),Qe=(P=de(ee.dragend),function(e){return P($e(e))}),Ye=(k=de(ee.dragenter),function(e){return k($e(e))}),Xe=(x=de(ee.dragexit),function(e){return x($e(e))}),Ze=(C=de(ee.dragleave),function(e){return C($e(e))}),et=(R=de(ee.dragover),function(e){return R($e(e))}),tt=(I=de(ee.dragstart),function(e){return I($e(e))}),nt=(O=de(ee.drop),function(e){return O($e(e))}),rt=Q.unsafeCoerce,it=(M=de(Y.copy),function(e){return M(rt(e))}),ot=(N=de(Y.cut),function(e){return N(rt(e))}),at=(D=de(Y.paste),function(e){return D(rt(e))}),ut=function(e){return function(t){return function(n){return function(r){return le(e)(L.composeKleisli(K.bindMaybe)(X.currentTarget)((function(e){return F.either(U.const(K.Nothing.value))((function(e){return K.Just.create(r(e))}))(j.runExcept((i=e,L.composeKleisliFlipped(B.bindExceptT(H.monadIdentity))(n)(G.readProp(H.monadIdentity)(t))(W.unsafeToForeign(i)))));var i})))}}}},st=ut(te.change)("checked")(W.readBoolean(H.monadIdentity)),ct=ut(te.change)("selectedIndex")(W.readInt(H.monadIdentity)),ft=ut(te.change)("value")(W.readString(H.monadIdentity)),lt=ut(te.input)("value")(W.readString(H.monadIdentity));e.exports={handler:de,"handler'":le,onAbort:he,onError:ve,onLoad:_e,onScroll:Oe,onChange:pe,onFileUpload:function(e){return function(t){return de(te.change)((n=K.maybe(V.none(e))(Z.items(e)),r=L.composeKleisli(K.bindMaybe)(X.target)(L.composeKleisli(K.bindMaybe)(ne.fromEventTarget)((function(e){return z.unsafePerformEffect(ne.files(e))}))),function(e){return t(n(r(e)))}));var n,r}},onInput:ge,onInvalid:be,onReset:Re,onSelect:Me,onSubmit:Ne,onTransitionEnd:qe,onCopy:it,onPaste:at,onCut:ot,onClick:me,onDoubleClick:ye,onMouseDown:Se,onMouseEnter:Te,onMouseLeave:Ae,onMouseMove:Pe,onMouseOver:xe,onMouseOut:ke,onMouseUp:Ce,onWheel:He,onKeyDown:we,onKeyUp:Ee,onBlur:Ve,onFocus:ze,onFocusIn:We,onFocusOut:Ge,onDrag:Je,onDragEnd:Qe,onDragExit:Xe,onDragEnter:Ye,onDragLeave:Ze,onDragOver:et,onDragStart:tt,onDrop:nt,onTouchCancel:De,onTouchEnd:Le,onTouchEnter:je,onTouchLeave:Be,onTouchMove:Fe,onTouchStart:Ue,onResize:Ie,onValueChange:ft,onValueInput:lt,onSelectedIndexChange:ct,onChecked:st}},function(e,t,n){"use strict";var r=n(1793),i=n(76),o=n(13),a=n(5),u=n(26),s=n(55),c=n(16),f=n(1794),l=(n(515),c.ordString),d=new u.Newtype((function(){})),h=o.eqString;e.exports={EventType:function(e){return e},target:function(e){return s.toMaybe(r._target(e))},currentTarget:function(e){return s.toMaybe(r._currentTarget(e))},eventPhase:function(e){var t=a.fromJust(),n=i.toEnum(f.boundedEnumEventPhase);return function(e){return t(n(r.eventPhaseIndex(e)))}},newtypeEventType:d,eqEventType:h,ordEventType:l,type_:r.type_,stopPropagation:r.stopPropagation,stopImmediatePropagation:r.stopImmediatePropagation,bubbles:r.bubbles,cancelable:r.cancelable,preventDefault:r.preventDefault,defaultPrevented:r.defaultPrevented,timeStamp:r.timeStamp}},function(e,t,n){"use strict";var r=n(32),i=n(11),o=n(19),a=n(15),u=n(89),s=n(74),c=n(41),f=n(36),l=n(2),d=n(128),h=n(265),p=n(70),m=n(5),y=n(146),v=n(24),g=n(423),b=function(e){return function(t){return r.alt(g.altParser)(t)(i.pure(g.applicativeParser)(e))}},w=function(e){return function(t){var n=function(n){return r.alt(g.altParser)(function(e){return a.bind(g.bindParser)(t)((function(){return i.pure(g.applicativeParser)(new s.Done(h.reverse(e)))}))}(n))(function(t){return a.bind(g.bindParser)(e)((function(e){return i.pure(g.applicativeParser)(new s.Loop(h.cons(e)(t)))}))}(n))};return a.bind(g.bindParser)(e)((function(e){return s.tailRecM(g.monadRecParser)(n)(i.pure(p.applicativeNonEmptyList)(e))}))}},E=d.manyRec(g.monadRecParser)(g.alternativeParser),_=function(e){return function(t){return new y.NonEmpty(e,t)}},S=function(e){return o.apply(g.applyParser)(l.map(g.functorParser)(_)(e))(E(e))},T=function(e){return function(t){return a.bind(g.bindParser)(e)((function(n){return a.bind(g.bindParser)(E(o.applySecond(g.applyParser)(t)(e)))((function(e){return i.pure(g.applicativeParser)(_(n)(e))}))}))}},A=function(e){return function(t){return a.bind(g.bindParser)(e)((function(n){return r.alt(g.altParser)(a.bind(g.bindParser)(t)((function(){return a.bind(g.bindParser)(P(e)(t))((function(e){return i.pure(g.applicativeParser)(_(n)(e))}))})))(i.pure(g.applicativeParser)(h.singleton(n)))}))}},P=function(e){return function(t){return r.alt(g.altParser)(l.map(g.functorParser)(h.toList)(A(e)(t)))(i.pure(g.applicativeParser)(p.Nil.value))}},k=function(e){return function(t){return function(n){return r.alt(g.altParser)(a.bind(g.bindParser)(t)((function(r){return a.bind(g.bindParser)(x(e)(t))((function(e){return i.pure(g.applicativeParser)(r(n)(e))}))})))(i.pure(g.applicativeParser)(n))}}},x=function(e){return function(t){return a.bind(g.bindParser)(e)((function(n){return k(e)(t)(n)}))}},C=function(e){return function(t){return function(n){return r.alt(g.altParser)(a.bind(g.bindParser)(t)((function(r){return a.bind(g.bindParser)(e)((function(i){return C(e)(t)(r(n)(i))}))})))(i.pure(g.applicativeParser)(n))}}},R=function(e){return function(t){return a.bind(g.bindParser)(e)((function(n){return C(e)(t)(n)}))}};e.exports={lookAhead:function(e){return function(t){var n=e(t);return n instanceof c.Right?new c.Right({result:n.value0.result,suffix:t}):n}},many:E,many1:S,withError:function(e){return function(t){return r.alt(g.altParser)(e)(g.fail(t))}},between:function(e){return function(t){return function(n){return o.applyFirst(g.applyParser)(o.applySecond(g.applyParser)(e)(n))(t)}}},option:b,optional:function(e){return r.alt(g.altParser)(a.bind(g.bindParser)(e)((function(e){return i.pure(g.applicativeParser)(v.unit)})))(i.pure(g.applicativeParser)(v.unit))},optionMaybe:function(e){return b(m.Nothing.value)(l.map(g.functorParser)(m.Just.create)(e))},sepBy:function(e){return function(t){return r.alt(g.altParser)(l.map(g.functorParser)(h.toList)(T(e)(t)))(i.pure(g.applicativeParser)(p.Nil.value))}},sepBy1:T,sepEndBy:P,sepEndBy1:A,endBy1:function(e){return function(t){return S(o.applyFirst(g.applyParser)(e)(t))}},endBy:function(e){return function(t){return E(o.applyFirst(g.applyParser)(e)(t))}},chainr:function(e){return function(t){return function(n){return r.alt(g.altParser)(x(e)(t))(i.pure(g.applicativeParser)(n))}}},chainl:function(e){return function(t){return function(n){return r.alt(g.altParser)(R(e)(t))(i.pure(g.applicativeParser)(n))}}},chainl1:R,"chainl1'":C,chainr1:x,"chainr1'":k,choice:function(e){return f.foldl(e)(r.alt(g.altParser))(g.fail("Nothing to parse"))},manyTill:function(e){return function(t){return r.alt(g.altParser)(o.applySecond(g.applyParser)(t)(i.pure(g.applicativeParser)(p.Nil.value)))(l.map(g.functorParser)(h.toList)(w(e)(t)))}},many1Till:w,fix:u.fix}},function(e,t){e.exports=function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(n){!t.hasOwnProperty(n)||null===t[n]||"object"!=typeof t[n]&&"function"!=typeof t[n]||Object.isFrozen(t[n])||e(t[n])})),t}},function(e,t,n){var r=n(752),i=n(753),o=n(756),a=n(757),u=n(758),s={any:function(){return"true"},null:function(e){return e+" === null"},boolean:function(e){return"typeof "+e+' === "boolean"'},array:function(e){return"Array.isArray("+e+")"},object:function(e){return"typeof "+e+' === "object" && '+e+" && !Array.isArray("+e+")"},number:function(e){return"typeof "+e+' === "number" && isFinite('+e+")"},integer:function(e){return"typeof "+e+' === "number" && (Math.floor('+e+") === "+e+" || "+e+" > 9007199254740992 || "+e+" < -9007199254740992)"},string:function(e){return"typeof "+e+' === "string"'}},c=function(e,t){t=Math.min(-1===t?e.length:t,e.length);for(var n=[],r=0;r<t;r++)n.push("object"==typeof e[r]?JSON.stringify(e[r]):e[r]);for(r=1;r<n.length;r++)if(n.indexOf(n[r])!==r)return!1;return!0},f=function(e,t){var n,r=(0|t)!==t?Math.pow(10,t.toString().split(".").pop().length):1;r>1?n=((0|e)!==e?Math.pow(10,e.toString().split(".").pop().length):1)>r||Math.round(r*e)%(r*t):n=e%t;return!n},l=function(e,t,n){return n>-1&&t.length>n||e.test(t)},d=function(e,t,n,h,p){var m=p?a(u,p.formats):u,y={unique:c,formats:m,isMultipleOf:f,testLimitedRegex:l},v=!!p&&!!p.verbose,g=!(!p||void 0===p.greedy)&&p.greedy,b={},w=[],E=function(e){var t=e+(b[e]=(b[e]||0)+1);return w.push(t),t},_=function(e){var t=JSON.stringify(e);try{for(var n=/\[([^\[\]"]+)\]/;n.test(t);)t=t.replace(n,r);return t}catch(t){return JSON.stringify(e)}function r(e,t){if(-1===w.indexOf(t))throw new Error("Unreplaceable");return'." + '+t+' + "'}},S={},T=function(e){if(S[e])return S[e];var t=E("pattern");return y[t]=new RegExp(e),S[e]=t,t},A=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],P=function(){var e=A.shift();return A.push(e+e[0]),w.push(e),e},k=function(e,i,a,c,f){var l=i.properties,h=i.type,b=!1;Array.isArray(i.items)&&(l={},i.items.forEach((function(e,t){l[t]=e})),h="array",b=!0);var w=0,S=function(t,n,r){x("errors++"),!0===a&&(x("if (validate.errors === null) validate.errors = []"),v?x("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",_(n||e),JSON.stringify(t),r||e,JSON.stringify(h),JSON.stringify(f)):x("validate.errors.push({field:%s,message:%s})",_(n||e),JSON.stringify(t)))};!0===i.required?(w++,x("if (%s === undefined) {",e),S("is required"),x("} else {")):(w++,x("if (%s !== undefined) {",e));var A=[].concat(h).map((function(t){if(t&&!s.hasOwnProperty(t))throw new Error("Unknown type: "+t);return s[t||"any"](e)})).join(" || ")||"true";if("true"!==A&&(w++,x("if (!(%s)) {",A),S("is the wrong type"),x("} else {")),b)if(!1===i.additionalItems)x("if (%s.length > %d) {",e,i.items.length),S("has additional items"),x("}");else if(i.additionalItems){var C=P();x("for (var %s = %d; %s < %s.length; %s++) {",C,i.items.length,C,e,C),k(e+"["+C+"]",i.additionalItems,a,c,f.concat("additionalItems")),x("}")}if(i.format&&m[i.format]){"string"!==h&&u[i.format]&&x("if (%s) {",s.string(e));var R=E("format");y[R]=m[i.format],"function"==typeof y[R]?x("if (!%s(%s)) {",R,e):x("if (!testLimitedRegex(%s, %s, %d)) {",R,e,void 0===i.maxLength?-1:i.maxLength),S("must be "+i.format+" format"),x("}"),"string"!==h&&u[i.format]&&x("}")}if(Array.isArray(i.required)){R=E("missing");x("var %s = 0",R);x("if ((%s)) {","object"!==h?s.object(e):"true"),i.required.map((function(t){var n=r(e,t);x("if (%s === undefined) {",n),S("is required",n),x("%s++",R),x("}")})),x("}"),g||(x("if (%s === 0) {",R),w++)}if(i.uniqueItems&&("array"!==h&&x("if (%s) {",s.array(e)),x("if (!(unique(%s, %d))) {",e,i.maxItems||-1),S("must be unique"),x("}"),"array"!==h&&x("}")),i.enum){var I=i.enum.some((function(e){return"object"==typeof e}))?function(t){return"JSON.stringify("+e+") !== JSON.stringify("+JSON.stringify(t)+")"}:function(t){return e+" !== "+JSON.stringify(t)};x("if (%s) {",i.enum.map(I).join(" && ")||"false"),S("must be an enum value"),x("}")}if(i.dependencies&&("object"!==h&&x("if (%s) {",s.object(e)),Object.keys(i.dependencies).forEach((function(t){var n=i.dependencies[t];"string"==typeof n&&(n=[n]);Array.isArray(n)&&(x("if (%s !== undefined && !(%s)) {",r(e,t),n.map((function(t){return r(e,t)+" !== undefined"})).join(" && ")||"true"),S("dependencies not set"),x("}")),"object"==typeof n&&(x("if (%s !== undefined) {",r(e,t)),k(e,n,a,c,f.concat(["dependencies",t])),x("}"))})),"object"!==h&&x("}")),i.additionalProperties||!1===i.additionalProperties){"object"!==h&&x("if (%s) {",s.object(e));C=P();var O=E("keys"),M=Object.keys(l||{}).map((function(e){return O+"["+C+"] !== "+JSON.stringify(e)})).concat(Object.keys(i.patternProperties||{}).map((function(e){return"!"+T(e)+".test("+O+"["+C+"])"}))).join(" && ")||"true";x("var %s = Object.keys(%s)",O,e)("for (var %s = 0; %s < %s.length; %s++) {",C,C,O,C)("if (%s) {",M),!1===i.additionalProperties?(c&&x("delete %s",e+"["+O+"["+C+"]]"),S("has additional properties",null,JSON.stringify(e+".")+" + "+O+"["+C+"]")):k(e+"["+O+"["+C+"]]",i.additionalProperties,a,c,f.concat(["additionalProperties"])),x("}")("}"),"object"!==h&&x("}")}if(i.$ref){var N=function(e,t,n){var r=function(e){return e&&e.id===n?e:"object"==typeof e&&e?Object.keys(e).reduce((function(t,n){return t||r(e[n])}),null):null},i=r(e);if(i)return i;n=(n=n.replace(/^#/,"")).replace(/\/$/,"");try{return o.get(e,decodeURI(n))}catch(e){var a,u=n.indexOf("#");if(0!==u)if(-1===u)a=t[n];else{a=t[n.slice(0,u)];var s=n.slice(u).replace(/^#/,"");try{return o.get(a,s)}catch(e){}}else a=t[n];return a||null}}(n,p&&p.schemas||{},i.$ref);if(N){var D=t[i.$ref];D||(t[i.$ref]=function(e){return D(e)},D=d(N,t,n,!1,p));R=E("ref");y[R]=D,x("if (!(%s(%s))) {",R,e),S("referenced schema does not match"),x("}")}}if(i.not){var L=E("prev");x("var %s = errors",L),k(e,i.not,!1,c,f.concat("not")),x("if (%s === errors) {",L),S("negative schema matches"),x("} else {")("errors = %s",L)("}")}if(i.items&&!b){"array"!==h&&x("if (%s) {",s.array(e));C=P();x("for (var %s = 0; %s < %s.length; %s++) {",C,C,e,C),k(e+"["+C+"]",i.items,a,c,f.concat("items")),x("}"),"array"!==h&&x("}")}if(i.patternProperties){"object"!==h&&x("if (%s) {",s.object(e));O=E("keys"),C=P();x("var %s = Object.keys(%s)",O,e)("for (var %s = 0; %s < %s.length; %s++) {",C,C,O,C),Object.keys(i.patternProperties).forEach((function(t){var n=T(t);x("if (%s.test(%s)) {",n,O+"["+C+"]"),k(e+"["+O+"["+C+"]]",i.patternProperties[t],a,c,f.concat(["patternProperties",t])),x("}")})),x("}"),"object"!==h&&x("}")}if(i.pattern){var j=T(i.pattern);"string"!==h&&x("if (%s) {",s.string(e)),x("if (!(testLimitedRegex(%s, %s, %d))) {",j,e,void 0===i.maxLength?-1:i.maxLength),S("pattern mismatch"),x("}"),"string"!==h&&x("}")}if(i.allOf&&i.allOf.forEach((function(t,n){k(e,t,a,c,f.concat(["allOf",n]))})),i.anyOf&&i.anyOf.length){L=E("prev");i.anyOf.forEach((function(t,n){0===n?x("var %s = errors",L):x("if (errors !== %s) {",L)("errors = %s",L),k(e,t,!1,!1,f)})),i.anyOf.forEach((function(e,t){t&&x("}")})),x("if (%s !== errors) {",L),S("no schemas match"),x("}")}if(i.oneOf&&i.oneOf.length){L=E("prev");var B=E("passes");x("var %s = errors",L)("var %s = 0",B),i.oneOf.forEach((function(t,n){k(e,t,!1,!1,f),x("if (%s === errors) {",L)("%s++",B)("} else {")("errors = %s",L)("}")})),x("if (%s !== 1) {",B),S("no (or more than one) schemas match"),x("}")}for(void 0!==i.multipleOf&&("number"!==h&&"integer"!==h&&x("if (%s) {",s.number(e)),x("if (!isMultipleOf(%s, %d)) {",e,i.multipleOf),S("has a remainder"),x("}"),"number"!==h&&"integer"!==h&&x("}")),void 0!==i.maxProperties&&("object"!==h&&x("if (%s) {",s.object(e)),x("if (Object.keys(%s).length > %d) {",e,i.maxProperties),S("has more properties than allowed"),x("}"),"object"!==h&&x("}")),void 0!==i.minProperties&&("object"!==h&&x("if (%s) {",s.object(e)),x("if (Object.keys(%s).length < %d) {",e,i.minProperties),S("has less properties than allowed"),x("}"),"object"!==h&&x("}")),void 0!==i.maxItems&&("array"!==h&&x("if (%s) {",s.array(e)),x("if (%s.length > %d) {",e,i.maxItems),S("has more items than allowed"),x("}"),"array"!==h&&x("}")),void 0!==i.minItems&&("array"!==h&&x("if (%s) {",s.array(e)),x("if (%s.length < %d) {",e,i.minItems),S("has less items than allowed"),x("}"),"array"!==h&&x("}")),void 0!==i.maxLength&&("string"!==h&&x("if (%s) {",s.string(e)),x("if (%s.length > %d) {",e,i.maxLength),S("has longer length than allowed"),x("}"),"string"!==h&&x("}")),void 0!==i.minLength&&("string"!==h&&x("if (%s) {",s.string(e)),x("if (%s.length < %d) {",e,i.minLength),S("has less length than allowed"),x("}"),"string"!==h&&x("}")),void 0!==i.minimum&&("number"!==h&&"integer"!==h&&x("if (%s) {",s.number(e)),x("if (%s %s %d) {",e,i.exclusiveMinimum?"<=":"<",i.minimum),S("is less than minimum"),x("}"),"number"!==h&&"integer"!==h&&x("}")),void 0!==i.maximum&&("number"!==h&&"integer"!==h&&x("if (%s) {",s.number(e)),x("if (%s %s %d) {",e,i.exclusiveMaximum?">=":">",i.maximum),S("is more than maximum"),x("}"),"number"!==h&&"integer"!==h&&x("}")),l&&Object.keys(l).forEach((function(t){Array.isArray(h)&&-1!==h.indexOf("null")&&x("if (%s !== null) {",e),k(r(e,t),l[t],a,c,f.concat(b?t:["properties",t])),Array.isArray(h)&&-1!==h.indexOf("null")&&x("}")}));w--;)x("}")},x=i("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return k("data",e,h,p&&p.filter,[]),x("return errors === 0")("}"),(x=x.toFunction(y)).errors=null,Object.defineProperty&&Object.defineProperty(x,"error",{get:function(){return x.errors?x.errors.map((function(e){return e.field+" "+e.message})).join("\n"):""}}),x.toJSON=function(){return e},x};e.exports=function(e,t){return"string"==typeof e&&(e=JSON.parse(e)),d(e,{},e,!0,t)},e.exports.filter=function(t,n){var r=e.exports(t,a(n,{filter:!0}));return function(e){return r(e),e}}},function(e,t){e.exports=!1},function(e,t){},function(e,t,n){var r;e.exports=(r=n(140),r.enc.Utf8)},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=r(n(424)),o=r(n(846)),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e,t){Object.keys(e).forEach((function(n){t(e[n],n)}))},c=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},f=function(e){return Array.isArray(e)},l=s,d=function(e){return f(e)&&!c(e)},h=function(e){return!!e&&("number"!=typeof e&&("string"!=typeof e&&("boolean"!=typeof e&&(!d(e)&&(null!==e&&(!(e instanceof RegExp)&&("function"!=typeof e&&(!(e instanceof Date)&&!c(e)))))))))},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&t.field&&(e+=" for field '"+t.field+"'");var n=new Error(e);return n.name="ModifyJsError",n},m=function(e,t){return e.every((function(e){return t&&t(e)||e}))},y=s,v=function(e){return Object.keys(e)},g=function(e){return"object"===(void 0===e?"undefined":a(e))&&null!==e},b=function(e,t,n){if(n=n||{},!h(t))throw p("Modifier must be an object");var r;if(function(e,t){if(!h(e))return!1;var n=void 0;return l(e,(function(r,i){var o="$"===i.substr(0,1);if(void 0===n)n=o;else if(n!==o){if(!t)throw new Error("Inconsistent operator: "+JSON.stringify(e));n=!1}})),!!n}(t=i(t))?(r=i(e),y(t,(function(e,t){var i=_[t];if(!i)throw p("Invalid modifier specified "+t);y(e,(function(e,o){if(""===o)throw p("An empty update path is not valid.");var a=o.split(".");if(!m(a))throw p("The update path '"+o+"' contains an empty field name, which is not allowed.");var u=w(r,a,{noCreate:E[t],forbidArray:"$rename"===t,arrayIndices:n.arrayIndices}),s=a.pop();i(u,s,e,o,r)}))}))):r=t,n.returnInsteadOfReplacing)return r;y(v(e),(function(t){"_id"!==t&&delete e[t]})),y(r,(function(t,n){e[n]=t}))},w=function(e,t,n){n=n||{};for(var r,i=!1,o=0;o<t.length;o++){var u=o===t.length-1,s=t[o];if(!(d(r=e)||h(r))){if(n.noCreate)return;var c=p("cannot use the part '"+s+"' to traverse "+e);throw c.setPropertyError=!0,c}if(e instanceof Array){if(n.forbidArray)return null;if("$"===s){if(i)throw p("Too many positional (i.e. '$') elements");if(!n.arrayIndices||!n.arrayIndices.length)throw p("The positional operator did not find the match needed from the query");s=n.arrayIndices[0],i=!0}else{if(!/^[0-9]+$/.test(s)){if(n.noCreate)return;throw p("can't append to array using string field name ["+s+"]")}s=parseInt(s)}if(u&&(t[o]=s),n.noCreate&&s>=e.length)return;for(;e.length<s;)e.push(null);if(!u)if(e.length===s)e.push({});else if("object"!==a(e[s]))throw p("can't modify field '"+t[o+1]+"' of list value "+JSON.stringify(e[s]))}else if(!(s in e)){if(n.noCreate)return;u||(e[s]={})}if(u)return e;e=e[s]}},E={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},_={$currentDate:function(e,t,n){if("object"===(void 0===n?"undefined":a(n))&&n.hasOwnProperty("$type")){if("date"!==n.$type)throw p("Minimongo does currently only support the date type in $currentDate modifiers",{field:t})}else if(!0!==n)throw p("Invalid $currentDate modifier",{field:t});e[t]=new Date},$min:function(e,t,n){if("number"!=typeof n)throw p("Modifier $min allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw p("Cannot apply $min modifier to non-number",{field:t});e[t]>n&&(e[t]=n)}else e[t]=n},$max:function(e,t,n){if("number"!=typeof n)throw p("Modifier $max allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw p("Cannot apply $max modifier to non-number",{field:t});e[t]<n&&(e[t]=n)}else e[t]=n},$inc:function(e,t,n){if("number"!=typeof n)throw p("Modifier $inc allowed for numbers only",{field:t});if(t in e){if("number"!=typeof e[t])throw p("Cannot apply $inc modifier to non-number",{field:t});e[t]+=n}else e[t]=n},$set:function(e,t,n){var r;if(!g(e))throw(r=p("Cannot set property on non-object field",{field:t})).setPropertyError=!0,r;if(null===e)throw(r=p("Cannot set property on null",{field:t})).setPropertyError=!0,r;e[t]=n},$setOnInsert:function(e,t,n){},$unset:function(e,t,n){void 0!==e&&(e instanceof Array?t in e&&(e[t]=null):delete e[t])},$push:function(e,t,n){if(void 0===e[t]&&(e[t]=[]),!(e[t]instanceof Array))throw p("Cannot apply $push modifier to non-array",{field:t});if(n&&n.$each){var r=n.$each;if(!(r instanceof Array))throw p("$each must be an array",{field:t});var i=void 0;if("$position"in n){if("number"!=typeof n.$position)throw p("$position must be a numeric value",{field:t});if(n.$position<0)throw p("$position in $push must be zero or positive",{field:t});i=n.$position}var o=void 0;if("$slice"in n){if("number"!=typeof n.$slice)throw p("$slice must be a numeric value",{field:t});if(n.$slice>0)throw p("$slice in $push must be zero or negative",{field:t});o=n.$slice}if(n.$sort)throw p("$sort in $push not implemented yet");if(void 0===i)for(var a=0;a<r.length;a++)e[t].push(r[a]);else{var u=[i,0];for(a=0;a<r.length;a++)u.push(r[a]);Array.prototype.splice.apply(e[t],u)}void 0,void 0!==o&&(e[t]=0===o?[]:e[t].slice(o))}else e[t].push(n)},$pushAll:function(e,t,n){if(!("object"===(void 0===n?"undefined":a(n))&&n instanceof Array))throw p("Modifier $pushAll/pullAll allowed for arrays only");var r=e[t];if(void 0===r)e[t]=n;else{if(!(r instanceof Array))throw p("Cannot apply $pushAll modifier to non-array",{field:t});for(var i=0;i<n.length;i++)r.push(n[i])}},$addToSet:function(e,t,n){var r=!1;"object"===(void 0===n?"undefined":a(n))&&("$each"===Object.keys(n)[0]&&(r=!0));var i=r?n.$each:[n],u=e[t];if(void 0===u)e[t]=i;else{if(!(u instanceof Array))throw p("Cannot apply $addToSet modifier to non-array",{field:t});y(i,(function(e){for(var t=0;t<u.length;t++)if(o(e,u[t]))return;u.push(e)}))}},$pop:function(e,t,n){if(void 0!==e){var r=e[t];if(void 0!==r){if(!(r instanceof Array))throw p("Cannot apply $pop modifier to non-array",{field:t});"number"==typeof n&&n<0?r.splice(0,1):r.pop()}}},$pull:function(e,t,n){if(void 0!==e){var r=e[t];if(void 0!==r)throw r instanceof Array?p("$pull not implemented yet"):p("Cannot apply $pull/pullAll modifier to non-array",{field:t})}},$pullAll:function(e,t,n){if(!("object"===(void 0===n?"undefined":a(n))&&n instanceof Array))throw p("Modifier $pushAll/pullAll allowed for arrays only",{field:t});if(void 0!==e){var r=e[t];if(void 0!==r){if(!(r instanceof Array))throw p("Cannot apply $pull/pullAll modifier to non-array",{field:t});for(var i=[],u=0;u<r.length;u++){for(var s=!1,c=0;c<n.length;c++)if(o(r[u],n[c])){s=!0;break}s||i.push(r[u])}e[t]=i}}},$rename:function(e,t,n,r,i){if(r===n)throw p("$rename source must differ from target",{field:t});if(null===e)throw p("$rename source field invalid",{field:t});if("string"!=typeof n)throw p("$rename target must be a string",{field:t});if(n.indexOf("\0")>-1)throw p("The 'to' field for $rename cannot contain an embedded null byte",{field:t});if(void 0!==e){var o=e[t];delete e[t];var a=n.split("."),u=w(i,a,{forbidArray:!0});if(null===u)throw p("$rename target field invalid",{field:t});u[a.pop()]=o}},$bit:function(e,t,n){throw p("$bit is not supported",{field:t})}};e.exports=function(e,t,n){if(!n||!n.each)return b(e,t,u({},n,{returnInsteadOfReplacing:!0}))}},,function(e,t,n){var r=n(710);window||(window={}),window.global=window,window.process={env:{DEBUG:void 0}};var i=document.querySelector("#halogen-app");i&&(i.innerHTML=""),window.Main=r,window.Main.main(),console.log("app starting")},function(e,t,n){"use strict";var r=n(711),i=n(11),o=n(15),a=n(100),u=n(185),s=n(13),c=n(36),f=n(2),l=n(5),d=n(24),h=n(35),p=n(108),m=n(58),y=n(160),v=n(891),g=n(522),b=n(1037),w=n(1061),E=n(1085),_=n(224),S=n(166),T=n(357),A=function(e){return u.toAffE(r.initRxDB(e))},P=function(e){return u.toAffE(r.getTopicCollection(e))},k=function(e){return u.toAffE(r.getNotesCollection(e))},x=function(e){return u.toAffE(r.getFileCollection(e))},C=o.discard(o.discardUnit)(p.bindAff)(v.awaitLoad)((function(){return o.bind(p.bindAff)(v.selectElement("#halogen-app"))((function(e){return l.maybe(a.throwError(p.monadThrowAff)(y.error("找不到根节点！")))(i.pure(p.applicativeAff))(e)}))})),R=v.runHalogenAff(o.bind(p.bindAff)(A(d.unit))((function(e){return o.bind(p.bindAff)(k(e))((function(t){return o.bind(p.bindAff)(P(e))((function(n){return o.bind(p.bindAff)(x(e))((function(e){var r={ipfs:l.Nothing.value,collTopic:n,collNote:t,collFile:e};return o.bind(p.bindAff)(w.runAppM(r)(E.component(w.monadAffAppM)(w.navigateAppM)(w.manageTopicAppM)(w.nowAppM)(w.monadStoreAppM)))((function(e){return o.bind(p.bindAff)(C)((function(t){return o.bind(p.bindAff)(b.runUI(e)(d.unit)(t))((function(e){return f.void(p.functorAff)(m.liftEffect(p.monadEffectAff)(T.matchesWith(c.foldableEither)(S.parse(_.routeCodec))((function(t){return function(n){return i.when(h.applicativeEffect)(s.notEq(l.eqMaybe(_.eqRoute))(t)(new l.Just(n)))(p.launchAff_(e.query(g.mkTell(E.Navigate.create(n)))))}}))))}))}))}))}))}))}))})));e.exports={initRxDBA:A,getNotesCollectionA:k,getTopicCollectionA:P,getFileCollectionA:x,awaitRoot:C,main:R,initRxDB:r.initRxDB,getNotesCollection:r.getNotesCollection,getTopicCollection:r.getTopicCollection,getFileCollection:r.getFileCollection}},function(e,t,n){var r=n(306),i=r.getRxStoragePouch,o=r.createRxDatabase,a=r.addPouchPlugin,u=n(1822);t.initRxDB=function(){return function(){return a(u),window.db?Promise.resolve(window.db):o({name:"ais",storage:i("idb"),password:"myPassword",multiInstance:!0,eventReduce:!1}).then((function(e){return window.db=e,e.addCollections({topic:{schema:{version:0,primaryKey:"id",title:"笔记主题",type:"object",properties:{id:{type:"string"},name:{type:"string"},created:{type:"integer"},updated:{type:"integer"},noteIds:{type:"array",uniqueItems:!0,items:{type:"string"}}},required:["id"],indexes:["updated","created"]}},notes:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string"},content:{type:"string"},created:{type:"integer"},updated:{type:"integer"},childrenIds:{type:"array",uniqueItems:!0,items:{type:"string"}}}}},file:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string"},cid:{type:"string"},mime:{type:"string",default:"unknow"},type:{type:"string"},created:{type:"integer"},updated:{type:"integer"},childrenIds:{type:"array",uniqueItems:!0,items:{type:"string"}}}}}}).then((function(){return e}))}))}},t.getNotesCollection=function(e){return function(){return window.notes?Promise.resolve(window.notes):e.collections.notes?(window.notes=e.collections.notes,Promise.resolve(window.notes)):Promise.reject("note collection not exist！")}},t.getTopicCollection=function(e){return function(){return window.collTopic?Promise.resolve(window.collTopic):e.collections.topic?(window.collTopic=e.collections.topic,Promise.resolve(window.collTopic)):Promise.reject("topic collection not exist！")}},t.getFileCollection=function(e){return function(){return window.collFile?Promise.resolve(window.collFile):e.collections.file?(window.collFile=e.collections.file,Promise.resolve(window.collFile)):Promise.reject("file collection not exist！")}}},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(430),u=Object.prototype.propertyIsEnumerable,s=!u.call({toString:null},"toString"),c=u.call((function(){}),"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{l(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),r=a(e),u=t&&"[object String]"===o.call(e),d=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var p=c&&n;if(u&&e.length>0&&!i.call(e,0))for(var m=0;m<e.length;++m)d.push(String(m));if(r&&e.length>0)for(var y=0;y<e.length;++y)d.push(String(y));else for(var v in e)p&&"prototype"===v||!i.call(e,v)||d.push(String(v));if(s)for(var g=function(e){if("undefined"==typeof window||!h)return l(e);try{return l(e)}catch(e){return!1}}(e),b=0;b<f.length;++b)g&&"constructor"===f[b]||!i.call(e,f[b])||d.push(f[b]);return d}}e.exports=r},function(e,t,n){"use strict";var r="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==o.call(t))throw new TypeError(r+t);for(var n,a=i.call(arguments,1),u=function(){if(this instanceof n){var r=t.apply(this,a.concat(i.call(arguments)));return Object(r)===r?r:this}return t.apply(e,a.concat(i.call(arguments)))},s=Math.max(0,t.length-a.length),c=[],f=0;f<s;f++)c.push("$"+f);if(n=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(u),t.prototype){var l=function(){};l.prototype=t.prototype,n.prototype=new l,l.prototype=null}return n}},function(e,t,n){"use strict";var r=n(311);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=n(433),i=n(158);e.exports=function(){var e=r();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},function(e,t,n){"use strict";var r=n(158).supportsDescriptors,i=n(437),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,u=TypeError,s=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!r||!s)throw new u("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=s(c),n=o(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,n){"use strict";var r=n(440),i=n(723),o=n(724),a=n(725),u=n(726);e.exports=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e?null:r(e)?"String":i(e)?"Number":o(e)?"Boolean":a(e)?"Symbol":u(e)?"BigInt":void 0}},function(e,t,n){"use strict";var r=Number.prototype.toString,i=Object.prototype.toString,o="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"number"==typeof e||"object"==typeof e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Number]"===i.call(e))}},function(e,t,n){"use strict";var r=n(124),i=r("Boolean.prototype.toString"),o=r("Object.prototype.toString"),a="function"==typeof Symbol&&!!Symbol.toStringTag;e.exports=function(e){return"boolean"==typeof e||null!==e&&"object"==typeof e&&(a&&Symbol.toStringTag in e?function(e){try{return i(e),!0}catch(e){return!1}}(e):"[object Boolean]"===o(e))}},function(e,t,n){"use strict";var r=Object.prototype.toString;if(n(209)()){var i=Symbol.prototype.toString,o=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==r.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&o.test(i.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},function(e,t,n){"use strict";if("function"==typeof BigInt){var r=BigInt.prototype.valueOf;e.exports=function(e){return null!=e&&"boolean"!=typeof e&&"string"!=typeof e&&"number"!=typeof e&&"symbol"!=typeof e&&"function"!=typeof e&&("bigint"==typeof e||function(e){try{return r.call(e),!0}catch(e){}return!1}(e))}}else e.exports=function(e){return!1}},function(e,t,n){"use strict";var r=n(441),i=n(442),o=n(728),a=n(729);e.exports=function(e){if(e&&"object"==typeof e){if(r(e))return"Map";if(i(e))return"Set";if(o(e))return"WeakMap";if(a(e))return"WeakSet"}return!1}},function(e,t,n){"use strict";var r,i="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,o="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;i||(r=function(e){return!1});var a=i?i.prototype.has:null,u=o?o.prototype.has:null;r||a||(r=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!=typeof e)return!1;try{if(a.call(e,a),u)try{u.call(e,u)}catch(e){return!0}return e instanceof i}catch(e){}return!1}},function(e,t,n){"use strict";var r,i="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,o="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;i||(r=function(e){return!1});var a=i?i.prototype.has:null,u=o?o.prototype.has:null;r||u||(e.exports=function(e){return!1}),e.exports=r||function(e){if(!e||"object"!=typeof e)return!1;try{if(u.call(e,u),a)try{a.call(e,a)}catch(e){return!0}return e instanceof o}catch(e){}return!1}},function(e,t,n){"use strict";(function(t){var r=n(310);if(n(209)()||n(247)()){var i=Symbol.iterator;e.exports=function(e){return null!=e&&void 0!==e[i]?e[i]():r(e)?Array.prototype[i].call(e):void 0}}else{var o=n(438),a=n(440),u=n(180),s=u("%Map%",!0),c=u("%Set%",!0),f=n(124),l=f("Array.prototype.push"),d=f("String.prototype.charCodeAt"),h=f("String.prototype.slice"),p=function(e){var t=0;return{next:function(){var n,r=t>=e.length;return r||(n=e[t],t+=1),{done:r,value:n}}}},m=function(e,t){if(o(e)||r(e))return p(e);if(a(e)){var n=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var n=d(e,t);if(n<55296||n>56319)return t+1;var r=d(e,t+1);return r<56320||r>57343?t+1:t+2}(e,n),r=h(e,n,t);return n=t,{done:t>e.length,value:r}}}}return t&&void 0!==e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(s||c){var y=n(441),v=n(442),g=f("Map.prototype.forEach",!0),b=f("Set.prototype.forEach",!0);if(void 0===t||!t.versions||!t.versions.node)var w=f("Map.prototype.iterator",!0),E=f("Set.prototype.iterator",!0),_=function(e){var t=!1;return{next:function(){try{return{done:t,value:t?void 0:e.next()}}catch(e){return t=!0,{done:!0,value:void 0}}}}};var S=f("Map.prototype.@@iterator",!0)||f("Map.prototype._es6-shim iterator_",!0),T=f("Set.prototype.@@iterator",!0)||f("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(y(e)){if(w)return _(w(e));if(S)return S(e);if(g){var t=[];return g(e,(function(e,n){l(t,[n,e])})),p(t)}}if(v(e)){if(E)return _(E(e));if(T)return T(e);if(b){var n=[];return b(e,(function(e){l(n,e)})),p(n)}}}(e)||m(e)}}else e.exports=function(e){if(null!=e)return m(e,!0)}}}).call(this,n(49))},function(e,t,n){"use strict";var r=n(180),i=n(124),o=n(732),a=r("%TypeError%"),u=r("%WeakMap%",!0),s=r("%Map%",!0),c=i("WeakMap.prototype.get",!0),f=i("WeakMap.prototype.set",!0),l=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),h=i("Map.prototype.set",!0),p=i("Map.prototype.has",!0),m=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+o(e))},get:function(r){if(u&&r&&("object"==typeof r||"function"==typeof r)){if(e)return c(e,r)}else if(s){if(t)return d(t,r)}else if(n)return function(e,t){var n=m(e,t);return n&&n.value}(n,r)},has:function(r){if(u&&r&&("object"==typeof r||"function"==typeof r)){if(e)return l(e,r)}else if(s){if(t)return p(t,r)}else if(n)return function(e,t){return!!m(e,t)}(n,r);return!1},set:function(r,i){u&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new u),f(e,r,i)):s?(t||(t=new s),h(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=m(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r}},function(e,t,n){var r="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"==typeof i.get?i.get:null,a=r&&Map.prototype.forEach,u="function"==typeof Set&&Set.prototype,s=Object.getOwnPropertyDescriptor&&u?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=u&&s&&"function"==typeof s.get?s.get:null,f=u&&Set.prototype.forEach,l="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,h="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,m=Object.prototype.toString,y=Function.prototype.toString,v=String.prototype.match,g="function"==typeof BigInt?BigInt.prototype.valueOf:null,b=Object.getOwnPropertySymbols,w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,E="function"==typeof Symbol&&"object"==typeof Symbol.iterator,_=Object.prototype.propertyIsEnumerable,S=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null),T=n(733).custom,A=T&&R(T)?T:null,P="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function k(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function x(e){return String(e).replace(/"/g,"&quot;")}function C(e){return!("[object Array]"!==M(e)||P&&"object"==typeof e&&P in e)}function R(e){if(E)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!w)return!1;try{return w.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,r,i){var u=n||{};if(O(u,"quoteStyle")&&"single"!==u.quoteStyle&&"double"!==u.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(O(u,"maxStringLength")&&("number"==typeof u.maxStringLength?u.maxStringLength<0&&u.maxStringLength!==1/0:null!==u.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=!O(u,"customInspect")||u.customInspect;if("boolean"!=typeof s&&"symbol"!==s)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(O(u,"indent")&&null!==u.indent&&"\t"!==u.indent&&!(parseInt(u.indent,10)===u.indent&&u.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,n){if(t.length>n.maxStringLength){var r=t.length-n.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return e(t.slice(0,n.maxStringLength),n)+i}return k(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,D),"single",n)}(t,u);if("number"==typeof t)return 0===t?1/0/t>0?"0":"-0":String(t);if("bigint"==typeof t)return String(t)+"n";var m=void 0===u.depth?5:u.depth;if(void 0===r&&(r=0),r>=m&&m>0&&"object"==typeof t)return C(t)?"[Array]":"[Object]";var b=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=Array(e.indent+1).join(" ")}return{base:n,prev:Array(t+1).join(n)}}(u,r);if(void 0===i)i=[];else if(N(i,t)>=0)return"[Circular]";function _(t,n,o){if(n&&(i=i.slice()).push(n),o){var a={depth:u.depth};return O(u,"quoteStyle")&&(a.quoteStyle=u.quoteStyle),e(t,a,r+1,i)}return e(t,u,r+1,i)}if("function"==typeof t){var T=function(e){if(e.name)return e.name;var t=v.call(y.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),I=U(t,_);return"[Function"+(T?": "+T:" (anonymous)")+"]"+(I.length>0?" { "+I.join(", ")+" }":"")}if(R(t)){var q=E?String(t).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):w.call(t);return"object"!=typeof t||E?q:L(q)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var H="<"+String(t.nodeName).toLowerCase(),K=t.attributes||[],V=0;V<K.length;V++)H+=" "+K[V].name+"="+k(x(K[V].value),"double",u);return H+=">",t.childNodes&&t.childNodes.length&&(H+="..."),H+="</"+String(t.nodeName).toLowerCase()+">"}if(C(t)){if(0===t.length)return"[]";var z=U(t,_);return b&&!function(e){for(var t=0;t<e.length;t++)if(N(e[t],"\n")>=0)return!1;return!0}(z)?"["+F(z,b)+"]":"[ "+z.join(", ")+" ]"}if(function(e){return!("[object Error]"!==M(e)||P&&"object"==typeof e&&P in e)}(t)){var W=U(t,_);return 0===W.length?"["+String(t)+"]":"{ ["+String(t)+"] "+W.join(", ")+" }"}if("object"==typeof t&&s){if(A&&"function"==typeof t[A])return t[A]();if("symbol"!==s&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var G=[];return a.call(t,(function(e,n){G.push(_(n,t,!0)+" => "+_(e,t))})),B("Map",o.call(t),G,b)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var $=[];return f.call(t,(function(e){$.push(_(e,t))})),B("Set",c.call(t),$,b)}if(function(e){if(!l||!e||"object"!=typeof e)return!1;try{l.call(e,l);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return j("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{l.call(e,l)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return j("WeakSet");if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{return h.call(e),!0}catch(e){}return!1}(t))return j("WeakRef");if(function(e){return!("[object Number]"!==M(e)||P&&"object"==typeof e&&P in e)}(t))return L(_(Number(t)));if(function(e){if(!e||"object"!=typeof e||!g)return!1;try{return g.call(e),!0}catch(e){}return!1}(t))return L(_(g.call(t)));if(function(e){return!("[object Boolean]"!==M(e)||P&&"object"==typeof e&&P in e)}(t))return L(p.call(t));if(function(e){return!("[object String]"!==M(e)||P&&"object"==typeof e&&P in e)}(t))return L(_(String(t)));if(!function(e){return!("[object Date]"!==M(e)||P&&"object"==typeof e&&P in e)}(t)&&!function(e){return!("[object RegExp]"!==M(e)||P&&"object"==typeof e&&P in e)}(t)){var J=U(t,_),Q=S?S(t)===Object.prototype:t instanceof Object||t.constructor===Object,Y=t instanceof Object?"":"null prototype",X=!Q&&P&&Object(t)===t&&P in t?M(t).slice(8,-1):Y?"Object":"",Z=(Q||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(X||Y?"["+[].concat(X||[],Y||[]).join(": ")+"] ":"");return 0===J.length?Z+"{}":b?Z+"{"+F(J,b)+"}":Z+"{ "+J.join(", ")+" }"}return String(t)};var I=Object.prototype.hasOwnProperty||function(e){return e in this};function O(e,t){return I.call(e,t)}function M(e){return m.call(e)}function N(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function D(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+t.toString(16).toUpperCase()}function L(e){return"Object("+e+")"}function j(e){return e+" { ? }"}function B(e,t,n,r){return e+" ("+t+") {"+(r?F(n,r):n.join(", "))+"}"}function F(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+e.join(","+n)+"\n"+t.prev}function U(e,t){var n=C(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=O(e,i)?t(e[i],e):""}var o,a="function"==typeof b?b(e):[];if(E){o={};for(var u=0;u<a.length;u++)o["$"+a[u]]=a[u]}for(var s in e)O(e,s)&&(n&&String(Number(s))===s&&s<e.length||E&&o["$"+s]instanceof Symbol||(/[^\w$]/.test(s)?r.push(t(s,e)+": "+t(e[s],e)):r.push(s+": "+t(e[s],e))));if("function"==typeof b)for(var c=0;c<a.length;c++)_.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}},function(e,t){},function(e,t,n){"use strict";(function(t){var r=n(443),i=n(444),o=n(124),a=o("Object.prototype.toString"),u=n(209)()&&"symbol"==typeof Symbol.toStringTag,s=i(),c=o("String.prototype.slice"),f={},l=n(445),d=Object.getPrototypeOf;u&&l&&d&&r(s,(function(e){if("function"==typeof t[e]){var n=new t[e];if(!(Symbol.toStringTag in n))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var r=d(n),i=l(r,Symbol.toStringTag);if(!i){var o=d(r);i=l(o,Symbol.toStringTag)}f[e]=i.get}}));var h=n(735);e.exports=function(e){return!!h(e)&&(u?function(e){var t=!1;return r(f,(function(n,r){if(!t)try{var i=n.call(e);i===r&&(t=i)}catch(e){}})),t}(e):c(a(e),8,-1))}}).call(this,n(48))},function(e,t,n){"use strict";(function(t){var r=n(443),i=n(444),o=n(124),a=o("Object.prototype.toString"),u=n(209)()&&"symbol"==typeof Symbol.toStringTag,s=i(),c=o("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},f=o("String.prototype.slice"),l={},d=n(445),h=Object.getPrototypeOf;u&&d&&h&&r(s,(function(e){var n=new t[e];if(!(Symbol.toStringTag in n))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var r=h(n),i=d(r,Symbol.toStringTag);if(!i){var o=h(r);i=d(o,Symbol.toStringTag)}l[e]=i.get}));e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!u){var t=f(a(e),8,-1);return c(s,t)>-1}return!!d&&function(e){var t=!1;return r(l,(function(n,r){if(!t)try{t=n.call(e)===r}catch(e){}})),t}(e)}}).call(this,n(48))},function(e,t,n){"use strict";var r=n(158),i=n(248),o=n(446),a=n(447),u=n(737),s=i.apply(a()),c=function(e,t){return s(Object,arguments)};r(c,{getPolyfill:a,implementation:o,shim:u}),e.exports=c},function(e,t,n){"use strict";var r=n(158),i=n(447);e.exports=function(){var e=i();return r(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],u=r[1],s=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,u)),f=0,l=u>0?a-4:a;for(n=0;n<l;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],s[f++]=t>>16&255,s[f++]=t>>8&255,s[f++]=255&t;2===u&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,s[f++]=255&t);1===u&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,s[f++]=t>>8&255,s[f++]=255&t);return s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,u=n-i;a<u;a+=16383)o.push(f(e,a,a+16383>u?u:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=a.length;u<s;++u)r[u]=a[u],i[a.charCodeAt(u)]=u;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e,t,n){for(var i,o,a=[],u=t;u<n;u+=3)i=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,n,r,i){var o,a,u=8*i-r-1,s=(1<<u)-1,c=s>>1,f=-7,l=n?i-1:0,d=n?-1:1,h=e[t+l];for(l+=d,o=h&(1<<-f)-1,h>>=-f,f+=u;f>0;o=256*o+e[t+l],l+=d,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=256*a+e[t+l],l+=d,f-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,u,s,c=8*o-i-1,f=(1<<c)-1,l=f>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+l>=1?d/s:d*Math.pow(2,1-l))*s>=2&&(a++,s/=2),a+l>=f?(u=0,a=f):a+l>=1?(u=(t*s-1)*Math.pow(2,i),a+=l):(u=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&u,h+=p,u/=256,i-=8);for(a=a<<i|u,c+=i;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*m}},function(e,t){},function(e,t,n){"use strict";(function(e){t.test=function(){return"function"==typeof e.queueMicrotask},t.install=function(t){return function(){e.queueMicrotask(t)}}}).call(this,n(48))},function(e,t,n){"use strict";(function(e){var n=e.MutationObserver||e.WebKitMutationObserver;t.test=function(){return n},t.install=function(t){var r=0,i=new n(t),o=e.document.createTextNode("");return i.observe(o,{characterData:!0}),function(){o.data=r=++r%2}}}).call(this,n(48))},function(e,t,n){"use strict";(function(e){t.test=function(){return!e.setImmediate&&void 0!==e.MessageChannel},t.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,n(48))},function(e,t,n){"use strict";(function(e){t.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},t.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,n(48))},function(e,t,n){"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(312),i=n(749);function o(t,n,a){return i()?(e.exports=o=Reflect.construct,e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},e.exports.default=e.exports,e.exports.__esModule=!0),o.apply(null,arguments)}e.exports=o,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof l?t:l,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=w(a,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function l(){}function d(){}function h(){}var p={};p[i]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(T([])));y&&y!==t&&n.call(y,i)&&(p=y);var v=h.prototype=l.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,u){var s=c(e[i],e,o);if("throw"!==s.type){var f=s.arg,l=f.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,u)}),(function(e){r("throw",e,a,u)})):t.resolve(l).then((function(e){f.value=e,a(f)}),(function(e){return r("throw",e,a,u)}))}u(s.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=v.constructor=h,h.constructor=d,d.displayName=u(h,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),b.prototype[o]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new b(s(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),u(v,a,"Generator"),v[i]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=T,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(u&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t){},function(e,t,n){var r=n(449),i=function(e,t){return r(t)?e+"."+t:e+"["+JSON.stringify(t)+"]"};i.valid=r,i.property=function(e){return r(e)?e:JSON.stringify(e)},e.exports=i},function(e,t,n){for(var r=n(450),i=n(449),o=/[\{\[]/,a=/[\}\]]/,u=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],s={},c=0;c<u.length;c++)s[u[c]]=!0;var f=function(e){return i(e)&&!s.hasOwnProperty(e)},l={s:function(e){return""+e},d:function(e){return""+Number(e)},o:function(e){return JSON.stringify(e)}},d=function(){var e=[],t=0,n={},u=function(n){for(var r="";r.length<2*t;)r+="  ";e.push(r+n)},s=function(e){return a.test(e.trim()[0])&&o.test(e[e.length-1])?(t--,u(e),void t++):o.test(e[e.length-1])?(u(e),void t++):a.test(e.trim()[0])?(t--,void u(e)):void u(e)},c=function(e){if(!e)return c;if(1===arguments.length&&e.indexOf("\n")>-1)for(var t=e.trim().split("\n"),n=0;n<t.length;n++)s(t[n].trim());else s(r.format.apply(r,arguments));return c};return c.scope={},c.formats=l,c.sym=function(e){return e&&f(e)||(e="tmp"),n[e]||(n[e]=0),e+(n[e]++||"")},c.property=function(e,t){return 1===arguments.length&&(t=e,e=""),i(t+="")?e?e+"."+t:t:e?e+"["+JSON.stringify(t)+"]":JSON.stringify(t)},c.toString=function(){return e.join("\n")},c.toFunction=function(e){e||(e={});var t="return ("+c.toString()+")";Object.keys(c.scope).forEach((function(t){e[t]||(e[t]=c.scope[t])}));var n=Object.keys(e).map((function(e){return e})),r=n.map((function(t){return e[t]}));return Function.apply(null,n.concat(t)).apply(null,r)},arguments.length&&c.apply(null,arguments),c};d.formats=l,e.exports=d},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){var n=/~/,r=/~[01]/g;function i(e){switch(e){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+e)}function o(e){return n.test(e)?e.replace(r,i):e}function a(e){if("string"==typeof e){if(""===(e=e.split("/"))[0])return e;throw new Error("Invalid JSON pointer.")}if(Array.isArray(e))return e;throw new Error("Invalid JSON pointer.")}function u(e,t){if("object"!=typeof e)throw new Error("Invalid input object.");var n=(t=a(t)).length;if(1===n)return e;for(var r=1;r<n;){if(e=e[o(t[r++])],n===r)return e;if("object"!=typeof e)return}}function s(e,t,n){if("object"!=typeof e)throw new Error("Invalid input object.");if(0===(t=a(t)).length)throw new Error("Invalid JSON pointer for set.");return function(e,t,n){var r,i;if("constructor"===t[1]&&"prototype"===t[2])return e;if("__proto__"===t[1])return e;for(var a=1,u=t.length;a<u&&(r=o(t[a++]),i=u>a,void 0===e[r]&&(Array.isArray(e)&&"-"===r&&(r=e.length),i&&(""!==t[a]&&t[a]<1/0||"-"===t[a]?e[r]=[]:e[r]={})),i);)e=e[r];var s=e[r];return void 0===n?delete e[r]:e[r]=n,s}(e,t,n)}t.get=u,t.set=s,t.compile=function(e){var t=a(e);return{get:function(e){return u(e,t)},set:function(e,n){return s(e,t,n)}}}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},function(e,t,n){var r=n(759),i=/\s/,o=/^[a-zA-Z0-9.-]+$/,a=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,u=/^\+[0-9][0-9 ]{5,27}[0-9]$/,s=/ {2}/,c=/ /g;t["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,t.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,t.time=/^\d{2}:\d{2}:\d{2}$/,t.email=function(e){return-1!==e.indexOf("@")&&!i.test(e)},t["ip-address"]=t.ipv4=r({version:4}),t.ipv6=r({version:6}),t.uri=/^[a-zA-Z][a-zA-Z0-9+\-.]*:[^\s]*$/,t.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,t.hostname=function(e){if(!o.test(e))return!1;for(var t=e.split("."),n=0;n<t.length;n++)if(!a.test(t[n]))return!1;return!0},t.alpha=/^[a-zA-Z]+$/,t.alphanumeric=/^[a-zA-Z0-9]+$/,t.style=/.:\s*[^;]/g,t.phone=function(e){if(!u.test(e))return!1;if(s.test(e))return!1;var t=e.substring(1).replace(c,"").length;return t>=7&&t<=15},t["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/},function(e,t){var n=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r=/\/\d{1,3}(?=%|$)/,i=/\//,o=/%.*$/,a=/([^0-9a-f:/%])/i,u=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function s(e){if(!n.test(e))return!1;var t=e.split(".");if(4!==t.length)return!1;if("0"===t[0][0]&&t[0].length>1)return!1;if("0"===t[1][0]&&t[1].length>1)return!1;if("0"===t[2][0]&&t[2].length>1)return!1;if("0"===t[3][0]&&t[3].length>1)return!1;var r=Number(t[0]),i=Number(t[1]),o=Number(t[2]),a=Number(t[3]);return r>=0&&r<256&&i>=0&&i<256&&o>=0&&o<256&&a>=0&&a<256}function c(e){var t=e.replace(r,""),n=e.length!==t.length;if(n)return!1;if(!n&&i.test(e))return!1;var c=t.replace(o,""),f=c.lastIndexOf(":");if(-1===f)return!1;var l=s(c.substring(f+1))?c.substring(0,f+1)+"1234:5678":c;if(a.test(l))return!1;if(u.test(l))return!1;var d=l.split("::");if(d.length>2)return!1;if(2===d.length){var h=""===d[0]?[]:d[0].split(":"),p=""===d[1]?[]:d[1].split(":");if(8-(h.length+p.length)<=0)return!1}else if(8!==l.split(":").length)return!1;return!0}function f(e){return s(e)||c(e)}e.exports=function(e){if(e||(e={}),4===e.version)return s;if(6===e.version)return c;if(null==e.version)return f;throw new Error("Unknown version: "+e.version)},e.exports.__all_regexes__=[n,r,i,o,a,u]},function(e,t,n){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=n(141),t.createHash=t.Hash=n(210),t.createHmac=t.Hmac=n(465);var r=n(783),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);t.getHashes=function(){return o};var a=n(468);t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var u=n(785);t.Cipher=u.Cipher,t.createCipher=u.createCipher,t.Cipheriv=u.Cipheriv,t.createCipheriv=u.createCipheriv,t.Decipher=u.Decipher,t.createDecipher=u.createDecipher,t.Decipheriv=u.Decipheriv,t.createDecipheriv=u.createDecipheriv,t.getCiphers=u.getCiphers,t.listCiphers=u.listCiphers;var s=n(800);t.DiffieHellmanGroup=s.DiffieHellmanGroup,t.createDiffieHellmanGroup=s.createDiffieHellmanGroup,t.getDiffieHellman=s.getDiffieHellman,t.createDiffieHellman=s.createDiffieHellman,t.DiffieHellman=s.DiffieHellman;var c=n(805);t.createSign=c.createSign,t.Sign=c.Sign,t.createVerify=c.createVerify,t.Verify=c.Verify,t.createECDH=n(836);var f=n(837);t.publicEncrypt=f.publicEncrypt,t.privateEncrypt=f.privateEncrypt,t.publicDecrypt=f.publicDecrypt,t.privateDecrypt=f.privateDecrypt;var l=n(840);t.randomFill=l.randomFill,t.randomFillSync=l.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t){},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(27).Buffer,u=n(763).inspect,s=u&&u.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,c;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,n,r,i=a.allocUnsafe(e>>>0),o=this.head,u=0;o;)t=o.data,n=i,r=u,a.prototype.copy.call(t,n,r),u+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:s,value:function(e,t){return u(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,n),c&&o(t,c),e}()},function(e,t){},function(e,t,n){"use strict";(function(t){var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(314),a=Symbol("lastResolve"),u=Symbol("lastReject"),s=Symbol("error"),c=Symbol("ended"),f=Symbol("lastPromise"),l=Symbol("handlePromise"),d=Symbol("stream");function h(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var n=e[d].read();null!==n&&(e[f]=null,e[a]=null,e[u]=null,t(h(n,!1)))}}function m(e){t.nextTick(p,e)}var y=Object.getPrototypeOf((function(){})),v=Object.setPrototypeOf((i(r={get stream(){return this[d]},next:function(){var e=this,n=this[s];if(null!==n)return Promise.reject(n);if(this[c])return Promise.resolve(h(void 0,!0));if(this[d].destroyed)return new Promise((function(n,r){t.nextTick((function(){e[s]?r(e[s]):n(h(void 0,!0))}))}));var r,i=this[f];if(i)r=new Promise(function(e,t){return function(n,r){e.then((function(){t[c]?n(h(void 0,!0)):t[l](n,r)}),r)}}(i,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(h(o,!1));r=new Promise(this[l])}return this[f]=r,r}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[d].destroy(null,(function(e){e?n(e):t(h(void 0,!0))}))}))})),r),y);e.exports=function(e){var t,n=Object.create(v,(i(t={},d,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,l,{value:function(e,t){var r=n[d].read();r?(n[f]=null,n[a]=null,n[u]=null,e(h(r,!1))):(n[a]=e,n[u]=t)},writable:!0}),t));return n[f]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[u];return null!==t&&(n[f]=null,n[a]=null,n[u]=null,t(e)),void(n[s]=e)}var r=n[a];null!==r&&(n[f]=null,n[a]=null,n[u]=null,r(h(void 0,!0))),n[c]=!0})),e.on("readable",m.bind(null,n)),n}}).call(this,n(49))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,n){"use strict";e.exports=i;var r=n(458);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(22)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r;var i=n(181).codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function u(e){if(e)throw e}function s(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var u=!1;e.on("close",(function(){u=!0})),void 0===r&&(r=n(314)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);u=!0,o()}));var s=!1;return function(t){if(!u&&!s)return s=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function f(e,t){return e.pipe(t)}function l(e){return e.length?"function"!=typeof e[e.length-1]?u:e.pop():u}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=l(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,n){var o=n<t.length-1;return s(e,o,n>0,(function(e){r||(r=e),e&&a.forEach(c),o||(a.forEach(c),i(r))}))}));return t.reduce(f)}},function(e,t,n){var r=n(22),i=n(183),o=n(38).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function s(){this.init(),this._w=u,i.call(this,64,56)}function c(e){return e<<30|e>>>2}function f(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(s,i),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,u=0|this._d,s=0|this._e,l=0;l<16;++l)n[l]=e.readInt32BE(4*l);for(;l<80;++l)n[l]=n[l-3]^n[l-8]^n[l-14]^n[l-16];for(var d=0;d<80;++d){var h=~~(d/20),p=0|((t=r)<<5|t>>>27)+f(h,i,o,u)+s+n[d]+a[h];s=u,u=o,o=c(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=u+this._d|0,this._e=s+this._e|0},s.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=s},function(e,t,n){var r=n(22),i=n(183),o=n(38).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);function s(){this.init(),this._w=u,i.call(this,64,56)}function c(e){return e<<5|e>>>27}function f(e){return e<<30|e>>>2}function l(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(s,i),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,u=0|this._d,s=0|this._e,d=0;d<16;++d)n[d]=e.readInt32BE(4*d);for(;d<80;++d)n[d]=(t=n[d-3]^n[d-8]^n[d-14]^n[d-16])<<1|t>>>31;for(var h=0;h<80;++h){var p=~~(h/20),m=c(r)+l(p,i,o,u)+s+n[h]+a[p]|0;s=u,u=o,o=f(i),i=r,r=m}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=u+this._d|0,this._e=s+this._e|0},s.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=s},function(e,t,n){var r=n(22),i=n(459),o=n(183),a=n(38).Buffer,u=new Array(64);function s(){this.init(),this._w=u,o.call(this,64,56)}r(s,i),s.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},s.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=s},function(e,t,n){var r=n(22),i=n(460),o=n(183),a=n(38).Buffer,u=new Array(160);function s(){this.init(),this._w=u,o.call(this,128,112)}r(s,i),s.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},s.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=s},function(e,t,n){e.exports=i;var r=n(33).EventEmitter;function i(){r.call(this)}n(22)(i,r),i.Readable=n(317),i.Writable=n(778),i.Duplex=n(779),i.Transform=n(780),i.PassThrough=n(781),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",u),n.on("close",s));var a=!1;function u(){a||(a=!0,e.end())}function s(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(f(),0===r.listenerCount(this,"error"))throw e}function f(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",u),n.removeListener("close",s),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",f),n.removeListener("close",f),e.removeListener("close",f)}return n.on("error",c),e.on("error",c),n.on("end",f),n.on("close",f),e.on("close",f),e.emit("pipe",n),e}},function(e,t){},function(e,t,n){"use strict";var r=n(318).Buffer,i=n(775);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),a=this.head,u=0;a;)t=a.data,n=o,i=u,t.copy(n,i),u+=a.data.length,a=a.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,u,s=1,c={},f=!1,l=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){o.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,r=function(e){var t=l.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)}:(a="setImmediate$"+Math.random()+"$",u=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",u,!1):e.attachEvent("onmessage",u),r=function(t){e.postMessage(a+t,"*")}),d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[s]=i,r(s),s++},d.clearImmediate=h}function h(e){delete c[e]}function p(e){if(f)setTimeout(p,0,e);else{var t=c[e];if(t){f=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),f=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(48),n(49))},function(e,t,n){"use strict";e.exports=o;var r=n(464),i=Object.create(n(212));function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(22),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(319)},function(e,t,n){e.exports=n(159)},function(e,t,n){e.exports=n(317).Transform},function(e,t,n){e.exports=n(317).PassThrough},function(e,t,n){"use strict";var r=n(22),i=n(38).Buffer,o=n(142),a=i.alloc(128);function u(e,t){o.call(this,"digest"),"string"==typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>64?t=e(t):t.length<64&&(t=i.concat([t,a],64));for(var n=this._ipad=i.allocUnsafe(64),r=this._opad=i.allocUnsafe(64),u=0;u<64;u++)n[u]=54^t[u],r[u]=92^t[u];this._hash=[n]}r(u,o),u.prototype._update=function(e){this._hash.push(e)},u.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=u},function(e,t,n){e.exports=n(467)},function(e,t,n){(function(t){var r,i,o=n(38).Buffer,a=n(469),u=n(470),s=n(471),c=n(472),f=t.crypto&&t.crypto.subtle,l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},d=[];function h(){return i||(i=t.process&&t.process.nextTick?t.process.nextTick:t.queueMicrotask?t.queueMicrotask:t.setImmediate?t.setImmediate:t.setTimeout)}function p(e,t,n,r,i){return f.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return f.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:i}},e,r<<3)})).then((function(e){return o.from(e)}))}e.exports=function(e,n,i,m,y,v){"function"==typeof y&&(v=y,y=void 0);var g=l[(y=y||"sha1").toLowerCase()];if(g&&"function"==typeof t.Promise){if(a(i,m),e=c(e,u,"Password"),n=c(n,u,"Salt"),"function"!=typeof v)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){h()((function(){t(null,e)}))}),(function(e){h()((function(){t(e)}))}))}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(void 0!==d[e])return d[e];var n=p(r=r||o.alloc(8),r,10,128,e).then((function(){return!0})).catch((function(){return!1}));return d[e]=n,n}(g).then((function(t){return t?p(e,n,i,m,g):s(e,n,i,m,y)})),v)}else h()((function(){var t;try{t=s(e,n,i,m,y)}catch(e){return v(e)}v(null,t)}))}}).call(this,n(48))},function(e,t,n){var r=n(786),i=n(321),o=n(322),a=n(799),u=n(252);function s(e,t,n){if(e=e.toLowerCase(),o[e])return i.createCipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function c(e,t,n){if(e=e.toLowerCase(),o[e])return i.createDecipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var n,r;if(e=e.toLowerCase(),o[e])n=o[e].key,r=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,r=a[e].iv}var i=u(t,!1,n,r);return s(e,i.key,i.iv)},t.createCipheriv=t.Cipheriv=s,t.createDecipher=t.Decipher=function(e,t){var n,r;if(e=e.toLowerCase(),o[e])n=o[e].key,r=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,r=a[e].iv}var i=u(t,!1,n,r);return c(e,i.key,i.iv)},t.createDecipheriv=t.Decipheriv=c,t.listCiphers=t.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},function(e,t,n){var r=n(142),i=n(787),o=n(22),a=n(38).Buffer,u={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function s(e){r.call(this);var t,n=e.mode.toLowerCase(),i=u[n];t=e.decrypt?"decrypt":"encrypt";var o=e.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=a.concat([o,o.slice(0,8)]));var s=e.iv;a.isBuffer(s)||(s=a.from(s)),this._des=i.create({key:o,iv:s,type:t})}u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],e.exports=s,o(s,r),s.prototype._update=function(e){return a.from(this._des.update(e))},s.prototype._final=function(){return a.from(this._des.final())}},function(e,t,n){"use strict";t.utils=n(473),t.Cipher=n(320),t.DES=n(474),t.CBC=n(788),t.EDE=n(789)},function(e,t,n){"use strict";var r=n(98),i=n(22),o={};function a(e){r.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var n=Object.keys(o),r=0;r<n.length;r++){var a=n[r];t.prototype[a]=o[a]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new a(this.options.iv);this._cbcState=e},o._update=function(e,t,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var u=0;u<this.blockSize;u++)a[u]^=e[t+u];o._update.call(this,a,0,n,r);for(u=0;u<this.blockSize;u++)a[u]=n[r+u]}else{o._update.call(this,e,t,n,r);for(u=0;u<this.blockSize;u++)n[r+u]^=a[u];for(u=0;u<this.blockSize;u++)a[u]=e[t+u]}}},function(e,t,n){"use strict";var r=n(98),i=n(22),o=n(320),a=n(474);function u(e,t){r.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),i=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:n})]}function s(e){o.call(this,e);var t=new u(this.type,this.options.key);this._edeState=t}i(s,o),e.exports=s,s.create=function(e){return new s(e)},s.prototype._update=function(e,t,n,r){var i=this._edeState;i.ciphers[0]._update(e,t,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},s.prototype._pad=a.prototype._pad,s.prototype._unpad=a.prototype._unpad},function(e,t,n){var r=n(322),i=n(478),o=n(38).Buffer,a=n(479),u=n(142),s=n(251),c=n(252);function f(e,t,n){u.call(this),this._cache=new d,this._cipher=new s.AES(t),this._prev=o.from(n),this._mode=e,this._autopadding=!0}n(22)(f,u),f.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get();)n=this._mode.encrypt(this,t),r.push(n);return o.concat(r)};var l=o.alloc(16,16);function d(){this.cache=o.allocUnsafe(0)}function h(e,t,n){var u=r[e.toLowerCase()];if(!u)throw new TypeError("invalid suite type");if("string"==typeof t&&(t=o.from(t)),t.length!==u.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof n&&(n=o.from(n)),"GCM"!==u.mode&&n.length!==u.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===u.type?new a(u.module,t,n):"auth"===u.type?new i(u.module,t,n):new f(u.module,t,n)}f.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(l))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=o.concat([this.cache,e])},d.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},d.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return o.concat([this.cache,t])},t.createCipheriv=h,t.createCipher=function(e,t){var n=r[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=c(t,!1,n.key,n.iv);return h(e,i.key,i.iv)}},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,n){var r=n(213);t.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return r(i,n)}},function(e,t,n){var r=n(38).Buffer,i=n(213);function o(e,t,n){var o=t.length,a=i(t,e._cache);return e._cache=e._cache.slice(o),e._prev=r.concat([e._prev,n?t:a]),a}t.encrypt=function(e,t,n){for(var i,a=r.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=r.allocUnsafe(0)),!(e._cache.length<=t.length)){a=r.concat([a,o(e,t,n)]);break}i=e._cache.length,a=r.concat([a,o(e,t.slice(0,i),n)]),t=t.slice(i)}return a}},function(e,t,n){var r=n(38).Buffer;function i(e,t,n){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=r.concat([e._prev.slice(1),r.from([n?t:i])]),i}t.encrypt=function(e,t,n){for(var o=t.length,a=r.allocUnsafe(o),u=-1;++u<o;)a[u]=i(e,t[u],n);return a}},function(e,t,n){var r=n(38).Buffer;function i(e,t,n){for(var r,i,a=-1,u=0;++a<8;)r=t&1<<7-a?128:0,u+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^r))>>a%8,e._prev=o(e._prev,n?r:i);return u}function o(e,t){var n=e.length,i=-1,o=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([t])]);++i<n;)o[i]=e[i]<<1|e[i+1]>>7;return o}t.encrypt=function(e,t,n){for(var o=t.length,a=r.allocUnsafe(o),u=-1;++u<o;)a[u]=i(e,t[u],n);return a}},function(e,t,n){(function(e){var r=n(213);function i(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,i(t)]);var o=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),r(n,o)}}).call(this,n(27).Buffer)},function(e,t,n){var r=n(38).Buffer,i=r.alloc(16,0);function o(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,n,r=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),n=0!=(1&r[3]),t=3;t>0;t--)r[t]=r[t]>>>1|(1&r[t-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=o(i)},a.prototype.update=function(e){var t;for(this.cache=r.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=a},function(e,t,n){var r=n(478),i=n(38).Buffer,o=n(322),a=n(479),u=n(142),s=n(251),c=n(252);function f(e,t,n){u.call(this),this._cache=new l,this._last=void 0,this._cipher=new s.AES(t),this._prev=i.from(n),this._mode=e,this._autopadding=!0}function l(){this.cache=i.allocUnsafe(0)}function d(e,t,n){var u=o[e.toLowerCase()];if(!u)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=i.from(n)),"GCM"!==u.mode&&n.length!==u.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof t&&(t=i.from(t)),t.length!==u.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===u.type?new a(u.module,t,n,!0):"auth"===u.type?new r(u.module,t,n,!0):new f(u.module,t,n)}n(22)(f,u),f.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),r.push(n);return i.concat(r)},f.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},l.prototype.add=function(e){this.cache=i.concat([this.cache,e])},l.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},l.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var n=o[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=c(t,!1,n.key,n.iv);return d(e,r.key,r.iv)},t.createDecipheriv=d},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,n){(function(e){var r=n(480),i=n(803),o=n(804);var a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var n=new e(i[t].prime,"hex"),r=new e(i[t].gen,"hex");return new o(n,r)},t.createDiffieHellman=t.DiffieHellman=function t(n,i,u,s){return e.isBuffer(i)||void 0===a[i]?t(n,"binary",i,u):(i=i||"binary",s=s||"binary",u=u||new e([2]),e.isBuffer(u)||(u=new e(u,s)),"number"==typeof n?new o(r(n,u),u,!0):(e.isBuffer(n)||(n=new e(n,i)),new o(n,u,!0)))}}).call(this,n(27).Buffer)},function(e,t){},function(e,t){},function(e){e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},function(e,t,n){(function(t){var r=n(72),i=new(n(482)),o=new r(24),a=new r(11),u=new r(10),s=new r(3),c=new r(7),f=n(480),l=n(141);function d(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._pub=new r(e),this}function h(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this._priv=new r(e),this}e.exports=m;var p={};function m(e,t,n){this.setGenerator(t),this.__prime=new r(e),this._prime=r.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=d,this.setPrivateKey=h):this._primeCode=8}function y(e,n){var r=new t(e.toArray());return n?r.toString(n):r}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var n=t.toString("hex"),r=[n,e.toString(16)].join("_");if(r in p)return p[r];var l,d=0;if(e.isEven()||!f.simpleSieve||!f.fermatTest(e)||!i.test(e))return d+=1,d+="02"===n||"05"===n?8:4,p[r]=d,d;switch(i.test(e.shrn(1))||(d+=2),n){case"02":e.mod(o).cmp(a)&&(d+=8);break;case"05":(l=e.mod(u)).cmp(s)&&l.cmp(c)&&(d+=8);break;default:d+=4}return p[r]=d,d}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new r(l(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(e){var n=(e=(e=new r(e)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new t(n.toArray()),o=this.getPrime();if(i.length<o.length){var a=new t(o.length-i.length);a.fill(0),i=t.concat([a,i])}return i},m.prototype.getPublicKey=function(e){return y(this._pub,e)},m.prototype.getPrivateKey=function(e){return y(this._priv,e)},m.prototype.getPrime=function(e){return y(this.__prime,e)},m.prototype.getGenerator=function(e){return y(this._gen,e)},m.prototype.setGenerator=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.__gen=e,this._gen=new r(e),this}}).call(this,n(27).Buffer)},function(e,t,n){var r=n(38).Buffer,i=n(210),o=n(249),a=n(22),u=n(806),s=n(835),c=n(467);function f(e){o.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function l(e){o.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function d(e){return new f(e)}function h(e){return new l(e)}Object.keys(c).forEach((function(e){c[e].id=r.from(c[e].id,"hex"),c[e.toLowerCase()]=c[e]})),a(f,o.Writable),f.prototype._write=function(e,t,n){this._hash.update(e),n()},f.prototype.update=function(e,t){return"string"==typeof e&&(e=r.from(e,t)),this._hash.update(e),this},f.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),r=u(n,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},a(l,o.Writable),l.prototype._write=function(e,t,n){this._hash.update(e),n()},l.prototype.update=function(e,t){return"string"==typeof e&&(e=r.from(e,t)),this._hash.update(e),this},l.prototype.verify=function(e,t,n){"string"==typeof t&&(t=r.from(t,n)),this.end();var i=this._hash.digest();return s(t,i,e,this._signType,this._tag)},e.exports={Sign:d,Verify:h,createSign:d,createVerify:h}},function(e,t,n){var r=n(38).Buffer,i=n(465),o=n(324),a=n(253).ec,u=n(325),s=n(255),c=n(493);function f(e,t,n,o){if((e=r.from(e.toArray())).length<t.byteLength()){var a=r.alloc(t.byteLength()-e.length);e=r.concat([a,e])}var u=n.length,s=function(e,t){e=(e=l(e,t)).mod(t);var n=r.from(e.toArray());if(n.length<t.byteLength()){var i=r.alloc(t.byteLength()-n.length);n=r.concat([i,n])}return n}(n,t),c=r.alloc(u);c.fill(1);var f=r.alloc(u);return f=i(o,f).update(c).update(r.from([0])).update(e).update(s).digest(),c=i(o,f).update(c).digest(),{k:f=i(o,f).update(c).update(r.from([1])).update(e).update(s).digest(),v:c=i(o,f).update(c).digest()}}function l(e,t){var n=new u(e),r=(e.length<<3)-t.bitLength();return r>0&&n.ishrn(r),n}function d(e,t,n){var o,a;do{for(o=r.alloc(0);8*o.length<e.bitLength();)t.v=i(n,t.k).update(t.v).digest(),o=r.concat([o,t.v]);a=l(o,e),t.k=i(n,t.k).update(t.v).update(r.from([0])).digest(),t.v=i(n,t.k).update(t.v).digest()}while(-1!==a.cmp(e));return a}function h(e,t,n,r){return e.toRed(u.mont(n)).redPow(t).fromRed().mod(r)}e.exports=function(e,t,n,i,p){var m=s(t);if(m.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return function(e,t){var n=c[t.curve.join(".")];if(!n)throw new Error("unknown curve "+t.curve.join("."));var i=new a(n).keyFromPrivate(t.privateKey).sign(e);return r.from(i.toDER())}(e,m)}if("dsa"===m.type){if("dsa"!==i)throw new Error("wrong private key type");return function(e,t,n){var i,o=t.params.priv_key,a=t.params.p,s=t.params.q,c=t.params.g,p=new u(0),m=l(e,s).mod(s),y=!1,v=f(o,s,e,n);for(;!1===y;)i=d(s,v,n),p=h(c,i,a,s),0===(y=i.invm(s).imul(m.add(o.mul(p))).mod(s)).cmpn(0)&&(y=!1,p=new u(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e));128&t[0]&&(t=[0].concat(t));var n=[48,e.length+t.length+4,2,e.length];return n=n.concat(e,[2,t.length],t),r.from(n)}(p,y)}(e,m,n)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");e=r.concat([p,e]);for(var y=m.modulus.byteLength(),v=[0,1];e.length+v.length+1<y;)v.push(255);v.push(0);for(var g=-1;++g<e.length;)v.push(e[g]);return o(v,m)},e.exports.getKey=f,e.exports.makeKey=d},function(e,t){},function(e){e.exports=JSON.parse('{"name":"elliptic","version":"6.5.4","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}')},function(e,t,n){"use strict";var r=n(99),i=n(72),o=n(22),a=n(254),u=r.assert;function s(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,n,r){a.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,n,r){a.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(s,a),e.exports=s,s.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?n=o[0]:(n=o[1],u(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(n)}}},s.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),n=new i(2).toRed(t).redInvm(),r=n.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},s.prototype._getEndoBasis=function(e){for(var t,n,r,o,a,u,s,c,f,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),p=new i(1),m=new i(0),y=new i(0),v=new i(1),g=0;0!==d.cmpn(0);){var b=h.div(d);c=h.sub(b.mul(d)),f=y.sub(b.mul(p));var w=v.sub(b.mul(m));if(!r&&c.cmp(l)<0)t=s.neg(),n=p,r=c.neg(),o=f;else if(r&&2==++g)break;s=c,h=d,d=c,y=p,p=f,v=m,m=w}a=c.neg(),u=f;var E=r.sqr().add(o.sqr());return a.sqr().add(u.sqr()).cmp(E)>=0&&(a=t,u=n),r.negative&&(r=r.neg(),o=o.neg()),a.negative&&(a=a.neg(),u=u.neg()),[{a:r,b:o},{a:a,b:u}]},s.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),u=o.mul(r.a),s=i.mul(n.b),c=o.mul(r.b);return{k1:e.sub(a).sub(u),k2:s.add(c).neg()}},s.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(t&&!o||!t&&o)&&(r=r.redNeg()),this.point(e,r)},s.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},s.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),u=e[o],s=u._getBeta();a.k1.negative&&(a.k1.ineg(),u=u.neg(!0)),a.k2.negative&&(a.k2.ineg(),s=s.neg(!0)),r[2*o]=u,r[2*o+1]=s,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var c=this._wnafMulAdd(1,r,i,2*o,n),f=0;f<2*o;f++)r[f]=null,i[f]=null;return c},o(c,a.BasePoint),s.prototype.point=function(e,t,n){return new c(this,e,t,n)},s.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,n){"string"==typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var o=t[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},c.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,a.BasePoint),s.prototype.jpoint=function(e,t,n){return new f(this,e,t,n)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),u=r.redSub(i),s=o.redSub(a);if(0===u.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=u.redSqr(),f=c.redMul(u),l=r.redMul(c),d=s.redSqr().redIAdd(f).redISub(l).redISub(l),h=s.redMul(l.redISub(d)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(d,h,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(r),u=i.redSub(o);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var s=a.redSqr(),c=s.redMul(a),f=n.redMul(s),l=u.redSqr().redIAdd(c).redISub(f).redISub(f),d=u.redMul(f.redISub(l)).redISub(i.redMul(c)),h=this.z.redMul(a);return this.curve.jpoint(l,d,h)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,u=this.z,s=u.redSqr().redSqr(),c=a.redAdd(a);for(t=0;t<e;t++){var f=o.redSqr(),l=c.redSqr(),d=l.redSqr(),h=f.redAdd(f).redIAdd(f).redIAdd(r.redMul(s)),p=o.redMul(l),m=h.redSqr().redISub(p.redAdd(p)),y=p.redISub(m),v=h.redMul(y);v=v.redIAdd(v).redISub(d);var g=c.redMul(u);t+1<e&&(s=s.redMul(d)),o=m,u=g,c=v}return this.curve.jpoint(o,c.redMul(i),u)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var u=r.redAdd(r).redIAdd(r),s=u.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=s,t=u.redMul(a.redISub(s)).redISub(c),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),l=this.y.redSqr(),d=l.redSqr(),h=this.x.redAdd(l).redSqr().redISub(f).redISub(d);h=h.redIAdd(h);var p=f.redAdd(f).redIAdd(f),m=p.redSqr(),y=d.redIAdd(d);y=(y=y.redIAdd(y)).redIAdd(y),e=m.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(y),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},f.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var u=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),s=u.redSqr().redISub(a).redISub(a);e=s;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=u.redMul(a.redISub(s)).redISub(c),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),l=this.y.redSqr(),d=this.x.redMul(l),h=this.x.redSub(f).redMul(this.x.redAdd(f));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),m=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(l).redISub(f);var y=l.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=h.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,n)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),u=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),s=t.redAdd(t),c=(s=s.redIAdd(s)).redMul(a),f=u.redSqr().redISub(c.redAdd(c)),l=c.redISub(f),d=a.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=u.redMul(l).redISub(d),p=n.redAdd(n).redMul(r);return this.curve.jpoint(f,h,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(r),u=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),s=r.redIAdd(r);s=(s=(s=s.redIAdd(s)).redIAdd(s)).redIAdd(s);var c=i.redIAdd(a).redSqr().redISub(o).redISub(u).redISub(s),f=t.redMul(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.x.redMul(u).redISub(f);l=(l=l.redIAdd(l)).redIAdd(l);var d=this.y.redMul(c.redMul(s.redISub(c)).redISub(a.redMul(u)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(a).redSqr().redISub(n).redISub(u);return this.curve.jpoint(l,d,h)},f.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,n){"use strict";var r=n(72),i=n(22),o=n(254),a=n(99);function u(e){o.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function s(e,t,n){o.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(u,o),e.exports=u,u.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},i(s,o.BasePoint),u.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},u.prototype.point=function(e,t){return new s(this,e,t)},u.prototype.pointFromJSON=function(e){return s.fromJSON(this,e)},s.prototype.precompute=function(){},s.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},s.fromJSON=function(e,t){return new s(e,t[0],t[1]||e.one)},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},s.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),r=e.redMul(t),i=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},s.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(n),a=i.redMul(r),u=t.z.redMul(o.redAdd(a).redSqr()),s=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(u,s)},s.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},s.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},s.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,n){"use strict";var r=n(99),i=n(72),o=n(22),a=n(254),u=r.assert;function s(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),u(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function c(e,t,n,r,o){a.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(s,a),e.exports=s,s.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},s.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},s.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},s.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=r.redMul(o.redInvm()),u=a.redSqrt();if(0!==u.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var s=u.fromRed().isOdd();return(t&&!s||!t&&s)&&(u=u.redNeg()),this.point(e,u)},s.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=r.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var u=a.redSqrt();if(0!==u.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return u.fromRed().isOdd()!==t&&(u=u.redNeg()),this.point(u,e)},s.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},o(c,a.BasePoint),s.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},s.prototype.point=function(e,t,n,r){return new c(this,e,t,n,r)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=r.redAdd(t),a=o.redSub(n),u=r.redSub(t),s=i.redMul(a),c=o.redMul(u),f=i.redMul(u),l=a.redMul(o);return this.curve.point(s,c,l,f)},c.prototype._projDbl=function(){var e,t,n,r,i,o,a=this.x.redAdd(this.y).redSqr(),u=this.x.redSqr(),s=this.y.redSqr();if(this.curve.twisted){var c=(r=this.curve._mulA(u)).redAdd(s);this.zOne?(e=a.redSub(u).redSub(s).redMul(c.redSub(this.curve.two)),t=c.redMul(r.redSub(s)),n=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),o=c.redSub(i).redISub(i),e=a.redSub(u).redISub(s).redMul(o),t=c.redMul(r.redSub(s)),n=c.redMul(o))}else r=u.redAdd(s),i=this.curve._mulC(this.z).redSqr(),o=r.redSub(i).redSub(i),e=this.curve._mulC(a.redISub(r)).redMul(o),t=this.curve._mulC(r).redMul(u.redISub(s)),n=r.redMul(o);return this.curve.point(e,t,n)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(t),a=i.redSub(r),u=i.redAdd(r),s=n.redAdd(t),c=o.redMul(a),f=u.redMul(s),l=o.redMul(s),d=a.redMul(u);return this.curve.point(c,f,d,l)},c.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),u=this.curve.d.redMul(o).redMul(a),s=i.redSub(u),c=i.redAdd(u),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),l=r.redMul(s).redMul(f);return this.curve.twisted?(t=r.redMul(c).redMul(a.redSub(this.curve._mulA(o))),n=s.redMul(c)):(t=r.redMul(c).redMul(a.redSub(o)),n=this.curve._mulC(s).redMul(c)),this.curve.point(l,t,n)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},c.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},function(e,t,n){"use strict";t.sha1=n(813),t.sha224=n(814),t.sha256=n(486),t.sha384=n(815),t.sha512=n(487)},function(e,t,n){"use strict";var r=n(110),i=n(214),o=n(485),a=r.rotl32,u=r.sum32,s=r.sum32_5,c=o.ft_1,f=i.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(d,f),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=a(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],f=this.h[2],d=this.h[3],h=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),m=s(a(i,5),c(p,o,f,d),h,n[r],l[p]);h=d,d=f,f=a(o,30),o=i,i=m}this.h[0]=u(this.h[0],i),this.h[1]=u(this.h[1],o),this.h[2]=u(this.h[2],f),this.h[3]=u(this.h[3],d),this.h[4]=u(this.h[4],h)},d.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(e,t,n){"use strict";var r=n(110),i=n(486);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},function(e,t,n){"use strict";var r=n(110),i=n(487);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},function(e,t,n){"use strict";var r=n(110),i=n(214),o=r.rotl32,a=r.sum32,u=r.sum32_3,s=r.sum32_4,c=i.BlockHash;function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(f,c),t.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],c=this.h[3],f=this.h[4],g=n,b=r,w=i,E=c,_=f,S=0;S<80;S++){var T=a(o(s(n,l(S,r,i,c),e[p[S]+t],d(S)),y[S]),f);n=f,f=c,c=o(i,10),i=r,r=T,T=a(o(s(g,l(79-S,b,w,E),e[m[S]+t],h(S)),v[S]),_),g=_,_=E,E=o(w,10),w=b,b=T}T=u(this.h[1],i,E),this.h[1]=u(this.h[2],c,_),this.h[2]=u(this.h[3],f,g),this.h[3]=u(this.h[4],n,b),this.h[4]=u(this.h[0],r,w),this.h[0]=T},f.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,n){"use strict";var r=n(110),i=n(98);function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,n){"use strict";var r=n(72),i=n(820),o=n(99),a=n(326),u=n(323),s=o.assert,c=n(821),f=n(822);function l(e){if(!(this instanceof l))return new l(e);"string"==typeof e&&(s(Object.prototype.hasOwnProperty.call(a,e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=l,l.prototype.keyPair=function(e){return new c(this,e)},l.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},l.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},l.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||u(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new r(2));;){var a=new r(t.generate(n));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},l.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},l.prototype.sign=function(e,t,n,o){"object"==typeof n&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new r(e,16));for(var a=this.n.byteLength(),u=t.getPrivate().toArray("be",a),s=e.toArray("be",a),c=new i({hash:this.hash,entropy:u,nonce:s,pers:o.pers,persEnc:o.persEnc||"utf8"}),l=this.n.sub(new r(1)),d=0;;d++){var h=o.k?o.k(d):new r(c.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(l)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var m=p.getX(),y=m.umod(this.n);if(0!==y.cmpn(0)){var v=h.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(0!==(v=v.umod(this.n)).cmpn(0)){var g=(p.getY().isOdd()?1:0)|(0!==m.cmp(y)?2:0);return o.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),g^=1),new f({r:y,s:v,recoveryParam:g})}}}}}},l.prototype.verify=function(e,t,n,i){e=this._truncateToN(new r(e,16)),n=this.keyFromPublic(n,i);var o=(t=new f(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var u,s=a.invm(this.n),c=s.mul(e).umod(this.n),l=s.mul(o).umod(this.n);return this.curve._maxwellTrick?!(u=this.g.jmulAdd(c,n.getPublic(),l)).isInfinity()&&u.eqXToP(o):!(u=this.g.mulAdd(c,n.getPublic(),l)).isInfinity()&&0===u.getX().umod(this.n).cmp(o)},l.prototype.recoverPubKey=function(e,t,n,i){s((3&n)===n,"The recovery param is more than two bits"),t=new f(t,i);var o=this.n,a=new r(e),u=t.r,c=t.s,l=1&n,d=n>>1;if(u.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");u=d?this.curve.pointFromX(u.add(this.curve.n),l):this.curve.pointFromX(u,l);var h=t.r.invm(o),p=o.sub(a).mul(h).umod(o),m=c.mul(h).umod(o);return this.g.mulAdd(p,u,m)},l.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new f(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(e,t,n){"use strict";var r=n(327),i=n(483),o=n(98);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),n=i.toArray(e.nonce,e.nonceEnc||"hex"),r=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}e.exports=a,a.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,n,r){"string"!=typeof t&&(r=n,n=t,t=null),e=i.toArray(e,t),n=i.toArray(n,r),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},a.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(r=n,n=t,t=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(n),this._reseed++,i.encode(a,t)}},function(e,t,n){"use strict";var r=n(72),i=n(99).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,n){return t instanceof o?t:new o(e,{pub:t,pubEnc:n})},o.fromPrivate=function(e,t,n){return t instanceof o?t:new o(e,{priv:t,privEnc:n})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,n){"use strict";var r=n(72),i=n(99),o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function u(){this.place=0}function s(e,t){var n=e[t.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var i=0,o=0,a=t.place;o<r;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function c(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function f(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var n=new u;if(48!==e[n.place++])return!1;var o=s(e,n);if(!1===o)return!1;if(o+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var a=s(e,n);if(!1===a)return!1;var c=e.slice(n.place,a+n.place);if(n.place+=a,2!==e[n.place++])return!1;var f=s(e,n);if(!1===f)return!1;if(e.length!==f+n.place)return!1;var l=e.slice(n.place,f+n.place);if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}return this.r=new r(c),this.s=new r(l),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=c(t),n=c(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];f(r,t.length),(r=r.concat(t)).push(2),f(r,n.length);var o=r.concat(n),a=[48];return f(a,o.length),a=a.concat(o),i.encode(a,e)}},function(e,t,n){"use strict";var r=n(327),i=n(326),o=n(99),a=o.assert,u=o.parseBytes,s=n(824),c=n(825);function f(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof f))return new f(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=f,f.prototype.sign=function(e,t){e=u(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),o=this.encodePoint(i),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),s=r.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:s,Rencoded:o})},f.prototype.verify=function(e,t,n){e=u(e),t=this.makeSignature(t);var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(r.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(e){return s.fromPublic(this,e)},f.prototype.keyFromSecret=function(e){return s.fromSecret(this,e)},f.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},f.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},f.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),r=0!=(128&e[t]),i=o.intFromLE(n);return this.curve.pointFromY(i,r)},f.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(e){return o.intFromLE(e)},f.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,n){"use strict";var r=n(99),i=r.assert,o=r.parseBytes,a=r.cachedProperty;function u(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}u.fromPublic=function(e,t){return t instanceof u?t:new u(e,{pub:t})},u.fromSecret=function(e,t){return t instanceof u?t:new u(e,{secret:t})},u.prototype.secret=function(){return this._secret},a(u,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(u,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(u,"privBytes",(function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r})),a(u,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(u,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(u,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),u.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},u.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},u.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},u.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=u},function(e,t,n){"use strict";var r=n(72),i=n(99),o=i.assert,a=i.cachedProperty,u=i.parseBytes;function s(e,t){this.eddsa=e,"object"!=typeof t&&(t=u(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(s,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(s,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(s,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(s,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),s.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},s.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=s},function(e,t,n){"use strict";var r=n(488);t.certificate=n(832);var i=r.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=i;var o=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())}));t.PublicKey=a;var u=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),s=r.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(u),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=s;var c=r.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=c;var f=r.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=f,t.DSAparam=r.define("DSAparam",(function(){this.int()}));var l=r.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=l;var d=r.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=r.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},function(e,t,n){"use strict";const r=n(489),i=n(491),o=n(22);function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(e){const t=this.name;function n(e){this._initNamed(e,t)}return o(n,e),n.prototype._initNamed=function(t,n){e.call(this,t,n)},new n(this)},a.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i[e])),this.decoders[e]},a.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},a.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r[e])),this.encoders[e]},a.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},function(e,t,n){"use strict";const r=n(22),i=n(490);function o(e){i.call(this,e),this.enc="pem"}r(o,i),e.exports=o,o.prototype.encode=function(e,t){const n=i.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"];for(let e=0;e<n.length;e+=64)r.push(n.slice(e,e+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},function(e,t,n){"use strict";const r=n(22),i=n(328).Buffer,o=n(492);function a(e){o.call(this,e),this.enc="pem"}r(a,o),e.exports=a,a.prototype.decode=function(e,t){const n=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/;let u=-1,s=-1;for(let e=0;e<n.length;e++){const t=n[e].match(a);if(null!==t&&t[2]===r){if(-1!==u){if("END"!==t[1])break;s=e;break}if("BEGIN"!==t[1])break;u=e}}if(-1===u||-1===s)throw new Error("PEM section not found for: "+r);const c=n.slice(u+1,s).join("");c.replace(/[^a-z0-9+/=]+/gi,"");const f=i.from(c,"base64");return o.prototype.decode.call(this,f,t)}},function(e,t,n){"use strict";const r=t;r.Reporter=n(330).Reporter,r.DecoderBuffer=n(215).DecoderBuffer,r.EncoderBuffer=n(215).EncoderBuffer,r.Node=n(329)},function(e,t,n){"use strict";const r=t;r._reverse=function(e){const t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);const r=e[n];t[r]=n})),t},r.der=n(331)},function(e,t,n){"use strict";var r=n(488),i=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),u=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),s=r.define("RelativeDistinguishedName",(function(){this.setof(o)})),c=r.define("RDNSequence",(function(){this.seqof(s)})),f=r.define("Name",(function(){this.choice({rdnSequence:this.use(c)})})),l=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),d=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),h=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(f),this.key("validity").use(l),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(u),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())})),p=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));e.exports=p},function(e){e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},function(e,t,n){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=n(252),u=n(321),s=n(38).Buffer;e.exports=function(e,t){var n,c=e.toString(),f=c.match(r);if(f){var l="aes"+f[1],d=s.from(f[2],"hex"),h=s.from(f[3].replace(/[\r\n]/g,""),"base64"),p=a(t,d.slice(0,8),parseInt(f[1],10)).key,m=[],y=u.createDecipheriv(l,p,d);m.push(y.update(h)),m.push(y.final()),n=s.concat(m)}else{var v=c.match(o);n=s.from(v[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(i)[1],data:n}}},function(e,t,n){var r=n(38).Buffer,i=n(325),o=n(253).ec,a=n(255),u=n(493);function s(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,t,n,c,f){var l=a(n);if("ec"===l.type){if("ecdsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");return function(e,t,n){var r=u[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var i=new o(r),a=n.data.subjectPrivateKey.data;return i.verify(t,e,a)}(e,t,l)}if("dsa"===l.type){if("dsa"!==c)throw new Error("wrong public key type");return function(e,t,n){var r=n.data.p,o=n.data.q,u=n.data.g,c=n.data.pub_key,f=a.signature.decode(e,"der"),l=f.s,d=f.r;s(l,o),s(d,o);var h=i.mont(r),p=l.invm(o);return 0===u.toRed(h).redPow(new i(t).mul(p).mod(o)).fromRed().mul(c.toRed(h).redPow(d.mul(p).mod(o)).fromRed()).mod(r).mod(o).cmp(d)}(e,t,l)}if("rsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");t=r.concat([f,t]);for(var d=l.modulus.byteLength(),h=[1],p=0;t.length+h.length+2<d;)h.push(255),p++;h.push(0);for(var m=-1;++m<t.length;)h.push(t[m]);h=r.from(h);var y=i.mont(l.modulus);e=(e=new i(e).toRed(y)).redPow(new i(l.publicExponent)),e=r.from(e.fromRed().toArray());var v=p<8?1:0;for(d=Math.min(e.length,h.length),e.length!==h.length&&(v=1),m=-1;++m<d;)v|=e[m]^h[m];return 0===v}},function(e,t,n){(function(t){var r=n(253),i=n(72);e.exports=function(e){return new a(e)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function u(e,n,r){Array.isArray(e)||(e=e.toArray());var i=new t(e);if(r&&i.length<r){var o=new t(r-i.length);o.fill(0),i=t.concat([o,i])}return n?i.toString(n):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,n,r){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),u(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),u(n,e)},a.prototype.getPrivateKey=function(e){return u(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,n){return n=n||"utf8",t.isBuffer(e)||(e=new t(e,n)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,n){n=n||"utf8",t.isBuffer(e)||(e=new t(e,n));var r=new i(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(this,n(27).Buffer)},function(e,t,n){t.publicEncrypt=n(838),t.privateDecrypt=n(839),t.privateEncrypt=function(e,n){return t.publicEncrypt(e,n,!0)},t.publicDecrypt=function(e,n){return t.privateDecrypt(e,n,!0)}},function(e,t,n){var r=n(255),i=n(141),o=n(210),a=n(494),u=n(495),s=n(72),c=n(496),f=n(324),l=n(38).Buffer;e.exports=function(e,t,n){var d;d=e.padding?e.padding:n?1:4;var h,p=r(e);if(4===d)h=function(e,t){var n=e.modulus.byteLength(),r=t.length,c=o("sha1").update(l.alloc(0)).digest(),f=c.length,d=2*f;if(r>n-d-2)throw new Error("message too long");var h=l.alloc(n-r-d-2),p=n-f-1,m=i(f),y=u(l.concat([c,h,l.alloc(1,1),t],p),a(m,p)),v=u(m,a(y,f));return new s(l.concat([l.alloc(1),v,y],n))}(p,t);else if(1===d)h=function(e,t,n){var r,o=t.length,a=e.modulus.byteLength();if(o>a-11)throw new Error("message too long");r=n?l.alloc(a-o-3,255):function(e){var t,n=l.allocUnsafe(e),r=0,o=i(2*e),a=0;for(;r<e;)a===o.length&&(o=i(2*e),a=0),(t=o[a++])&&(n[r++]=t);return n}(a-o-3);return new s(l.concat([l.from([0,n?1:2]),r,l.alloc(1),t],a))}(p,t,n);else{if(3!==d)throw new Error("unknown padding");if((h=new s(t)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return n?f(h,p):c(h,p)}},function(e,t,n){var r=n(255),i=n(494),o=n(495),a=n(72),u=n(324),s=n(210),c=n(496),f=n(38).Buffer;e.exports=function(e,t,n){var l;l=e.padding?e.padding:n?1:4;var d,h=r(e),p=h.modulus.byteLength();if(t.length>p||new a(t).cmp(h.modulus)>=0)throw new Error("decryption error");d=n?c(new a(t),h):u(t,h);var m=f.alloc(p-d.length);if(d=f.concat([m,d],p),4===l)return function(e,t){var n=e.modulus.byteLength(),r=s("sha1").update(f.alloc(0)).digest(),a=r.length;if(0!==t[0])throw new Error("decryption error");var u=t.slice(1,a+1),c=t.slice(a+1),l=o(u,i(c,a)),d=o(c,i(l,n-a-1));if(function(e,t){e=f.from(e),t=f.from(t);var n=0,r=e.length;e.length!==t.length&&(n++,r=Math.min(e.length,t.length));var i=-1;for(;++i<r;)n+=e[i]^t[i];return n}(r,d.slice(0,a)))throw new Error("decryption error");var h=a;for(;0===d[h];)h++;if(1!==d[h++])throw new Error("decryption error");return d.slice(h)}(h,d);if(1===l)return function(e,t,n){var r=t.slice(0,2),i=2,o=0;for(;0!==t[i++];)if(i>=t.length){o++;break}var a=t.slice(2,i-1);("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return t.slice(i)}(0,d,n);if(3===l)return d;throw new Error("unknown padding")}},function(e,t,n){"use strict";(function(e,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=n(38),a=n(141),u=o.Buffer,s=o.kMaxLength,c=e.crypto||e.msCrypto,f=Math.pow(2,32)-1;function l(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(e>f||e<0)throw new TypeError("offset must be a uint32");if(e>s||e>t)throw new RangeError("offset out of range")}function d(e,t,n){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(e>f||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>s)throw new RangeError("buffer too small")}function h(e,t,n,i){if(r.browser){var o=e.buffer,u=new Uint8Array(o,t,n);return c.getRandomValues(u),i?void r.nextTick((function(){i(null,e)})):e}if(!i)return a(n).copy(e,t),e;a(n,(function(n,r){if(n)return i(n);r.copy(e,t),i(null,e)}))}c&&c.getRandomValues||!r.browser?(t.randomFill=function(t,n,r,i){if(!(u.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)i=n,n=0,r=t.length;else if("function"==typeof r)i=r,r=t.length-n;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return l(n,t.length),d(r,n,t.length),h(t,n,r,i)},t.randomFillSync=function(t,n,r){void 0===n&&(n=0);if(!(u.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');l(n,t.length),void 0===r&&(r=t.length-n);return d(r,n,t.length),h(t,n,r)}):(t.randomFill=i,t.randomFillSync=i)}).call(this,n(48),n(49))},function(e,t,n){var r,i,o;e.exports=(o=n(140),i=(r=o).lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,u=0;u<4&&o+.75*u<n;u++)i.push(r.charAt(a>>>6*(3-u)&63));var s=r.charAt(64);if(s)for(;i.length%4;)i.push(s);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var u=e.indexOf(a);-1!==u&&(t=u)}return function(e,t,n){for(var r=[],o=0,a=0;a<t;a++)if(a%4){var u=n[e.charCodeAt(a-1)]<<a%4*2,s=n[e.charCodeAt(a)]>>>6-a%4*2,c=u|s;r[o>>>2]|=c<<24-o%4*8,o++}return i.create(r,o)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},o.enc.Base64)},function(e,t,n){var r;e.exports=(r=n(140),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,u=[];!function(){for(var t=0;t<64;t++)u[t]=4294967296*e.abs(e.sin(t+1))|0}();var s=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],s=e[t+1],h=e[t+2],p=e[t+3],m=e[t+4],y=e[t+5],v=e[t+6],g=e[t+7],b=e[t+8],w=e[t+9],E=e[t+10],_=e[t+11],S=e[t+12],T=e[t+13],A=e[t+14],P=e[t+15],k=o[0],x=o[1],C=o[2],R=o[3];k=c(k,x,C,R,a,7,u[0]),R=c(R,k,x,C,s,12,u[1]),C=c(C,R,k,x,h,17,u[2]),x=c(x,C,R,k,p,22,u[3]),k=c(k,x,C,R,m,7,u[4]),R=c(R,k,x,C,y,12,u[5]),C=c(C,R,k,x,v,17,u[6]),x=c(x,C,R,k,g,22,u[7]),k=c(k,x,C,R,b,7,u[8]),R=c(R,k,x,C,w,12,u[9]),C=c(C,R,k,x,E,17,u[10]),x=c(x,C,R,k,_,22,u[11]),k=c(k,x,C,R,S,7,u[12]),R=c(R,k,x,C,T,12,u[13]),C=c(C,R,k,x,A,17,u[14]),k=f(k,x=c(x,C,R,k,P,22,u[15]),C,R,s,5,u[16]),R=f(R,k,x,C,v,9,u[17]),C=f(C,R,k,x,_,14,u[18]),x=f(x,C,R,k,a,20,u[19]),k=f(k,x,C,R,y,5,u[20]),R=f(R,k,x,C,E,9,u[21]),C=f(C,R,k,x,P,14,u[22]),x=f(x,C,R,k,m,20,u[23]),k=f(k,x,C,R,w,5,u[24]),R=f(R,k,x,C,A,9,u[25]),C=f(C,R,k,x,p,14,u[26]),x=f(x,C,R,k,b,20,u[27]),k=f(k,x,C,R,T,5,u[28]),R=f(R,k,x,C,h,9,u[29]),C=f(C,R,k,x,g,14,u[30]),k=l(k,x=f(x,C,R,k,S,20,u[31]),C,R,y,4,u[32]),R=l(R,k,x,C,b,11,u[33]),C=l(C,R,k,x,_,16,u[34]),x=l(x,C,R,k,A,23,u[35]),k=l(k,x,C,R,s,4,u[36]),R=l(R,k,x,C,m,11,u[37]),C=l(C,R,k,x,g,16,u[38]),x=l(x,C,R,k,E,23,u[39]),k=l(k,x,C,R,T,4,u[40]),R=l(R,k,x,C,a,11,u[41]),C=l(C,R,k,x,p,16,u[42]),x=l(x,C,R,k,v,23,u[43]),k=l(k,x,C,R,w,4,u[44]),R=l(R,k,x,C,S,11,u[45]),C=l(C,R,k,x,P,16,u[46]),k=d(k,x=l(x,C,R,k,h,23,u[47]),C,R,a,6,u[48]),R=d(R,k,x,C,g,10,u[49]),C=d(C,R,k,x,A,15,u[50]),x=d(x,C,R,k,y,21,u[51]),k=d(k,x,C,R,S,6,u[52]),R=d(R,k,x,C,p,10,u[53]),C=d(C,R,k,x,E,15,u[54]),x=d(x,C,R,k,s,21,u[55]),k=d(k,x,C,R,b,6,u[56]),R=d(R,k,x,C,P,10,u[57]),C=d(C,R,k,x,v,15,u[58]),x=d(x,C,R,k,T,21,u[59]),k=d(k,x,C,R,m,6,u[60]),R=d(R,k,x,C,_,10,u[61]),C=d(C,R,k,x,h,15,u[62]),x=d(x,C,R,k,w,21,u[63]),o[0]=o[0]+k|0,o[1]=o[1]+x|0,o[2]=o[2]+C|0,o[3]=o[3]+R|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var u=this._hash,s=u.words,c=0;c<4;c++){var f=s[c];s[c]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8)}return u},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,i,o,a){var u=e+(t&n|~t&r)+i+a;return(u<<o|u>>>32-o)+t}function f(e,t,n,r,i,o,a){var u=e+(t&r|n&~r)+i+a;return(u<<o|u>>>32-o)+t}function l(e,t,n,r,i,o,a){var u=e+(t^n^r)+i+a;return(u<<o|u>>>32-o)+t}function d(e,t,n,r,i,o,a){var u=e+(n^(t|~r))+i+a;return(u<<o|u>>>32-o)+t}t.MD5=o._createHelper(s),t.HmacMD5=o._createHmacHelper(s)}(Math),r.MD5)},function(e,t,n){var r,i,o,a,u,s,c,f;e.exports=(f=n(140),i=(r=f).lib,o=i.WordArray,a=i.Hasher,u=r.algo,s=[],c=u.SHA1=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],c=0;c<80;c++){if(c<16)s[c]=0|e[t+c];else{var f=s[c-3]^s[c-8]^s[c-14]^s[c-16];s[c]=f<<1|f>>>31}var l=(r<<5|r>>>27)+u+s[c];l+=c<20?1518500249+(i&o|~i&a):c<40?1859775393+(i^o^a):c<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,u=a,a=o,o=i<<30|i>>>2,i=r,r=l}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=a._createHelper(c),r.HmacSHA1=a._createHmacHelper(c),f.SHA1)},function(e,t,n){var r,i,o,a;e.exports=(r=n(140),o=(i=r).lib.Base,a=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=a.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),o=this._iKey=t.clone(),u=i.words,s=o.words,c=0;c<n;c++)u[c]^=1549556828,s[c]^=909522486;i.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},function(e,t,n){var r,i,o,a,u,s,c,f,l,d,h,p,m,y,v,g,b,w,E;e.exports=(r=n(140),n(497),void(r.lib.Cipher||(i=r,o=i.lib,a=o.Base,u=o.WordArray,s=o.BufferedBlockAlgorithm,c=i.enc,c.Utf8,f=c.Base64,l=i.algo.EvpKDF,d=o.Cipher=s.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?E:b}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),o.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),h=i.mode={},p=o.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),m=h.CBC=function(){var e=p.extend();function t(e,t,n){var r,i=this._iv;i?(r=i,this._iv=void 0):r=this._prevBlock;for(var o=0;o<n;o++)e[t+o]^=r[o]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);r.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=o}}),e}(),y=(i.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,o=[],a=0;a<r;a+=4)o.push(i);var s=u.create(o,r);e.concat(s)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.BlockCipher=d.extend({cfg:d.cfg.extend({mode:m,padding:y}),reset:function(){var e;d.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),v=o.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),g=(i.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?u.create([1398893684,1701076831]).concat(n).concat(t):t).toString(f)},parse:function(e){var t,n=f.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=u.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),v.create({ciphertext:n,salt:t})}},b=o.SerializableCipher=a.extend({cfg:a.extend({format:g}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),a=i.cfg;return v.create({ciphertext:o,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),w=(i.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=u.random(8));var i=l.create({keySize:t+n}).compute(e,r),o=u.create(i.words.slice(t),4*n);return i.sigBytes=4*t,v.create({key:i,iv:o,salt:r})}},E=o.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:w}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var o=b.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,b.decrypt.call(this,e,t,i.key,r)}}))))},function(e,t,n){var r=n(246),i=n(310),o=n(431),a=n(434),u=n(435),s=n(439),c=Date.prototype.getTime;function f(e,t,n){var h=n||{};return!!(h.strict?o(e,t):e===t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?h.strict?o(e,t):e==t:function(e,t,n){var o,h;if(typeof e!=typeof t)return!1;if(l(e)||l(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e)!==i(t))return!1;var p=a(e),m=a(t);if(p!==m)return!1;if(p||m)return e.source===t.source&&u(e)===u(t);if(s(e)&&s(t))return c.call(e)===c.call(t);var y=d(e),v=d(t);if(y!==v)return!1;if(y||v){if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}if(typeof e!=typeof t)return!1;try{var g=r(e),b=r(t)}catch(e){return!1}if(g.length!==b.length)return!1;for(g.sort(),b.sort(),o=g.length-1;o>=0;o--)if(g[o]!=b[o])return!1;for(o=g.length-1;o>=0;o--)if(h=g[o],!f(e[h],t[h],n))return!1;return!0}(e,t,h))}function l(e){return null==e}function d(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=f},function(e,t,n){"use strict";t.arrayApply=function(e){return function(t){for(var n=e.length,r=t.length,i=new Array(n*r),o=0,a=0;a<n;a++)for(var u=e[a],s=0;s<r;s++)i[o++]=u(t[s]);return i}}},function(e,t,n){"use strict";t.arrayMap=function(e){return function(t){for(var n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=e(t[i]);return r}}},function(e,t,n){"use strict";t.unit={}},function(e,t,n){"use strict";t.showIntImpl=function(e){return e.toString()},t.showNumberImpl=function(e){var t=e.toString();return isNaN(t+".0")?t:t+".0"},t.showCharImpl=function(e){var t=e.charCodeAt(0);if(t<32||127===t){switch(e){case"":return"'\\a'";case"\b":return"'\\b'";case"\f":return"'\\f'";case"\n":return"'\\n'";case"\r":return"'\\r'";case"\t":return"'\\t'";case"\v":return"'\\v'"}return"'\\"+t.toString(10)+"'"}return"'"===e||"\\"===e?"'\\"+e+"'":"'"+e+"'"},t.showStringImpl=function(e){var t=e.length;return'"'+e.replace(/[\0-\x1F\x7F"\\]/g,(function(n,r){switch(n){case'"':case"\\":return"\\"+n;case"":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\v":return"\\v"}var i=r+1,o=i<t&&e[i]>="0"&&e[i]<="9"?"\\&":"";return"\\"+n.charCodeAt(0).toString(10)+o}))+'"'},t.showArrayImpl=function(e){return function(t){for(var n=[],r=0,i=t.length;r<i;r++)n[r]=e(t[r]);return"["+n.join(",")+"]"}},t.cons=function(e){return function(t){return[e].concat(t)}},t.join=function(e){return function(t){return t.join(e)}}},function(e,t,n){"use strict";t.unsafeCoerce=function(e){return e}},function(e,t,n){"use strict";t.unsafeHas=function(e){return function(t){return{}.hasOwnProperty.call(t,e)}},t.unsafeGet=function(e){return function(t){return t[e]}},t.unsafeSet=function(e){return function(t){return function(n){var r={};for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i]);return r[e]=t,r}}},t.unsafeDelete=function(e){return function(t){var n={};for(var r in t)r!==e&&{}.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}}},function(e,t,n){"use strict";t.arrayBind=function(e){return function(t){for(var n=[],r=0,i=e.length;r<i;r++)Array.prototype.push.apply(n,t(e[r]));return n}}},function(e,t,n){"use strict";t.concatString=function(e){return function(t){return e+t}},t.concatArray=function(e){return function(t){return 0===e.length?t:0===t.length?e:e.concat(t)}}},function(e,t,n){"use strict";t.arrayExtend=function(e){return function(t){return t.map((function(t,n,r){return e(r.slice(n))}))}}},function(e,t,n){"use strict";t.topInt=2147483647,t.bottomInt=-2147483648,t.topChar=String.fromCharCode(65535),t.bottomChar=String.fromCharCode(0),t.topNumber=Number.POSITIVE_INFINITY,t.bottomNumber=Number.NEGATIVE_INFINITY},function(e,t,n){"use strict";var r=function(e){return function(t){return function(n){return function(r){return function(i){return r<i?e:r===i?t:n}}}}};t.ordBooleanImpl=r,t.ordIntImpl=r,t.ordNumberImpl=r,t.ordStringImpl=r,t.ordCharImpl=r,t.ordArrayImpl=function(e){return function(t){return function(n){for(var r=0,i=t.length,o=n.length;r<i&&r<o;){var a=t[r],u=n[r],s=e(a)(u);if(0!==s)return s;r++}return i===o?0:i>o?-1:1}}}},function(e,t,n){"use strict";var r=function(e){return function(t){return e===t}};t.eqBooleanImpl=r,t.eqIntImpl=r,t.eqNumberImpl=r,t.eqCharImpl=r,t.eqStringImpl=r,t.eqArrayImpl=function(e){return function(t){return function(n){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!e(t[r])(n[r]))return!1;return!0}}}},function(e,t,n){"use strict";t.intSub=function(e){return function(t){return e-t|0}},t.numSub=function(e){return function(t){return e-t}}},function(e,t,n){"use strict";t.intAdd=function(e){return function(t){return e+t|0}},t.intMul=function(e){return function(t){return e*t|0}},t.numAdd=function(e){return function(t){return e+t}},t.numMul=function(e){return function(t){return e*t}}},function(e,t,n){"use strict";t.intDegree=function(e){return Math.min(Math.abs(e),2147483647)},t.intDiv=function(e){return function(t){return 0===t?0:t>0?Math.floor(e/t):-Math.floor(e/-t)}},t.intMod=function(e){return function(t){if(0===t)return 0;var n=Math.abs(t);return(e%n+n)%n}},t.numDiv=function(e){return function(t){return e/t}}},function(e,t,n){"use strict";t.pureE=function(e){return function(){return e}},t.bindE=function(e){return function(t){return function(){return t(e())()}}},t.untilE=function(e){return function(){for(;!e(););}},t.whileE=function(e){return function(t){return function(){for(;e();)t()}}},t.forE=function(e){return function(t){return function(n){return function(){for(var r=e;r<t;r++)n(r)()}}}},t.foreachE=function(e){return function(t){return function(){for(var n=0,r=e.length;n<r;n++)t(e[n])()}}}},function(e,t,n){"use strict";t.showErrorImpl=function(e){return e.stack||e.toString()},t.error=function(e){return new Error(e)},t.message=function(e){return e.message},t.name=function(e){return e.name||"Error"},t.stackImpl=function(e){return function(t){return function(n){return n.stack?e(n.stack):t}}},t.throwException=function(e){return function(){throw e}},t.catchException=function(e){return function(t){return function(){try{return t()}catch(t){return t instanceof Error||"[object Error]"===Object.prototype.toString.call(t)?e(t)():e(new Error(t.toString()))()}}}}},function(e,t){t.promise=function(e){return function(){return new Promise((function(t,n){try{e((function(e){return function(){return t(e)}}))((function(e){return function(){return n(e)}}))()}catch(e){n(e)}}))}},t.thenImpl=function(e){return function(t){return function(n){return function(){e.then(n,t)}}}}},function(e,t,n){"use strict";t.boolConj=function(e){return function(t){return e&&t}},t.boolDisj=function(e){return function(t){return e||t}},t.boolNot=function(e){return!e}},function(e,t,n){"use strict";t.unsafeCoerce=function(e){return e}},function(e,t,n){"use strict";t.new=function(e){return function(){return{value:e}}},t.newWithSelf=function(e){return function(){var t={value:null};return t.value=e(t),t}},t.read=function(e){return function(){return e.value}},t.modifyImpl=function(e){return function(t){return function(){var n=e(t.value);return t.value=n.state,n.value}}},t.write=function(e){return function(t){return function(){t.value=e}}}},function(e,t,n){"use strict";t.foldrArray=function(e){return function(t){return function(n){for(var r=t,i=n.length-1;i>=0;i--)r=e(n[i])(r);return r}}},t.foldlArray=function(e){return function(t){return function(n){for(var r=t,i=n.length,o=0;o<i;o++)r=e(r)(n[o]);return r}}}},function(e,t,n){"use strict";t.mapWithIndexArray=function(e){return function(t){for(var n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e(i)(t[i]);return r}}},function(e,t,n){"use strict";var r=n(63),i=n(28),o=n(26),a=n(16),u=n(20),s=n(18),c=function(e){return new u.Semigroup((function(t){return function(n){return a.max(e)(t)(n)}}))},f=new o.Newtype((function(){})),l=function(e){return e};e.exports={Max:function(e){return e},newtypeMax:f,eqMax:l,ordMax:function(e){return new a.Ord((function(){return e.Eq0()}),(function(t){return function(n){return a.compare(e)(t)(n)}}))},semigroupMax:c,monoidMax:function(e){return new i.Monoid((function(){return c(e.Ord0())}),r.bottom(e))},showMax:function(e){return new s.Show((function(t){return"(Max "+s.show(e)(t)+")"}))}}},function(e,t,n){"use strict";var r=n(63),i=n(28),o=n(26),a=n(16),u=n(20),s=n(18),c=function(e){return new u.Semigroup((function(t){return function(n){return a.min(e)(t)(n)}}))},f=new o.Newtype((function(){})),l=function(e){return e};e.exports={Min:function(e){return e},newtypeMin:f,eqMin:l,ordMin:function(e){return new a.Ord((function(){return e.Eq0()}),(function(t){return function(n){return a.compare(e)(t)(n)}}))},semigroupMin:c,monoidMin:function(e){return new i.Monoid((function(){return c(e.Ord0())}),r.top(e))},showMin:function(e){return new s.Show((function(t){return"(Min "+s.show(e)(t)+")"}))}}},function(e,t,n){"use strict";t.traverseArrayImpl=function(){function e(e){return[e]}function t(e){return function(t){return[e,t]}}function n(e){return function(t){return function(n){return[e,t,n]}}}function r(e){return function(t){return e.concat(t)}}return function(i){return function(o){return function(a){return function(u){return function(s){return function c(f,l){switch(l-f){case 0:return a([]);case 1:return o(e)(u(s[f]));case 2:return i(o(t)(u(s[f])))(u(s[f+1]));case 3:return i(i(o(n)(u(s[f])))(u(s[f+1])))(u(s[f+2]));default:var d=f+2*Math.floor((l-f)/4);return i(o(r)(c(f,d)))(c(d,l))}}(0,s.length)}}}}}}()},function(e,t,n){"use strict";t.unfoldrArrayImpl=function(e){return function(t){return function(n){return function(r){return function(i){return function(o){for(var a=[],u=o;;){var s=i(u);if(e(s))return a;var c=t(s);a.push(n(c)),u=r(c)}}}}}}}},function(e,t,n){"use strict";t.unfoldr1ArrayImpl=function(e){return function(t){return function(n){return function(r){return function(i){return function(o){for(var a=[],u=o;;){var s=i(u);a.push(n(s));var c=r(s);if(e(c))return a;u=t(c)}}}}}}}},function(e,t,n){"use strict";(function(e,n){var r=function(){var e={},t="Sequential",n="Cons";function r(e,t,n,r){this.tag=e,this._1=t,this._2=n,this._3=r}function i(e){var t=function(t,n,i){return new r(e,t,n,i)};return t.tag=e,t}function o(e){return new r("Pure",void 0)}function a(e){try{e()}catch(e){setTimeout((function(){throw e}),0)}}function u(e,t,n){try{return t(n())}catch(t){return e(t)}}function s(e,t,n){try{return t(n)()}catch(t){return n(e(t))(),o}}var c=function(){var e=0,t=0,n=new Array(1024),r=!1;function i(){var i;for(r=!0;0!==e;)e--,i=n[t],n[t]=void 0,t=(t+1)%1024,i();r=!1}return{isDraining:function(){return r},enqueue:function(o){var a;1024===e&&(a=r,i(),r=a),n[(t+e)%1024]=o,e++,r||i()}}}();function f(e,i,o){var l=0,h=0,p=o,m=null,y=null,v=null,g=null,b=null,w=0,E=0,_=null,S=!0;function T(o){for(var E,A,P;;)switch(E=null,A=null,P=null,h){case 2:h=1;try{p=v(p),null===g?v=null:(v=g._1,g=g._2)}catch(t){h=5,m=e.left(t),p=null}break;case 3:e.isLeft(p)?(h=5,m=p,p=null):null===v?h=5:(h=2,p=e.fromRight(p));break;case 1:switch(p.tag){case"Bind":v&&(g=new r(n,v,g)),v=p._2,h=1,p=p._1;break;case"Pure":null===v?(h=5,p=e.right(p._1)):(h=2,p=p._1);break;case"Sync":h=3,p=u(e.left,e.right,p._1);break;case"Async":return h=4,void(p=s(e.left,p._1,(function(e){return function(){l===o&&(l++,c.enqueue((function(){l===o+1&&(h=3,p=e,T(l))})))}})));case"Throw":h=5,m=e.left(p._1),p=null;break;case"Catch":b=new r(n,p,null===v?b:new r(n,new r("Resume",v,g),b,y),y),v=null,g=null,h=1,p=p._1;break;case"Bracket":w++,b=new r(n,p,null===v?b:new r(n,new r("Resume",v,g),b,y),y),v=null,g=null,h=1,p=p._1;break;case"Fork":h=3,E=f(e,i,p._2),i&&i.register(E),p._1&&E.run(),p=e.right(E);break;case t:h=1,p=d(e,i,p._1)}break;case 5:if(v=null,g=null,null===b)h=6,p=y||m||p;else switch(E=b._3,P=b._1,b=b._2,P.tag){case"Catch":y&&y!==E&&0===w?h=5:m&&(h=1,p=P._2(e.fromLeft(m)),m=null);break;case"Resume":y&&y!==E&&0===w||m?h=5:(v=P._1,g=P._2,h=2,p=e.fromRight(p));break;case"Bracket":w--,null===m&&(A=e.fromRight(p),b=new r(n,new r("Release",P._2,A),b,E),(y===E||w>0)&&(h=1,p=P._3(A)));break;case"Release":b=new r(n,new r("Finalized",p,m),b,y),h=1,p=y&&y!==E&&0===w?P._1.killed(e.fromLeft(y))(P._2):m?P._1.failed(e.fromLeft(m))(P._2):P._1.completed(e.fromRight(p))(P._2),m=null,w++;break;case"Finalizer":w++,b=new r(n,new r("Finalized",p,m),b,y),h=1,p=P._1;break;case"Finalized":w--,h=5,p=P._1,m=P._2}break;case 6:for(var k in _)_.hasOwnProperty(k)&&(S=S&&_[k].rethrow,a(_[k].handler(p)));return _=null,void(y&&m?setTimeout((function(){throw e.fromLeft(m)}),0):e.isLeft(p)&&S&&setTimeout((function(){if(S)throw e.fromLeft(p)}),0));case 0:h=1;break;case 4:return}}function A(e){return function(){if(6===h)return S=S&&e.rethrow,e.handler(p)(),function(){};var t=E++;return(_=_||{})[t]=e,function(){null!==_&&delete _[t]}}}return{kill:function(t,i){return function(){if(6===h)return i(e.right(void 0))(),function(){};var o=A({rethrow:!1,handler:function(){return i(e.right(void 0))}})();switch(h){case 0:y=e.left(t),h=6,p=y,T(l);break;case 4:null===y&&(y=e.left(t)),0===w&&(4===h&&(b=new r(n,new r("Finalizer",p(t)),b,y)),h=5,p=null,m=null,T(++l));break;default:null===y&&(y=e.left(t)),0===w&&(h=5,p=null,m=null)}return o}},join:function(e){return function(){var t=A({rethrow:!1,handler:e})();return 0===h&&T(l),t}},onComplete:A,isSuspended:function(){return 0===h},run:function(){0===h&&(c.isDraining()?T(l):c.enqueue((function(){T(l)})))}}}function l(t,i,a,u){var s=0,c={},l=0,d={},h=new Error("[ParAff] Early exit"),p=null,m=e;function y(i,o,a){var u,s,f=o,l=null,d=null,h=0,p={};e:for(;;)switch(u=null,f.tag){case"Forked":if(f._3===e&&(u=c[f._1],p[h++]=u.kill(i,(function(e){return function(){0===--h&&a(e)()}}))),null===l)break e;f=l._2,null===d?l=null:(l=d._1,d=d._2);break;case"Map":f=f._2;break;case"Apply":case"Alt":l&&(d=new r(n,l,d)),l=f,f=f._1}if(0===h)a(t.right(void 0))();else for(s=0,u=h;s<u;s++)p[s]=p[s]();return p}function v(n){return function(r){return function(){delete c[n._1],n._3=r,function n(r,i,o){var a,s,c,f,m,v;for(t.isLeft(r)?(a=r,s=null):(s=r,a=null);;){if(c=null,f=null,m=null,v=null,null!==p)return;if(null===i)return void u(a||s)();if(i._3!==e)return;switch(i.tag){case"Map":null===a?(i._3=t.right(i._1(t.fromRight(s))),s=i._3):i._3=a;break;case"Apply":if(c=i._1._3,f=i._2._3,a){if(i._3=a,m=!0,v=l++,d[v]=y(h,a===c?i._2:i._1,(function(){return function(){delete d[v],m?m=!1:null===o?n(a,null,null):n(a,o._1,o._2)}})),m)return void(m=!1)}else{if(c===e||f===e)return;s=t.right(t.fromRight(c)(t.fromRight(f))),i._3=s}break;case"Alt":if(c=i._1._3,f=i._2._3,c===e&&t.isLeft(f)||f===e&&t.isLeft(c))return;if(c!==e&&t.isLeft(c)&&f!==e&&t.isLeft(f))a=s===c?f:c,s=null,i._3=a;else if(i._3=s,m=!0,v=l++,d[v]=y(h,s===c?i._2:i._1,(function(){return function(){delete d[v],m?m=!1:null===o?n(s,null,null):n(s,o._1,o._2)}})),m)return void(m=!1)}null===o?i=null:(i=o._1,o=o._2)}}(r,n._2._1,n._2._2)}}}return function(){var o,u,l=1,d=a,h=null,p=null;e:for(;;)switch(o=null,u=null,l){case 1:switch(d.tag){case"Map":h&&(p=new r(n,h,p)),h=new r("Map",d._1,e,e),d=d._2;break;case"Apply":h&&(p=new r(n,h,p)),h=new r("Apply",e,d._2,e),d=d._1;break;case"Alt":h&&(p=new r(n,h,p)),h=new r("Alt",e,d._2,e),d=d._1;break;default:l=5,o=d,d=new r("Forked",u=s++,new r(n,h,p),e),(o=f(t,i,o)).onComplete({rethrow:!1,handler:v(d)})(),c[u]=o,i&&i.register(o)}break;case 5:if(null===h)break e;h._1===e?(h._1=d,l=1,d=h._2,h._2=e):(h._2=d,d=h,null===p?h=null:(h=p._1,p=p._2))}for(m=d,u=0;u<s;u++)c[u].run()}(),function(e){return new r("Async",(function(n){return function(){return function(e,n){var i;for(var a in p=t.left(e),d)if(d.hasOwnProperty(a))for(a in i=d[a])i.hasOwnProperty(a)&&i[a]();d=null;var u=y(e,m,n);return function(e){return new r("Async",(function(e){return function(){for(var e in u)u.hasOwnProperty(e)&&u[e]();return o}}))}}(e,n)}}))}}function d(e,t,n){return new r("Async",(function(r){return function(){return l(e,t,n,r)}}))}return r.EMPTY=e,r.Pure=i("Pure"),r.Throw=i("Throw"),r.Catch=i("Catch"),r.Sync=i("Sync"),r.Async=i("Async"),r.Bind=i("Bind"),r.Bracket=i("Bracket"),r.Fork=i("Fork"),r.Seq=i(t),r.ParMap=i("Map"),r.ParApply=i("Apply"),r.ParAlt=i("Alt"),r.Fiber=f,r.Supervisor=function(e){var t={},n=0,i=0;return{register:function(e){var r=n++;e.onComplete({rethrow:!0,handler:function(e){return function(){i--,delete t[r]}}})(),t[r]=e,i++},isEmpty:function(){return 0===i},killAll:function(o,a){return function(){if(0===i)return a();var u=0,s={};function c(n){s[n]=t[n].kill(o,(function(t){return function(){delete s[n],u--,e.isLeft(t)&&e.fromLeft(t)&&setTimeout((function(){throw e.fromLeft(t)}),0),0===u&&a()}}))()}for(var f in t)t.hasOwnProperty(f)&&(u++,c(f));return t={},n=0,i=0,function(e){return new r("Sync",(function(){for(var e in s)s.hasOwnProperty(e)&&s[e]()}))}}}}},r.Scheduler=c,r.nonCanceler=o,r}();t._pure=r.Pure,t._throwError=r.Throw,t._catchError=function(e){return function(t){return r.Catch(e,t)}},t._map=function(e){return function(t){return t.tag===r.Pure.tag?r.Pure(e(t._1)):r.Bind(t,(function(t){return r.Pure(e(t))}))}},t._bind=function(e){return function(t){return r.Bind(e,t)}},t._fork=function(e){return function(t){return r.Fork(e,t)}},t._liftEffect=r.Sync,t._parAffMap=function(e){return function(t){return r.ParMap(e,t)}},t._parAffApply=function(e){return function(t){return r.ParApply(e,t)}},t._parAffAlt=function(e){return function(t){return r.ParAlt(e,t)}},t.makeAff=r.Async,t.generalBracket=function(e){return function(t){return function(n){return r.Bracket(e,t,n)}}},t._makeFiber=function(e,t){return function(){return r.Fiber(e,null,t)}},t._makeSupervisedFiber=function(e,t){return function(){var n=r.Supervisor(e);return{fiber:r.Fiber(e,n,t),supervisor:n}}},t._killAll=function(e,t,n){return t.killAll(e,n)},t._delay=function(t,i){return r.Async((function(o){return function(){var a,u,s=(a=i,u=o(t()),0===a&&void 0!==e?e(u):setTimeout(u,a));return function(){return r.Sync((function(){return t(function(e,t){return 0===e&&void 0!==n?n(t):clearTimeout(t)}(i,s))}))}}}))},t._sequential=r.Seq}).call(this,n(184).setImmediate,n(184).clearImmediate)},function(e,t,n){"use strict";var r=function(e,t){this.Coercible0=e,this.proof=t},i=new r((function(){}),(function(e){return e})),o=function(e){return e.proof};e.exports={TypeEquals:r,proof:o,to:function(e){return o(e)((function(e){return e}))},from:function(e){return o(e)((function(e){return e}))},refl:i}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(15),a=n(25),u=n(145),s=n(105),c=n(40),f=n(88),l=n(78),d=n(263),h=n(2),p=n(507),m=n(125),y=n(26),v=n(164),g=n(508),b=n(509),w=n(29),E=function(e){return new f.Semigroupoid((function(t){return function(n){return s.composeCoKleisliFlipped(e)(t)(n)}}))},_=function(e){return new v.Profunctor((function(t){return function(n){return function(r){var i=h.map(e)(t);return function(e){return n(r(i(e)))}}}}))},S=new y.Newtype((function(){})),T=new h.Functor((function(e){return function(t){return function(n){return e(t(n))}}})),A=new m.Invariant(m.imapF(T)),P=new d.Distributive((function(){return T}),(function(e){return function(t){var n=d.distribute(P)(e),r=h.map(e)(t);return function(e){return n(r(e))}}}),(function(e){return function(t){return function(n){return h.map(e)((function(e){return e(n)}))(t)}}})),k=new i.Apply((function(){return T}),(function(e){return function(t){return function(n){return e(n)(t(n))}}})),x=new o.Bind((function(){return k}),(function(e){return function(t){return function(n){return t(e(n))(n)}}})),C=new r.Applicative((function(){return k}),(function(e){return function(t){return e}})),R=new c.Monad((function(){return C}),(function(){return x}));e.exports={Costar:function(e){return e},hoistCostar:function(e){return function(t){return v.lcmap(v.profunctorFn)(e)(t)}},newtypeCostar:S,semigroupoidCostar:E,categoryCostar:function(e){return new a.Category((function(){return E(e.Extend0())}),u.extract(e))},functorCostar:T,invariantCostar:A,applyCostar:k,applicativeCostar:C,bindCostar:x,monadCostar:R,distributiveCostar:P,bifunctorCostar:function(e){return new l.Bifunctor((function(t){return function(n){return function(r){var i=p.cmap(e)(t);return function(e){return n(r(i(e)))}}}}))},profunctorCostar:_,strongCostar:function(e){return new b.Strong((function(){return _(e.Extend0().Functor0())}),(function(t){return function(n){return new w.Tuple(t(h.map(e.Extend0().Functor0())(w.fst)(n)),w.snd(u.extract(e)(n)))}}),(function(t){return function(n){return new w.Tuple(w.fst(u.extract(e)(n)),t(h.map(e.Extend0().Functor0())(w.snd)(n)))}}))},closedCostar:function(e){return new g.Closed((function(){return _(e)}),(function(t){return function(n){return function(r){return t(h.map(e)((function(e){return e(r)}))(n))}}}))}}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(25),c=n(40),f=n(93),l=n(73),d=n(46),h=n(88),p=n(263),m=n(41),y=n(2),v=n(125),g=n(26),b=n(164),w=n(879),E=n(508),_=n(509),S=n(29),T=function(e){return e},A=function(e){return new h.Semigroupoid((function(t){return function(n){return function(r){return u.bind(e)(n(r))(t)}}}))},P=function(e){return new b.Profunctor((function(t){return function(n){return function(r){var i=y.map(e)(n);return function(e){return i(r(t(e)))}}}}))},k=new g.Newtype((function(){})),x=function(e){return new y.Functor((function(t){return function(n){var r=y.map(e)(t);return function(e){return r(n(e))}}}))},C=function(e){return new p.Distributive((function(){return x(e.Functor0())}),(function(t){return function(n){var r=p.distribute(C(e))(t),i=y.map(t)(n);return function(e){return r(i(e))}}}),(function(t){return function(n){return function(r){return p.collect(e)(t)((function(e){return e(r)}))(n)}}}))},R=function(e){return new a.Apply((function(){return x(e.Functor0())}),(function(t){return function(n){return function(r){return a.apply(e)(t(r))(n(r))}}}))},I=function(e){return new u.Bind((function(){return R(e.Apply0())}),(function(t){return function(n){return function(r){return u.bind(e)(t(r))((function(e){return n(e)(r)}))}}}))},O=function(e){return new o.Applicative((function(){return R(e.Apply0())}),(function(t){return function(n){return o.pure(e)(t)}}))},M=function(e){return new c.Monad((function(){return O(e.Applicative0())}),(function(){return I(e.Bind1())}))},N=function(e){return new r.Alt((function(){return x(e.Functor0())}),(function(t){return function(n){return function(i){return r.alt(e)(t(i))(n(i))}}}))},D=function(e){return new d.Plus((function(){return N(e.Alt0())}),(function(t){return d.empty(e)}))},L=function(e){return new i.Alternative((function(){return O(e.Applicative0())}),(function(){return D(e.Plus1())}))};e.exports={Star:T,hoistStar:function(e){return function(t){return function(n){return e(t(n))}}},newtypeStar:k,semigroupoidStar:A,categoryStar:function(e){return new s.Category((function(){return A(e.Bind1())}),o.pure(e.Applicative0()))},functorStar:x,invariantStar:function(e){return new v.Invariant((function(t){return function(n){return function(r){var i=v.imap(e)(t)(n);return function(e){return i(r(e))}}}}))},applyStar:R,applicativeStar:O,bindStar:I,monadStar:M,altStar:N,plusStar:D,alternativeStar:L,monadZeroStar:function(e){return new l.MonadZero((function(){return L(e.Alternative1())}),(function(){return M(e.Monad0())}),(function(){}))},monadPlusStar:function(e){return new f.MonadPlus((function(){return L(e.Alternative1())}),(function(){return M(e.Monad0())}))},distributiveStar:C,profunctorStar:P,strongStar:function(e){return new _.Strong((function(){return P(e)}),(function(t){return function(n){return y.map(e)((function(e){return new S.Tuple(e,n.value1)}))(t(n.value0))}}),(function(t){return function(n){return y.map(e)(S.Tuple.create(n.value0))(t(n.value1))}}))},choiceStar:function(e){return new w.Choice((function(){return P(e.Apply0().Functor0())}),(function(t){return m.either((r=y.map(e.Apply0().Functor0())(m.Left.create),function(e){return r(t(e))}))((n=o.pure(e),function(e){return n(m.Right.create(e))}));var n,r}),(function(t){return m.either((r=o.pure(e),function(e){return r(m.Left.create(e))}))((n=y.map(e.Apply0().Functor0())(m.Right.create),function(e){return n(t(e))}));var n,r}))},closedStar:function(e){return new E.Closed((function(){return P(e.Functor0())}),(function(t){return function(n){return p.distribute(e)(y.functorFn)((function(e){return t(n(e))}))}}))}}},function(e,t,n){"use strict";var r=n(25),i=n(88),o=n(41),a=n(2),u=n(164),s=function(e,t,n){this.Profunctor0=e,this.left=t,this.right=n},c=function(e){return e.right},f=function(e){return e.left},l=function(e){return function(t){return function(n){return function(r){return i.composeFlipped(e.Semigroupoid0())(f(t)(n))(c(t)(r))}}}},d=new s((function(){return u.profunctorFn}),(function(e){return function(t){if(t instanceof o.Left)return o.Left.create(e(t.value0));if(t instanceof o.Right)return new o.Right(t.value0);throw new Error("Failed pattern match at Data.Profunctor.Choice (line 32, column 1 - line 35, column 16): "+[e.constructor.name,t.constructor.name])}}),a.map(o.functorEither));e.exports={left:f,right:c,Choice:s,splitChoice:l,fanin:function(e){return function(t){return function(n){return function(a){var s=u.dimap(t.Profunctor0())(o.either(r.identity(r.categoryFn))(r.identity(r.categoryFn)))(r.identity(r.categoryFn))(r.identity(e));return i.composeFlipped(e.Semigroupoid0())(l(e)(t)(n)(a))(s)}}}},choiceFn:d}},function(e,t,n){"use strict";t.unsafePerformEffect=function(e){return e()}},function(e,t,n){"use strict";t._unsafePartial=function(e){return e()}},function(e,t,n){"use strict";var r=n(883),i=function(e){return r._crashWith};e.exports={crash:function(e){return i()("Partial.crash: partial function")},crashWith:i}},function(e,t,n){"use strict";t._crashWith=function(e){throw new Error(e)}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.typeOf=function(e){return r(e)},t.tagOf=function(e){return Object.prototype.toString.call(e).slice(8,-1)},t.isNull=function(e){return null===e},t.isUndefined=function(e){return void 0===e},t.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";t.fromNumberImpl=function(e){return function(t){return function(n){return(0|n)===n?e(n):t}}},t.toNumber=function(e){return e},t.fromStringAsImpl=function(e){return function(t){return function(n){var r;r=n<11?"[0-"+(n-1).toString()+"]":11===n?"[0-9a]":"[0-9a-"+String.fromCharCode(86+n)+"]";var i=new RegExp("^[\\+\\-]?"+r+"+$","i");return function(r){if(i.test(r)){var o=parseInt(r,n);return(0|o)===o?e(o):t}return t}}}},t.toStringAs=function(e){return function(t){return t.toString(e)}},t.quot=function(e){return function(t){return e/t|0}},t.rem=function(e){return function(t){return e%t}},t.pow=function(e){return function(t){return 0|Math.pow(e,t)}}},function(e,t,n){"use strict";var r=n(143),i=n(69),o=function(e,t){this.Ring0=e,this.recip=t},a=function(e){return e.recip},u=new o((function(){return r.ringNumber}),(function(e){return 1/e}));e.exports={DivisionRing:o,recip:a,leftDiv:function(e){return function(t){return function(n){return i.mul(e.Ring0().Semiring0())(a(e)(n))(t)}}},rightDiv:function(e){return function(t){return function(n){return i.mul(e.Ring0().Semiring0())(t)(a(e)(n))}}},divisionringNumber:u,Ring:r.Ring,negate:r.negate,sub:r.sub,Semiring:i.Semiring,add:i.add,mul:i.mul,one:i.one,zero:i.zero}},function(e,t,n){"use strict";t.nan=NaN,t.isNaN=isNaN,t.infinity=1/0,t.isFinite=isFinite,t.fromStringImpl=function(e,t,n,r){var i=parseFloat(e);return t(i)?n(i):r}},function(e,t,n){"use strict";t.abs=Math.abs,t.acos=Math.acos,t.asin=Math.asin,t.atan=Math.atan,t.atan2=function(e){return function(t){return Math.atan2(e,t)}},t.ceil=Math.ceil,t.cos=Math.cos,t.exp=Math.exp,t.floor=Math.floor,t.imul=Math.imul?function(e){return function(t){return Math.imul(e,t)}}:function(e){return function(t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0}},t.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)},t.log=Math.log,t.max=function(e){return function(t){return Math.max(e,t)}},t.min=function(e){return function(t){return Math.min(e,t)}},t.pow=function(e){return function(t){return Math.pow(e,t)}},t.remainder=function(e){return function(t){return e%t}},t.round=Math.round,t.sin=Math.sin,t.sqrt=Math.sqrt,t.tan=Math.tan,t.e=Math.E,t.ln2=Math.LN2,t.ln10=Math.LN10,t.log2e=Math.LOG2E,t.log10e=Math.LOG10E,t.pi=Math.PI,t.tau=2*Math.PI,t.sqrt1_2=Math.SQRT1_2,t.sqrt2=Math.SQRT2},function(e,t,n){"use strict";t.fromCharArray=function(e){return e.join("")},t.toCharArray=function(e){return e.split("")},t.singleton=function(e){return e},t._charAt=function(e){return function(t){return function(n){return function(r){return n>=0&&n<r.length?e(r.charAt(n)):t}}}},t._toChar=function(e){return function(t){return function(n){return 1===n.length?e(n):t}}},t.length=function(e){return e.length},t.countPrefix=function(e){return function(t){for(var n=0;n<t.length&&e(t.charAt(n));)n++;return n}},t._indexOf=function(e){return function(t){return function(n){return function(r){var i=r.indexOf(n);return-1===i?t:e(i)}}}},t._indexOfStartingAt=function(e){return function(t){return function(n){return function(r){return function(i){if(r<0||r>i.length)return t;var o=i.indexOf(n,r);return-1===o?t:e(o)}}}}},t._lastIndexOf=function(e){return function(t){return function(n){return function(r){var i=r.lastIndexOf(n);return-1===i?t:e(i)}}}},t._lastIndexOfStartingAt=function(e){return function(t){return function(n){return function(r){return function(i){var o=i.lastIndexOf(n,r);return-1===o?t:e(o)}}}}},t.take=function(e){return function(t){return t.substr(0,e)}},t.drop=function(e){return function(t){return t.substring(e)}},t._slice=function(e){return function(t){return function(n){return n.slice(e,t)}}},t.splitAt=function(e){return function(t){return{before:t.substring(0,e),after:t.substring(e)}}}},function(e,t,n){"use strict";t.charAt=function(e){return function(t){if(e>=0&&e<t.length)return t.charAt(e);throw new Error("Data.String.Unsafe.charAt: Invalid index.")}},t.char=function(e){if(1===e.length)return e.charAt(0);throw new Error("Data.String.Unsafe.char: Expected string of length 1.")}},function(e,t,n){"use strict";var r=n(11),i=n(15),o=n(100),a=n(41),u=n(23),s=n(2),c=n(5),f=n(24),l=n(35),d=n(108),h=n(58),p=n(160),m=n(514),y=n(341),v=n(342),g=n(521),b=n(344),w=n(516),E=n(266),_=n(267),S=function(e){return i.bind(d.bindAff)(h.liftEffect(d.monadEffectAff)(i.bindFlipped(l.bindEffect)(i.composeKleisliFlipped(l.bindEffect)((t=m.querySelector(e),function(e){return t(b.toParentNode(e))}))(_.document))(v.window)))((function(e){return r.pure(d.applicativeAff)(i.bindFlipped(c.bindMaybe)(E.fromElement)(e))}));var t},T=d.runAff_(a.either(p.throwException)(u.const(r.pure(l.applicativeEffect)(f.unit)))),A=d.makeAff((function(e){return function(){if(i.bindFlipped(l.bindEffect)(b.readyState)(i.bindFlipped(l.bindEffect)(_.document)(v.window))()instanceof w.Loading){var t=s.map(l.functorEffect)(_.toEventTarget)(v.window)(),n=y.eventListener((function(t){return e(new a.Right(f.unit))}))();return y.addEventListener(g.domcontentloaded)(n)(!1)(t)(),d.effectCanceler(y.removeEventListener(g.domcontentloaded)(n)(!1)(t))}return e(new a.Right(f.unit))(),d.nonCanceler}})),P=i.discard(i.discardUnit)(d.bindAff)(A)((function(){return i.bind(d.bindAff)(S("body"))((function(e){return c.maybe(o.throwError(d.monadThrowAff)(p.error("Could not find body")))(r.pure(d.applicativeAff))(e)}))}));e.exports={awaitLoad:A,awaitBody:P,selectElement:S,runHalogenAff:T}},function(e,t,n){"use strict";var r=function(e){return function(t){return function(){return t[e]}}};t.children=r("children"),t._firstElementChild=r("firstElementChild"),t._lastElementChild=r("lastElementChild"),t.childElementCount=r("childElementCount"),t._querySelector=function(e){return function(t){return function(){return t.querySelector(e)}}},t.querySelectorAll=function(e){return function(t){return function(){return t.querySelectorAll(e)}}}},function(e,t,n){"use strict";t.null=null,t.nullable=function(e,t,n){return null==e?t:n(e)},t.notNull=function(e){return e}},function(e,t,n){"use strict";t.eventListener=function(e){return function(){return function(t){return e(t)()}}},t.addEventListener=function(e){return function(t){return function(n){return function(r){return function(){return r.addEventListener(e,t,n)}}}}},t.removeEventListener=function(e){return function(t){return function(n){return function(r){return function(){return r.removeEventListener(e,t,n)}}}}},t.dispatchEvent=function(e){return function(t){return function(){return t.dispatchEvent(e)}}}},function(e,t,n){"use strict";t.window=function(){return window}},function(e,t,n){"use strict";var r=n(897),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=i.unsafeCoerce,p=o.unsafeReadProtoTagged("HTMLAnchorElement"),m=o.unsafeReadProtoTagged("HTMLAnchorElement"),y=o.unsafeReadProtoTagged("HTMLAnchorElement"),v=o.unsafeReadProtoTagged("HTMLAnchorElement"),g=o.unsafeReadProtoTagged("HTMLAnchorElement"),b=o.unsafeReadProtoTagged("HTMLAnchorElement"),w=o.unsafeReadProtoTagged("HTMLAnchorElement");e.exports={fromHTMLElement:v,fromElement:b,fromNode:y,fromChildNode:w,fromNonDocumentTypeChildNode:m,fromParentNode:p,fromEventTarget:g,toHTMLElement:f,toElement:d,toNode:s,toChildNode:h,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:l,toHTMLHyperlinkElementUtils:c,target:r.target,setTarget:r.setTarget,download:r.download,setDownload:r.setDownload,rel:r.rel,setRel:r.setRel,rev:r.rev,setRev:r.setRev,relList:r.relList,hreflang:r.hreflang,setHreflang:r.setHreflang,type_:r.type_,setType:r.setType,text:r.text,setText:r.setText}},function(e,t,n){"use strict";t.target=function(e){return function(){return e.target}},t.setTarget=function(e){return function(t){return function(){t.target=e}}},t.download=function(e){return function(){return e.download}},t.setDownload=function(e){return function(t){return function(){t.download=e}}},t.rel=function(e){return function(){return e.rel}},t.setRel=function(e){return function(t){return function(){t.rel=e}}},t.rev=function(e){return function(){return e.rev}},t.setRev=function(e){return function(t){return function(){t.rev=e}}},t.relList=function(e){return function(){return e.relList}},t.hreflang=function(e){return function(){return e.hreflang}},t.setHreflang=function(e){return function(t){return function(){t.hreflang=e}}},t.type_=function(e){return function(){return e.type}},t.setType=function(e){return function(t){return function(){t.type=e}}},t.text=function(e){return function(){return e.text}},t.setText=function(e){return function(t){return function(){t.text=e}}}},function(e,t,n){"use strict";t._unsafeReadProtoTagged=function(e,t,n,r){if("undefined"!=typeof window){var i=window[n];if(null!=i&&r instanceof i)return t(r)}for(var o=r;null!=o;){var a=Object.getPrototypeOf(o),u=a.constructor.name;if(u===n)return t(r);if("Object"===u)return e;o=a}return e}},function(e,t,n){"use strict";var r=n(900),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLAreaElement"),p=o.unsafeReadProtoTagged("HTMLAreaElement"),m=o.unsafeReadProtoTagged("HTMLAreaElement"),y=o.unsafeReadProtoTagged("HTMLAreaElement"),v=o.unsafeReadProtoTagged("HTMLAreaElement"),g=o.unsafeReadProtoTagged("HTMLAreaElement"),b=o.unsafeReadProtoTagged("HTMLAreaElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,alt:r.alt,setAlt:r.setAlt,coords:r.coords,setCoords:r.setCoords,shape:r.shape,setShape:r.setShape,target:r.target,setTarget:r.setTarget,download:r.download,setDownload:r.setDownload,rel:r.rel,setRel:r.setRel,relList:r.relList,hreflang:r.hreflang,setHreflang:r.setHreflang,type_:r.type_,setType:r.setType}},function(e,t,n){"use strict";t.alt=function(e){return function(){return e.alt}},t.setAlt=function(e){return function(t){return function(){t.alt=e}}},t.coords=function(e){return function(){return e.coords}},t.setCoords=function(e){return function(t){return function(){t.coords=e}}},t.shape=function(e){return function(){return e.shape}},t.setShape=function(e){return function(t){return function(){t.shape=e}}},t.target=function(e){return function(){return e.target}},t.setTarget=function(e){return function(t){return function(){t.target=e}}},t.download=function(e){return function(){return e.download}},t.setDownload=function(e){return function(t){return function(){t.download=e}}},t.rel=function(e){return function(){return e.rel}},t.setRel=function(e){return function(t){return function(){t.rel=e}}},t.relList=function(e){return function(){return e.relList}},t.hreflang=function(e){return function(){return e.hreflang}},t.setHreflang=function(e){return function(t){return function(){t.hreflang=e}}},t.type_=function(e){return function(){return e.type}},t.setType=function(e){return function(t){return function(){t.type=e}}}},function(e,t,n){"use strict";var r=n(902),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=i.unsafeCoerce,p=o.unsafeReadProtoTagged("HTMLAudioElement"),m=o.unsafeReadProtoTagged("HTMLAudioElement"),y=o.unsafeReadProtoTagged("HTMLAudioElement"),v=o.unsafeReadProtoTagged("HTMLAudioElement"),g=o.unsafeReadProtoTagged("HTMLAudioElement"),b=o.unsafeReadProtoTagged("HTMLAudioElement"),w=o.unsafeReadProtoTagged("HTMLAudioElement"),E=o.unsafeReadProtoTagged("HTMLAudioElement"),_=r.createWithURL;e.exports={fromHTMLMediaElement:v,fromHTMLElement:g,fromElement:w,fromNode:y,fromChildNode:E,fromNonDocumentTypeChildNode:m,fromParentNode:p,fromEventTarget:b,toHTMLMediaElement:c,toHTMLElement:f,toElement:d,toNode:s,toChildNode:h,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:l,"create'":_,create:r.create}},function(e,t,n){"use strict";t.create=function(){return new Audio},t.createWithURL=function(e){return function(){return new Audio(e)}}},function(e,t,n){"use strict";var r=n(10),i=n(21),o=r.unsafeCoerce,a=r.unsafeCoerce,u=r.unsafeCoerce,s=r.unsafeCoerce,c=r.unsafeCoerce,f=r.unsafeCoerce,l=r.unsafeCoerce,d=i.unsafeReadProtoTagged("HTMLBRElement"),h=i.unsafeReadProtoTagged("HTMLBRElement"),p=i.unsafeReadProtoTagged("HTMLBRElement"),m=i.unsafeReadProtoTagged("HTMLBRElement"),y=i.unsafeReadProtoTagged("HTMLBRElement"),v=i.unsafeReadProtoTagged("HTMLBRElement"),g=i.unsafeReadProtoTagged("HTMLBRElement");e.exports={fromHTMLElement:m,fromElement:v,fromNode:p,fromChildNode:g,fromNonDocumentTypeChildNode:h,fromParentNode:d,fromEventTarget:y,toHTMLElement:s,toElement:f,toNode:u,toChildNode:l,toNonDocumentTypeChildNode:a,toParentNode:o,toEventTarget:c}},function(e,t,n){"use strict";var r=n(905),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLBaseElement"),p=o.unsafeReadProtoTagged("HTMLBaseElement"),m=o.unsafeReadProtoTagged("HTMLBaseElement"),y=o.unsafeReadProtoTagged("HTMLBaseElement"),v=o.unsafeReadProtoTagged("HTMLBaseElement"),g=o.unsafeReadProtoTagged("HTMLBaseElement"),b=o.unsafeReadProtoTagged("HTMLBaseElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,href:r.href,setHref:r.setHref,target:r.target,setTarget:r.setTarget}},function(e,t,n){"use strict";t.href=function(e){return function(){return e.href}},t.setHref=function(e){return function(t){return function(){t.href=e}}},t.target=function(e){return function(){return e.target}},t.setTarget=function(e){return function(t){return function(){t.target=e}}}},function(e,t,n){"use strict";var r=n(10),i=n(21),o=r.unsafeCoerce,a=r.unsafeCoerce,u=r.unsafeCoerce,s=r.unsafeCoerce,c=r.unsafeCoerce,f=r.unsafeCoerce,l=r.unsafeCoerce,d=i.unsafeReadProtoTagged("HTMLBodyElement"),h=i.unsafeReadProtoTagged("HTMLBodyElement"),p=i.unsafeReadProtoTagged("HTMLBodyElement"),m=i.unsafeReadProtoTagged("HTMLBodyElement"),y=i.unsafeReadProtoTagged("HTMLBodyElement"),v=i.unsafeReadProtoTagged("HTMLBodyElement"),g=i.unsafeReadProtoTagged("HTMLBodyElement");e.exports={fromHTMLElement:m,fromElement:v,fromNode:p,fromChildNode:g,fromNonDocumentTypeChildNode:h,fromParentNode:d,fromEventTarget:y,toHTMLElement:s,toElement:f,toNode:u,toChildNode:l,toNonDocumentTypeChildNode:a,toParentNode:o,toEventTarget:c}},function(e,t,n){"use strict";var r,i=n(908),o=n(2),a=n(55),u=n(35),s=n(10),c=n(21),f=s.unsafeCoerce,l=s.unsafeCoerce,d=s.unsafeCoerce,h=s.unsafeCoerce,p=s.unsafeCoerce,m=s.unsafeCoerce,y=s.unsafeCoerce,v=c.unsafeReadProtoTagged("HTMLButtonElement"),g=c.unsafeReadProtoTagged("HTMLButtonElement"),b=c.unsafeReadProtoTagged("HTMLButtonElement"),w=c.unsafeReadProtoTagged("HTMLButtonElement"),E=c.unsafeReadProtoTagged("HTMLButtonElement"),_=c.unsafeReadProtoTagged("HTMLButtonElement"),S=c.unsafeReadProtoTagged("HTMLButtonElement"),T=(r=o.map(u.functorEffect)(a.toMaybe),function(e){return r(i._form(e))});e.exports={fromHTMLElement:w,fromElement:_,fromNode:b,fromChildNode:S,fromNonDocumentTypeChildNode:g,fromParentNode:v,fromEventTarget:E,toHTMLElement:h,toElement:m,toNode:d,toChildNode:y,toNonDocumentTypeChildNode:l,toParentNode:f,toEventTarget:p,form:T,autofocus:i.autofocus,setAutofocus:i.setAutofocus,disabled:i.disabled,setDisabled:i.setDisabled,formAction:i.formAction,setFormAction:i.setFormAction,formEnctype:i.formEnctype,setFormEnctype:i.setFormEnctype,formMethod:i.formMethod,setFormMethod:i.setFormMethod,formNoValidate:i.formNoValidate,setFormNoValidate:i.setFormNoValidate,formTarget:i.formTarget,setFormTarget:i.setFormTarget,name:i.name,setName:i.setName,type_:i.type_,setType:i.setType,value:i.value,setValue:i.setValue,willValidate:i.willValidate,validity:i.validity,validationMessage:i.validationMessage,checkValidity:i.checkValidity,reportValidity:i.reportValidity,setCustomValidity:i.setCustomValidity,labels:i.labels}},function(e,t,n){"use strict";t.autofocus=function(e){return function(){return e.autofocus}},t.setAutofocus=function(e){return function(t){return function(){t.autofocus=e}}},t.disabled=function(e){return function(){return e.disabled}},t.setDisabled=function(e){return function(t){return function(){t.disabled=e}}},t._form=function(e){return function(){return e.form}},t.formAction=function(e){return function(){return e.formAction}},t.setFormAction=function(e){return function(t){return function(){t.formAction=e}}},t.formEnctype=function(e){return function(){return e.formEnctype}},t.setFormEnctype=function(e){return function(t){return function(){t.formEnctype=e}}},t.formMethod=function(e){return function(){return e.formMethod}},t.setFormMethod=function(e){return function(t){return function(){t.formMethod=e}}},t.formNoValidate=function(e){return function(){return e.formNoValidate}},t.setFormNoValidate=function(e){return function(t){return function(){t.formNoValidate=e}}},t.formTarget=function(e){return function(){return e.formTarget}},t.setFormTarget=function(e){return function(t){return function(){t.formTarget=e}}},t.name=function(e){return function(){return e.name}},t.setName=function(e){return function(t){return function(){t.name=e}}},t.type_=function(e){return function(){return e.type}},t.setType=function(e){return function(t){return function(){t.type=e}}},t.value=function(e){return function(){return e.value}},t.setValue=function(e){return function(t){return function(){t.value=e}}},t.willValidate=function(e){return function(){return e.willValidate}},t.validity=function(e){return function(){return e.validity}},t.validationMessage=function(e){return function(){return e.validationMessage}},t.checkValidity=function(e){return function(){return e.checkValidity()}},t.reportValidity=function(e){return function(){return e.reportValidity()}},t.setCustomValidity=function(e){return function(t){return function(){t.setCustomValidity(e)}}},t.labels=function(e){return function(){return e.labels}}},function(e,t,n){"use strict";var r=n(910),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLCanvasElement"),p=o.unsafeReadProtoTagged("HTMLCanvasElement"),m=o.unsafeReadProtoTagged("HTMLCanvasElement"),y=o.unsafeReadProtoTagged("HTMLCanvasElement"),v=o.unsafeReadProtoTagged("HTMLCanvasElement"),g=o.unsafeReadProtoTagged("HTMLCanvasElement"),b=o.unsafeReadProtoTagged("HTMLCanvasElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,width:r.width,setWidth:r.setWidth,height:r.height,setHeight:r.setHeight}},function(e,t,n){"use strict";t.width=function(e){return function(){return e.width}},t.setWidth=function(e){return function(t){return function(){t.width=e}}},t.height=function(e){return function(){return e.height}},t.setHeight=function(e){return function(t){return function(){t.height=e}}}},function(e,t,n){"use strict";var r=n(10),i=n(21),o=r.unsafeCoerce,a=r.unsafeCoerce,u=r.unsafeCoerce,s=r.unsafeCoerce,c=r.unsafeCoerce,f=r.unsafeCoerce,l=r.unsafeCoerce,d=i.unsafeReadProtoTagged("HTMLDListElement"),h=i.unsafeReadProtoTagged("HTMLDListElement"),p=i.unsafeReadProtoTagged("HTMLDListElement"),m=i.unsafeReadProtoTagged("HTMLDListElement"),y=i.unsafeReadProtoTagged("HTMLDListElement"),v=i.unsafeReadProtoTagged("HTMLDListElement"),g=i.unsafeReadProtoTagged("HTMLDListElement");e.exports={fromHTMLElement:m,fromElement:v,fromNode:p,fromChildNode:g,fromNonDocumentTypeChildNode:h,fromParentNode:d,fromEventTarget:y,toHTMLElement:s,toElement:f,toNode:u,toChildNode:l,toNonDocumentTypeChildNode:a,toParentNode:o,toEventTarget:c}},function(e,t,n){"use strict";var r=n(913),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLDataElement"),p=o.unsafeReadProtoTagged("HTMLDataElement"),m=o.unsafeReadProtoTagged("HTMLDataElement"),y=o.unsafeReadProtoTagged("HTMLDataElement"),v=o.unsafeReadProtoTagged("HTMLDataElement"),g=o.unsafeReadProtoTagged("HTMLDataElement"),b=o.unsafeReadProtoTagged("HTMLDataElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,value:r.value,setValue:r.setValue}},function(e,t,n){"use strict";t.value=function(e){return function(){return e.value}},t.setValue=function(e){return function(t){return function(){t.value=e}}}},function(e,t,n){"use strict";var r=n(915),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLDataListElement"),p=o.unsafeReadProtoTagged("HTMLDataListElement"),m=o.unsafeReadProtoTagged("HTMLDataListElement"),y=o.unsafeReadProtoTagged("HTMLDataListElement"),v=o.unsafeReadProtoTagged("HTMLDataListElement"),g=o.unsafeReadProtoTagged("HTMLDataListElement"),b=o.unsafeReadProtoTagged("HTMLDataListElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,options:r.options}},function(e,t,n){"use strict";t.options=function(e){return function(){return e.options}}},function(e,t,n){"use strict";var r=n(10),i=n(21),o=r.unsafeCoerce,a=r.unsafeCoerce,u=r.unsafeCoerce,s=r.unsafeCoerce,c=r.unsafeCoerce,f=r.unsafeCoerce,l=r.unsafeCoerce,d=i.unsafeReadProtoTagged("HTMLDivElement"),h=i.unsafeReadProtoTagged("HTMLDivElement"),p=i.unsafeReadProtoTagged("HTMLDivElement"),m=i.unsafeReadProtoTagged("HTMLDivElement"),y=i.unsafeReadProtoTagged("HTMLDivElement"),v=i.unsafeReadProtoTagged("HTMLDivElement"),g=i.unsafeReadProtoTagged("HTMLDivElement");e.exports={fromHTMLElement:m,fromElement:v,fromNode:p,fromChildNode:g,fromNonDocumentTypeChildNode:h,fromParentNode:d,fromEventTarget:y,toHTMLElement:s,toElement:f,toNode:u,toChildNode:l,toNonDocumentTypeChildNode:a,toParentNode:o,toEventTarget:c}},function(e,t,n){"use strict";t._head=function(e){return function(){return e.head}},t._body=function(e){return function(){return e.body}},t._readyState=function(e){return function(){return e.readyState}},t._activeElement=function(e){return function(){return e.activeElement}},t._currentScript=function(e){return function(){return e.currentScript}},t.referrer=function(e){return function(){return e.referrer}},t.title=function(e){return function(){return e.title}},t.setTitle=function(e){return function(t){return function(){t.title=e}}}},function(e,t,n){"use strict";t._read=function(e,t,n){var r=Object.prototype.toString.call(n);return 0===r.indexOf("[object HTML")&&r.indexOf("Element]")===r.length-8?t(n):e},t.title=function(e){return function(){return e.title}},t.setTitle=function(e){return function(t){return function(){t.title=e}}},t.lang=function(e){return function(){return e.lang}},t.setLang=function(e){return function(t){return function(){t.lang=e}}},t.dir=function(e){return function(){return e.dir}},t.setDir=function(e){return function(t){return function(){t.dir=e}}},t.className=function(e){return function(){return e.className}},t.setClassName=function(e){return function(t){return function(){t.className=e}}},t.classList=function(e){return function(){return e.classList}},t.hidden=function(e){return function(){return e.hidden}},t.setHidden=function(e){return function(t){return function(){t.hidden=e}}},t.tabIndex=function(e){return function(){return e.tabIndex}},t.setTabIndex=function(e){return function(t){return function(){t.tabIndex=e}}},t.draggable=function(e){return function(){return e.draggable}},t.setDraggable=function(e){return function(t){return function(){t.draggable=e}}},t.contentEditable=function(e){return function(){return e.contentEditable}},t.setContentEditable=function(e){return function(t){return function(){t.contentEditable=e}}},t.isContentEditable=function(e){return function(){return e.isContentEditable}},t.spellcheck=function(e){return function(){return e.spellcheck}},t.setSpellcheck=function(e){return function(t){return function(){t.spellcheck=e}}},t.click=function(e){return function(){return e.click()}},t.focus=function(e){return function(){return e.focus()}},t.blur=function(e){return function(){return e.blur()}},t.getBoundingClientRect=function(e){return function(){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}},t._offsetParent=function(e){return function(){return e.offsetParent}},t.offsetTop=function(e){return function(){return e.offsetTop}},t.offsetLeft=function(e){return function(){return e.offsetLeft}},t.offsetWidth=function(e){return function(){return e.offsetWidth}},t.offsetHeight=function(e){return function(){return e.offsetHeight}}},function(e,t,n){"use strict";var r=n(920),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLEmbedElement"),p=o.unsafeReadProtoTagged("HTMLEmbedElement"),m=o.unsafeReadProtoTagged("HTMLEmbedElement"),y=o.unsafeReadProtoTagged("HTMLEmbedElement"),v=o.unsafeReadProtoTagged("HTMLEmbedElement"),g=o.unsafeReadProtoTagged("HTMLEmbedElement"),b=o.unsafeReadProtoTagged("HTMLEmbedElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,src:r.src,setSrc:r.setSrc,type_:r.type_,setType:r.setType,width:r.width,setWidth:r.setWidth,height:r.height,setHeight:r.setHeight}},function(e,t,n){"use strict";t.src=function(e){return function(){return e.src}},t.setSrc=function(e){return function(t){return function(){t.src=e}}},t.type_=function(e){return function(){return e.type}},t.setType=function(e){return function(t){return function(){t.type=e}}},t.width=function(e){return function(){return e.width}},t.setWidth=function(e){return function(t){return function(){t.width=e}}},t.height=function(e){return function(){return e.height}},t.setHeight=function(e){return function(t){return function(){t.height=e}}}},function(e,t,n){"use strict";var r,i=n(922),o=n(2),a=n(55),u=n(35),s=n(10),c=n(21),f=s.unsafeCoerce,l=s.unsafeCoerce,d=s.unsafeCoerce,h=s.unsafeCoerce,p=s.unsafeCoerce,m=s.unsafeCoerce,y=s.unsafeCoerce,v=c.unsafeReadProtoTagged("HTMLFieldSetElement"),g=c.unsafeReadProtoTagged("HTMLFieldSetElement"),b=c.unsafeReadProtoTagged("HTMLFieldSetElement"),w=c.unsafeReadProtoTagged("HTMLFieldSetElement"),E=c.unsafeReadProtoTagged("HTMLFieldSetElement"),_=c.unsafeReadProtoTagged("HTMLFieldSetElement"),S=c.unsafeReadProtoTagged("HTMLFieldSetElement"),T=(r=o.map(u.functorEffect)(a.toMaybe),function(e){return r(i._form(e))});e.exports={fromHTMLElement:w,fromElement:_,fromNode:b,fromChildNode:S,fromNonDocumentTypeChildNode:g,fromParentNode:v,fromEventTarget:E,toHTMLElement:h,toElement:m,toNode:d,toChildNode:y,toNonDocumentTypeChildNode:l,toParentNode:f,toEventTarget:p,form:T,disabled:i.disabled,setDisabled:i.setDisabled,name:i.name,setName:i.setName,type_:i.type_,setType:i.setType,willValidate:i.willValidate,validity:i.validity,validationMessage:i.validationMessage,checkValidity:i.checkValidity,reportValidity:i.reportValidity,setCustomValidity:i.setCustomValidity}},function(e,t,n){"use strict";t.disabled=function(e){return function(){return e.disabled}},t.setDisabled=function(e){return function(t){return function(){t.disabled=e}}},t._form=function(e){return function(){return e.form}},t.name=function(e){return function(){return e.name}},t.setName=function(e){return function(t){return function(){t.name=e}}},t.type_=function(e){return function(){return e.type}},t.setType=function(e){return function(t){return function(){t.type=e}}},t.willValidate=function(e){return function(){return e.willValidate}},t.validity=function(e){return function(){return e.validity}},t.validationMessage=function(e){return function(){return e.validationMessage}},t.checkValidity=function(e){return function(){return e.checkValidity()}},t.reportValidity=function(e){return function(){return e.reportValidity()}},t.setCustomValidity=function(e){return function(t){return function(){t.setCustomValidity(e)}}}},function(e,t,n){"use strict";var r=n(924),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLFormElement"),p=o.unsafeReadProtoTagged("HTMLFormElement"),m=o.unsafeReadProtoTagged("HTMLFormElement"),y=o.unsafeReadProtoTagged("HTMLFormElement"),v=o.unsafeReadProtoTagged("HTMLFormElement"),g=o.unsafeReadProtoTagged("HTMLFormElement"),b=o.unsafeReadProtoTagged("HTMLFormElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,acceptCharset:r.acceptCharset,setAcceptCharset:r.setAcceptCharset,action:r.action,setAction:r.setAction,autocomplete:r.autocomplete,setAutocomplete:r.setAutocomplete,enctype:r.enctype,setEnctype:r.setEnctype,encoding:r.encoding,setEncoding:r.setEncoding,method:r.method,setMethod:r.setMethod,name:r.name,setName:r.setName,noValidate:r.noValidate,setNoValidate:r.setNoValidate,target:r.target,setTarget:r.setTarget,length:r.length,submit:r.submit,reset:r.reset,checkValidity:r.checkValidity,reportValidity:r.reportValidity}},function(e,t,n){"use strict";t.acceptCharset=function(e){return function(){return e.acceptCharset}},t.setAcceptCharset=function(e){return function(t){return function(){t.acceptCharset=e}}},t.action=function(e){return function(){return e.action}},t.setAction=function(e){return function(t){return function(){t.action=e}}},t.autocomplete=function(e){return function(){return e.autocomplete}},t.setAutocomplete=function(e){return function(t){return function(){t.autocomplete=e}}},t.enctype=function(e){return function(){return e.enctype}},t.setEnctype=function(e){return function(t){return function(){t.enctype=e}}},t.encoding=function(e){return function(){return e.encoding}},t.setEncoding=function(e){return function(t){return function(){t.encoding=e}}},t.method=function(e){return function(){return e.method}},t.setMethod=function(e){return function(t){return function(){t.method=e}}},t.name=function(e){return function(){return e.name}},t.setName=function(e){return function(t){return function(){t.name=e}}},t.noValidate=function(e){return function(){return e.noValidate}},t.setNoValidate=function(e){return function(t){return function(){t.noValidate=e}}},t.target=function(e){return function(){return e.target}},t.setTarget=function(e){return function(t){return function(){t.target=e}}},t.length=function(e){return function(){return e.length}},t.submit=function(e){return function(){e.submit()}},t.reset=function(e){return function(){e.reset()}},t.checkValidity=function(e){return function(){return e.checkValidity()}},t.reportValidity=function(e){return function(){return e.reportValidity()}}},function(e,t,n){"use strict";var r=n(10),i=n(21),o=r.unsafeCoerce,a=r.unsafeCoerce,u=r.unsafeCoerce,s=r.unsafeCoerce,c=r.unsafeCoerce,f=r.unsafeCoerce,l=r.unsafeCoerce,d=i.unsafeReadProtoTagged("HTMLHRElement"),h=i.unsafeReadProtoTagged("HTMLHRElement"),p=i.unsafeReadProtoTagged("HTMLHRElement"),m=i.unsafeReadProtoTagged("HTMLHRElement"),y=i.unsafeReadProtoTagged("HTMLHRElement"),v=i.unsafeReadProtoTagged("HTMLHRElement"),g=i.unsafeReadProtoTagged("HTMLHRElement");e.exports={fromHTMLElement:m,fromElement:v,fromNode:p,fromChildNode:g,fromNonDocumentTypeChildNode:h,fromParentNode:d,fromEventTarget:y,toHTMLElement:s,toElement:f,toNode:u,toChildNode:l,toNonDocumentTypeChildNode:a,toParentNode:o,toEventTarget:c}},function(e,t,n){"use strict";var r=n(10),i=n(21),o=r.unsafeCoerce,a=r.unsafeCoerce,u=r.unsafeCoerce,s=r.unsafeCoerce,c=r.unsafeCoerce,f=r.unsafeCoerce,l=r.unsafeCoerce,d=i.unsafeReadProtoTagged("HTMLHeadElement"),h=i.unsafeReadProtoTagged("HTMLHeadElement"),p=i.unsafeReadProtoTagged("HTMLHeadElement"),m=i.unsafeReadProtoTagged("HTMLHeadElement"),y=i.unsafeReadProtoTagged("HTMLHeadElement"),v=i.unsafeReadProtoTagged("HTMLHeadElement"),g=i.unsafeReadProtoTagged("HTMLHeadElement");e.exports={fromHTMLElement:m,fromElement:v,fromNode:p,fromChildNode:g,fromNonDocumentTypeChildNode:h,fromParentNode:d,fromEventTarget:y,toHTMLElement:s,toElement:f,toNode:u,toChildNode:l,toNonDocumentTypeChildNode:a,toParentNode:o,toEventTarget:c}},function(e,t,n){"use strict";var r=n(10),i=n(21),o=r.unsafeCoerce,a=r.unsafeCoerce,u=r.unsafeCoerce,s=r.unsafeCoerce,c=r.unsafeCoerce,f=r.unsafeCoerce,l=r.unsafeCoerce,d=i.unsafeReadProtoTagged("HTMLHeadingElement"),h=i.unsafeReadProtoTagged("HTMLHeadingElement"),p=i.unsafeReadProtoTagged("HTMLHeadingElement"),m=i.unsafeReadProtoTagged("HTMLHeadingElement"),y=i.unsafeReadProtoTagged("HTMLHeadingElement"),v=i.unsafeReadProtoTagged("HTMLHeadingElement"),g=i.unsafeReadProtoTagged("HTMLHeadingElement");e.exports={fromHTMLElement:m,fromElement:v,fromNode:p,fromChildNode:g,fromNonDocumentTypeChildNode:h,fromParentNode:d,fromEventTarget:y,toHTMLElement:s,toElement:f,toNode:u,toChildNode:l,toNonDocumentTypeChildNode:a,toParentNode:o,toEventTarget:c}},function(e,t,n){"use strict";var r,i,o=n(929),a=n(2),u=n(55),s=n(35),c=n(10),f=n(21),l=c.unsafeCoerce,d=c.unsafeCoerce,h=c.unsafeCoerce,p=c.unsafeCoerce,m=c.unsafeCoerce,y=c.unsafeCoerce,v=c.unsafeCoerce,g=f.unsafeReadProtoTagged("HTMLIFrameElement"),b=f.unsafeReadProtoTagged("HTMLIFrameElement"),w=f.unsafeReadProtoTagged("HTMLIFrameElement"),E=f.unsafeReadProtoTagged("HTMLIFrameElement"),_=f.unsafeReadProtoTagged("HTMLIFrameElement"),S=f.unsafeReadProtoTagged("HTMLIFrameElement"),T=f.unsafeReadProtoTagged("HTMLIFrameElement"),A=(r=a.map(s.functorEffect)(u.toMaybe),function(e){return r(o._contentWindow(e))}),P=(i=a.map(s.functorEffect)(u.toMaybe),function(e){return i(o._contentDocument(e))});e.exports={fromHTMLElement:E,fromElement:S,fromNode:w,fromChildNode:T,fromNonDocumentTypeChildNode:b,fromParentNode:g,fromEventTarget:_,toHTMLElement:p,toElement:y,toNode:h,toChildNode:v,toNonDocumentTypeChildNode:d,toParentNode:l,toEventTarget:m,contentDocument:P,contentWindow:A,src:o.src,setSrc:o.setSrc,srcdoc:o.srcdoc,setSrcdoc:o.setSrcdoc,name:o.name,setName:o.setName,width:o.width,setWidth:o.setWidth,height:o.height,setHeight:o.setHeight}},function(e,t,n){"use strict";t.src=function(e){return function(){return e.src}},t.setSrc=function(e){return function(t){return function(){t.src=e}}},t.srcdoc=function(e){return function(){return e.srcdoc}},t.setSrcdoc=function(e){return function(t){return function(){t.srcdoc=e}}},t.name=function(e){return function(){return e.name}},t.setName=function(e){return function(t){return function(){t.name=e}}},t.width=function(e){return function(){return e.width}},t.setWidth=function(e){return function(t){return function(){t.width=e}}},t.height=function(e){return function(){return e.height}},t.setHeight=function(e){return function(t){return function(){t.height=e}}},t._contentDocument=function(e){return function(){return e.contentDocument}},t._contentWindow=function(e){return function(){return e.contentWindow}}},function(e,t,n){"use strict";var r,i,o,a,u,s,c,f,l=n(931),d=n(15),h=n(2),p=n(5),m=n(55),y=n(35),v=n(932),g=n(10),b=n(934),w=n(935),E=n(936),_=n(21),S=g.unsafeCoerce,T=g.unsafeCoerce,A=g.unsafeCoerce,P=g.unsafeCoerce,k=g.unsafeCoerce,x=g.unsafeCoerce,C=g.unsafeCoerce,R=(i=h.map(y.functorEffect)((r=p.fromMaybe(E.Eager.value),function(e){return r(E.parse(e))})),o=v.runEffectFn1(l._loading),function(e){return i(o(e))}),I=_.unsafeReadProtoTagged("HTMLImageElement"),O=_.unsafeReadProtoTagged("HTMLImageElement"),M=_.unsafeReadProtoTagged("HTMLImageElement"),N=_.unsafeReadProtoTagged("HTMLImageElement"),D=_.unsafeReadProtoTagged("HTMLImageElement"),L=_.unsafeReadProtoTagged("HTMLImageElement"),j=_.unsafeReadProtoTagged("HTMLImageElement"),B=(u=h.map(y.functorEffect)((a=p.fromMaybe(w.Auto.value),function(e){return a(w.parse(e))})),s=v.runEffectFn1(l._decoding),function(e){return u(s(e))}),F=(c=h.map(y.functorEffect)(d.composeKleisliFlipped(p.bindMaybe)(b.parse)(m.toMaybe)),f=v.runEffectFn1(l._crossOrigin),function(e){return c(f(e))}),U=l.createWithDimensions;e.exports={fromHTMLElement:N,fromElement:L,fromNode:M,fromChildNode:j,fromNonDocumentTypeChildNode:O,fromParentNode:I,fromEventTarget:D,toHTMLElement:P,toElement:x,toNode:A,toChildNode:C,toNonDocumentTypeChildNode:T,toParentNode:S,toEventTarget:k,"create'":U,crossOrigin:F,setCrossOrigin:function(e){return v.runEffectFn2(l._setCrossOrigin)(b.print(e))},decoding:B,setDecoding:function(e){return v.runEffectFn2(l._setDecoding)(w.print(e))},loading:R,setLoading:function(e){return v.runEffectFn2(l._setLoading)(E.print(e))},create:l.create,alt:l.alt,setAlt:l.setAlt,src:l.src,setSrc:l.setSrc,srcset:l.srcset,setSrcset:l.setSrcset,currentSrc:l.currentSrc,sizes:l.sizes,setSizes:l.setSizes,useMap:l.useMap,setUseMap:l.setUseMap,isMap:l.isMap,setIsMap:l.setIsMap,width:l.width,setWidth:l.setWidth,height:l.height,setHeight:l.setHeight,naturalWidth:l.naturalWidth,naturalHeight:l.naturalHeight,referrerPolicy:l.referrerPolicy,setReferrerPolicy:l.setReferrerPolicy,complete:l.complete}},function(e,t,n){"use strict";t.create=function(){return new Image},t.createWithDimensions=function(e){return function(t){return function(){return new Image(e,t)}}},t.alt=function(e){return function(){return e.alt}},t.setAlt=function(e){return function(t){return function(){t.alt=e}}},t.src=function(e){return function(){return e.src}},t.setSrc=function(e){return function(t){return function(){t.src=e}}},t.srcset=function(e){return function(){return e.srcset}},t.setSrcset=function(e){return function(t){return function(){t.srcset=e}}},t.sizes=function(e){return function(){return e.sizes}},t.setSizes=function(e){return function(t){return function(){t.sizes=e}}},t.currentSrc=function(e){return function(){return e.currentSrc}},t._crossOrigin=function(e){return e.crossOrigin},t._setCrossOrigin=function(e,t){t.crossOrigin=e},t.useMap=function(e){return function(){return e.useMap}},t.setUseMap=function(e){return function(t){return function(){t.useMap=e}}},t.isMap=function(e){return function(){return e.isMap}},t.setIsMap=function(e){return function(t){return function(){t.isMap=e}}},t.width=function(e){return function(){return e.width}},t.setWidth=function(e){return function(t){return function(){t.width=e}}},t.height=function(e){return function(){return e.height}},t.setHeight=function(e){return function(t){return function(){t.height=e}}},t.naturalWidth=function(e){return function(){return e.naturalWidth}},t.naturalHeight=function(e){return function(){return e.naturalHeight}},t.referrerPolicy=function(e){return function(){return e.referrerPolicy}},t.setReferrerPolicy=function(e){return function(t){return function(){t.referrerPolicy=e}}},t._decoding=function(e){return e.decoding},t._setDecoding=function(e,t){t.decoding=e},t._loading=function(e){return e.loading},t._setLoading=function(e,t){t.loading=e},t.complete=function(e){return function(){return e.complete}}},function(e,t,n){"use strict";var r=n(933),i=n(28),o=n(20),a=n(35),u=function(e){return new o.Semigroup((function(t){return function(n){return r.mkEffectFn9((function(i){return function(u){return function(s){return function(c){return function(f){return function(l){return function(d){return function(h){return function(p){return o.append(a.semigroupEffect(e))(r.runEffectFn9(t)(i)(u)(s)(c)(f)(l)(d)(h)(p))(r.runEffectFn9(n)(i)(u)(s)(c)(f)(l)(d)(h)(p))}}}}}}}}}))}}))},s=function(e){return new o.Semigroup((function(t){return function(n){return r.mkEffectFn8((function(i){return function(u){return function(s){return function(c){return function(f){return function(l){return function(d){return function(h){return o.append(a.semigroupEffect(e))(r.runEffectFn8(t)(i)(u)(s)(c)(f)(l)(d)(h))(r.runEffectFn8(n)(i)(u)(s)(c)(f)(l)(d)(h))}}}}}}}}))}}))},c=function(e){return new o.Semigroup((function(t){return function(n){return r.mkEffectFn7((function(i){return function(u){return function(s){return function(c){return function(f){return function(l){return function(d){return o.append(a.semigroupEffect(e))(r.runEffectFn7(t)(i)(u)(s)(c)(f)(l)(d))(r.runEffectFn7(n)(i)(u)(s)(c)(f)(l)(d))}}}}}}}))}}))},f=function(e){return new o.Semigroup((function(t){return function(n){return r.mkEffectFn6((function(i){return function(u){return function(s){return function(c){return function(f){return function(l){return o.append(a.semigroupEffect(e))(r.runEffectFn6(t)(i)(u)(s)(c)(f)(l))(r.runEffectFn6(n)(i)(u)(s)(c)(f)(l))}}}}}}))}}))},l=function(e){return new o.Semigroup((function(t){return function(n){return r.mkEffectFn5((function(i){return function(u){return function(s){return function(c){return function(f){return o.append(a.semigroupEffect(e))(r.runEffectFn5(t)(i)(u)(s)(c)(f))(r.runEffectFn5(n)(i)(u)(s)(c)(f))}}}}}))}}))},d=function(e){return new o.Semigroup((function(t){return function(n){return r.mkEffectFn4((function(i){return function(u){return function(s){return function(c){return o.append(a.semigroupEffect(e))(r.runEffectFn4(t)(i)(u)(s)(c))(r.runEffectFn4(n)(i)(u)(s)(c))}}}}))}}))},h=function(e){return new o.Semigroup((function(t){return function(n){return r.mkEffectFn3((function(i){return function(u){return function(s){return o.append(a.semigroupEffect(e))(r.runEffectFn3(t)(i)(u)(s))(r.runEffectFn3(n)(i)(u)(s))}}}))}}))},p=function(e){return new o.Semigroup((function(t){return function(n){return r.mkEffectFn2((function(i){return function(u){return o.append(a.semigroupEffect(e))(r.runEffectFn2(t)(i)(u))(r.runEffectFn2(n)(i)(u))}}))}}))},m=function(e){return new o.Semigroup((function(t){return function(n){return r.mkEffectFn10((function(i){return function(u){return function(s){return function(c){return function(f){return function(l){return function(d){return function(h){return function(p){return function(m){return o.append(a.semigroupEffect(e))(r.runEffectFn10(t)(i)(u)(s)(c)(f)(l)(d)(h)(p)(m))(r.runEffectFn10(n)(i)(u)(s)(c)(f)(l)(d)(h)(p)(m))}}}}}}}}}}))}}))},y=function(e){return new o.Semigroup((function(t){return function(n){return r.mkEffectFn1((function(i){return o.append(a.semigroupEffect(e))(r.runEffectFn1(t)(i))(r.runEffectFn1(n)(i))}))}}))};e.exports={semigroupEffectFn1:y,semigroupEffectFn2:p,semigroupEffectFn3:h,semigroupEffectFn4:d,semigroupEffectFn5:l,semigroupEffectFn6:f,semigroupEffectFn7:c,semigroupEffectFn8:s,semigroupEffectFn9:u,semigroupEffectFn10:m,monoidEffectFn1:function(e){return new i.Monoid((function(){return y(e.Semigroup0())}),r.mkEffectFn1((function(t){return i.mempty(a.monoidEffect(e))})))},monoidEffectFn2:function(e){return new i.Monoid((function(){return p(e.Semigroup0())}),r.mkEffectFn2((function(t){return function(t){return i.mempty(a.monoidEffect(e))}})))},monoidEffectFn3:function(e){return new i.Monoid((function(){return h(e.Semigroup0())}),r.mkEffectFn3((function(t){return function(t){return function(t){return i.mempty(a.monoidEffect(e))}}})))},monoidEffectFn4:function(e){return new i.Monoid((function(){return d(e.Semigroup0())}),r.mkEffectFn4((function(t){return function(t){return function(t){return function(t){return i.mempty(a.monoidEffect(e))}}}})))},monoidEffectFn5:function(e){return new i.Monoid((function(){return l(e.Semigroup0())}),r.mkEffectFn5((function(t){return function(t){return function(t){return function(t){return function(t){return i.mempty(a.monoidEffect(e))}}}}})))},monoidEffectFn6:function(e){return new i.Monoid((function(){return f(e.Semigroup0())}),r.mkEffectFn6((function(t){return function(t){return function(t){return function(t){return function(t){return function(t){return i.mempty(a.monoidEffect(e))}}}}}})))},monoidEffectFn7:function(e){return new i.Monoid((function(){return c(e.Semigroup0())}),r.mkEffectFn7((function(t){return function(t){return function(t){return function(t){return function(t){return function(t){return function(t){return i.mempty(a.monoidEffect(e))}}}}}}})))},monoidEffectFn8:function(e){return new i.Monoid((function(){return s(e.Semigroup0())}),r.mkEffectFn8((function(t){return function(t){return function(t){return function(t){return function(t){return function(t){return function(t){return function(t){return i.mempty(a.monoidEffect(e))}}}}}}}})))},monoidEffectFn9:function(e){return new i.Monoid((function(){return u(e.Semigroup0())}),r.mkEffectFn9((function(t){return function(t){return function(t){return function(t){return function(t){return function(t){return function(t){return function(t){return function(t){return i.mempty(a.monoidEffect(e))}}}}}}}}})))},monoidEffectFn10:function(e){return new i.Monoid((function(){return m(e.Semigroup0())}),r.mkEffectFn10((function(t){return function(t){return function(t){return function(t){return function(t){return function(t){return function(t){return function(t){return function(t){return function(t){return i.mempty(a.monoidEffect(e))}}}}}}}}}})))},mkEffectFn1:r.mkEffectFn1,mkEffectFn2:r.mkEffectFn2,mkEffectFn3:r.mkEffectFn3,mkEffectFn4:r.mkEffectFn4,mkEffectFn5:r.mkEffectFn5,mkEffectFn6:r.mkEffectFn6,mkEffectFn7:r.mkEffectFn7,mkEffectFn8:r.mkEffectFn8,mkEffectFn9:r.mkEffectFn9,mkEffectFn10:r.mkEffectFn10,runEffectFn1:r.runEffectFn1,runEffectFn2:r.runEffectFn2,runEffectFn3:r.runEffectFn3,runEffectFn4:r.runEffectFn4,runEffectFn5:r.runEffectFn5,runEffectFn6:r.runEffectFn6,runEffectFn7:r.runEffectFn7,runEffectFn8:r.runEffectFn8,runEffectFn9:r.runEffectFn9,runEffectFn10:r.runEffectFn10}},function(e,t,n){"use strict";t.mkEffectFn1=function(e){return function(t){return e(t)()}},t.mkEffectFn2=function(e){return function(t,n){return e(t)(n)()}},t.mkEffectFn3=function(e){return function(t,n,r){return e(t)(n)(r)()}},t.mkEffectFn4=function(e){return function(t,n,r,i){return e(t)(n)(r)(i)()}},t.mkEffectFn5=function(e){return function(t,n,r,i,o){return e(t)(n)(r)(i)(o)()}},t.mkEffectFn6=function(e){return function(t,n,r,i,o,a){return e(t)(n)(r)(i)(o)(a)()}},t.mkEffectFn7=function(e){return function(t,n,r,i,o,a,u){return e(t)(n)(r)(i)(o)(a)(u)()}},t.mkEffectFn8=function(e){return function(t,n,r,i,o,a,u,s){return e(t)(n)(r)(i)(o)(a)(u)(s)()}},t.mkEffectFn9=function(e){return function(t,n,r,i,o,a,u,s,c){return e(t)(n)(r)(i)(o)(a)(u)(s)(c)()}},t.mkEffectFn10=function(e){return function(t,n,r,i,o,a,u,s,c,f){return e(t)(n)(r)(i)(o)(a)(u)(s)(c)(f)()}},t.runEffectFn1=function(e){return function(t){return function(){return e(t)}}},t.runEffectFn2=function(e){return function(t){return function(n){return function(){return e(t,n)}}}},t.runEffectFn3=function(e){return function(t){return function(n){return function(r){return function(){return e(t,n,r)}}}}},t.runEffectFn4=function(e){return function(t){return function(n){return function(r){return function(i){return function(){return e(t,n,r,i)}}}}}},t.runEffectFn5=function(e){return function(t){return function(n){return function(r){return function(i){return function(o){return function(){return e(t,n,r,i,o)}}}}}}},t.runEffectFn6=function(e){return function(t){return function(n){return function(r){return function(i){return function(o){return function(a){return function(){return e(t,n,r,i,o,a)}}}}}}}},t.runEffectFn7=function(e){return function(t){return function(n){return function(r){return function(i){return function(o){return function(a){return function(u){return function(){return e(t,n,r,i,o,a,u)}}}}}}}}},t.runEffectFn8=function(e){return function(t){return function(n){return function(r){return function(i){return function(o){return function(a){return function(u){return function(s){return function(){return e(t,n,r,i,o,a,u,s)}}}}}}}}}},t.runEffectFn9=function(e){return function(t){return function(n){return function(r){return function(i){return function(o){return function(a){return function(u){return function(s){return function(c){return function(){return e(t,n,r,i,o,a,u,s,c)}}}}}}}}}}},t.runEffectFn10=function(e){return function(t){return function(n){return function(r){return function(i){return function(o){return function(a){return function(u){return function(s){return function(c){return function(f){return function(){return e(t,n,r,i,o,a,u,s,c,f)}}}}}}}}}}}}},function(e,t,n){"use strict";var r=n(13),i=n(5),o=n(16),a=n(34),u=n(18),s=function(){function e(){}return e.value=new e,e}(),c=function(){function e(){}return e.value=new e,e}(),f=new u.Show((function(e){if(e instanceof s)return"Anonymous";if(e instanceof c)return"UseCredentials";throw new Error("Failed pattern match at Web.HTML.HTMLImageElement.CORSMode (line 18, column 10 - line 20, column 39): "+[e.constructor.name])})),l=new r.Eq((function(e){return function(t){return e instanceof s&&t instanceof s||e instanceof c&&t instanceof c}})),d=new o.Ord((function(){return l}),(function(e){return function(t){if(e instanceof s&&t instanceof s)return a.EQ.value;if(e instanceof s)return a.LT.value;if(t instanceof s)return a.GT.value;if(e instanceof c&&t instanceof c)return a.EQ.value;throw new Error("Failed pattern match at Web.HTML.HTMLImageElement.CORSMode (line 15, column 1 - line 15, column 44): "+[e.constructor.name,t.constructor.name])}}));e.exports={Anonymous:s,UseCredentials:c,parse:function(e){return""===e||"anonymous"===e?new i.Just(s.value):"use-credentials"===e?new i.Just(c.value):i.Nothing.value},print:function(e){if(e instanceof s)return"anonymous";if(e instanceof c)return"use-credentials";throw new Error("Failed pattern match at Web.HTML.HTMLImageElement.CORSMode (line 30, column 9 - line 32, column 38): "+[e.constructor.name])},eqCORSMode:l,ordCORSMode:d,showDecodingHint:f}},function(e,t,n){"use strict";var r=n(13),i=n(5),o=n(16),a=n(34),u=n(18),s=function(){function e(){}return e.value=new e,e}(),c=function(){function e(){}return e.value=new e,e}(),f=function(){function e(){}return e.value=new e,e}(),l=new u.Show((function(e){if(e instanceof s)return"Sync";if(e instanceof c)return"Async";if(e instanceof f)return"Auto";throw new Error("Failed pattern match at Web.HTML.HTMLImageElement.DecodingHint (line 19, column 10 - line 22, column 19): "+[e.constructor.name])})),d=new r.Eq((function(e){return function(t){return e instanceof s&&t instanceof s||(e instanceof c&&t instanceof c||e instanceof f&&t instanceof f)}})),h=new o.Ord((function(){return d}),(function(e){return function(t){if(e instanceof s&&t instanceof s)return a.EQ.value;if(e instanceof s)return a.LT.value;if(t instanceof s)return a.GT.value;if(e instanceof c&&t instanceof c)return a.EQ.value;if(e instanceof c)return a.LT.value;if(t instanceof c)return a.GT.value;if(e instanceof f&&t instanceof f)return a.EQ.value;throw new Error("Failed pattern match at Web.HTML.HTMLImageElement.DecodingHint (line 16, column 1 - line 16, column 52): "+[e.constructor.name,t.constructor.name])}}));e.exports={Sync:s,Async:c,Auto:f,parse:function(e){return""===e?new i.Just(f.value):"sync"===e?new i.Just(s.value):"async"===e?new i.Just(c.value):"auto"===e?new i.Just(f.value):i.Nothing.value},print:function(e){if(e instanceof s)return"sync";if(e instanceof c)return"async";if(e instanceof f)return"auto";throw new Error("Failed pattern match at Web.HTML.HTMLImageElement.DecodingHint (line 33, column 9 - line 36, column 17): "+[e.constructor.name])},eqDecodingHint:d,ordDecodingHint:h,showDecodingHint:l}},function(e,t,n){"use strict";var r=n(13),i=n(5),o=n(16),a=n(34),u=n(18),s=function(){function e(){}return e.value=new e,e}(),c=function(){function e(){}return e.value=new e,e}(),f=new u.Show((function(e){if(e instanceof s)return"Eager";if(e instanceof c)return"Lazy";throw new Error("Failed pattern match at Web.HTML.HTMLImageElement.Laziness (line 18, column 10 - line 20, column 19): "+[e.constructor.name])})),l=new r.Eq((function(e){return function(t){return e instanceof s&&t instanceof s||e instanceof c&&t instanceof c}})),d=new o.Ord((function(){return l}),(function(e){return function(t){if(e instanceof s&&t instanceof s)return a.EQ.value;if(e instanceof s)return a.LT.value;if(t instanceof s)return a.GT.value;if(e instanceof c&&t instanceof c)return a.EQ.value;throw new Error("Failed pattern match at Web.HTML.HTMLImageElement.Laziness (line 15, column 1 - line 15, column 48): "+[e.constructor.name,t.constructor.name])}}));e.exports={Eager:s,Lazy:c,parse:function(e){return""===e||"eager"===e?new i.Just(s.value):"lazy"===e?new i.Just(c.value):i.Nothing.value},print:function(e){if(e instanceof s)return"eager";if(e instanceof c)return"lazy";throw new Error("Failed pattern match at Web.HTML.HTMLImageElement.Laziness (line 31, column 9 - line 33, column 17): "+[e.constructor.name])},eqDecodingHint:l,ordDecodingHint:d,showDecodingHint:f}},function(e,t,n){"use strict";t.accept=function(e){return function(){return e.accept}},t.setAccept=function(e){return function(t){return function(){t.accept=e}}},t.alt=function(e){return function(){return e.alt}},t.setAlt=function(e){return function(t){return function(){t.alt=e}}},t.autocomplete=function(e){return function(){return e.autocomplete}},t.setAutocomplete=function(e){return function(t){return function(){t.autocomplete=e}}},t.autofocus=function(e){return function(){return e.autofocus}},t.setAutofocus=function(e){return function(t){return function(){t.autofocus=e}}},t.defaultChecked=function(e){return function(){return e.defaultChecked}},t.setDefaultChecked=function(e){return function(t){return function(){t.defaultChecked=e}}},t.checked=function(e){return function(){return e.checked}},t.setChecked=function(e){return function(t){return function(){t.checked=e}}},t.dirName=function(e){return function(){return e.dirName}},t.setDirName=function(e){return function(t){return function(){t.dirName=e}}},t.disabled=function(e){return function(){return e.disabled}},t.setDisabled=function(e){return function(t){return function(){t.disabled=e}}},t._form=function(e){return function(){return e.form}},t._files=function(e){return function(){return e.files}},t.formAction=function(e){return function(){return e.formAction}},t.setFormAction=function(e){return function(t){return function(){t.formAction=e}}},t.formEnctype=function(e){return function(){return e.formEnctype}},t.setFormEnctype=function(e){return function(t){return function(){t.formEnctype=e}}},t.formMethod=function(e){return function(){return e.formMethod}},t.setFormMethod=function(e){return function(t){return function(){t.formMethod=e}}},t.formNoValidate=function(e){return function(){return e.formNoValidate}},t.setFormNoValidate=function(e){return function(t){return function(){t.formNoValidate=e}}},t.formTarget=function(e){return function(){return e.formTarget}},t.setFormTarget=function(e){return function(t){return function(){t.formTarget=e}}},t.height=function(e){return function(){return e.height}},t.setHeight=function(e){return function(t){return function(){t.height=e}}},t.indeterminate=function(e){return function(){return e.indeterminate}},t.setIndeterminate=function(e){return function(t){return function(){t.indeterminate=e}}},t._list=function(e){return function(){return e.list}},t.max=function(e){return function(){return e.max}},t.setMax=function(e){return function(t){return function(){t.max=e}}},t.maxLength=function(e){return function(){return e.maxLength}},t.setMaxLength=function(e){return function(t){return function(){t.maxLength=e}}},t.min=function(e){return function(){return e.min}},t.setMin=function(e){return function(t){return function(){t.min=e}}},t.minLength=function(e){return function(){return e.minLength}},t.setMinLength=function(e){return function(t){return function(){t.minLength=e}}},t.multiple=function(e){return function(){return e.multiple}},t.setMultiple=function(e){return function(t){return function(){t.multiple=e}}},t.name=function(e){return function(){return e.name}},t.setName=function(e){return function(t){return function(){t.name=e}}},t.pattern=function(e){return function(){return e.pattern}},t.setPattern=function(e){return function(t){return function(){t.pattern=e}}},t.placeholder=function(e){return function(){return e.placeholder}},t.setPlaceholder=function(e){return function(t){return function(){t.placeholder=e}}},t.readOnly=function(e){return function(){return e.readOnly}},t.setReadOnly=function(e){return function(t){return function(){t.readOnly=e}}},t.required=function(e){return function(){return e.required}},t.setRequired=function(e){return function(t){return function(){t.required=e}}},t.size=function(e){return function(){return e.size}},t.setSize=function(e){return function(t){return function(){t.size=e}}},t.src=function(e){return function(){return e.src}},t.setSrc=function(e){return function(t){return function(){t.src=e}}},t.step=function(e){return function(){return e.step}},t.setStep=function(e){return function(t){return function(){t.step=e}}},t.type_=function(e){return function(){return e.type}},t.setType=function(e){return function(t){return function(){t.type=e}}},t.defaultValue=function(e){return function(){return e.defaultValue}},t.setDefaultValue=function(e){return function(t){return function(){t.defaultValue=e}}},t.value=function(e){return function(){return e.value}},t.setValue=function(e){return function(t){return function(){t.value=e}}},t.valueAsDate=function(e){return function(){return e.valueAsDate}},t.setValueAsDate=function(e){return function(t){return function(){t.valueAsDate=e}}},t.valueAsNumber=function(e){return function(){return e.valueAsNumber}},t.setValueAsNumber=function(e){return function(t){return function(){t.valueAsNumber=e}}},t.width=function(e){return function(){return e.width}},t.setWidth=function(e){return function(t){return function(){t.width=e}}},t.stepUpBy=function(e){return function(t){return function(){t.stepUp(e)}}},t.stepDownBy=function(e){return function(t){return function(){t.stepDown(e)}}},t.willValidate=function(e){return function(){return e.willValidate}},t.validity=function(e){return function(){return e.validity}},t.validationMessage=function(e){return function(){return e.validationMessage}},t.checkValidity=function(e){return function(){return e.checkValidity()}},t.reportValidity=function(e){return function(){return e.reportValidity()}},t.setCustomValidity=function(e){return function(t){return function(){t.setCustomValidity(e)}}},t.labels=function(e){return function(){return e.labels}},t.select=function(e){return function(){e.select()}},t.selectionStart=function(e){return function(){return e.selectionStart}},t.setSelectionStart=function(e){return function(t){return function(){t.selectionStart=e}}},t.selectionEnd=function(e){return function(){return e.selectionEnd}},t.setSelectionEnd=function(e){return function(t){return function(){t.selectionEnd=e}}},t.selectionDirection=function(e){return function(){return e.selectionDirection}},t.setSelectionDirection=function(e){return function(t){return function(){t.selectionDirection=e}}},t.setRangeText=function(e){return function(t){return function(){t.setRangeText(e)}}},t._setRangeText=function(e,t,n,r,i){i.setRangeText(e,t,n,r)},t.setSelectionRange=function(e){return function(t){return function(n){return function(r){return function(){r.setSelectionRange(e,t,n,r)}}}}}},function(e,t,n){"use strict";var r,i=n(939),o=n(2),a=n(55),u=n(35),s=n(10),c=n(21),f=s.unsafeCoerce,l=s.unsafeCoerce,d=s.unsafeCoerce,h=s.unsafeCoerce,p=s.unsafeCoerce,m=s.unsafeCoerce,y=s.unsafeCoerce,v=c.unsafeReadProtoTagged("HTMLKeygenElement"),g=c.unsafeReadProtoTagged("HTMLKeygenElement"),b=c.unsafeReadProtoTagged("HTMLKeygenElement"),w=c.unsafeReadProtoTagged("HTMLKeygenElement"),E=c.unsafeReadProtoTagged("HTMLKeygenElement"),_=c.unsafeReadProtoTagged("HTMLKeygenElement"),S=c.unsafeReadProtoTagged("HTMLKeygenElement"),T=(r=o.map(u.functorEffect)(a.toMaybe),function(e){return r(i._form(e))});e.exports={fromHTMLElement:w,fromElement:_,fromNode:b,fromChildNode:S,fromNonDocumentTypeChildNode:g,fromParentNode:v,fromEventTarget:E,toHTMLElement:h,toElement:m,toNode:d,toChildNode:y,toNonDocumentTypeChildNode:l,toParentNode:f,toEventTarget:p,form:T,autofocus:i.autofocus,setAutofocus:i.setAutofocus,challenge:i.challenge,setChallenge:i.setChallenge,disabled:i.disabled,setDisabled:i.setDisabled,keytype:i.keytype,setKeytype:i.setKeytype,name:i.name,setName:i.setName,type_:i.type_,willValidate:i.willValidate,validity:i.validity,validationMessage:i.validationMessage,checkValidity:i.checkValidity,reportValidity:i.reportValidity,setCustomValidity:i.setCustomValidity,labels:i.labels}},function(e,t,n){"use strict";t.autofocus=function(e){return function(){return e.autofocus}},t.setAutofocus=function(e){return function(t){return function(){t.autofocus=e}}},t.challenge=function(e){return function(){return e.challenge}},t.setChallenge=function(e){return function(t){return function(){t.challenge=e}}},t.disabled=function(e){return function(){return e.disabled}},t.setDisabled=function(e){return function(t){return function(){t.disabled=e}}},t._form=function(e){return function(){return e.form}},t.keytype=function(e){return function(){return e.keytype}},t.setKeytype=function(e){return function(t){return function(){t.keytype=e}}},t.name=function(e){return function(){return e.name}},t.setName=function(e){return function(t){return function(){t.name=e}}},t.type_=function(e){return function(){return e.type}},t.willValidate=function(e){return function(){return e.willValidate}},t.validity=function(e){return function(){return e.validity}},t.validationMessage=function(e){return function(){return e.validationMessage}},t.checkValidity=function(e){return function(){return e.checkValidity()}},t.reportValidity=function(e){return function(){return e.reportValidity()}},t.setCustomValidity=function(e){return function(t){return function(){t.setCustomValidity(e)}}},t.labels=function(e){return function(){return e.labels}}},function(e,t,n){"use strict";var r=n(941),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLLIElement"),p=o.unsafeReadProtoTagged("HTMLLIElement"),m=o.unsafeReadProtoTagged("HTMLLIElement"),y=o.unsafeReadProtoTagged("HTMLLIElement"),v=o.unsafeReadProtoTagged("HTMLLIElement"),g=o.unsafeReadProtoTagged("HTMLLIElement"),b=o.unsafeReadProtoTagged("HTMLLIElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,value:r.value,setValue:r.setValue}},function(e,t,n){"use strict";t.value=function(e){return function(){return e.value}},t.setValue=function(e){return function(t){return function(){t.value=e}}}},function(e,t,n){"use strict";var r,i,o=n(943),a=n(2),u=n(55),s=n(35),c=n(10),f=n(21),l=c.unsafeCoerce,d=c.unsafeCoerce,h=c.unsafeCoerce,p=c.unsafeCoerce,m=c.unsafeCoerce,y=c.unsafeCoerce,v=c.unsafeCoerce,g=f.unsafeReadProtoTagged("HTMLLabelElement"),b=f.unsafeReadProtoTagged("HTMLLabelElement"),w=f.unsafeReadProtoTagged("HTMLLabelElement"),E=f.unsafeReadProtoTagged("HTMLLabelElement"),_=f.unsafeReadProtoTagged("HTMLLabelElement"),S=f.unsafeReadProtoTagged("HTMLLabelElement"),T=f.unsafeReadProtoTagged("HTMLLabelElement"),A=(r=a.map(s.functorEffect)(u.toMaybe),function(e){return r(o._form(e))}),P=(i=a.map(s.functorEffect)(u.toMaybe),function(e){return i(o._control(e))});e.exports={fromHTMLElement:E,fromElement:S,fromNode:w,fromChildNode:T,fromNonDocumentTypeChildNode:b,fromParentNode:g,fromEventTarget:_,toHTMLElement:p,toElement:y,toNode:h,toChildNode:v,toNonDocumentTypeChildNode:d,toParentNode:l,toEventTarget:m,form:A,control:P,htmlFor:o.htmlFor,setHtmlFor:o.setHtmlFor}},function(e,t,n){"use strict";t._form=function(e){return function(){return e.form}},t.htmlFor=function(e){return function(){return e.htmlFor}},t.setHtmlFor=function(e){return function(t){return function(){t.htmlFor=e}}},t._control=function(e){return function(){return e.control}}},function(e,t,n){"use strict";var r,i=n(945),o=n(2),a=n(55),u=n(35),s=n(10),c=n(21),f=s.unsafeCoerce,l=s.unsafeCoerce,d=s.unsafeCoerce,h=s.unsafeCoerce,p=s.unsafeCoerce,m=s.unsafeCoerce,y=s.unsafeCoerce,v=c.unsafeReadProtoTagged("HTMLLegendElement"),g=c.unsafeReadProtoTagged("HTMLLegendElement"),b=c.unsafeReadProtoTagged("HTMLLegendElement"),w=c.unsafeReadProtoTagged("HTMLLegendElement"),E=c.unsafeReadProtoTagged("HTMLLegendElement"),_=c.unsafeReadProtoTagged("HTMLLegendElement"),S=c.unsafeReadProtoTagged("HTMLLegendElement"),T=(r=o.map(u.functorEffect)(a.toMaybe),function(e){return r(i._form(e))});e.exports={fromHTMLElement:w,fromElement:_,fromNode:b,fromChildNode:S,fromNonDocumentTypeChildNode:g,fromParentNode:v,fromEventTarget:E,toHTMLElement:h,toElement:m,toNode:d,toChildNode:y,toNonDocumentTypeChildNode:l,toParentNode:f,toEventTarget:p,form:T}},function(e,t,n){"use strict";t._form=function(e){return function(){return e.form}}},function(e,t,n){"use strict";var r=n(947),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLLinkElement"),p=o.unsafeReadProtoTagged("HTMLLinkElement"),m=o.unsafeReadProtoTagged("HTMLLinkElement"),y=o.unsafeReadProtoTagged("HTMLLinkElement"),v=o.unsafeReadProtoTagged("HTMLLinkElement"),g=o.unsafeReadProtoTagged("HTMLLinkElement"),b=o.unsafeReadProtoTagged("HTMLLinkElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,disabled:r.disabled,setDisabled:r.setDisabled,href:r.href,setHref:r.setHref,crossOrigin:r.crossOrigin,setCrossOrigin:r.setCrossOrigin,rel:r.rel,setRel:r.setRel,rev:r.rev,setRev:r.setRev,relList:r.relList,media:r.media,setMedia:r.setMedia,hreflang:r.hreflang,setHreflang:r.setHreflang,type_:r.type_,setType:r.setType}},function(e,t,n){"use strict";t.disabled=function(e){return function(){return e.disabled}},t.setDisabled=function(e){return function(t){return function(){t.disabled=e}}},t.href=function(e){return function(){return e.href}},t.setHref=function(e){return function(t){return function(){t.href=e}}},t.crossOrigin=function(e){return function(){return e.crossOrigin}},t.setCrossOrigin=function(e){return function(t){return function(){t.crossOrigin=e}}},t.rel=function(e){return function(){return e.rel}},t.setRel=function(e){return function(t){return function(){t.rel=e}}},t.rev=function(e){return function(){return e.rev}},t.setRev=function(e){return function(t){return function(){t.rev=e}}},t.relList=function(e){return function(){return e.relList}},t.media=function(e){return function(){return e.media}},t.setMedia=function(e){return function(t){return function(){t.media=e}}},t.hreflang=function(e){return function(){return e.hreflang}},t.setHreflang=function(e){return function(t){return function(){t.hreflang=e}}},t.type_=function(e){return function(){return e.type}},t.setType=function(e){return function(t){return function(){t.type=e}}}},function(e,t,n){"use strict";var r=n(949),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLMapElement"),p=o.unsafeReadProtoTagged("HTMLMapElement"),m=o.unsafeReadProtoTagged("HTMLMapElement"),y=o.unsafeReadProtoTagged("HTMLMapElement"),v=o.unsafeReadProtoTagged("HTMLMapElement"),g=o.unsafeReadProtoTagged("HTMLMapElement"),b=o.unsafeReadProtoTagged("HTMLMapElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,name:r.name,setName:r.setName,areas:r.areas,images:r.images}},function(e,t,n){"use strict";t.name=function(e){return function(){return e.name}},t.setName=function(e){return function(t){return function(){t.name=e}}},t.areas=function(e){return function(){return e.areas}},t.images=function(e){return function(){return e.images}}},function(e,t,n){"use strict";var r=n(951),i=n(76),o=n(2),a=n(5),u=n(35),s=n(10),c=n(953),f=n(954),l=n(955),d=n(21),h=s.unsafeCoerce,p=s.unsafeCoerce,m=s.unsafeCoerce,y=s.unsafeCoerce,v=s.unsafeCoerce,g=s.unsafeCoerce,b=s.unsafeCoerce,w=d.unsafeReadProtoTagged("HTMLMediaElement"),E=d.unsafeReadProtoTagged("HTMLMediaElement"),_=d.unsafeReadProtoTagged("HTMLMediaElement"),S=d.unsafeReadProtoTagged("HTMLMediaElement"),T=d.unsafeReadProtoTagged("HTMLMediaElement"),A=d.unsafeReadProtoTagged("HTMLMediaElement"),P=d.unsafeReadProtoTagged("HTMLMediaElement");e.exports={fromHTMLElement:S,fromElement:A,fromNode:_,fromChildNode:P,fromNonDocumentTypeChildNode:E,fromParentNode:w,fromEventTarget:T,toHTMLElement:y,toElement:g,toNode:m,toChildNode:b,toNonDocumentTypeChildNode:p,toParentNode:h,toEventTarget:v,networkState:function(e){return o.map(u.functorEffect)((t=a.fromMaybe(f.Empty.value),n=i.toEnum(f.boundedEnumNetworkState),function(e){return t(n(e))}))((function(){return r._networkState(e)}));var t,n},canPlayType:function(e){return function(t){return o.map(u.functorEffect)((n=a.fromMaybe(c.Unspecified.value),function(e){return n(c.parse(e))}))((function(){return r._canPlayType(e,t)}));var n}},readyState:function(e){return o.map(u.functorEffect)((t=a.fromMaybe(l.HaveNothing.value),n=i.toEnum(l.boundedEnumReadyState),function(e){return t(n(e))}))((function(){return r._readyState(e)}));var t,n},src:r.src,setSrc:r.setSrc,currentSrc:r.currentSrc,crossOrigin:r.crossOrigin,setCrossOrigin:r.setCrossOrigin,preload:r.preload,setPreload:r.setPreload,load:r.load,seeking:r.seeking,currentTime:r.currentTime,setCurrentTime:r.setCurrentTime,duration:r.duration,getStartDate:r.getStartDate,paused:r.paused,defaultPlaybackRate:r.defaultPlaybackRate,setDefaultPlaybackRate:r.setDefaultPlaybackRate,playbackRate:r.playbackRate,setPlaybackRate:r.setPlaybackRate,ended:r.ended,autoplay:r.autoplay,setAutoplay:r.setAutoplay,loop:r.loop,setLoop:r.setLoop,play:r.play,pause:r.pause,mediaGroup:r.mediaGroup,setMediaGroup:r.setMediaGroup,controls:r.controls,setControls:r.setControls,volume:r.volume,setVolume:r.setVolume,muted:r.muted,setMuted:r.setMuted,defaultMuted:r.defaultMuted,setDefaultMuted:r.setDefaultMuted}},function(e,t,n){"use strict";t.src=function(e){return function(){return e.src}},t.setSrc=function(e){return function(t){return function(){t.src=e}}},t.currentSrc=function(e){return function(){return e.currentSrc}},t.crossOrigin=function(e){return function(){return e.crossOrigin}},t.setCrossOrigin=function(e){return function(t){return function(){t.crossOrigin=e}}},t._networkState=function(e){return e.networkState},t.preload=function(e){return function(){return e.preload}},t.setPreload=function(e){return function(t){return function(){t.preload=e}}},t.load=function(e){return function(){return e.load()}},t._canPlayType=function(e,t){return t.canPlayType(e)},t._readyState=function(e){return e.readyState},t.seeking=function(e){return function(){return e.seeking}},t.currentTime=function(e){return function(){return e.currentTime}},t.setCurrentTime=function(e){return function(t){return function(){t.currentTime=e}}},t.duration=function(e){return function(){return e.duration}},t.getStartDate=function(e){return function(){return e.getStartDate()}},t.paused=function(e){return function(){return e.paused}},t.defaultPlaybackRate=function(e){return function(){return e.defaultPlaybackRate}},t.setDefaultPlaybackRate=function(e){return function(t){return function(){t.defaultPlaybackRate=e}}},t.playbackRate=function(e){return function(){return e.playbackRate}},t.setPlaybackRate=function(e){return function(t){return function(){t.playbackRate=e}}},t.ended=function(e){return function(){return e.ended}},t.autoplay=function(e){return function(){return e.autoplay}},t.setAutoplay=function(e){return function(t){return function(){t.autoplay=e}}},t.loop=function(e){return function(){return e.loop}},t.setLoop=function(e){return function(t){return function(){t.loop=e}}},t.play=function(e){return function(){e.play()}},t.pause=function(e){return function(){e.pause()}},t.mediaGroup=function(e){return function(){return e.mediaGroup}},t.setMediaGroup=function(e){return function(t){return function(){t.mediaGroup=e}}},t.controls=function(e){return function(){return e.controls}},t.setControls=function(e){return function(t){return function(){t.controls=e}}},t.volume=function(e){return function(){return e.volume}},t.setVolume=function(e){return function(t){return function(){t.volume=e}}},t.muted=function(e){return function(){return e.muted}},t.setMuted=function(e){return function(t){return function(){t.muted=e}}},t.defaultMuted=function(e){return function(){return e.defaultMuted}},t.setDefaultMuted=function(e){return function(t){return function(){t.defaultMuted=e}}}},function(e,t,n){"use strict";t.toCharCode=function(e){return e.charCodeAt(0)},t.fromCharCode=function(e){return String.fromCharCode(e)}},function(e,t,n){"use strict";var r=n(13),i=n(5),o=n(16),a=n(34),u=n(18),s=function(){function e(){}return e.value=new e,e}(),c=function(){function e(){}return e.value=new e,e}(),f=function(){function e(){}return e.value=new e,e}(),l=new u.Show((function(e){if(e instanceof s)return"Unspecified";if(e instanceof c)return"Maybe";if(e instanceof f)return"Probably";throw new Error("Failed pattern match at Web.HTML.HTMLMediaElement.CanPlayType (line 16, column 10 - line 19, column 27): "+[e.constructor.name])})),d=new r.Eq((function(e){return function(t){return e instanceof s&&t instanceof s||(e instanceof c&&t instanceof c||e instanceof f&&t instanceof f)}})),h=new o.Ord((function(){return d}),(function(e){return function(t){if(e instanceof s&&t instanceof s)return a.EQ.value;if(e instanceof s)return a.LT.value;if(t instanceof s)return a.GT.value;if(e instanceof c&&t instanceof c)return a.EQ.value;if(e instanceof c)return a.LT.value;if(t instanceof c)return a.GT.value;if(e instanceof f&&t instanceof f)return a.EQ.value;throw new Error("Failed pattern match at Web.HTML.HTMLMediaElement.CanPlayType (line 13, column 1 - line 13, column 50): "+[e.constructor.name,t.constructor.name])}}));e.exports={Unspecified:s,Maybe:c,Probably:f,parse:function(e){return""===e?new i.Just(s.value):"maybe"===e?new i.Just(c.value):"probably"===e?new i.Just(f.value):i.Nothing.value},print:function(e){if(e instanceof s)return"";if(e instanceof c)return"maybe";if(e instanceof f)return"probably";throw new Error("Failed pattern match at Web.HTML.HTMLMediaElement.CanPlayType (line 29, column 9 - line 32, column 25): "+[e.constructor.name])},eqCanPlayType:d,ordCanPlayType:h,showCanPlayType:l}},function(e,t,n){"use strict";var r=n(63),i=n(76),o=n(13),a=n(5),u=n(16),s=n(34),c=n(18),f=function(){function e(){}return e.value=new e,e}(),l=function(){function e(){}return e.value=new e,e}(),d=function(){function e(){}return e.value=new e,e}(),h=function(){function e(){}return e.value=new e,e}(),p=function(e){return 0===e?new a.Just(f.value):1===e?new a.Just(l.value):2===e?new a.Just(d.value):3===e?new a.Just(h.value):a.Nothing.value},m=new c.Show((function(e){if(e instanceof f)return"Empty";if(e instanceof l)return"Idle";if(e instanceof d)return"Loading";if(e instanceof h)return"NoSource";throw new Error("Failed pattern match at Web.HTML.HTMLMediaElement.NetworkState (line 29, column 1 - line 33, column 29): "+[e.constructor.name])})),y=function(e){if(e instanceof f)return 0;if(e instanceof l)return 1;if(e instanceof d)return 2;if(e instanceof h)return 3;throw new Error("Failed pattern match at Web.HTML.HTMLMediaElement.NetworkState (line 46, column 3 - line 50, column 18): "+[e.constructor.name])},v=new o.Eq((function(e){return function(t){return e instanceof f&&t instanceof f||(e instanceof l&&t instanceof l||(e instanceof d&&t instanceof d||e instanceof h&&t instanceof h))}})),g=new u.Ord((function(){return v}),(function(e){return function(t){if(e instanceof f&&t instanceof f)return s.EQ.value;if(e instanceof f)return s.LT.value;if(t instanceof f)return s.GT.value;if(e instanceof l&&t instanceof l)return s.EQ.value;if(e instanceof l)return s.LT.value;if(t instanceof l)return s.GT.value;if(e instanceof d&&t instanceof d)return s.EQ.value;if(e instanceof d)return s.LT.value;if(t instanceof d)return s.GT.value;if(e instanceof h&&t instanceof h)return s.EQ.value;throw new Error("Failed pattern match at Web.HTML.HTMLMediaElement.NetworkState (line 14, column 1 - line 14, column 52): "+[e.constructor.name,t.constructor.name])}})),b=new i.Enum((function(){return g}),i.defaultPred(p)(y),i.defaultSucc(p)(y)),w=new r.Bounded((function(){return g}),f.value,h.value),E=new i.BoundedEnum((function(){return w}),(function(){return b}),4,y,p);e.exports={Empty:f,Idle:l,Loading:d,NoSource:h,eqNetworkState:v,ordNetworkState:g,boundedNetworkState:w,enumNetworkState:b,boundedEnumNetworkState:E,showNetworkState:m}},function(e,t,n){"use strict";var r=n(63),i=n(76),o=n(13),a=n(5),u=n(16),s=n(34),c=n(18),f=function(){function e(){}return e.value=new e,e}(),l=function(){function e(){}return e.value=new e,e}(),d=function(){function e(){}return e.value=new e,e}(),h=function(){function e(){}return e.value=new e,e}(),p=function(){function e(){}return e.value=new e,e}(),m=function(e){return 0===e?new a.Just(f.value):1===e?new a.Just(l.value):2===e?new a.Just(d.value):3===e?new a.Just(h.value):4===e?new a.Just(p.value):a.Nothing.value},y=new c.Show((function(e){if(e instanceof f)return"HaveNothing";if(e instanceof l)return"HaveMetadata";if(e instanceof d)return"HaveCurrentData";if(e instanceof h)return"HaveFutureData";if(e instanceof p)return"HaveEnoughData";throw new Error("Failed pattern match at Web.HTML.HTMLMediaElement.ReadyState (line 30, column 1 - line 35, column 41): "+[e.constructor.name])})),v=function(e){if(e instanceof f)return 0;if(e instanceof l)return 1;if(e instanceof d)return 2;if(e instanceof h)return 3;if(e instanceof p)return 4;throw new Error("Failed pattern match at Web.HTML.HTMLMediaElement.ReadyState (line 49, column 3 - line 54, column 24): "+[e.constructor.name])},g=new o.Eq((function(e){return function(t){return e instanceof f&&t instanceof f||(e instanceof l&&t instanceof l||(e instanceof d&&t instanceof d||(e instanceof h&&t instanceof h||e instanceof p&&t instanceof p)))}})),b=new u.Ord((function(){return g}),(function(e){return function(t){if(e instanceof f&&t instanceof f)return s.EQ.value;if(e instanceof f)return s.LT.value;if(t instanceof f)return s.GT.value;if(e instanceof l&&t instanceof l)return s.EQ.value;if(e instanceof l)return s.LT.value;if(t instanceof l)return s.GT.value;if(e instanceof d&&t instanceof d)return s.EQ.value;if(e instanceof d)return s.LT.value;if(t instanceof d)return s.GT.value;if(e instanceof h&&t instanceof h)return s.EQ.value;if(e instanceof h)return s.LT.value;if(t instanceof h)return s.GT.value;if(e instanceof p&&t instanceof p)return s.EQ.value;throw new Error("Failed pattern match at Web.HTML.HTMLMediaElement.ReadyState (line 15, column 1 - line 15, column 48): "+[e.constructor.name,t.constructor.name])}})),w=new i.Enum((function(){return b}),i.defaultPred(m)(v),i.defaultSucc(m)(v)),E=new r.Bounded((function(){return b}),f.value,p.value),_=new i.BoundedEnum((function(){return E}),(function(){return w}),5,v,m);e.exports={HaveNothing:f,HaveMetadata:l,HaveCurrentData:d,HaveFutureData:h,HaveEnoughData:p,eqReadyState:g,ordReadyState:b,boundedReadyState:E,enumReadyState:w,boundedEnumReadyState:_,showReadyState:y}},function(e,t,n){"use strict";var r=n(957),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLMetaElement"),p=o.unsafeReadProtoTagged("HTMLMetaElement"),m=o.unsafeReadProtoTagged("HTMLMetaElement"),y=o.unsafeReadProtoTagged("HTMLMetaElement"),v=o.unsafeReadProtoTagged("HTMLMetaElement"),g=o.unsafeReadProtoTagged("HTMLMetaElement"),b=o.unsafeReadProtoTagged("HTMLMetaElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,name:r.name,setName:r.setName,httpEquiv:r.httpEquiv,setHttpEquiv:r.setHttpEquiv,content:r.content,setContent:r.setContent}},function(e,t,n){"use strict";t.name=function(e){return function(){return e.name}},t.setName=function(e){return function(t){return function(){t.name=e}}},t.httpEquiv=function(e){return function(){return e.httpEquiv}},t.setHttpEquiv=function(e){return function(t){return function(){t.httpEquiv=e}}},t.content=function(e){return function(){return e.content}},t.setContent=function(e){return function(t){return function(){t.content=e}}}},function(e,t,n){"use strict";var r=n(959),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLMeterElement"),p=o.unsafeReadProtoTagged("HTMLMeterElement"),m=o.unsafeReadProtoTagged("HTMLMeterElement"),y=o.unsafeReadProtoTagged("HTMLMeterElement"),v=o.unsafeReadProtoTagged("HTMLMeterElement"),g=o.unsafeReadProtoTagged("HTMLMeterElement"),b=o.unsafeReadProtoTagged("HTMLMeterElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,value:r.value,setValue:r.setValue,min:r.min,setMin:r.setMin,max:r.max,setMax:r.setMax,low:r.low,setLow:r.setLow,high:r.high,setHigh:r.setHigh,optimum:r.optimum,setOptimum:r.setOptimum,labels:r.labels}},function(e,t,n){"use strict";t.value=function(e){return function(){return e.value}},t.setValue=function(e){return function(t){return function(){t.value=e}}},t.min=function(e){return function(){return e.min}},t.setMin=function(e){return function(t){return function(){t.min=e}}},t.max=function(e){return function(){return e.max}},t.setMax=function(e){return function(t){return function(){t.max=e}}},t.low=function(e){return function(){return e.low}},t.setLow=function(e){return function(t){return function(){t.low=e}}},t.high=function(e){return function(){return e.high}},t.setHigh=function(e){return function(t){return function(){t.high=e}}},t.optimum=function(e){return function(){return e.optimum}},t.setOptimum=function(e){return function(t){return function(){t.optimum=e}}},t.labels=function(e){return function(){return e.labels}}},function(e,t,n){"use strict";var r=n(961),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLModElement"),p=o.unsafeReadProtoTagged("HTMLModElement"),m=o.unsafeReadProtoTagged("HTMLModElement"),y=o.unsafeReadProtoTagged("HTMLModElement"),v=o.unsafeReadProtoTagged("HTMLModElement"),g=o.unsafeReadProtoTagged("HTMLModElement"),b=o.unsafeReadProtoTagged("HTMLModElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,cite:r.cite,setCite:r.setCite,dateTime:r.dateTime,setDateTime:r.setDateTime}},function(e,t,n){"use strict";t.cite=function(e){return function(){return e.cite}},t.setCite=function(e){return function(t){return function(){t.cite=e}}},t.dateTime=function(e){return function(){return e.dateTime}},t.setDateTime=function(e){return function(t){return function(){t.dateTime=e}}}},function(e,t,n){"use strict";var r=n(963),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLOListElement"),p=o.unsafeReadProtoTagged("HTMLOListElement"),m=o.unsafeReadProtoTagged("HTMLOListElement"),y=o.unsafeReadProtoTagged("HTMLOListElement"),v=o.unsafeReadProtoTagged("HTMLOListElement"),g=o.unsafeReadProtoTagged("HTMLOListElement"),b=o.unsafeReadProtoTagged("HTMLOListElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,reversed:r.reversed,setReversed:r.setReversed,start:r.start,setStart:r.setStart,type_:r.type_,setType:r.setType}},function(e,t,n){"use strict";t.reversed=function(e){return function(){return e.reversed}},t.setReversed=function(e){return function(t){return function(){t.reversed=e}}},t.start=function(e){return function(){return e.start}},t.setStart=function(e){return function(t){return function(){t.start=e}}},t.type_=function(e){return function(){return e.type}},t.setType=function(e){return function(t){return function(){t.type=e}}}},function(e,t,n){"use strict";var r,i,o=n(965),a=n(2),u=n(55),s=n(35),c=n(10),f=n(21),l=c.unsafeCoerce,d=c.unsafeCoerce,h=c.unsafeCoerce,p=c.unsafeCoerce,m=c.unsafeCoerce,y=c.unsafeCoerce,v=c.unsafeCoerce,g=f.unsafeReadProtoTagged("HTMLObjectElement"),b=f.unsafeReadProtoTagged("HTMLObjectElement"),w=f.unsafeReadProtoTagged("HTMLObjectElement"),E=f.unsafeReadProtoTagged("HTMLObjectElement"),_=f.unsafeReadProtoTagged("HTMLObjectElement"),S=f.unsafeReadProtoTagged("HTMLObjectElement"),T=f.unsafeReadProtoTagged("HTMLObjectElement"),A=(r=a.map(s.functorEffect)(u.toMaybe),function(e){return r(o._form(e))}),P=(i=a.map(s.functorEffect)(u.toMaybe),function(e){return i(o._contentDocument(e))});e.exports={fromHTMLElement:E,fromElement:S,fromNode:w,fromChildNode:T,fromNonDocumentTypeChildNode:b,fromParentNode:g,fromEventTarget:_,toHTMLElement:p,toElement:y,toNode:h,toChildNode:v,toNonDocumentTypeChildNode:d,toParentNode:l,toEventTarget:m,form:A,contentDocument:P,data_:o.data_,setData:o.setData,type_:o.type_,setType:o.setType,typeMustMatch:o.typeMustMatch,name:o.name,setName:o.setName,useMap:o.useMap,setUseMap:o.setUseMap,width:o.width,setWidth:o.setWidth,height:o.height,setHeight:o.setHeight,willValidate:o.willValidate,validity:o.validity,validationMessage:o.validationMessage,checkValidity:o.checkValidity,reportValidity:o.reportValidity,setCustomValidity:o.setCustomValidity}},function(e,t,n){"use strict";t.data_=function(e){return function(){return e.data}},t.setData=function(e){return function(t){return function(){t.data=e}}},t.type_=function(e){return function(){return e.type}},t.setType=function(e){return function(t){return function(){t.type=e}}},t.typeMustMatch=function(e){return function(){return e.typeMustMatch}},t.name=function(e){return function(){return e.name}},t.setName=function(e){return function(t){return function(){t.name=e}}},t.useMap=function(e){return function(){return e.useMap}},t.setUseMap=function(e){return function(t){return function(){t.useMap=e}}},t._form=function(e){return function(){return e.form}},t.width=function(e){return function(){return e.width}},t.setWidth=function(e){return function(t){return function(){t.width=e}}},t.height=function(e){return function(){return e.height}},t.setHeight=function(e){return function(t){return function(){t.height=e}}},t._contentDocument=function(e){return function(){return e.contentDocument}},t.willValidate=function(e){return function(){return e.willValidate}},t.validity=function(e){return function(){return e.validity}},t.validationMessage=function(e){return function(){return e.validationMessage}},t.checkValidity=function(e){return function(){return e.checkValidity()}},t.reportValidity=function(e){return function(){return e.reportValidity()}},t.setCustomValidity=function(e){return function(t){return function(){t.setCustomValidity(e)}}}},function(e,t,n){"use strict";var r=n(967),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLOptGroupElement"),p=o.unsafeReadProtoTagged("HTMLOptGroupElement"),m=o.unsafeReadProtoTagged("HTMLOptGroupElement"),y=o.unsafeReadProtoTagged("HTMLOptGroupElement"),v=o.unsafeReadProtoTagged("HTMLOptGroupElement"),g=o.unsafeReadProtoTagged("HTMLOptGroupElement"),b=o.unsafeReadProtoTagged("HTMLOptGroupElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,disabled:r.disabled,setDisabled:r.setDisabled,label:r.label,setLabel:r.setLabel}},function(e,t,n){"use strict";t.disabled=function(e){return function(){return e.disabled}},t.setDisabled=function(e){return function(t){return function(){t.disabled=e}}},t.label=function(e){return function(){return e.label}},t.setLabel=function(e){return function(t){return function(){t.label=e}}}},function(e,t,n){"use strict";var r,i=n(969),o=n(2),a=n(55),u=n(35),s=n(10),c=n(21),f=s.unsafeCoerce,l=s.unsafeCoerce,d=s.unsafeCoerce,h=s.unsafeCoerce,p=s.unsafeCoerce,m=s.unsafeCoerce,y=s.unsafeCoerce,v=c.unsafeReadProtoTagged("HTMLOptionElement"),g=c.unsafeReadProtoTagged("HTMLOptionElement"),b=c.unsafeReadProtoTagged("HTMLOptionElement"),w=c.unsafeReadProtoTagged("HTMLOptionElement"),E=c.unsafeReadProtoTagged("HTMLOptionElement"),_=c.unsafeReadProtoTagged("HTMLOptionElement"),S=c.unsafeReadProtoTagged("HTMLOptionElement"),T=(r=o.map(u.functorEffect)(a.toMaybe),function(e){return r(i._form(e))});e.exports={fromHTMLElement:w,fromElement:_,fromNode:b,fromChildNode:S,fromNonDocumentTypeChildNode:g,fromParentNode:v,fromEventTarget:E,toHTMLElement:h,toElement:m,toNode:d,toChildNode:y,toNonDocumentTypeChildNode:l,toParentNode:f,toEventTarget:p,form:T,disabled:i.disabled,setDisabled:i.setDisabled,label:i.label,setLabel:i.setLabel,defaultSelected:i.defaultSelected,setDefaultSelected:i.setDefaultSelected,selected:i.selected,setSelected:i.setSelected,value:i.value,setValue:i.setValue,text:i.text,setText:i.setText,index:i.index}},function(e,t,n){"use strict";t.disabled=function(e){return function(){return e.disabled}},t.setDisabled=function(e){return function(t){return function(){t.disabled=e}}},t._form=function(e){return function(){return e.form}},t.label=function(e){return function(){return e.label}},t.setLabel=function(e){return function(t){return function(){t.label=e}}},t.defaultSelected=function(e){return function(){return e.defaultSelected}},t.setDefaultSelected=function(e){return function(t){return function(){t.defaultSelected=e}}},t.selected=function(e){return function(){return e.selected}},t.setSelected=function(e){return function(t){return function(){t.selected=e}}},t.value=function(e){return function(){return e.value}},t.setValue=function(e){return function(t){return function(){t.value=e}}},t.text=function(e){return function(){return e.text}},t.setText=function(e){return function(t){return function(){t.text=e}}},t.index=function(e){return function(){return e.index}}},function(e,t,n){"use strict";var r,i=n(971),o=n(2),a=n(55),u=n(35),s=n(10),c=n(21),f=s.unsafeCoerce,l=s.unsafeCoerce,d=s.unsafeCoerce,h=s.unsafeCoerce,p=s.unsafeCoerce,m=s.unsafeCoerce,y=s.unsafeCoerce,v=c.unsafeReadProtoTagged("HTMLOutputElement"),g=c.unsafeReadProtoTagged("HTMLOutputElement"),b=c.unsafeReadProtoTagged("HTMLOutputElement"),w=c.unsafeReadProtoTagged("HTMLOutputElement"),E=c.unsafeReadProtoTagged("HTMLOutputElement"),_=c.unsafeReadProtoTagged("HTMLOutputElement"),S=c.unsafeReadProtoTagged("HTMLOutputElement"),T=(r=o.map(u.functorEffect)(a.toMaybe),function(e){return r(i._form(e))});e.exports={fromHTMLElement:w,fromElement:_,fromNode:b,fromChildNode:S,fromNonDocumentTypeChildNode:g,fromParentNode:v,fromEventTarget:E,toHTMLElement:h,toElement:m,toNode:d,toChildNode:y,toNonDocumentTypeChildNode:l,toParentNode:f,toEventTarget:p,form:T,name:i.name,setName:i.setName,type_:i.type_,defaultValue:i.defaultValue,setDefaultValue:i.setDefaultValue,value:i.value,setValue:i.setValue,willValidate:i.willValidate,validity:i.validity,validationMessage:i.validationMessage,checkValidity:i.checkValidity,reportValidity:i.reportValidity,setCustomValidity:i.setCustomValidity,labels:i.labels}},function(e,t,n){"use strict";t._form=function(e){return function(){return e.form}},t.name=function(e){return function(){return e.name}},t.setName=function(e){return function(t){return function(){t.name=e}}},t.type_=function(e){return function(){return e.type}},t.defaultValue=function(e){return function(){return e.defaultValue}},t.setDefaultValue=function(e){return function(t){return function(){t.defaultValue=e}}},t.value=function(e){return function(){return e.value}},t.setValue=function(e){return function(t){return function(){t.value=e}}},t.willValidate=function(e){return function(){return e.willValidate}},t.validity=function(e){return function(){return e.validity}},t.validationMessage=function(e){return function(){return e.validationMessage}},t.checkValidity=function(e){return function(){return e.checkValidity()}},t.reportValidity=function(e){return function(){return e.reportValidity()}},t.setCustomValidity=function(e){return function(t){return function(){t.setCustomValidity(e)}}},t.labels=function(e){return function(){return e.labels}}},function(e,t,n){"use strict";var r=n(10),i=n(21),o=r.unsafeCoerce,a=r.unsafeCoerce,u=r.unsafeCoerce,s=r.unsafeCoerce,c=r.unsafeCoerce,f=r.unsafeCoerce,l=r.unsafeCoerce,d=i.unsafeReadProtoTagged("HTMLParagraphElement"),h=i.unsafeReadProtoTagged("HTMLParagraphElement"),p=i.unsafeReadProtoTagged("HTMLParagraphElement"),m=i.unsafeReadProtoTagged("HTMLParagraphElement"),y=i.unsafeReadProtoTagged("HTMLParagraphElement"),v=i.unsafeReadProtoTagged("HTMLParagraphElement"),g=i.unsafeReadProtoTagged("HTMLParagraphElement");e.exports={fromHTMLElement:m,fromElement:v,fromNode:p,fromChildNode:g,fromNonDocumentTypeChildNode:h,fromParentNode:d,fromEventTarget:y,toHTMLElement:s,toElement:f,toNode:u,toChildNode:l,toNonDocumentTypeChildNode:a,toParentNode:o,toEventTarget:c}},function(e,t,n){"use strict";var r=n(974),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLParamElement"),p=o.unsafeReadProtoTagged("HTMLParamElement"),m=o.unsafeReadProtoTagged("HTMLParamElement"),y=o.unsafeReadProtoTagged("HTMLParamElement"),v=o.unsafeReadProtoTagged("HTMLParamElement"),g=o.unsafeReadProtoTagged("HTMLParamElement"),b=o.unsafeReadProtoTagged("HTMLParamElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,name:r.name,setName:r.setName,value:r.value,setValue:r.setValue}},function(e,t,n){"use strict";t.name=function(e){return function(){return e.name}},t.setName=function(e){return function(t){return function(){t.name=e}}},t.value=function(e){return function(){return e.value}},t.setValue=function(e){return function(t){return function(){t.value=e}}}},function(e,t,n){"use strict";var r=n(10),i=n(21),o=r.unsafeCoerce,a=r.unsafeCoerce,u=r.unsafeCoerce,s=r.unsafeCoerce,c=r.unsafeCoerce,f=r.unsafeCoerce,l=r.unsafeCoerce,d=i.unsafeReadProtoTagged("HTMLPreElement"),h=i.unsafeReadProtoTagged("HTMLPreElement"),p=i.unsafeReadProtoTagged("HTMLPreElement"),m=i.unsafeReadProtoTagged("HTMLPreElement"),y=i.unsafeReadProtoTagged("HTMLPreElement"),v=i.unsafeReadProtoTagged("HTMLPreElement"),g=i.unsafeReadProtoTagged("HTMLPreElement");e.exports={fromHTMLElement:m,fromElement:v,fromNode:p,fromChildNode:g,fromNonDocumentTypeChildNode:h,fromParentNode:d,fromEventTarget:y,toHTMLElement:s,toElement:f,toNode:u,toChildNode:l,toNonDocumentTypeChildNode:a,toParentNode:o,toEventTarget:c}},function(e,t,n){"use strict";var r=n(977),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLProgressElement"),p=o.unsafeReadProtoTagged("HTMLProgressElement"),m=o.unsafeReadProtoTagged("HTMLProgressElement"),y=o.unsafeReadProtoTagged("HTMLProgressElement"),v=o.unsafeReadProtoTagged("HTMLProgressElement"),g=o.unsafeReadProtoTagged("HTMLProgressElement"),b=o.unsafeReadProtoTagged("HTMLProgressElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,value:r.value,setValue:r.setValue,max:r.max,setMax:r.setMax,position:r.position,labels:r.labels}},function(e,t,n){"use strict";t.value=function(e){return function(){return e.value}},t.setValue=function(e){return function(t){return function(){t.value=e}}},t.max=function(e){return function(){return e.max}},t.setMax=function(e){return function(t){return function(){t.max=e}}},t.position=function(e){return function(){return e.position}},t.labels=function(e){return function(){return e.labels}}},function(e,t,n){"use strict";var r=n(979),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLQuoteElement"),p=o.unsafeReadProtoTagged("HTMLQuoteElement"),m=o.unsafeReadProtoTagged("HTMLQuoteElement"),y=o.unsafeReadProtoTagged("HTMLQuoteElement"),v=o.unsafeReadProtoTagged("HTMLQuoteElement"),g=o.unsafeReadProtoTagged("HTMLQuoteElement"),b=o.unsafeReadProtoTagged("HTMLQuoteElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,cite:r.cite,setCite:r.setCite}},function(e,t,n){"use strict";t.cite=function(e){return function(){return e.cite}},t.setCite=function(e){return function(t){return function(){t.cite=e}}}},function(e,t,n){"use strict";var r=n(981),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLScriptElement"),p=o.unsafeReadProtoTagged("HTMLScriptElement"),m=o.unsafeReadProtoTagged("HTMLScriptElement"),y=o.unsafeReadProtoTagged("HTMLScriptElement"),v=o.unsafeReadProtoTagged("HTMLScriptElement"),g=o.unsafeReadProtoTagged("HTMLScriptElement"),b=o.unsafeReadProtoTagged("HTMLScriptElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,src:r.src,setSrc:r.setSrc,type_:r.type_,setType:r.setType,charset:r.charset,setCharset:r.setCharset,async:r.async,setAsync:r.setAsync,defer:r.defer,setDefer:r.setDefer,crossOrigin:r.crossOrigin,setCrossOrigin:r.setCrossOrigin,text:r.text,setText:r.setText}},function(e,t,n){"use strict";t.src=function(e){return function(){return e.src}},t.setSrc=function(e){return function(t){return function(){t.src=e}}},t.type_=function(e){return function(){return e.type}},t.setType=function(e){return function(t){return function(){t.type=e}}},t.charset=function(e){return function(){return e.charset}},t.setCharset=function(e){return function(t){return function(){t.charset=e}}},t.async=function(e){return function(){return e.async}},t.setAsync=function(e){return function(t){return function(){t.async=e}}},t.defer=function(e){return function(){return e.defer}},t.setDefer=function(e){return function(t){return function(){t.defer=e}}},t.crossOrigin=function(e){return function(){return e.crossOrigin}},t.setCrossOrigin=function(e){return function(t){return function(){t.crossOrigin=e}}},t.text=function(e){return function(){return e.text}},t.setText=function(e){return function(t){return function(){t.text=e}}}},function(e,t,n){"use strict";var r,i=n(983),o=n(2),a=n(55),u=n(35),s=n(10),c=n(21),f=s.unsafeCoerce,l=s.unsafeCoerce,d=s.unsafeCoerce,h=s.unsafeCoerce,p=s.unsafeCoerce,m=s.unsafeCoerce,y=s.unsafeCoerce,v=c.unsafeReadProtoTagged("HTMLSelectElement"),g=c.unsafeReadProtoTagged("HTMLSelectElement"),b=c.unsafeReadProtoTagged("HTMLSelectElement"),w=c.unsafeReadProtoTagged("HTMLSelectElement"),E=c.unsafeReadProtoTagged("HTMLSelectElement"),_=c.unsafeReadProtoTagged("HTMLSelectElement"),S=c.unsafeReadProtoTagged("HTMLSelectElement"),T=(r=o.map(u.functorEffect)(a.toMaybe),function(e){return r(i._form(e))});e.exports={fromHTMLElement:w,fromElement:_,fromNode:b,fromChildNode:S,fromNonDocumentTypeChildNode:g,fromParentNode:v,fromEventTarget:E,toHTMLElement:h,toElement:m,toNode:d,toChildNode:y,toNonDocumentTypeChildNode:l,toParentNode:f,toEventTarget:p,form:T,autofocus:i.autofocus,setAutofocus:i.setAutofocus,disabled:i.disabled,setDisabled:i.setDisabled,multiple:i.multiple,setMultiple:i.setMultiple,name:i.name,setName:i.setName,required:i.required,setRequired:i.setRequired,size:i.size,setSize:i.setSize,type_:i.type_,length:i.length,setLength:i.setLength,selectedOptions:i.selectedOptions,selectedIndex:i.selectedIndex,setSelectedIndex:i.setSelectedIndex,value:i.value,setValue:i.setValue,willValidate:i.willValidate,validity:i.validity,validationMessage:i.validationMessage,checkValidity:i.checkValidity,reportValidity:i.reportValidity,setCustomValidity:i.setCustomValidity,labels:i.labels}},function(e,t,n){"use strict";t.autofocus=function(e){return function(){return e.autofocus}},t.setAutofocus=function(e){return function(t){return function(){t.autofocus=e}}},t.disabled=function(e){return function(){return e.disabled}},t.setDisabled=function(e){return function(t){return function(){t.disabled=e}}},t.multiple=function(e){return function(){return e.multiple}},t.setMultiple=function(e){return function(t){return function(){t.multiple=e}}},t._form=function(e){return function(){return e.form}},t.name=function(e){return function(){return e.name}},t.setName=function(e){return function(t){return function(){t.name=e}}},t.required=function(e){return function(){return e.required}},t.setRequired=function(e){return function(t){return function(){t.required=e}}},t.size=function(e){return function(){return e.size}},t.setSize=function(e){return function(t){return function(){t.size=e}}},t.type_=function(e){return function(){return e.type}},t.length=function(e){return function(){return e.length}},t.setLength=function(e){return function(t){return function(){t.length=e}}},t.selectedOptions=function(e){return function(){return e.selectedOptions}},t.selectedIndex=function(e){return function(){return e.selectedIndex}},t.setSelectedIndex=function(e){return function(t){return function(){t.selectedIndex=e}}},t.value=function(e){return function(){return e.value}},t.setValue=function(e){return function(t){return function(){t.value=e}}},t.willValidate=function(e){return function(){return e.willValidate}},t.validity=function(e){return function(){return e.validity}},t.validationMessage=function(e){return function(){return e.validationMessage}},t.checkValidity=function(e){return function(){return e.checkValidity()}},t.reportValidity=function(e){return function(){return e.reportValidity()}},t.setCustomValidity=function(e){return function(t){return function(){t.setCustomValidity(e)}}},t.labels=function(e){return function(){return e.labels}}},function(e,t,n){"use strict";var r=n(985),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLSourceElement"),p=o.unsafeReadProtoTagged("HTMLSourceElement"),m=o.unsafeReadProtoTagged("HTMLSourceElement"),y=o.unsafeReadProtoTagged("HTMLSourceElement"),v=o.unsafeReadProtoTagged("HTMLSourceElement"),g=o.unsafeReadProtoTagged("HTMLSourceElement"),b=o.unsafeReadProtoTagged("HTMLSourceElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,src:r.src,setSrc:r.setSrc,type_:r.type_,setType:r.setType,media:r.media,setMedia:r.setMedia}},function(e,t,n){"use strict";t.src=function(e){return function(){return e.src}},t.setSrc=function(e){return function(t){return function(){t.src=e}}},t.type_=function(e){return function(){return e.type}},t.setType=function(e){return function(t){return function(){t.type=e}}},t.media=function(e){return function(){return e.media}},t.setMedia=function(e){return function(t){return function(){t.media=e}}}},function(e,t,n){"use strict";var r=n(10),i=n(21),o=r.unsafeCoerce,a=r.unsafeCoerce,u=r.unsafeCoerce,s=r.unsafeCoerce,c=r.unsafeCoerce,f=r.unsafeCoerce,l=r.unsafeCoerce,d=i.unsafeReadProtoTagged("HTMLSpanElement"),h=i.unsafeReadProtoTagged("HTMLSpanElement"),p=i.unsafeReadProtoTagged("HTMLSpanElement"),m=i.unsafeReadProtoTagged("HTMLSpanElement"),y=i.unsafeReadProtoTagged("HTMLSpanElement"),v=i.unsafeReadProtoTagged("HTMLSpanElement"),g=i.unsafeReadProtoTagged("HTMLSpanElement");e.exports={fromHTMLElement:m,fromElement:v,fromNode:p,fromChildNode:g,fromNonDocumentTypeChildNode:h,fromParentNode:d,fromEventTarget:y,toHTMLElement:s,toElement:f,toNode:u,toChildNode:l,toNonDocumentTypeChildNode:a,toParentNode:o,toEventTarget:c}},function(e,t,n){"use strict";var r=n(988),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLStyleElement"),p=o.unsafeReadProtoTagged("HTMLStyleElement"),m=o.unsafeReadProtoTagged("HTMLStyleElement"),y=o.unsafeReadProtoTagged("HTMLStyleElement"),v=o.unsafeReadProtoTagged("HTMLStyleElement"),g=o.unsafeReadProtoTagged("HTMLStyleElement"),b=o.unsafeReadProtoTagged("HTMLStyleElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,media:r.media,setMedia:r.setMedia,type_:r.type_,setType:r.setType}},function(e,t,n){"use strict";t.media=function(e){return function(){return e.media}},t.setMedia=function(e){return function(t){return function(){t.media=e}}},t.type_=function(e){return function(){return e.type}},t.setType=function(e){return function(t){return function(){t.type=e}}}},function(e,t,n){"use strict";var r=n(10),i=n(21),o=r.unsafeCoerce,a=r.unsafeCoerce,u=r.unsafeCoerce,s=r.unsafeCoerce,c=r.unsafeCoerce,f=r.unsafeCoerce,l=r.unsafeCoerce,d=i.unsafeReadProtoTagged("HTMLTableCaptionElement"),h=i.unsafeReadProtoTagged("HTMLTableCaptionElement"),p=i.unsafeReadProtoTagged("HTMLTableCaptionElement"),m=i.unsafeReadProtoTagged("HTMLTableCaptionElement"),y=i.unsafeReadProtoTagged("HTMLTableCaptionElement"),v=i.unsafeReadProtoTagged("HTMLTableCaptionElement"),g=i.unsafeReadProtoTagged("HTMLTableCaptionElement");e.exports={fromHTMLElement:m,fromElement:v,fromNode:p,fromChildNode:g,fromNonDocumentTypeChildNode:h,fromParentNode:d,fromEventTarget:y,toHTMLElement:s,toElement:f,toNode:u,toChildNode:l,toNonDocumentTypeChildNode:a,toParentNode:o,toEventTarget:c}},function(e,t,n){"use strict";var r=n(991),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLTableCellElement"),p=o.unsafeReadProtoTagged("HTMLTableCellElement"),m=o.unsafeReadProtoTagged("HTMLTableCellElement"),y=o.unsafeReadProtoTagged("HTMLTableCellElement"),v=o.unsafeReadProtoTagged("HTMLTableCellElement"),g=o.unsafeReadProtoTagged("HTMLTableCellElement"),b=o.unsafeReadProtoTagged("HTMLTableCellElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,colSpan:r.colSpan,setColSpan:r.setColSpan,rowSpan:r.rowSpan,setRowSpan:r.setRowSpan,cellIndex:r.cellIndex}},function(e,t,n){"use strict";t.colSpan=function(e){return function(){return e.colSpan}},t.setColSpan=function(e){return function(t){return function(){t.colSpan=e}}},t.rowSpan=function(e){return function(){return e.rowSpan}},t.setRowSpan=function(e){return function(t){return function(){t.rowSpan=e}}},t.cellIndex=function(e){return function(){return e.cellIndex}}},function(e,t,n){"use strict";var r=n(993),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLTableColElement"),p=o.unsafeReadProtoTagged("HTMLTableColElement"),m=o.unsafeReadProtoTagged("HTMLTableColElement"),y=o.unsafeReadProtoTagged("HTMLTableColElement"),v=o.unsafeReadProtoTagged("HTMLTableColElement"),g=o.unsafeReadProtoTagged("HTMLTableColElement"),b=o.unsafeReadProtoTagged("HTMLTableColElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,span:r.span,setSpan:r.setSpan}},function(e,t,n){"use strict";t.span=function(e){return function(){return e.span}},t.setSpan=function(e){return function(t){return function(){t.span=e}}}},function(e,t,n){"use strict";var r=n(10),i=n(21),o=r.unsafeCoerce,a=r.unsafeCoerce,u=r.unsafeCoerce,s=r.unsafeCoerce,c=r.unsafeCoerce,f=r.unsafeCoerce,l=r.unsafeCoerce,d=r.unsafeCoerce,h=i.unsafeReadProtoTagged("HTMLTableDataCellElement"),p=i.unsafeReadProtoTagged("HTMLTableDataCellElement"),m=i.unsafeReadProtoTagged("HTMLTableDataCellElement"),y=i.unsafeReadProtoTagged("HTMLTableDataCellElement"),v=i.unsafeReadProtoTagged("HTMLTableDataCellElement"),g=i.unsafeReadProtoTagged("HTMLTableDataCellElement"),b=i.unsafeReadProtoTagged("HTMLTableDataCellElement"),w=i.unsafeReadProtoTagged("HTMLTableDataCellElement");e.exports={fromHTMLTableCellElement:y,fromHTMLElement:v,fromElement:b,fromNode:m,fromChildNode:w,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:g,toHTMLTableCellElement:s,toHTMLElement:c,toElement:l,toNode:u,toChildNode:d,toNonDocumentTypeChildNode:a,toParentNode:o,toEventTarget:f}},function(e,t,n){"use strict";var r,i,o,a=n(996),u=n(2),s=n(55),c=n(35),f=n(10),l=n(21),d=f.unsafeCoerce,h=f.unsafeCoerce,p=f.unsafeCoerce,m=f.unsafeCoerce,y=f.unsafeCoerce,v=f.unsafeCoerce,g=f.unsafeCoerce,b=(r=u.map(c.functorEffect)(s.toMaybe),function(e){return r(a._tHead(e))}),w=(i=u.map(c.functorEffect)(s.toMaybe),function(e){return i(a._tFoot(e))}),E=a.insertRowAt,_=E(-1),S=l.unsafeReadProtoTagged("HTMLTableElement"),T=l.unsafeReadProtoTagged("HTMLTableElement"),A=l.unsafeReadProtoTagged("HTMLTableElement"),P=l.unsafeReadProtoTagged("HTMLTableElement"),k=l.unsafeReadProtoTagged("HTMLTableElement"),x=l.unsafeReadProtoTagged("HTMLTableElement"),C=l.unsafeReadProtoTagged("HTMLTableElement"),R=(o=u.map(c.functorEffect)(s.toMaybe),function(e){return o(a._caption(e))});e.exports={fromHTMLElement:P,fromElement:x,fromNode:A,fromChildNode:C,fromNonDocumentTypeChildNode:T,fromParentNode:S,fromEventTarget:k,toHTMLElement:m,toElement:v,toNode:p,toChildNode:g,toNonDocumentTypeChildNode:h,toParentNode:d,toEventTarget:y,caption:R,setCaption:function(e){return a._setCaption(s.toNullable(e))},tHead:b,setTHead:function(e){return a._setTHead(s.toNullable(e))},tFoot:w,setTFoot:function(e){return a._setTFoot(s.toNullable(e))},insertRow:_,"insertRow'":E,createCaption:a.createCaption,deleteCaption:a.deleteCaption,createTHead:a.createTHead,deleteTHead:a.deleteTHead,createTFoot:a.createTFoot,deleteTFoot:a.deleteTFoot,tBodies:a.tBodies,createTBody:a.createTBody,rows:a.rows,deleteRow:a.deleteRow,border:a.border,setBorder:a.setBorder}},function(e,t,n){"use strict";t._caption=function(e){return function(){return e.caption}},t._setCaption=function(e){return function(t){return function(){t.caption=e}}},t.createCaption=function(e){return function(){return e.createCaption()}},t.deleteCaption=function(e){return function(){e.deleteCaption()}},t._tHead=function(e){return function(){return e.tHead}},t._setTHead=function(e){return function(t){return function(){t.tHead=e}}},t.createTHead=function(e){return function(){return e.createTHead()}},t.deleteTHead=function(e){return function(){e.deleteTHead()}},t._tFoot=function(e){return function(){return e.tFoot}},t._setTFoot=function(e){return function(t){return function(){t.tFoot=e}}},t.createTFoot=function(e){return function(){return e.createTFoot()}},t.deleteTFoot=function(e){return function(){e.deleteTFoot()}},t.tBodies=function(e){return function(){return e.tBodies}},t.createTBody=function(e){return function(){return e.createTBody()}},t.rows=function(e){return function(){return e.rows}},t.insertRowAt=function(e){return function(t){return function(){return t.insertRow(e)}}},t.deleteRow=function(e){return function(t){return function(){t.deleteRow(e)}}},t.border=function(e){return function(){return e.border}},t.setBorder=function(e){return function(t){return function(){t.border=e}}}},function(e,t,n){"use strict";var r=n(998),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=i.unsafeCoerce,p=o.unsafeReadProtoTagged("HTMLTableHeaderCellElement"),m=o.unsafeReadProtoTagged("HTMLTableHeaderCellElement"),y=o.unsafeReadProtoTagged("HTMLTableHeaderCellElement"),v=o.unsafeReadProtoTagged("HTMLTableHeaderCellElement"),g=o.unsafeReadProtoTagged("HTMLTableHeaderCellElement"),b=o.unsafeReadProtoTagged("HTMLTableHeaderCellElement"),w=o.unsafeReadProtoTagged("HTMLTableHeaderCellElement"),E=o.unsafeReadProtoTagged("HTMLTableHeaderCellElement");e.exports={fromHTMLTableCellElement:v,fromHTMLElement:g,fromElement:w,fromNode:y,fromChildNode:E,fromNonDocumentTypeChildNode:m,fromParentNode:p,fromEventTarget:b,toHTMLTableCellElement:c,toHTMLElement:f,toElement:d,toNode:s,toChildNode:h,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:l,scope:r.scope,setScope:r.setScope,abbr:r.abbr,setAbbr:r.setAbbr}},function(e,t,n){"use strict";t.scope=function(e){return function(){return e.scope}},t.setScope=function(e){return function(t){return function(){t.scope=e}}},t.abbr=function(e){return function(){return e.abbr}},t.setAbbr=function(e){return function(t){return function(){t.abbr=e}}}},function(e,t,n){"use strict";var r=n(1e3),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=r.insertCellAt,p=h(-1),m=o.unsafeReadProtoTagged("HTMLTableRowElement"),y=o.unsafeReadProtoTagged("HTMLTableRowElement"),v=o.unsafeReadProtoTagged("HTMLTableRowElement"),g=o.unsafeReadProtoTagged("HTMLTableRowElement"),b=o.unsafeReadProtoTagged("HTMLTableRowElement"),w=o.unsafeReadProtoTagged("HTMLTableRowElement"),E=o.unsafeReadProtoTagged("HTMLTableRowElement");e.exports={fromHTMLElement:g,fromElement:w,fromNode:v,fromChildNode:E,fromNonDocumentTypeChildNode:y,fromParentNode:m,fromEventTarget:b,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,insertCell:p,"insertCell'":h,rowIndex:r.rowIndex,sectionRowIndex:r.sectionRowIndex,cells:r.cells,deleteCell:r.deleteCell}},function(e,t,n){"use strict";t.rowIndex=function(e){return function(){return e.rowIndex}},t.sectionRowIndex=function(e){return function(){return e.sectionRowIndex}},t.cells=function(e){return function(){return e.cells}},t.cells=function(e){return function(){return e.cells}},t.insertCellAt=function(e){return function(t){return function(){return t.insertCell(e)}}},t.deleteCell=function(e){return function(t){return function(){t.deleteCell(e)}}}},function(e,t,n){"use strict";var r=n(1002),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=r.insertRowAt,p=h(-1),m=o.unsafeReadProtoTagged("HTMLTableSectionElement"),y=o.unsafeReadProtoTagged("HTMLTableSectionElement"),v=o.unsafeReadProtoTagged("HTMLTableSectionElement"),g=o.unsafeReadProtoTagged("HTMLTableSectionElement"),b=o.unsafeReadProtoTagged("HTMLTableSectionElement"),w=o.unsafeReadProtoTagged("HTMLTableSectionElement"),E=o.unsafeReadProtoTagged("HTMLTableSectionElement");e.exports={fromHTMLElement:g,fromElement:w,fromNode:v,fromChildNode:E,fromNonDocumentTypeChildNode:y,fromParentNode:m,fromEventTarget:b,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,insertRow:p,"insertRow'":h,rows:r.rows,deleteRow:r.deleteRow}},function(e,t,n){"use strict";t.rows=function(e){return function(){return e.rows}},t.insertRowAt=function(e){return function(t){return function(){return t.insertRow(e)}}},t.deleteRow=function(e){return function(t){return function(){t.deleteRow(e)}}}},function(e,t,n){"use strict";var r=n(1004),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLTemplateElement"),p=o.unsafeReadProtoTagged("HTMLTemplateElement"),m=o.unsafeReadProtoTagged("HTMLTemplateElement"),y=o.unsafeReadProtoTagged("HTMLTemplateElement"),v=o.unsafeReadProtoTagged("HTMLTemplateElement"),g=o.unsafeReadProtoTagged("HTMLTemplateElement"),b=o.unsafeReadProtoTagged("HTMLTemplateElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,content:r.content}},function(e,t,n){"use strict";t.content=function(e){return function(){return e.content}}},function(e,t,n){"use strict";t.autocomplete=function(e){return function(){return e.autocomplete}},t.setAutocomplete=function(e){return function(t){return function(){t.autocomplete=e}}},t.autofocus=function(e){return function(){return e.autofocus}},t.setAutofocus=function(e){return function(t){return function(){t.autofocus=e}}},t.cols=function(e){return function(){return e.cols}},t.setCols=function(e){return function(t){return function(){t.cols=e}}},t.dirName=function(e){return function(){return e.dirName}},t.setDirName=function(e){return function(t){return function(){t.dirName=e}}},t.disabled=function(e){return function(){return e.disabled}},t.setDisabled=function(e){return function(t){return function(){t.disabled=e}}},t._form=function(e){return function(){return e.form}},t.maxLength=function(e){return function(){return e.maxLength}},t.setMaxLength=function(e){return function(t){return function(){t.maxLength=e}}},t.minLength=function(e){return function(){return e.minLength}},t.setMinLength=function(e){return function(t){return function(){t.minLength=e}}},t.name=function(e){return function(){return e.name}},t.setName=function(e){return function(t){return function(){t.name=e}}},t.placeholder=function(e){return function(){return e.placeholder}},t.setPlaceholder=function(e){return function(t){return function(){t.placeholder=e}}},t.readOnly=function(e){return function(){return e.readOnly}},t.setReadOnly=function(e){return function(t){return function(){t.readOnly=e}}},t.required=function(e){return function(){return e.required}},t.setRequired=function(e){return function(t){return function(){t.required=e}}},t.rows=function(e){return function(){return e.rows}},t.setRows=function(e){return function(t){return function(){t.rows=e}}},t.wrap=function(e){return function(){return e.wrap}},t.setWrap=function(e){return function(t){return function(){t.wrap=e}}},t.type_=function(e){return function(){return e.type}},t.defaultValue=function(e){return function(){return e.defaultValue}},t.setDefaultValue=function(e){return function(t){return function(){t.defaultValue=e}}},t.value=function(e){return function(){return e.value}},t.setValue=function(e){return function(t){return function(){t.value=e}}},t.textLength=function(e){return function(){return e.textLength}},t.willValidate=function(e){return function(){return e.willValidate}},t.validity=function(e){return function(){return e.validity}},t.validationMessage=function(e){return function(){return e.validationMessage}},t.checkValidity=function(e){return function(){return e.checkValidity()}},t.reportValidity=function(e){return function(){return e.reportValidity()}},t.setCustomValidity=function(e){return function(t){return function(){t.setCustomValidity(e)}}},t.labels=function(e){return function(){return e.labels}},t.select=function(e){return function(){e.select()}},t.selectionStart=function(e){return function(){return e.selectionStart}},t.setSelectionStart=function(e){return function(t){return function(){t.selectionStart=e}}},t.selectionEnd=function(e){return function(){return e.selectionEnd}},t.setSelectionEnd=function(e){return function(t){return function(){t.selectionEnd=e}}},t.selectionDirection=function(e){return function(){return e.selectionDirection}},t.setSelectionDirection=function(e){return function(t){return function(){t.selectionDirection=e}}},t.setRangeText=function(e){return function(t){return function(){t.setRangeText(e)}}},t._setRangeText=function(e,t,n,r,i){i.setRangeText(e,t,n,r)},t.setSelectionRange=function(e){return function(t){return function(n){return function(r){return function(){r.setSelectionRange(e,t,n)}}}}}},function(e,t,n){"use strict";var r=n(1007),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLTimeElement"),p=o.unsafeReadProtoTagged("HTMLTimeElement"),m=o.unsafeReadProtoTagged("HTMLTimeElement"),y=o.unsafeReadProtoTagged("HTMLTimeElement"),v=o.unsafeReadProtoTagged("HTMLTimeElement"),g=o.unsafeReadProtoTagged("HTMLTimeElement"),b=o.unsafeReadProtoTagged("HTMLTimeElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,dateTime:r.dateTime,setDateTime:r.setDateTime}},function(e,t,n){"use strict";t.dateTime=function(e){return function(){return e.dateTime}},t.setDateTime=function(e){return function(t){return function(){t.dateTime=e}}}},function(e,t,n){"use strict";var r=n(1009),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=o.unsafeReadProtoTagged("HTMLTitleElement"),p=o.unsafeReadProtoTagged("HTMLTitleElement"),m=o.unsafeReadProtoTagged("HTMLTitleElement"),y=o.unsafeReadProtoTagged("HTMLTitleElement"),v=o.unsafeReadProtoTagged("HTMLTitleElement"),g=o.unsafeReadProtoTagged("HTMLTitleElement"),b=o.unsafeReadProtoTagged("HTMLTitleElement");e.exports={fromHTMLElement:y,fromElement:g,fromNode:m,fromChildNode:b,fromNonDocumentTypeChildNode:p,fromParentNode:h,fromEventTarget:v,toHTMLElement:c,toElement:l,toNode:s,toChildNode:d,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:f,text:r.text,setText:r.setText}},function(e,t,n){"use strict";t.text=function(e){return function(){return e.text}},t.setText=function(e){return function(t){return function(){t.text=e}}}},function(e,t,n){"use strict";var r=n(1011),i=n(76),o=n(2),a=n(5),u=n(35),s=n(10),c=n(1012),f=n(21),l=s.unsafeCoerce,d=s.unsafeCoerce,h=s.unsafeCoerce,p=s.unsafeCoerce,m=s.unsafeCoerce,y=s.unsafeCoerce,v=s.unsafeCoerce,g=f.unsafeReadProtoTagged("HTMLTrackElement"),b=f.unsafeReadProtoTagged("HTMLTrackElement"),w=f.unsafeReadProtoTagged("HTMLTrackElement"),E=f.unsafeReadProtoTagged("HTMLTrackElement"),_=f.unsafeReadProtoTagged("HTMLTrackElement"),S=f.unsafeReadProtoTagged("HTMLTrackElement"),T=f.unsafeReadProtoTagged("HTMLTrackElement");e.exports={fromHTMLElement:E,fromElement:S,fromNode:w,fromChildNode:T,fromNonDocumentTypeChildNode:b,fromParentNode:g,fromEventTarget:_,toHTMLElement:p,toElement:y,toNode:h,toChildNode:v,toNonDocumentTypeChildNode:d,toParentNode:l,toEventTarget:m,readyState:function(e){return o.map(u.functorEffect)((t=a.fromMaybe(c.None.value),n=i.toEnum(c.boundedEnumReadyState),function(e){return t(n(e))}))((function(){return r._readyState(e)}));var t,n},kind:r.kind,setKind:r.setKind,src:r.src,setSrc:r.setSrc,srclang:r.srclang,setSrclang:r.setSrclang,label:r.label,setLabel:r.setLabel,default:r.default,setDefault:r.setDefault}},function(e,t,n){"use strict";t.kind=function(e){return function(){return e.kind}},t.setKind=function(e){return function(t){return function(){t.kind=e}}},t.src=function(e){return function(){return e.src}},t.setSrc=function(e){return function(t){return function(){t.src=e}}},t.srclang=function(e){return function(){return e.srclang}},t.setSrclang=function(e){return function(t){return function(){t.srclang=e}}},t.label=function(e){return function(){return e.label}},t.setLabel=function(e){return function(t){return function(){t.label=e}}},t.default=function(e){return function(){return e.default}},t.setDefault=function(e){return function(t){return function(){t.default=e}}},t._readyState=function(e){return e.readyState}},function(e,t,n){"use strict";var r=n(63),i=n(76),o=n(13),a=n(5),u=n(16),s=n(34),c=n(18),f=function(){function e(){}return e.value=new e,e}(),l=function(){function e(){}return e.value=new e,e}(),d=function(){function e(){}return e.value=new e,e}(),h=function(){function e(){}return e.value=new e,e}(),p=function(e){return 0===e?new a.Just(f.value):1===e?new a.Just(l.value):2===e?new a.Just(d.value):3===e?new a.Just(h.value):a.Nothing.value},m=new c.Show((function(e){if(e instanceof f)return"None";if(e instanceof l)return"Loading";if(e instanceof d)return"Loaded";if(e instanceof h)return"Error";throw new Error("Failed pattern match at Web.HTML.HTMLTrackElement.ReadyState (line 29, column 1 - line 33, column 23): "+[e.constructor.name])})),y=function(e){if(e instanceof f)return 0;if(e instanceof l)return 1;if(e instanceof d)return 2;if(e instanceof h)return 3;throw new Error("Failed pattern match at Web.HTML.HTMLTrackElement.ReadyState (line 46, column 3 - line 50, column 15): "+[e.constructor.name])},v=new o.Eq((function(e){return function(t){return e instanceof f&&t instanceof f||(e instanceof l&&t instanceof l||(e instanceof d&&t instanceof d||e instanceof h&&t instanceof h))}})),g=new u.Ord((function(){return v}),(function(e){return function(t){if(e instanceof f&&t instanceof f)return s.EQ.value;if(e instanceof f)return s.LT.value;if(t instanceof f)return s.GT.value;if(e instanceof l&&t instanceof l)return s.EQ.value;if(e instanceof l)return s.LT.value;if(t instanceof l)return s.GT.value;if(e instanceof d&&t instanceof d)return s.EQ.value;if(e instanceof d)return s.LT.value;if(t instanceof d)return s.GT.value;if(e instanceof h&&t instanceof h)return s.EQ.value;throw new Error("Failed pattern match at Web.HTML.HTMLTrackElement.ReadyState (line 14, column 1 - line 14, column 48): "+[e.constructor.name,t.constructor.name])}})),b=new i.Enum((function(){return g}),i.defaultPred(p)(y),i.defaultSucc(p)(y)),w=new r.Bounded((function(){return g}),f.value,h.value),E=new i.BoundedEnum((function(){return w}),(function(){return b}),4,y,p);e.exports={None:f,Loading:l,Loaded:d,Error:h,toEnumReadyState:p,fromEnumReadyState:y,eqReadyState:v,ordReadyState:g,boundedReadyState:w,enumReadyState:b,boundedEnumReadyState:E,showReadyState:m}},function(e,t,n){"use strict";var r=n(10),i=n(21),o=r.unsafeCoerce,a=r.unsafeCoerce,u=r.unsafeCoerce,s=r.unsafeCoerce,c=r.unsafeCoerce,f=r.unsafeCoerce,l=r.unsafeCoerce,d=i.unsafeReadProtoTagged("HTMLUListElement"),h=i.unsafeReadProtoTagged("HTMLUListElement"),p=i.unsafeReadProtoTagged("HTMLUListElement"),m=i.unsafeReadProtoTagged("HTMLUListElement"),y=i.unsafeReadProtoTagged("HTMLUListElement"),v=i.unsafeReadProtoTagged("HTMLUListElement"),g=i.unsafeReadProtoTagged("HTMLUListElement");e.exports={fromHTMLElement:m,fromElement:v,fromNode:p,fromChildNode:g,fromNonDocumentTypeChildNode:h,fromParentNode:d,fromEventTarget:y,toHTMLElement:s,toElement:f,toNode:u,toChildNode:l,toNonDocumentTypeChildNode:a,toParentNode:o,toEventTarget:c}},function(e,t,n){"use strict";var r=n(1015),i=n(10),o=n(21),a=i.unsafeCoerce,u=i.unsafeCoerce,s=i.unsafeCoerce,c=i.unsafeCoerce,f=i.unsafeCoerce,l=i.unsafeCoerce,d=i.unsafeCoerce,h=i.unsafeCoerce,p=o.unsafeReadProtoTagged("HTMLVideoElement"),m=o.unsafeReadProtoTagged("HTMLVideoElement"),y=o.unsafeReadProtoTagged("HTMLVideoElement"),v=o.unsafeReadProtoTagged("HTMLVideoElement"),g=o.unsafeReadProtoTagged("HTMLVideoElement"),b=o.unsafeReadProtoTagged("HTMLVideoElement"),w=o.unsafeReadProtoTagged("HTMLVideoElement"),E=o.unsafeReadProtoTagged("HTMLVideoElement");e.exports={fromHTMLMediaElement:v,fromHTMLElement:g,fromElement:w,fromNode:y,fromChildNode:E,fromNonDocumentTypeChildNode:m,fromParentNode:p,fromEventTarget:b,toHTMLMediaElement:c,toHTMLElement:f,toElement:d,toNode:s,toChildNode:h,toNonDocumentTypeChildNode:u,toParentNode:a,toEventTarget:l,width:r.width,setWidth:r.setWidth,height:r.height,setHeight:r.setHeight,videoWidth:r.videoWidth,videoHeight:r.videoHeight,poster:r.poster,setPoster:r.setPoster}},function(e,t,n){"use strict";t.width=function(e){return function(){return e.width}},t.setWidth=function(e){return function(t){return function(){t.width=e}}},t.height=function(e){return function(){return e.height}},t.setHeight=function(e){return function(t){return function(){t.height=e}}},t.videoWidth=function(e){return function(){return e.videoWidth}},t.videoHeight=function(e){return function(){return e.videoHeight}},t.poster=function(e){return function(){return e.poster}},t.setPoster=function(e){return function(t){return function(){t.poster=e}}}},function(e,t,n){"use strict";var r=n(1017),i=n(13),o=n(26),a=n(16),u=new o.Newtype((function(){})),s=new o.Newtype((function(){})),c=new o.Newtype((function(){})),f=new i.Eq((function(e){return function(t){return e===t}})),l=new a.Ord((function(){return f}),(function(e){return function(t){return a.compare(a.ordString)(e)(t)}})),d=new i.Eq((function(e){return function(t){return e===t}})),h=new a.Ord((function(){return d}),(function(e){return function(t){return a.compare(a.ordString)(e)(t)}})),p=new i.Eq((function(e){return function(t){return e===t}})),m=new a.Ord((function(){return p}),(function(e){return function(t){return a.compare(a.ordInt)(e)(t)}}));e.exports={DocumentTitle:function(e){return e},Delta:function(e){return e},URL:function(e){return e},eqDocumentTitle:d,ordDocumentTitle:h,newtypeDocumentTitle:s,eqDelta:p,ordDelta:m,newtypeDelta:c,eqURL:f,ordURL:l,newtypeURL:u,back:r.back,forward:r.forward,go:r.go,pushState:r.pushState,replaceState:r.replaceState,state:r.state}},function(e,t,n){"use strict";t.back=function(e){return function(){return e.back()}},t.forward=function(e){return function(){return e.forward()}},t.go=function(e){return function(t){return function(){return t.go(e)}}},t.pushState=function(e){return function(t){return function(n){return function(r){return function(){return r.pushState(e,t,n)}}}}},t.replaceState=function(e){return function(t){return function(n){return function(r){return function(){return r.replaceState(e,t,n)}}}}},t.state=function(e){return function(){return e.state}}},function(e,t,n){"use strict";t.hash=function(e){return function(){return e.hash}},t.setHash=function(e){return function(t){return function(){t.hash=e}}},t.host=function(e){return function(){return e.host}},t.setHost=function(e){return function(t){return function(){t.host=e}}},t.hostname=function(e){return function(){return e.hostname}},t.setHostname=function(e){return function(t){return function(){t.hostname=e}}},t.href=function(e){return function(){return e.href}},t.setHref=function(e){return function(t){return function(){t.href=e}}},t.origin=function(e){return function(){return e.origin}},t.setOrigin=function(e){return function(t){return function(){t.origin=e}}},t.pathname=function(e){return function(){return e.pathname}},t.setPathname=function(e){return function(t){return function(){t.pathname=e}}},t.port=function(e){return function(){return e.port}},t.setPort=function(e){return function(t){return function(){t.port=e}}},t.protocol=function(e){return function(){return e.protocol}},t.setProtocol=function(e){return function(t){return function(){t.protocol=e}}},t.search=function(e){return function(){return e.search}},t.setSearch=function(e){return function(t){return function(){t.search=e}}},t.assign=function(e){return function(t){return function(){t.assign(e)}}},t.replace=function(e){return function(t){return function(){t.replace(e)}}},t.reload=function(e){return function(){e.reload()}}},function(e,t,n){"use strict";var r=n(1020);e.exports={language:r.language,platform:r.platform,userAgent:r.userAgent}},function(e,t,n){"use strict";t.language=function(e){return function(){return e.language}},t.platform=function(e){return function(){return e.platform}},t.userAgent=function(e){return function(){return e.userAgent}}},function(e,t,n){"use strict";t.document=function(e){return function(){return e.document}},t.navigator=function(e){return function(){return e.navigator}},t.location=function(e){return function(){return e.location}},t.history=function(e){return function(){return e.history}},t.innerWidth=function(e){return function(){return e.innerWidth}},t.innerHeight=function(e){return function(){return e.innerHeight}},t.alert=function(e){return function(t){return function(){t.alert(e)}}},t.confirm=function(e){return function(t){return function(){return t.confirm(e)}}},t.moveBy=function(e){return function(t){return function(n){return function(){n.moveBy(e,t)}}}},t.moveTo=function(e){return function(t){return function(n){return function(){n.moveTo(e,t)}}}},t._open=function(e){return function(t){return function(n){return function(r){return function(){return r.open(e,t,n)}}}}},t.outerHeight=function(e){return function(){return e.outerHeight}},t.outerWidth=function(e){return function(){return e.outerWidth}},t.print=function(e){return function(){e.print()}},t._prompt=function(e){return function(t){return function(n){return function(){return n.prompt(e,t)}}}},t.resizeBy=function(e){return function(t){return function(n){return function(){n.resizeBy(e,t)}}}},t.resizeTo=function(e){return function(t){return function(n){return function(){n.resizeTo(e,t)}}}},t.screenX=function(e){return function(){return e.screenX}},t.screenY=function(e){return function(){return e.screenY}},t.scroll=function(e){return function(t){return function(n){return function(){n.scroll(e,t)}}}},t.scrollBy=function(e){return function(t){return function(n){return function(){n.scrollBy(e,t)}}}},t.scrollX=function(e){return function(){return e.scrollX}},t.scrollY=function(e){return function(){return e.scrollY}},t.localStorage=function(e){return function(){return e.localStorage}},t.sessionStorage=function(e){return function(){return e.sessionStorage}},t.requestAnimationFrame=function(e){return function(t){return function(){return t.requestAnimationFrame(e)}}},t.cancelAnimationFrame=function(e){return function(t){return function(){return t.cancelAnimationFrame(e)}}},t.requestIdleCallback=function(e){return function(t){return function(n){return function(){return n.requestIdleCallback(t,e)}}}},t.cancelIdleCallback=function(e){return function(t){return function(){return t.cancelIdleCallback(e)}}},t.parent=function(e){return function(){return e.parent}},t._opener=function(e){return function(){return e.opener}}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(25),c=n(40),f=n(74),l=n(75),d=n(93),h=n(73),p=n(46),m=n(23),y=n(2),v=n(219),g=n(5),b=n(28),w=n(26),E=n(20),_=n(29),S=n(79),T=n(113),A=n(24),P=n(58),k=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),x=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),C=function(){function e(){}return e.value=new e,e}(),R=function(e){return e},I=function(e){return function(t){return y.map(e)((function(e){return x.create(v.defer(m.const(e)))}))(t)}},O=function(e){return function(t){return function(n){return y.map(e.Bind1().Apply0().Functor0())((function(n){if(n instanceof g.Just)return new k(n.value0.value1,v.defer((function(r){return O(e)(t)(n.value0.value0)})));if(n instanceof g.Nothing)return C.value;throw new Error("Failed pattern match at Control.Monad.List.Trans (line 130, column 3 - line 130, column 60): "+[n.constructor.name])}))(t(n))}}},M=function(e){return function(t){return u.bind(e.Bind1())(t)((function(t){if(t instanceof k)return o.pure(e.Applicative0())(g.Just.create(new _.Tuple(t.value0,v.force(t.value1))));if(t instanceof x)return M(e)(v.force(t.value0));if(t instanceof C)return o.pure(e.Applicative0())(g.Nothing.value);throw new Error("Failed pattern match at Control.Monad.List.Trans (line 195, column 3 - line 195, column 50): "+[t.constructor.name])}))}},N=function(e){return function(t){return function(n){return y.map(e)(t)(n)}}},D=function(e){return function(t){return N(e.Apply0().Functor0())((function(n){if(n instanceof k)return t(n.value0)?new k(n.value0,y.map(v.functorLazy)(D(e)(t))(n.value1)):C.value;if(n instanceof x)return x.create(y.map(v.functorLazy)(D(e)(t))(n.value0));if(n instanceof C)return C.value;throw new Error("Failed pattern match at Control.Monad.List.Trans (line 154, column 3 - line 154, column 68): "+[n.constructor.name])}))}},L=function(e){return function(t){return function(n){return o.pure(e)(new k(t,n))}}},j=function(e){return function(t){return function(n){return L(e)(t)(v.defer(m.const(n)))}}},B=function(e){return o.pure(e)(C.value)},F=function(e){return function(t){return j(e)(t)(B(e))}},U=function(e){return function(t){return function(n){if(0===t)return B(e);return N(e.Apply0().Functor0())((function(n){if(n instanceof k)return new k(n.value0,y.map(v.functorLazy)(U(e)(t-1|0))(n.value1));if(n instanceof x)return new x(y.map(v.functorLazy)(U(e)(t))(n.value0));if(n instanceof C)return C.value;throw new Error("Failed pattern match at Control.Monad.List.Trans (line 147, column 3 - line 147, column 47): "+[n.constructor.name])}))(n)}}},q=function(e){return function(t){return function(n){return function(r){return I(e.Bind1().Apply0().Functor0())(u.bind(e.Bind1())(M(e)(n))((function(n){return u.bind(e.Bind1())(M(e)(r))((function(r){return(i=n,function(n){if(n instanceof g.Nothing)return o.pure(e.Applicative0())(B(e.Applicative0()));if(i instanceof g.Nothing)return o.pure(e.Applicative0())(B(e.Applicative0()));if(i instanceof g.Just&&n instanceof g.Just)return y.map(e.Bind1().Apply0().Functor0())(m.flip(L(e.Applicative0()))(v.defer((function(r){return q(e)(t)(i.value0.value1)(n.value0.value1)}))))(t(i.value0.value0)(n.value0.value0));throw new Error("Failed pattern match at Control.Monad.List.Trans (line 260, column 3 - line 260, column 25): "+[i.constructor.name,n.constructor.name])})(r);var i}))})))}}}},H=new w.Newtype((function(){})),K=function(e){return function(t){return N(e)((function(n){if(n instanceof k)return g.fromMaybe(x.create)(y.map(g.functorMaybe)(k.create)(t(n.value0)))(y.map(v.functorLazy)(K(e)(t))(n.value1));if(n instanceof x)return x.create(y.map(v.functorLazy)(K(e)(t))(n.value0));if(n instanceof C)return C.value;throw new Error("Failed pattern match at Control.Monad.List.Trans (line 183, column 3 - line 183, column 72): "+[n.constructor.name])}))}},V=function(e){return function(t){return function(n){return O(e)((function(n){return o.pure(e.Applicative0())(new g.Just(new _.Tuple(t(n),n)))}))(n)}}},z=function(e){return new y.Functor((function(t){return N(e)((function(n){if(n instanceof k)return new k(t(n.value0),y.map(v.functorLazy)(y.map(z(e))(t))(n.value1));if(n instanceof x)return new x(y.map(v.functorLazy)(y.map(z(e))(t))(n.value0));if(n instanceof C)return C.value;throw new Error("Failed pattern match at Control.Monad.List.Trans (line 280, column 5 - line 280, column 48): "+[n.constructor.name])}))}))},W=function(e){return function(t){return y.map(e.Apply0().Functor0())(m.flip(k.create)(v.defer((function(t){return B(e)}))))(t)}},G=new l.MonadTrans((function(e){return W(e.Applicative0())})),$=function(e){return function(t){return f.tailRecM2(e)((function(n){return function(r){return u.bind(e.Monad0().Bind1())(M(e.Monad0())(r))((function(r){if(r instanceof g.Nothing)return o.pure(e.Monad0().Applicative0())(new f.Done(n));if(r instanceof g.Just)return u.bind(e.Monad0().Bind1())(t(n)(r.value0.value0))((function(t){return o.pure(e.Monad0().Applicative0())(new f.Loop({a:t,b:r.value0.value1}))}));throw new Error("Failed pattern match at Control.Monad.List.Trans (line 221, column 5 - line 221, column 45): "+[r.constructor.name])}))}}))}},J=function(e){return function(t){var n=function(r){return function(i){return u.bind(e.Bind1())(M(e)(i))((function(i){if(i instanceof g.Nothing)return o.pure(e.Applicative0())(r);if(i instanceof g.Just)return u.bind(e.Bind1())(t(r)(i.value0.value0))(m.flip(n)(i.value0.value1));throw new Error("Failed pattern match at Control.Monad.List.Trans (line 212, column 5 - line 212, column 35): "+[i.constructor.name])}))}};return n}},Q=function(e){return function(t){return N(e)((function(n){if(n instanceof k){var r=y.map(v.functorLazy)(Q(e)(t))(n.value1);return t(n.value0)?new k(n.value0,r):new x(r)}if(n instanceof x){r=y.map(v.functorLazy)(Q(e)(t))(n.value0);return new x(r)}if(n instanceof C)return C.value;throw new Error("Failed pattern match at Control.Monad.List.Trans (line 176, column 3 - line 176, column 80): "+[n.constructor.name])}))}},Y=function(e){return function(t){return N(e.Apply0().Functor0())((function(n){if(n instanceof k)return t(n.value0)?new x(y.map(v.functorLazy)(Y(e)(t))(n.value1)):new k(n.value0,n.value1);if(n instanceof x)return x.create(y.map(v.functorLazy)(Y(e)(t))(n.value0));if(n instanceof C)return C.value;throw new Error("Failed pattern match at Control.Monad.List.Trans (line 169, column 3 - line 169, column 70): "+[n.constructor.name])}))}},X=function(e){return function(t){return function(n){if(0===t)return n;return N(e.Apply0().Functor0())((function(n){if(n instanceof k)return new x(y.map(v.functorLazy)(X(e)(t-1|0))(n.value1));if(n instanceof x)return new x(y.map(v.functorLazy)(X(e)(t))(n.value0));if(n instanceof C)return C.value;throw new Error("Failed pattern match at Control.Monad.List.Trans (line 162, column 3 - line 162, column 44): "+[n.constructor.name])}))(n)}}},Z=function(e){return function(t){return function(n){return o.pure(e)(new k(v.force(t),n))}}},ee=function(e){return new T.Unfoldable1((function(t){return function(n){var r=function(n){if(n.value1 instanceof g.Nothing)return F(e.Applicative0())(n.value0);if(n.value1 instanceof g.Just)return Z(e.Applicative0())(o.pure(v.applicativeLazy)(n.value0))(v.defer((function(e){return r(t(n.value1.value0))})));throw new Error("Failed pattern match at Control.Monad.List.Trans (line 294, column 12 - line 296, column 67): "+[n.constructor.name])};return r(t(n))}}))},te=function(e){return new E.Semigroup(ne(e))},ne=function(e){return function(t){return function(n){return N(e.Apply0().Functor0())((function(t){if(t instanceof k)return new k(t.value0,y.map(v.functorLazy)((function(t){return E.append(te(e))(t)(n)}))(t.value1));if(t instanceof x)return new x(y.map(v.functorLazy)((function(t){return E.append(te(e))(t)(n)}))(t.value0));if(t instanceof C)return new x(v.defer(m.const(n)));throw new Error("Failed pattern match at Control.Monad.List.Trans (line 106, column 3 - line 106, column 43): "+[t.constructor.name])}))(t)}}},re=function(e){return new c.Monad((function(){return ae(e)}),(function(){return ie(e)}))},ie=function(e){return new u.Bind((function(){return oe(e)}),(function(t){return function(n){return N(e.Bind1().Apply0().Functor0())((function(t){if(t instanceof k){return new x(y.map(v.functorLazy)((function(r){return E.append(te(e.Applicative0()))(n(t.value0))(u.bind(ie(e))(r)(n))}))(t.value1))}if(t instanceof x)return new x(y.map(v.functorLazy)((function(t){return u.bind(ie(e))(t)(n)}))(t.value0));if(t instanceof C)return C.value;throw new Error("Failed pattern match at Control.Monad.List.Trans (line 306, column 5 - line 308, column 31): "+[t.constructor.name])}))(t)}}))},oe=function(e){return new a.Apply((function(){return z(e.Bind1().Apply0().Functor0())}),c.ap(re(e)))},ae=function(e){return new o.Applicative((function(){return oe(e)}),F(e.Applicative0()))},ue=function(e){return new r.Alt((function(){return z(e.Apply0().Functor0())}),ne(e))},se=function(e){return new p.Plus((function(){return ue(e.Applicative0())}),B(e.Applicative0()))},ce=function(e){return new i.Alternative((function(){return ae(e)}),(function(){return se(e)}))};e.exports={ListT:R,Yield:k,Skip:x,Done:C,catMaybes:function(e){return K(e)(s.identity(s.categoryFn))},cons:Z,drop:X,dropWhile:Y,filter:Q,foldl:function(e){return function(t){var n=function(r){return function(i){return u.bind(e.Bind1())(M(e)(i))((function(i){if(i instanceof g.Nothing)return o.pure(e.Applicative0())(r);if(i instanceof g.Just)return n(t(r)(i.value0.value0))(i.value0.value1);throw new Error("Failed pattern match at Control.Monad.List.Trans (line 229, column 5 - line 229, column 35): "+[i.constructor.name])}))}};return n}},foldlRec:function(e){return function(t){return f.tailRecM2(e)((function(n){return function(r){return u.bind(e.Monad0().Bind1())(M(e.Monad0())(r))((function(r){if(r instanceof g.Nothing)return o.pure(e.Monad0().Applicative0())(new f.Done(n));if(r instanceof g.Just)return o.pure(e.Monad0().Applicative0())(new f.Loop({a:t(n)(r.value0.value0),b:r.value0.value1}));throw new Error("Failed pattern match at Control.Monad.List.Trans (line 239, column 7 - line 239, column 47): "+[r.constructor.name])}))}}))}},"foldl'":J,"foldlRec'":$,fromEffect:W,head:function(e){return function(t){return y.map(e.Bind1().Apply0().Functor0())(y.map(g.functorMaybe)(_.fst))(M(e)(t))}},iterate:V,mapMaybe:K,nil:B,prepend:j,"prepend'":L,repeat:function(e){return V(e)(s.identity(s.categoryFn))},runListT:function(e){return J(e)((function(t){return function(t){return o.pure(e.Applicative0())(A.unit)}}))(A.unit)},runListTRec:function(e){return $(e)((function(t){return function(t){return o.pure(e.Monad0().Applicative0())(A.unit)}}))(A.unit)},scanl:function(e){return function(t){return function(n){return function(r){return O(e)((function(n){return y.map(e.Bind1().Apply0().Functor0())((function(e){if(e instanceof k){var r=t(n.value0)(e.value0);return g.Just.create(new _.Tuple(new _.Tuple(r,v.force(e.value1)),n.value0))}if(e instanceof x)return g.Just.create(new _.Tuple(new _.Tuple(n.value0,v.force(e.value0)),n.value0));if(e instanceof C)return g.Nothing.value;throw new Error("Failed pattern match at Control.Monad.List.Trans (line 248, column 5 - line 248, column 78): "+[e.constructor.name])}))(n.value1)}))(new _.Tuple(n,r))}}}},singleton:F,tail:function(e){return function(t){return y.map(e.Bind1().Apply0().Functor0())(y.map(g.functorMaybe)(_.snd))(M(e)(t))}},take:U,takeWhile:D,uncons:M,unfold:O,wrapEffect:I,wrapLazy:function(e){return function(t){return o.pure(e)(new x(t))}},zipWith:function(e){return function(t){return q(e)((function(n){return function(r){return o.pure(e.Applicative0())(t(n)(r))}}))}},"zipWith'":q,newtypeListT:H,semigroupListT:te,monoidListT:function(e){return new b.Monoid((function(){return te(e)}),B(e))},functorListT:z,unfoldableListT:function(e){return new S.Unfoldable((function(){return ee(e)}),(function(t){return function(n){var r=function(n){if(n instanceof g.Nothing)return B(e.Applicative0());if(n instanceof g.Just)return Z(e.Applicative0())(o.pure(v.applicativeLazy)(n.value0.value0))(v.defer((function(e){return r(t(n.value0.value1))})));throw new Error("Failed pattern match at Control.Monad.List.Trans (line 287, column 12 - line 289, column 67): "+[n.constructor.name])};return r(t(n))}}))},unfoldable1ListT:ee,applyListT:oe,applicativeListT:ae,bindListT:ie,monadListT:re,monadTransListT:G,altListT:ue,plusListT:se,alternativeListT:ce,monadZeroListT:function(e){return new h.MonadZero((function(){return ce(e)}),(function(){return re(e)}),(function(){}))},monadPlusListT:function(e){return new d.MonadPlus((function(){return ce(e)}),(function(){return re(e)}))},monadEffectListT:function(e){return new P.MonadEffect((function(){return re(e.Monad0())}),(t=l.lift(G)(e.Monad0()),n=P.liftEffect(e),function(e){return t(n(e))}));var t,n},MonadTrans:l.MonadTrans,lift:l.lift}},function(e,t,n){"use strict";t.defer=function(e){var t=null;return function(){return void 0===e||(t=e(),e=void 0),t}},t.force=function(e){return e()}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(89),c=n(40),f=n(100),l=n(126),d=n(74),h=n(92),p=n(75),m=n(161),y=n(46),v=n(2),g=n(28),b=n(26),w=n(20),E=n(29),_=n(24),S=n(58),T=function(){function e(e,t,n){this.value0=e,this.value1=t,this.value2=n}return e.create=function(t){return function(n){return function(r){return new e(t,n,r)}}},e}(),A=function(e){return e},P=new b.Newtype((function(){})),k=function(e){return new p.MonadTrans((function(t){return function(n){return function(r){return function(r){return u.bind(t.Bind1())(n)((function(n){return o.pure(t.Applicative0())(new T(r,n,g.mempty(e)))}))}}}}))},x=new s.Lazy((function(e){return function(t){return function(n){return e(_.unit)(t)(n)}}})),C=function(e){return new v.Functor((function(t){return function(n){return function(r){return function(i){return v.map(e)((function(e){return new T(e.value0,t(e.value1),e.value2)}))(n(r)(i))}}}}))},R=function(e){return function(t){return new a.Apply((function(){return C(e.Apply0().Functor0())}),(function(n){return function(r){return function(i){return function(o){return u.bind(e)(n(i)(o))((function(n){return v.mapFlipped(e.Apply0().Functor0())(r(i)(n.value0))((function(e){return new T(e.value0,n.value1(e.value1),w.append(t.Semigroup0())(n.value2)(e.value2))}))}))}}}}))}},I=function(e){return function(t){return new u.Bind((function(){return R(e)(t)}),(function(n){return function(r){return function(i){return function(o){return u.bind(e)(n(i)(o))((function(n){var o=r(n.value1);return v.mapFlipped(e.Apply0().Functor0())(o(i)(n.value0))((function(e){return new T(e.value0,e.value1,w.append(t.Semigroup0())(n.value2)(e.value2))}))}))}}}}))}},O=function(e){return function(t){return function(n){return new w.Semigroup(a.lift2(R(e)(t))(w.append(n)))}}},M=function(e){return function(t){return new o.Applicative((function(){return R(e.Bind1())(t)}),(function(n){return function(r){return function(r){return o.pure(e.Applicative0())(new T(r,n,g.mempty(t)))}}}))}},N=function(e){return function(t){return new c.Monad((function(){return M(e)(t)}),(function(){return I(e.Bind1())(t)}))}},D=function(e){return function(t){return new l.MonadAsk((function(){return N(e)(t)}),(function(n){return function(r){return o.pure(e.Applicative0())(new T(r,n,g.mempty(t)))}}))}},L=function(e){return function(t){return new m.MonadTell((function(){return N(e)(t)}),t.Semigroup0,(function(t){return function(n){return function(n){return o.pure(e.Applicative0())(new T(n,_.unit,t))}}}))}},j=function(e){return function(t){return new f.MonadThrow((function(){return N(e.Monad0())(t)}),(function(n){return p.lift(k(t))(e.Monad0())(f.throwError(e)(n))}))}},B=function(e){return new r.Alt((function(){return C(e.Functor0())}),(function(t){return function(n){return function(i){return function(o){return r.alt(e)(t(i)(o))(n(i)(o))}}}}))},F=function(e){return new y.Plus((function(){return B(e.Alt0())}),(function(t){return function(t){return y.empty(e)}}))};e.exports={RWSResult:T,RWST:A,runRWST:function(e){return e},evalRWST:function(e){return function(t){return function(n){return function(r){return u.bind(e.Bind1())(t(n)(r))((function(t){return o.pure(e.Applicative0())(new E.Tuple(t.value1,t.value2))}))}}}},execRWST:function(e){return function(t){return function(n){return function(r){return u.bind(e.Bind1())(t(n)(r))((function(t){return o.pure(e.Applicative0())(new E.Tuple(t.value0,t.value2))}))}}}},mapRWST:function(e){return function(t){return function(n){return function(r){return e(t(n)(r))}}}},withRWST:function(e){return function(t){return function(n){return function(r){return E.uncurry(t)(e(n)(r))}}}},newtypeRWST:P,functorRWST:C,applyRWST:R,altRWST:B,alternativeRWST:function(e){return function(t){return function(n){return new i.Alternative((function(){return M(n)(e)}),(function(){return F(t.Plus1())}))}}},bindRWST:I,applicativeRWST:M,monadRWST:N,monadTransRWST:k,lazyRWST:x,monadEffectRWS:function(e){return function(t){return new S.MonadEffect((function(){return N(t.Monad0())(e)}),(n=p.lift(k(e))(t.Monad0()),r=S.liftEffect(t),function(e){return n(r(e))}));var n,r}},monadAskRWST:D,monadReaderRWST:function(e){return function(t){return new l.MonadReader((function(){return D(e)(t)}),(function(e){return function(t){return function(n){return function(r){return t(e(n))(r)}}}}))}},monadStateRWST:function(e){return function(t){return new h.MonadState((function(){return N(e)(t)}),(function(n){return function(r){return function(r){var i=n(r);return o.pure(e.Applicative0())(new T(i.value1,i.value0,g.mempty(t)))}}}))}},monadTellRWST:L,monadWriterRWST:function(e){return function(t){return new m.MonadWriter((function(){return L(e)(t)}),(function(){return t}),(function(t){return function(n){return function(r){return u.bind(e.Bind1())(t(n)(r))((function(t){return o.pure(e.Applicative0())(new T(t.value0,new E.Tuple(t.value1,t.value2),t.value2))}))}}}),(function(t){return function(n){return function(r){return u.bind(e.Bind1())(t(n)(r))((function(t){return o.pure(e.Applicative0())(new T(t.value0,t.value1.value0,t.value1.value1(t.value2)))}))}}}))}},monadThrowRWST:j,monadErrorRWST:function(e){return function(t){return new f.MonadError((function(){return j(e.MonadThrow0())(t)}),(function(t){return function(n){return function(r){return function(i){return f.catchError(e)(t(r)(i))((function(e){return n(e)(r)(i)}))}}}}))}},monadRecRWST:function(e){return function(t){return new d.MonadRec((function(){return N(e.Monad0())(t)}),(function(n){return function(r){return function(i){return function(a){return d.tailRecM(e)(function(r){return function(i){var a=n(i.value1);return u.bind(e.Monad0().Bind1())(a(r)(i.value0))((function(n){return o.pure(e.Monad0().Applicative0())(function(){if(n.value1 instanceof d.Loop)return new d.Loop(new T(n.value0,n.value1.value0,w.append(t.Semigroup0())(i.value2)(n.value2)));if(n.value1 instanceof d.Done)return new d.Done(new T(n.value0,n.value1.value0,w.append(t.Semigroup0())(i.value2)(n.value2)));throw new Error("Failed pattern match at Control.Monad.RWS.Trans (line 128, column 16 - line 130, column 68): "+[n.value1.constructor.name])}())}))}}(i))(new T(a,r,g.mempty(t)))}}}}))}},plusRWST:F,semigroupRWST:O,monoidRWST:function(e){return function(t){return function(n){return new g.Monoid((function(){return O(e.Bind1())(t)(n.Semigroup0())}),o.pure(M(e)(t))(g.mempty(n)))}}},MonadTrans:p.MonadTrans,lift:p.lift}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(89),c=n(40),f=n(186),l=n(100),d=n(126),h=n(74),p=n(92),m=n(75),y=n(161),v=n(93),g=n(73),b=n(46),w=n(2),E=n(28),_=n(26),S=n(20),T=n(29),A=n(24),P=n(58),k=function(e){return e},x=new _.Newtype((function(){})),C=new m.MonadTrans((function(e){return function(t){return function(n){return u.bind(e.Bind1())(t)((function(t){return o.pure(e.Applicative0())(new T.Tuple(t,n))}))}}})),R=function(e){return function(t){return function(n){return e(t(n))}}},I=new s.Lazy((function(e){return function(t){return e(A.unit)(t)}})),O=function(e){return new w.Functor((function(t){return function(n){return function(r){return w.map(e)((function(e){return new T.Tuple(t(e.value0),e.value1)}))(n(r))}}}))},M=function(e){return new c.Monad((function(){return L(e)}),(function(){return N(e)}))},N=function(e){return new u.Bind((function(){return D(e)}),(function(t){return function(n){return function(r){return u.bind(e.Bind1())(t(r))((function(e){return n(e.value0)(e.value1)}))}}}))},D=function(e){return new a.Apply((function(){return O(e.Bind1().Apply0().Functor0())}),c.ap(M(e)))},L=function(e){return new o.Applicative((function(){return D(e)}),(function(t){return function(n){return o.pure(e.Applicative0())(new T.Tuple(t,n))}}))},j=function(e){return function(t){return new S.Semigroup(a.lift2(D(e))(S.append(t)))}},B=function(e){return new d.MonadAsk((function(){return M(e.Monad0())}),m.lift(C)(e.Monad0())(d.ask(e)))},F=function(e){return new y.MonadTell((function(){return M(e.Monad1())}),e.Semigroup0,(t=m.lift(C)(e.Monad1()),n=y.tell(e),function(e){return t(n(e))}));var t,n},U=function(e){return new l.MonadThrow((function(){return M(e.Monad0())}),(function(t){return m.lift(C)(e.Monad0())(l.throwError(e)(t))}))},q=function(e){return function(e){return new r.Alt((function(){return O(e.Functor0())}),(function(t){return function(n){return function(i){return r.alt(e)(t(i))(n(i))}}}))}},H=function(e){return function(e){return new b.Plus((function(){return q()(e.Alt0())}),(function(t){return b.empty(e)}))}},K=function(e){return function(t){return new i.Alternative((function(){return L(e)}),(function(){return H()(t.Plus1())}))}};e.exports={StateT:k,runStateT:function(e){return e},evalStateT:function(e){return function(t){return function(n){return w.map(e)(T.fst)(t(n))}}},execStateT:function(e){return function(t){return function(n){return w.map(e)(T.snd)(t(n))}}},mapStateT:R,withStateT:function(e){return function(t){return function(n){return t(e(n))}}},newtypeStateT:x,functorStateT:O,applyStateT:D,applicativeStateT:L,altStateT:q,plusStateT:H,alternativeStateT:K,bindStateT:N,monadStateT:M,monadRecStateT:function(e){return new h.MonadRec((function(){return M(e.Monad0())}),(function(t){return function(n){var r=function(n){var r=t(n.value0);return u.bind(e.Monad0().Bind1())(r(n.value1))((function(t){return o.pure(e.Monad0().Applicative0())(function(){if(t.value0 instanceof h.Loop)return new h.Loop(new T.Tuple(t.value0.value0,t.value1));if(t.value0 instanceof h.Done)return new h.Done(new T.Tuple(t.value0.value0,t.value1));throw new Error("Failed pattern match at Control.Monad.State.Trans (line 88, column 16 - line 90, column 40): "+[t.value0.constructor.name])}())}))};return function(t){return h.tailRecM(e)(r)(new T.Tuple(n,t))}}}))},monadZeroStateT:function(e){return new g.MonadZero((function(){return K(e.Monad0())(e.Alternative1())}),(function(){return M(e.Monad0())}),(function(){}))},monadPlusStateT:function(e){return new v.MonadPlus((function(){return K(e.Monad0())(e.Alternative1())}),(function(){return M(e.Monad0())}))},monadTransStateT:C,lazyStateT:I,monadEffectState:function(e){return new P.MonadEffect((function(){return M(e.Monad0())}),(t=m.lift(C)(e.Monad0()),n=P.liftEffect(e),function(e){return t(n(e))}));var t,n},monadContStateT:function(e){return new f.MonadCont((function(){return M(e.Monad0())}),(function(t){return function(n){return f.callCC(e)((function(e){return t((function(t){return function(n){return e(new T.Tuple(t,n))}}))(n)}))}}))},monadThrowStateT:U,monadErrorStateT:function(e){return new l.MonadError((function(){return U(e.MonadThrow0())}),(function(t){return function(n){return function(r){return l.catchError(e)(t(r))((function(e){return n(e)(r)}))}}}))},monadAskStateT:B,monadReaderStateT:function(e){return new d.MonadReader((function(){return B(e.MonadAsk0())}),(t=d.local(e),function(e){return R(t(e))}));var t},monadStateStateT:function(e){return new p.MonadState((function(){return M(e)}),(function(t){return n=o.pure(e.Applicative0()),function(e){return n(t(e))};var n}))},monadTellStateT:F,monadWriterStateT:function(e){return new y.MonadWriter((function(){return F(e.MonadTell1())}),e.Monoid0,(function(t){return function(n){return u.bind(e.MonadTell1().Monad1().Bind1())(y.listen(e)(t(n)))((function(t){return o.pure(e.MonadTell1().Monad1().Applicative0())(new T.Tuple(new T.Tuple(t.value0.value0,t.value1),t.value0.value1))}))}}),(function(t){return function(n){return y.pass(e)(u.bind(e.MonadTell1().Monad1().Bind1())(t(n))((function(t){return o.pure(e.MonadTell1().Monad1().Applicative0())(new T.Tuple(new T.Tuple(t.value0.value0,t.value1),t.value0.value1))})))}}))},semigroupStateT:j,monoidStateT:function(e){return function(t){return new E.Monoid((function(){return j(e)(t.Semigroup0())}),o.pure(L(e))(E.mempty(t)))}},MonadState:p.MonadState,get:p.get,gets:p.gets,modify:p.modify,modify_:p.modify_,put:p.put,state:p.state,MonadTrans:m.MonadTrans,lift:m.lift}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(40),c=n(93),f=n(73),l=n(46),d=n(1027),h=n(36),p=n(23),m=n(2),y=n(70),v=n(5),g=n(28),b=n(20),w=n(69),E=n(18),_=n(56),S=n(29),T=n(79),A=n(113),P=function(){function e(){}return e.value=new e,e}(),k=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),x=function(e){return new E.Show((function(t){if(t instanceof P)return"CatNil";if(t instanceof k)return"(CatList "+E.show(e)(t.value0)+" "+E.show(d.showCatQueue(x(e)))(t.value1)+")";throw new Error("Failed pattern match at Data.CatList (line 148, column 1 - line 150, column 71): "+[t.constructor.name])}))},C=function(e){return function(t){if(e instanceof P)return t;if(t instanceof P)return e;if(e instanceof k)return new k(e.value0,d.snoc(e.value1)(t));throw new Error("Failed pattern match at Data.CatList (line 109, column 1 - line 109, column 54): "+[e.constructor.name,t.constructor.name])}},R=function(e){return function(t){return function(n){var r;return(r=n,function(n){var i,o=r,a=!1;function u(r,i){var u,s=d.uncons(r);if(s instanceof v.Nothing)return a=!0,(u=function(e){return function(t){return t(e)}},function(e){return function(t){var n,r=u,i=e,o=!1;function a(e,n,a){if(a instanceof y.Nil)return o=!0,n;if(a instanceof y.Cons)return r=e,i=e(n)(a.value0),void(t=a.value1);throw new Error("Failed pattern match at Data.CatList (line 125, column 3 - line 125, column 59): "+[e.constructor.name,n.constructor.name,a.constructor.name])}for(;!o;)n=a(r,i,t);return n}})(t)(i);if(s instanceof v.Just)return o=s.value0.value1,void(n=new y.Cons(e(s.value0.value0),i));throw new Error("Failed pattern match at Data.CatList (line 121, column 14 - line 123, column 67): "+[s.constructor.name])}for(;!a;)i=u(o,n);return i})(y.Nil.value)}}},I=function(e){if(e instanceof P)return v.Nothing.value;if(e instanceof k)return new v.Just(new S.Tuple(e.value0,d.null(e.value1)?P.value:R(C)(P.value)(e.value1)));throw new Error("Failed pattern match at Data.CatList (line 100, column 1 - line 100, column 61): "+[e.constructor.name])},O=new h.Foldable((function(e){return h.foldMapDefaultL(O)(e)}),(function(e){return function(t){return function(n){var r,i=t,o=!1;function a(t,r){var a=I(r);if(a instanceof v.Just)return i=e(t)(a.value0.value0),void(n=a.value0.value1);if(a instanceof v.Nothing)return o=!0,t;throw new Error("Failed pattern match at Data.CatList (line 157, column 16 - line 159, column 22): "+[a.constructor.name])}for(;!o;)r=a(i,n);return r}}}),(function(e){return function(t){return function(n){return h.foldrDefault(O)(e)(t)(n)}}})),M=h.length(O)(w.semiringInt),N=function(e){return function(t){return function(n){if(n instanceof P)return g.mempty(e);if(n instanceof k){var r=d.null(n.value1)?P.value:R(C)(P.value)(n.value1);return b.append(e.Semigroup0())(t(n.value0))(N(e)(t)(r))}throw new Error("Failed pattern match at Data.CatList (line 135, column 1 - line 135, column 62): "+[t.constructor.name,n.constructor.name])}}},D=P.value,L=C,j=function(e){return function(t){return L(new k(e,d.empty))(t)}},B=new m.Functor((function(e){return function(t){if(t instanceof P)return P.value;if(t instanceof k){var n=d.null(t.value1)?P.value:R(C)(P.value)(t.value1);return j(e(t.value0))(m.map(B)(e)(n))}throw new Error("Failed pattern match at Data.CatList (line 185, column 1 - line 189, column 26): "+[e.constructor.name,t.constructor.name])}})),F=function(e){return j(e)(P.value)},U=new _.Traversable((function(){return O}),(function(){return B}),(function(e){return function(t){if(t instanceof P)return o.pure(e)(P.value);if(t instanceof k){var n=d.null(t.value1)?P.value:R(C)(P.value)(t.value1);return a.apply(e.Apply0())(m.map(e.Apply0().Functor0())(j)(t.value0))(_.sequence(U)(e)(n))}throw new Error("Failed pattern match at Data.CatList (line 175, column 1 - line 183, column 33): "+[t.constructor.name])}}),(function(e){return function(t){return function(n){if(n instanceof P)return o.pure(e)(P.value);if(n instanceof k){var r=d.null(n.value1)?P.value:R(C)(P.value)(n.value1);return a.apply(e.Apply0())(m.map(e.Apply0().Functor0())(j)(t(n.value0)))(_.traverse(U)(e)(t)(r))}throw new Error("Failed pattern match at Data.CatList (line 175, column 1 - line 183, column 33): "+[t.constructor.name,n.constructor.name])}}})),q=new b.Semigroup(L),H=new g.Monoid((function(){return q}),P.value),K=new s.Monad((function(){return W}),(function(){return V})),V=new u.Bind((function(){return z}),p.flip(N(H))),z=new a.Apply((function(){return B}),s.ap(K)),W=new o.Applicative((function(){return z}),F),G=function(e){return function(t){return L(e)(new k(t,d.empty))}},$=new A.Unfoldable1((function(e){return function(t){var n;return(n=t,function(t){var r,i=n,o=!1;function a(n,r){var a=e(n);if(a.value1 instanceof v.Nothing)return o=!0,G(r)(a.value0);if(a.value1 instanceof v.Just)return i=a.value1.value0,void(t=G(r)(a.value0));throw new Error("Failed pattern match at Data.CatList (line 171, column 24 - line 173, column 57): "+[a.constructor.name])}for(;!o;)r=a(i,t);return r})(P.value)}})),J=new T.Unfoldable((function(){return $}),(function(e){return function(t){var n;return(n=t,function(t){var r,i=n,o=!1;function a(n,r){var a=e(n);if(a instanceof v.Nothing)return o=!0,r;if(a instanceof v.Just)return i=a.value0.value1,void(t=G(r)(a.value0.value0));throw new Error("Failed pattern match at Data.CatList (line 164, column 24 - line 166, column 57): "+[a.constructor.name])}for(;!o;)r=a(i,t);return r})(P.value)}})),Q=new r.Alt((function(){return B}),L),Y=new l.Plus((function(){return Q}),D),X=new i.Alternative((function(){return W}),(function(){return Y})),Z=new c.MonadPlus((function(){return X}),(function(){return K})),ee=new f.MonadZero((function(){return X}),(function(){return K}),(function(){}));e.exports={CatNil:P,CatCons:k,empty:D,null:function(e){return e instanceof P},singleton:F,length:M,append:L,cons:j,snoc:G,uncons:I,fromFoldable:function(e){return function(t){return h.foldMap(e)(H)(F)(t)}},semigroupCatList:q,monoidCatList:H,showCatList:x,foldableCatList:O,unfoldableCatList:J,unfoldable1CatList:$,traversableCatList:U,functorCatList:B,applyCatList:z,applicativeCatList:W,bindCatList:V,monadCatList:K,altCatList:Q,plusCatList:Y,alternativeCatList:X,monadZeroCatList:ee,monadPlusCatList:Z}},function(e,t,n){"use strict";var r=n(32),i=n(50),o=n(11),a=n(19),u=n(15),s=n(40),c=n(93),f=n(73),l=n(46),d=n(13),h=n(36),p=n(23),m=n(2),y=n(128),v=n(70),g=n(5),b=n(28),w=n(16),E=n(34),_=n(20),S=n(18),T=n(56),A=n(29),P=n(79),k=n(113),x=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),C=function(e){var t,n=!1;function r(t){if(t.value0 instanceof v.Nil&&t.value1 instanceof v.Nil)return n=!0,g.Nothing.value;if(!(t.value0 instanceof v.Nil)){if(t.value0 instanceof v.Cons)return n=!0,new g.Just(new A.Tuple(t.value0.value0,new x(t.value0.value1,t.value1)));throw new Error("Failed pattern match at Data.CatQueue (line 83, column 1 - line 83, column 63): "+[t.constructor.name])}e=new x(y.reverse(t.value1),v.Nil.value)}for(;!n;)t=r(e);return t},R=function(e){return function(t){return new x(e.value0,new v.Cons(t,e.value1))}},I=new m.Functor((function(e){return function(t){return new x(m.map(v.functorList)(e)(t.value0),m.map(v.functorList)(e)(t.value1))}})),O=new h.Foldable((function(e){return h.foldMapDefaultL(O)(e)}),(function(e){return function(t){return function(n){var r,i=t,o=!1;function a(t,r){var a=C(r);if(a instanceof g.Just)return i=e(t)(a.value0.value0),void(n=a.value0.value1);if(a instanceof g.Nothing)return o=!0,t;throw new Error("Failed pattern match at Data.CatQueue (line 148, column 16 - line 150, column 22): "+[a.constructor.name])}for(;!o;)r=a(i,n);return r}}}),(function(e){return h.foldrDefault(O)(e)})),M=new _.Semigroup(h.foldl(O)(R)),N=new x(v.Nil.value,v.Nil.value),D=new b.Monoid((function(){return M}),N),L=R(N),j=new T.Traversable((function(){return O}),(function(){return I}),(function(e){return T.sequenceDefault(j)(e)}),(function(e){return function(t){var n=m.map(e.Apply0().Functor0())(h.foldl(O)(R)(N)),r=h.foldl(O)((function(n){var r=a.lift2(e.Apply0())(R)(n);return function(e){return r(t(e))}}))(o.pure(e)(N));return function(e){return n(r(e))}}})),B=new k.Unfoldable1((function(e){return function(t){var n;return(n=t,function(t){var r,i=n,o=!1;function a(n,r){var a=e(n);if(a.value1 instanceof g.Nothing)return o=!0,R(r)(a.value0);if(a.value1 instanceof g.Just)return i=a.value1.value0,void(t=R(r)(a.value0));throw new Error("Failed pattern match at Data.CatQueue (line 155, column 24 - line 157, column 57): "+[a.constructor.name])}for(;!o;)r=a(i,t);return r})(N)}})),F=new P.Unfoldable((function(){return B}),(function(e){return function(t){var n;return(n=t,function(t){var r,i=n,o=!1;function a(n,r){var a=e(n);if(a instanceof g.Nothing)return o=!0,r;if(a instanceof g.Just)return i=a.value0.value1,void(t=R(r)(a.value0.value0));throw new Error("Failed pattern match at Data.CatQueue (line 162, column 24 - line 164, column 57): "+[a.constructor.name])}for(;!o;)r=a(i,t);return r})(N)}})),U=function(e){return new d.Eq(function(e){var t=d.eq(e);return function(e){return function(n){var r,i,o,a,u=e,s=!1;for(;!s;)i=u,o=void 0,a=void 0,o=C(n),r=(a=C(i))instanceof g.Just&&o instanceof g.Just&&t(a.value0.value0)(o.value0.value0)?(u=a.value0.value1,void(n=o.value0.value1)):a instanceof g.Nothing&&o instanceof g.Nothing?(s=!0,!0):(s=!0,!1);return r}}}(e))},q=new s.Monad((function(){return V}),(function(){return H})),H=new u.Bind((function(){return K}),p.flip(h.foldMap(O)(D))),K=new a.Apply((function(){return I}),s.ap(q)),V=new o.Applicative((function(){return K}),L),z=new r.Alt((function(){return I}),_.append(M)),W=new l.Plus((function(){return z}),N),G=new i.Alternative((function(){return V}),(function(){return W})),$=new c.MonadPlus((function(){return G}),(function(){return q})),J=new f.MonadZero((function(){return G}),(function(){return q}),(function(){}));e.exports={CatQueue:x,empty:N,null:function(e){return e.value0 instanceof v.Nil&&e.value1 instanceof v.Nil},singleton:L,length:function(e){return y.length(e.value0)+y.length(e.value1)|0},cons:function(e){return function(t){return new x(new v.Cons(e,t.value0),t.value1)}},snoc:R,uncons:C,unsnoc:function(e){var t,n=!1;function r(t){if(t.value1 instanceof v.Cons)return n=!0,new g.Just(new A.Tuple(t.value1.value0,new x(t.value0,t.value1.value1)));if(t.value0 instanceof v.Nil&&t.value1 instanceof v.Nil)return n=!0,g.Nothing.value;if(!(t.value1 instanceof v.Nil))throw new Error("Failed pattern match at Data.CatQueue (line 93, column 1 - line 93, column 63): "+[t.constructor.name]);e=new x(v.Nil.value,y.reverse(t.value0))}for(;!n;)t=r(e);return t},fromFoldable:function(e){return function(t){return h.foldMap(e)(D)(L)(t)}},eqCatQueue:U,ordCatQueue:function(e){return new w.Ord((function(){return U(e.Eq0())}),function(e){var t=w.compare(e);return function(e){return function(n){var r,i=e,o=!1;function a(e,r){var a=C(r),u=C(e);if(u instanceof g.Just&&a instanceof g.Just){var s=t(u.value0.value0)(a.value0.value0);return s instanceof E.EQ?(i=u.value0.value1,void(n=a.value0.value1)):(o=!0,s)}if(u instanceof g.Just&&a instanceof g.Nothing)return o=!0,E.GT.value;if(u instanceof g.Nothing&&a instanceof g.Just)return o=!0,E.LT.value;if(u instanceof g.Nothing&&a instanceof g.Nothing)return o=!0,E.EQ.value;throw new Error("Failed pattern match at Data.CatQueue (line 118, column 16 - line 125, column 30): "+[u.constructor.name,a.constructor.name])}for(;!o;)r=a(i,n);return r}}}(e))},semigroupCatQueue:M,monoidCatQueue:D,showCatQueue:function(e){return new S.Show((function(t){return"(CatQueue "+S.show(v.showList(e))(t.value0)+" "+S.show(v.showList(e))(t.value1)+")"}))},foldableCatQueue:O,unfoldable1CatQueue:B,unfoldableCatQueue:F,traversableCatQueue:j,functorCatQueue:I,applyCatQueue:K,applicativeCatQueue:V,bindCatQueue:H,monadCatQueue:q,altCatQueue:z,plusCatQueue:W,alternativeCatQueue:G,monadZeroCatQueue:J,monadPlusCatQueue:$}},function(e,t,n){"use strict";var r,i,o=n(32),a=n(11),u=n(19),s=n(15),c=n(25),f=n(89),l=n(74),d=n(54),h=n(13),p=n(36),m=n(23),y=n(2),v=n(90),g=n(219),b=n(512),w=n(525),E=n(5),_=n(26),S=n(146),T=n(16),A=n(34),P=n(20),k=n(18),x=n(56),C=n(29),R=n(79),I=function(e){return function(t){return function(n){return u.apply(g.applyLazy)(y.map(g.functorLazy)((function(t){return function(n){if(t instanceof w.Nil)return w.Nil.value;if(n instanceof w.Nil)return w.Nil.value;if(t instanceof w.Cons&&n instanceof w.Cons)return new w.Cons(e(t.value0)(n.value0),I(e)(t.value1)(n.value1));throw new Error("Failed pattern match at Data.List.Lazy (line 705, column 3 - line 705, column 35): "+[t.constructor.name,n.constructor.name])}}))(_.unwrap()(t)))(_.unwrap()(n))}}},O=I(C.Tuple.create),M=function(e){return function(t){return function(n){var r;return y.map(g.functorLazy)((r=e,function(e){if(e instanceof w.Nil)return w.Nil.value;if(0===r&&e instanceof w.Cons)return new w.Cons(t,e.value1);if(e instanceof w.Cons)return new w.Cons(e.value0,M(r-1|0)(t)(e.value1));throw new Error("Failed pattern match at Data.List.Lazy (line 361, column 3 - line 361, column 17): "+[r.constructor.name,e.constructor.name])}))(_.unwrap()(n))}}},N=p.foldr(w.foldableList)((function(e){return function(t){return new C.Tuple(w.cons(e.value0)(t.value0),w.cons(e.value1)(t.value1))}}))(new C.Tuple(w.nil,w.nil)),D=function(e){var t=w.step(e);if(t instanceof w.Nil)return E.Nothing.value;if(t instanceof w.Cons)return new E.Just({head:t.value0,tail:t.value1});throw new Error("Failed pattern match at Data.List.Lazy (line 288, column 13 - line 290, column 44): "+[t.constructor.name])},L=function(e){var t=y.map(g.functorLazy)((function(t){return t instanceof w.Cons&&e(t.value0)?new w.Cons(t.value0,L(e)(t.value1)):w.Nil.value})),n=_.unwrap();return function(e){return w.List(t(n(e)))}},j=function(e){if(e<=0)return m.const(w.nil);var t,n=y.map(g.functorLazy)((t=e,function(e){if(e instanceof w.Nil)return w.Nil.value;if(e instanceof w.Cons)return new w.Cons(e.value0,j(t-1|0)(e.value1));throw new Error("Failed pattern match at Data.List.Lazy (line 505, column 3 - line 505, column 32): "+[t.constructor.name,e.constructor.name])})),r=_.unwrap();return function(e){return w.List(n(r(e)))}},B=function(e){return y.map(E.functorMaybe)((function(e){return e.tail}))(D(e))},F=function(e){return function(t){var n=D(t);if(n instanceof E.Just&&e(n.value0.head)){var r=F(e)(n.value0.tail);return{init:w.cons(n.value0.head)(r.init),rest:r.rest}}return{init:w.nil,rest:t}}},U=function(e){return function(t){return function(n){return y.map(g.functorLazy)((function(n){if(n instanceof w.Nil)return w.Nil.value;if(n instanceof w.Cons){var r=e(t)(n.value0);return w.Cons.create(r)(U(e)(r)(n.value1))}throw new Error("Failed pattern match at Data.List.Lazy (line 776, column 5 - line 776, column 27): "+[n.constructor.name])}))(_.unwrap()(n))}}},q=function(e){return f.defer(w.lazyList)((function(t){return p.foldl(w.foldableList)(m.flip(w.cons))(w.nil)(e)}))},H=function(e){return function(t){return function(n){if(t<1)return a.pure(e.Applicative0())(w.nil);if(d.otherwise)return s.bind(e.Bind1())(n)((function(r){return s.bind(e.Bind1())(H(e)(t-1|0)(n))((function(t){return a.pure(e.Applicative0())(w.cons(r)(t))}))}));throw new Error("Failed pattern match at Data.List.Lazy (line 164, column 1 - line 164, column 62): "+[t.constructor.name,n.constructor.name])}}},K=function(e){return f.fix(w.lazyList)((function(t){return w.cons(e)(t)}))},V=function(e){return E.isNothing(D(e))},z=function(e){var t=function(n){return function(r){return y.map(g.functorLazy)(function(n){return function(r){if(r instanceof w.Nil)return w.Nil.value;if(r instanceof w.Cons){var i=b.insertAndLookupBy(e)(r.value0)(n);return i.found?w.step(t(i.result)(r.value1)):new w.Cons(r.value0,t(i.result)(r.value1))}throw new Error("Failed pattern match at Data.List.Lazy (line 613, column 5 - line 613, column 23): "+[n.constructor.name,r.constructor.name])}}(n))(r)}};return t(b.emptySet)},W=new _.Newtype((function(){})),G=function(e){var t=y.map(g.functorLazy)((function(t){var n,r=!1;function i(n){if(n instanceof w.Nil)return r=!0,w.Nil.value;if(n instanceof w.Cons){var i=e(n.value0);if(i instanceof E.Nothing)return void(t=w.step(n.value1));if(i instanceof E.Just)return r=!0,new w.Cons(i.value0,G(e)(n.value1));throw new Error("Failed pattern match at Data.List.Lazy (line 448, column 5 - line 450, column 39): "+[i.constructor.name])}throw new Error("Failed pattern match at Data.List.Lazy (line 446, column 3 - line 446, column 15): "+[n.constructor.name])}for(;!r;)n=i(t);return n})),n=_.unwrap();return function(e){return w.List(t(n(e)))}},$=function(e){return function(t){return function(n){return u.apply(e.Applicative0().Apply0())(y.map(e.Plus1().Alt0().Functor0())(w.cons)(n))(f.defer(t)((function(r){return J(e)(t)(n)})))}}},J=function(e){return function(t){return function(n){return o.alt(e.Plus1().Alt0())($(e)(t)(n))(a.pure(e.Applicative0())(w.nil))}}},Q=p.foldl(w.foldableList)((function(e){return function(t){return e+1|0}}))(0),Y=function(e){return function(e){var t,n=!1;function r(t){if(t instanceof w.Cons){if(V(t.value1))return n=!0,new E.Just(t.value0);if(d.otherwise)return void(e=w.step(t.value1))}return n=!0,E.Nothing.value}for(;!n;)t=r(e);return t}(w.step(e))},X=function(e){return function(t){return function(n){if(0===e)return w.cons(t)(n);return y.map(g.functorLazy)((function(n){if(n instanceof w.Nil)return new w.Cons(t,w.nil);if(n instanceof w.Cons)return new w.Cons(n.value0,X(e-1|0)(t)(n.value1));throw new Error("Failed pattern match at Data.List.Lazy (line 340, column 3 - line 340, column 22): "+[n.constructor.name])}))(_.unwrap()(n))}}},Z=(r=function(e){if(e instanceof w.Cons){if(V(e.value1))return new E.Just(w.nil);if(d.otherwise)return y.map(E.functorMaybe)(w.cons(e.value0))(r(w.step(e.value1)))}return E.Nothing.value},function(e){return r(w.step(e))}),ee=function(e){return y.map(E.functorMaybe)((function(e){return e.head}))(D(e))},te=function(e){var t=D(e);if(t instanceof E.Nothing)return e;if(t instanceof E.Just){var n=D(t.value0.head);if(n instanceof E.Nothing)return te(t.value0.tail);if(n instanceof E.Just)return w.cons(w.cons(n.value0.head)(G(ee)(t.value0.tail)))(te(w.cons(n.value0.tail)(G(B)(t.value0.tail))));throw new Error("Failed pattern match at Data.List.Lazy (line 746, column 7 - line 750, column 72): "+[n.constructor.name])}throw new Error("Failed pattern match at Data.List.Lazy (line 742, column 3 - line 750, column 72): "+[t.constructor.name])},ne=function(e){var t=y.map(g.functorLazy)((function(t){if(t instanceof w.Nil)return w.Nil.value;if(t instanceof w.Cons){var n=F(e(t.value0))(t.value1);return new w.Cons(g.defer((function(e){return new S.NonEmpty(t.value0,n.init)})),ne(e)(n.rest))}throw new Error("Failed pattern match at Data.List.Lazy (line 576, column 3 - line 576, column 15): "+[t.constructor.name])})),n=_.unwrap();return function(e){return w.List(t(n(e)))}},re=(i=a.pure(g.applicativeLazy),function(e){return w.List(i(e))}),ie=function(e){return function(t){return function(n){return y.map(g.functorLazy)((function(n){if(n instanceof w.Nil)return new w.Cons(t,w.nil);if(n instanceof w.Cons)return e(t)(n.value0)instanceof A.GT?new w.Cons(n.value0,ie(e)(t)(n.value1)):new w.Cons(t,re(n));throw new Error("Failed pattern match at Data.List.Lazy (line 238, column 3 - line 238, column 22): "+[n.constructor.name])}))(_.unwrap()(n))}}},oe=function(e){return function(t){return function(n){return function(r){var i=D(r);if(i instanceof E.Nothing)return a.pure(e.Applicative0())(n);if(i instanceof E.Just)return s.bind(e.Bind1())(t(n)(i.value0.head))((function(n){return oe(e)(t)(n)(i.value0.tail)}));throw new Error("Failed pattern match at Data.List.Lazy (line 759, column 5 - line 762, column 54): "+[i.constructor.name])}}}},ae=function(e){var t=function(n){return function(r){return s.bind(E.bindMaybe)(D(r))((function(r){return e(r.head)?a.pure(E.applicativeMaybe)(n):t(n+1|0)(r.tail)}))}};return t(0)},ue=function(e){return function(t){return y.map(E.functorMaybe)((function(e){return(Q(t)-1|0)-e|0}))(ae(e)(q(t)))}},se=function(e){return function(t){return function(n){var r=D(n);if(r instanceof E.Nothing)return a.pure(e.Applicative0())(w.nil);if(r instanceof E.Just)return s.bind(e.Bind1())(t(r.value0.head))((function(n){return s.bind(e.Bind1())(se(e)(t)(r.value0.tail))((function(t){return a.pure(e.Applicative0())(n?w.cons(r.value0.head)(t):t)}))}));throw new Error("Failed pattern match at Data.List.Lazy (line 431, column 5 - line 436, column 48): "+[r.constructor.name])}}},ce=function(e){var t=y.map(g.functorLazy)((function(t){var n,r=!1;function i(n){if(n instanceof w.Nil)return r=!0,w.Nil.value;if(n instanceof w.Cons){if(e(n.value0))return r=!0,new w.Cons(n.value0,ce(e)(n.value1));if(d.otherwise)return void(t=w.step(n.value1))}throw new Error("Failed pattern match at Data.List.Lazy (line 416, column 3 - line 416, column 15): "+[n.constructor.name])}for(;!r;)n=i(t);return n})),n=_.unwrap();return function(e){return w.List(t(n(e)))}},fe=function(e){return function(t){return function(n){return ce((function(t){return p.any(w.foldableList)(v.heytingAlgebraBoolean)(e(t))(n)}))(t)}}},le=function(e){var t=y.map(g.functorLazy)((function(t){if(t instanceof w.Nil)return w.Nil.value;if(t instanceof w.Cons)return new w.Cons(t.value0,le(e)(ce((function(n){return!e(t.value0)(n)}))(t.value1)));throw new Error("Failed pattern match at Data.List.Lazy (line 633, column 3 - line 633, column 15): "+[t.constructor.name])})),n=_.unwrap();return function(e){return w.List(t(n(e)))}},de=function(e){return new h.Eq((function(t){return function(n){return h.eq(w.eqList(e))(t)(n)}}))},he=function(e){var t,n=y.map(g.functorLazy)((t=e,function(e){var n,r=t,i=!1;function o(t,n){if(0===t)return i=!0,n;if(n instanceof w.Nil)return i=!0,w.Nil.value;if(n instanceof w.Cons)return r=t-1|0,void(e=w.step(n.value1));throw new Error("Failed pattern match at Data.List.Lazy (line 524, column 3 - line 524, column 15): "+[t.constructor.name,n.constructor.name])}for(;!i;)n=o(r,e);return n})),r=_.unwrap();return function(e){return w.List(n(r(e)))}},pe=function(e){return function(t){return function(n){return y.map(g.functorLazy)((function(n){if(n instanceof w.Nil)return w.Nil.value;if(n instanceof w.Cons){if(e(t)(n.value0))return w.step(n.value1);if(d.otherwise)return new w.Cons(n.value0,pe(e)(t)(n.value1))}throw new Error("Failed pattern match at Data.List.Lazy (line 662, column 3 - line 662, column 15): "+[n.constructor.name])}))(_.unwrap()(n))}}},me=function(e){return function(t){return function(n){return P.append(w.semigroupList)(t)(p.foldl(w.foldableList)(m.flip(pe(e)))(le(e)(n))(t))}}},ye=function(e){return function(t){var n;return y.map(g.functorLazy)((n=e,function(e){if(e instanceof w.Nil)return w.Nil.value;if(0===n&&e instanceof w.Cons)return w.step(e.value1);if(e instanceof w.Cons)return new w.Cons(e.value0,ye(n-1|0)(e.value1));throw new Error("Failed pattern match at Data.List.Lazy (line 350, column 3 - line 350, column 17): "+[n.constructor.name,e.constructor.name])}))(_.unwrap()(t))}},ve=function(e){return pe(h.eq(e))},ge=m.flip(s.bind(w.bindList)),be=G(c.identity(c.categoryFn)),we=function(e){return function(t){return function(n){var r;return y.map(g.functorLazy)((r=e,function(e){if(e instanceof w.Nil)return w.Nil.value;if(0===r&&e instanceof w.Cons){var n=t(e.value0);if(n instanceof E.Nothing)return w.step(e.value1);if(n instanceof E.Just)return new w.Cons(n.value0,e.value1);throw new Error("Failed pattern match at Data.List.Lazy (line 382, column 22 - line 384, column 26): "+[n.constructor.name])}if(e instanceof w.Cons)return new w.Cons(e.value0,we(r-1|0)(t)(e.value1));throw new Error("Failed pattern match at Data.List.Lazy (line 381, column 3 - line 381, column 17): "+[r.constructor.name,e.constructor.name])}))(_.unwrap()(n))}}};e.exports={toUnfoldable:function(e){return R.unfoldr(e)((function(e){return y.map(E.functorMaybe)((function(e){return new C.Tuple(e.head,e.tail)}))(D(e))}))},fromFoldable:function(e){return p.foldr(e)(w.cons)(w.nil)},singleton:function(e){return w.cons(e)(w.nil)},range:function(e){return function(t){if(e>t){return R.unfoldr(w.unfoldableList)((function(e){if(e>=t)return new E.Just(new C.Tuple(e,e-1|0));if(d.otherwise)return E.Nothing.value;throw new Error("Failed pattern match at Data.List.Lazy (line 151, column 13 - line 152, column 38): "+[e.constructor.name])}))(e)}if(d.otherwise){return R.unfoldr(w.unfoldableList)((function(e){if(e<=t)return new E.Just(new C.Tuple(e,e+1|0));if(d.otherwise)return E.Nothing.value;throw new Error("Failed pattern match at Data.List.Lazy (line 156, column 5 - line 157, column 30): "+[e.constructor.name])}))(e)}throw new Error("Failed pattern match at Data.List.Lazy (line 148, column 1 - line 148, column 32): "+[e.constructor.name,t.constructor.name])}},replicate:function(e){return function(t){return j(e)(K(t))}},replicateM:H,some:$,many:J,repeat:K,iterate:function(e){return function(t){return f.fix(w.lazyList)((function(n){return w.cons(t)(y.map(w.functorList)(e)(n))}))}},cycle:function(e){return f.fix(w.lazyList)((function(t){return P.append(w.semigroupList)(e)(t)}))},null:V,length:Q,snoc:function(e){return function(t){return p.foldr(w.foldableList)(w.cons)(w.cons(t)(w.nil))(e)}},insert:function(e){return ie(T.compare(e))},insertBy:ie,head:ee,last:Y,tail:B,init:Z,uncons:D,index:function(e){var t;return t=w.step(e),function(e){var n,r=t,i=!1;function o(t,n){if(t instanceof w.Nil)return i=!0,E.Nothing.value;if(t instanceof w.Cons&&0===n)return i=!0,new E.Just(t.value0);if(t instanceof w.Cons)return r=w.step(t.value1),void(e=n-1|0);throw new Error("Failed pattern match at Data.List.Lazy (line 302, column 3 - line 302, column 21): "+[t.constructor.name,n.constructor.name])}for(;!i;)n=o(r,e);return n}},elemIndex:function(e){return function(t){return ae((function(n){return h.eq(e)(n)(t)}))}},elemLastIndex:function(e){return function(t){return ue((function(n){return h.eq(e)(n)(t)}))}},findIndex:ae,findLastIndex:ue,insertAt:X,deleteAt:ye,updateAt:M,modifyAt:function(e){return function(t){return we(e)((function(e){return E.Just.create(t(e))}))}},alterAt:we,reverse:q,concat:function(e){return s.bind(w.bindList)(e)(c.identity(c.categoryFn))},concatMap:ge,filter:ce,filterM:se,mapMaybe:G,catMaybes:be,Pattern:function(e){return e},stripPrefix:function(e){return function(t){return function(n){return l.tailRecM2(l.monadRecMaybe)((function(t){return function(n){var r=w.step(t);if(r instanceof w.Nil)return E.Just.create(new l.Done(n));if(r instanceof w.Cons){var i=w.step(n);return i instanceof w.Cons&&h.eq(e)(r.value0)(i.value0)?E.Just.create(new l.Loop({a:r.value1,b:i.value1})):E.Nothing.value}throw new Error("Failed pattern match at Data.List.Lazy (line 487, column 21 - line 491, column 19): "+[r.constructor.name])}}))(t)(n)}}},slice:function(e){return function(t){return function(n){return j(t-e|0)(he(e)(n))}}},take:j,takeWhile:L,drop:he,dropWhile:function(e){return function(t){return function(t){var n,r=!1;function i(n){if(!(n instanceof w.Cons&&e(n.value0)))return r=!0,re(n);t=w.step(n.value1)}for(;!r;)n=i(t);return n}(w.step(t))}},span:F,group:function(e){return ne(h.eq(e))},groupBy:ne,partition:function(e){return p.foldr(w.foldableList)((function(t){return function(n){return e(t)?{yes:w.cons(t)(n.yes),no:n.no}:{yes:n.yes,no:w.cons(t)(n.no)}}}))({yes:w.nil,no:w.nil})},nub:function(e){return z(T.compare(e))},nubBy:z,nubEq:function(e){return le(h.eq(e))},nubByEq:le,union:function(e){return me(h.eq(e))},unionBy:me,delete:ve,deleteBy:pe,difference:function(e){return p.foldl(w.foldableList)(m.flip(ve(e)))},intersect:function(e){return fe(h.eq(e))},intersectBy:fe,zipWith:I,zipWithA:function(e){return function(t){return function(n){return function(r){return x.sequence(w.traversableList)(e)(I(t)(n)(r))}}}},zip:O,unzip:N,transpose:te,foldM:oe,foldrLazy:function(e){return function(t){return function(n){var r=function(i){var o=w.step(i);if(o instanceof w.Cons)return f.defer(e)((function(e){return t(o.value0)(r(o.value1))}));if(o instanceof w.Nil)return n;throw new Error("Failed pattern match at Data.List.Lazy (line 768, column 13 - line 770, column 15): "+[o.constructor.name])};return r}}},scanlLazy:U,eqPattern:de,ordPattern:function(e){return new T.Ord((function(){return de(e.Eq0())}),(function(t){return function(n){return T.compare(w.ordList(e))(t)(n)}}))},newtypePattern:W,showPattern:function(e){return new k.Show((function(t){return"(Pattern "+k.show(w.showList(e))(t)+")"}))},all:p.all,any:p.any,elem:p.elem,find:p.find,findMap:p.findMap,fold:p.fold,foldMap:p.foldMap,foldl:p.foldl,foldr:p.foldr,intercalate:p.intercalate,notElem:p.notElem,List:w.List,Cons:w.Cons,Nil:w.Nil,cons:w.cons,nil:w.nil,step:w.step,scanl:x.scanl,scanr:x.scanr}},function(e,t,n){"use strict";var r=n(32),i=n(46),o=n(28),a=n(26),u=n(20),s=n(18),c=function(e){return new u.Semigroup((function(t){return function(n){return r.alt(e)(t)(n)}}))},f=new a.Newtype((function(){}));e.exports={Alternate:function(e){return e},newtypeAlternate:f,eqAlternate:function(e){return e},eq1Alternate:function(e){return e},ordAlternate:function(e){return e},ord1Alternate:function(e){return e},boundedAlternate:function(e){return e},functorAlternate:function(e){return e},applyAlternate:function(e){return e},applicativeAlternate:function(e){return e},altAlternate:function(e){return e},plusAlternate:function(e){return e},alternativeAlternate:function(e){return e},bindAlternate:function(e){return e},monadAlternate:function(e){return e},extendAlternate:function(e){return e},comonadAlternate:function(e){return e},showAlternate:function(e){return new s.Show((function(t){return"(Alternate "+s.show(e)(t)+")"}))},semigroupAlternate:c,monoidAlternate:function(e){return new o.Monoid((function(){return c(e.Alt0())}),i.empty(e))}}},function(e,t,n){"use strict";var r=n(13),i=n(16),o=function(){function e(e,t,n){this.value0=e,this.value1=t,this.value2=n}return e.create=function(t){return function(n){return function(r){return new e(t,n,r)}}},e}(),a=new r.Eq((function(e){return function(t){return e.value0(e.value2)(t.value2)}})),u=new i.Ord((function(){return a}),(function(e){return function(t){return e.value1(e.value2)(t.value2)}}));e.exports={mkOrdBox:function(e){return o.create(r.eq(e.Eq0()))(i.compare(e))},unOrdBox:function(e){return e.value2},eqOrdBox:a,ordOrdBox:u}},function(e,t,n){"use strict";t.range=function(e){return function(t){for(var n=e>t?-1:1,r=new Array(n*(t-e)+1),i=e,o=0;i!==t;)r[o++]=i,i+=n;return r[o]=i,r}};t.replicate="function"==typeof Array.prototype.fill?function(e){return function(t){return e<1?[]:new Array(e).fill(t)}}:function(e){return function(t){for(var n=[],r=0,i=0;i<e;i++)n[r++]=t;return n}},t.fromFoldableImpl=function(){function e(e,t){this.head=e,this.tail=t}var t={};function n(t){return function(n){return new e(t,n)}}return function(e){return function(r){return function(e){for(var n=[],r=0,i=e;i!==t;)n[r++]=i.head,i=i.tail;return n}(e(n)(t)(r))}}}(),t.length=function(e){return e.length},t.unconsImpl=function(e){return function(t){return function(n){return 0===n.length?e({}):t(n[0])(n.slice(1))}}},t.indexImpl=function(e){return function(t){return function(n){return function(r){return r<0||r>=n.length?t:e(n[r])}}}},t.findMapImpl=function(e){return function(t){return function(n){return function(r){for(var i=0;i<r.length;i++){var o=n(r[i]);if(t(o))return o}return e}}}},t.findIndexImpl=function(e){return function(t){return function(n){return function(r){for(var i=0,o=r.length;i<o;i++)if(n(r[i]))return e(i);return t}}}},t.findLastIndexImpl=function(e){return function(t){return function(n){return function(r){for(var i=r.length-1;i>=0;i--)if(n(r[i]))return e(i);return t}}}},t._insertAt=function(e){return function(t){return function(n){return function(r){return function(i){if(n<0||n>i.length)return t;var o=i.slice();return o.splice(n,0,r),e(o)}}}}},t._deleteAt=function(e){return function(t){return function(n){return function(r){if(n<0||n>=r.length)return t;var i=r.slice();return i.splice(n,1),e(i)}}}},t._updateAt=function(e){return function(t){return function(n){return function(r){return function(i){if(n<0||n>=i.length)return t;var o=i.slice();return o[n]=r,e(o)}}}}},t.reverse=function(e){return e.slice().reverse()},t.concat=function(e){if(e.length<=1e4)return Array.prototype.concat.apply([],e);for(var t=[],n=0,r=e.length;n<r;n++)for(var i=e[n],o=0,a=i.length;o<a;o++)t.push(i[o]);return t},t.filter=function(e){return function(t){return t.filter(e)}},t.partition=function(e){return function(t){for(var n=[],r=[],i=0;i<t.length;i++){var o=t[i];e(o)?n.push(o):r.push(o)}return{yes:n,no:r}}},t.scanl=function(e){return function(t){return function(n){for(var r=n.length,i=t,o=new Array(r),a=0;a<r;a++)i=e(i)(n[a]),o[a]=i;return o}}},t.scanr=function(e){return function(t){return function(n){for(var r=n.length,i=t,o=new Array(r),a=r-1;a>=0;a--)i=e(n[a])(i),o[a]=i;return o}}},t.sortByImpl=function(e){return function(t){return function(n){var r;return n.length<2?n:(r=n.slice(0),function e(t,n,r,i,o,a){var u,s,c,f,l,d;for((u=o+(a-o>>1))-o>1&&e(t,n,i,r,o,u),a-u>1&&e(t,n,i,r,u,a),s=o,c=u,f=o;s<u&&c<a;)l=i[s],d=i[c],n(t(l)(d))>0?(r[f++]=d,++c):(r[f++]=l,++s);for(;s<u;)r[f++]=i[s++];for(;c<a;)r[f++]=i[c++]}(e,t,r,n.slice(0),0,n.length),r)}}},t.slice=function(e){return function(t){return function(n){return n.slice(e,t)}}},t.zipWith=function(e){return function(t){return function(n){for(var r=t.length<n.length?t.length:n.length,i=new Array(r),o=0;o<r;o++)i[o]=e(t[o])(n[o]);return i}}},t.any=function(e){return function(t){for(var n=t.length,r=0;r<n;r++)if(e(t[r]))return!0;return!1}},t.all=function(e){return function(t){for(var n=t.length,r=0;r<n;r++)if(!e(t[r]))return!1;return!0}},t.unsafeIndexImpl=function(e){return function(t){return e[t]}}},function(e,t,n){"use strict";t.map_=function(e){return function(t){return function(){return e(t())}}},t.pure_=function(e){return function(){return e}},t.bind_=function(e){return function(t){return function(){return t(e())()}}},t.run=function(e){return e()},t.while=function(e){return function(t){return function(){for(;e();)t()}}},t.for=function(e){return function(t){return function(n){return function(){for(var r=e;r<t;r++)n(r)()}}}},t.foreach=function(e){return function(t){return function(){for(var n=0,r=e.length;n<r;n++)t(e[n])()}}},t.new=function(e){return function(){return{value:e}}},t.read=function(e){return function(){return e.value}},t.modifyImpl=function(e){return function(t){return function(){var n=e(t.value);return t.value=n.state,n.value}}},t.write=function(e){return function(t){return function(){return t.value=e}}}},function(e,t,n){"use strict";function r(e){return function(){return e.slice()}}t.new=function(){return[]},t.peekImpl=function(e){return function(t){return function(n){return function(r){return function(){return n>=0&&n<r.length?e(r[n]):t}}}}},t.poke=function(e){return function(t){return function(n){return function(){var r=e>=0&&e<n.length;return r&&(n[e]=t),r}}}},t.popImpl=function(e){return function(t){return function(n){return function(){return n.length>0?e(n.pop()):t}}}},t.pushAll=function(e){return function(t){return function(){return t.push.apply(t,e)}}},t.shiftImpl=function(e){return function(t){return function(n){return function(){return n.length>0?e(n.shift()):t}}}},t.unshiftAll=function(e){return function(t){return function(){return t.unshift.apply(t,e)}}},t.splice=function(e){return function(t){return function(n){return function(r){return function(){return r.splice.apply(r,[e,t].concat(n))}}}}},t.unsafeFreeze=function(e){return function(){return e}},t.unsafeThaw=function(e){return function(){return e}},t.freeze=r,t.thaw=r,t.sortByImpl=function(e){return function(t){return function(n){return function(){return n.length<2||function e(t,n,r,i,o,a){var u,s,c,f,l,d;for((u=o+(a-o>>1))-o>1&&e(t,n,i,r,o,u),a-u>1&&e(t,n,i,r,u,a),s=o,c=u,f=o;s<u&&c<a;)l=i[s],d=i[c],n(t(l)(d))>0?(r[f++]=d,++c):(r[f++]=l,++s);for(;s<u;)r[f++]=i[s++];for(;c<a;)r[f++]=i[c++]}(e,t,n,n.slice(0),0,n.length),n}}}},t.toAssocArray=function(e){return function(){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]={value:e[r],index:r};return n}}},function(e,t,n){"use strict";var r,i=n(268),o=n(527),a=n(23),u=n(2),s=n(90),c=n(5),f=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),l=function(e){return function(){var t=i.read(e.value1)();return e.value0(t)}},d=function(e){return function(){var t=i.read(e.value1)();return i.modify((function(e){return e+1|0}))(e.value1)(),e.value0(t)}},h=function(e){return function(t){return function(n){return function(){for(var r,a=i.new(!1)();u.map(i.functorST)(s.not(s.heytingAlgebraBoolean))(i.read(a))();)r=void 0,(r=l(t)())instanceof c.Just&&e(r.value0)?(o.push(r.value0)(n)(),u.void(i.functorST)(d(t))()):u.void(i.functorST)(i.write(!0)(a))();return{}}}}},p=h(a.const(!0)),m=(r=u.map(i.functorST)(c.isNothing),function(e){return r(l(e))});e.exports={iterator:function(e){return u.map(i.functorST)(f.create(e))(i.new(0))},iterate:function(e){return function(t){return function(){for(var n=i.new(!1)();u.map(i.functorST)(s.not(s.heytingAlgebraBoolean))(i.read(n))();)!function(){var r=d(e)();if(r instanceof c.Just)return t(r.value0)();if(r instanceof c.Nothing)return u.void(i.functorST)(i.write(!0)(n))();throw new Error("Failed pattern match at Data.Array.ST.Iterator (line 42, column 5 - line 44, column 47): "+[r.constructor.name])}();return{}}}},next:d,peek:l,exhausted:m,pushWhile:h,pushAll:p}},function(e,t,n){"use strict";t.reallyUnsafeRefEq=function(e){return function(t){return e===t}}},function(e,t,n){"use strict";var r=n(10),i=r.unsafeCoerce,o=r.unsafeCoerce;e.exports={mkExists:o,runExists:i}},function(e,t,n){"use strict";var r=n(11),i=n(15),o=n(25),a=n(36),u=n(2),s=n(90),c=n(5),f=n(26),l=n(24),d=n(35),h=n(108),p=n(58),m=n(112),y=n(1038),v=n(351),g=n(114),b=n(346),w=n(348),E=n(222),_=n(349),S=n(221),T=n(1058),A=n(342),P=n(344),k=n(266),x=n(267),C=function(e){return function(){var t=T.parentNode(e.node)();return a.traverse_(d.applicativeEffect)(a.foldableMaybe)((function(t){return T.removeChild(e.node)(t)}))(t)()}},R=function(e){return function(t){return{render:function(n){return function(i){return function(o){return function(a){if(a instanceof c.Nothing)return function(){var r=m.new(i)(),a=function(e){return function(t){return function(n){var r=v.unRenderStateX((function(e){return e.node})),i=function(e){return e instanceof c.Just?E.halt(e.value0):l.unit};return{buildWidget:function(e){var n=_.buildThunk(f.unwrap())(e),o=function(e){var n=m.read(t)()(e)(),o=r(n);return E.mkStep(new E.Step(o,c.Nothing.value,u,i))},a=function(e){if(e instanceof g.ComponentSlot)return o(e.value0);if(e instanceof g.ThunkSlot){var t=n(e.value0);return E.mkStep(new E.Step(E.extract(t),new c.Just(t),u,i))}throw new Error("Failed pattern match at Halogen.VDom.Driver (line 85, column 7 - line 90, column 75): "+[e.constructor.name])},u=function(e,t){if(e instanceof c.Just){if(t instanceof g.ComponentSlot)return E.halt(e.value0),o(t.value0);if(t instanceof g.ThunkSlot){var n=E.step(e.value0,t.value0);return E.mkStep(new E.Step(E.extract(n),new c.Just(n),u,i))}throw new Error("Failed pattern match at Halogen.VDom.Driver (line 98, column 22 - line 104, column 79): "+[t.constructor.name])}return a(t)};return a},buildAttributes:w.buildProp(e),document:n}}}}(n)(r)(e),s=b.buildVDom(a)(o),h=E.extract(s);return u.void(d.functorEffect)(T.appendChild(h)(k.toNode(t)))(),{machine:s,node:h,renderChildRef:r}};if(a instanceof c.Just)return function(){m.write(i)(a.value0.renderChildRef)();var e=T.parentNode(a.value0.node)(),t=T.nextSibling(a.value0.node)(),n=E.step(a.value0.machine,o),f=E.extract(n);return r.when(d.applicativeEffect)(s.not(s.heytingAlgebraFunction(s.heytingAlgebraFunction(s.heytingAlgebraBoolean)))(S.unsafeRefEq)(a.value0.node)(f))(function(e){return function(t){return function(n){return t instanceof c.Just&&n instanceof c.Just?u.void(d.functorEffect)(T.insertBefore(e)(t.value0)(n.value0)):t instanceof c.Nothing&&n instanceof c.Just?u.void(d.functorEffect)(T.appendChild(e)(n.value0)):r.pure(d.applicativeEffect)(l.unit)}}}(f)(t)(e))(),{machine:n,node:f,renderChildRef:a.value0.renderChildRef}};throw new Error("Failed pattern match at Halogen.VDom.Driver (line 159, column 5 - line 175, column 80): "+[a.constructor.name])}}}},renderChild:o.identity(o.categoryFn),removeChild:C,dispose:C}}};e.exports={runUI:function(e){return function(t){return function(n){return i.bind(h.bindAff)(p.liftEffect(h.monadEffectAff)(u.map(d.functorEffect)(P.toDocument)(i.bindFlipped(d.bindEffect)(x.document)(A.window))))((function(r){return y.runUI(R(r)(n))(e)(t)}))}}}}},function(e,t,n){"use strict";var r=n(11),i=n(15),o=n(25),a=n(528),u=n(74),s=n(339),c=n(36),f=n(23),l=n(2),d=n(128),h=n(70),p=n(149),m=n(5),y=n(24),v=n(35),g=n(108),b=n(58),w=n(1039),E=n(160),_=n(112),S=(n(1041),n(1057)),T=n(351),A=n(114),P=n(220),k=n(269),x=n(192),C=n(191),R=_.new({initializers:h.Nil.value,finalizers:h.Nil.value}),I=function(e){return function(){var t,n=_.read(e)();return _.write(m.Nothing.value)(e)(),c.for_(v.applicativeEffect)(c.foldableMaybe)(n)((t=c.traverse_(g.applicativeAff)(h.foldableList)(a.fork(a.monadForkAff)),function(e){return S.handleAff(t(d.reverse(e)))}))()}};e.exports={runUI:function(e){return function(t){return function(n){var O=function(e){return function(t){return function(n){return A.unComponent((function(r){return function(){var o,a=R(),u=T.initDriverState(r)(n)(t)(a)(),c=_.read(e)();return _.write({initializers:h.Nil.value,finalizers:c.finalizers})(e)(),i.bindFlipped(v.bindEffect)(T.unDriverStateX((o=M(e),function(e){return o(e.selfRef)})))(_.read(u))(),i.bindFlipped(v.bindEffect)(function(e){return function(t){return T.unDriverStateX((function(n){var r=S.evalM(M)(n.selfRef)(n.component.eval(new k.Initialize(y.unit)));return _.modify_((function(e){return{initializers:new h.Cons(i.discard(i.discardUnit)(g.bindAff)(s.parSequence_(g.parallelAff)(h.foldableList)(d.reverse(e.initializers)))((function(){return i.discard(i.discardUnit)(g.bindAff)(r)((function(){return b.liftEffect(g.monadEffectAff)((function(){return I(n.pendingQueries)(),I(n.pendingOuts)()}))}))})),t),finalizers:e.finalizers}}))(e)}))}}(e)(c.initializers))(_.read(u))(),u}}))}}},M=function(t){return function(n){return function(){var s=_.read(n)(),p=l.map(v.functorEffect)(m.isNothing)(_.read(s.pendingHandlers))();r.when(v.applicativeEffect)(p)(_.write(new m.Just(h.Nil.value))(s.pendingHandlers))(),_.write(P.empty)(s.childrenOut)(),_.write(s.children)(s.childrenIn)();var b,C,R,I,D=o.identity(o.categoryFn)(s.selfRef),L=o.identity(o.categoryFn)(s.pendingQueries),j=o.identity(o.categoryFn)(s.pendingHandlers),B=(b=S.queueOrRun(j),C=l.void(g.functorAff),R=S.evalF(M)(D),function(e){return b(C(R(e)))}),F=(I=S.queueOrRun(L),function(e){return I(B(x.Action.create(e)))}),U=e.render((function(e){return S.handleAff(B(e))}))(function(t){return function(n){return function(o){return function(a){return A.unComponentSlot((function(u){return function(){var s=l.map(v.functorEffect)(u.pop)(_.read(o))(),c=function(){if(s instanceof m.Just){_.write(s.value0.value1)(o)();var e=_.read(s.value0.value0)();return T.unDriverStateX((function(e){return function(){var t;return f.flip(_.write)(e.handlerRef)((t=m.maybe(r.pure(g.applicativeAff)(y.unit))(n),function(e){return t(u.output(e))}))(),S.handleAff(S.evalM(M)(e.selfRef)(e.component.eval(new k.Receive(u.input,y.unit))))()}}))(e)(),s.value0.value0}if(s instanceof m.Nothing)return O(t)((i=m.maybe(r.pure(g.applicativeAff)(y.unit))(n),function(e){return i(u.output(e))}))(u.input)(u.component)();var i;throw new Error("Failed pattern match at Halogen.Aff.Driver (line 210, column 14 - line 219, column 98): "+[s.constructor.name])}(),d=l.map(v.functorEffect)((function(e){return m.isJust(u.get(e))}))(_.read(a))();return r.when(v.applicativeEffect)(d)(w.warn("Halogen: Duplicate slot address was detected during rendering, unexpected results may occur"))(),_.modify_(u.set(c))(a)(),i.bind(v.bindEffect)(_.read(c))(T.renderStateX(v.functorEffect)((function(t){if(t instanceof m.Nothing)return E.throw("Halogen internal error: child was not initialized in renderChild");if(t instanceof m.Just)return r.pure(v.applicativeEffect)(e.renderChild(t.value0));throw new Error("Failed pattern match at Halogen.Aff.Driver (line 224, column 37 - line 226, column 50): "+[t.constructor.name])})))()}}))}}}}(t)(F)(s.childrenIn)(s.childrenOut))(s.component.render(s.state))(s.rendering)(),q=_.read(s.childrenOut)(),H=_.read(s.childrenIn)();return P.foreachSlot(v.applicativeEffect)(H)((function(n){return function(){var r=_.read(n)();return T.renderStateX_(v.applicativeEffect)(e.removeChild)(r)(),N(t)(r)()}}))(),f.flip(_.modify_)(s.selfRef)(T.mapDriverState((function(e){return{component:e.component,state:e.state,refs:e.refs,children:q,childrenIn:e.childrenIn,childrenOut:e.childrenOut,selfRef:e.selfRef,handlerRef:e.handlerRef,pendingQueries:e.pendingQueries,pendingOuts:e.pendingOuts,pendingHandlers:e.pendingHandlers,rendering:new m.Just(U),fresh:e.fresh,subscriptions:e.subscriptions,forks:e.forks,lifecycleHandlers:e.lifecycleHandlers}})))(),r.when(v.applicativeEffect)(p)(f.flip(u.tailRecM(u.monadRecEffect))(y.unit)((function(e){return function(){var e,t=_.read(j)();_.write(new m.Just(h.Nil.value))(j)(),c.traverse_(v.applicativeEffect)(c.foldableMaybe)((e=c.traverse_(g.applicativeAff)(h.foldableList)(a.fork(a.monadForkAff)),function(t){return S.handleAff(e(d.reverse(t)))}))(t)();var n=_.read(j)();return m.maybe(!1)(d.null)(n)?l.voidLeft(v.functorEffect)(_.write(m.Nothing.value)(j))(new u.Done(y.unit))():new u.Loop(y.unit)}})))()}}},N=function(e){return T.unDriverStateX((function(t){return function(){var n;(n=t,function(){var e;return i.bindFlipped(v.bindEffect)(c.traverse_(v.applicativeEffect)(c.foldableMaybe)(c.traverse_(v.applicativeEffect)(p.foldableMap)(C.unsubscribe)))(_.read(n.subscriptions))(),_.write(m.Nothing.value)(n.subscriptions)(),i.bindFlipped(v.bindEffect)(c.traverse_(v.applicativeEffect)(p.foldableMap)((e=g.killFiber(E.error("finalized")),function(t){return S.handleAff(e(t))})))(_.read(n.forks))(),_.write(p.empty)(n.forks)()})();var r=S.evalM(M)(t.selfRef)(t.component.eval(new k.Finalize(y.unit)));return _.modify_((function(e){return{initializers:e.initializers,finalizers:new h.Cons(r,e.finalizers)}}))(e)(),P.foreachSlot(v.applicativeEffect)(t.children)((function(t){return function(){var n=_.read(t)();return N(e)(n)()}}))()}}))},D=function(e){return function(t){return function(n){return i.bind(g.bindAff)(b.liftEffect(g.monadEffectAff)(_.read(e)))((function(e){return e?r.pure(g.applicativeAff)(m.Nothing.value):S.evalQ(M)(t)(n)}))}}},L=function(t){return function(n){return function(r){return S.handleLifecycle(n)((function(){return _.read(t)()?y.unit:(_.write(!0)(t)(),N(n)(r)(),T.unDriverStateX((function(t){return function(){var n=b.liftEffect(b.monadEffectEffect)(_.read(t.selfRef))();return c.for_(v.applicativeEffect)(c.foldableMaybe)(n.rendering)(e.dispose)()}}))(r)())}))}}};return i.bind(g.bindAff)(b.liftEffect(g.monadEffectAff)(R))((function(e){return i.bind(g.bindAff)(b.liftEffect(g.monadEffectAff)(_.new(!1)))((function(o){return S.handleLifecycle(e)((function(){var a,u,s=C.create(),c=i.bindFlipped(v.bindEffect)(_.read)(O(e)((a=b.liftEffect(g.monadEffectAff),u=C.notify(s.listener),function(e){return a(u(e))}))(n)(t))();return T.unDriverStateX((function(t){return r.pure(v.applicativeEffect)({query:D(o)(t.selfRef),messages:s.emitter,dispose:L(o)(e)(c)})}))(c)()}))}))}))}}}}},function(e,t,n){"use strict";var r=n(1040),i=n(18);e.exports={logShow:function(e){return function(t){return r.log(i.show(e)(t))}},warnShow:function(e){return function(t){return r.warn(i.show(e)(t))}},errorShow:function(e){return function(t){return r.error(i.show(e)(t))}},infoShow:function(e){return function(t){return r.info(i.show(e)(t))}},log:r.log,warn:r.warn,error:r.error,info:r.info,time:r.time,timeLog:r.timeLog,timeEnd:r.timeEnd,clear:r.clear}},function(e,t,n){"use strict";t.log=function(e){return function(){console.log(e)}},t.warn=function(e){return function(){console.warn(e)}},t.error=function(e){return function(){console.error(e)}},t.info=function(e){return function(){console.info(e)}},t.time=function(e){return function(){console.time(e)}},t.timeLog=function(e){return function(){console.timeLog(e)}},t.timeEnd=function(e){return function(){console.timeEnd(e)}},t.clear=function(){console.clear()}},function(e,t,n){"use strict";var r=n(219),i=n(114),o=(n(220),n(350),n(95)),a=n(522);e.exports={defer:r.defer,componentSlot:i.componentSlot,defaultEval:i.defaultEval,hoist:i.hoist,mkComponent:i.mkComponent,mkEval:i.mkEval,unComponent:i.unComponent,unComponentSlot:i.unComponentSlot,AttrName:o.AttrName,ClassName:o.ClassName,ElemName:o.ElemName,Namespace:o.Namespace,PropName:o.PropName,ChildQuery:a.ChildQuery,Fork:a.Fork,GetRef:a.GetRef,Kill:a.Kill,Lift:a.Lift,Par:a.Par,Raise:a.Raise,State:a.State,Subscribe:a.Subscribe,Unsubscribe:a.Unsubscribe,HalogenM:a.HalogenM,Action:a.Action,Finalize:a.Finalize,Initialize:a.Initialize,Query:a.Query,Receive:a.Receive,RefLabel:a.RefLabel,fork:a.fork,get:a.get,getHTMLElementRef:a.getHTMLElementRef,getRef:a.getRef,gets:a.gets,kill:a.kill,lift:a.lift,liftAff:a.liftAff,liftEffect:a.liftEffect,mkRequest:a.mkRequest,mkTell:a.mkTell,modify:a.modify,modify_:a.modify_,put:a.put,query:a.query,queryAll:a.queryAll,raise:a.raise,request:a.request,subscribe:a.subscribe,"subscribe'":a["subscribe'"],tell:a.tell,unsubscribe:a.unsubscribe}},function(e,t,n){"use strict";var r=function(){function e(){}return e.value=new e,e}(),i=function(){function e(){}return e.value=new e,e}();e.exports={Anonymous:r,UseCredentials:i,renderCrossOriginValue:function(e){if(e instanceof r)return"anonymous";if(e instanceof i)return"use-credentials";throw new Error("Failed pattern match at DOM.HTML.Indexed.CrossOriginValue (line 8, column 26 - line 10, column 38): "+[e.constructor.name])}}},function(e,t,n){"use strict";var r=function(){function e(){}return e.value=new e,e}(),i=function(){function e(){}return e.value=new e,e}(),o=function(){function e(){}return e.value=new e,e}();e.exports={DirLTR:r,DirRTL:i,DirAuto:o,renderDirValue:function(e){if(e instanceof r)return"ltr";if(e instanceof i)return"rtl";if(e instanceof o)return"auto";throw new Error("Failed pattern match at DOM.HTML.Indexed.DirValue (line 9, column 18 - line 12, column 20): "+[e.constructor.name])}}},function(e,t,n){"use strict";t._localeCompare=function(e){return function(t){return function(n){return function(r){return function(i){var o=r.localeCompare(i);return o<0?e:o>0?n:t}}}}},t.replace=function(e){return function(t){return function(n){return n.replace(e,t)}}},t.replaceAll=function(e){return function(t){return function(n){return n.replace(new RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),t)}}},t.split=function(e){return function(t){return t.split(e)}},t.toLower=function(e){return e.toLowerCase()},t.toUpper=function(e){return e.toUpperCase()},t.trim=function(e){return e.trim()},t.joinWith=function(e){return function(t){return t.join(e)}}},function(e,t,n){"use strict";var r=function(){function e(){}return e.value=new e,e}(),i=function(){function e(){}return e.value=new e,e}(),o=function(){function e(){}return e.value=new e,e}(),a=function(){function e(){}return e.value=new e,e}(),u=function(){function e(){}return e.value=new e,e}();e.exports={KindSubtitles:r,KindCaptions:i,KindDescriptions:o,KindChapters:a,KindMetadata:u,renderKindValue:function(e){if(e instanceof r)return"subtitles";if(e instanceof i)return"captions";if(e instanceof o)return"descriptions";if(e instanceof a)return"chapters";if(e instanceof u)return"metadata";throw new Error("Failed pattern match at DOM.HTML.Indexed.KindValue (line 11, column 19 - line 16, column 29): "+[e.constructor.name])}}},function(e,t,n){"use strict";var r=function(){function e(){}return e.value=new e,e}(),i=function(){function e(){}return e.value=new e,e}();e.exports={Hard:r,Soft:i,renderWrapValue:function(e){if(e instanceof r)return"hard";if(e instanceof i)return"soft";throw new Error("Failed pattern match at DOM.HTML.Indexed.WrapValue (line 8, column 19 - line 10, column 17): "+[e.constructor.name])}}},function(e,t,n){"use strict";var r=n(346),i=n(222),o=n(270);e.exports={VDomSpec:r.VDomSpec,buildVDom:r.buildVDom,Step:i.Step,extract:i.extract,halt:i.halt,mkStep:i.mkStep,step:i.step,unStep:i.unStep,ElemName:o.ElemName,Namespace:o.Namespace,Elem:o.Elem,Grafted:o.Grafted,Keyed:o.Keyed,Text:o.Text,Widget:o.Widget,runGraft:o.runGraft}},function(e,t,n){"use strict";t.unsafeGetAny=function(e,t){return t[e]},t.unsafeHasAny=function(e,t){return t.hasOwnProperty(e)},t.unsafeSetAny=function(e,t,n){n[e]=t},t.unsafeDeleteAny=function(e,t){delete t[e]},t.forE=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(t(r,e[r]));return n},t.forEachE=function(e,t){for(var n=0;n<e.length;n++)t(e[n])},t.forInE=function(e,t){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];t(i,e[i])}},t.replicateE=function(e,t){for(var n=0;n<e;n++)t()},t.diffWithIxE=function(e,t,n,r,i){for(var o=[],a=e.length,u=t.length,s=0;;){if(s<a)s<u?o.push(n(s,e[s],t[s])):r(s,e[s]);else{if(!(s<u))break;o.push(i(s,t[s]))}s++}return o},t.strMapWithIxE=function(e,t,n){for(var r={},i=0;i<e.length;i++){var o=e[i],a=t(o);r[a]=n(a,i,o)}return r},t.diffWithKeyAndIxE=function(e,t,n,r,i,o){for(var a={},u=0;u<t.length;u++){var s=t[u],c=n(s);e.hasOwnProperty(c)?a[c]=r(c,u,e[c],s):a[c]=o(c,u,s)}for(var c in e)c in a||i(c,e[c]);return a},t.refEq=function(e,t){return e===t},t.createTextNode=function(e,t){return t.createTextNode(e)},t.setTextContent=function(e,t){t.textContent=e},t.createElement=function(e,t,n){return null!=e?n.createElementNS(e,t):n.createElement(t)},t.insertChildIx=function(e,t,n){var r=n.childNodes.item(e)||null;r!==t&&n.insertBefore(t,r)},t.removeChild=function(e,t){t&&e.parentNode===t&&t.removeChild(e)},t.parentNode=function(e){return e.parentNode},t.setAttribute=function(e,t,n,r){null!=e?r.setAttributeNS(e,t,n):r.setAttribute(t,n)},t.removeAttribute=function(e,t,n){null!=e?n.removeAttributeNS(e,t):n.removeAttribute(t)},t.hasAttribute=function(e,t,n){return null!=e?n.hasAttributeNS(e,t):n.hasAttribute(t)},t.addEventListener=function(e,t,n){n.addEventListener(e,t,!1)},t.removeEventListener=function(e,t,n){n.removeEventListener(e,t,!1)},t.jsUndefined=void 0},function(e,t,n){"use strict";t.new=function(){return{}},t.peekImpl=function(e){return function(t){return function(n){return function(r){return function(){return{}.hasOwnProperty.call(r,n)?e(r[n]):t}}}}},t.poke=function(e){return function(t){return function(n){return function(){return n[e]=t,n}}}},t.delete=function(e){return function(t){return function(){return delete t[e],t}}}},function(e,t,n){"use strict";var r=n(1051),i=n(2),o=n(55),a=n(18),u=n(35),s=n(10),c=(n(541),n(514),n(1052)),f=n(21),l=s.unsafeCoerce,d=s.unsafeCoerce,h=s.unsafeCoerce,p=s.unsafeCoerce,m=s.unsafeCoerce,y=f.unsafeReadProtoTagged("Element"),v=f.unsafeReadProtoTagged("Element"),g=f.unsafeReadProtoTagged("Element"),b=f.unsafeReadProtoTagged("Element"),w=f.unsafeReadProtoTagged("Element");e.exports={fromNode:g,fromChildNode:w,fromNonDocumentTypeChildNode:v,fromParentNode:y,fromEventTarget:b,toNode:h,toChildNode:m,toNonDocumentTypeChildNode:d,toParentNode:l,toEventTarget:p,namespaceURI:function(e){return o.toMaybe(r._namespaceURI(e))},prefix:function(e){return o.toMaybe(r._prefix(e))},getElementsByTagNameNS:function(e){return r._getElementsByTagNameNS(o.toNullable(e))},getAttribute:function(e){var t=i.map(u.functorEffect)(o.toMaybe),n=r._getAttribute(e);return function(e){return t(n(e))}},closest:function(e){var t=i.map(u.functorEffect)(o.toMaybe),n=r._closest(e);return function(e){return t(n(e))}},attachShadow:function(e){return r._attachShadow((t=e,{mode:a.show(c.showShadowRootMode)(t.mode),delegatesFocus:t.delegatesFocus}));var t},localName:r.localName,tagName:r.tagName,id:r.id,setId:r.setId,className:r.className,classList:r.classList,setClassName:r.setClassName,getElementsByTagName:r.getElementsByTagName,getElementsByClassName:r.getElementsByClassName,setAttribute:r.setAttribute,hasAttribute:r.hasAttribute,removeAttribute:r.removeAttribute,matches:r.matches,scrollTop:r.scrollTop,setScrollTop:r.setScrollTop,scrollLeft:r.scrollLeft,setScrollLeft:r.setScrollLeft,scrollWidth:r.scrollWidth,scrollHeight:r.scrollHeight,clientTop:r.clientTop,clientLeft:r.clientLeft,clientWidth:r.clientWidth,clientHeight:r.clientHeight}},function(e,t,n){"use strict";var r=function(e){return function(t){return t[e]}};t._namespaceURI=r("namespaceURI"),t._prefix=r("prefix"),t.localName=r("localName"),t.tagName=r("tagName"),t.id=function(e){return function(){return e.id}},t.setId=function(e){return function(t){return function(){t.id=e}}},t.className=function(e){return function(){return e.className}},t.classList=function(e){return function(){return e.classList}},t.setClassName=function(e){return function(t){return function(){t.className=e}}},t.getElementsByTagName=function(e){return function(t){return function(){return t.getElementsByTagName(e)}}},t._getElementsByTagNameNS=function(e){return function(t){return function(n){return function(){return n.getElementsByTagNameNS(e,t)}}}},t.getElementsByClassName=function(e){return function(t){return function(){return t.getElementsByClassName(e)}}},t.setAttribute=function(e){return function(t){return function(n){return function(){n.setAttribute(e,t)}}}},t._getAttribute=function(e){return function(t){return function(){return t.getAttribute(e)}}},t.hasAttribute=function(e){return function(t){return function(){return t.hasAttribute(e)}}},t.removeAttribute=function(e){return function(t){return function(){t.removeAttribute(e)}}},t.matches=function(e){return function(t){return function(){return t.matches(e)}}},t._closest=function(e){return function(t){return function(){return t.closest(e)}}},t.scrollTop=function(e){return function(){return e.scrollTop}},t.setScrollTop=function(e){return function(t){return function(){t.scrollTop=e}}},t.scrollLeft=function(e){return function(){return e.scrollLeft}},t.setScrollLeft=function(e){return function(t){return function(){t.scrollLeft=e}}},t.scrollWidth=function(e){return function(){return e.scrollWidth}},t.scrollHeight=function(e){return function(){return e.scrollHeight}},t.clientTop=function(e){return function(){return e.clientTop}},t.clientLeft=function(e){return function(){return e.clientLeft}},t.clientWidth=function(e){return function(){return e.clientWidth}},t.clientHeight=function(e){return function(){return e.clientHeight}},t._attachShadow=function(e){return function(t){return function(){return t.attachShadow(e)}}}},function(e,t,n){"use strict";var r=n(1053),i=n(5),o=n(18),a=n(10),u=function(){function e(){}return e.value=new e,e}(),s=function(){function e(){}return e.value=new e,e}(),c=a.unsafeCoerce,f=new o.Show((function(e){if(e instanceof u)return"open";if(e instanceof s)return"closed";throw new Error("Failed pattern match at Web.DOM.ShadowRoot (line 22, column 1 - line 24, column 25): "+[e.constructor.name])})),l=function(e){return"open"===(t=r._mode(e))?new i.Just(u.value):"closed"===t?new i.Just(s.value):i.Nothing.value;var t};e.exports={Open:u,Closed:s,toNode:c,mode:l,showShadowRootMode:f,host:r.host}},function(e,t,n){"use strict";t._mode=function(e){return e.mode},t.host=function(e){return function(){return e.host}}},function(e,t,n){"use strict";function r(e){return function(t){var n=[];for(var r in t)hasOwnProperty.call(t,r)&&n.push(e(r)(t[r]));return n}}t._copyST=function(e){return function(){var t={};for(var n in e)hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}},t.empty={},t.runST=function(e){return e()},t._fmapObject=function(e,t){var n={};for(var r in e)hasOwnProperty.call(e,r)&&(n[r]=t(e[r]));return n},t._mapWithKey=function(e,t){var n={};for(var r in e)hasOwnProperty.call(e,r)&&(n[r]=t(r)(e[r]));return n},t._foldM=function(e){return function(t){return function(n){return function(r){var i=n;function o(e){return function(n){return t(n)(e)(r[e])}}for(var a in r)hasOwnProperty.call(r,a)&&(i=e(i)(o(a)));return i}}}},t._foldSCObject=function(e,t,n,r){var i=t;for(var o in e)if(hasOwnProperty.call(e,o)){var a=n(i)(o)(e[o]),u=r(null)(a);if(null===u)return i;i=u}return i},t.all=function(e){return function(t){for(var n in t)if(hasOwnProperty.call(t,n)&&!e(n)(t[n]))return!1;return!0}},t.size=function(e){var t=0;for(var n in e)hasOwnProperty.call(e,n)&&++t;return t},t._lookup=function(e,t,n,r){return n in r?t(r[n]):e},t._lookupST=function(e,t,n,r){return function(){return n in r?t(r[n]):e}},t.toArrayWithKey=r,t.keys=Object.keys||r((function(e){return function(){return e}}))},function(e,t,n){"use strict";t.mkFn0=function(e){return function(){return e()}},t.mkFn2=function(e){return function(t,n){return e(t)(n)}},t.mkFn3=function(e){return function(t,n,r){return e(t)(n)(r)}},t.mkFn4=function(e){return function(t,n,r,i){return e(t)(n)(r)(i)}},t.mkFn5=function(e){return function(t,n,r,i,o){return e(t)(n)(r)(i)(o)}},t.mkFn6=function(e){return function(t,n,r,i,o,a){return e(t)(n)(r)(i)(o)(a)}},t.mkFn7=function(e){return function(t,n,r,i,o,a,u){return e(t)(n)(r)(i)(o)(a)(u)}},t.mkFn8=function(e){return function(t,n,r,i,o,a,u,s){return e(t)(n)(r)(i)(o)(a)(u)(s)}},t.mkFn9=function(e){return function(t,n,r,i,o,a,u,s,c){return e(t)(n)(r)(i)(o)(a)(u)(s)(c)}},t.mkFn10=function(e){return function(t,n,r,i,o,a,u,s,c,f){return e(t)(n)(r)(i)(o)(a)(u)(s)(c)(f)}},t.runFn0=function(e){return e()},t.runFn2=function(e){return function(t){return function(n){return e(t,n)}}},t.runFn3=function(e){return function(t){return function(n){return function(r){return e(t,n,r)}}}},t.runFn4=function(e){return function(t){return function(n){return function(r){return function(i){return e(t,n,r,i)}}}}},t.runFn5=function(e){return function(t){return function(n){return function(r){return function(i){return function(o){return e(t,n,r,i,o)}}}}}},t.runFn6=function(e){return function(t){return function(n){return function(r){return function(i){return function(o){return function(a){return e(t,n,r,i,o,a)}}}}}}},t.runFn7=function(e){return function(t){return function(n){return function(r){return function(i){return function(o){return function(a){return function(u){return e(t,n,r,i,o,a,u)}}}}}}}},t.runFn8=function(e){return function(t){return function(n){return function(r){return function(i){return function(o){return function(a){return function(u){return function(s){return e(t,n,r,i,o,a,u,s)}}}}}}}}},t.runFn9=function(e){return function(t){return function(n){return function(r){return function(i){return function(o){return function(a){return function(u){return function(s){return function(c){return e(t,n,r,i,o,a,u,s,c)}}}}}}}}}},t.runFn10=function(e){return function(t){return function(n){return function(r){return function(i){return function(o){return function(a){return function(u){return function(s){return function(c){return function(f){return e(t,n,r,i,o,a,u,s,c,f)}}}}}}}}}}}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=n(11),i=n(523),o=n(15),a=n(40),u=n(528),s=n(524),c=n(339),f=n(261),l=n(54),d=n(345),h=n(41),p=n(36),m=n(23),y=n(2),v=n(70),g=n(149),b=n(5),w=n(16),E=n(24),_=n(35),S=n(108),T=n(58),A=n(160),P=n(112),k=n(351),x=n(526),C=n(101),R=n(269),I=n(192),O=n(191),M=n(221),N=function(e){return function(t){return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.read(e)))((function(n){if(n instanceof b.Nothing)return t;if(n instanceof b.Just)return T.liftEffect(S.monadEffectAff)(P.write(new b.Just(new v.Cons(t,n.value0)))(e));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 182, column 33 - line 184, column 57): "+[n.constructor.name])}))}},D=function(e){return function(t){return o.discard(o.discardUnit)(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.write({initializers:v.Nil.value,finalizers:v.Nil.value})(e)))((function(){return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(t))((function(t){return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.read(e)))((function(e){return o.discard(o.discardUnit)(S.bindAff)(p.traverse_(S.applicativeAff)(v.foldableList)(u.fork(u.monadForkAff))(e.finalizers))((function(){return o.discard(o.discardUnit)(S.bindAff)(c.parSequence_(S.parallelAff)(v.foldableList)(e.initializers))((function(){return r.pure(S.applicativeAff)(t)}))}))}))}))}))}},L=S.runAff_(h.either(A.throwException)(m.const(r.pure(_.applicativeEffect)(E.unit)))),j=function(e){return function(t){return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.read(t)))((function(t){return T.liftEffect(S.monadEffectAff)(P["modify'"]((function(t){return{state:t+1|0,value:e(t)}}))(t.fresh))}))}},B=function(e){return function(t){return function(n){return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.read(t)))((function(r){return F(e)(t)(r.component.eval(new R.Query(y.map(d.functorCoyoneda)(b.Just.create)(d.liftCoyoneda(n)),m.const(b.Nothing.value))))}))}}},F=function(e){return function(t){return function(n){var c;return s.foldFree(S.monadRecAff)((c=t,function(t){if(t instanceof C.State)return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.read(c)))((function(n){var i=t.value0(n.state);if(M.unsafeRefEq(n.state)(i.value1))return r.pure(S.applicativeAff)(i.value0);if(l.otherwise)return o.discard(o.discardUnit)(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.write({component:n.component,state:i.value1,refs:n.refs,children:n.children,childrenIn:n.childrenIn,childrenOut:n.childrenOut,selfRef:n.selfRef,handlerRef:n.handlerRef,pendingQueries:n.pendingQueries,pendingOuts:n.pendingOuts,pendingHandlers:n.pendingHandlers,rendering:n.rendering,fresh:n.fresh,subscriptions:n.subscriptions,forks:n.forks,lifecycleHandlers:n.lifecycleHandlers})(c)))((function(){return o.discard(o.discardUnit)(S.bindAff)(D(n.lifecycleHandlers)(e(n.lifecycleHandlers)(c)))((function(){return r.pure(S.applicativeAff)(i.value0)}))}));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 86, column 7 - line 92, column 21): "+[i.constructor.name])}));if(t instanceof C.Subscribe)return o.bind(S.bindAff)(j(C.SubscriptionId)(c))((function(n){return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(O.subscribe(t.value0(n))((function(t){return L(U(e)(c)(new I.Action(t)))}))))((function(e){return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.read(c)))((function(i){return o.discard(o.discardUnit)(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.modify_(y.map(b.functorMaybe)(g.insert(C.ordSubscriptionId)(n)(e)))(i.subscriptions)))((function(){return r.pure(S.applicativeAff)(t.value1(n))}))}))}))}));if(t instanceof C.Unsubscribe)return o.discard(o.discardUnit)(S.bindAff)(T.liftEffect(S.monadEffectAff)((n=t.value0,function(e){return function(){var t=P.read(e)(),r=P.read(t.subscriptions)();return p.traverse_(_.applicativeEffect)(p.foldableMaybe)(O.unsubscribe)(o.bindFlipped(b.bindMaybe)(g.lookup(C.ordSubscriptionId)(n))(r))()}})(c)))((function(){return r.pure(S.applicativeAff)(t.value1)}));var n,s,d;if(t instanceof C.Lift)return t.value0;if(t instanceof C.ChildQuery)return function(t){return function(n){return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.read(t)))((function(t){return x.unChildQueryBox((function(n){return y.map(S.functorAff)(n.value2)(f.sequential(S.parallelAff)(n.value0(S.applicativeParAff)((function(t){return f.parallel(S.parallelAff)(o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.read(t)))((function(t){return k.unDriverStateX((function(t){return B(e)(t.selfRef)(n.value1)}))(t)})))}))(t.children)))}))(n)}))}}(c)(t.value0);if(t instanceof C.Raise)return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.read(c)))((function(e){return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.read(e.handlerRef)))((function(n){return o.discard(o.discardUnit)(S.bindAff)(N(e.pendingOuts)(n(t.value0)))((function(){return r.pure(S.applicativeAff)(t.value1)}))}))}));if(t instanceof C.Par)return f.sequential(S.parallelAff)(i.retractFreeAp(S.applicativeParAff)(i.hoistFreeAp((s=f.parallel(S.parallelAff),d=F(e)(c),function(e){return s(d(e))}))(t.value0)));if(t instanceof C.Fork)return o.bind(S.bindAff)(j(C.ForkId)(c))((function(n){return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.read(c)))((function(i){return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.new(!1)))((function(s){return o.bind(S.bindAff)(u.fork(u.monadForkAff)(S.finally(T.liftEffect(S.monadEffectAff)((function(){return P.modify_(g.delete(C.ordForkId)(n))(i.forks)(),P.write(!0)(s)()})))(F(e)(c)(t.value0))))((function(e){return o.discard(o.discardUnit)(S.bindAff)(T.liftEffect(S.monadEffectAff)(a.unlessM(_.monadEffect)(P.read(s))(P.modify_(g.insert(C.ordForkId)(n)(e))(i.forks))))((function(){return r.pure(S.applicativeAff)(t.value1(n))}))}))}))}))}));if(t instanceof C.Kill)return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.read(c)))((function(e){return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.read(e.forks)))((function(e){return o.discard(o.discardUnit)(S.bindAff)(p.traverse_(S.applicativeAff)(p.foldableMaybe)(S.killFiber(A.error("Cancelled")))(g.lookup(C.ordForkId)(t.value0)(e)))((function(){return r.pure(S.applicativeAff)(t.value1)}))}))}));if(t instanceof C.GetRef)return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.read(c)))((function(e){return r.pure(S.applicativeAff)(t.value1(g.lookup(w.ordString)(t.value0)(e.refs)))}));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 83, column 12 - line 133, column 33): "+[t.constructor.name])}))(n)}}},U=function(e){return function(t){return function(n){if(n instanceof I.RefUpdate)return T.liftEffect(S.monadEffectAff)(m.flip(P.modify_)(t)(k.mapDriverState((function(e){return{component:e.component,state:e.state,refs:g.alter(w.ordString)(m.const(n.value1))(n.value0)(e.refs),children:e.children,childrenIn:e.childrenIn,childrenOut:e.childrenOut,selfRef:e.selfRef,handlerRef:e.handlerRef,pendingQueries:e.pendingQueries,pendingOuts:e.pendingOuts,pendingHandlers:e.pendingHandlers,rendering:e.rendering,fresh:e.fresh,subscriptions:e.subscriptions,forks:e.forks,lifecycleHandlers:e.lifecycleHandlers}}))));if(n instanceof I.Action)return o.bind(S.bindAff)(T.liftEffect(S.monadEffectAff)(P.read(t)))((function(r){return F(e)(t)(r.component.eval(new R.Action(n.value0,E.unit)))}));throw new Error("Failed pattern match at Halogen.Aff.Driver.Eval (line 52, column 20 - line 58, column 62): "+[n.constructor.name])}}};e.exports={evalF:U,evalQ:B,evalM:F,handleLifecycle:D,queueOrRun:N,handleAff:L}},function(e,t,n){"use strict";var r,i,o,a,u,s,c,f,l=n(1059),d=n(76),h=n(2),p=n(5),m=n(55),y=n(35),v=n(10),g=(n(541),n(1060)),b=n(21),w=v.unsafeCoerce,E=(r=h.map(y.functorEffect)(m.toMaybe),function(e){return r(l._previousSibling(e))}),_=(i=h.map(y.functorEffect)(m.toMaybe),function(e){return i(l._parentNode(e))}),S=(o=h.map(y.functorEffect)(m.toMaybe),function(e){return o(l._parentElement(e))}),T=(a=h.map(y.functorEffect)(m.toMaybe),function(e){return a(l._ownerDocument(e))}),A=(u=h.map(y.functorEffect)(m.toMaybe),function(e){return u(l._nodeValue(e))}),P=(s=h.map(y.functorEffect)(m.toMaybe),function(e){return s(l._nextSibling(e))}),k=(c=h.map(y.functorEffect)(m.toMaybe),function(e){return c(l._lastChild(e))}),x=b.unsafeReadProtoTagged("Node"),C=(f=h.map(y.functorEffect)(m.toMaybe),function(e){return f(l._firstChild(e))});e.exports={fromEventTarget:x,toEventTarget:w,nodeType:function(e){var t=p.fromJust(),n=d.toEnum(g.boundedEnumNodeType);return function(e){return t(n(l.nodeTypeIndex(e)))}},ownerDocument:T,parentNode:_,parentElement:S,firstChild:C,lastChild:k,previousSibling:E,nextSibling:P,nodeValue:A,lookupPrefix:function(e){var t=h.map(y.functorEffect)(m.toMaybe),n=l._lookupPrefix(e);return function(e){return t(n(e))}},lookupNamespaceURI:function(e){var t=h.map(y.functorEffect)(m.toMaybe),n=l._lookupNamespaceURI(e);return function(e){return t(n(e))}},nodeTypeIndex:l.nodeTypeIndex,nodeName:l.nodeName,baseURI:l.baseURI,hasChildNodes:l.hasChildNodes,childNodes:l.childNodes,setNodeValue:l.setNodeValue,textContent:l.textContent,setTextContent:l.setTextContent,normalize:l.normalize,clone:l.clone,deepClone:l.deepClone,isEqualNode:l.isEqualNode,compareDocumentPositionBits:l.compareDocumentPositionBits,contains:l.contains,isDefaultNamespace:l.isDefaultNamespace,insertBefore:l.insertBefore,appendChild:l.appendChild,replaceChild:l.replaceChild,removeChild:l.removeChild}},function(e,t,n){"use strict";var r=function(e){return function(t){return function(){return t[e]}}};t.nodeTypeIndex=function(e){return e.nodeType},t.nodeName=function(e){return e.nodeName},t.baseURI=r("baseURI"),t._ownerDocument=r("ownerDocument"),t._parentNode=r("parentNode"),t._parentElement=r("parentElement"),t.hasChildNodes=function(e){return function(){return e.hasChildNodes()}},t.childNodes=r("childNodes"),t._firstChild=r("firstChild"),t._lastChild=r("lastChild"),t._previousSibling=r("previousSibling"),t._nextSibling=r("nextSibling"),t._nodeValue=r("nodeValue"),t.setNodeValue=function(e){return function(t){return function(){t.nodeValue=e}}},t.textContent=r("textContent"),t.setTextContent=function(e){return function(t){return function(){t.textContent=e}}},t.normalize=function(e){return function(){e.normalize()}},t.clone=function(e){return function(){return e.cloneNode(!1)}},t.deepClone=function(e){return function(){return e.cloneNode(!0)}},t.isEqualNode=function(e){return function(t){return function(){return e.isEqualNode(t)}}},t.compareDocumentPositionBits=function(e){return function(t){return function(){return e.compareDocumentPosition(t)}}},t.contains=function(e){return function(t){return function(){return e.contains(t)}}},t._lookupPrefix=function(e){return function(t){return function(){return t.lookupPrefix(e)}}},t._lookupNamespaceURI=function(e){return function(t){return function(){return t.lookupNamespaceURI(e)}}},t.isDefaultNamespace=function(e){return function(t){return function(){return t.isDefaultNamespace(e)}}},t.insertBefore=function(e){return function(t){return function(n){return function(){n.insertBefore(e,t)}}}},t.appendChild=function(e){return function(t){return function(){t.appendChild(e)}}},t.replaceChild=function(e){return function(t){return function(n){return function(){n.replaceChild(e,t)}}}},t.removeChild=function(e){return function(t){return function(){t.removeChild(e)}}}},function(e,t,n){"use strict";var r=n(63),i=n(76),o=n(13),a=n(5),u=n(16),s=n(18),c=function(){function e(){}return e.value=new e,e}(),f=function(){function e(){}return e.value=new e,e}(),l=function(){function e(){}return e.value=new e,e}(),d=function(){function e(){}return e.value=new e,e}(),h=function(){function e(){}return e.value=new e,e}(),p=function(){function e(){}return e.value=new e,e}(),m=function(){function e(){}return e.value=new e,e}(),y=function(){function e(){}return e.value=new e,e}(),v=function(){function e(){}return e.value=new e,e}(),g=function(){function e(){}return e.value=new e,e}(),b=function(){function e(){}return e.value=new e,e}(),w=function(){function e(){}return e.value=new e,e}(),E=function(e){return 1===e?new a.Just(c.value):2===e?new a.Just(f.value):3===e?new a.Just(l.value):4===e?new a.Just(d.value):5===e?new a.Just(h.value):6===e?new a.Just(p.value):7===e?new a.Just(m.value):8===e?new a.Just(y.value):9===e?new a.Just(v.value):10===e?new a.Just(g.value):11===e?new a.Just(b.value):12===e?new a.Just(w.value):a.Nothing.value},_=new s.Show((function(e){if(e instanceof c)return"ElementNode";if(e instanceof f)return"AttributeNode";if(e instanceof l)return"TextNode";if(e instanceof d)return"CDATASectionNode";if(e instanceof h)return"EntityReferenceNode";if(e instanceof p)return"EntityNode";if(e instanceof m)return"ProcessingInstructionNode";if(e instanceof y)return"CommentNode";if(e instanceof v)return"DocumentNode";if(e instanceof g)return"DocumentTypeNode";if(e instanceof b)return"DocumentFragmentNode";if(e instanceof w)return"NotationNode";throw new Error("Failed pattern match at Web.DOM.NodeType (line 39, column 1 - line 51, column 37): "+[e.constructor.name])})),S=function(e){if(e instanceof c)return 1;if(e instanceof f)return 2;if(e instanceof l)return 3;if(e instanceof d)return 4;if(e instanceof h)return 5;if(e instanceof p)return 6;if(e instanceof m)return 7;if(e instanceof y)return 8;if(e instanceof v)return 9;if(e instanceof g)return 10;if(e instanceof b)return 11;if(e instanceof w)return 12;throw new Error("Failed pattern match at Web.DOM.NodeType (line 68, column 1 - line 68, column 36): "+[e.constructor.name])},T=new o.Eq((function(e){return function(t){return e instanceof c&&t instanceof c||(e instanceof f&&t instanceof f||(e instanceof l&&t instanceof l||(e instanceof d&&t instanceof d||(e instanceof h&&t instanceof h||(e instanceof p&&t instanceof p||(e instanceof m&&t instanceof m||(e instanceof y&&t instanceof y||(e instanceof v&&t instanceof v||(e instanceof g&&t instanceof g||(e instanceof b&&t instanceof b||e instanceof w&&t instanceof w))))))))))}})),A=new u.Ord((function(){return T}),(function(e){return function(t){return u.compare(u.ordInt)(S(e))(S(t))}})),P=new i.Enum((function(){return A}),i.defaultPred(E)(S),i.defaultSucc(E)(S)),k=new r.Bounded((function(){return A}),c.value,w.value),x=new i.BoundedEnum((function(){return k}),(function(){return P}),12,S,E);e.exports={ElementNode:c,AttributeNode:f,TextNode:l,CDATASectionNode:d,EntityReferenceNode:h,EntityNode:p,ProcessingInstructionNode:m,CommentNode:y,DocumentNode:v,DocumentTypeNode:g,DocumentFragmentNode:b,NotationNode:w,eqNodeType:T,ordNodeType:A,boundedNodeType:k,enumNodeType:P,boundedEnumNodeType:x,showNodeType:_}},function(e,t,n){"use strict";var r,i,o=n(1062),a=n(15),u=n(185),s=n(108),c=n(190),f=n(58),l=n(1063),d=n(354),h=n(546),p=n(547),m=n(548),y=n(549),v=n(224),g=n(166),b=n(357),w=n(334),E=d.monadStoreStoreT(c.monadAffAff),_=d.monadEffectStoreT(s.monadEffectAff),S=d.monadStoreT(s.monadAff),T=new h.Navigate((function(){return S}),(r=f.liftEffect(_),i=g.print(v.routeCodec),function(e){return r(b.setHash(i(e)))})),A=new p.Now((function(){return S}),f.liftEffect(_)(l.now),f.liftEffect(_)(l.nowDate),f.liftEffect(_)(l.nowDateTime),f.liftEffect(_)(l.nowTime)),P=d.monadAffStoreT(c.monadAffAff),k=function(e){return function(t){return u.toAffE(o._insertDoc(e)(t))}},x=function(e){return u.toAffE(o._getAllDocs(e))},C=d.functorStoreT(s.functorAff),R=d.bindStoreT(s.bindAff),I=new m.ManageTopic((function(){return S}),(function(e){return a.bind(R)(d.getStore(E))((function(t){return c.liftAff(P)(k(t.collTopic)(e))}))}),a.bind(R)(d.getStore(E))((function(e){return c.liftAff(P)(x(e.collTopic))}))),O=d.applyStoreT(s.applyAff),M=d.applicativeStoreT(s.applicativeAff);e.exports={AppM:function(e){return e},runAppM:function(e){var t=d.runStoreT(s.monadAff)(e)(y.reduce),n=w.coerce();return function(e){return t(n(e))}},getAllDocs:x,insertDoc:k,functorAppM:C,applyAppM:O,applicativeAppM:M,bindAppM:R,monadAppM:S,monadEffectAppM:_,monadAffAppM:P,monadStoreAppM:E,navigateAppM:T,nowAppM:A,manageTopicAppM:I,_getAllDocs:o._getAllDocs,_insertDoc:o._insertDoc}},function(e,t){t._getAllDocs=function(e){return function(){return e.find().sort({updated:-1}).exec()}},t._insertDoc=function(e){return function(t){return function(){return e.insert(t)}}}},function(e,t,n){"use strict";var r=n(1064),i=n(543),o=n(1067),a=n(2),u=n(35),s=a.map(u.functorEffect)((function(e){return i.time(o.toDateTime(e))}))(r.now),c=a.map(u.functorEffect)(o.toDateTime)(r.now),f=a.map(u.functorEffect)((function(e){return i.date(o.toDateTime(e))}))(r.now);e.exports={nowDateTime:c,nowDate:f,nowTime:s,now:r.now,getTimezoneOffset:r.getTimezoneOffset}},function(e,t,n){"use strict";t.now=function(){return Date.now()},t.getTimezoneOffset=function(){return new Date(Date.now()).getTimezoneOffset()}},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a){var u=new Date(Date.UTC(e,t,n,r,i,o,a));return e>=0&&e<100&&u.setUTCFullYear(e),u.getTime()};t.calcDiff=function(e,t){return r(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond)-r(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond)},t.adjustImpl=function(e){return function(t){return function(n){return function(i){var o=r(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond),a=new Date(o+n);return isNaN(a.getTime())?t:e({year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds()})}}}}},function(e,t,n){"use strict";var r=function(e,t,n){var r=new Date(Date.UTC(e,t,n));return e>=0&&e<100&&r.setUTCFullYear(e),r};t.canonicalDateImpl=function(e,t,n,i){var o=r(t,n-1,i);return e(o.getUTCFullYear())(o.getUTCMonth()+1)(o.getUTCDate())},t.calcWeekday=function(e,t,n){return r(e,t-1,n).getUTCDay()},t.calcDiff=function(e,t,n,i,o,a){var u=r(e,t-1,n),s=r(i,o-1,a);return u.getTime()-s.getTime()}},function(e,t,n){"use strict";var r=n(1068),i=n(54),o=n(63),a=n(544),u=n(352),s=n(543),c=n(76),f=n(5),l=n(18),d=n(545),h=n(353),p=n(218),m=r.toDateTimeImpl((function(e){return function(t){return function(n){return function(r){return function(i){return function(o){return function(l){return new s.DateTime(a.canonicalDate(e)(f.fromJust()(c.toEnum(u.boundedEnumMonth)(t)))(n),new d.Time(r,i,o,l))}}}}}}})),y=new l.Show((function(e){return"(Instant "+l.show(p.showMilliseconds)(e)+")"})),v=p.ordMilliseconds,g=p.eqMilliseconds,b=new o.Bounded((function(){return v}),-86399778816e5,8639977881599999);e.exports={instant:function(e){if(e>=-86399778816e5&&e<=8639977881599999)return new f.Just(e);if(i.otherwise)return f.Nothing.value;throw new Error("Failed pattern match at Data.DateTime.Instant (line 44, column 1 - line 44, column 41): "+[e.constructor.name])},unInstant:function(e){return e},fromDateTime:function(e){return r.fromDateTimeImpl(a.year(e.value0),c.fromEnum(u.boundedEnumMonth)(a.month(e.value0)),a.day(e.value0),d.hour(e.value1),d.minute(e.value1),d.second(e.value1),d.millisecond(e.value1))},fromDate:function(e){return r.fromDateTimeImpl(a.year(e),c.fromEnum(u.boundedEnumMonth)(a.month(e)),a.day(e),o.bottom(h.boundedHour),o.bottom(h.boundedMinute),o.bottom(h.boundedSecond),o.bottom(h.boundedMillisecond))},toDateTime:m,eqDateTime:g,ordDateTime:v,boundedInstant:b,showInstant:y}},function(e,t,n){"use strict";t.fromDateTimeImpl=function(e,t,n,r,i,o,a){return function(e,t,n,r,i,o,a){var u=new Date(Date.UTC(e,t,n,r,i,o,a));return e>=0&&e<100&&u.setUTCFullYear(e),u}(e,t-1,n,r,i,o,a).getTime()},t.toDateTimeImpl=function(e){return function(t){var n=new Date(t);return e(n.getUTCFullYear())(n.getUTCMonth()+1)(n.getUTCDate())(n.getUTCHours())(n.getUTCMinutes())(n.getUTCSeconds())(n.getUTCMilliseconds())}}},function(e,t,n){"use strict";t.unsafeUnionFn=function(e,t){var n={};for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r]);for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}},function(e,t,n){"use strict";t.foldr1Impl=function(e){return function(t){for(var n=t[t.length-1],r=t.length-2;r>=0;r--)n=e(t[r])(n);return n}},t.foldl1Impl=function(e){return function(t){for(var n=t[0],r=t.length,i=1;i<r;i++)n=e(n)(t[i]);return n}},t.traverse1Impl=function(){function e(e){this.fn=e}var t={},n=function(e,t){this.head=e,this.tail=t};function r(e){return new n(e,t)}function i(e){return function(t){return new n(e,t)}}function o(e){for(var n=[],r=e;r!==t;)n.push(r.head),r=r.tail;return n}return function(t){return function(n){return function(a){var u=function r(o,u,s){if(0===u)return o;var c=s[u-1];return new e((function(){var e,f;return r((e=c,f=o,t(n(i)(a(e)))(f)),u-1,s)}))};return function(t){for(var i=n(r)(a(t[t.length-1])),s=u(i,t.length-1,t);s instanceof e;)s=s.fn();return n(o)(s)}}}}}()},function(e,t,n){"use strict";var r=n(1072),i=n(144),o=n(20),a=n(18),u=n(59),s=n(60),c=function(e){this.genericShowArgs=e},f=function(e){this["genericShow'"]=e},l=new c((function(e){return[]})),d=function(e){return e.genericShowArgs},h=function(e){return e["genericShow'"]},p=new f((function(e){return h(p)(e)}));e.exports={GenericShow:f,"genericShow'":h,genericShow:function(e){return function(t){return function(n){return h(t)(i.from(e)(n))}}},GenericShowArgs:c,genericShowArgs:d,genericShowNoConstructors:p,genericShowArgsNoArguments:l,genericShowSum:function(e){return function(t){return new f((function(n){if(n instanceof i.Inl)return h(e)(n.value0);if(n instanceof i.Inr)return h(t)(n.value0);throw new Error("Failed pattern match at Data.Show.Generic (line 26, column 1 - line 28, column 40): "+[n.constructor.name])}))}},genericShowArgsProduct:function(e){return function(t){return new c((function(n){return o.append(o.semigroupArray)(d(e)(n.value0))(d(t)(n.value1))}))}},genericShowConstructor:function(e){return function(t){return new f((function(n){var i=u.reflectSymbol(t)(s.Proxy.value),a=d(e)(n);return 0===a.length?i:"("+r.intercalate(" ")(o.append(o.semigroupArray)([i])(a))+")"}))}},genericShowArgsArgument:function(e){return new c((function(t){return[a.show(e)(t)]}))}}},function(e,t,n){"use strict";t.intercalate=function(e){return function(t){var n=t.length;if(0===n)return"";for(var r=t[0],i=1;i<n;i++)r=r+e+t[i];return r}}},function(e,t,n){"use strict";function r(e){return e.replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}function i(e,t,n){try{return t(decodeURIComponent(n))}catch(t){return e(t)}}t._encodeURIComponent=function(e,t,n){try{return t(r(encodeURIComponent(n)))}catch(t){return e(t)}},t._encodeFormURLComponent=function(e,t,n){try{return t(r(encodeURIComponent(n)).replace(/%20/g,"+"))}catch(t){return e(t)}},t._decodeURIComponent=i,t._decodeFormURLComponent=function(e,t,n){return i(e,t,n.replace(/\+/g," "))}},function(e,t,n){"use strict";var r=n(11),i=n(24),o=n(166),a=n(556),u=function(e){this.gsep=e},s=function(e){this.gparams=e},c=new u((function(e){return function(t){return o.prefix(e)(o.prefix(t)(r.pure(o.applicativeRouteDuplex)(i.unit)))}}));e.exports={gparams:function(e){return e.gparams},gsep:function(e){return e.gsep},GSep:u,GParams:s,gsepStringString:c,gsepStringRoute:function(e){return new u((function(t){var n=o.prefix(t),r=a.gRouteDuplexCtr(e);return function(e){return n(r(e))}}))},gsepRouteString:function(e){return new u((t=a.gRouteDuplexCtr(e),function(e){return o.suffix(t(e))}));var t},gsepProduct:function(e){return new u(a.product(e))},gparamsString:function(e){return new s((function(t){var n=o.prefix(t),r=o.params(e);return function(e){return n(r(e))}}))},gparamsRoute:function(e){return new s((function(t){var n=a.product(a.gRouteAll)(t),r=o.params(e);return function(e){return n(r(e))}}))}}},function(e,t,n){"use strict";var r,i=n(5),o=n(356),a=n(1076),u=n(1081),s=function(e){return function(t){var n=a.runMatch(t),r=u.parse(e);return function(e){return n(r(e))}}},c=s((r=i.fromJust(),function(e){return r(o.decodeURIComponent(e))}));e.exports={match:c,matchWith:s}},function(e,t,n){"use strict";var r,i=n(32),o=n(50),a=n(11),u=n(19),s=n(15),c=n(25),f=n(46),l=n(41),d=n(36),h=n(23),p=n(2),m=n(189),y=n(128),v=n(70),g=n(149),b=n(5),w=n(26),E=n(510),_=n(16),S=n(69),T=n(1077),A=n(1078),P=n(29),k=n(24),x=n(1079),C=n(1080),R=n(557),I=function(e){return e},O=function(e){return e instanceof v.Cons&&e.value0 instanceof R.Path?a.pure(x.applicativeV(T.semiringFree))(new P.Tuple(e.value1,e.value0.value0)):x.invalid(T.free(C.ExpectedString.value))},M=new w.Newtype((function(){})),N=new p.Functor((function(e){return function(t){return function(n){return x.validation(x.invalid)((function(t){return a.pure(x.applicativeV(T.semiringFree))(new P.Tuple(t.value0,e(t.value1)))}))(t(n))}}})),D=new u.Apply((function(){return N}),(function(e){return function(t){var n=function(e){return x.validation(x.invalid)((function(t){return a.pure(x.applicativeV(T.semiringFree))(new P.Tuple(t.value0,e.value1(t.value1)))}))(t(e.value0))};return function(r){return x.validation(function(e){return function(n){return x.invalid(S.mul(T.semiringFree)(n)(x.validation(c.identity(c.categoryFn))(h.const(S.one(T.semiringFree)))(t(e))))}}(r))(n)(e(r))}}})),L=new a.Applicative((function(){return D}),(function(e){return function(t){return a.pure(x.applicativeV(T.semiringFree))(new P.Tuple(t,e))}})),j=new i.Alt((function(){return N}),(function(e){return function(t){return function(n){return i.alt(x.altV(T.semiringFree))(e(n))(t(n))}}})),B=new f.Plus((function(){return j}),h.const(x.invalid(S.one(T.semiringFree)))),F=new o.Alternative((function(){return L}),(function(){return B})),U=function(e){return function(t){return t instanceof v.Cons&&t.value0 instanceof R.Path&&t.value0.value0===e?a.pure(x.applicativeV(T.semiringFree))(new P.Tuple(t.value1,k.unit)):t instanceof v.Cons&&t.value0 instanceof R.Path?x.invalid(T.free(new C.UnexpectedPath(e))):x.invalid(T.free(C.ExpectedPathPart.value))}},q=U(""),H=function(e){var t=function(e){if(e.value1 instanceof l.Left)return x.invalid(T.free(new C.Fail("Nested check failed")));if(e.value1 instanceof l.Right)return a.pure(x.applicativeV(T.semiringFree))(new P.Tuple(e.value0,e.value1.value0));throw new Error("Failed pattern match at Routing.Match (line 201, column 5 - line 203, column 39): "+[e.value1.constructor.name])};return function(n){return x.validation(x.invalid)(t)(e(n))}},K=H(p.map(N)((r=b.maybe(new l.Left("Empty string"))(l.Right.create),function(e){return r(A.fromString(e))}))(O));e.exports={Match:I,root:q,lit:U,num:function(e){if(e instanceof v.Cons&&e.value0 instanceof R.Path){var t=E.fromString(e.value0.value0);return t instanceof b.Just&&!E.isNaN(t.value0)?a.pure(x.applicativeV(T.semiringFree))(new P.Tuple(e.value1,t.value0)):x.invalid(T.free(C.ExpectedNumber.value))}return x.invalid(T.free(C.ExpectedNumber.value))},int:function(e){if(e instanceof v.Cons&&e.value0 instanceof R.Path){var t=m.fromString(e.value0.value0);if(t instanceof b.Nothing)return x.invalid(T.free(C.ExpectedInt.value));if(t instanceof b.Just)return a.pure(x.applicativeV(T.semiringFree))(new P.Tuple(e.value1,t.value0));throw new Error("Failed pattern match at Routing.Match (line 83, column 29 - line 85, column 38): "+[t.constructor.name])}return x.invalid(T.free(C.ExpectedInt.value))},bool:function(e){return e instanceof v.Cons&&e.value0 instanceof R.Path&&"true"===e.value0.value0?a.pure(x.applicativeV(T.semiringFree))(new P.Tuple(e.value1,!0)):e instanceof v.Cons&&e.value0 instanceof R.Path&&"false"===e.value0.value0?a.pure(x.applicativeV(T.semiringFree))(new P.Tuple(e.value1,!1)):x.invalid(T.free(C.ExpectedBoolean.value))},str:O,param:function(e){return function(t){if(t instanceof v.Cons&&t.value0 instanceof R.Query){var n=g.lookup(_.ordString)(e)(t.value0.value0);if(n instanceof b.Nothing)return x.invalid(T.free(new C.KeyNotFound(e)));if(n instanceof b.Just){var r=g.delete(_.ordString)(e)(t.value0.value0);return a.pure(x.applicativeV(T.semiringFree))(g.isEmpty(r)?new P.Tuple(t.value1,n.value0):new P.Tuple(new v.Cons(new R.Query(r),t.value1),n.value0))}throw new Error("Failed pattern match at Routing.Match (line 116, column 7 - line 124, column 62): "+[n.constructor.name])}return x.invalid(T.free(C.ExpectedQuery.value))}},params:function(e){return e instanceof v.Cons&&e.value0 instanceof R.Query?a.pure(x.applicativeV(T.semiringFree))(new P.Tuple(e.value1,e.value0.value0)):x.invalid(T.free(C.ExpectedQuery.value))},end:function(e){return e instanceof v.Nil?a.pure(x.applicativeV(T.semiringFree))(new P.Tuple(v.Nil.value,k.unit)):x.invalid(T.free(C.ExpectedEnd.value))},fail:function(e){return function(t){return x.invalid(T.free(new C.Fail(e)))}},nonempty:K,list:function(e){var t=function(n){return function(r){return x.validation(h.const(a.pure(x.applicativeV(T.semiringFree))(new P.Tuple(r,y.reverse(n)))))((function(e){return t(new v.Cons(e.value1,n))(e.value0)}))(e(r))}};return t(v.Nil.value)},runMatch:function(e){return function(t){return x.validation((function(e){return l.Left.create(d.foldl(v.foldableList)((function(e){return function(t){return t+"\n"+e}}))("")(s.bind(v.bindList)(p.map(v.functorList)(y.reverse)(w.unwrap()(e)))((function(e){return a.pure(v.applicativeList)(d.foldl(v.foldableList)((function(e){return function(t){return t+";"+e}}))("")(p.map(v.functorList)(C.showMatchError)(e)))}))))}))((function(e){return l.Right.create(P.snd(e))}))(e(t))}},eitherMatch:H,optionalMatch:function(e){return function(t){return x.validation(h.const(a.pure(x.applicativeV(T.semiringFree))(new P.Tuple(t,b.Nothing.value))))((n=a.pure(x.applicativeV(T.semiringFree)),r=p.map(P.functorTuple)(b.Just.create),function(e){return n(r(e))}))(e(t));var n,r}},newtypeMatch:M,matchFunctor:N,matchAlt:j,matchPlus:B,matchAlternative:F,matchApply:D,matchApplicative:L}},function(e,t,n){"use strict";var r=n(11),i=n(19),o=n(15),a=n(13),u=n(36),s=n(23),c=n(2),f=n(128),l=n(70),d=n(26),h=n(16),p=n(20),m=n(69),y=n(18),v=n(56),g=function(e){return e},b=new m.Semiring((function(e){return function(t){return p.append(l.semigroupList)(e)(t)}}),(function(e){return function(t){return o.bind(l.bindList)(e)((function(e){return o.bind(l.bindList)(t)((function(t){return r.pure(l.applicativeList)(p.append(l.semigroupList)(e)(t))}))}))}}),f.singleton(l.Nil.value),l.Nil.value),w=new d.Newtype((function(){})),E=new c.Functor((function(e){return function(t){return c.map(l.functorList)(c.map(l.functorList)(e))(t)}})),_=function(e){return f.singleton(f.singleton(e))},S=new u.Foldable((function(e){return function(t){return function(n){return u.fold(l.foldableList)(e)(u.foldMap(l.foldableList)(l.monoidList)(c.map(l.functorList)(t))(n))}}}),(function(e){return function(t){return function(n){return u.foldl(l.foldableList)(u.foldl(l.foldableList)(e))(t)(n)}}}),(function(e){return function(t){return function(n){return u.foldr(l.foldableList)(s.flip(u.foldr(l.foldableList)(e)))(t)(n)}}})),T=new v.Traversable((function(){return S}),(function(){return E}),(function(e){return function(t){return c.map(e.Apply0().Functor0())(g)(v.sequence(l.traversableList)(e)(c.map(l.functorList)(v.sequence(l.traversableList)(e))(t)))}}),(function(e){return function(t){return function(n){return v.sequence(T)(e)(c.map(E)(t)(n))}}})),A=function(e){return new a.Eq((function(t){return function(n){return a.eq(l.eqList(l.eqList(e)))(t)(n)}}))},P=new i.Apply((function(){return E}),(function(e){return function(t){return o.bind(l.bindList)(e)((function(e){return o.bind(l.bindList)(t)((function(t){return r.pure(l.applicativeList)(i.apply(l.applyList)(e)(t))}))}))}})),k=new r.Applicative((function(){return P}),_);e.exports={Free:g,free:_,liftFree:function(e){return function(t){return function(n){return u.sum(l.foldableList)(e)(c.map(l.functorList)((r=u.product(l.foldableList)(e),i=c.map(l.functorList)(t),function(e){return r(i(e))}))(n));var r,i}}},lowerFree:function(e){return function(e){return function(t){return e(_(t))}}},newtypeFree:w,showFree:function(e){return new y.Show((function(t){return"(Free "+y.show(l.showList(l.showList(e)))(t)+")"}))},eqFree:A,ordFree:function(e){return new h.Ord((function(){return A(e.Eq0())}),(function(t){return function(n){return h.compare(l.ordList(l.ordList(e)))(t)(n)}}))},semiringFree:b,functorFree:E,applyFree:P,applicativeFree:k,foldableFree:S,traversableFree:T}},function(e,t,n){"use strict";var r=n(15),i=n(13),o=n(36),a=n(5),u=n(28),s=n(16),c=n(20),f=n(18),l=n(148),d=n(129),h=n(59),p=function(e){return e},m=function(e){this.nes=e},y=new f.Show((function(e){return"(NonEmptyString.unsafeFromString "+f.show(f.showString)(e)+")"})),v=new f.Show((function(e){return"(NonEmptyReplacement "+f.show(y)(e)+")"})),g=c.semigroupString,b=g,w=s.ordString,E=w,_=function(e){return function(t){return e(t)}},S=function(e){return function(t){var n=o.intercalate(e)(u.monoidString)(t);return function(e){return n(e)}}},T=function(e){return""===e?a.Nothing.value:new a.Just(e)},A=i.eqString,P=A;e.exports={nes:function(e){return e.nes},NonEmptyString:p,MakeNonEmpty:m,NonEmptyReplacement:function(e){return e},fromString:T,unsafeFromString:function(e){var t=a.fromJust();return function(e){return t(T(e))}},toString:function(e){return e},appendString:function(e){return function(t){return e+t}},prependString:function(e){return function(t){return e+t}},stripPrefix:function(e){return r.composeKleisliFlipped(a.bindMaybe)(T)(_(l.stripPrefix(e)))},stripSuffix:function(e){return r.composeKleisliFlipped(a.bindMaybe)(T)(_(l.stripSuffix(e)))},contains:function(e){return _(l.contains(e))},localeCompare:function(e){return function(t){return d.localeCompare(e)(t)}},replace:function(e){return function(t){return function(n){return d.replace(e)(t)(n)}}},replaceAll:function(e){return function(t){return function(n){return d.replaceAll(e)(t)(n)}}},toLower:function(e){return d.toLower(e)},toUpper:function(e){return d.toUpper(e)},trim:function(e){return T(d.trim(e))},joinWith:S,join1With:function(e){return function(t){var n=S(e.Foldable0())(t);return function(e){return n(e)}}},joinWith1:function(e){return function(t){var n=o.intercalate(e.Foldable0())(u.monoidString)(t);return function(e){return n(e)}}},liftS:_,eqNonEmptyString:A,ordNonEmptyString:w,semigroupNonEmptyString:g,showNonEmptyString:y,makeNonEmptyBad:function(e){return new m((function(e){return""}))},nonEmptyNonEmpty:function(e){return new m((function(t){return h.reflectSymbol(e)(t)}))},eqNonEmptyReplacement:P,ordNonEmptyReplacement:E,semigroupNonEmptyReplacement:b,showNonEmptyReplacement:v}},function(e,t,n){"use strict";var r=n(32),i=n(11),o=n(19),a=n(46),u=n(78),s=n(41),c=n(13),f=n(36),l=n(23),d=n(2),h=n(28),p=n(26),m=n(16),y=n(20),v=n(69),g=n(18),b=n(56),w=function(e){return e},E=function(e){return function(t){return function(n){if(n instanceof s.Left)return e(n.value0);if(n instanceof s.Right)return t(n.value0);throw new Error("Failed pattern match at Data.Validation.Semiring (line 51, column 1 - line 51, column 84): "+[e.constructor.name,t.constructor.name,n.constructor.name])}}},_=new p.Newtype((function(){})),S=function(e){return s.Left.create(e)},T=s.functorEither,A=new f.Foldable((function(e){return E(l.const(h.mempty(e)))}),(function(e){return function(t){return E(l.const(t))(e(t))}}),(function(e){return function(t){return E(l.const(t))(l.flip(e)(t))}})),P=new b.Traversable((function(){return A}),(function(){return T}),(function(e){return E((t=i.pure(e),function(e){return t(s.Left.create(e))}))(d.map(e.Apply0().Functor0())((function(e){return s.Right.create(e)})));var t}),(function(e){return function(t){return E((r=i.pure(e),function(e){return r(s.Left.create(e))}))((n=d.map(e.Apply0().Functor0())((function(e){return s.Right.create(e)})),function(e){return n(t(e))}));var n,r}})),k=function(e){return function(t){return new c.Eq((function(n){return function(r){return c.eq(s.eqEither(e)(t))(n)(r)}}))}},x=function(e){return function(t){return new m.Ord((function(){return k(e.Eq0())(t.Eq0())}),(function(n){return function(r){return m.compare(s.ordEither(e)(t))(n)(r)}}))}},C=function(e){return new c.Eq1((function(t){return c.eq(k(e)(t))}))},R=u.bifunctorEither,I=function(e){return new o.Apply((function(){return T}),(function(t){return function(n){if(t instanceof s.Left&&n instanceof s.Left)return new s.Left(v.mul(e)(t.value0)(n.value0));if(t instanceof s.Left)return new s.Left(t.value0);if(n instanceof s.Left)return new s.Left(n.value0);if(t instanceof s.Right&&n instanceof s.Right)return new s.Right(t.value0(n.value0));throw new Error("Failed pattern match at Data.Validation.Semiring (line 96, column 1 - line 100, column 54): "+[t.constructor.name,n.constructor.name])}}))},O=function(e){return function(t){return new y.Semigroup(o.lift2(I(e))(y.append(t)))}},M=function(e){return new i.Applicative((function(){return I(e)}),(function(e){return s.Right.create(e)}))},N=function(e){return new r.Alt((function(){return T}),(function(t){return function(n){if(t instanceof s.Left&&n instanceof s.Left)return new s.Left(v.add(e)(t.value0)(n.value0));if(t instanceof s.Left)return n;if(t instanceof s.Right)return new s.Right(t.value0);throw new Error("Failed pattern match at Data.Validation.Semiring (line 111, column 1 - line 114, column 36): "+[t.constructor.name,n.constructor.name])}}))};e.exports={V:w,validation:E,unV:function(e){return E},invalid:S,isValid:function(e){return e instanceof s.Right},toEither:function(e){return e},andThen:function(e){return function(t){return E(S)(t)(e)}},newtypeV:_,eqV:k,eq1V:C,ordV:x,ord1V:function(e){return new m.Ord1((function(){return C(e.Eq0())}),(function(t){return m.compare(x(e)(t))}))},showV:function(e){return function(t){return new g.Show((function(n){if(n instanceof s.Left)return"invalid ("+g.show(e)(n.value0)+")";if(n instanceof s.Right)return"pure ("+g.show(t)(n.value0)+")";throw new Error("Failed pattern match at Data.Validation.Semiring (line 88, column 10 - line 90, column 55): "+[n.constructor.name])}))}},functorV:T,bifunctorV:R,applyV:I,applicativeV:M,semigroupV:O,monoidV:function(e){return function(t){return new h.Monoid((function(){return O(e)(t.Semigroup0())}),i.pure(M(e))(h.mempty(t)))}},altV:N,plusV:function(e){return new a.Plus((function(){return N(e)}),new s.Left(v.zero(e)))},foldableV:A,traversableV:P}},function(e,t,n){"use strict";var r=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),i=function(){function e(){}return e.value=new e,e}(),o=function(){function e(){}return e.value=new e,e}(),a=function(){function e(){}return e.value=new e,e}(),u=function(){function e(){}return e.value=new e,e}(),s=function(){function e(){}return e.value=new e,e}(),c=function(){function e(){}return e.value=new e,e}(),f=function(){function e(){}return e.value=new e,e}(),l=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),d=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}();e.exports={UnexpectedPath:r,ExpectedBoolean:i,ExpectedEnd:o,ExpectedNumber:a,ExpectedInt:u,ExpectedString:s,ExpectedQuery:c,ExpectedPathPart:f,KeyNotFound:l,Fail:d,showMatchError:function(e){if(e instanceof r)return"expected path part: "+e.value0;if(e instanceof l)return"key: "+e.value0+" has not found in query part";if(e instanceof c)return"expected query - found path";if(e instanceof a)return"expected number";if(e instanceof u)return"expected int";if(e instanceof i)return"expected boolean";if(e instanceof o)return"expected end";if(e instanceof s)return"expected string var";if(e instanceof f)return"expected path part, found query";if(e instanceof d)return"match error: "+e.value0;throw new Error("Failed pattern match at Routing.Match.Error (line 29, column 3 - line 39, column 39): "+[e.constructor.name])}}},function(e,t,n){"use strict";var r=n(50),i=n(19),o=n(15),a=n(94),u=n(36),s=n(23),c=n(2),f=n(128),l=n(70),d=n(149),h=n(5),p=n(16),m=n(20),y=n(1082),v=n(129),g=n(56),b=n(29),w=n(557);e.exports={parse:function(e){return function(t){var n=function(t){var n=f.fromFoldable(u.foldableArray)(c.map(c.functorArray)((function(t){return w.Path.create(e(t))}))(v.split("/")(t))),r=f.unsnoc(n);return r instanceof h.Just&&r.value0.last instanceof w.Path&&""===r.value0.last.value0?r.value0.init:n},E=c.map(h.functorMaybe)(s.flip(y.splitAt)(t))(y.indexOf("?")(t));if(E instanceof h.Just)return m.append(l.semigroupList)(n(E.value0.before))(c.map(l.functorList)(w.Query.create)(f.fromFoldable(u.foldableMaybe)(function(e){var t=c.map(h.functorMaybe)(d.fromFoldable(p.ordString)(u.foldableArray)),n=g.traverse(g.traversableArray)(h.applicativeMaybe)((function(t){var n=c.map(c.functorArray)(e)(v.split("=")(t));return o.discard(o.discardUnit)(h.bindMaybe)(r.guard(h.alternativeMaybe)(a.length(n)<=2))((function(){return i.apply(h.applyMaybe)(c.map(h.functorMaybe)(b.Tuple.create)(a.head(n)))(a.index(n)(1))}))})),s=v.split("&");return function(e){return t(n(s(e)))}}(e)(y.drop(1)(E.value0.after)))));if(E instanceof h.Nothing)return n(t);throw new Error("Failed pattern match at Routing.Parser (line 32, column 3 - line 37, column 21): "+[E.constructor.name])}}}},function(e,t,n){"use strict";var r,i,o=n(1083),a=n(94),u=n(54),s=n(63),c=n(76),f=n(13),l=n(216),d=n(2),h=n(189),p=n(5),m=n(16),y=n(18),v=n(148),g=n(129),b=n(513),w=n(29),E=n(79),_=function(e){return function(t){return 65536+((1024*(e-55296|0)|0)+(t-56320|0)|0)|0}},S=new y.Show((function(e){return"(CodePoint 0x"+g.toUpper(h.toStringAs(h.hexadecimal)(e))+")"})),T=function(e){return 56320<=e&&e<=57343},A=function(e){return 55296<=e&&e<=56319},P=function(e){var t=v.length(e);if(0===t)return p.Nothing.value;if(1===t)return new p.Just({head:c.fromEnum(c.boundedEnumChar)(b.charAt(0)(e)),tail:""});var n=c.fromEnum(c.boundedEnumChar)(b.charAt(1)(e)),r=c.fromEnum(c.boundedEnumChar)(b.charAt(0)(e));return A(r)&&T(n)?new p.Just({head:_(r)(n),tail:v.drop(2)(e)}):new p.Just({head:r,tail:v.drop(1)(e)})},k=function(e){return d.map(p.functorMaybe)((function(e){return new w.Tuple(e.head,e.tail)}))(P(e))},x=o._unsafeCodePointAt0((function(e){var t=c.fromEnum(c.boundedEnumChar)(b.charAt(0)(e));if(A(t)&&v.length(e)>1){var n=c.fromEnum(c.boundedEnumChar)(b.charAt(1)(e));return T(n)?_(t)(n):t}return t})),C=o._toCodePointArray((function(e){return E.unfoldr(E.unfoldableArray)(k)(e)}))(x),R=function(e){return a.length(C(e))},I=(r=c.toEnumWithDefaults(c.boundedEnumChar)(s.bottom(s.boundedChar))(s.top(s.boundedChar)),function(e){return v.singleton(r(e))}),O=function(e){if(e<=65535)return I(e);var t=l.div(l.euclideanRingInt)(e-65536|0)(1024)+55296|0,n=l.mod(l.euclideanRingInt)(e-65536|0)(1024)+56320|0;return I(t)+I(n)},M=o._fromCodePointArray(O),N=o._singleton(O),D=function(e){return function(t){if(e<1)return"";var n=P(t);return n instanceof p.Just?N(n.value0.head)+D(e-1|0)(n.value0.tail):t}},L=o._take(D),j=new f.Eq((function(e){return function(t){return e===t}})),B=new m.Ord((function(){return j}),(function(e){return function(t){return m.compare(m.ordInt)(e)(t)}})),F=function(e){return function(t){return v.drop(v.length(L(e)(t)))(t)}},U=o._countPrefix((function(e){return function(t){return(n=e,function(e){return function(t){for(var r,i,o,a,u=n,s=e,c=!1;!c;)i=u,o=t,a=void 0,r=(a=P(s))instanceof p.Just&&i(a.value0.head)?(u=i,s=a.value0.tail,void(t=o+1|0)):(c=!0,o);return r}})(t)(0);var n}}))(x),q=(i=c.fromEnum(c.boundedEnumChar),function(e){return i(e)}),H=function(e){return function(t){var n,r,i,o=e,a=!1;for(;!a;)r=o,i=void 0,n=(i=P(t))instanceof p.Just?0===r?(a=!0,new p.Just(i.value0.head)):(o=r-1|0,void(t=i.value0.tail)):(a=!0,p.Nothing.value);return n}},K=new s.Bounded((function(){return B}),0,1114111),V=new c.BoundedEnum((function(){return K}),(function(){return z}),1114112,(function(e){return e}),(function(e){if(e>=0&&e<=1114111)return new p.Just(e);if(u.otherwise)return p.Nothing.value;throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): "+[e.constructor.name])})),z=new c.Enum((function(){return B}),c.defaultPred(c.toEnum(V))(c.fromEnum(V)),c.defaultSucc(c.toEnum(V))(c.fromEnum(V)));e.exports={codePointFromChar:q,singleton:N,fromCodePointArray:M,toCodePointArray:C,codePointAt:function(e){return function(t){return e<0||0===e&&""===t?p.Nothing.value:0===e?new p.Just(x(t)):o._codePointAt(H)(p.Just.create)(p.Nothing.value)(x)(e)(t)}},uncons:P,length:R,countPrefix:U,indexOf:function(e){return function(t){return d.map(p.functorMaybe)((function(e){return R(v.take(e)(t))}))(v.indexOf(e)(t))}},"indexOf'":function(e){return function(t){return function(n){var r=F(t)(n);return d.map(p.functorMaybe)((function(e){return t+R(v.take(e)(r))|0}))(v.indexOf(e)(r))}}},lastIndexOf:function(e){return function(t){return d.map(p.functorMaybe)((function(e){return R(v.take(e)(t))}))(v.lastIndexOf(e)(t))}},"lastIndexOf'":function(e){return function(t){return function(n){var r=v.length(L(t)(n));return d.map(p.functorMaybe)((function(e){return R(v.take(e)(n))}))(v["lastIndexOf'"](e)(r)(n))}}},take:L,takeWhile:function(e){return function(t){return L(U(e)(t))(t)}},drop:F,dropWhile:function(e){return function(t){return F(U(e)(t))(t)}},splitAt:function(e){return function(t){var n=L(e)(t);return{before:n,after:v.drop(v.length(n))(t)}}},eqCodePoint:j,ordCodePoint:B,showCodePoint:S,boundedCodePoint:K,enumCodePoint:z,boundedEnumCodePoint:V,contains:v.contains,stripPrefix:v.stripPrefix,stripSuffix:v.stripSuffix}},function(e,t,n){"use strict";var r="function"==typeof Array.from,i="undefined"!=typeof Symbol&&null!=Symbol&&void 0!==Symbol.iterator&&"function"==typeof String.prototype[Symbol.iterator],o="function"==typeof String.prototype.fromCodePoint,a="function"==typeof String.prototype.codePointAt;t._unsafeCodePointAt0=function(e){return a?function(e){return e.codePointAt(0)}:e},t._codePointAt=function(e){return function(t){return function(n){return function(r){return function(o){return function(a){var u=a.length;if(o<0||o>=u)return n;if(i)for(var s=a[Symbol.iterator](),c=o;;--c){var f=s.next();if(f.done)return n;if(0===c)return t(r(f.value))}return e(o)(a)}}}}}},t._countPrefix=function(e){return function(t){return i?function(e){return function(n){for(var r=n[Symbol.iterator](),i=0;;++i){var o=r.next();if(o.done)return i;var a=t(o.value);if(!e(a))return i}}}:e}},t._fromCodePointArray=function(e){return o?function(t){return t.length<1e4?String.fromCodePoint.apply(String,t):t.map(e).join("")}:function(t){return t.map(e).join("")}},t._singleton=function(e){return o?String.fromCodePoint:e},t._take=function(e){return function(t){return i?function(e){for(var n="",r=e[Symbol.iterator](),i=0;i<t;++i){var o=r.next();if(o.done)return n;n+=o.value}return n}:e(t)}},t._toCodePointArray=function(e){return function(t){return r?function(e){return Array.from(e,t)}:e}}},function(e,t,n){"use strict";e.exports={hashchange:"hashchange"}},function(e,t,n){"use strict";var r=n(1086),i=n(11),o=n(15),a=n(92),u=n(185),s=n(41),c=n(13),f=n(2),l=n(5),d=n(16),h=n(59),p=n(24),m=n(190),y=n(58),v=n(114),g=n(350),b=n(95),w=n(165),E=n(101),_=n(419),S=n(354),T=n(420),A=n(546),P=n(1776),k=n(549),x=n(224),C=n(1778),R=n(1779),I=n(1819),O=n(1820),M=n(166),N=n(357),D=n(60),L=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),j=function(){function e(){}return e.value=new e,e}(),B=function(){function e(){}return e.value=new e,e}(),F=function(e){return{route:l.Nothing.value}},U=function(e){if(e instanceof C.Unused)return"none";if(e instanceof C.WindowIPFS)return"window";if(e instanceof C.JsIPFS)return"js";if(e instanceof C.LocalIPFS)return"http://127.0.0.1:5001/";if(e instanceof C.BraveBrowser)return"http://127.0.0.1:45005/";if(e instanceof C.CustomAPI)return e.value0;throw new Error("Failed pattern match at LinkNote.Component.Router (line 47, column 1 - line 47, column 48): "+[e.constructor.name])},q=function(e){return u.toAffE(r.getGlobalIPFS(l.Just.create)(l.Nothing.value)(e))},H=C.Unused.value;e.exports={getGlobalIPFSA:q,getIpfsAddrByType:U,currentIpfs:H,Navigate:L,Init:j,InitIPFS:B,initialState:F,component:function(e){return function(t){return function(n){return function(r){return function(u){var L=function(n){if(n instanceof j)return o.bind(E.bindHalogenM)(f.map(E.functorHalogenM)((r=M.parse(x.routeCodec),function(e){return s.hush(r(e))}))(y.liftEffect(E.monadEffectHalogenM(e.MonadEffect0()))(N.getHash)))((function(e){return o.discard(o.discardUnit)(E.bindHalogenM)(a.modify_(E.monadStateHalogenM)((function(t){var n={};for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.route=e,n})))((function(){return o.discard(o.discardUnit)(E.bindHalogenM)(A.navigate(A.navigateHalogenM(t))(l.fromMaybe(x.Home.value)(e)))((function(){return L(B.value)}))}))}));var r;if(n instanceof B){var c=U(H);return o.bind(E.bindHalogenM)(m.liftAff(E.monadAffHalogenM(e))(q(c)))((function(e){if(e instanceof l.Just)return S.updateStore(S.monadStoreHalogenM(u))(new k.SetIPFS(e.value0));if(e instanceof l.Nothing)return i.pure(E.applicativeHalogenM)(p.unit);throw new Error("Failed pattern match at LinkNote.Component.Router (line 112, column 7 - line 114, column 29): "+[e.constructor.name])}))}throw new Error("Failed pattern match at LinkNote.Component.Router (line 101, column 18 - line 114, column 29): "+[n.constructor.name])};return _.connect(e.MonadEffect0())(u)(T.selectAll)(v.mkComponent({initialState:F,render:function(t){return w.div_([P.header(t.route),function(){if(t.route instanceof l.Just)return t.route.value0 instanceof x.Home?g.slot_()(new h.IsSymbol((function(){return"home"})))(d.ordUnit)(D.Proxy.value)(p.unit)(R.component(u)(e))(p.unit):t.route.value0 instanceof x.Setting?g.slot_()(new h.IsSymbol((function(){return"setting"})))(d.ordUnit)(D.Proxy.value)(p.unit)(I.component(e))({ipfsInstanceType:C.JsIPFS.value}):t.route.value0 instanceof x.TopicList?g.slot_()(new h.IsSymbol((function(){return"topicList"})))(d.ordUnit)(D.Proxy.value)(p.unit)(O.component(u)(e)(r)(n))(p.unit):w.div_([b.text("404页面")]);if(t.route instanceof l.Nothing)return w.div_([b.text("Oh yeah! You get a 404 page.")]);throw new Error("Failed pattern match at LinkNote.Component.Router (line 128, column 5 - line 138, column 59): "+[t.route.constructor.name])}()])},eval:v.mkEval({handleAction:L,handleQuery:function(e){return o.bind(E.bindHalogenM)(a.get(E.monadStateHalogenM))((function(t){return o.discard(o.discardUnit)(E.bindHalogenM)(i.when(E.applicativeHalogenM)(c.notEq(l.eqMaybe(x.eqRoute))(t.route)(new l.Just(e.value0)))(a.modify_(E.monadStateHalogenM)((function(t){var n={};for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.route=new l.Just(e.value0),n}))))((function(){return i.pure(E.applicativeHalogenM)(new l.Just(e.value1))}))}))},receive:v.defaultEval.receive,initialize:new l.Just(j.value),finalize:v.defaultEval.finalize})}))}}}}},getGlobalIPFS:r.getGlobalIPFS}},function(e,t,n){var r=n(1087),i=r.getIpfs,o=r.providers,a=o.httpClient,u=o.jsIpfs,s=o.windowIpfs,c=n(1095),f=n(636);t.getGlobalIPFS=function(e){return function(t){return function(n){return function(){var r=null;switch(console.log(n,"ipfs"),n){case"none":break;case"js":r=u();break;case"window":r=s();break;default:r=a({apiAddress:n})}return r?i({loadHttpClientModule:function(){return f.create},loadJsIpfsModule:function(){return c},providers:[r]}).then((function(n){if(!n)return t;var r=n.ipfs,i=n.provider,o=n.apiAddress;return window.ipfs=r,console.log("IPFS API is provided by: "+i),"httpClient"===i&&console.log("HTTP API address: "+o),e(r)})):Promise.resolve(t)}}}}},function(e,t,n){"use strict";const r=n(1088),i=n(57),o=n(1089),a=n(1090),u=n(1091),s=n(1094),c={connectionTest:async e=>{const t="QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn";for await(const n of e.get(t))if("dir"===n.type&&n.name===t)return!0;return!1}},f=(e,t={})=>(n={})=>r=>(n=i(c,t,r,n),e(n)),l={httpClient:f(e=>u({root:r,...e})),windowIpfs:f(e=>a({root:r,...e})),jsIpfs:f(e=>s(e)),webExt:f(e=>o({root:r,...e}))},d=[l.windowIpfs(),l.httpClient()];e.exports={getIpfs:async function({providers:e=d,...t}={}){for(const n of e)try{const e=await n(t);if(e)return e}catch(e){console.error("[ipfs-provider]",e)}},providers:l,makeProvider:f}},function(e,t,n){"use strict";(function(t){e.exports="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||this}).call(this,n(48))},function(e,t,n){"use strict";const r=n(272);e.exports=async function({root:e,connectionTest:t}){if("object"==typeof e.chrome&&e.chrome.extension&&e.chrome.extension.getBackgroundPage){let n=null;try{n=e.chrome.extension.getBackgroundPage()}catch(e){return null}if(n&&n.ipfs){const{ipfs:e}=n;return await t(e),{ipfs:e,provider:r.webExt}}}}},function(e,t,n){"use strict";const r=n(272);e.exports=async function({root:e,permissions:t,connectionTest:n}){if(e.ipfs){t&&t.commands&&t.commands.includes("files.get")||(t=t||{},(t=JSON.parse(JSON.stringify(t))).commands=t.commands||[],t.commands.push("files.get"));const i="function"==typeof e.ipfs.enable?await e.ipfs.enable(t):e.ipfs;return await n(i),{ipfs:i,provider:r.windowIpfs}}}},function(e,t,n){"use strict";const{URL:r}=n(273),i=n(272),{DEFAULT_HTTP_API:o}=n(1093);async function a({apiAddress:e,connectionTest:t,httpClient:n,...r}){try{const o=n({...r,...u(e)});return await t(o),{ipfs:o,provider:i.httpClient,apiAddress:e}}catch(e){return null}}const u=e=>{switch(typeof e){case"string":return{url:e};case"object":return JSON.parse(JSON.stringify(e));case"undefined":return{};default:throw new Error("invalid apiAddress passed to httpClient")}};e.exports=async function({loadHttpClientModule:e,apiAddress:t,root:n,connectionTest:i,...u}){let s;if(e&&(s=await e()),!s){if(!n.IpfsHttpClient)throw new Error("ipfs-provider could not initialize js-ipfs-http-client: make sure its constructor is returned by loadHttpClientModule function or exposed at window.IpfsHttpClient");s=n.IpfsHttpClient}if(s=s.default||s,t||u.url||u.host)return a({apiAddress:t,connectionTest:i,httpClient:s,...u});const{location:c}=n;if(c&&("5001"!==c.port||!c.hostname.match(/^127.0.0.1$|^localhost$/))){const e=new r(c.origin);e.pathname="/";const t=await a({apiAddress:e.toString(),connectionTest:i,httpClient:s,...u});if(t)return t}return a({apiAddress:o,connectionTest:i,httpClient:s,...u})}},function(e,t,n){"use strict";const{URLWithLegacySupport:r,format:i}=n(559);e.exports=(e,t={},n={},o)=>{let a,u=t.protocol?t.protocol.replace(":",""):"http";u=(n[u]||o||u)+":";try{a=new r(e)}catch(e){a={}}const s=Object.assign({},t,{protocol:u||a.protocol,host:t.host||a.host});return new r(e,i(s)).toString()}},function(e,t,n){"use strict";e.exports={DEFAULT_HTTP_API:"/ip4/127.0.0.1/tcp/5001"}},function(e,t,n){"use strict";const r=n(272);async function i(e,t){return(e=e.default||e).create(t)}e.exports=async function({connectionTest:e,loadJsIpfsModule:t,options:n,init:o=i}){const a=await t(),u=await o(a,n);return await e(u),{ipfs:u,provider:r.jsIpfs}}},function(e,t,n){"use strict";const r=n(1096),i=n(560),o=n(31),a=n(133),u=n(229),{multiaddr:s}=n(30),{CID:c}=n(12),{create:f}=n(1162);e.exports={create:f,crypto:a,isIPFS:u,CID:c,multiaddr:s,PeerId:o,globSource:r,urlSource:i}},function(e,t){},function(e,t,n){"use strict";const{TimeoutError:r,AbortError:i}=n(561),{Response:o,Request:a,Headers:u,default:s}=n(1098),c=s,f=e=>{const t=new u;for(const n of e.trim().split(/[\r\n]+/)){const e=n.indexOf(": ");e>0&&t.set(n.slice(0,e),n.slice(e+1))}return t};class l extends o{constructor(e,t,n){super(t,n),Object.defineProperty(this,"url",{value:e})}}e.exports={fetch:(e,t={})=>null!=t.onUploadProgress?((e,t={})=>{const n=new XMLHttpRequest;n.open(t.method||"GET",e.toString(),!0);const{timeout:a,headers:s}=t;if(a&&a>0&&a<1/0&&(n.timeout=a),null!=t.overrideMimeType&&n.overrideMimeType(t.overrideMimeType),s)for(const[e,t]of new u(s))n.setRequestHeader(e,t);return t.signal&&(t.signal.onabort=()=>n.abort()),t.onUploadProgress&&(n.upload.onprogress=t.onUploadProgress),n.responseType="arraybuffer",new Promise((e,a)=>{const u=t=>{switch(t.type){case"error":e(o.error());break;case"load":e(new l(n.responseURL,n.response,{status:n.status,statusText:n.statusText,headers:f(n.getAllResponseHeaders())}));break;case"timeout":a(new r);break;case"abort":a(new i)}};n.onerror=u,n.onload=u,n.ontimeout=u,n.onabort=u,n.send(t.body)})})(e,t):c(e,t),Request:a,Headers:u}},function(e,t,n){"use strict";const{isElectronMain:r}=n(275);e.exports=n(r?1099:1100)},function(e,t){},function(e,t,n){"use strict";globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?e.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:e.exports={default:n(150).default,Headers:n(150).Headers,Request:n(150).Request,Response:n(150).Response}},function(e,t,n){"use strict";var r=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=i;)n[r++]=255&t|128,t/=128;for(;-128&t;)n[r++]=255&t|128,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},i=Math.pow(2,31);var o=function e(t,n){var r,i=0,o=0,a=n=n||0,u=t.length;do{if(a>=u)throw e.bytes=0,new RangeError("Could not decode varint");r=t[a++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=a-n,i};var a=Math.pow(2,7),u=Math.pow(2,14),s=Math.pow(2,21),c=Math.pow(2,28),f=Math.pow(2,35),l=Math.pow(2,42),d=Math.pow(2,49),h=Math.pow(2,56),p=Math.pow(2,63),m={encode:r,decode:o,encodingLength:function(e){return e<a?1:e<u?2:e<s?3:e<c?4:e<f?5:e<l?6:e<d?7:e<h?8:e<p?9:10}};e.exports=m},function(e,t,n){"use strict";var r=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==n[a])throw new TypeError(o+" is ambiguous");n[a]=i}var u=e.length,s=e.charAt(0),c=Math.log(u)/Math.log(256),f=Math.log(256)/Math.log(u);function l(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,i=0;e[t]===s;)r++,t++;for(var o=(e.length-t)*c+1>>>0,a=new Uint8Array(o);e[t];){var f=n[e.charCodeAt(t)];if(255===f)return;for(var l=0,d=o-1;(0!==f||l<i)&&-1!==d;d--,l++)f+=u*a[d]>>>0,a[d]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===a[h];)h++;for(var p=new Uint8Array(r+(o-h)),m=r;h!==o;)p[m++]=a[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var a=(o-i)*f+1>>>0,c=new Uint8Array(a);i!==o;){for(var l=t[i],d=0,h=a-1;(0!==l||d<r)&&-1!==h;h--,d++)l+=256*c[h]>>>0,c[h]=l%u>>>0,l=l/u>>>0;if(0!==l)throw new Error("Non-zero carry");r=d,i++}for(var p=a-r;p!==a&&0===c[p];)p++;for(var m=s.repeat(n);p<a;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:l,decode:function(e){var n=l(e);if(n)return n;throw new Error(`Non-${t} character`)}}};e.exports=r},function(e,t,n){"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(564),r.BufferWriter=n(1112),r.Reader=n(565),r.BufferReader=n(1113),r.util=n(167),r.rpc=n(1114),r.roots=n(1116),r.configure=i,i()},function(e,t,n){"use strict";e.exports=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,o=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,a){n[r]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(e){o&&(o=!1,a(e))}}))}},function(e,t,n){"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var i=new Array(64),o=new Array(123),a=0;a<64;)o[i[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(e,t,n){for(var r,o=null,a=[],u=0,s=0;t<n;){var c=e[t++];switch(s){case 0:a[u++]=i[c>>2],r=(3&c)<<4,s=1;break;case 1:a[u++]=i[r|c>>4],r=(15&c)<<2,s=2;break;case 2:a[u++]=i[r|c>>6],a[u++]=i[63&c],s=0}u>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),u=0)}return s&&(a[u++]=i[r],a[u++]=61,1===s&&(a[u++]=61)),o?(u&&o.push(String.fromCharCode.apply(String,a.slice(0,u))),o.join("")):String.fromCharCode.apply(String,a.slice(0,u))};r.decode=function(e,t,n){for(var r,i=n,a=0,u=0;u<e.length;){var s=e.charCodeAt(u++);if(61===s&&a>1)break;if(void 0===(s=o[s]))throw Error("invalid encoding");switch(a){case 0:r=s,a=1;break;case 1:t[n++]=r<<2|(48&s)>>4,r=s,a=2;break;case 2:t[n++]=(15&r)<<4|(60&s)>>2,r=s,a=3;break;case 3:t[n++]=(3&r)<<6|s,a=0}}if(1===a)throw Error("invalid encoding");return n-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,n){"use strict";function r(){this._listeners={}}e.exports=r,r.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},function(e,t,n){"use strict";function r(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function u(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:o,e.writeFloatBE=r?o:i,e.readFloatLE=r?a:u,e.readFloatBE=r?u:a}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function n(e,t,n){var r=e(t,n),i=2*(r>>31)+1,o=r>>>23&255,a=8388607&r;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,i),e.writeFloatBE=t.bind(null,o),e.readFloatLE=n.bind(null,a),e.readFloatBE=n.bind(null,u)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function u(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:o,e.writeDoubleBE=r?o:i,e.readDoubleLE=r?a:u,e.readDoubleBE=r?u:a}():function(){function t(e,t,n,r,i,o){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,i,o+t),e(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(r>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+n);else{var u;if(r<22250738585072014e-324)e((u=r/5e-324)>>>0,i,o+t),e((a<<31|u/4294967296)>>>0,i,o+n);else{var s=Math.floor(Math.log(r)/Math.LN2);1024===s&&(s=1023),e(4503599627370496*(u=r*Math.pow(2,-s))>>>0,i,o+t),e((a<<31|s+1023<<20|1048576*u&1048575)>>>0,i,o+n)}}}function n(e,t,n,r,i){var o=e(r,i+t),a=e(r,i+n),u=2*(a>>31)+1,s=a>>>20&2047,c=4294967296*(1048575&a)+o;return 2047===s?c?NaN:u*(1/0):0===s?5e-324*u*c:u*Math.pow(2,s-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,i,0,4),e.writeDoubleBE=t.bind(null,o,4,0),e.readDoubleLE=n.bind(null,a,0,4),e.readDoubleBE=n.bind(null,u,4,0)}(),e}function i(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function o(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function u(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,n){"use strict";var r=t;r.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},r.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],a=0;t<n;)(r=e[t++])<128?o[a++]=r:r>191&&r<224?o[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},r.write=function(e,t,n){for(var r,i,o=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-o}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){if(n<1||n>i)return e(n);a+n>r&&(o=e(r),a=0);var u=t.call(o,a,a+=n);return 7&a&&(a=1+(7|a)),u}}},function(e,t,n){"use strict";e.exports=i;var r=n(167);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var u=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((u.call(e,0)|u.call(e,1)<<8|u.call(e,2)<<16|u.call(e,3)<<24)>>>0,(u.call(e,4)|u.call(e,5)<<8|u.call(e,6)<<16|u.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},function(e,t,n){"use strict";e.exports=o;var r=n(564);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(167);function o(){r.call(this)}function a(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},function(e,t,n){"use strict";e.exports=o;var r=n(565);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(167);function o(e){r.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},function(e,t,n){"use strict";t.Service=n(1115)},function(e,t,n){"use strict";e.exports=i;var r=n(167);function i(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,o,a){if(!o)throw TypeError("request must be specified");var u=this;if(!a)return r.asPromise(e,u,t,n,i,o);if(u.rpcImpl)try{return u.rpcImpl(t,n[u.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,n){if(e)return u.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof i))try{n=i[u.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return u.emit("error",e,t),a(e)}return u.emit("data",n,t),a(null,n)}u.end(!0)}))}catch(e){return u.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){(function(t){var n={};e.exports=n;var r={};n.encode=function(e,t,n){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==n&&"number"!=typeof n)throw new TypeError('"maxline" must be a number.');var r="";if(e instanceof Uint8Array){var i=0,o=t.length,a=t.charAt(0),u=[0];for(i=0;i<e.length;++i){for(var s=0,c=e[i];s<u.length;++s)c+=u[s]<<8,u[s]=c%o,c=c/o|0;for(;c>0;)u.push(c%o),c=c/o|0}for(i=0;0===e[i]&&i<e.length-1;++i)r+=a;for(i=u.length-1;i>=0;--i)r+=t[u[i]]}else r=function(e,t){var n=0,r=t.length,i=t.charAt(0),o=[0];for(n=0;n<e.length();++n){for(var a=0,u=e.at(n);a<o.length;++a)u+=o[a]<<8,o[a]=u%r,u=u/r|0;for(;u>0;)o.push(u%r),u=u/r|0}var s="";for(n=0;0===e.at(n)&&n<e.length()-1;++n)s+=i;for(n=o.length-1;n>=0;--n)s+=t[o[n]];return s}(e,t);if(n){var f=new RegExp(".{1,"+n+"}","g");r=r.match(f).join("\r\n")}return r},n.decode=function(e,n){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof n)throw new TypeError('"alphabet" must be a string.');var i=r[n];if(!i){i=r[n]=[];for(var o=0;o<n.length;++o)i[n.charCodeAt(o)]=o}e=e.replace(/\s/g,"");var a=n.length,u=n.charAt(0),s=[0];for(o=0;o<e.length;o++){var c=i[e.charCodeAt(o)];if(void 0===c)return;for(var f=0,l=c;f<s.length;++f)l+=s[f]*a,s[f]=255&l,l>>=8;for(;l>0;)s.push(255&l),l>>=8}for(var d=0;e[d]===u&&d<e.length-1;++d)s.push(0);return void 0!==t?t.from(s.reverse()):new Uint8Array(s.reverse())}}).call(this,n(27).Buffer)},function(e,t,n){var r=n(39);n(168),n(51),(e.exports=r.hmac=r.hmac||{}).create=function(){var e=null,t=null,n=null,i=null,o={start:function(o,a){if(null!==o)if("string"==typeof o){if(!((o=o.toLowerCase())in r.md.algorithms))throw new Error('Unknown hash algorithm "'+o+'"');t=r.md.algorithms[o].create()}else t=o;if(null===a)a=e;else{if("string"==typeof a)a=r.util.createBuffer(a);else if(r.util.isArray(a)){var u=a;a=r.util.createBuffer();for(var s=0;s<u.length;++s)a.putByte(u[s])}var c=a.length();c>t.blockLength&&(t.start(),t.update(a.bytes()),a=t.digest()),n=r.util.createBuffer(),i=r.util.createBuffer(),c=a.length();for(s=0;s<c;++s){u=a.at(s);n.putByte(54^u),i.putByte(92^u)}if(c<t.blockLength)for(u=t.blockLength-c,s=0;s<u;++s)n.putByte(54),i.putByte(92);e=a,n=n.bytes(),i=i.bytes()}t.start(),t.update(n)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(i),t.update(e),t.digest()}};return o.digest=o.getMac,o}},function(e,t,n){var r=n(39);n(168),n(51);var i=e.exports=r.sha256=r.sha256||{};r.md.sha256=r.md.algorithms.sha256=i,i.create=function(){a||(o=String.fromCharCode(128),o+=r.util.fillString(String.fromCharCode(0),64),u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=!0);var e=null,t=r.util.createBuffer(),n=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,o=0;o<n;++o)i.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=r.util.encodeUtf8(o));var u=o.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=u[1],u[1]=u[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,u[0]=u[1]/4294967296>>>0;return t.putBytes(o),s(e,n,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=r.util.createBuffer();a.putBytes(t.bytes());var u,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-c));for(var f=8*i.fullMessageLength[0],l=0;l<i.fullMessageLength.length-1;++l)f+=(u=8*i.fullMessageLength[l+1])/4294967296>>>0,a.putInt32(f>>>0),f=u>>>0;a.putInt32(f);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};s(d,n,a);var h=r.util.createBuffer();return h.putInt32(d.h0),h.putInt32(d.h1),h.putInt32(d.h2),h.putInt32(d.h3),h.putInt32(d.h4),h.putInt32(d.h5),h.putInt32(d.h6),h.putInt32(d.h7),h},i};var o=null,a=!1,u=null;function s(e,t,n){for(var r,i,o,a,s,c,f,l,d,h,p,m,y,v=n.length();v>=64;){for(s=0;s<16;++s)t[s]=n.getInt32();for(;s<64;++s)r=((r=t[s-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,i=((i=t[s-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[s]=r+t[s-7]+i+t[s-16]|0;for(c=e.h0,f=e.h1,l=e.h2,d=e.h3,h=e.h4,p=e.h5,m=e.h6,y=e.h7,s=0;s<64;++s)o=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),a=c&f|l&(c^f),r=y+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(m^h&(p^m))+u[s]+t[s],y=m,m=p,p=h,h=d+r>>>0,d=l,l=f,f=c,c=r+(i=o+a)>>>0;e.h0=e.h0+c|0,e.h1=e.h1+f|0,e.h2=e.h2+l|0,e.h3=e.h3+d|0,e.h4=e.h4+h|0,e.h5=e.h5+p|0,e.h6=e.h6+m|0,e.h7=e.h7+y|0,v-=64}}},function(e,t,n){(function(t){var r=n(39);n(51);var i=null;!r.util.isNodejs||r.options.usePureJavaScript||t.versions["node-webkit"]||(i=n(361)),(e.exports=r.prng=r.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},n=e.md,o=new Array(32),a=0;a<32;++a)o[a]=n.create();function u(){if(t.pools[0].messageLength>=32)return s();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),s()}function s(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var n=1,r=0;r<32;++r)t.reseeds%n==0&&(e.update(t.pools[r].digest().getBytes()),t.pools[r].start()),n<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var i=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(i),t.generated=0}function c(e){var t=null,n=r.util.globalScope,i=n.crypto||n.msCrypto;i&&i.getRandomValues&&(t=function(e){return i.getRandomValues(e)});var o=r.util.createBuffer();if(t)for(;o.length()<e;){var a=Math.max(1,Math.min(e-o.length(),65536)/4),u=new Uint32Array(Math.floor(a));try{t(u);for(var s=0;s<u.length;++s)o.putInt32(u[s])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(o.length()<e)for(var c,f,l,d=Math.floor(65536*Math.random());o.length()<e;){f=16807*(65535&d),f+=(32767&(c=16807*(d>>16)))<<16,d=4294967295&(f=(2147483647&(f+=c>>15))+(f>>31));for(s=0;s<3;++s)l=d>>>(s<<3),l^=Math.floor(256*Math.random()),o.putByte(String.fromCharCode(255&l))}return o.getBytes(e)}return t.pools=o,t.pool=0,t.generate=function(e,n){if(!n)return t.generateSync(e);var i=t.plugin.cipher,o=t.plugin.increment,a=t.plugin.formatKey,u=t.plugin.formatSeed,c=r.util.createBuffer();t.key=null,function f(l){if(l)return n(l);if(c.length()>=e)return n(null,c.getBytes(e));t.generated>1048575&&(t.key=null);if(null===t.key)return r.util.nextTick((function(){!function(e){if(t.pools[0].messageLength>=32)return s(),e();var n=32-t.pools[0].messageLength<<5;t.seedFile(n,(function(n,r){if(n)return e(n);t.collect(r),s(),e()}))}(f)}));var d=i(t.key,t.seed);t.generated+=d.length,c.putBytes(d),t.key=a(i(t.key,o(t.seed))),t.seed=u(i(t.key,t.seed)),r.util.setImmediate(f)}()},t.generateSync=function(e){var n=t.plugin.cipher,i=t.plugin.increment,o=t.plugin.formatKey,a=t.plugin.formatSeed;t.key=null;for(var s=r.util.createBuffer();s.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&u();var c=n(t.key,t.seed);t.generated+=c.length,s.putBytes(c),t.key=o(n(t.key,i(t.seed))),t.seed=a(n(t.key,t.seed))}return s.getBytes(e)},i?(t.seedFile=function(e,t){i.randomBytes(e,(function(e,n){if(e)return t(e);t(null,n.toString())}))},t.seedFileSync=function(e){return i.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,c(e))}catch(e){t(e)}},t.seedFileSync=c),t.collect=function(e){for(var n=e.length,r=0;r<n;++r)t.pools[t.pool].update(e.substr(r,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,n){for(var r="",i=0;i<n;i+=8)r+=String.fromCharCode(e>>i&255);t.collect(r)},t.registerWorker=function(e){if(e===self)t.seedFile=function(e,t){self.addEventListener("message",(function e(n){var r=n.data;r.forge&&r.forge.prng&&(self.removeEventListener("message",e),t(r.forge.prng.err,r.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:e}}})};else{e.addEventListener("message",(function(n){var r=n.data;r.forge&&r.forge.prng&&t.seedFile(r.forge.prng.needed,(function(t,n){e.postMessage({forge:{prng:{err:t,bytes:n}}})}))}))}},t}}).call(this,n(49))},function(e,t,n){var r=n(39);n(51);var i=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],o=[1,2,3,5],a=function(e,t){return e<<t&65535|(65535&e)>>16-t},u=function(e,t){return(65535&e)>>t|e<<16-t&65535};e.exports=r.rc2=r.rc2||{},r.rc2.expandKey=function(e,t){"string"==typeof e&&(e=r.util.createBuffer(e)),t=t||128;var n,o=e,a=e.length(),u=t,s=Math.ceil(u/8),c=255>>(7&u);for(n=a;n<128;n++)o.putByte(i[o.at(n-1)+o.at(n-a)&255]);for(o.setAt(128-s,i[o.at(128-s)&c]),n=127-s;n>=0;n--)o.setAt(n,i[o.at(n+1)^o.at(n+s)]);return o};var s=function(e,t,n){var i,s,c,f,l=!1,d=null,h=null,p=null,m=[];for(e=r.rc2.expandKey(e,t),c=0;c<64;c++)m.push(e.getInt16Le());n?(i=function(e){for(c=0;c<4;c++)e[c]+=m[f]+(e[(c+3)%4]&e[(c+2)%4])+(~e[(c+3)%4]&e[(c+1)%4]),e[c]=a(e[c],o[c]),f++},s=function(e){for(c=0;c<4;c++)e[c]+=m[63&e[(c+3)%4]]}):(i=function(e){for(c=3;c>=0;c--)e[c]=u(e[c],o[c]),e[c]-=m[f]+(e[(c+3)%4]&e[(c+2)%4])+(~e[(c+3)%4]&e[(c+1)%4]),f--},s=function(e){for(c=3;c>=0;c--)e[c]-=m[63&e[(c+3)%4]]});var y=function(e){var t=[];for(c=0;c<4;c++){var r=d.getInt16Le();null!==p&&(n?r^=p.getInt16Le():p.putInt16Le(r)),t.push(65535&r)}f=n?0:63;for(var i=0;i<e.length;i++)for(var o=0;o<e[i][0];o++)e[i][1](t);for(c=0;c<4;c++)null!==p&&(n?p.putInt16Le(t[c]):t[c]^=p.getInt16Le()),h.putInt16Le(t[c])},v=null;return v={start:function(e,t){e&&"string"==typeof e&&(e=r.util.createBuffer(e)),l=!1,d=r.util.createBuffer(),h=t||new r.util.createBuffer,p=e,v.output=h},update:function(e){for(l||d.putBuffer(e);d.length()>=8;)y([[5,i],[1,s],[6,i],[1,s],[5,i]])},finish:function(e){var t=!0;if(n)if(e)t=e(8,d,!n);else{var r=8===d.length()?8:8-d.length();d.fillWithByte(r,r)}if(t&&(l=!0,v.update()),!n&&(t=0===d.length()))if(e)t=e(8,h,!n);else{var i=h.length(),o=h.at(i-1);o>i?t=!1:h.truncate(o)}return t}}};r.rc2.startEncrypting=function(e,t,n){var i=r.rc2.createEncryptionCipher(e,128);return i.start(t,n),i},r.rc2.createEncryptionCipher=function(e,t){return s(e,t,!0)},r.rc2.startDecrypting=function(e,t,n){var i=r.rc2.createDecryptionCipher(e,128);return i.start(t,n),i},r.rc2.createDecryptionCipher=function(e,t){return s(e,t,!1)}},function(e,t,n){var r=n(39);n(51),n(169),n(1123);var i=e.exports=r.pkcs1=r.pkcs1||{};function o(e,t,n){n||(n=r.md.sha1.create());for(var i="",o=Math.ceil(t/n.digestLength),a=0;a<o;++a){var u=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,255&a);n.start(),n.update(e+u),i+=n.digest().getBytes()}return i.substring(0,t)}i.encode_rsa_oaep=function(e,t,n){var i,a,u,s;"string"==typeof n?(i=n,a=arguments[3]||void 0,u=arguments[4]||void 0):n&&(i=n.label||void 0,a=n.seed||void 0,u=n.md||void 0,n.mgf1&&n.mgf1.md&&(s=n.mgf1.md)),u?u.start():u=r.md.sha1.create(),s||(s=u);var c=Math.ceil(e.n.bitLength()/8),f=c-2*u.digestLength-2;if(t.length>f)throw(y=new Error("RSAES-OAEP input message length is too long.")).length=t.length,y.maxLength=f,y;i||(i=""),u.update(i,"raw");for(var l=u.digest(),d="",h=f-t.length,p=0;p<h;p++)d+="\0";var m=l.getBytes()+d+""+t;if(a){if(a.length!==u.digestLength){var y;throw(y=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=a.length,y.digestLength=u.digestLength,y}}else a=r.random.getBytes(u.digestLength);var v=o(a,c-u.digestLength-1,s),g=r.util.xorBytes(m,v,m.length),b=o(g,u.digestLength,s),w=r.util.xorBytes(a,b,a.length);return"\0"+w+g},i.decode_rsa_oaep=function(e,t,n){var i,a,u;"string"==typeof n?(i=n,a=arguments[3]||void 0):n&&(i=n.label||void 0,a=n.md||void 0,n.mgf1&&n.mgf1.md&&(u=n.mgf1.md));var s=Math.ceil(e.n.bitLength()/8);if(t.length!==s)throw(g=new Error("RSAES-OAEP encoded message length is invalid.")).length=t.length,g.expectedLength=s,g;if(void 0===a?a=r.md.sha1.create():a.start(),u||(u=a),s<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),a.update(i,"raw");for(var c=a.digest().getBytes(),f=t.charAt(0),l=t.substring(1,a.digestLength+1),d=t.substring(1+a.digestLength),h=o(d,a.digestLength,u),p=r.util.xorBytes(l,h,l.length),m=o(p,s-a.digestLength-1,u),y=r.util.xorBytes(d,m,d.length),v=y.substring(0,a.digestLength),g="\0"!==f,b=0;b<a.digestLength;++b)g|=c.charAt(b)!==v.charAt(b);for(var w=1,E=a.digestLength,_=a.digestLength;_<y.length;_++){var S=y.charCodeAt(_),T=1&S^1,A=w?65534:0;g|=S&A,E+=w&=T}if(g||1!==y.charCodeAt(E))throw new Error("Invalid RSAES-OAEP padding.");return y.substring(E+1)}},function(e,t,n){var r=n(39);n(168),n(51);var i=e.exports=r.sha1=r.sha1||{};r.md.sha1=r.md.algorithms.sha1=i,i.create=function(){a||(o=String.fromCharCode(128),o+=r.util.fillString(String.fromCharCode(0),64),a=!0);var e=null,t=r.util.createBuffer(),n=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,o=0;o<n;++o)i.fullMessageLength.push(0);return t=r.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(o,a){"utf8"===a&&(o=r.util.encodeUtf8(o));var s=o.length;i.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var c=i.fullMessageLength.length-1;c>=0;--c)i.fullMessageLength[c]+=s[1],s[1]=s[0]+(i.fullMessageLength[c]/4294967296>>>0),i.fullMessageLength[c]=i.fullMessageLength[c]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(o),u(e,n,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var a=r.util.createBuffer();a.putBytes(t.bytes());var s,c=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;a.putBytes(o.substr(0,i.blockLength-c));for(var f=8*i.fullMessageLength[0],l=0;l<i.fullMessageLength.length-1;++l)f+=(s=8*i.fullMessageLength[l+1])/4294967296>>>0,a.putInt32(f>>>0),f=s>>>0;a.putInt32(f);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};u(d,n,a);var h=r.util.createBuffer();return h.putInt32(d.h0),h.putInt32(d.h1),h.putInt32(d.h2),h.putInt32(d.h3),h.putInt32(d.h4),h},i};var o=null,a=!1;function u(e,t,n){for(var r,i,o,a,u,s,c,f=n.length();f>=64;){for(i=e.h0,o=e.h1,a=e.h2,u=e.h3,s=e.h4,c=0;c<16;++c)r=n.getInt32(),t[c]=r,r=(i<<5|i>>>27)+(u^o&(a^u))+s+1518500249+r,s=u,u=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<20;++c)r=(r=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|r>>>31,t[c]=r,r=(i<<5|i>>>27)+(u^o&(a^u))+s+1518500249+r,s=u,u=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<32;++c)r=(r=t[c-3]^t[c-8]^t[c-14]^t[c-16])<<1|r>>>31,t[c]=r,r=(i<<5|i>>>27)+(o^a^u)+s+1859775393+r,s=u,u=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<40;++c)r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,t[c]=r,r=(i<<5|i>>>27)+(o^a^u)+s+1859775393+r,s=u,u=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<60;++c)r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,t[c]=r,r=(i<<5|i>>>27)+(o&a|u&(o^a))+s+2400959708+r,s=u,u=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;for(;c<80;++c)r=(r=t[c-6]^t[c-16]^t[c-28]^t[c-32])<<2|r>>>30,t[c]=r,r=(i<<5|i>>>27)+(o^a^u)+s+3395469782+r,s=u,u=a,a=(o<<30|o>>>2)>>>0,o=i,i=r;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+u|0,e.h4=e.h4+s|0,f-=64}}},function(e,t,n){var r=n(39);n(51),n(279),n(169),function(){if(r.prime)e.exports=r.prime;else{var t=e.exports=r.prime=r.prime||{},n=r.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],o=new n(null);o.fromInt(30);var a=function(e,t){return e|t};t.generateProbablePrime=function(e,t,i){"function"==typeof t&&(i=t,t={});var o=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof o&&(o={name:o}),o.options=o.options||{};var a=t.prng||r.random,c={nextBytes:function(e){for(var t=a.getBytesSync(e.length),n=0;n<e.length;++n)e[n]=t.charCodeAt(n)}};if("PRIMEINC"===o.name)return function(e,t,i,o){if("workers"in i)return function(e,t,i,o){if("undefined"==typeof Worker)return u(e,t,i,o);var a=s(e,t),c=i.workers,f=i.workLoad||100,l=30*f/8,d=i.workerScript||"forge/prime.worker.js";if(-1===c)return r.util.estimateCores((function(e,t){e&&(t=2),c=t-1,h()}));function h(){c=Math.max(1,c);for(var r=[],i=0;i<c;++i)r[i]=new Worker(d);for(i=0;i<c;++i)r[i].addEventListener("message",h);var u=!1;function h(i){if(!u){0;var c=i.data;if(c.found){for(var d=0;d<r.length;++d)r[d].terminate();return u=!0,o(null,new n(c.prime,16))}a.bitLength()>e&&(a=s(e,t));var h=a.toString(16);i.target.postMessage({hex:h,workLoad:f}),a.dAddOffset(l,0)}}}h()}(e,t,i,o);return u(e,t,i,o)}(e,c,o.options,i);throw new Error("Invalid prime generation algorithm: "+o.name)}}function u(e,t,n,o){var a=s(e,t),u=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(a.bitLength());"millerRabinTests"in n&&(u=n.millerRabinTests);var c=10;"maxBlockTime"in n&&(c=n.maxBlockTime),function e(t,n,o,a,u,c,f){var l=+new Date;do{if(t.bitLength()>n&&(t=s(n,o)),t.isProbablePrime(u))return f(null,t);t.dAddOffset(i[a++%8],0)}while(c<0||+new Date-l<c);r.util.setImmediate((function(){e(t,n,o,a,u,c,f)}))}(a,e,t,0,u,c,o)}function s(e,t){var r=new n(e,t),i=e-1;return r.testBit(i)||r.bitwiseTo(n.ONE.shiftLeft(i),a,r),r.dAddOffset(31-r.mod(o).byteValue(),0),r}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(131),i=n(130);const o=r.from({prefix:"\0",name:"identity",encode:e=>i.toString(e),decode:e=>i.fromString(e)});t.identity=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(131).rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});t.base2=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(131).rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});t.base8=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(131).baseX({prefix:"9",name:"base10",alphabet:"0123456789"});t.base10=r},function(e,t,n){"use strict";const{base64:r}=n(277),i=n(571);e.exports={import:async function(e,t){const n=r.decode(e),o=i.create();return await o.decrypt(n,t)}}},function(e,t,n){"use strict";const{sha256:r}=n(65),i=n(4),o=n(228),a=n(115);n(364),n(572);const u=n(39),s=n(1132),c=n(359),f=n(366);class l{constructor(e){this._key=e}async verify(e,t){return s.hashAndVerify(this._key,t,e)}marshal(){return s.utils.jwkToPkix(this._key)}get bytes(){return c.PublicKey.encode({Type:c.KeyType.RSA,Data:this.marshal()}).finish()}encrypt(e){return s.encrypt(this._key,e)}equals(e){return o(this.bytes,e.bytes)}async hash(){const{bytes:e}=await r.digest(this.bytes);return e}}class d{constructor(e,t){this._key=e,this._publicKey=t}genSecret(){return s.getRandomValues(16)}async sign(e){return s.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw i(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new l(this._publicKey)}decrypt(e){return s.decrypt(this._key,e)}marshal(){return s.utils.jwkToPkcs1(this._key)}get bytes(){return c.PrivateKey.encode({Type:c.KeyType.RSA,Data:this.marshal()}).finish()}equals(e){return o(this.bytes,e.bytes)}async hash(){const{bytes:e}=await r.digest(this.bytes);return e}async id(){const e=await this.public.hash();return a(e,"base58btc")}async export(e,t="pkcs-8"){if("pkcs-8"===t){const t=new u.util.ByteBuffer(this.marshal()),n=u.asn1.fromDer(t),r=u.pki.privateKeyFromAsn1(n),i={algorithm:"aes256",count:1e4,saltSize:16,prfAlgorithm:"sha512"};return u.pki.encryptRsaPrivateKey(r,e,i)}if("libp2p-key"===t)return f.export(this.bytes,e);throw i(new Error(`export format '${t}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}e.exports={RsaPublicKey:l,RsaPrivateKey:d,unmarshalRsaPublicKey:function(e){const t=s.utils.pkixToJwk(e);return new l(t)},unmarshalRsaPrivateKey:async function(e){const t=s.utils.pkcs1ToJwk(e),n=await s.unmarshalPrivateKey(t);return new d(n.privateKey,n.publicKey)},generateKeyPair:async function(e){const t=await s.generateKey(e);return new d(t.privateKey,t.publicKey)},fromJwk:async function(e){const t=await s.unmarshalPrivateKey(e);return new d(t.privateKey,t.publicKey)}}},function(e,t,n){var r=n(39);n(151);var i=r.asn1;t.privateKeyValidator={name:"PrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},t.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},function(e,t,n){"use strict";const r=n(282),i=n(283),o=n(115),a=n(132);function u(e){return Promise.all([r.get().subtle.exportKey("jwk",e.privateKey),r.get().subtle.exportKey("jwk",e.publicKey)])}t.utils=n(1134),t.generateKey=async function(e){const t=await r.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),n=await u(t);return{privateKey:n[0],publicKey:n[1]}},t.unmarshalPrivateKey=async function(e){const t=[await r.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await(n=e,r.get().subtle.importKey("jwk",{kty:n.kty,n:n.n,e:n.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"]))];var n;const i=await u({privateKey:t[0],publicKey:t[1]});return{privateKey:i[0],publicKey:i[1]}},t.getRandomValues=i,t.hashAndSign=async function(e,t){const n=await r.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),i=await r.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},n,Uint8Array.from(t));return new Uint8Array(i,i.byteOffset,i.byteLength)},t.hashAndVerify=async function(e,t,n){const i=await r.get().subtle.importKey("jwk",e,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return r.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},i,t,n)};const{jwk2pub:s,jwk2priv:c}=n(1135);function f(e,t,n,r){const i=t?s(e):c(e),u=r(o(Uint8Array.from(n),"ascii"),i);return a(u,"ascii")}t.encrypt=function(e,t){return f(e,!0,t,(e,t)=>t.encrypt(e))},t.decrypt=function(e,t){return f(e,!1,t,(e,t)=>t.decrypt(e))}},function(e,t,n){"use strict";e.exports=function(e){const t=new Uint8Array(e);let n=0;if(e>0)if(e>65536)for(;n<e;)n+65536>e?(crypto.getRandomValues(t.subarray(n,n+(e-n))),n+=e-n):(crypto.getRandomValues(t.subarray(n,n+65536)),n+=65536);else crypto.getRandomValues(t);return t}},function(e,t,n){"use strict";n(151),n(278);const r=n(39),{bigIntegerToUintBase64url:i,base64urlToBigInteger:o}=n(365),a=n(132),u=n(115);t.pkcs1ToJwk=function(e){const t=r.asn1.fromDer(u(e,"ascii")),n=r.pki.privateKeyFromAsn1(t);return{kty:"RSA",n:i(n.n),e:i(n.e),d:i(n.d),p:i(n.p),q:i(n.q),dp:i(n.dP),dq:i(n.dQ),qi:i(n.qInv),alg:"RS256",kid:"2011-04-29"}},t.jwkToPkcs1=function(e){const t=r.pki.privateKeyToAsn1({n:o(e.n),e:o(e.e),d:o(e.d),p:o(e.p),q:o(e.q),dP:o(e.dp),dQ:o(e.dq),qInv:o(e.qi)});return a(r.asn1.toDer(t).getBytes(),"ascii")},t.pkixToJwk=function(e){const t=r.asn1.fromDer(u(e,"ascii")),n=r.pki.publicKeyFromAsn1(t);return{kty:"RSA",n:i(n.n),e:i(n.e),alg:"RS256",kid:"2011-04-29"}},t.jwkToPkix=function(e){const t=r.pki.publicKeyToAsn1({n:o(e.n),e:o(e.e)});return a(r.asn1.toDer(t).getBytes(),"ascii")}},function(e,t,n){"use strict";n(278);const r=n(39),{base64urlToBigInteger:i}=n(365);function o(e,t){return t.map(t=>i(e[t]))}e.exports={jwk2pub:function(e){return r.pki.setRsaPublicKey(...o(e,["n","e"]))},jwk2priv:function(e){return r.pki.setRsaPrivateKey(...o(e,["n","e","d","p","q","dp","dq","qi"]))}}},function(e,t,n){"use strict";const r=n(4),i=n(228),{sha256:o}=n(65),{base58btc:a}=n(64),{identity:u}=n(152),s=n(1137),c=n(359),f=n(366);class l{constructor(e){this._key=h(e,s.publicKeyLength)}async verify(e,t){return s.hashAndVerify(this._key,t,e)}marshal(){return this._key}get bytes(){return c.PublicKey.encode({Type:c.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return i(this.bytes,e.bytes)}async hash(){const{bytes:e}=await o.digest(this.bytes);return e}}class d{constructor(e,t){this._key=h(e,s.privateKeyLength),this._publicKey=h(t,s.publicKeyLength)}async sign(e){return s.hashAndSign(this._key,e)}get public(){return new l(this._publicKey)}marshal(){return this._key}get bytes(){return c.PrivateKey.encode({Type:c.KeyType.Ed25519,Data:this.marshal()}).finish()}equals(e){return i(this.bytes,e.bytes)}async hash(){const{bytes:e}=await o.digest(this.bytes);return e}async id(){const e=await u.digest(this.public.bytes);return a.encode(e.bytes).substring(1)}async export(e,t="libp2p-key"){if("libp2p-key"===t)return f.export(this.bytes,e);throw r(new Error(`export format '${t}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function h(e,t){if((e=Uint8Array.from(e||[])).length!==t)throw r(new Error(`Key must be a Uint8Array of length ${t}, got ${e.length}`),"ERR_INVALID_KEY_TYPE");return e}e.exports={Ed25519PublicKey:l,Ed25519PrivateKey:d,unmarshalEd25519PrivateKey:function(e){if(e.length>s.privateKeyLength){const t=(e=h(e,s.privateKeyLength+s.publicKeyLength)).slice(0,s.privateKeyLength),n=e.slice(s.privateKeyLength,e.length);return new d(t,n)}const t=(e=h(e,s.privateKeyLength)).slice(0,s.privateKeyLength),n=e.slice(s.publicKeyLength);return new d(t,n)},unmarshalEd25519PublicKey:function(e){return e=h(e,s.publicKeyLength),new l(e)},generateKeyPair:async function(){const{privateKey:e,publicKey:t}=await s.generateKey();return new d(e,t)},generateKeyPairFromSeed:async function(e){const{privateKey:t,publicKey:n}=await s.generateKeyFromSeed(e);return new d(t,n)}}},function(e,t,n){"use strict";n(572);const r=n(39);t.publicKeyLength=r.pki.ed25519.constants.PUBLIC_KEY_BYTE_LENGTH,t.privateKeyLength=r.pki.ed25519.constants.PRIVATE_KEY_BYTE_LENGTH,t.generateKey=async function(){return r.pki.ed25519.generateKeyPair()},t.generateKeyFromSeed=async function(e){return r.pki.ed25519.generateKeyPair({seed:e})},t.hashAndSign=async function(e,t){return r.pki.ed25519.sign({message:t,privateKey:e})},t.hashAndVerify=async function(e,t,n){return r.pki.ed25519.verify({signature:t,message:n,publicKey:e})}},function(e,t,n){"use strict";const{sha256:r}=n(65),i=n(4),o=n(228),a=n(115),u=n(366);e.exports=(e,t,s)=>{s=s||n(1139)(t);class c{constructor(e){s.validatePublicKey(e),this._key=e}verify(e,t){return s.hashAndVerify(this._key,t,e)}marshal(){return s.compressPublicKey(this._key)}get bytes(){return e.PublicKey.encode({Type:e.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(e){return o(this.bytes,e.bytes)}async hash(){const{bytes:e}=await r.digest(this.bytes);return e}}class f{constructor(e,t){this._key=e,this._publicKey=t||s.computePublicKey(e),s.validatePrivateKey(this._key),s.validatePublicKey(this._publicKey)}sign(e){return s.hashAndSign(this._key,e)}get public(){return new c(this._publicKey)}marshal(){return this._key}get bytes(){return e.PrivateKey.encode({Type:e.KeyType.Secp256k1,Data:this.marshal()}).finish()}equals(e){return o(this.bytes,e.bytes)}async hash(){const{bytes:e}=await r.digest(this.bytes);return e}async id(){const e=await this.public.hash();return a(e,"base58btc")}async export(e,t="libp2p-key"){if("libp2p-key"===t)return u.export(this.bytes,e);throw i(new Error(`export format '${t}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}return{Secp256k1PublicKey:c,Secp256k1PrivateKey:f,unmarshalSecp256k1PrivateKey:function(e){return new f(e)},unmarshalSecp256k1PublicKey:function(e){return new c(e)},generateKeyPair:async function(){const e=await s.generateKey();return new f(e)}}}},function(e,t,n){"use strict";const r=n(1140),{sha256:i}=n(65);e.exports=e=>{function t(e){if(!r.privateKeyVerify(e))throw new Error("Invalid private key")}return{generateKey:function(){let t;do{t=e(32)}while(!r.privateKeyVerify(t));return t},privateKeyLength:32,hashAndSign:async function(e,t){const{digest:n}=await i.digest(t),o=r.ecdsaSign(n,e);return r.signatureExport(o.signature)},hashAndVerify:async function(e,t,n){const{digest:o}=await i.digest(n);return t=r.signatureImport(t),r.ecdsaVerify(t,o,e)},compressPublicKey:function(e){if(!r.publicKeyVerify(e))throw new Error("Invalid public key");return r.publicKeyConvert(e,!0)},decompressPublicKey:function(e){return r.publicKeyConvert(e,!1)},validatePrivateKey:t,validatePublicKey:function(e){if(!r.publicKeyVerify(e))throw new Error("Invalid public key")},computePublicKey:function(e){return t(e),r.publicKeyCreate(e)}}}},function(e,t,n){e.exports=n(1141)(n(1142))},function(e,t){const n="Impossible case. Please create issue.",r="The tweak was out of range or the resulted private key is invalid",i="The tweak was out of range or equal to zero",o="Unknow error on context randomization",a="Private Key is invalid",u="Public Key could not be parsed",s="Public Key serialization error",c="The sum of the public keys is not valid",f="Signature could not be parsed",l="The nonce generation function failed, or the private key was invalid",d="Public key could not be recover",h="Scalar was invalid (zero or overflow)";function p(e,t){if(!e)throw new Error(t)}function m(e,t,n){if(p(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==n)if(Array.isArray(n)){const r=`Expected ${e} to be an Uint8Array with length [${n.join(", ")}]`;p(n.includes(t.length),r)}else{const r=`Expected ${e} to be an Uint8Array with length ${n}`;p(t.length===n,r)}}function y(e){p("Boolean"===g(e),"Expected compressed to be a Boolean")}function v(e=(e=>new Uint8Array(e)),t){return"function"==typeof e&&(e=e(t)),m("output",e,t),e}function g(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=e=>({contextRandomize(t){switch(p(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&m("seed",t,32),e.contextRandomize(t)){case 1:throw new Error(o)}},privateKeyVerify:t=>(m("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(t){switch(m("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(n)}},privateKeyTweakAdd(t,n){switch(m("private key",t,32),m("tweak",n,32),e.privateKeyTweakAdd(t,n)){case 0:return t;case 1:throw new Error(r)}},privateKeyTweakMul(t,n){switch(m("private key",t,32),m("tweak",n,32),e.privateKeyTweakMul(t,n)){case 0:return t;case 1:throw new Error(i)}},publicKeyVerify:t=>(m("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,n=!0,r){switch(m("private key",t,32),y(n),r=v(r,n?33:65),e.publicKeyCreate(r,t)){case 0:return r;case 1:throw new Error(a);case 2:throw new Error(s)}},publicKeyConvert(t,n=!0,r){switch(m("public key",t,[33,65]),y(n),r=v(r,n?33:65),e.publicKeyConvert(r,t)){case 0:return r;case 1:throw new Error(u);case 2:throw new Error(s)}},publicKeyNegate(t,r=!0,i){switch(m("public key",t,[33,65]),y(r),i=v(i,r?33:65),e.publicKeyNegate(i,t)){case 0:return i;case 1:throw new Error(u);case 2:throw new Error(n);case 3:throw new Error(s)}},publicKeyCombine(t,n=!0,r){p(Array.isArray(t),"Expected public keys to be an Array"),p(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)m("public key",e,[33,65]);switch(y(n),r=v(r,n?33:65),e.publicKeyCombine(r,t)){case 0:return r;case 1:throw new Error(u);case 2:throw new Error(c);case 3:throw new Error(s)}},publicKeyTweakAdd(t,n,i=!0,o){switch(m("public key",t,[33,65]),m("tweak",n,32),y(i),o=v(o,i?33:65),e.publicKeyTweakAdd(o,t,n)){case 0:return o;case 1:throw new Error(u);case 2:throw new Error(r)}},publicKeyTweakMul(t,n,r=!0,o){switch(m("public key",t,[33,65]),m("tweak",n,32),y(r),o=v(o,r?33:65),e.publicKeyTweakMul(o,t,n)){case 0:return o;case 1:throw new Error(u);case 2:throw new Error(i)}},signatureNormalize(t){switch(m("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(f)}},signatureExport(t,r){m("signature",t,64);const i={output:r=v(r,72),outputlen:72};switch(e.signatureExport(i,t)){case 0:return r.slice(0,i.outputlen);case 1:throw new Error(f);case 2:throw new Error(n)}},signatureImport(t,r){switch(m("signature",t),r=v(r,64),e.signatureImport(r,t)){case 0:return r;case 1:throw new Error(f);case 2:throw new Error(n)}},ecdsaSign(t,r,i={},o){m("message",t,32),m("private key",r,32),p("Object"===g(i),"Expected options to be an Object"),void 0!==i.data&&m("options.data",i.data),void 0!==i.noncefn&&p("Function"===g(i.noncefn),"Expected options.noncefn to be a Function");const a={signature:o=v(o,64),recid:null};switch(e.ecdsaSign(a,t,r,i.data,i.noncefn)){case 0:return a;case 1:throw new Error(l);case 2:throw new Error(n)}},ecdsaVerify(t,n,r){switch(m("signature",t,64),m("message",n,32),m("public key",r,[33,65]),e.ecdsaVerify(t,n,r)){case 0:return!0;case 3:return!1;case 1:throw new Error(f);case 2:throw new Error(u)}},ecdsaRecover(t,r,i,o=!0,a){switch(m("signature",t,64),p("Number"===g(r)&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),m("message",i,32),y(o),a=v(a,o?33:65),e.ecdsaRecover(a,t,r,i)){case 0:return a;case 1:throw new Error(f);case 2:throw new Error(d);case 3:throw new Error(n)}},ecdh(t,n,r={},i){switch(m("public key",t,[33,65]),m("private key",n,32),p("Object"===g(r),"Expected options to be an Object"),void 0!==r.data&&m("options.data",r.data),void 0!==r.hashfn?(p("Function"===g(r.hashfn),"Expected options.hashfn to be a Function"),void 0!==r.xbuf&&m("options.xbuf",r.xbuf,32),void 0!==r.ybuf&&m("options.ybuf",r.ybuf,32),m("output",i)):i=v(i,32),e.ecdh(i,t,n,r.data,r.hashfn,r.xbuf,r.ybuf)){case 0:return i;case 1:throw new Error(u);case 2:throw new Error(h)}}})},function(e,t,n){const r=new(0,n(253).ec)("secp256k1"),i=r.curve,o=i.n.constructor;function a(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let n=new o(t);if(n.cmp(i.p)>=0)return null;n=n.toRed(i.red);let a=n.redSqr().redIMul(n).redIAdd(i.b).redSqrt();return 3===e!==a.isOdd()&&(a=a.redNeg()),r.keyPair({pub:{x:n,y:a}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,n){let a=new o(t),u=new o(n);if(a.cmp(i.p)>=0||u.cmp(i.p)>=0)return null;if(a=a.toRed(i.red),u=u.toRed(i.red),(6===e||7===e)&&u.isOdd()!==(7===e))return null;const s=a.redSqr().redIMul(a);return u.redSqr().redISub(s.redIAdd(i.b)).isZero()?r.keyPair({pub:{x:a,y:u}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function u(e,t){const n=t.encode(null,33===e.length);for(let t=0;t<e.length;++t)e[t]=n[t]}e.exports={contextRandomize:()=>0,privateKeyVerify(e){const t=new o(e);return t.cmp(i.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new o(e),n=i.n.sub(t).umod(i.n).toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakAdd(e,t){const n=new o(t);if(n.cmp(i.n)>=0)return 1;if(n.iadd(new o(e)),n.cmp(i.n)>=0&&n.isub(i.n),n.isZero())return 1;const r=n.toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakMul(e,t){let n=new o(t);if(n.cmp(i.n)>=0||n.isZero())return 1;n.imul(new o(e)),n.cmp(i.n)>=0&&(n=n.umod(i.n));const r=n.toArrayLike(Uint8Array,"be",32);return e.set(r),0},publicKeyVerify:e=>null===a(e)?1:0,publicKeyCreate(e,t){const n=new o(t);if(n.cmp(i.n)>=0||n.isZero())return 1;return u(e,r.keyFromPrivate(t).getPublic()),0},publicKeyConvert(e,t){const n=a(t);if(null===n)return 1;return u(e,n.getPublic()),0},publicKeyNegate(e,t){const n=a(t);if(null===n)return 1;const r=n.getPublic();return r.y=r.y.redNeg(),u(e,r),0},publicKeyCombine(e,t){const n=new Array(t.length);for(let e=0;e<t.length;++e)if(n[e]=a(t[e]),null===n[e])return 1;let r=n[0].getPublic();for(let e=1;e<n.length;++e)r=r.add(n[e].pub);return r.isInfinity()?2:(u(e,r),0)},publicKeyTweakAdd(e,t,n){const r=a(t);if(null===r)return 1;if((n=new o(n)).cmp(i.n)>=0)return 2;const s=r.getPublic().add(i.g.mul(n));return s.isInfinity()?2:(u(e,s),0)},publicKeyTweakMul(e,t,n){const r=a(t);if(null===r)return 1;if((n=new o(n)).cmp(i.n)>=0||n.isZero())return 2;return u(e,r.getPublic().mul(n)),0},signatureNormalize(e){const t=new o(e.subarray(0,32)),n=new o(e.subarray(32,64));return t.cmp(i.n)>=0||n.cmp(i.n)>=0?1:(1===n.cmp(r.nh)&&e.set(i.n.sub(n).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const n=t.subarray(0,32),r=t.subarray(32,64);if(new o(n).cmp(i.n)>=0)return 1;if(new o(r).cmp(i.n)>=0)return 1;const{output:a}=e;let u=a.subarray(4,37);u[0]=0,u.set(n,1);let s=33,c=0;for(;s>1&&0===u[c]&&!(128&u[c+1]);--s,++c);if(u=u.subarray(c),128&u[0])return 1;if(s>1&&0===u[0]&&!(128&u[1]))return 1;let f=a.subarray(39,72);f[0]=0,f.set(r,1);let l=33,d=0;for(;l>1&&0===f[d]&&!(128&f[d+1]);--l,++d);return f=f.subarray(d),128&f[0]||l>1&&0===f[0]&&!(128&f[1])?1:(e.outputlen=6+s+l,a[0]=48,a[1]=e.outputlen-2,a[2]=2,a[3]=u.length,a.set(u,4),a[4+s]=2,a[5+s]=f.length,a.set(f,6+s),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const n=t[3];if(0===n)return 1;if(5+n>=t.length)return 1;if(2!==t[4+n])return 1;const r=t[5+n];if(0===r)return 1;if(6+n+r!==t.length)return 1;if(128&t[4])return 1;if(n>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[n+6])return 1;if(r>1&&0===t[n+6]&&!(128&t[n+7]))return 1;let a=t.subarray(4,4+n);if(33===a.length&&0===a[0]&&(a=a.subarray(1)),a.length>32)return 1;let u=t.subarray(6+n);if(33===u.length&&0===u[0]&&(u=u.slice(1)),u.length>32)throw new Error("S length is too long");let s=new o(a);s.cmp(i.n)>=0&&(s=new o(0));let c=new o(t.subarray(6+n));return c.cmp(i.n)>=0&&(c=new o(0)),e.set(s.toArrayLike(Uint8Array,"be",32),0),e.set(c.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,n,a,u){if(u){const e=u;u=r=>{const i=e(t,n,null,a,r);if(!(i instanceof Uint8Array&&32===i.length))throw new Error("This is the way");return new o(i)}}const s=new o(n);if(s.cmp(i.n)>=0||s.isZero())return 1;let c;try{c=r.sign(t,n,{canonical:!0,k:u,pers:a})}catch(e){return 1}return e.signature.set(c.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(c.s.toArrayLike(Uint8Array,"be",32),32),e.recid=c.recoveryParam,0},ecdsaVerify(e,t,n){const u={r:e.subarray(0,32),s:e.subarray(32,64)},s=new o(u.r),c=new o(u.s);if(s.cmp(i.n)>=0||c.cmp(i.n)>=0)return 1;if(1===c.cmp(r.nh)||s.isZero()||c.isZero())return 3;const f=a(n);if(null===f)return 2;const l=f.getPublic();return r.verify(t,u,l)?0:3},ecdsaRecover(e,t,n,a){const s={r:t.slice(0,32),s:t.slice(32,64)},c=new o(s.r),f=new o(s.s);if(c.cmp(i.n)>=0||f.cmp(i.n)>=0)return 1;if(c.isZero()||f.isZero())return 2;let l;try{l=r.recoverPubKey(a,s,n)}catch(e){return 2}return u(e,l),0},ecdh(e,t,n,u,s,c,f){const l=a(t);if(null===l)return 1;const d=new o(n);if(d.cmp(i.n)>=0||d.isZero())return 2;const h=l.getPublic().mul(d);if(void 0===s){const t=h.encode(null,!0),n=r.hash().update(t).digest();for(let t=0;t<32;++t)e[t]=n[t]}else{c||(c=new Uint8Array(32));const t=h.getX().toArray("be",32);for(let e=0;e<32;++e)c[e]=t[e];f||(f=new Uint8Array(32));const n=h.getY().toArray("be",32);for(let e=0;e<32;++e)f[e]=n[e];const r=s(c,f,u);if(!(r instanceof Uint8Array&&r.length===e.length))return 2;e.set(r)}return 0}}},function(e,t,n){"use strict";const r=n(4),i=n(227),o=n(132),a=n(573),u={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};e.exports=async(e,t,n)=>{const s=u[e];if(!s){const t=Object.keys(u).join(" / ");throw r(new Error(`unknown cipher type '${e}'. Must be ${t}`),"ERR_INVALID_CIPHER_TYPE")}if(!t)throw r(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");const c=s.keySize,f=s.ivSize,l=o("key expansion"),d=2*(f+c+20),h=await a.create(t,n);let p=await h.digest(l);const m=[];let y=0;for(;y<d;){const e=await h.digest(i([p,l]));let t=e.length;y+t>d&&(t=d-y),m.push(e),y+=t,p=await h.digest(p)}const v=d/2,g=i(m),b=g.slice(0,v),w=g.slice(v,d),E=e=>({iv:e.slice(0,f),cipherKey:e.slice(f,f+c),macKey:e.slice(f+c)});return{k1:E(b),k2:E(w)}}},function(e,t,n){"use strict";e.exports={SHA1:20,SHA256:32,SHA512:64}},function(e,t,n){"use strict";const r=n(1146);e.exports=async e=>r.generateEphmeralKeyPair(e)},function(e,t,n){"use strict";const r=n(4),i=n(282),{base64urlToBuffer:o}=n(365),a=n(1147),u=n(115),s=n(227),c=n(228),f={"P-256":256,"P-384":384,"P-521":521};t.generateEphmeralKeyPair=async function(e){a(Object.keys(f),e);const t=await i.get().subtle.generateKey({name:"ECDH",namedCurve:e},!0,["deriveBits"]);return{key:d(await i.get().subtle.exportKey("jwk",t.publicKey)),genSharedKey:async(n,r)=>{let o;o=r?await i.get().subtle.importKey("jwk",p(e,r),{name:"ECDH",namedCurve:e},!1,["deriveBits"]):t.privateKey;const a=[await i.get().subtle.importKey("jwk",h(e,n),{name:"ECDH",namedCurve:e},!1,[]),o],u=await i.get().subtle.deriveBits({name:"ECDH",namedCurve:e,public:a[0]},a[1],f[e]);return new Uint8Array(u,u.byteOffset,u.byteLength)}}};const l={"P-256":32,"P-384":48,"P-521":66};function d(e){const t=l[e.crv];return s([Uint8Array.from([4]),o(e.x,t),o(e.y,t)],1+2*t)}function h(e,t){const n=l[e];if(c(!t.slice(0,1),Uint8Array.from([4])))throw r(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:e,x:u(t.slice(1,n+1),"base64url"),y:u(t.slice(1+n),"base64url"),ext:!0}}const p=(e,t)=>({...h(e,t.public),d:u(t.private,"base64url")})},function(e,t,n){"use strict";const r=n(4);e.exports=function(e,t){if(!e.includes(t)){const n=e.join(" / ");throw r(new Error(`Unknown curve: ${t}. Must be ${n}`),"ERR_INVALID_CURVE")}}},function(e,t,n){"use strict";var r=n(80),i=r.Reader,o=r.Writer,a=r.util,u=r.roots["libp2p-peer-id"]||(r.roots["libp2p-peer-id"]={});u.PeerIdProto=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.id=a.newBuffer([]),e.prototype.pubKey=a.newBuffer([]),e.prototype.privKey=a.newBuffer([]),e.encode=function(e,t){return t||(t=o.create()),t.uint32(10).bytes(e.id),null!=e.pubKey&&Object.hasOwnProperty.call(e,"pubKey")&&t.uint32(18).bytes(e.pubKey),null!=e.privKey&&Object.hasOwnProperty.call(e,"privKey")&&t.uint32(26).bytes(e.privKey),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.PeerIdProto;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.bytes();break;case 2:r.pubKey=e.bytes();break;case 3:r.privKey=e.bytes();break;default:e.skipType(7&o)}}if(!r.hasOwnProperty("id"))throw a.ProtocolError("missing required 'id'",{instance:r});return r},e.fromObject=function(e){if(e instanceof u.PeerIdProto)return e;var t=new u.PeerIdProto;return null!=e.id&&("string"==typeof e.id?a.base64.decode(e.id,t.id=a.newBuffer(a.base64.length(e.id)),0):e.id.length&&(t.id=e.id)),null!=e.pubKey&&("string"==typeof e.pubKey?a.base64.decode(e.pubKey,t.pubKey=a.newBuffer(a.base64.length(e.pubKey)),0):e.pubKey.length&&(t.pubKey=e.pubKey)),null!=e.privKey&&("string"==typeof e.privKey?a.base64.decode(e.privKey,t.privKey=a.newBuffer(a.base64.length(e.privKey)),0):e.privKey.length&&(t.privKey=e.privKey)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.id="":(n.id=[],t.bytes!==Array&&(n.id=a.newBuffer(n.id))),t.bytes===String?n.pubKey="":(n.pubKey=[],t.bytes!==Array&&(n.pubKey=a.newBuffer(n.pubKey))),t.bytes===String?n.privKey="":(n.privKey=[],t.bytes!==Array&&(n.privKey=a.newBuffer(n.privKey)))),null!=e.id&&e.hasOwnProperty("id")&&(n.id=t.bytes===String?a.base64.encode(e.id,0,e.id.length):t.bytes===Array?Array.prototype.slice.call(e.id):e.id),null!=e.pubKey&&e.hasOwnProperty("pubKey")&&(n.pubKey=t.bytes===String?a.base64.encode(e.pubKey,0,e.pubKey.length):t.bytes===Array?Array.prototype.slice.call(e.pubKey):e.pubKey),null!=e.privKey&&e.hasOwnProperty("privKey")&&(n.privKey=t.bytes===String?a.base64.encode(e.privKey,0,e.privKey.length):t.bytes===Array?Array.prototype.slice.call(e.privKey):e.privKey),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e.exports=u},function(e,t,n){"use strict";const r=n(1150),i=n(1151);t.create=async function(e,t){const n=i(e),o=r.createCipheriv(n,e,t),a=r.createDecipheriv(n,e,t);return{encrypt:async e=>o.update(e),decrypt:async e=>a.update(e)}}},function(e,t,n){"use strict";n(226);const r=n(39),i=n(115),o=n(132);e.exports={createCipheriv:(e,t,n)=>{const a=r.cipher.createCipher("AES-CTR",i(t,"ascii"));return a.start({iv:i(n,"ascii")}),{update:e=>(a.update(r.util.createBuffer(i(e,"ascii"))),o(a.output.getBytes(),"ascii"))}},createDecipheriv:(e,t,n)=>{const a=r.cipher.createDecipher("AES-CTR",i(t,"ascii"));return a.start({iv:i(n,"ascii")}),{update:e=>(a.update(r.util.createBuffer(i(e,"ascii"))),o(a.output.getBytes(),"ascii"))}}}},function(e,t,n){"use strict";const r=n(4),i={16:"aes-128-ctr",32:"aes-256-ctr"};e.exports=function(e){const t=i[e.length];if(!t){const t=Object.entries(i).map(([e,t])=>`${e} (${t})`).join(" / ");throw r(new Error(`Invalid key length ${e.length} bytes. Must be ${t}`),"ERR_INVALID_KEY_LENGTH")}return t}},function(e,t,n){"use strict";const r=n(569),i=n(51),o=n(4),a={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};e.exports=function(e,t,n,u,s){const c=a[s];if(!c){const e=Object.keys(a).join(" / ");throw o(new Error(`Hash '${s}' is unknown or not supported. Must be ${e}`),"ERR_UNSUPPORTED_HASH_TYPE")}const f=r(e,t,n,u,c);return i.encode64(f)}},function(e,t,n){"use strict";const r=n(1154),i=n(285),o=n(103),a=n(577),u=n(284);function s(e){const t=[],n=e.split("/").slice(1);if(1===n.length&&""===n[0])return[];for(let r=0;r<n.length;r++){const o=n[r],a=i(o);if(0!==a.size){if(r++,r>=n.length)throw b("invalid address: "+e);if(a.path){t.push([o,g(n.slice(r).join("/"))]);break}t.push([o,n[r]])}else t.push([o])}return t}function c(e){const t=[];return e.map(e=>{const n=w(e);return t.push(n.name),e.length>1&&t.push(e[1]),null}),g(t.join("/"))}function f(e){return e.map(e=>{Array.isArray(e)||(e=[e]);const t=w(e);return e.length>1?[t.code,r.toBytes(t.code,e[1])]:[t.code]})}function l(e){return e.map(e=>{const t=w(e);return e[1]?[t.code,r.toString(t.code,e[1])]:[t.code]})}function d(e){return y(a(e.map(e=>{const t=w(e);let n=Uint8Array.from(o.encode(t.code));return e.length>1&&(n=a([n,e[1]])),n})))}function h(e,t){if(e.size>0)return e.size/8;if(0===e.size)return 0;return o.decode(t)+o.decode.bytes}function p(e){const t=[];let n=0;for(;n<e.length;){const r=o.decode(e,n),a=o.decode.bytes,s=h(i(r),e.slice(n+a));if(0===s){t.push([r]),n+=a;continue}const c=e.slice(n+a,n+a+s);if(n+=s+a,n>e.length)throw b("Invalid address Uint8Array: "+u(e,"base16"));t.push([r,c])}return t}function m(e){return d(f(s(e=g(e))))}function y(e){const t=v(e);if(t)throw t;return Uint8Array.from(e)}function v(e){try{p(e)}catch(e){return e}}function g(e){return"/"+e.trim().split("/").filter(e=>e).join("/")}function b(e){return new Error("Error parsing address: "+e)}function w(e){return i(e[0])}e.exports={stringToStringTuples:s,stringTuplesToString:c,tuplesToStringTuples:l,stringTuplesToTuples:f,bytesToTuples:p,tuplesToBytes:d,bytesToString:function(e){const t=p(e);return c(l(t))},stringToBytes:m,fromString:function(e){return m(e)},fromBytes:y,validateBytes:v,isValidBytes:function(e){return void 0===v(e)},cleanPath:g,ParseError:b,protoFromTuple:w,sizeForAddr:h}},function(e,t,n){"use strict";const r=n(1155),i=n(285),{CID:o}=n(12),{base32:a}=n(85),{base58btc:u}=n(64),s=n(84),c=n(103),f=n(284),l=n(1160),d=n(577);function h(e,t){return t instanceof Uint8Array?h.toString(e,t):h.toBytes(e,t)}function p(e){if(!r.isIP(e))throw new Error("invalid ip address");return r.toBytes(e)}function m(e){const t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e),new Uint8Array(t)}function y(e){return new DataView(e.buffer).getUint16(e.byteOffset)}function v(e){const t=e.slice(0,e.length-2),n=e.slice(e.length-2);return f(t,"base32")+":"+y(n)}e.exports=h,h.toString=function(e,t){switch(i(e).code){case 4:case 41:return function(e){const t=r.toString(e);if(!t||!r.isIP(t))throw new Error("invalid ip address");return t}(t);case 6:case 273:case 33:case 132:return y(t).toString();case 53:case 54:case 55:case 56:case 400:case 777:return function(e){const t=c.decode(e);if((e=e.slice(c.decode.bytes)).length!==t)throw new Error("inconsistent lengths");return f(e)}(t);case 421:return function(e){const t=c.decode(e),n=e.slice(c.decode.bytes);if(n.length!==t)throw new Error("inconsistent lengths");return f(n,"base58btc")}(t);case 444:case 445:return v(t);default:return f(t,"base16")}},h.toBytes=function(e,t){switch(i(e).code){case 4:case 41:return p(t);case 6:case 273:case 33:case 132:return m(parseInt(t,10));case 53:case 54:case 55:case 56:case 400:case 777:return function(e){const t=l(e),n=Uint8Array.from(c.encode(t.length));return d([n,t],n.length+t.length)}(t);case 421:return function(e){let t;t="Q"===e[0]||"1"===e[0]?s.decode(u.decode("z"+e)).bytes:o.parse(e).multihash.bytes;const n=Uint8Array.from(c.encode(t.length));return d([n,t],n.length+t.length)}(t);case 444:return function(e){const t=e.split(":");if(2!==t.length)throw new Error("failed to parse onion addr: "+t+" does not contain a port number");if(16!==t[0].length)throw new Error("failed to parse onion addr: "+t[0]+" not a Tor onion address.");const n=a.decode("b"+t[0]),r=parseInt(t[1],10);if(r<1||r>65536)throw new Error("Port number is not in range(1, 65536)");const i=m(r);return d([n,i],n.length+i.length)}(t);case 445:return function(e){const t=e.split(":");if(2!==t.length)throw new Error("failed to parse onion addr: "+t+" does not contain a port number");if(56!==t[0].length)throw new Error("failed to parse onion addr: "+t[0]+" not a Tor onion3 address.");const n=a.decode("b"+t[0]),r=parseInt(t[1],10);if(r<1||r>65536)throw new Error("Port number is not in range(1, 65536)");const i=m(r);return d([n,i],n.length+i.length)}(t);default:return l(t,"base16")}}},function(e,t,n){"use strict";const r=n(1156),i=n(284),o=r,a=r.v4,u=r.v6,s=function(e,t,n){let r;if(n=~~n,a(e))r=t||new Uint8Array(n+4),e.split(/\./g).map((function(e){r[n++]=255&parseInt(e,10)}));else if(u(e)){const o=e.split(":",8);let u;for(u=0;u<o.length;u++){let e;a(o[u])&&(e=s(o[u]),o[u]=i(e.slice(0,2),"base16")),e&&++u<8&&o.splice(u,0,i(e.slice(2,4),"base16"))}if(""===o[0])for(;o.length<8;)o.unshift("0");else if(""===o[o.length-1])for(;o.length<8;)o.push("0");else if(o.length<8){for(u=0;u<o.length&&""!==o[u];u++);const e=[u,"1"];for(u=9-o.length;u>0;u--)e.push("0");o.splice.apply(o,e)}for(r=t||new Uint8Array(n+16),u=0;u<o.length;u++){const e=parseInt(o[u],16);r[n++]=e>>8&255,r[n++]=255&e}}if(!r)throw Error("Invalid ip address: "+e);return r};e.exports={isIP:o,isV4:a,isV6:u,toBytes:s,toString:function(e,t,n){t=~~t,n=n||e.length-t;const r=[];let i;const o=new DataView(e.buffer);if(4===n){for(let i=0;i<n;i++)r.push(e[t+i]);i=r.join(".")}else if(16===n){for(let e=0;e<n;e+=2)r.push(o.getUint16(t+e).toString(16));i=r.join(":"),i=i.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),i=i.replace(/:{3,4}/,"::")}return i}}},function(e,t,n){"use strict";const r=n(575),i=e=>r({exact:!0}).test(e);i.v4=e=>r.v4({exact:!0}).test(e),i.v6=e=>r.v6({exact:!0}).test(e),i.version=e=>i(e)?i.v4(e)?4:6:void 0,e.exports=i},function(e,t){e.exports=function e(t,r,i){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");r=r||[];var o=i=i||0;for(;t>=n;)r[i++]=255&t|128,t/=128;for(;-128&t;)r[i++]=255&t|128,t>>>=7;return r[i]=0|t,e.bytes=i-o+1,r};var n=Math.pow(2,31)},function(e,t){e.exports=function e(t,n){var r,i=0,o=0,a=n=n||0,u=t.length;do{if(a>=u||o>49)throw e.bytes=0,new RangeError("Could not decode varint");r=t[a++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=a-n,i}},function(e,t){var n=Math.pow(2,7),r=Math.pow(2,14),i=Math.pow(2,21),o=Math.pow(2,28),a=Math.pow(2,35),u=Math.pow(2,42),s=Math.pow(2,49),c=Math.pow(2,56),f=Math.pow(2,63);e.exports=function(e){return e<n?1:e<r?2:e<i?3:e<o?4:e<a?5:e<u?6:e<s?7:e<c?8:e<f?9:10}},function(e,t,n){"use strict";const r=n(576);e.exports=function(e,t="utf8"){const n=r[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${e}`)}},function(e,t,n){"use strict";e.exports=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}},function(e,t,n){"use strict";const r=n(57).bind({ignoreUndefined:!0}),{isTest:i}=n(275),o=n(6)("ipfs"),a=n(4),{UnixFS:u}=n(77),s=n(42),c=n(153),{identity:f}=n(152),{bases:l,hashes:d,codecs:h}=n(280),p=n(1173),{AlreadyInitializedError:m}=n(171),y=n(44),v=n(1174),g=n(1180),b=n(1181),w=n(1188),E=n(1189),_=n(1190),S=n(1224),T=n(1252),A=n(1261),P=n(1262),k=n(1263),x=n(1267),C=n(1273),R=n(1278),I=n(1318),O=n(1319),M=n(613),N=n(1320),D=n(1330),L=n(1333),j=n(1334),B=n(1345),F=n(1353),U=n(1363),q=n(1366),H=n(1368),K=n(1744),V=n(369),z=n(1767),W=n(1773),G=n(1774),$=n(1775),J=n(637),Q=n(638),Y=n(639);class X{constructor({print:e,storage:t,codecs:n,options:r}){const{peerId:i,repo:o,keychain:u}=t,s=V.create(K),c=D(r.preload),f=b(),h=w({network:s}),p=new S(r);this.hashers=new Q({hashers:Object.values(d).concat(r.ipld&&r.ipld.hashers?r.ipld.hashers:[]),loadHasher:r.ipld&&r.ipld.loadHasher}),this.bases=new Y({bases:Object.values(l).concat(r.ipld&&r.ipld.bases?r.ipld.bases:[]),loadBase:r.ipld&&r.ipld.loadBase});const m=new _({repo:o,codecs:n}),y=new C({codecs:n,hashers:this.hashers,preload:c,repo:o}),H=new T({dns:f,ipns:p,repo:o,codecs:n,peerId:i,isOnline:h,keychain:u,options:r}),J=E({repo:o,codecs:n,bases:this.bases,name:H}),X=new N({repo:o,codecs:n,hashers:this.hashers,preload:c}),Z=Object.assign(A({repo:o,codecs:n,resolve:J,preload:c}),{local:P({repo:t.repo})}),{add:ee,addAll:te,cat:ne,get:re,ls:ie}=new R({preload:c,repo:o,options:r.EXPERIMENTAL}),oe=j({repo:o,preload:c,hashers:this.hashers,options:r}),ae=L({files:oe,preload:c,options:r.preload});this.preload=c,this.name=H,this.ipns=p,this.pin=m,this.resolve=J,this.block=y,this.refs=Z,this.start=v({network:s,peerId:i,repo:o,preload:c,ipns:p,mfsPreload:ae,print:e,keychain:u,options:r}),this.stop=g({network:s,preload:c,mfsPreload:ae,ipns:p,repo:o}),this.dht=G({network:s,repo:o}),this.pubsub=$({network:s,config:r.config}),this.dns=f,this.isOnline=h,this.id=O({network:s,peerId:i}),this.version=I({repo:o}),this.bitswap=new k({network:s}),this.bootstrap=new x({repo:o}),this.config=M({repo:o}),this.ping=W({network:s}),this.add=ee,this.addAll=te,this.cat=ne,this.get=re,this.ls=ie,this.dag=X,this.files=oe,this.key=new B({keychain:u}),this.object=new F({preload:c,codecs:n,repo:o}),this.repo=new U({repo:o,hashers:this.hashers}),this.stats=new q({repo:o,network:s}),this.swarm=new z({network:s}),Object.defineProperty(this,"libp2p",{get(){const e=s.try();return e?e.libp2p:void 0}});const ue=()=>Promise.reject(a(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED"));this.commands=ue,this.diag={cmds:ue,net:ue,sys:ue},this.log={level:ue,ls:ue,tail:async function*(){throw a(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}},this.mount=ue,this.codecs=n}async init(){throw new m}static async create(e={}){const t=(e=r(ee(),e)).init||{},n={name:f.name,code:f.code,encode:e=>e,decode:e=>e},i=new J({codecs:Object.values(h).concat([s,c,n]).concat(e.ipld&&e.ipld.codecs||[]),loadCodec:e.ipld&&e.ipld.loadCodec}),a=e.silent?o:console.log,u=await H.start(a,i,e),l=await u.repo.config.getAll(),d=new X({storage:u,print:a,codecs:i,options:{...e,config:l}});if(await d.preload.start(),d.ipns.startOffline(u),u.isNew&&!t.emptyRepo){const e=await Z(d);o("adding default assets"),await p({addAll:d.addAll,print:a}),o("initializing IPNS keyspace"),await d.ipns.initializeKeyspace(u.peerId.privKey,y("/ipfs/"+e))}return!1!==e.start&&await d.start(),d}}e.exports=X;const Z=async e=>{const t=s.encode({Data:new u({type:"directory"}).marshal(),Links:[]}),n=await e.block.put(t,{mhtype:"sha2-256",format:"dag-pb"});return await e.pin.add(n),n},ee=()=>({start:!0,EXPERIMENTAL:{},preload:{enabled:!i,addresses:["/dns4/node0.preload.ipfs.io/https","/dns4/node1.preload.ipfs.io/https","/dns4/node2.preload.ipfs.io/https","/dns4/node3.preload.ipfs.io/https"]}})},function(e,t,n){e.exports=function(e){function t(e){let n,i,o,a=null;function u(...e){if(!u.enabled)return;const r=u,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return"%";a++;const o=t.formatters[i];if("function"==typeof o){const t=e[a];n=o.call(r,t),e.splice(a,1),a--}return n}),t.formatArgs.call(r,e);(r.log||t.log).apply(r,e)}return u.namespace=e,u.useColors=t.useColors(),u.color=t.selectColor(e),u.extend=r,u.destroy=t.destroy,Object.defineProperty(u,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{a=e}}),"function"==typeof t.init&&t.init(u),u}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(1164),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var n=1e3,r=6e4,i=60*r,o=24*i;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return a(e,t,o,"day");if(t>=i)return a(e,t,i,"hour");if(t>=r)return a(e,t,r,"minute");if(t>=n)return a(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var r=n(80),i=r.Reader,o=r.Writer,a=r.util,u=r.roots["ipfs-unixfs"]||(r.roots["ipfs-unixfs"]={});u.Data=function(){function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.Type=0,e.prototype.Data=a.newBuffer([]),e.prototype.filesize=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=a.emptyArray,e.prototype.hashType=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.fanout=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=o.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var n=0;n<e.blocksizes.length;++n)t.uint32(32).uint64(e.blocksizes[n]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&u.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Data;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.Type=e.int32();break;case 2:r.Data=e.bytes();break;case 3:r.filesize=e.uint64();break;case 4:if(r.blocksizes&&r.blocksizes.length||(r.blocksizes=[]),2==(7&o))for(var s=e.uint32()+e.pos;e.pos<s;)r.blocksizes.push(e.uint64());else r.blocksizes.push(e.uint64());break;case 5:r.hashType=e.uint64();break;case 6:r.fanout=e.uint64();break;case 7:r.mode=e.uint32();break;case 8:r.mtime=u.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&o)}}if(!r.hasOwnProperty("Type"))throw a.ProtocolError("missing required 'Type'",{instance:r});return r},e.fromObject=function(e){if(e instanceof u.Data)return e;var t=new u.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"==typeof e.Data?a.base64.decode(e.Data,t.Data=a.newBuffer(a.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&(a.Long?(t.filesize=a.Long.fromValue(e.filesize)).unsigned=!0:"string"==typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"==typeof e.filesize?t.filesize=e.filesize:"object"==typeof e.filesize&&(t.filesize=new a.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var n=0;n<e.blocksizes.length;++n)a.Long?(t.blocksizes[n]=a.Long.fromValue(e.blocksizes[n])).unsigned=!0:"string"==typeof e.blocksizes[n]?t.blocksizes[n]=parseInt(e.blocksizes[n],10):"number"==typeof e.blocksizes[n]?t.blocksizes[n]=e.blocksizes[n]:"object"==typeof e.blocksizes[n]&&(t.blocksizes[n]=new a.LongBits(e.blocksizes[n].low>>>0,e.blocksizes[n].high>>>0).toNumber(!0))}if(null!=e.hashType&&(a.Long?(t.hashType=a.Long.fromValue(e.hashType)).unsigned=!0:"string"==typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"==typeof e.hashType?t.hashType=e.hashType:"object"==typeof e.hashType&&(t.hashType=new a.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&(a.Long?(t.fanout=a.Long.fromValue(e.fanout)).unsigned=!0:"string"==typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"==typeof e.fanout?t.fanout=e.fanout:"object"==typeof e.fanout&&(t.fanout=new a.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!=typeof e.mtime)throw TypeError(".Data.mtime: object expected");t.mtime=u.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.blocksizes=[]),t.defaults){if(n.Type=t.enums===String?"Raw":0,t.bytes===String?n.Data="":(n.Data=[],t.bytes!==Array&&(n.Data=a.newBuffer(n.Data))),a.Long){var r=new a.Long(0,0,!0);n.filesize=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.filesize=t.longs===String?"0":0;if(a.Long){r=new a.Long(0,0,!0);n.hashType=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.hashType=t.longs===String?"0":0;if(a.Long){r=new a.Long(0,0,!0);n.fanout=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.fanout=t.longs===String?"0":0;n.mode=0,n.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(n.Type=t.enums===String?u.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(n.Data=t.bytes===String?a.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"==typeof e.filesize?n.filesize=t.longs===String?String(e.filesize):e.filesize:n.filesize=t.longs===String?a.Long.prototype.toString.call(e.filesize):t.longs===Number?new a.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){n.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)"number"==typeof e.blocksizes[i]?n.blocksizes[i]=t.longs===String?String(e.blocksizes[i]):e.blocksizes[i]:n.blocksizes[i]=t.longs===String?a.Long.prototype.toString.call(e.blocksizes[i]):t.longs===Number?new a.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0):e.blocksizes[i]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"==typeof e.hashType?n.hashType=t.longs===String?String(e.hashType):e.hashType:n.hashType=t.longs===String?a.Long.prototype.toString.call(e.hashType):t.longs===Number?new a.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"==typeof e.fanout?n.fanout=t.longs===String?String(e.fanout):e.fanout:n.fanout=t.longs===String?a.Long.prototype.toString.call(e.fanout):t.longs===Number?new a.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(n.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(n.mtime=u.UnixTime.toObject(e.mtime,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.DataType=(t={},(n=Object.create(t))[t[0]="Raw"]=0,n[t[1]="Directory"]=1,n[t[2]="File"]=2,n[t[3]="Metadata"]=3,n[t[4]="Symlink"]=4,n[t[5]="HAMTShard"]=5,n),e}(),u.UnixTime=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Seconds=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=o.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.UnixTime;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.Seconds=e.int64();break;case 2:r.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&o)}}if(!r.hasOwnProperty("Seconds"))throw a.ProtocolError("missing required 'Seconds'",{instance:r});return r},e.fromObject=function(e){if(e instanceof u.UnixTime)return e;var t=new u.UnixTime;return null!=e.Seconds&&(a.Long?(t.Seconds=a.Long.fromValue(e.Seconds)).unsigned=!1:"string"==typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"==typeof e.Seconds?t.Seconds=e.Seconds:"object"==typeof e.Seconds&&(t.Seconds=new a.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(a.Long){var r=new a.Long(0,0,!1);n.Seconds=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.Seconds=t.longs===String?"0":0;n.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"==typeof e.Seconds?n.Seconds=t.longs===String?String(e.Seconds):e.Seconds:n.Seconds=t.longs===String?a.Long.prototype.toString.call(e.Seconds):t.longs===Number?new a.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(n.FractionalNanoseconds=e.FractionalNanoseconds),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.Metadata=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=o.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Metadata;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.MimeType=e.string();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.Metadata)return e;var t=new u.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(n.MimeType=e.MimeType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new TextDecoder;function i(e,t){let n=0;for(let r=0;;r+=7){if(r>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");const i=e[t++];if(n+=r<28?(127&i)<<r:(127&i)*2**r,i<128)break}return[n,t]}function o(e,t){let n;[n,t]=i(e,t);const r=t+n;if(n<0||r<0)throw new Error("protobuf: invalid length");if(r>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,r),r]}function a(e,t){let n;return[n,t]=i(e,t),[7&n,n>>3,t]}function u(e){const t={},n=e.length;let u=0;for(;u<n;){let n,s;if([n,s,u]=a(e,u),1===s){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==n)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,u]=o(e,u)}else if(2===s){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==n)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let i;[i,u]=o(e,u),t.Name=r.decode(i)}else{if(3!==s)throw new Error("protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got "+s);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==n)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Tsize`);[t.Tsize,u]=i(e,u)}}if(u>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}t.decodeNode=function(e){const t=e.length;let n,r,i=0,s=!1;for(;i<t;){let t,c;if([t,c,i]=a(e,i),2!==t)throw new Error("protobuf: (PBNode) invalid wireType, expected 2, got "+t);if(1===c){if(r)throw new Error("protobuf: (PBNode) duplicate Data section");[r,i]=o(e,i),n&&(s=!0)}else{if(2!==c)throw new Error("protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got "+c);{if(s)throw new Error("protobuf: (PBNode) duplicate Links section");let t;n||(n=[]),[t,i]=o(e,i),n.push(u(t))}}}if(i>t)throw new Error("protobuf: (PBNode) unexpected end of data");const c={};return r&&(c.Data=r),c.Links=n||[],c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=new TextEncoder;function i(e,t){let n=t.length;if("number"==typeof e.Tsize){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");n=a(t,n,e.Tsize)-1,t[n]=24}if("string"==typeof e.Name){const i=r.encode(e.Name);n-=i.length,t.set(i,n),n=a(t,n,i.length)-1,t[n]=18}return e.Hash&&(n-=e.Hash.length,t.set(e.Hash,n),n=a(t,n,e.Hash.length)-1,t[n]=10),t.length-n}function o(e){let t=0;if(e.Hash){const n=e.Hash.length;t+=1+n+u(n)}if("string"==typeof e.Name){const n=r.encode(e.Name).length;t+=1+n+u(n)}return"number"==typeof e.Tsize&&(t+=1+u(e.Tsize)),t}function a(e,t,n){const r=t-=u(n);for(;n>=2**31;)e[t++]=127&n|128,n/=128;for(;n>=128;)e[t++]=127&n|128,n>>>=7;return e[t]=n,r}function u(e){return e%2==0&&e++,Math.floor((function(e){let t=0;e>=2**32&&(e=Math.floor(e/2**32),t=32);e>=65536&&(e>>>=16,t+=16);e>=256&&(e>>>=8,t+=8);return t+s[e]}(e)+6)/7)}const s=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];t.encodeNode=function(e){const t=function(e){let t=0;if(e.Data){const n=e.Data.length;t+=1+n+u(n)}if(e.Links)for(const n of e.Links){const e=o(n);t+=1+e+u(e)}return t}(e),n=new Uint8Array(t);let r=t;if(e.Data&&(r-=e.Data.length,n.set(e.Data,r),r=a(n,r,e.Data.length)-1,n[r]=10),e.Links)for(let t=e.Links.length-1;t>=0;t--){const o=i(e.Links[t],n.subarray(0,r));r-=o,r=a(n,r,o)-1,n[r]=18}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12);const i=["Data","Links"],o=["Hash","Name","Tsize"],a=new TextEncoder;function u(e,t){if(e===t)return 0;const n=e.Name?a.encode(e.Name):[],r=t.Name?a.encode(t.Name):[];let i=n.length,o=r.length;for(let e=0,t=Math.min(i,o);e<t;++e)if(n[e]!==r[e]){i=n[e],o=r[e];break}return i<o?-1:o<i?1:0}function s(e,t){return!Object.keys(e).some(e=>!t.includes(e))}function c(e){if("object"==typeof e.asCID){const t=r.CID.asCID(e);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!=typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Hash){let n=r.CID.asCID(e.Hash);try{n||("string"==typeof e.Hash?n=r.CID.parse(e.Hash):e.Hash instanceof Uint8Array&&(n=r.CID.decode(e.Hash)))}catch(e){throw new TypeError("Invalid DAG-PB form: "+e.message)}n&&(t.Hash=n)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"==typeof e.Name&&(t.Name=e.Name),"number"==typeof e.Tsize&&(t.Tsize=e.Tsize),t}function f(e){if((e instanceof Uint8Array||"string"==typeof e)&&(e={Data:e}),"object"!=typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==e.Data)if("string"==typeof e.Data)t.Data=a.encode(e.Data);else{if(!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=e.Data}if(void 0!==e.Links){if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form");t.Links=e.Links.map(c),t.Links.sort(u)}else t.Links=[];return t}t.createLink=function(e,t,n){return c({Hash:n,Name:e,Tsize:t})},t.createNode=function(e,t=[]){return f({Data:e,Links:t})},t.prepare=f,t.validate=function(e){if(!e||"object"!=typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!s(e,i))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){const n=e.Links[t];if(!n||"object"!=typeof n||Array.isArray(n))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!s(n,o))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(n.Hash.asCID!==n.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!=typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize&&("number"!=typeof n.Tsize||n.Tsize%1!=0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&-1===u(n,e.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1170),i=n(104),o=n(1171),a=n(116),u=n(578),s=n(230),c=n(134),f=n(579),l=n(368),d=n(580),h=n(581),p=n(582),m=n(583),y=n(584);const v={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const i=n.type.major,o=g[i].compareTokens(n,r);0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return o},quickEncodeToken:u.quickEncodeToken},g=[];g[i.Type.uint.major]=c.encodeUint,g[i.Type.negint.major]=f.encodeNegint,g[i.Type.bytes.major]=l.encodeBytes,g[i.Type.string.major]=d.encodeString,g[i.Type.array.major]=h.encodeArray,g[i.Type.map.major]=p.encodeMap,g[i.Type.tag.major]=m.encodeTag,g[i.Type.float.major]=y.encodeFloat;const b=new o.Bl;class w{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(a.encodeErrPrefix+" object contains circular references");return new w(t,e)}}const E={null:new i.Token(i.Type.null,null),undefined:new i.Token(i.Type.undefined,void 0),true:new i.Token(i.Type.true,!0),false:new i.Token(i.Type.false,!1),emptyArray:new i.Token(i.Type.array,0),emptyMap:new i.Token(i.Type.map,0)},_={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?e>=0?new i.Token(i.Type.uint,e):new i.Token(i.Type.negint,e):new i.Token(i.Type.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new i.Token(i.Type.uint,e):new i.Token(i.Type.negint,e),Uint8Array:(e,t,n,r)=>new i.Token(i.Type.bytes,e),string:(e,t,n,r)=>new i.Token(i.Type.string,e),boolean:(e,t,n,r)=>e?E.true:E.false,null:(e,t,n,r)=>E.null,undefined:(e,t,n,r)=>E.undefined,ArrayBuffer:(e,t,n,r)=>new i.Token(i.Type.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new i.Token(i.Type.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[E.emptyArray,new i.Token(i.Type.break)]:E.emptyArray;r=w.createCheck(r,e);const o=[];let a=0;for(const t of e)o[a++]=S(t,n,r);return n.addBreakTokens?[new i.Token(i.Type.array,e.length),o,new i.Token(i.Type.break)]:[new i.Token(i.Type.array,e.length),o]},Object(e,t,n,r){const o="Object"!==t,a=o?e.keys():Object.keys(e),u=o?e.size:a.length;if(!u)return!0===n.addBreakTokens?[E.emptyMap,new i.Token(i.Type.break)]:E.emptyMap;r=w.createCheck(r,e);const s=[];let c=0;for(const t of a)s[c++]=[S(t,n,r),S(o?e.get(t):e[t],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(s,n),n.addBreakTokens?[new i.Token(i.Type.map,u),s,new i.Token(i.Type.break)]:[new i.Token(i.Type.map,u),s]}};_.Map=_.Object,_.Buffer=_.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))_[e+"Array"]=_.DataView;function S(e,t={},n){const i=r.is(e),o=t&&t.typeEncoders&&t.typeEncoders[i]||_[i];if("function"==typeof o){const r=o(e,i,t,n);if(null!=r)return r}const u=_[i];if(!u)throw new Error(`${a.encodeErrPrefix} unsupported type: ${i}`);return u(e,i,t,n)}function T(e,t,n){const r=S(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const i=t[r.type.major];if(i.encodedSize){const e=i.encodedSize(r,n),t=new o.Bl(e);if(i(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return s.asU8A(t.chunks[0])}}return function e(t,n,r,i){if(Array.isArray(n))for(const o of n)e(t,o,r,i);else r[n.type.major](t,n,i)}(b,r,t,n),b.toBytes(!0)}t.Ref=w,t.encode=function(e,t){return t=Object.assign({},v,t),T(e,g,t)},t.encodeCustom=T,t.objectToTokens=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=["string","number","bigint","symbol"],i=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];t.is=function(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(r.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(i.includes(t))return t;return}(e);return n||"Object"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(230);t.Bl=class{constructor(e=256){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.chunks=[],this.cursor=0,this.maxCursor=-1,null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=r.alloc(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(1===this.chunks.length){const n=this.chunks[0];e&&this.cursor>n.length/2?(t=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=r.slice(n,0,this.cursor)}else t=r.concat(this.chunks,this.cursor);return e&&this.reset(),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(116),i=n(104),o=n(578);const a={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class u{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=o.quick[e];if(void 0===t){const n=o.jump[e];if(!n)throw new Error(`${r.decodeErrPrefix} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const i=31&e;t=n(this.data,this.pos,i,this.options)}return this.pos+=t.encodedLength,t}}const s=Symbol.for("DONE"),c=Symbol.for("BREAK");function f(e,t){if(e.done())return s;const n=e.next();if(n.type===i.Type.break)return c;if(n.type.terminal)return n.value;if(n.type===i.Type.array)return function(e,t,n){const i=[];for(let o=0;o<e.value;o++){const a=f(t,n);if(a===c){if(e.value===1/0)break;throw new Error(r.decodeErrPrefix+" got unexpected break to lengthed array")}if(a===s)throw new Error(`${r.decodeErrPrefix} found array but not enough entries (got ${o}, expected ${e.value})`);i[o]=a}return i}(n,e,t);if(n.type===i.Type.map)return function(e,t,n){const i=!0===n.useMaps,o=i?void 0:{},a=i?new Map:void 0;for(let u=0;u<e.value;u++){const l=f(t,n);if(l===c){if(e.value===1/0)break;throw new Error(r.decodeErrPrefix+" got unexpected break to lengthed map")}if(l===s)throw new Error(`${r.decodeErrPrefix} found map but not enough entries (got ${u} [no key], expected ${e.value})`);if(!0!==i&&"string"!=typeof l)throw new Error(`${r.decodeErrPrefix} non-string keys not supported (got ${typeof l})`);const d=f(t,n);if(d===s)throw new Error(`${r.decodeErrPrefix} found map but not enough entries (got ${u} [no value], expected ${e.value})`);i?a.set(l,d):o[l]=d}return i?a:o}(n,e,t);if(n.type===i.Type.tag){if(t.tags&&"function"==typeof t.tags[n.value]){const r=f(e,t);return t.tags[n.value](r)}throw new Error(`${r.decodeErrPrefix} tag not supported (${n.value})`)}throw new Error("unsupported")}t.Tokeniser=u,t.decode=function(e,t){if(!(e instanceof Uint8Array))throw new Error(r.decodeErrPrefix+" data to decode must be a Uint8Array");const n=(t=Object.assign({},a,t)).tokenizer||new u(e,t),i=f(n,t);if(i===s)throw new Error(r.decodeErrPrefix+" did not find any content to decode");if(i===c)throw new Error(r.decodeErrPrefix+" got unexpected break");if(!n.done())throw new Error(r.decodeErrPrefix+" too many terminals, data makes no sense");return i},t.tokensToObject=f},function(e,t,n){"use strict";e.exports=()=>{}},function(e,t,n){"use strict";const r=n(369);e.exports=({network:e,preload:t,peerId:n,keychain:i,repo:o,ipns:a,mfsPreload:u,print:s,options:c})=>async()=>{const{libp2p:f}=await r.start(e,{peerId:n,repo:o,print:s,options:c});await Promise.all([a.startOnline({keychain:i,libp2p:f,peerId:n,repo:o}),t.start(),u.start()])}},function(e,t,n){"use strict";const r=n(585),i=n(586),o=n(588);e.exports=class extends i{constructor(){super(),this.data={}}open(){return Promise.resolve()}close(){return Promise.resolve()}async put(e,t){this.data[e.toString()]=t}async get(e){if(!await this.has(e))throw o.notFoundError();return this.data[e.toString()]}async has(e){return void 0!==this.data[e.toString()]}async delete(e){delete this.data[e.toString()]}async*_all(){yield*Object.entries(this.data).map(([e,t])=>({key:new r(e),value:t}))}async*_allKeys(){yield*Object.entries(this.data).map(([e])=>new r(e))}}},function(e,t,n){"use strict";const{nanoid:r}=n(308);e.exports=(e=(e=>e))=>e(r())},function(e,t,n){"use strict";var r=n(1178);function i(e,t,n){var i=this;this._started=r(),this._rescheduled=0,this._scheduled=t,this._args=n,this._timer=setTimeout((function t(){i._rescheduled>0?(i._scheduled=i._rescheduled-(r()-i._started),i._timer=setTimeout(t,i._scheduled),i._rescheduled=0):e.apply(null,i._args)}),t)}i.prototype.reschedule=function(e){var t=r();return!(t+e-(this._started+this._scheduled)<0)&&(this._started=t,this._rescheduled=e,!0)},i.prototype.clear=function(){clearTimeout(this._timer)},e.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("timeout needed");var e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new i(arguments[0],arguments[1],e)}},function(e,t,n){"use strict";e.exports=function(){return Date.now()}},function(e,t,n){"use strict";class r extends Error{constructor(e="request timed out"){super(e),this.name="TimeoutError",this.code=r.code}}r.code="ERR_TIMEOUT",t.TimeoutError=r},function(e,t,n){"use strict";const r=n(369);e.exports=({network:e,preload:t,ipns:n,repo:i,mfsPreload:o})=>async()=>{await Promise.all([t.stop(),n.stop(),o.stop(),r.stop(e),i.close()])}},function(e,t,n){"use strict";const r=n(1182),i=n(17);e.exports=()=>i(async(e,t={recursive:!0})=>{if("string"!=typeof e)throw new Error("Invalid arguments, domain must be a string");return e=function(e){return e.endsWith(".eth")&&(e=e.replace(/.eth$/,".eth.link")),e}(e),r(e,t)})},function(e,t,n){"use strict";const r=n(590),{default:i}=n(155),o=n(274),a=new r(1e3),u=new i({concurrency:4}),s=e=>{if(e.Path)return e.Path;throw new Error(e.Message)};e.exports=async(e,t)=>(async(e,t={})=>{const n=new URLSearchParams(t);n.set("arg",e);const r=n.toString();if(!t.nocache&&a.has(r)){const e=a.get(r);return s(e)}const i=await u.add(async()=>{const e=await o.get("https://ipfs.io/api/v0/dns",{searchParams:n}),t=new URL(e.url).search.slice(1),r=await e.json();return a.set(t,r,6e4),r});return s(i)})(e,t)},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function u(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var u=new a(n,r||e,o),s=i?i+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],u]:e._events[s].push(u):(e._events[s]=u,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},c.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,o,a){var u=i?i+e:e;if(!this._events[u])return!1;var s,c,f=this._events[u],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,r),!0;case 5:return f.fn.call(f.context,t,n,r,o),!0;case 6:return f.fn.call(f.context,t,n,r,o,a),!0}for(c=1,s=new Array(l-1);c<l;c++)s[c-1]=arguments[c];f.fn.apply(f.context,s)}else{var d,h=f.length;for(c=0;c<h;c++)switch(f[c].once&&this.removeListener(e,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,t);break;case 3:f[c].fn.call(f[c].context,t,n);break;case 4:f[c].fn.call(f[c].context,t,n,r);break;default:if(!s)for(d=1,s=new Array(l-1);d<l;d++)s[d-1]=arguments[d];f[c].fn.apply(f[c].context,s)}}return!0},c.prototype.on=function(e,t,n){return u(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return u(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||s(this,o);else{for(var u=0,c=[],f=a.length;u<f;u++)(a[u].fn!==t||r&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&s(this,t)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,e.exports=c},function(e,t,n){"use strict";const r=n(1185);class i extends Error{constructor(e){super(e),this.name="TimeoutError"}}const o=(e,t,n)=>new Promise((o,a)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void o(e);const u=setTimeout(()=>{if("function"==typeof n){try{o(n())}catch(e){a(e)}return}const r=n instanceof Error?n:new i("string"==typeof n?n:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),a(r)},t);r(e.then(o,a),()=>{clearTimeout(u)})});e.exports=o,e.exports.default=o,e.exports.TimeoutError=i},function(e,t,n){"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1187);t.default=class{constructor(){this._queue=[]}enqueue(e,t){const n={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(n);const i=r.default(this._queue,n,(e,t)=>t.priority-e.priority);this._queue.splice(i,0,n)}dequeue(){const e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return this._queue.length}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){let r=0,i=e.length;for(;i>0;){const o=i/2|0;let a=r+o;n(e[a],t)<=0?(r=++a,i-=o+1):i=o}return r}},function(e,t,n){"use strict";e.exports=({network:e})=>()=>{const t=e.try();return null!=t&&Boolean(t.libp2p.isStarted())}},function(e,t,n){"use strict";const r=n(229),{CID:i}=n(12),o=n(17),{resolve:a}=n(81);e.exports=({repo:e,codecs:t,bases:n,name:u})=>o((async function(o,s={}){if(!r.path(o))throw new Error("invalid argument "+o);if(r.ipnsPath(o))for await(const e of u.resolve(o,s))o=e;const[,c,f,...l]=o.split("/"),d=i.parse(f),h=s.cidBase?await n.getBase(s.cidBase):void 0;if(0===l.length)return`/${c}/${d.toString(h&&h.encoder)}`;o=l.join("/");const p=a(d,o,t,e,s);let m=d,y=o;for await(const e of p)e.value instanceof i&&(m=e.value,y=e.remainderPath);return`/ipfs/${m.toString(h&&h.encoder)}${y?"/"+y:""}`}))},function(e,t,n){"use strict";const r=n(1191),i=n(1192),o=n(1221),a=n(1222),u=n(1223);e.exports=class{constructor({codecs:e,repo:t}){const n=i({codecs:e,repo:t});this.addAll=n,this.add=r({addAll:n});const s=u({codecs:e,repo:t});this.rmAll=s,this.rm=a({rmAll:s}),this.ls=o({codecs:e,repo:t}),this.remote={add:(e,t={})=>Promise.reject(new Error("Not implemented")),ls:async function*(e,t={}){return Promise.reject(new Error("Not implemented"))},rm:(e,t={})=>Promise.reject(new Error("Not implemented")),rmAll:(e,t={})=>Promise.reject(new Error("Not implemented")),service:{add:(e,t)=>Promise.reject(new Error("Not implemented")),rm:(e,t={})=>Promise.reject(new Error("Not implemented")),ls:(e={})=>Promise.reject(new Error("Not implemented"))}}}}},function(e,t,n){"use strict";const r=n(97),{CID:i}=n(12);e.exports=({addAll:e})=>(t,n={})=>{let o;return o=e(t instanceof i?[{cid:t,...n}]:[{path:t.toString(),...n}],n),r(o)}},function(e,t,n){"use strict";const{resolvePath:r}=n(81),i=n(17),o=n(233),{PinTypes:a}=n(196);e.exports=({repo:e,codecs:t})=>i((async function*(n,i={}){const u=async function*(){for await(const{path:i,recursive:u,metadata:s}of o(n)){const{cid:n}=await r(e,t,i),{reason:o}=await e.pins.isPinnedWithType(n,[a.recursive,a.direct]);if("recursive"===o&&!u)throw new Error(n+" already pinned recursively");u?await e.pins.pinRecursively(n,{metadata:s}):await e.pins.pinDirectly(n,{metadata:s}),yield n}};if(!Boolean(i.lock))return void(yield*u());const s=await e.gcLock.readLock();try{yield*u()}finally{s()}}))},function(e,t,n){"use strict";const r=n(1194),i=n(1202),o=n(370),{wrapBackends:a}=n(197),u=n(6)("ipfs:repo:migrator");function s(e){return e=e||r,Array.isArray(e)&&0!==e.length?e[e.length-1].version:0}function c(e,t,n,r=!1){let i=0;for(const a of e){if(a.version>n)break;if(a.version>t){if(r&&!a.revert)throw new o.NonReversibleMigrationError(`It is not possible to revert to version ${t} because migration version ${a.version} is not reversible. Cancelling reversion.`);i++}}if(i!==n-t)throw new o.InvalidValueError(`The ipfs-repo-migrations package does not have all migration to migrate from version ${t} to ${n}`)}e.exports={getCurrentRepoVersion:i.getVersion,getLatestMigrationVersion:s,errors:o,migrate:async function(e,t,n,f,{ignoreLock:l=!1,onProgress:d,isDryRun:h=!1,migrations:p}){if(p=p||r,!e)throw new o.RequiredParameterError("Path argument is required!");if(!n)throw new o.RequiredParameterError("repoOptions argument is required!");if(!f)throw new o.RequiredParameterError("toVersion argument is required!");if(!Number.isInteger(f)||f<=0)throw new o.InvalidValueError("Version has to be positive integer!");t=a(t);const m=await i.getVersion(t);if(m===f)return void u("Nothing to migrate.");if(m>f)throw new o.InvalidValueError(`Current repo's version (${m}) is higher then toVersion (${f}), you probably wanted to revert it?`);let y;c(p,m,f),h||l||(y=await n.repoLock.lock(e));try{for(const e of p){if(void 0!==f&&e.version>f)break;if(!(e.version<=m)){u("Migrating version "+e.version);try{if(!h){let n=()=>{};d&&(n=(t,n)=>d(e.version,t.toFixed(2),n)),await e.migrate(t,n)}}catch(n){const r=e.version-1;throw u("An exception was raised during execution of migration. Setting the repo's version to last successfully migrated version: "+r),await i.setVersion(r,t),new Error(`During migration to version ${e.version} exception was raised: ${n.stack||n.message||n}`)}u(`Migrating to version ${e.version} finished`)}}h||await i.setVersion(f||s(p),t),u("Repo successfully migrated",void 0!==f?`to version ${f}!`:"to latest version!")}finally{h||l||!y||await y.close()}},revert:async function(e,t,n,s,{ignoreLock:f=!1,onProgress:l,isDryRun:d=!1,migrations:h}){if(h=h||r,!e)throw new o.RequiredParameterError("Path argument is required!");if(!n)throw new o.RequiredParameterError("repoOptions argument is required!");if(!s)throw new o.RequiredParameterError("When reverting migrations, you have to specify to which version to revert!");if(!Number.isInteger(s)||s<=0)throw new o.InvalidValueError("Version has to be positive integer!");t=a(t);const p=await i.getVersion(t);if(p===s)return void u("Nothing to revert.");if(p<s)throw new o.InvalidValueError(`Current repo's version (${p}) is lower then toVersion (${s}), you probably wanted to migrate it?`);let m;c(h,s,p,!0),d||f||(m=await n.repoLock.lock(e)),u(`Reverting from version ${p} to ${s}`);try{const e=h.slice().reverse();for(const n of e){if(n.version<=s)break;if(!(n.version>p)){u("Reverting migration version "+n.version);try{if(!d){let e=()=>{};l&&(e=(e,t)=>l(n.version,e.toFixed(2),t)),await n.revert(t,e)}}catch(e){const r=n.version;throw u("An exception was raised during execution of migration. Setting the repo's version to last successfully reverted version: "+r),await i.setVersion(r,t),e.message=`During reversion to version ${n.version} exception was raised: ${e.message}`,e}u(`Reverting to version ${n.version} finished`)}}d||await i.setVersion(s,t),u(`All migrations successfully reverted to version ${s}!`)}finally{d||f||!m||await m.close()}}}},function(e,t,n){"use strict";const r={description:"Empty migration.",migrate:()=>{},revert:()=>{},empty:!0};e.exports=[Object.assign({version:1},r),Object.assign({version:2},r),Object.assign({version:3},r),Object.assign({version:4},r),Object.assign({version:5},r),Object.assign({version:6},r),Object.assign({version:7},r),n(1195),n(1196),n(1201)]},function(e,t,n){"use strict";const{CID:r}=n(12),i=n(47).Key,o=n(6)("ipfs:repo:migrator:migration-8"),a=n(592),{base32:u}=n(85),s=n(102),c=n(84);function f(e){try{const t=u.decode("b"+e.toString().toLowerCase().slice(1));let n=r.decode(t).multihash.bytes;const o=u.encode(n).slice(1).toUpperCase();return new i("/"+o,!1)}catch(t){return e}}function l(e){try{const t=u.decode("b"+e.toString().toLowerCase().slice(1)),n=c.decode(t),o=u.encode(r.createV1(s.code,n).bytes).slice(1);return new i("/"+o.toUpperCase(),!1)}catch{return e}}async function d(e,t,n){const r=e.blocks;await r.open();const i=function e(t){return t.child?e(t.child):t}(r);let u;u=await a(i.queryKeys({filters:[e=>n(e).toString()!==e.toString()]}));try{let e=0;for await(const r of i.query({})){const a=n(r.key);a.toString()!==r.key.toString()&&(e+=1,o(`Migrating Block from ${r.key} to ${a}`,await i.has(r.key)),await i.delete(r.key),await i.put(a,r.value),t(e/u*100,`Migrated Block from ${r.key} to ${a}`))}}finally{await r.close()}}e.exports={version:8,description:"Transforms key names into base32 encoding and converts Block store to use bare multihashes encoded as base32",migrate:(e,t=(()=>{}))=>d(e,t,f),revert:(e,t=(()=>{}))=>d(e,t,l)}},function(e,t,n){"use strict";const{CID:r}=n(12),i=n(42),o=n(286),a=n(1197),{cidToKey:u,PIN_DS_KEY:s,PinTypes:c}=n(593),f=n(592),{sha256:l}=n(65),d=n(84),{base32:h}=n(85);async function p(e,t,n,l){if(!await t.has(s))return;const d=await t.get(s),h=r.decode(d),p=await e.get(h),m=i.decode(p);let y,v=0;y=await f(a.loadSet(e,m,c.recursive))+await f(a.loadSet(e,m,c.direct));for await(const t of a.loadSet(e,m,c.recursive)){v++;const e={depth:1/0};0!==t.version&&(e.version=t.version),t.code!==i.code&&(e.codec=t.code),await n.put(u(t),o.encode(e)),l(v/y*100,"Migrated recursive pin "+t)}for await(const t of a.loadSet(e,m,c.direct)){v++;const e={depth:0};0!==t.version&&(e.version=t.version),t.code!==i.code&&(e.codec=t.code),await n.put(u(t),o.encode(e)),l(v/y*100,"Migrated direct pin "+t)}await e.delete(h),await t.delete(s)}async function m(e,t,n,u){let p=[],m=[],y=0;const v=await f(n.queryKeys({}));for await(const{key:e,value:t}of n.query({})){y++;const n=o.decode(t),a=r.create(n.version||0,n.codec||i.code,d.decode(h.decode("b"+e.toString().toLowerCase().split("/").pop())));0===n.depth?(u(y/v*100,"Reverted direct pin "+a),m.push(a)):(u(y/v*100,"Reverted recursive pin "+a),p.push(a))}u(100,"Updating pin root");const g={Links:[await a.storeSet(e,c.direct,m),await a.storeSet(e,c.recursive,p)]},b=i.encode(g),w=await l.digest(b),E=r.createV0(w);await e.put(E,b),await t.put(s,E.bytes)}async function y(e,t,n){const r=e.blocks,i=e.datastore,o=e.pins;await r.open(),await i.open(),await o.open();try{await n(r,i,o,t)}finally{await o.close(),await i.close(),await r.close()}}e.exports={version:9,description:"Migrates pins to datastore",migrate:(e,t=(()=>{}))=>y(e,t,p),revert:(e,t=(()=>{}))=>y(e,t,m)}},function(e,t,n){"use strict";const{CID:r}=n(12),{ipfs:{pin:{Set:i}}}=n(1198),o=n(1199),a=n(103),u=n(42),{DEFAULT_FANOUT:s,MAX_ITEMS:c,EMPTY_KEY:f}=n(593),l=n(172),d=n(1200),h=n(45),p=n(44),{sha256:m}=n(65);async function*y(e,t){const n=function(e){const t=e.Data;if(!t)throw new Error("No data present");const n=a.decode(t),r=a.decode.bytes;if(r<=0)throw new Error("Invalid Set header length");if(r+n>t.length)throw new Error("Impossibly large set header length");const o=t.slice(r,n+r),u=i.toObject(i.decode(o),{defaults:!1,arrays:!0,longs:Number,objects:!1});if(1!==u.version)throw new Error("Unsupported Set version: "+u.version);if(u.fanout>e.Links.length)throw new Error("Impossibly large fanout");return{header:u,data:t.slice(n+r)}}(t);let r=0;for(const i of t.Links){if(r<n.header.fanout){const t=i.Hash;if(!f.equals(t)){const n=await e.get(t),r=u.decode(n);yield*y(e,r)}}else yield i.Hash;r++}}function v(e,t){return async function t(n,y){const v=i.encode({version:1,fanout:s,seed:y}).finish(),g=a.encode(v.length),b=l([g,v]),w=[];for(let e=0;e<s;e++)w.push({Name:"",Tsize:1,Hash:f});if(n.length<=c){const e=n.map(e=>({link:{Name:"",Tsize:1,Hash:e.key},data:e.data||new Uint8Array})).sort((e,t)=>d(e.link.Hash.bytes,t.link.Hash.bytes)),t=w.concat(e.map(e=>e.link));return{Data:l([b,...e.map(e=>e.data)]),Links:t}}{const e=n.reduce((e,t)=>{const n=function(e,t){const n=new Uint8Array(4);new DataView(n.buffer).setUint32(0,e,!0);const r=p(t.toString()),i=l([n,r],n.byteLength+r.byteLength);return o(h(i))}(y,t.key)%s;return e[n]=n in e?e[n].concat([t]):[t],e},[]);let r=0;for(const n of e){const e=await t(n,y+1);await E(e,r),r++}return{Data:b,Links:w}}async function E(t,n){const i=u.encode(t),o=await m.digest(i),a=r.createV0(o);await e.put(a,i);let s=t.Links.reduce((e,t)=>e+(t.Tsize||0),0)+i.length;w[n]={Name:"",Tsize:s,Hash:a}}}(t,0)}e.exports={loadSet:async function*(e,t,n){const r=t.Links.find(e=>e.Name===n);if(!r)throw new Error("No link found with name "+n);const i=await e.get(r.Hash),o=u.decode(i);yield*y(e,o)},storeSet:async function(e,t,n){const i=await v(e,n.map(e=>({key:e}))),o=u.encode(i),a=await m.digest(o),s=r.createV0(a);return await e.put(s,o),{Name:t,Tsize:i.Links.reduce((e,t)=>e+t.Tsize,0)+o.length,Hash:s}}}},function(e,t,n){"use strict";var r,i,o=n(80),a=o.Reader,u=o.Writer,s=(o.util,o.roots.default||(o.roots.default={}));s.ipfs=((i={}).pin=((r={}).Set=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.version=0,e.prototype.fanout=0,e.prototype.seed=0,e.encode=function(e,t){return t||(t=u.create()),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(8).uint32(e.version),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(16).uint32(e.fanout),null!=e.seed&&Object.hasOwnProperty.call(e,"seed")&&t.uint32(29).fixed32(e.seed),t},e.decode=function(e,t){e instanceof a||(e=a.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.ipfs.pin.Set;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.version=e.uint32();break;case 2:r.fanout=e.uint32();break;case 3:r.seed=e.fixed32();break;default:e.skipType(7&i)}}return r},e.fromObject=function(e){if(e instanceof s.ipfs.pin.Set)return e;var t=new s.ipfs.pin.Set;return null!=e.version&&(t.version=e.version>>>0),null!=e.fanout&&(t.fanout=e.fanout>>>0),null!=e.seed&&(t.seed=e.seed>>>0),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.version=0,n.fanout=0,n.seed=0),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),null!=e.fanout&&e.hasOwnProperty("fanout")&&(n.fanout=e.fanout),null!=e.seed&&e.hasOwnProperty("seed")&&(n.seed=e.seed),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,o.util.toJSONOptions)},e}(),r),i),e.exports=s},function(e,t){function n(e){for(var t=n.BASE,r=0,i=e.length;r<i;r++)t^=e.charCodeAt(r),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}n.BASE=2166136261,e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t){for(let n=0;n<e.byteLength;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}},function(e,t,n){"use strict";const{findLevelJs:r}=n(197),i=n(44),o=n(45);async function a(e,t,n=(()=>{})){let o=r(t);if(!o)return void n(e+" did not need an upgrade");n("Upgrading "+e);await f(o,(e,t)=>[{type:"del",key:e},{type:"put",key:i(e),value:t}])}async function u(e,t,n=(()=>{})){let i=r(t);if(!i)return void n(e+" did not need a downgrade");n("Downgrading "+e);await f(i,(e,t)=>[{type:"del",key:e},{type:"put",key:o(e),value:t}])}function s(e){return e.child?s(e.child):e}async function c(e,t,n){const r=Object.entries(e).map(([e,t])=>({key:e,backend:s(t)})).filter(({key:e,backend:t})=>"LevelDatastore"===t.constructor.name).map(({key:e,backend:t})=>({name:e,store:t}));t(0,`Migrating ${r.length} dbs`);let i=0;for(const{name:e,store:o}of r){await o.open();try{const a=e=>{t(Math.round(i/r.length*100),e)};await n(e,o,a)}finally{i++,o.close()}}t(100,`Migrated ${r.length} dbs`)}function f(e,t){return new Promise((n,r)=>{const i=e.iterator();i._deserializeKey=i._deserializeValue=e=>e,function o(){const a=(a,u,s)=>{if(a||void 0===u){const e=e=>{e?r(e):n()};i.end(e)}else!function(t,n){const r=e.store("readwrite"),i=r.transaction;let o,a=0;i.onabort=()=>n(o||i.error||new Error("aborted by user")),i.oncomplete=()=>n(),function e(){var n=t[a++],u=n.key;try{var s="del"===n.type?r.delete(u):r.put(n.value,u)}catch(e){return o=e,void i.abort()}a<t.length&&(s.onsuccess=e)}()}(t(u,s),o)};i.next(a)}()})}e.exports={version:10,description:"Migrates datastore-level keys to binary",migrate:(e,t=(()=>{}))=>c(e,t,a),revert:(e,t=(()=>{}))=>c(e,t,u)}},function(e,t,n){"use strict";const r=n(1203),{MissingRepoOptionsError:i,NotInitializedRepoError:o}=n(370),{VERSION_KEY:a}=n(197),u=n(44),s=n(45);e.exports={getVersion:async function(e){if(!await r.isRepoInitialized(e))throw new o("Repo is not initialized!");const t=e.root;await t.open();try{return parseInt(s(await t.get(a)))}finally{await t.close()}},setVersion:async function(e,t){if(!t)throw new i("Please pass repo options when trying to open a repo");const n=t.root;await n.open(),await n.put(a,u(String(e))),await n.close()}}},function(e,t,n){"use strict";const r=n(6)("ipfs:repo:migrator:repo:init"),{CONFIG_KEY:i,VERSION_KEY:o}=n(197),{MissingRepoOptionsError:a}=n(370);e.exports={isRepoInitialized:async function(e){if(!e)throw new a("Please pass repo options when trying to open a repo");const t=e.root;try{await t.open();const e=await t.has(o),n=await t.has(i);return!(!e||!n)||(r("Version entry present: "+e),r("Config entry present: "+n),!1)}catch(e){return r("While checking if repo is initialized error was thrown: "+e.message),!1}finally{if(void 0!==t)try{await t.close()}catch{}}}}},function(e,t,n){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */e.exports=function(e,t){if("string"==typeof e)return s(e);if("number"==typeof e)return u(e,t);return null},e.exports.format=u,e.exports.parse=s;var r=/\B(?=(\d{3})+(?!\d))/g,i=/(?:\.0*|(\.[^0]+)0+)$/,o={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},a=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function u(e,t){if(!Number.isFinite(e))return null;var n=Math.abs(e),a=t&&t.thousandsSeparator||"",u=t&&t.unitSeparator||"",s=t&&void 0!==t.decimalPlaces?t.decimalPlaces:2,c=Boolean(t&&t.fixedDecimals),f=t&&t.unit||"";f&&o[f.toLowerCase()]||(f=n>=o.pb?"PB":n>=o.tb?"TB":n>=o.gb?"GB":n>=o.mb?"MB":n>=o.kb?"KB":"B");var l=(e/o[f.toLowerCase()]).toFixed(s);return c||(l=l.replace(i,"$1")),a&&(l=l.replace(r,a)),l+u+f}function s(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=a.exec(e),r="b";return n?(t=parseFloat(n[1]),r=n[4].toLowerCase()):(t=parseInt(e,10),r="b"),Math.floor(o[r]*t)}},function(e,t,n){"use strict";e.exports={repoVersion:10}},function(e,t,n){"use strict";const r=n(47).Key,i=n(6)("ipfs:repo:version"),o=n(45),a=n(44),{hasWithFallback:u,getWithFallback:s}=n(197),c=new r("version");e.exports=e=>({exists:async()=>u(c,e.has.bind(e),e),async get(){const t=await s(c,e.get.bind(e),e.has.bind(e),e);return parseInt(o(t),10)},set:t=>e.put(c,a(String(t))),async check(e){const t=await this.get();i("comparing version: %s and %s",t,e);return t===e||(6===t&&7===e||6===e&&7===t)}})},function(e,t,n){"use strict";const{Key:r}=n(47),{default:i}=n(155),o=n(591),a=n(594),u=n(4),s=n(371),c=n(45),f=n(44),{hasWithFallback:l,getWithFallback:d}=n(197),h=new r("config");e.exports=e=>{const t=new i({concurrency:1}),n={async getAll(t={}){const n=await d(h,e.get.bind(e),e.has.bind(e),e,{signal:t.signal});return JSON.parse(c(n))},async get(e,t={}){if(null==e)throw new s.NotFoundError(`Key ${e} does not exist in config`);const n=await this.getAll(t),r=o(n,e);if(void 0===r)throw new s.NotFoundError(`Key ${e} does not exist in config`);return r},set(e,n,i={}){if("string"!=typeof e&&!(e instanceof String))throw u(new Error("Invalid key type: "+typeof e),"ERR_INVALID_KEY");if(void 0===n||n instanceof Uint8Array)throw u(new Error("Invalid value type: "+typeof n),"ERR_INVALID_VALUE");return t.add(()=>r({key:e,value:n},i.signal))},replace(e,n={}){if(!e||e instanceof Uint8Array)throw u(new Error("Invalid value type: "+typeof e),"ERR_INVALID_VALUE");return t.add(()=>r({key:void 0,value:e},n.signal))},exists:async()=>l(h,e.has.bind(e),e)};return n;async function r(e,t){if(t&&t.aborted)return;const r=e.key,i=e.value;if(r){const e=await n.getAll();return"object"==typeof e&&null!==e&&a(e,r,i),p(e)}return p(i)}function p(t){const n=f(JSON.stringify(t,null,2));return e.put(h,n)}}},function(e,t,n){"use strict";const r=n(47).Key,i=n(1209),o=n(45),a=n(44),u=new r("datastore_spec");e.exports=e=>({exists:()=>e.has(u),async get(){const t=await e.get(u);return JSON.parse(o(t))},set:async t=>e.put(u,a(JSON.stringify(i(t,{deep:!0}))))})},function(e,t,n){"use strict";const r=n(558);e.exports=(e,t={})=>{if(!r(e)&&!Array.isArray(e))throw new TypeError("Expected a plain object or array");const{deep:n}=t,i=[],o=[],a=e=>{const t=i.indexOf(e);if(-1!==t)return o[t];const n=[];return i.push(e),o.push(n),n.push(...e.map(e=>Array.isArray(e)?a(e):r(e)?u(e):e)),n},u=e=>{const s=i.indexOf(e);if(-1!==s)return o[s];const c={},f=Object.keys(e).sort(t.compare);i.push(e),o.push(c);for(const t of f){const i=e[t];let o;o=n&&Array.isArray(i)?a(i):n&&r(i)?u(i):i,Object.defineProperty(c,t,{...Object.getOwnPropertyDescriptor(e,t),value:o})}return c};return Array.isArray(e)?n?a(e):e.slice():u(e)}},function(e,t,n){"use strict";const r=n(47).Key,i=n(44),o=new r("api");e.exports=e=>({async get(){const t=await e.get(o);return t&&t.toString()},set:t=>e.put(o,i(t.toString())),delete:()=>e.delete(o)})},function(e,t,n){"use strict";(function(t,r){const i=n(154),o=n(136),a=n(135),{CID:u}=n(12),s=n(4),{identity:c}=n(152);function f(e){const t=u.asCID(e);if(null==t)throw s(new Error("Not a valid cid"),"ERR_INVALID_CID");return t.multihash.code!==c.code?{isIdentity:!1}:{isIdentity:!0,digest:t.multihash.digest}}e.exports=function(e){return{open:()=>e.open(),close:()=>e.close(),query:(t,n)=>e.query(t,n),queryKeys:(t,n)=>e.queryKeys(t,n),async get(t,n){const r=f(t);return r.isIdentity?Promise.resolve(r.digest):e.get(t,n)},async*getMany(e,t){for await(const n of e)yield this.get(n,t)},async put(t,n,r){const{isIdentity:i}=f(t);i||await e.put(t,n,r)},async*putMany(n,i){const u=o();(t&&t.nextTick?t.nextTick:r)(async()=>{try{await a(e.putMany(async function*(){for await(const{key:e,value:t}of n)f(e).isIdentity||(yield{key:e,value:t}),u.push({key:e,value:t})}())),u.end()}catch(e){u.end(e)}}),yield*u},has(t,n){const{isIdentity:r}=f(t);return r?Promise.resolve(!0):e.has(t,n)},delete(t,n){const{isIdentity:r}=f(t);return r?Promise.resolve():e.delete(t,n)},deleteMany:(t,n)=>e.deleteMany(i(t,e=>!f(e).isIdentity),n),batch(){const t=e.batch();return{put(e,n){const{isIdentity:r}=f(e);r||t.put(e,n)},delete(e){const{isIdentity:n}=f(e);n||t.delete(e)},commit:e=>t.commit(e)}}}}}).call(this,n(49),n(184).setImmediate)},function(e,t){e.exports=class{constructor(e){if(!(e>0)||0!=(e-1&e))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return void 0===this.buffer[this.btm]}}},function(e,t,n){"use strict";e.exports={autoMigrate:!0,onMigrationProgress:()=>{},repoOwner:!0,repoLock:n(372)}},function(e,t,n){"use strict";e.exports={Spec:{type:"mount",mounts:[{mountpoint:"/blocks",type:"measure",prefix:"flatfs.datastore",child:{type:"flatfs",path:"blocks",sync:!0,shardFunc:"/repo/flatfs/shard/v1/next-to-last/2"}},{mountpoint:"/",type:"measure",prefix:"leveldb.datastore",child:{type:"levelds",path:"datastore",compression:"none"}}]}}},function(e,t,n){"use strict";const r=n(117),i=n(4),{PinTypes:o}=n(596);async function a(e,t){const{pinned:n,reason:r}=await t.isPinnedWithType(e,o.all);if(n)throw i(new Error("pinned: "+r),"ERR_BLOCK_PINNED")}e.exports=function(e,t){return{open:()=>t.open(),close:()=>t.close(),query:(e,n)=>t.query(e,n),queryKeys:(e,n)=>t.queryKeys(e,n),get:async(e,n)=>t.get(e,n),async*getMany(e,n){yield*t.getMany(e,n)},async put(e,n,r){await t.put(e,n,r)},async*putMany(e,n){yield*t.putMany(e,n)},has:(e,n)=>t.has(e,n),delete:async(n,r)=>(await a(n,e),t.delete(n,r)),deleteMany:(n,i)=>t.deleteMany(r(n,async t=>(await a(t,e),t)),i),batch:()=>t.batch()}}},function(e,t,n){(function(t){const r=n(33).EventEmitter,{nanoid:i}=n(308),{WORKER_REQUEST_READ_LOCK:o,WORKER_RELEASE_READ_LOCK:a,MASTER_GRANT_READ_LOCK:u,WORKER_REQUEST_WRITE_LOCK:s,WORKER_RELEASE_WRITE_LOCK:c,MASTER_GRANT_WRITE_LOCK:f}=n(600);let l;const d=(e,t,n,r,i)=>(o,a)=>{a&&a.type===n&&e.emit(t,a.name,()=>(o.send({type:i,name:a.name,identifier:a.identifier}),new Promise(e=>{const t=n=>{n&&n.type===r&&n.identifier===a.identifier&&(o.removeListener("message",t),e())};o.on("message",t)})))},h=(e,n,r,o)=>()=>{const a=i();return t.send({type:n,identifier:a,name:e}),new Promise(n=>{const i=u=>{u&&u.type===r&&u.identifier===a&&(t.removeListener("message",i),n(()=>{t.send({type:o,identifier:a,name:e})}))};t.on("message",i)})};e.exports=e=>{try{if(l=n(1217),!Object.keys(l).length)return}catch(e){return}if(l.isMaster||e.singleProcess){const e=new r;return l.on("message",d(e,"requestReadLock",o,a,u)),l.on("message",d(e,"requestWriteLock",s,c,f)),e}return{isWorker:!0,readLock:e=>h(e,o,u,a),writeLock:e=>h(e,s,f,c)}}}).call(this,n(49))},function(e,t){},function(e,t,n){const r=n(33).EventEmitter,{nanoid:i}=n(308),{WORKER_REQUEST_READ_LOCK:o,WORKER_RELEASE_READ_LOCK:a,MASTER_GRANT_READ_LOCK:u,WORKER_REQUEST_WRITE_LOCK:s,WORKER_RELEASE_WRITE_LOCK:c,MASTER_GRANT_WRITE_LOCK:f}=n(600),l=n(601),d=(e,t,n,r,i)=>(o,a)=>{if(!a||!a.data||a.data.type!==n)return;const u={type:a.data.type,name:a.data.name,identifier:a.data.identifier};e.emit(t,u.name,()=>(o.postMessage({type:i,name:u.name,identifier:u.identifier}),new Promise(e=>{const t=n=>{if(!n||!n.data)return;const i={type:n.data.type,name:n.data.name,identifier:n.data.identifier};i&&i.type===r&&i.identifier===u.identifier&&(o.removeEventListener("message",t),e())};o.addEventListener("message",t)})))},h=(e,t,n,r)=>()=>{const o=i();return globalThis.postMessage({type:t,identifier:o,name:e}),new Promise(t=>{const i=a=>{if(!a||!a.data)return;const u={type:a.data.type,identifier:a.data.identifier};u&&u.type===n&&u.identifier===o&&(globalThis.removeEventListener("message",i),t(()=>{globalThis.postMessage({type:r,identifier:o,name:e})}))};globalThis.addEventListener("message",i)})},p={singleProcess:!1};e.exports=e=>{e=Object.assign({},p,e);if(!!globalThis.document||e.singleProcess){const e=new r;return l.addEventListener("message",d(e,"requestReadLock",o,a,u)),l.addEventListener("message",d(e,"requestWriteLock",s,c,f)),e}return{isWorker:!0,readLock:e=>h(e,o,u,a),writeLock:e=>h(e,s,f,c)}}},function(e,t,n){"use strict";var r;e.exports.timeout=function(e,t){var n,i=new r;return Promise.race([e,new Promise((function(e,r){n=setTimeout((function(){r(i)}),t)}))]).then((function(e){return clearTimeout(n),e}),(function(e){throw clearTimeout(n),e}))};(r=e.exports.TimeoutError=function(){Error.call(this),this.stack=Error().stack,this.message="Timeout"}).prototype=Object.create(Error.prototype),r.prototype.name="TimeoutError"},function(e,t,n){"use strict";const{CID:r}=n(12),i=n(6)("ipfs:repo:gc"),{Errors:o}=n(47),a=o.notFoundError().code,u=n(374),{pipe:s}=n(66),c=n(234),f=n(117),l=n(154),{Key:d}=n(47),{base32:h}=n(85),p=n(598),m=new d("/local/filesroot");e.exports=({gcLock:e,pins:t,blockstore:n,root:o,loadCodec:d})=>async function*(){const y=Date.now();i("Creating set of marked blocks");const v=await e.writeLock();try{const e=await async function({pins:e,blockstore:t,loadCodec:n,root:o}){const u=async function*(){let e;try{e=await o.get(m)}catch(e){if(e.code===a)return void i("No blocks in MFS");throw e}const u=r.decode(e);yield u,yield*p(u,t,n)}(),s=c(f(e.recursiveKeys(),({cid:e})=>e),e.indirectKeys(),f(e.directKeys(),({cid:e})=>e),u),l=new Set;for await(const e of c(s,u))l.add(h.encode(e.multihash.bytes));return l}({pins:t,blockstore:n,root:o,loadCodec:d}),g=n.queryKeys({});yield*async function*({blockstore:e},t,n){let r=0,o=0;yield*s(u(f(n,async n=>async function(){r++;try{const r=h.encode(n.multihash.bytes);if(t.has(r))return null;try{await e.delete(n),o++}catch(e){return{err:new Error(`Could not delete block with CID ${n}: ${e.message}`)}}return{cid:n}}catch(e){const t="Could delete block with CID "+n;return i(t,e),{err:new Error(t+": "+e.message)}}}),256),e=>l(e,Boolean)),i(`Marked set has ${t.size} unique blocks. Blockstore has ${r} blocks. Deleted ${o} blocks.`)}({blockstore:n},e,g),i(`Complete (${Date.now()-y}ms)`)}finally{v()}}},function(e,t,n){"use strict";const{PinTypes:r}=n(196),i=n(233),{resolvePath:o}=n(81),a=n(17),u=n(4);function s(e,t,n){const r={type:e,cid:t};return n&&(r.metadata=n),r}e.exports=({repo:e,codecs:t})=>a((async function*(n={}){let a=r.all;if(n.type&&(a=n.type,!Object.keys(r).includes(a)))throw u(new Error("Invalid pin type"),"ERR_INVALID_PIN_TYPE");if(n.paths){let c=!1;for await(const{path:f}of i(n.paths)){const{cid:n}=await o(e,t,f),{reason:i,pinned:l,parent:d,metadata:h}=await e.pins.isPinnedWithType(n,a);if(!l)throw u(new Error(`path '${f}' is not pinned`),"ERR_NOT_PINNED");switch(i){case r.direct:case r.recursive:c=!0,yield s(i,n,h);break;default:c=!0,yield s(`${r.indirect} through ${d}`,n,h)}}if(!c)throw new Error("No match found")}else{if(a===r.recursive||a===r.all)for await(const{cid:t,metadata:n}of e.pins.recursiveKeys())yield s(r.recursive,t,n);if(a===r.indirect||a===r.all)for await(const t of e.pins.indirectKeys(n))yield s(r.indirect,t);if(a===r.direct||a===r.all)for await(const{cid:t,metadata:n}of e.pins.directKeys())yield s(r.direct,t,n)}}))},function(e,t,n){"use strict";const r=n(97);e.exports=({rmAll:e})=>(t,n={})=>r(e([{path:t,...n}],n))},function(e,t,n){"use strict";const r=n(233),{resolvePath:i}=n(81),o=n(17),{PinTypes:a}=n(196);e.exports=({repo:e,codecs:t})=>o((async function*(n,o={}){const u=await e.gcLock.readLock();try{for await(const{path:o,recursive:u}of r(n)){const{cid:n}=await i(e,t,o),{pinned:r,reason:s}=await e.pins.isPinnedWithType(n,a.all);if(!r)throw new Error(n+" is not pinned");switch(s){case a.recursive:if(!u)throw new Error(n+" is pinned recursively");await e.pins.unpin(n),yield n;break;case a.direct:await e.pins.unpin(n),yield n;break;default:throw new Error(`${n} is pinned indirectly under ${s}`)}}}finally{u()}}))},function(e,t,n){"use strict";const r=n(1225),i=n(1234),o=n(604),{NotInitializedError:a,AlreadyInitializedError:u}=n(171),s=n(6)("ipfs:components:ipns");e.exports=class{constructor(e={pass:""}){this.options=e,this.offline=null,this.online=null}getIPNS(){const e=this.online||this.offline;if(e)return e;throw new a}get routing(){return this.getIPNS().routing}startOffline({repo:e,peerId:t,keychain:n}){if(null!=this.offline)throw new u;s("initializing IPNS keyspace");const i=new o(e),a=new r(i,e.datastore,t,n,this.options);this.offline=a}async startOnline({libp2p:e,repo:t,peerId:n,keychain:o}){if(null!=this.online)throw new u;const a=i({libp2p:e,repo:t,peerId:n,options:this.options}),s=new r(a,t.datastore,n,o,this.options);await s.republisher.start(),this.online=s}async stop(){const e=this.online;e&&(await e.republisher.stop(),this.online=null)}publish(e,t,n){return this.getIPNS().publish(e,t,n)}resolve(e,t){return this.getIPNS().resolve(e,t)}initializeKeyspace(e,t){return this.getIPNS().initializeKeyspace(e,t)}}},function(e,t,n){"use strict";const{createFromPrivKey:r}=n(31),i=n(4),o=n(6),a=Object.assign(o("ipfs:ipns"),{error:o("ipfs:ipns:error")}),u=n(1226),s=n(1232),c=n(1233),f=n(590),l=n(45);e.exports=class{constructor(e,t,n,r,i){this.publisher=new u(e,t),this.republisher=new s(this.publisher,t,n,r,i),this.resolver=new c(e),this.cache=new f(1e3),this.routing=e}async publish(e,t,n=u.defaultRecordLifetime){try{const i=await r(e.bytes);await this.publisher.publishWithEOL(e,t,n),a(`IPNS value ${l(t,"base32")} was published correctly`);const o=i.toB58String(),u=parseFloat(n),s=u<6e4?u:6e4;return this.cache.set(o,t,s),a(`IPNS value ${l(t,"base32")} was cached correctly`),{name:o,value:t}}catch(e){throw a.error(e),e}}async resolve(e,t={}){if("string"!=typeof e)throw i(new Error("name received is not valid"),"ERR_INVALID_NAME");if(!t.nocache&&!t.recursive){const t=e.split("/")[2],n=this.cache.get(t);if(n)return n}try{const n=await this.resolver.resolve(e,t);return a(`IPNS record from ${e} was resolved correctly`),n}catch(e){throw a.error(e),e}}async initializeKeyspace(e,t){return this.publish(e,t,u.defaultRecordLifetime)}}},function(e,t,n){"use strict";const r=n(31),{Key:i,Errors:o}=n(47),a=n(4),u=n(6),s=Object.assign(u("ipfs:ipns:publisher"),{error:u("ipfs:ipns:publisher:error")}),c=n(45),f=n(96),l=n(235),d=o.notFoundError().code;class h{constructor(e,t){this._routing=e,this._datastore=t}async publishWithEOL(e,t,n){if(!e||!e.bytes)throw a(new Error("invalid private key"),"ERR_INVALID_PRIVATE_KEY");const i=await r.createFromPrivKey(e.bytes),o=await this._updateOrCreateRecord(e,t,n,i);return this._putRecordToRouting(o,i)}publish(e,t){return this.publishWithEOL(e,t,36e5)}async _putRecordToRouting(e,t){if(!r.isPeerId(t)){const e="peerId received is not valid";throw s.error(e),a(new Error(e),"ERR_INVALID_PEER_ID")}const n=t._pubKey,i=await l.embedPublicKey(n,e),o=l.getIdKeys(t.toBytes());return await this._publishEntry(o.routingKey,i||e),await this._publishPublicKey(o.routingPubKey,n),i||e}async _publishEntry(e,t){if(!(e instanceof i)){const e="datastore key does not have a valid format";throw s.error(e),a(new Error(e),"ERR_INVALID_DATASTORE_KEY")}let n;try{n=l.marshal(t)}catch(e){throw s.error(e),e}try{const t=await this._routing.put(e.uint8Array(),n);return s(`ipns record for ${c(e.uint8Array(),"base64")} was stored in the routing`),t}catch(t){const n=`ipns record for ${c(e.uint8Array(),"base64")} could not be stored in the routing`;throw s.error(n),s.error(t),a(new Error(n),"ERR_PUTTING_TO_ROUTING")}}async _publishPublicKey(e,t){if(!(e instanceof i)){const e="datastore key does not have a valid format";throw s.error(e),a(new Error(e),"ERR_INVALID_DATASTORE_KEY")}if(!t||!t.bytes){const e="one or more of the provided parameters are not defined";throw s.error(e),a(new Error(e),"ERR_UNDEFINED_PARAMETER")}try{const n=await this._routing.put(e.uint8Array(),t.bytes);return s(`public key for ${c(e.uint8Array(),"base64")} was stored in the routing`),n}catch(t){const n=`public key for ${c(e.uint8Array(),"base64")} could not be stored in the routing`;throw s.error(n),s.error(t),a(new Error(n),"ERR_PUTTING_TO_ROUTING")}}async _getPublished(e,t={}){if(!r.isPeerId(e)){const e="peerId received is not valid";throw s.error(e),a(new Error(e),"ERR_INVALID_PEER_ID")}const n=!1!==t.checkRouting;try{const t=await this._datastore.get(l.getLocalKey(e.id));return this._unmarshalData(t)}catch(t){if(t.code!==d){const t=`unexpected error getting the ipns record ${e.id} from datastore`;throw s.error(t),a(new Error(t),"ERR_UNEXPECTED_DATASTORE_RESPONSE")}if(!n)throw a(t,"ERR_NOT_FOUND_AND_CHECK_ROUTING_NOT_ENABLED");try{const t=l.getIdKeys(e.toBytes()),n=await this._routing.get(t.routingKey.uint8Array());return this._unmarshalData(n)}catch(e){throw s.error(e),e}}}_unmarshalData(e){try{return l.unmarshal(e)}catch(e){throw a(e,"ERR_INVALID_RECORD_DATA")}}async _updateOrCreateRecord(e,t,n,i){if(!r.isPeerId(i)){const e="peerId received is not valid";throw s.error(e),a(new Error(e),"ERR_INVALID_PEER_ID")}const o={checkRouting:!0};let u;try{u=await this._getPublished(i,o)}catch(e){if(e.code!==d){const t=`unexpected error when determining the last published IPNS record for ${i.id} ${e.stack}`;throw s.error(t),a(new Error(t),"ERR_DETERMINING_PUBLISHED_RECORD")}}let h,p=0n;u&&void 0!==u.sequence&&(p=f(u.value,t)?BigInt(u.sequence):BigInt(u.sequence)+1n);try{h=await l.create(e,t,p,n)}catch(e){const n=`ipns record for ${t} could not be created`;throw s.error(e),a(new Error(n),"ERR_CREATING_IPNS_RECORD")}try{const e=l.marshal(h);return await this._datastore.put(l.getLocalKey(i.id),e),s(`ipns record for ${c(t,"base32")} was stored in the datastore`),h}catch(e){const n=`ipns record for ${t} could not be stored in the datastore`;throw s.error(n),a(new Error(n),"ERR_STORING_IN_DATASTORE")}}}h.defaultRecordLifetime=36e5,e.exports=h},function(e,t,n){
/**
 * Timestamp for 64-bit time_t, nanosecond precision and strftime
 *
 * @author Yusuke Kawasaki
 * @license MIT
 * @see https://github.com/kawanet/timestamp-nano
 */
!function(){e.exports=c;var t=100982246400,n=864e13,r=4294967296,i=Math.trunc||function(e){var t=e-e%1;return 0===t&&(e<0||0===e&&1/e!=1/0)?-0:t},o=c.prototype;c.fromDate=function(e){return new c(+e)},c.fromInt64BE=p(0,1,2,3,0,4),c.fromInt64LE=p(3,2,1,0,4,0),c.fromString=function(e){var t,n=new c,r=(e+="").replace(/^\s*[+\-]?\d+/,(function(e){var t=+e,r=1970+(t-1970)%400;return n.year=t-r,r})).replace(/(?:Z|([+\-]\d{2}):?(\d{2}))$/,(function(e,n,r){return n<0&&(r*=-1),t=6e4*(60*+n+ +r),""})).replace(/\.\d+$/,(function(e){return n.nano=+(e+"000000000").substr(1,9),""})).split(/\D+/);r.length>1?r[1]--:r[1]=0;if(n.time=t=Date.UTC.apply(Date,r)-(t||0),isNaN(t))throw new TypeError("Invalid Date");return f(n)},c.fromTimeT=function(e){return d(e,0)},o.year=0,o.time=0,o.nano=0,o.addNano=function(e){return this.nano+=+e||0,this},o.getNano=function(){var e=f(this);return(e.time%1e3*1e6+ +e.nano+1e9)%1e9},o.getTimeT=function(){var e=f(this),t=Math.floor(e.time/1e3),n=e.year;n&&(t+=1168776*n*86400/3200);return t},o.getYear=function(){return this.toDate().getUTCFullYear()+this.year},o.toDate=function(){return l(f(this).time)},o.toJSON=function(){return this.toString().replace(/0{1,6}Z$/,"Z")},o.toString=function(e){var t=this,n=t.toDate(),r={H:function(){return y(n.getUTCHours())},L:function(){return v(n.getUTCMilliseconds(),3)},M:function(){return y(n.getUTCMinutes())},N:function(){return v(t.getNano(),9)},S:function(){return y(n.getUTCSeconds())},Y:function(){var e=t.getYear();return e>999999?"+"+e:e>9999?"+"+v(e,6):e>=0?v(e,4):e>=-999999?"-"+v(-e,6):e},a:function(){return u[n.getUTCDay()]},b:function(){return a[n.getUTCMonth()]},d:function(){return y(n.getUTCDate())},e:function(){return e=n.getUTCDate(),(e>9?"":" ")+(0|e);var e},m:function(){return y(n.getUTCMonth()+1)}};return function e(t){return t.replace(/%./g,(function(t){var n=t[1],i=s[n],o=r[n];return i?e(i):o?o():t}))}(e||"%Y-%m-%dT%H:%M:%S.%NZ")},o.writeInt64BE=h(0,1,2,3,0,4),o.writeInt64LE=h(3,2,1,0,4,0);var a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s={"%":"%",F:"%Y-%m-%d",n:"\n",R:"%H:%M",T:"%H:%M:%S",t:"\t",X:"%T",Z:"GMT",z:"+0000"};return c;function c(e,t,n){var r=this;if(!(r instanceof c))return new c(e,t,n);r.time=+e||0,r.nano=+t||0,r.year=+n||0,f(r)}function f(e){var t,r,o=e.year,a=e.time,u=e.nano;if(u<0||1e6<=u){var s=Math.floor(u/1e6);u-=1e6*s,a+=s,t=1}var c=o%3200;if(a<-n||n<a||c){(r=i(a/1009822464e5))&&(o+=3200*r,a-=1009822464e5*r);var f=l(a);f.setUTCFullYear(c+f.getUTCFullYear());var d=(a=+f)+1009822464e5*(r=i((o-=c)/3200));r&&-n<=d&&d<=n&&(o-=3200*r,a=d),t=1}return t&&(e.year=o,e.time=a,e.nano=u),e}function l(e){var t=new Date(0);return t.setTime(e),t}function d(e,n){n|=0,e=+e||0;var o=i((n*=r)/t)+i(e/t),a=n%t+e%t,u=i(a/t);return u&&(o+=u,a-=u*t),new c(1e3*a,0,3200*o)}function h(e,t,n,o,a,u){return function(e,t){var n=f(this);e||(e=new Array(8));m(e,t|=0);var o=Math.floor(n.time/1e3),c=31556952*n.year,l=i(c/r)+i(o/r),d=c%r+o%r,h=Math.floor(d/r);h&&(l+=h,d-=h*r);return s(e,t+a,l),s(e,t+u,d),e};function s(r,i,a){r[i+e]=a>>24&255,r[i+t]=a>>16&255,r[i+n]=a>>8&255,r[i+o]=255&a}}function p(e,t,n,r,i,o){return function(e,t){m(e,t|=0);var n=a(e,t+i);return d(a(e,t+o),n)};function a(i,o){return 16777216*i[o+e]+(i[o+t]<<16|i[o+n]<<8|i[o+r])}}function m(e,t){var n=e&&e.length;if(null==n)throw new TypeError("Invalid Buffer");if(n<t+8)throw new RangeError("Out of range")}function y(e){return(e>9?"":"0")+(0|e)}function v(e,t){return("000000000"+(0|e)).substr(-t)}}()},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function i(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var o={},a={};function u(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=c(e,(0|e)<0?-1:0,!0),i&&(a[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=c(e,e<0?-1:0,!1),i&&(o[e]=n),n)}function s(e,t){if(isNaN(e))return t?g:v;if(t){if(e<0)return g;if(e>=p)return S}else{if(e<=-m)return T;if(e+1>=m)return _}return e<0?s(-e,t).neg():c(e%h|0,e/h|0,t)}function c(e,t,n){return new r(e,t,n)}r.fromInt=u,r.fromNumber=s,r.fromBits=c;var f=Math.pow;function l(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return l(e.substring(1),t,n).neg();for(var i=s(f(n,8)),o=v,a=0;a<e.length;a+=8){var u=Math.min(8,e.length-a),c=parseInt(e.substring(a,a+u),n);if(u<8){var d=s(f(n,u));o=o.mul(d).add(s(c))}else o=(o=o.mul(i)).add(s(c))}return o.unsigned=t,o}function d(e,t){return"number"==typeof e?s(e,t):"string"==typeof e?l(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=l,r.fromValue=d;var h=4294967296,p=h*h,m=p/2,y=u(1<<24),v=u(0);r.ZERO=v;var g=u(0,!0);r.UZERO=g;var b=u(1);r.ONE=b;var w=u(1,!0);r.UONE=w;var E=u(-1);r.NEG_ONE=E;var _=c(-1,2147483647,!1);r.MAX_VALUE=_;var S=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=S;var T=c(0,-2147483648,!1);r.MIN_VALUE=T;var A=r.prototype;A.toInt=function(){return this.unsigned?this.low>>>0:this.low},A.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},A.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(T)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=s(f(e,6),this.unsigned),o=this,a="";;){var u=o.div(i),c=(o.sub(u.mul(i)).toInt()>>>0).toString(e);if((o=u).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},A.getHighBits=function(){return this.high},A.getHighBitsUnsigned=function(){return this.high>>>0},A.getLowBits=function(){return this.low},A.getLowBitsUnsigned=function(){return this.low>>>0},A.getNumBitsAbs=function(){if(this.isNegative())return this.eq(T)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},A.isZero=function(){return 0===this.high&&0===this.low},A.eqz=A.isZero,A.isNegative=function(){return!this.unsigned&&this.high<0},A.isPositive=function(){return this.unsigned||this.high>=0},A.isOdd=function(){return 1==(1&this.low)},A.isEven=function(){return 0==(1&this.low)},A.equals=function(e){return i(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},A.eq=A.equals,A.notEquals=function(e){return!this.eq(e)},A.neq=A.notEquals,A.ne=A.notEquals,A.lessThan=function(e){return this.comp(e)<0},A.lt=A.lessThan,A.lessThanOrEqual=function(e){return this.comp(e)<=0},A.lte=A.lessThanOrEqual,A.le=A.lessThanOrEqual,A.greaterThan=function(e){return this.comp(e)>0},A.gt=A.greaterThan,A.greaterThanOrEqual=function(e){return this.comp(e)>=0},A.gte=A.greaterThanOrEqual,A.ge=A.greaterThanOrEqual,A.compare=function(e){if(i(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},A.comp=A.compare,A.negate=function(){return!this.unsigned&&this.eq(T)?T:this.not().add(b)},A.neg=A.negate,A.add=function(e){i(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,a=e.high>>>16,u=65535&e.high,s=e.low>>>16,f=0,l=0,h=0,p=0;return h+=(p+=o+(65535&e.low))>>>16,l+=(h+=r+s)>>>16,f+=(l+=n+u)>>>16,f+=t+a,c((h&=65535)<<16|(p&=65535),(f&=65535)<<16|(l&=65535),this.unsigned)},A.subtract=function(e){return i(e)||(e=d(e)),this.add(e.neg())},A.sub=A.subtract,A.multiply=function(e){if(this.isZero())return v;if(i(e)||(e=d(e)),n)return c(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(T))return e.isOdd()?T:v;if(e.eq(T))return this.isOdd()?T:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(y)&&e.lt(y))return s(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,o=this.low>>>16,a=65535&this.low,u=e.high>>>16,f=65535&e.high,l=e.low>>>16,h=65535&e.low,p=0,m=0,g=0,b=0;return g+=(b+=a*h)>>>16,m+=(g+=o*h)>>>16,g&=65535,m+=(g+=a*l)>>>16,p+=(m+=r*h)>>>16,m&=65535,p+=(m+=o*l)>>>16,m&=65535,p+=(m+=a*f)>>>16,p+=t*h+r*l+o*f+a*u,c((g&=65535)<<16|(b&=65535),(p&=65535)<<16|(m&=65535),this.unsigned)},A.mul=A.multiply,A.divide=function(e){if(i(e)||(e=d(e)),e.isZero())throw Error("division by zero");var t,r,o;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return w;o=g}else{if(this.eq(T))return e.eq(b)||e.eq(E)?T:e.eq(T)?b:(t=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?b:E:(r=this.sub(e.mul(t)),o=t.add(r.div(e)));if(e.eq(T))return this.unsigned?g:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=v}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),u=a<=48?1:f(2,a-48),l=s(t),h=l.mul(e);h.isNegative()||h.gt(r);)h=(l=s(t-=u,this.unsigned)).mul(e);l.isZero()&&(l=b),o=o.add(l),r=r.sub(h)}return o},A.div=A.divide,A.modulo=function(e){return i(e)||(e=d(e)),n?c((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},A.mod=A.modulo,A.rem=A.modulo,A.not=function(){return c(~this.low,~this.high,this.unsigned)},A.and=function(e){return i(e)||(e=d(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},A.or=function(e){return i(e)||(e=d(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},A.xor=function(e){return i(e)||(e=d(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},A.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},A.shl=A.shiftLeft,A.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},A.shr=A.shiftRight,A.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},A.shru=A.shiftRightUnsigned,A.shr_u=A.shiftRightUnsigned,A.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},A.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},A.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},A.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},A.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t,n){"use strict";var r=n(80),i=r.Reader,o=r.Writer,a=r.util,u=r.roots["ipfs-ipns"]||(r.roots["ipfs-ipns"]={});u.IpnsEntry=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.value=a.newBuffer([]),e.prototype.signature=a.newBuffer([]),e.prototype.validityType=0,e.prototype.validity=a.newBuffer([]),e.prototype.sequence=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.ttl=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.pubKey=a.newBuffer([]),e.prototype.signatureV2=a.newBuffer([]),e.prototype.data=a.newBuffer([]),e.encode=function(e,t){return t||(t=o.create()),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(10).bytes(e.value),null!=e.signature&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(18).bytes(e.signature),null!=e.validityType&&Object.hasOwnProperty.call(e,"validityType")&&t.uint32(24).int32(e.validityType),null!=e.validity&&Object.hasOwnProperty.call(e,"validity")&&t.uint32(34).bytes(e.validity),null!=e.sequence&&Object.hasOwnProperty.call(e,"sequence")&&t.uint32(40).uint64(e.sequence),null!=e.ttl&&Object.hasOwnProperty.call(e,"ttl")&&t.uint32(48).uint64(e.ttl),null!=e.pubKey&&Object.hasOwnProperty.call(e,"pubKey")&&t.uint32(58).bytes(e.pubKey),null!=e.signatureV2&&Object.hasOwnProperty.call(e,"signatureV2")&&t.uint32(66).bytes(e.signatureV2),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(74).bytes(e.data),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.IpnsEntry;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.value=e.bytes();break;case 2:r.signature=e.bytes();break;case 3:r.validityType=e.int32();break;case 4:r.validity=e.bytes();break;case 5:r.sequence=e.uint64();break;case 6:r.ttl=e.uint64();break;case 7:r.pubKey=e.bytes();break;case 8:r.signatureV2=e.bytes();break;case 9:r.data=e.bytes();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.IpnsEntry)return e;var t=new u.IpnsEntry;switch(null!=e.value&&("string"==typeof e.value?a.base64.decode(e.value,t.value=a.newBuffer(a.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),null!=e.signature&&("string"==typeof e.signature?a.base64.decode(e.signature,t.signature=a.newBuffer(a.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),e.validityType){case"EOL":case 0:t.validityType=0}return null!=e.validity&&("string"==typeof e.validity?a.base64.decode(e.validity,t.validity=a.newBuffer(a.base64.length(e.validity)),0):e.validity.length&&(t.validity=e.validity)),null!=e.sequence&&(a.Long?(t.sequence=a.Long.fromValue(e.sequence)).unsigned=!0:"string"==typeof e.sequence?t.sequence=parseInt(e.sequence,10):"number"==typeof e.sequence?t.sequence=e.sequence:"object"==typeof e.sequence&&(t.sequence=new a.LongBits(e.sequence.low>>>0,e.sequence.high>>>0).toNumber(!0))),null!=e.ttl&&(a.Long?(t.ttl=a.Long.fromValue(e.ttl)).unsigned=!0:"string"==typeof e.ttl?t.ttl=parseInt(e.ttl,10):"number"==typeof e.ttl?t.ttl=e.ttl:"object"==typeof e.ttl&&(t.ttl=new a.LongBits(e.ttl.low>>>0,e.ttl.high>>>0).toNumber(!0))),null!=e.pubKey&&("string"==typeof e.pubKey?a.base64.decode(e.pubKey,t.pubKey=a.newBuffer(a.base64.length(e.pubKey)),0):e.pubKey.length&&(t.pubKey=e.pubKey)),null!=e.signatureV2&&("string"==typeof e.signatureV2?a.base64.decode(e.signatureV2,t.signatureV2=a.newBuffer(a.base64.length(e.signatureV2)),0):e.signatureV2.length&&(t.signatureV2=e.signatureV2)),null!=e.data&&("string"==typeof e.data?a.base64.decode(e.data,t.data=a.newBuffer(a.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(t.bytes===String?n.value="":(n.value=[],t.bytes!==Array&&(n.value=a.newBuffer(n.value))),t.bytes===String?n.signature="":(n.signature=[],t.bytes!==Array&&(n.signature=a.newBuffer(n.signature))),n.validityType=t.enums===String?"EOL":0,t.bytes===String?n.validity="":(n.validity=[],t.bytes!==Array&&(n.validity=a.newBuffer(n.validity))),a.Long){var r=new a.Long(0,0,!0);n.sequence=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.sequence=t.longs===String?"0":0;if(a.Long){r=new a.Long(0,0,!0);n.ttl=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.ttl=t.longs===String?"0":0;t.bytes===String?n.pubKey="":(n.pubKey=[],t.bytes!==Array&&(n.pubKey=a.newBuffer(n.pubKey))),t.bytes===String?n.signatureV2="":(n.signatureV2=[],t.bytes!==Array&&(n.signatureV2=a.newBuffer(n.signatureV2))),t.bytes===String?n.data="":(n.data=[],t.bytes!==Array&&(n.data=a.newBuffer(n.data)))}return null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.bytes===String?a.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=t.bytes===String?a.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature),null!=e.validityType&&e.hasOwnProperty("validityType")&&(n.validityType=t.enums===String?u.IpnsEntry.ValidityType[e.validityType]:e.validityType),null!=e.validity&&e.hasOwnProperty("validity")&&(n.validity=t.bytes===String?a.base64.encode(e.validity,0,e.validity.length):t.bytes===Array?Array.prototype.slice.call(e.validity):e.validity),null!=e.sequence&&e.hasOwnProperty("sequence")&&("number"==typeof e.sequence?n.sequence=t.longs===String?String(e.sequence):e.sequence:n.sequence=t.longs===String?a.Long.prototype.toString.call(e.sequence):t.longs===Number?new a.LongBits(e.sequence.low>>>0,e.sequence.high>>>0).toNumber(!0):e.sequence),null!=e.ttl&&e.hasOwnProperty("ttl")&&("number"==typeof e.ttl?n.ttl=t.longs===String?String(e.ttl):e.ttl:n.ttl=t.longs===String?a.Long.prototype.toString.call(e.ttl):t.longs===Number?new a.LongBits(e.ttl.low>>>0,e.ttl.high>>>0).toNumber(!0):e.ttl),null!=e.pubKey&&e.hasOwnProperty("pubKey")&&(n.pubKey=t.bytes===String?a.base64.encode(e.pubKey,0,e.pubKey.length):t.bytes===Array?Array.prototype.slice.call(e.pubKey):e.pubKey),null!=e.signatureV2&&e.hasOwnProperty("signatureV2")&&(n.signatureV2=t.bytes===String?a.base64.encode(e.signatureV2,0,e.signatureV2.length):t.bytes===Array?Array.prototype.slice.call(e.signatureV2):e.signatureV2),null!=e.data&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?a.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.ValidityType=(t={},(n=Object.create(t))[t[0]="EOL"]=0,n),e}(),e.exports=u},function(e,t,n){"use strict";e.exports.toRFC3339=e=>`${e.getUTCFullYear()}-${String(e.getUTCMonth()+1).padStart(2,"0")}-${String(e.getUTCDate()).padStart(2,"0")}T${String(e.getUTCHours()).padStart(2,"0")}:${String(e.getUTCMinutes()).padStart(2,"0")}:${String(e.getUTCSeconds()).padStart(2,"0")}.${1e3*e.getUTCMilliseconds()*1e3}Z`,e.exports.parseRFC3339=e=>{const t=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)Z"),n=String(e).trim().match(t);if(!n)throw new Error("Invalid format");const r=parseInt(n[1],10),i=parseInt(n[2],10)-1,o=parseInt(n[3],10),a=parseInt(n[4],10),u=parseInt(n[5],10),s=parseInt(n[6],10),c=parseInt(n[7].slice(0,-6),10);return new Date(Date.UTC(r,i,o,a,u,s,c))}},function(e,t,n){"use strict";t.ERR_IPNS_EXPIRED_RECORD="ERR_IPNS_EXPIRED_RECORD",t.ERR_UNRECOGNIZED_VALIDITY="ERR_UNRECOGNIZED_VALIDITY",t.ERR_SIGNATURE_CREATION="ERR_SIGNATURE_CREATION",t.ERR_SIGNATURE_VERIFICATION="ERR_SIGNATURE_VERIFICATION",t.ERR_UNRECOGNIZED_FORMAT="ERR_UNRECOGNIZED_FORMAT",t.ERR_PEER_ID_FROM_PUBLIC_KEY="ERR_PEER_ID_FROM_PUBLIC_KEY",t.ERR_PUBLIC_KEY_FROM_ID="ERR_PUBLIC_KEY_FROM_ID",t.ERR_UNDEFINED_PARAMETER="ERR_UNDEFINED_PARAMETER",t.ERR_INVALID_RECORD_DATA="ERR_INVALID_RECORD_DATA"},function(e,t,n){"use strict";const r=n(235),i=n(133),o=n(31),a=n(4),u=n(6),s=Object.assign(u("ipfs:ipns:republisher"),{error:u("ipfs:ipns:republisher:error")});e.exports=class{constructor(e,t,n,r,i={pass:""}){this._publisher=e,this._datastore=t,this._peerId=n,this._keychain=r,this._options=i,this._republishHandle=null}async start(){if(this._republishHandle)throw a(new Error("republisher is already running"),"ERR_REPUBLISH_ALREADY_RUNNING");const e={_task:null,_inflightTask:null,_timeoutId:null,runPeriodically:t=>{e._timeoutId=setTimeout(async()=>{e._timeoutId=null;try{e._inflightTask=e._task(),await e._inflightTask,e._task&&e.runPeriodically(t)}catch(e){s.error(e)}},t())},cancel:async()=>{null!=e._timeoutId&&clearTimeout(e._timeoutId),e._task=null,await e._inflightTask}},{privKey:t}=this._peerId,{pass:n}=this._options;let r=!0;e._task=()=>this._republishEntries(t,n),e.runPeriodically(()=>r?(r=!1,this._options.initialBroadcastInterval||6e4):this._options.broadcastInterval||144e5),this._republishHandle=e}async stop(){const e=this._republishHandle;if(!e)throw a(new Error("republisher is not running"),"ERR_REPUBLISH_NOT_RUNNING");this._republishHandle=null,await e.cancel()}async _republishEntries(e,t){try{await this._republishEntry(e)}catch(e){const t="cannot republish entry for the node's private key";return void s.error(t)}if(t)try{const e=await this._keychain.listKeys();for(const n of e){if("self"===n.name)continue;const e=await this._keychain.exportKey(n.name,t),r=await i.keys.import(e,t);await this._republishEntry(r)}}catch(e){s.error(e)}}async _republishEntry(e){if(!e||!e.bytes)throw a(new Error("invalid private key"),"ERR_INVALID_PRIVATE_KEY");try{const t=await o.createFromPrivKey(e.bytes),n=await this._getPreviousValue(t);await this._publisher.publishWithEOL(e,n,864e5)}catch(e){if("ERR_NO_ENTRY_FOUND"===e.code)return;throw e}}async _getPreviousValue(e){if(!o.isPeerId(e))throw a(new Error("invalid peer ID"),"ERR_INVALID_PEER_ID");try{const t=await this._datastore.get(r.getLocalKey(e.id));if(!(t instanceof Uint8Array))throw a(new Error("found ipns record that we couldn't process"),"ERR_INVALID_IPNS_RECORD");try{return r.unmarshal(t).value}catch(e){throw s.error(e),a(new Error("found ipns record that we couldn't convert to a value"),"ERR_INVALID_IPNS_RECORD")}}catch(t){if(t&&t.notFound)throw a(new Error("no previous entry for record with id: "+e.id),"ERR_NO_ENTRY_FOUND");throw t}}}},function(e,t,n){"use strict";const r=n(235),i=n(31),o=n(4),a=n(6),u=Object.assign(a("ipfs:ipns:resolver"),{error:a("ipfs:ipns:resolver:error")}),s=n(45),{Errors:c}=n(47),f=c.notFoundError().code;e.exports=class{constructor(e){this._routing=e}async resolve(e,t={}){if("string"!=typeof e)throw o(new Error("invalid name"),"ERR_INVALID_NAME");const n=t.recursive&&"true"===t.recursive.toString(),r=e.split("/");if(3!==r.length||""!==r[0])throw o(new Error("invalid name"),"ERR_INVALID_NAME");const i=r[2];let a=1/0;n&&(a=32);const s=await this.resolver(i,a);return u(e+" was locally resolved correctly"),s}async resolver(e,t){if(0===t){const e="could not resolve name (recursion limit of 32 exceeded)";throw u.error(e),o(new Error(e),"ERR_RESOLVE_RECURSION_LIMIT")}const n=await this._resolveName(e),r=n.split("/");return"ipfs"!==r[1]&&t?this.resolver(r[2],t-1):n}async _resolveName(e){const t=i.parse(e),{routingKey:n}=r.getIdKeys(t.toBytes());let a,s;try{a=await this._routing.get(n.uint8Array())}catch(n){if(u.error("could not get record from routing",n),n.code===f)throw o(new Error(`record requested for ${e} was not found in the network`),"ERR_NO_RECORD_FOUND");throw o(new Error("unexpected error getting the ipns record "+t.toString()),"ERR_UNEXPECTED_ERROR_GETTING_RECORD")}try{s=r.unmarshal(a)}catch(e){throw u.error("could not unmarshal record",e),o(new Error("found ipns record that we couldn't convert to a value"),"ERR_INVALID_RECORD_RECEIVED")}return this._validateRecord(t,s)}async _validateRecord(e,t){const n=await r.extractPublicKey(e,t);return await r.validate(n,t),s(t.value)}}},function(e,t,n){"use strict";const{TieredDatastore:r}=n(1235),i=n(291),o=n(603),a=n(604);e.exports=({libp2p:e,repo:t,peerId:n,options:u})=>{const s=[];let c;if(i(u,"EXPERIMENTAL.ipnsPubsub",!1)){const r=e.pubsub,i=t.datastore;c=new o(r,i,n),s.push(c)}if(i(u,"offline")||!i(u,"libp2p.config.dht.enabled",!1)){const e=new a(t);s.push(e)}else s.push(e._dht);return new r(s)}},function(e,t,n){"use strict";const r=n(290),i=n(1236),o=n(1238),a=n(1239),u=n(1240),s=n(602);e.exports={KeytransformDatastore:r,ShardingDatastore:i,MountDatastore:o,TieredDatastore:a,NamespaceDatastore:u,shard:s}},function(e,t,n){"use strict";const{Adapter:r,Key:i,Errors:o}=n(47),a=n(602),u=n(290),s=new i(a.SHARDING_FN),c=new i(a.README_FN);class f extends r{constructor(e,t){super(),this.child=new u(e,{convert:this._convertKey.bind(this),invert:this._invertKey.bind(this)}),this.shard=t}async open(){await this.child.open(),this.shard=await f.create(this.child,this.shard)}_convertKey(e){const t=e.toString();if(t===s.toString()||t===c.toString())return e;return new i(this.shard.fun(t)).child(e)}_invertKey(e){const t=e.toString();return t===s.toString()||t===c.toString()?e:i.withNamespaces(e.list().slice(1))}static async createOrOpen(e,t){try{await f.create(e,t)}catch(e){if(e&&"datastore exists"!==e.message)throw e}return f.open(e)}static async open(e){const t=await a.readShardFun("/",e);return new f(e,t)}static async create(e,t){const n=await e.has(s);if(!n&&!t)throw o.dbOpenFailedError(Error("Shard is required when datastore doesn't have a shard key already."));if(!n){const n="function"==typeof e.putRaw?e.putRaw.bind(e):e.put.bind(e);return await Promise.all([n(s,(new TextEncoder).encode(t.toString()+"\n")),n(c,(new TextEncoder).encode(a.readme))]),t}const r=await a.readShardFun("/",e),i=(r||"").toString(),u=t.toString();if(i!==u)throw new Error(`specified fun ${u} does not match repo shard fun ${i}`);return r}put(e,t,n){return this.child.put(e,t,n)}get(e,t){return this.child.get(e,t)}has(e,t){return this.child.has(e,t)}delete(e,t){return this.child.delete(e,t)}async*putMany(e,t={}){yield*this.child.putMany(e,t)}async*getMany(e,t={}){yield*this.child.getMany(e,t)}async*deleteMany(e,t={}){yield*this.child.deleteMany(e,t)}batch(){return this.child.batch()}query(e,t){const n={offset:e.offset,limit:e.limit,orders:[],filters:[e=>e.key.toString()!==s.toString(),e=>e.key.toString()!==c.toString()]},{prefix:r}=e;if(null!=r&&n.filters.push(e=>this._invertKey(e.key).toString().startsWith(r)),null!=e.filters){const t=e.filters.map(e=>({key:t,value:n})=>e({key:this._invertKey(t),value:n}));n.filters=n.filters.concat(t)}return null!=e.orders&&(n.orders=e.orders.map(e=>(t,n)=>e({key:this._invertKey(t.key),value:t.value},{key:this._invertKey(n.key),value:n.value}))),this.child.query(n,t)}queryKeys(e,t){const n={offset:e.offset,limit:e.limit,orders:[],filters:[e=>e.toString()!==s.toString(),e=>e.toString()!==c.toString()]},{prefix:r}=e;if(null!=r&&n.filters.push(e=>this._invertKey(e).toString().startsWith(r)),null!=e.filters){const t=e.filters.map(e=>t=>e(this._invertKey(t)));n.filters=n.filters.concat(t)}return null!=e.orders&&(n.orders=e.orders.map(e=>(t,n)=>e(this._invertKey(t),this._invertKey(n)))),this.child.queryKeys(n,t)}close(){return this.child.close()}}e.exports=f},function(e,t,n){"use strict";e.exports="This is a repository of IPLD objects. Each IPLD object is in a single file,\nnamed <base32 encoding of cid>.data. Where <base32 encoding of cid> is the\n\"base32\" encoding of the CID (as specified in\nhttps://github.com/multiformats/multibase) without the 'B' prefix.\nAll the object files are placed in a tree of directories, based on a\nfunction of the CID. This is a form of sharding similar to\nthe objects directory in git repositories. Previously, we used\nprefixes, we now use the next-to-last two charters.\n    func NextToLast(base32cid string) {\n      nextToLastLen := 2\n      offset := len(base32cid) - nextToLastLen - 1\n      return str[offset : offset+nextToLastLen]\n    }\nFor example, an object with a base58 CIDv1 of\n    zb2rhYSxw4ZjuzgCnWSt19Q94ERaeFhu9uSqRgjSdx9bsgM6f\nhas a base32 CIDv1 of\n    BAFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA\nand will be placed at\n    SC/AFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA.data\nwith 'SC' being the last-to-next two characters and the 'B' at the\nbeginning of the CIDv1 string is the multibase prefix that is not\nstored in the filename.\n"},function(e,t,n){"use strict";const{Adapter:r,Key:i,Errors:o,utils:{sortAll:a,replaceStartWith:u}}=n(47),s=n(154),c=n(232),f=n(234),l=n(290);e.exports=class extends r{constructor(e){super(),this.mounts=e.slice()}async open(){await Promise.all(this.mounts.map(e=>e.datastore.open()))}_lookup(e){for(const t of this.mounts)if(t.prefix.toString()===e.toString()||t.prefix.isAncestorOf(e)){const n=u(e.toString(),t.prefix.toString());return{datastore:t.datastore,mountpoint:t.prefix,rest:new i(n)}}}put(e,t,n){const r=this._lookup(e);if(null==r)throw o.dbWriteFailedError(new Error("No datastore mounted for this key"));return r.datastore.put(r.rest,t,n)}get(e,t){const n=this._lookup(e);if(null==n)throw o.notFoundError(new Error("No datastore mounted for this key"));return n.datastore.get(n.rest,t)}has(e,t){const n=this._lookup(e);return null==n?Promise.resolve(!1):n.datastore.has(n.rest,t)}delete(e,t){const n=this._lookup(e);if(null==n)throw o.dbDeleteFailedError(new Error("No datastore mounted for this key"));return n.datastore.delete(n.rest,t)}async close(){await Promise.all(this.mounts.map(e=>e.datastore.close()))}batch(){const e={},t=t=>{const n=this._lookup(t);if(null==n)throw new Error("No datastore mounted for this key");const r=n.mountpoint.toString();return null==e[r]&&(e[r]=n.datastore.batch()),{batch:e[r],rest:n.rest}};return{put:(e,n)=>{const r=t(e);r.batch.put(r.rest,n)},delete:e=>{const n=t(e);n.batch.delete(n.rest)},commit:async t=>{await Promise.all(Object.keys(e).map(n=>e[n].commit(t)))}}}query(e,t){const n=this.mounts.map(n=>{const r=new l(n.datastore,{convert:e=>{throw new Error("should never be called")},invert:e=>n.prefix.child(e)});let i;return null!=e.prefix&&(i=u(e.prefix,n.prefix.toString())),r.query({prefix:i,filters:e.filters},t)});let r=f(...n);if(e.filters&&e.filters.forEach(e=>{r=s(r,e)}),e.orders&&e.orders.forEach(e=>{r=a(r,e)}),null!=e.offset){let t=0;r=s(r,()=>t++>=e.offset)}return null!=e.limit&&(r=c(r,e.limit)),r}queryKeys(e,t){const n=this.mounts.map(n=>{const r=new l(n.datastore,{convert:e=>{throw new Error("should never be called")},invert:e=>n.prefix.child(e)});let i;return null!=e.prefix&&(i=u(e.prefix,n.prefix.toString())),r.queryKeys({prefix:i,filters:e.filters},t)});let r=f(...n);if(e.filters&&e.filters.forEach(e=>{r=s(r,e)}),e.orders&&e.orders.forEach(e=>{r=a(r,e)}),null!=e.offset){let t=0;r=s(r,()=>t++>=e.offset)}return null!=e.limit&&(r=c(r,e.limit)),r}}},function(e,t,n){"use strict";const{Adapter:r,Errors:i}=n(47),o=n(6)("datastore:core:tiered"),a=n(136),u=n(135);e.exports=class extends r{constructor(e){super(),this.stores=e.slice()}async open(){try{await Promise.all(this.stores.map(e=>e.open()))}catch(e){throw i.dbOpenFailedError()}}async put(e,t){try{await Promise.all(this.stores.map(n=>n.put(e,t)))}catch(e){throw i.dbWriteFailedError()}}async get(e,t){for(const n of this.stores)try{const r=await n.get(e,t);if(r)return r}catch(e){o(e)}throw i.notFoundError()}async has(e,t){for(const n of this.stores)if(await n.has(e,t))return!0;return!1}async delete(e,t){try{await Promise.all(this.stores.map(n=>n.delete(e,t)))}catch(e){throw i.dbDeleteFailedError()}}async*putMany(e,t={}){let n;const r=this.stores.map(e=>{const r=a();return u(e.putMany(r,t)).catch(e=>{n=e}),r});try{for await(const t of e){if(n)throw n;r.forEach(e=>e.push(t)),yield t}}finally{r.forEach(e=>e.end())}}async*deleteMany(e,t={}){let n;const r=this.stores.map(e=>{const r=a();return u(e.deleteMany(r,t)).catch(e=>{n=e}),r});try{for await(const t of e){if(n)throw n;r.forEach(e=>e.push(t)),yield t}}finally{r.forEach(e=>e.end())}}async close(){await Promise.all(this.stores.map(e=>e.close()))}batch(){const e=this.stores.map(e=>e.batch());return{put:(t,n)=>{e.forEach(e=>e.put(t,n))},delete:t=>{e.forEach(e=>e.delete(t))},commit:async t=>{for(const n of e)await n.commit(t)}}}query(e,t){return this.stores[this.stores.length-1].query(e,t)}queryKeys(e,t){return this.stores[this.stores.length-1].queryKeys(e,t)}}},function(e,t,n){"use strict";const r=n(47).Key,i=n(290);e.exports=class extends i{constructor(e,t){super(e,{convert:e=>t.child(e),invert(e){if("/"===t.toString())return e;if(!t.isAncestorOf(e))throw new Error(`Expected prefix: (${t.toString()}) in key: ${e.toString()}`);return new r(e.toString().slice(t.toString().length),!1)}}),this.prefix=t}query(e,t){return e.prefix&&"/"!==this.prefix.toString()?super.query(Object.assign({},e,{prefix:this.prefix.child(new r(e.prefix)).toString()})):super.query(e,t)}queryKeys(e,t){return e.prefix&&"/"!==this.prefix.toString()?super.queryKeys(Object.assign({},e,{prefix:this.prefix.child(new r(e.prefix)).toString()})):super.queryKeys(e,t)}}},function(e,t,n){"use strict";const{Key:r,Adapter:i}=n(47),{encodeBase32:o,keyToTopic:a,topicToKey:u}=n(1242),s=n(96),c=n(4),f=n(6),l=Object.assign(f("datastore-pubsub:publisher"),{error:f("datastore-pubsub:publisher:error")});e.exports=class extends i{constructor(e,t,n,r,i){if(super(),!r)throw c(new TypeError("missing validator"),"ERR_INVALID_PARAMETERS");if("function"!=typeof r.validate)throw c(new TypeError("missing validate function"),"ERR_INVALID_PARAMETERS");if("function"!=typeof r.select)throw c(new TypeError("missing select function"),"ERR_INVALID_PARAMETERS");if(i&&"function"!=typeof i)throw c(new TypeError("invalid subscriptionKeyFn received"),"ERR_INVALID_PARAMETERS");this._pubsub=e,this._datastore=t,this._peerId=n,this._validator=r,this._handleSubscriptionKeyFn=i,this._onMessage=this._onMessage.bind(this)}async put(e,t){if(!(e instanceof Uint8Array)){const e="datastore key does not have a valid format";throw l.error(e),c(new Error(e),"ERR_INVALID_DATASTORE_KEY")}if(!(t instanceof Uint8Array)){const e="received value is not a Uint8Array";throw l.error(e),c(new Error(e),"ERR_INVALID_VALUE_RECEIVED")}const n=a(e);l("publish value for topic "+n),await this._pubsub.publish(n,t)}async get(e){if(!(e instanceof Uint8Array)){const e="datastore key does not have a valid format";throw l.error(e),c(new Error(e),"ERR_INVALID_DATASTORE_KEY")}const t=a(e),n=await this._pubsub.getTopics();if(n&&Array.isArray(n)&&n.indexOf(t)>-1)return this._getLocal(e);try{this._pubsub.on(t,this._onMessage),await this._pubsub.subscribe(t)}catch(e){const n="cannot subscribe topic "+t;throw l.error(n),c(new Error(n),"ERR_SUBSCRIBING_TOPIC")}return l("subscribed values for key "+t),this._getLocal(e)}unsubscribe(e){const t=a(e);return this._pubsub.removeListener(t,this._onMessage),this._pubsub.unsubscribe(t)}async _getLocal(e){const t=new r("/"+o(e),!1);let n;try{n=await this._datastore.get(t)}catch(e){if("ERR_NOT_FOUND"!==e.code){const e="unexpected error getting the ipns record for "+t.toString();throw l.error(e),c(new Error(e),"ERR_UNEXPECTED_ERROR_GETTING_RECORD")}const n="local record requested was not found for "+t.toString();throw l.error(n),c(new Error(n),"ERR_NOT_FOUND")}if(!(n instanceof Uint8Array)){const e="found record that we couldn't convert to a value";throw l.error(e),c(new Error(e),"ERR_INVALID_RECORD_RECEIVED")}return n}async _onMessage(e){const{data:t,from:n,topicIDs:r}=e;let i;try{i=u(r[0])}catch(e){return void l.error(e)}if(l("message received for topic "+r[0]),n!==this._peerId.toB58String()){if(this._handleSubscriptionKeyFn){let e;try{e=await this._handleSubscriptionKeyFn(i)}catch(e){return void l.error("message discarded by the subscriptionKeyFn")}i=e}try{await this._storeIfSubscriptionIsBetter(i,t)}catch(e){l.error(e)}}else l("message discarded as it is from the same peer")}async _storeIfSubscriptionIsBetter(e,t){let n=!1;try{n=await this._isBetter(e,t)}catch(e){if("ERR_NOT_VALID_RECORD"!==e.code)throw e}n&&await this._storeRecord(e,t)}async _validateRecord(e,t){return this._validator.validate(e,t)}async _selectRecord(e,t){return 0===await this._validator.select(e,t)}async _isBetter(e,t){try{await this._validateRecord(t,e)}catch(e){const t="record received through pubsub is not valid";throw l.error(t),c(new Error(t),"ERR_NOT_VALID_RECORD")}const n=new r(e);let i;try{i=await this._getLocal(n.uint8Array())}catch(e){return!0}return!s(i,t)&&this._selectRecord(e,[i,t])}async _storeRecord(e,t){const n=new r("/"+o(e),!1);await this._datastore.put(n,t),l(`record for ${a(e)} was stored in the datastore`)}}},function(e,t,n){"use strict";const r=n(4),i=n(45),o=n(44);e.exports={encodeBase32:function(e){return i(e,"base32")},keyToTopic:function(e){return("string"==typeof e||e instanceof String)&&(e=o(e.toString())),"/record/"+i(e,"base64url")},topicToKey:function(e){if("/record/"!==e.substring(0,"/record/".length))throw r(new Error("topic received is not from a record"),"ERR_TOPIC_IS_NOT_FROM_RECORD_NAMESPACE");const t=e.substring("/record/".length);return o(t,"base64url")}}},function(e,t,n){"use strict";const{Record:r}=n(1244),i=n(1245);class o{constructor(e,t,n){if(!(e instanceof Uint8Array))throw new Error("key must be a Uint8Array");if(!(t instanceof Uint8Array))throw new Error("value must be a Uint8Array");this.key=e,this.value=t,this.timeReceived=n}serialize(){return r.encode(this.prepareSerialize()).finish()}prepareSerialize(){return{key:this.key,value:this.value,timeReceived:this.timeReceived&&i.toRFC3339(this.timeReceived)}}static deserialize(e){const t=r.decode(e);return o.fromDeserialized(r.toObject(t,{defaults:!1,arrays:!0,longs:Number,objects:!1}))}static fromDeserialized(e){let t;e.timeReceived&&(t=i.parseRFC3339(e.timeReceived));return new o(e.key,e.value,t)}}e.exports=o},function(e,t,n){"use strict";var r=n(80),i=r.Reader,o=r.Writer,a=r.util,u=r.roots["libp2p-record"]||(r.roots["libp2p-record"]={});u.Record=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.key=a.newBuffer([]),e.prototype.value=a.newBuffer([]),e.prototype.timeReceived="",e.encode=function(e,t){return t||(t=o.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).bytes(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).bytes(e.value),null!=e.timeReceived&&Object.hasOwnProperty.call(e,"timeReceived")&&t.uint32(42).string(e.timeReceived),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Record;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.key=e.bytes();break;case 2:r.value=e.bytes();break;case 5:r.timeReceived=e.string();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.Record)return e;var t=new u.Record;return null!=e.key&&("string"==typeof e.key?a.base64.decode(e.key,t.key=a.newBuffer(a.base64.length(e.key)),0):e.key.length&&(t.key=e.key)),null!=e.value&&("string"==typeof e.value?a.base64.decode(e.value,t.value=a.newBuffer(a.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),null!=e.timeReceived&&(t.timeReceived=String(e.timeReceived)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.key="":(n.key=[],t.bytes!==Array&&(n.key=a.newBuffer(n.key))),t.bytes===String?n.value="":(n.value=[],t.bytes!==Array&&(n.value=a.newBuffer(n.value))),n.timeReceived=""),null!=e.key&&e.hasOwnProperty("key")&&(n.key=t.bytes===String?a.base64.encode(e.key,0,e.key.length):t.bytes===Array?Array.prototype.slice.call(e.key):e.key),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.bytes===String?a.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value),null!=e.timeReceived&&e.hasOwnProperty("timeReceived")&&(n.timeReceived=e.timeReceived),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e.exports=u},function(e,t,n){"use strict";e.exports.toRFC3339=e=>`${e.getUTCFullYear()}-${String(e.getUTCMonth()+1).padStart(2,"0")}-${String(e.getUTCDate()).padStart(2,"0")}T${String(e.getUTCHours()).padStart(2,"0")}:${String(e.getUTCMinutes()).padStart(2,"0")}:${String(e.getUTCSeconds()).padStart(2,"0")}.${1e3*e.getUTCMilliseconds()*1e3}Z`,e.exports.parseRFC3339=e=>{const t=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)Z"),n=String(e).trim().match(t);if(!n)throw new Error("Invalid format");const r=parseInt(n[1],10),i=parseInt(n[2],10)-1,o=parseInt(n[3],10),a=parseInt(n[4],10),u=parseInt(n[5],10),s=parseInt(n[6],10),c=parseInt(n[7].slice(0,-6),10);return new Date(Date.UTC(r,i,o,a,u,s,c))}},function(e,t,n){"use strict";const r=n(4),i=n(115);e.exports={verifyRecord:(e,t)=>{const n=t.key,o=i(n).split("/");if(o.length<3)return;const a=e[o[1].toString()];if(!a){throw r(new Error("Invalid record keytype"),"ERR_INVALID_RECORD_KEY_TYPE")}return a.func(n,t.value)},validators:n(1247)}},function(e,t,n){"use strict";e.exports={pk:n(1248)}},function(e,t,n){"use strict";const{sha256:r}=n(65),i=n(4),o=n(115),a=n(228);e.exports={func:async(e,t)=>{if(!(e instanceof Uint8Array))throw i(new Error('"key" must be a Uint8Array'),"ERR_INVALID_RECORD_KEY_NOT_BUFFER");if(e.byteLength<5)throw i(new Error("invalid public key record"),"ERR_INVALID_RECORD_KEY_TOO_SHORT");if("/pk/"!==o(e.subarray(0,4)))throw i(new Error("key was not prefixed with /pk/"),"ERR_INVALID_RECORD_KEY_BAD_PREFIX");const n=e.slice(4),u=await r.digest(t);if(!a(n,u.bytes))throw i(new Error("public key does not match passed in key"),"ERR_INVALID_RECORD_HASH_MISMATCH")},sign:!1}},function(e,t,n){"use strict";const r=n(4),i=n(115);e.exports={bestRecord:(e,t,n)=>{if(0===n.length){throw r(new Error("No records given"),"ERR_NO_RECORDS_RECEIVED")}const o=i(t).split("/");if(o.length<3){throw r(new Error("Record key does not have a selector function"),"ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")}const a=e[o[1].toString()];if(!a){const e="Unrecognized key prefix: "+o[1];throw r(new Error(e),"ERR_UNRECOGNIZED_KEY_PREFIX")}return a(t,n)},selectors:n(1250)}},function(e,t,n){"use strict";e.exports={pk:n(1251)}},function(e,t,n){"use strict";e.exports=(e,t)=>0},function(e,t,n){"use strict";const r=n(1253),i=n(1255),o=n(1257);e.exports=class{constructor({dns:e,ipns:t,repo:n,codecs:a,peerId:u,isOnline:s,keychain:c,options:f}){this.publish=r({ipns:t,repo:n,codecs:a,peerId:u,isOnline:s,keychain:c}),this.resolve=i({dns:e,ipns:t,peerId:u,isOnline:s,options:f}),this.pubsub=new o({ipns:t,options:f})}}},function(e,t,n){"use strict";const r=n(6),{default:i}=n(287),o=n(133),a=n(4),u=n(44),s=n(45),c=Object.assign(r("ipfs:name:publish"),{error:r("ipfs:name:publish:error")}),{OFFLINE_ERROR:f,normalizePath:l}=n(81),d=n(17),{resolvePath:h}=n(1254);e.exports=({ipns:e,repo:t,codecs:n,peerId:r,isOnline:p,keychain:m})=>{const y=async e=>{if("self"===e)return r.privKey;try{const t=await m.exportKey(e,"temp");return await o.keys.import(t,"temp")}catch(e){throw c.error(e),a(e,"ERR_CANNOT_GET_KEY")}};return d((async function(r,o={}){const d=!(!1===o.resolve),m=o.lifetime||"24h",v=o.key||"self";if(!p())throw a(new Error(f),"OFFLINE_ERROR");try{r=l(r)}catch(e){throw c.error(e),e}let g=0;try{g=i(m)||0,g=parseFloat(g.toFixed(6))}catch(e){throw c.error(e),e}const b=await Promise.all([y(v),d?h({ipns:e,repo:t,codecs:n},r):Promise.resolve()]),w=u(r),E=await e.publish(b[0],w,g);return{name:E.name,value:s(E.value)}}))}},function(e,t,n){"use strict";const r=n(229),i=n(288),o=n(135),{resolve:a}=n(81);t.resolvePath=async({ipns:e,repo:t,codecs:n},u,s)=>{if(r.ipnsPath(u))return e.resolve(u);const{cid:c,path:f}=i(u);await o(a(c,f||"",n,t,s))}},function(e,t,n){"use strict";const r=n(6),i=n(4),o=n(57).bind({ignoreUndefined:!0}),{CID:a}=n(12),u=n(31),s=n(1256),c=n(45),f=Object.assign(r("ipfs:name:resolve"),{error:r("ipfs:name:resolve:error")}),{OFFLINE_ERROR:l}=n(81),d=n(17),h=(e,t)=>t.length>0?e+"/"+t.join("/"):e;e.exports=({dns:e,ipns:t,peerId:n,isOnline:r,options:{offline:p}})=>d((async function*(d,m={}){if(m=o({nocache:!1,recursive:!0},m),p&&m&&m.nocache)throw i(new Error("cannot specify both offline and nocache"),"ERR_NOCACHE_AND_OFFLINE");d||(d=n.toB58String()),d.startsWith("/ipns/")||(d="/ipns/"+d);const[y,v,...g]=d.slice(1).split("/");try{"1"===v.substring(0,1)?u.parse(v):a.parse(v)}catch(t){if(s(v))return void(yield h(await e(v,m),g));throw f.error(t),i(new Error("Invalid IPNS name"),"ERR_IPNS_INVALID_NAME")}if(!r()&&!p)throw i(new Error(l),"OFFLINE_ERROR");const b=await t.resolve(`/${y}/${v}`,m);yield h(b instanceof Uint8Array?c(b):b,g)}))},function(e,t,n){"use strict";var r=/^(?:[a-z0-9](?:[a-z0-9\-]{0,61}[a-z0-9])?\.){0,126}(?:[a-z0-9](?:[a-z0-9\-]{0,61}[a-z0-9]))\.?$/i;e.exports=function(e,t){if(null==t&&(t=!1),e.length<2)return!1;if(e.length>255)return!1;var n=e[e.length-1];if(t){if("."!==n)return!1}else if("."===n)return!1;return r.test(e)}},function(e,t,n){"use strict";const r=n(1258),i=n(1259),o=n(1260);e.exports=class{constructor({ipns:e,options:t}){this.cancel=r({ipns:e,options:t}),this.state=i({ipns:e,options:t}),this.subs=o({ipns:e,options:t})}}},function(e,t,n){"use strict";const{getPubsubRouting:r}=n(376),i=n(17);e.exports=({ipns:e,options:t})=>{const n=t.EXPERIMENTAL;return i((async function(t,i={}){return r(e,n).cancel(t,i)}))}},function(e,t,n){"use strict";const{getPubsubRouting:r}=n(376),i=n(17);e.exports=({ipns:e,options:t})=>{const n=t.EXPERIMENTAL;return i((async function(t={}){try{return{enabled:Boolean(r(e,n))}}catch(e){return{enabled:!1}}}))}},function(e,t,n){"use strict";const{getPubsubRouting:r}=n(376),i=n(17);e.exports=({ipns:e,options:t})=>{const n=t.EXPERIMENTAL;return i((async function(t={}){return r(e,n).getSubscriptions(t)}))}},function(e,t,n){"use strict";const r=n(42),{Errors:i}=n(47),o=i.notFoundError().code,a=n(17),u=n(288),{CID:s}=n(12),c={default:"<dst>",edges:"<src> -> <dst>"};async function*f(e,t,n,i,a){const s=await e(i),{cid:c}=u(s),f=null!=a.maxDepth?a.maxDepth:1/0,h=a.unique||!1;for await(const e of async function*(e,t,n,i,a){const u=new Set;yield*async function*n(s,c){const f=c+1;if(!(f>i))try{for await(const i of async function*(e,t,n,i=[]){const o=await e.blocks.get(n),a=(await t.getCodec(n.code)).decode(o),u=n.code===r.code;for(const[e,t]of d(a,i)){if(u){const n=e.match(/^Links\/(\d+)\/Hash$/);if(n){const e=Number(n[1]);if(e<a.Links.length){yield{name:a.Links[e].Name,cid:t};continue}}}yield{name:e,cid:t}}}(e,t,s.cid))yield{parent:s,node:i,isDuplicate:a&&u.has(i.cid.toString())},a&&u.add(i.cid.toString()),yield*n(i,f)}catch(e){throw e.code===o&&(e.message="Could not find object with CID: "+s.cid),e}}({cid:n},0)}(t,n,c,f,h))e.parent&&(e.isDuplicate||(yield{ref:l(e.parent.cid,e.node.cid,e.node.name,a.format)}))}function l(e,t,n="",r=c.default){let i=r.replace(/<src>/g,e.toString());return i=i.replace(/<dst>/g,t.toString()),i=i.replace(/<linkname>/g,n),i}e.exports=function({repo:e,codecs:t,resolve:n,preload:r}){return a((async function*(i,o={}){if(0===o.maxDepth)return;if(o.edges&&o.format&&o.format!==c.default)throw new Error("Cannot set edges to true and also specify format");o.format=o.edges?c.edges:o.format,"number"!=typeof o.maxDepth&&(o.maxDepth=o.recursive?1/0:1);const a=(Array.isArray(i)?i:[i]).map(e=>function(e,t,n){const{cid:r,path:i}=u(t);!1!==n.preload&&e(r);return`/ipfs/${r}${i||""}`}(r,e,o));for(const r of a)yield*f(n,e,t,r,o)}))},e.exports.Format=c;const d=function*(e,t){if(null!=e&&!(e instanceof Uint8Array)){for(const[n,r]of Object.entries(e)){const e=[...t,n];if(null!=r&&"object"==typeof r)if(Array.isArray(r))for(const[t,n]of r.entries()){const r=[...e,t],i=s.asCID(n);i?yield[r.join("/"),i]:"object"==typeof n&&(yield*d(n,r))}else{const t=s.asCID(r);t?yield[e.join("/"),t]:yield*d(r,e)}}return[]}}},function(e,t,n){"use strict";const r=n(17);e.exports=function({repo:e}){return r((async function*(t={}){for await(const n of e.blocks.queryKeys({},{signal:t.signal}))yield{ref:n.toString()}}))}},function(e,t,n){"use strict";const r=n(1264),i=n(1265),o=n(1266),a=n(606);e.exports=class{constructor({network:e}){this.wantlist=r({network:e}),this.wantlistForPeer=i({network:e}),this.unwant=o({network:e}),this.stat=a({network:e})}}},function(e,t,n){"use strict";const r=n(17);e.exports=({network:e})=>r((async function(t={}){const{bitswap:n}=await e.use(t),r=n.getWantlist();return Array.from(r).map(e=>e[1].cid)}))},function(e,t,n){"use strict";const r=n(31),i=n(17);e.exports=({network:e})=>i((async function(t,n={}){const{bitswap:i}=await e.use(n),o=i.wantlistForPeer(r.createFromB58String(t));return Array.from(o).map(e=>e[1].cid)}))},function(e,t,n){"use strict";const r=n(17);e.exports=({network:e})=>r((async function(t,n={}){const{bitswap:r}=await e.use(n);return Array.isArray(t)||(t=[t]),r.unwant(t)}))},function(e,t,n){"use strict";const r=n(1268),i=n(1269),o=n(1270),a=n(1271),u=n(1272);e.exports=class{constructor({repo:e}){this.add=r({repo:e}),this.list=o({repo:e}),this.rm=u({repo:e}),this.clear=i({repo:e}),this.reset=a({repo:e})}}},function(e,t,n){"use strict";const{isValidMultiaddr:r}=n(607),i=n(17);e.exports=({repo:e})=>i((async function(t,n={}){if(!r(t))throw new Error(t+" is not a valid Multiaddr");const i=await e.config.getAll(n),o=i.Bootstrap||[];return o.push(t.toString()),i.Bootstrap=Array.from(new Set(o)).sort((e,t)=>e.localeCompare(t)),await e.config.replace(i),{Peers:[t]}}))},function(e,t,n){"use strict";const r=n(17),{Multiaddr:i}=n(30);e.exports=({repo:e})=>r((async function(t={}){const n=await e.config.getAll(t),r=n.Bootstrap||[];return n.Bootstrap=[],await e.config.replace(n),{Peers:r.map(e=>new i(e))}}))},function(e,t,n){"use strict";const r=n(17),{Multiaddr:i}=n(30);e.exports=({repo:e})=>r((async function(t={}){return{Peers:(await e.config.get("Bootstrap",t)||[]).map(e=>new i(e))}}))},function(e,t,n){"use strict";const r=n(377),i=n(17),{Multiaddr:o}=n(30);e.exports=({repo:e})=>i((async function(t={}){const n=await e.config.getAll(t);return n.Bootstrap=r().Bootstrap,await e.config.replace(n),{Peers:r().Bootstrap.map(e=>new o(e))}}))},function(e,t,n){"use strict";const{isValidMultiaddr:r}=n(607),i=n(17);e.exports=({repo:e})=>i((async function(t,n={}){if(!r(t))throw new Error(t+" is not a valid Multiaddr");const i=await e.config.getAll(n);return i.Bootstrap=(i.Bootstrap||[]).filter(e=>e.toString()!==t.toString()),await e.config.replace(i),{Peers:[t]}}))},function(e,t,n){"use strict";const r=n(1274),i=n(1275),o=n(1276),a=n(1277);e.exports=class{constructor({codecs:e,hashers:t,preload:n,repo:u}){this.get=r({preload:n,repo:u}),this.put=i({codecs:e,hashers:t,preload:n,repo:u}),this.rm=o({repo:u}),this.stat=a({preload:n,repo:u})}}},function(e,t,n){"use strict";const r=n(17);e.exports=({preload:e,repo:t})=>r((async function(n,r={}){return!1!==r.preload&&e(n),t.blocks.get(n,r)}))},function(e,t,n){"use strict";const{CID:r}=n(12),i=n(17);e.exports=({codecs:e,hashers:t,repo:n,preload:o})=>i((async function(i,a={}){const u=a.pin?await n.gcLock.readLock():null;try{const s=null!=a.version?a.version:0,c=a.format||(0===s?"dag-pb":"raw"),f=await t.getHasher(a.mhtype||"sha2-256"),l=await f.digest(i),d=await e.getCodec(c),h=r.create(s,d.code,l);return await n.blocks.put(h,i,{signal:a.signal}),!1!==a.preload&&o(h),!0===a.pin&&await n.pins.pinRecursively(h,{signal:a.signal}),h}finally{u&&u()}}))},function(e,t,n){"use strict";const r=n(4),{parallelMap:i,filter:o}=n(236),{pipe:a}=n(66),{cleanCid:u}=n(608),s=n(17);e.exports=({repo:e})=>s((async function*(t,n={}){Array.isArray(t)||(t=[t]);const s=await e.gcLock.writeLock();try{yield*a(t,i(8,async t=>{const i={cid:t=u(t)};try{if(!await e.blocks.has(t))throw r(new Error("block not found"),"ERR_BLOCK_NOT_FOUND");await e.blocks.delete(t)}catch(e){n.force||(e.message=`cannot remove ${t}: ${e.message}`,i.error=e)}return i}),o(()=>!n.quiet))}finally{s()}}))},function(e,t,n){"use strict";const{cleanCid:r}=n(608),i=n(17);e.exports=({repo:e,preload:t})=>i((async function(n,i={}){return n=r(n),!1!==i.preload&&t(n),{cid:n,size:(await e.blocks.get(n)).length}}))},function(e,t,n){"use strict";const r=n(1279),i=n(1280),o=n(1307),a=n(1316),u=n(1317);e.exports=class{constructor({preload:e,repo:t,options:n}){const s=i({preload:e,repo:t,options:n});this.addAll=s,this.add=r({addAll:s}),this.cat=o({repo:t,preload:e}),this.get=a({repo:t,preload:e}),this.ls=u({repo:t,preload:e})}}},function(e,t,n){"use strict";const r=n(97);e.exports=({addAll:e})=>async function(t,n={}){const i=await r(e(t,n));if(null==i)throw Error("Failed to add a file, if you see this please report a bug");return i}},function(e,t,n){"use strict";const{importer:r}=n(378),i=n(1303),{parseChunkerString:o}=n(1306),{pipe:a}=n(66),u=n(17),s=n(57).bind({ignoreUndefined:!0});e.exports=({repo:e,preload:t,options:n})=>{const c=n&&n.sharding;return u((async function*(n,u={}){const f=s({shardSplitThreshold:c?1e3:1/0,strategy:"balanced"},u,{...o(u.chunker)});f.hashAlg&&"sha2-256"!==f.hashAlg&&1!==f.cidVersion&&(f.cidVersion=1),f.trickle&&(f.strategy="trickle"),"trickle"===f.strategy&&(f.leafType="raw",f.reduceSingleLeafToSelf=!1),f.cidVersion>0&&void 0===f.rawLeaves&&(f.rawLeaves=!0),void 0!==f.hashAlg&&void 0===f.rawLeaves&&(f.rawLeaves=!0),delete f.trickle;const l={};if(f.progress){const e=f.progress;f.progress=(t,n)=>{l[n]||(l[n]=0),l[n]+=t,e(l[n],n)}}const d=a(i(n),t=>r(t,e.blocks,{...f,pin:!1}),function(e){return async function*(t){for await(const n of t){let t=n.cid;1===e.cidVersion&&(t=t.toV1());let r=n.path?n.path:t.toString();e.wrapWithDirectory&&!n.path&&(r=""),yield{path:r,cid:t,size:n.size,mode:n.unixfs&&n.unixfs.mode,mtime:n.unixfs&&n.unixfs.mtime}}}}(f),function(e,t){return async function*(n){for await(const r of n){(!r.path||t.wrapWithDirectory?""===r.path:!r.path.includes("/"))&&!t.onlyHash&&!1!==t.preload&&e(r.cid),yield r}}}(t,f),function(e,t){return async function*(n){for await(const r of n){const n=!(r.path&&r.path.includes("/"));(null==t.pin||t.pin)&&n&&!t.onlyHash&&await e.pins.pinRecursively(r.cid),yield r}}}(e,f)),h=await e.gcLock.readLock();try{for await(const e of d)delete l[e.path],yield e}finally{h()}}))}},function(e,t,n){!function(n,r){"use strict";var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function o(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function a(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function u(e,t){return e<<t|e>>>32-t}function s(e){return e=a(e^=e>>>16,2246822507),e=a(e^=e>>>13,3266489909),e^=e>>>16}function c(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function f(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function l(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function d(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function h(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=h(e,[0,e[0]>>>1]),e=h(e=f(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=h(e=f(e,[3301882366,444984403]),[0,e[0]>>>1])}i.x86.hash32=function(e,t){if(!i.inputValidation||o(e)){t=t||0;for(var n=e.length%4,r=e.length-n,c=t,f=0,l=3432918353,d=461845907,h=0;h<r;h+=4)f=a(f=e[h]|e[h+1]<<8|e[h+2]<<16|e[h+3]<<24,l),f=a(f=u(f,15),d),c=a(c=u(c^=f,13),5)+3864292196;switch(f=0,n){case 3:f^=e[h+2]<<16;case 2:f^=e[h+1]<<8;case 1:f=a(f^=e[h],l),c^=f=a(f=u(f,15),d)}return(c=s(c^=e.length))>>>0}},i.x86.hash128=function(e,t){if(!i.inputValidation||o(e)){t=t||0;for(var n=e.length%16,r=e.length-n,c=t,f=t,l=t,d=t,h=0,p=0,m=0,y=0,v=597399067,g=2869860233,b=951274213,w=2716044179,E=0;E<r;E+=16)h=e[E]|e[E+1]<<8|e[E+2]<<16|e[E+3]<<24,p=e[E+4]|e[E+5]<<8|e[E+6]<<16|e[E+7]<<24,m=e[E+8]|e[E+9]<<8|e[E+10]<<16|e[E+11]<<24,y=e[E+12]|e[E+13]<<8|e[E+14]<<16|e[E+15]<<24,h=u(h=a(h,v),15),c=u(c^=h=a(h,g),19),c=a(c+=f,5)+1444728091,p=u(p=a(p,g),16),f=u(f^=p=a(p,b),17),f=a(f+=l,5)+197830471,m=u(m=a(m,b),17),l=u(l^=m=a(m,w),15),l=a(l+=d,5)+2530024501,y=u(y=a(y,w),18),d=u(d^=y=a(y,v),13),d=a(d+=c,5)+850148119;switch(h=0,p=0,m=0,y=0,n){case 15:y^=e[E+14]<<16;case 14:y^=e[E+13]<<8;case 13:y=a(y^=e[E+12],w),d^=y=a(y=u(y,18),v);case 12:m^=e[E+11]<<24;case 11:m^=e[E+10]<<16;case 10:m^=e[E+9]<<8;case 9:m=a(m^=e[E+8],b),l^=m=a(m=u(m,17),w);case 8:p^=e[E+7]<<24;case 7:p^=e[E+6]<<16;case 6:p^=e[E+5]<<8;case 5:p=a(p^=e[E+4],g),f^=p=a(p=u(p,16),b);case 4:h^=e[E+3]<<24;case 3:h^=e[E+2]<<16;case 2:h^=e[E+1]<<8;case 1:h=a(h^=e[E],v),c^=h=a(h=u(h,15),g)}return c^=e.length,c+=f^=e.length,c+=l^=e.length,f+=c+=d^=e.length,l+=c,d+=c,c=s(c),c+=f=s(f),c+=l=s(l),f+=c+=d=s(d),l+=c,d+=c,("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)+("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)}},i.x64.hash128=function(e,t){if(!i.inputValidation||o(e)){t=t||0;for(var n=e.length%16,r=e.length-n,a=[0,t],u=[0,t],s=[0,0],m=[0,0],y=[2277735313,289559509],v=[1291169091,658871167],g=0;g<r;g+=16)s=[e[g+4]|e[g+5]<<8|e[g+6]<<16|e[g+7]<<24,e[g]|e[g+1]<<8|e[g+2]<<16|e[g+3]<<24],m=[e[g+12]|e[g+13]<<8|e[g+14]<<16|e[g+15]<<24,e[g+8]|e[g+9]<<8|e[g+10]<<16|e[g+11]<<24],s=l(s=f(s,y),31),a=c(a=l(a=h(a,s=f(s,v)),27),u),a=c(f(a,[0,5]),[0,1390208809]),m=l(m=f(m,v),33),u=c(u=l(u=h(u,m=f(m,y)),31),a),u=c(f(u,[0,5]),[0,944331445]);switch(s=[0,0],m=[0,0],n){case 15:m=h(m,d([0,e[g+14]],48));case 14:m=h(m,d([0,e[g+13]],40));case 13:m=h(m,d([0,e[g+12]],32));case 12:m=h(m,d([0,e[g+11]],24));case 11:m=h(m,d([0,e[g+10]],16));case 10:m=h(m,d([0,e[g+9]],8));case 9:m=f(m=h(m,[0,e[g+8]]),v),u=h(u,m=f(m=l(m,33),y));case 8:s=h(s,d([0,e[g+7]],56));case 7:s=h(s,d([0,e[g+6]],48));case 6:s=h(s,d([0,e[g+5]],40));case 5:s=h(s,d([0,e[g+4]],32));case 4:s=h(s,d([0,e[g+3]],24));case 3:s=h(s,d([0,e[g+2]],16));case 2:s=h(s,d([0,e[g+1]],8));case 1:s=f(s=h(s,[0,e[g]]),y),a=h(a,s=f(s=l(s,31),v))}return a=c(a=h(a,[0,e.length]),u=h(u,[0,e.length])),u=c(u,a),a=c(a=p(a),u=p(u)),u=c(u,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(u[0]>>>0).toString(16)).slice(-8)+("00000000"+(u[1]>>>0).toString(16)).slice(-8)}},e.exports&&(t=e.exports=i),t.murmurHash3=i}()},function(e,t,n){"use strict";const r=n(1283),i=n(1284),o=n(4);function a(e){try{if(e instanceof Uint8Array)return async function*(){yield e}();if(t=e,Symbol.iterator in t)return async function*(){yield*e}();if(function(e){return Symbol.asyncIterator in e}(e))return e}catch{throw o(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}var t;throw o(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}e.exports=async function*(e,t,o){for await(const u of e)if(u.path&&("./"===u.path.substring(0,2)&&(o.wrapWithDirectory=!0),u.path=u.path.split("/").filter(e=>e&&"."!==e).join("/")),u.content){let e,r;e="function"==typeof o.chunker?o.chunker:"rabin"===o.chunker?n(1289):n(1294),r="function"==typeof o.chunkValidator?o.chunkValidator:n(1295);const s={path:u.path,mtime:u.mtime,mode:u.mode,content:e(r(a(u.content),o),o)};yield()=>i(s,t,o)}else{if(!u.path)throw new Error("Import candidate must have content or path or both");{const e={path:u.path,mtime:u.mtime,mode:u.mode};yield()=>r(e,t,o)}}}},function(e,t,n){"use strict";const{UnixFS:r}=n(77),i=n(200),{encode:o,prepare:a}=n(42);e.exports=async(e,t,n)=>{const u=new r({type:"directory",mtime:e.mtime,mode:e.mode}),s=o(a({Data:u.marshal()}));return{cid:await i(s,t,n),path:e.path,unixfs:u,size:s.length}}},function(e,t,n){"use strict";const r=n(4),{UnixFS:i}=n(77),o=n(200),{encode:a,prepare:u}=n(42),s=n(374),c=n(102),f=n(42),l={flat:n(1285),balanced:n(1286),trickle:n(1287)};e.exports=function(e,t,d){const h=l[d.strategy];if(!h)throw r(new Error("Unknown importer build strategy name: "+d.strategy),"ERR_BAD_STRATEGY");return h(async function*(e,t,r){let i,o,a=-1;o="function"==typeof r.bufferImporter?r.bufferImporter:n(1288);for await(const n of s(o(e,t,r),r.blockWriteConcurrency))a++,0!==a?(1===a&&i&&(yield i,i=null),yield n):i=n;i&&(i.single=!0,yield i)}(e,t,d),((e,t,n)=>async function(r){if(1===r.length&&r[0].single&&n.reduceSingleLeafToSelf){const s=r[0];if(s.cid.code===c.code&&(void 0!==e.mtime||void 0!==e.mode)){let r=await t.get(s.cid);s.unixfs=new i({type:"file",mtime:e.mtime,mode:e.mode,data:r}),r=a(u({Data:s.unixfs.marshal()})),s.cid=await o(r,t,{...n,codec:f,hasher:n.hasher,cidVersion:n.cidVersion}),s.size=r.length}return{cid:s.cid,path:e.path,unixfs:s.unixfs,size:s.size}}const s=new i({type:"file",mtime:e.mtime,mode:e.mode}),l=r.filter(e=>!(e.cid.code!==c.code||!e.size)||(!(!e.unixfs||e.unixfs.data||!e.unixfs.fileSize())||Boolean(e.unixfs&&e.unixfs.data&&e.unixfs.data.length))).map(e=>e.cid.code===c.code?(s.addBlockSize(e.size),{Name:"",Tsize:e.size,Hash:e.cid}):(e.unixfs&&e.unixfs.data?s.addBlockSize(e.unixfs.data.length):s.addBlockSize(e.unixfs&&e.unixfs.fileSize()||0),{Name:"",Tsize:e.size,Hash:e.cid})),d={Data:s.marshal(),Links:l},h=a(u(d));return{cid:await o(h,t,n),path:e.path,unixfs:s,size:h.length+d.Links.reduce((e,t)=>e+t.Tsize,0)}})(e,t,d),d)}},function(e,t,n){"use strict";const r=n(231);e.exports=async function(e,t){return t(await r(e))}},function(e,t,n){"use strict";const r=n(375);e.exports=function(e,t,n){return async function e(t,n,i){const o=[];for await(const e of r(t,i.maxChildrenPerNode))o.push(await n(e));if(o.length>1)return e(o,n,i);return o[0]}(e,t,n)}},function(e,t,n){"use strict";const r=n(375);e.exports=async function(e,t,n){const a=new o(n.layerRepeat);let u=0,s=1,c=a;for await(const o of r(e,n.maxChildrenPerNode))c.isFull()&&(c!==a&&a.addChild(await c.reduce(t)),u&&u%n.layerRepeat==0&&s++,c=new i(s,n.layerRepeat,u),u++),c.append(o);return c&&c!==a&&a.addChild(await c.reduce(t)),a.reduce(t)};class i{constructor(e,t,n=0){this.maxDepth=e,this.layerRepeat=t,this.currentDepth=1,this.iteration=n,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:e,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;const e=this._findParent(this.node,this.currentDepth);return!e||(this._addNextNodeToParent(e),!1)}_addNextNodeToParent(e){this.parent=e;const t={children:[],depth:e.depth+1,parent:e,maxDepth:this.maxDepth,maxChildren:Math.floor(e.children.length/this.layerRepeat)*this.layerRepeat};e.children.push(t),this.currentDepth=t.depth,this.node=t}append(e){this.node.data=e}reduce(e){return this._reduce(this.root,e)}async _reduce(e,t){let n=[];return e.children.length&&(n=await Promise.all(e.children.filter(e=>e.data).map(e=>this._reduce(e,t)))),t((e.data||[]).concat(n))}_findParent(e,t){const n=e.parent;if(n&&0!==n.depth)return n.children.length!==n.maxChildren&&n.maxChildren?n:this._findParent(n,t)}}class o extends i{constructor(e){super(0,e),this.root.depth=0,this.currentDepth=1}addChild(e){this.root.children.push(e)}reduce(e){return e((this.root.data||[]).concat(this.root.children))}}},function(e,t,n){"use strict";const{UnixFS:r}=n(77),i=n(200),o=n(42),a=n(102);e.exports=async function*(e,t,n){for await(let u of e.content)yield async()=>{let s;n.progress(u.length,e.path);const c={codec:o,cidVersion:n.cidVersion,hasher:n.hasher,onlyHash:n.onlyHash};return n.rawLeaves?(c.codec=a,c.cidVersion=1):(s=new r({type:n.leafType,data:u,mtime:e.mtime,mode:e.mode}),u=o.encode({Data:s.marshal(),Links:[]})),{cid:await i(u,t,c),unixfs:s,size:u.length}}}},function(e,t,n){"use strict";const r=n(86),{create:i}=n(1290),o=n(4);e.exports=async function*(e,t){let n,a,u;if(t.minChunkSize&&t.maxChunkSize&&t.avgChunkSize)u=t.avgChunkSize,n=t.minChunkSize,a=t.maxChunkSize;else{if(!t.avgChunkSize)throw o(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");u=t.avgChunkSize,n=u/3,a=u+u/2}if(n<16)throw o(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");a<n&&(a=n),u<n&&(u=n);const s=Math.floor(Math.log2(u));for await(const o of async function*(e,t){const n=await i(t.bits,t.min,t.max,t.window),o=new r;for await(const t of e){o.append(t);const e=n.fingerprint(t);for(let t=0;t<e.length;t++){const n=e[t],r=o.slice(0,n);o.consume(n),yield r}}o.length&&(yield o.slice(0))}(e,{min:n,max:a,bits:s,window:t.window,polynomial:t.polynomial}))yield o}},function(e,t,n){const r=n(1291),i=n(1292);e.exports={Rabin:r,create:async(e,t,n,o,a)=>{const u=await i();return new r(u,e,t,n,o,a)}}},function(e,t){e.exports=class{constructor(e,t=12,n=8192,r=32768,i=64,o){this.bits=t,this.min=n,this.max=r,this.asModule=e,this.rabin=new e.Rabin(t,n,r,i,o),this.polynomial=o}fingerprint(e){const{__retain:t,__release:n,__allocArray:r,__getInt32Array:i,Int32Array_ID:o,Uint8Array_ID:a}=this.asModule,u=t(r(o,new Int32Array(Math.ceil(e.length/this.min)))),s=t(r(a,e)),c=i(this.rabin.fingerprint(s,u));n(s),n(u);const f=c.indexOf(0);return f>=0?c.subarray(0,f):c}}},function(e,t,n){const{instantiate:r}=n(1293);function i(e={}){if(!i.supported)return null;var t=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return r(new Response(new Blob([t],{type:"application/wasm"})),e)}i.supported="undefined"!=typeof WebAssembly,e.exports=i},function(e,t,n){"use strict";const r="undefined"!=typeof BigUint64Array,i=Symbol();function o(e,t){const n=new Uint32Array(e),r=new Uint16Array(e);var i=n[t+-4>>>2]>>>1,o=t>>>1;if(i<=1024)return String.fromCharCode.apply(String,r.subarray(o,o+i));const a=[];do{const e=r[o+1024-1],t=e>=55296&&e<56320?1023:1024;a.push(String.fromCharCode.apply(String,r.subarray(o,o+=t))),i-=t}while(i>1024);return a.join("")+String.fromCharCode.apply(String,r.subarray(o,o+i))}function a(e){const t={};function n(e,t){return e?o(e.buffer,t):"<yet unknown>"}const r=e.env=e.env||{};return r.abort=r.abort||function(e,i,o,a){const u=t.memory||r.memory;throw Error("abort: "+n(u,e)+" at "+n(u,i)+":"+o+":"+a)},r.trace=r.trace||function(e,i){const o=t.memory||r.memory;console.log("trace: "+n(o,e)+(i?" ":"")+Array.prototype.slice.call(arguments,2,2+i).join(", "))},e.Math=e.Math||Math,e.Date=e.Date||Date,t}function u(e,t){const n=t.exports,i=n.memory,a=n.table,u=n.__alloc,s=n.__retain,c=n.__rtti_base||-1;function f(e){const t=new Uint32Array(i.buffer);if((e>>>=0)>=t[c>>>2])throw Error("invalid id: "+e);return t[(c+4>>>2)+2*e]}function d(e){const t=new Uint32Array(i.buffer);if((e>>>=0)>=t[c>>>2])throw Error("invalid id: "+e);return t[(c+4>>>2)+2*e+1]}function h(e){return 31-Math.clz32(e>>>5&31)}function p(e,t,n){const r=i.buffer;if(n)switch(e){case 2:return new Float32Array(r);case 3:return new Float64Array(r)}else switch(e){case 0:return new(t?Int8Array:Uint8Array)(r);case 1:return new(t?Int16Array:Uint16Array)(r);case 2:return new(t?Int32Array:Uint32Array)(r);case 3:return new(t?BigInt64Array:BigUint64Array)(r)}throw Error("unsupported align: "+e)}function m(e){const t=new Uint32Array(i.buffer),n=t[e+-8>>>2],r=f(n);if(!(1&r))throw Error("not an array: "+n);const o=h(r);var a=t[e+4>>>2];const u=2&r?t[e+12>>>2]:t[a+-4>>>2]>>>o;return p(o,1024&r,2048&r).subarray(a>>>=o,a+u)}function y(e,t,n){return new e(v(e,t,n))}function v(e,t,n){const r=i.buffer,o=new Uint32Array(r),a=o[n+4>>>2];return new e(r,a,o[a+-4>>>2]>>>t)}return e.__allocString=function(e){const t=e.length,n=u(t<<1,1),r=new Uint16Array(i.buffer);for(var o=0,a=n>>>1;o<t;++o)r[a+o]=e.charCodeAt(o);return n},e.__getString=function(e){const t=i.buffer;if(1!==new Uint32Array(t)[e+-8>>>2])throw Error("not a string: "+e);return o(t,e)},e.__allocArray=function(e,t){const n=f(e);if(!(3&n))throw Error("not an array: "+e+" @ "+n);const r=h(n),o=t.length,a=u(o<<r,0),c=u(2&n?16:12,e),l=new Uint32Array(i.buffer);l[c+0>>>2]=s(a),l[c+4>>>2]=a,l[c+8>>>2]=o<<r,2&n&&(l[c+12>>>2]=o);const d=p(r,1024&n,2048&n);if(8192&n)for(let e=0;e<o;++e)d[(a>>>r)+e]=s(t[e]);else d.set(t,a>>>r);return c},e.__getArrayView=m,e.__getArray=function(e){const t=m(e),n=t.length,r=new Array(n);for(let e=0;e<n;e++)r[e]=t[e];return r},e.__getArrayBuffer=function(e){const t=i.buffer,n=new Uint32Array(t)[e+-4>>>2];return t.slice(e,e+n)},e.__getInt8Array=y.bind(null,Int8Array,0),e.__getInt8ArrayView=v.bind(null,Int8Array,0),e.__getUint8Array=y.bind(null,Uint8Array,0),e.__getUint8ArrayView=v.bind(null,Uint8Array,0),e.__getUint8ClampedArray=y.bind(null,Uint8ClampedArray,0),e.__getUint8ClampedArrayView=v.bind(null,Uint8ClampedArray,0),e.__getInt16Array=y.bind(null,Int16Array,1),e.__getInt16ArrayView=v.bind(null,Int16Array,1),e.__getUint16Array=y.bind(null,Uint16Array,1),e.__getUint16ArrayView=v.bind(null,Uint16Array,1),e.__getInt32Array=y.bind(null,Int32Array,2),e.__getInt32ArrayView=v.bind(null,Int32Array,2),e.__getUint32Array=y.bind(null,Uint32Array,2),e.__getUint32ArrayView=v.bind(null,Uint32Array,2),r&&(e.__getInt64Array=y.bind(null,BigInt64Array,3),e.__getInt64ArrayView=v.bind(null,BigInt64Array,3),e.__getUint64Array=y.bind(null,BigUint64Array,3),e.__getUint64ArrayView=v.bind(null,BigUint64Array,3)),e.__getFloat32Array=y.bind(null,Float32Array,2),e.__getFloat32ArrayView=v.bind(null,Float32Array,2),e.__getFloat64Array=y.bind(null,Float64Array,3),e.__getFloat64ArrayView=v.bind(null,Float64Array,3),e.__instanceof=function(e,t){const n=new Uint32Array(i.buffer);var r=n[e+-8>>>2];if(r<=n[c>>>2])do{if(r==t)return!0}while(r=d(r));return!1},e.memory=e.memory||i,e.table=e.table||a,l(n,e)}function s(e){return"undefined"!=typeof Response&&e instanceof Response}async function c(e,t){return s(e=await e)?f(e,t):u(a(t||(t={})),await WebAssembly.instantiate(e instanceof WebAssembly.Module?e:await WebAssembly.compile(e),t))}async function f(e,t){return WebAssembly.instantiateStreaming?u(a(t||(t={})),(await WebAssembly.instantiateStreaming(e,t)).instance):c(s(e=await e)?e.arrayBuffer():e,t)}function l(e,t){var n=t?Object.create(t):{},r=e.__argumentsLength?function(t){e.__argumentsLength.value=t}:e.__setArgumentsLength||e.__setargc||function(){};for(let t in e){if(!Object.prototype.hasOwnProperty.call(e,t))continue;const o=e[t];let a=t.split("."),u=n;for(;a.length>1;){let e=a.shift();Object.prototype.hasOwnProperty.call(u,e)||(u[e]={}),u=u[e]}let s=a[0],c=s.indexOf("#");if(c>=0){let n=s.substring(0,c),a=u[n];if(void 0===a||!a.prototype){let e=function(...t){return e.wrap(e.prototype.constructor(0,...t))};e.prototype={valueOf:function(){return this[i]}},e.wrap=function(t){return Object.create(e.prototype,{[i]:{value:t,writable:!1}})},a&&Object.getOwnPropertyNames(a).forEach(t=>Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))),u[n]=e}if(s=s.substring(c+1),u=u[n].prototype,/^(get|set):/.test(s)){if(!Object.prototype.hasOwnProperty.call(u,s=s.substring(4))){let n=e[t.replace("set:","get:")],r=e[t.replace("get:","set:")];Object.defineProperty(u,s,{get:function(){return n(this[i])},set:function(e){r(this[i],e)},enumerable:!0})}}else"constructor"===s?(u[s]=(...e)=>(r(e.length),o(...e))).original=o:(u[s]=function(...e){return r(e.length),o(this[i],...e)}).original=o}else/^(get|set):/.test(s)?Object.prototype.hasOwnProperty.call(u,s=s.substring(4))||Object.defineProperty(u,s,{get:e[t.replace("set:","get:")],set:e[t.replace("get:","set:")],enumerable:!0}):"function"==typeof o&&o!==r?(u[s]=(...e)=>(r(e.length),o(...e))).original=o:u[s]=o}return n}t.instantiate=c,t.instantiateSync=function(e,t){return u(a(t||(t={})),new WebAssembly.Instance(e instanceof WebAssembly.Module?e:new WebAssembly.Module(e),t))},t.instantiateStreaming=f,t.demangle=l},function(e,t,n){"use strict";const r=n(86);e.exports=async function*(e,t){let n=new r,i=0,o=!1;const a=t.maxChunkSize;for await(const t of e)for(n.append(t),i+=t.length;i>=a;)if(yield n.slice(0,a),o=!0,a===n.length)n=new r,i=0;else{const e=new r;e.append(n.shallowSlice(a)),n=e,i-=a}o&&!i||(yield n.slice(0,i))}},function(e,t,n){"use strict";const r=n(4),i=n(44);e.exports=async function*(e){for await(const t of e){if(void 0===t.length)throw r(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"==typeof t||t instanceof String)yield i(t.toString());else if(Array.isArray(t))yield Uint8Array.from(t);else{if(!(t instanceof Uint8Array))throw r(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield t}}}},function(e,t,n){"use strict";const r=n(610),i=n(1297),o=n(380),a=n(1302);async function u(e,t,n){const u=a(e.path||""),s=u.length-1;let c=t,f="";for(let a=0;a<u.length;a++){const l=u[a];f+=`${f?"/":""}${l}`;const d=a===s;if(c.dirty=!0,c.cid=void 0,c.size=void 0,d)await c.put(l,e),t=await i(null,c,n.shardSplitThreshold,n);else{let e=await c.get(l);e&&e instanceof o||(e=new r({root:!1,dir:!0,parent:c,parentKey:l,path:f,dirty:!0,flat:!0,mtime:e&&e.unixfs&&e.unixfs.mtime,mode:e&&e.unixfs&&e.unixfs.mode},n)),await c.put(l,e),c=e}}return t}async function*s(e,t){e instanceof o?yield*e.flush(t):e&&e.unixfs&&e.unixfs.isDirectory()&&(yield e)}e.exports=async function*(e,t,n){let i=new r({root:!0,dir:!0,path:"",dirty:!0,flat:!0},n);for await(const t of e)t&&(i=await u(t,i,n),t.unixfs&&t.unixfs.isDirectory()||(yield t));if(n.wrapWithDirectory)yield*s(i,t);else for await(const e of i.eachChildSeries())e&&(yield*s(e.child,t))}},function(e,t,n){"use strict";const r=n(381),i=n(610);e.exports=async function e(t,n,o,a){let u=n;n instanceof i&&n.directChildrenCount()>=o&&(u=await async function(e,t){const n=new r({root:e.root,dir:!0,parent:e.parent,parentKey:e.parentKey,path:e.path,dirty:e.dirty,flat:!1,mtime:e.mtime,mode:e.mode},t);for await(const{key:t,child:r}of e.eachChildSeries())await n.put(t,r);return n}(n,a));const s=u.parent;if(s){if(u!==n){if(t&&(t.parent=u),!u.parentKey)throw new Error("No parent key found");await s.put(u.parentKey,u)}return e(u,s,o,a)}return u}},function(e,t,n){"use strict";const r=n(1299),i=n(132);class o{constructor(e,t,n=0){this._options=e,this._popCount=0,this._parent=t,this._posAtParent=n,this._children=new r,this.key=null}async put(e,t){const n=await this._findNewBucketAndPos(e);await n.bucket._putAt(n,e,t)}async get(e){const t=await this._findChild(e);if(t)return t.value}async del(e){const t=await this._findPlace(e),n=t.bucket._at(t.pos);n&&n.key===e&&t.bucket._delAt(t.pos)}leafCount(){return this._children.compactArray().reduce((e,t)=>t instanceof o?e+t.leafCount():e+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const e=this._children.compactArray();for(const t of e)t instanceof o?yield*t.eachLeafSeries():yield t;return[]}serialize(e,t){return t(this._children.reduce((n,r,i)=>(r&&(r instanceof o?n.push(r.serialize(e,t)):n.push(e(r,i))),n),[]))}asyncTransform(e,t){return async function e(t,n,r){const i=[];for(const a of t._children.compactArray())if(a instanceof o)await e(a,n,r);else{const e=await n(a);i.push({bitField:t._children.bitField(),children:e})}return r(i)}(this,e,t)}toJSON(){return this.serialize(u,s)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){const t=await this._findPlace(e),n=t.bucket._at(t.pos);if(!(n instanceof o))return n&&n.key===e?n:void 0}async _findPlace(e){const t=this._options.hash("string"==typeof e?i(e):e),n=await t.take(this._options.bits),r=this._children.get(n);return r instanceof o?r._findPlace(t):{bucket:this,pos:n,hash:t,existingChild:r}}async _findNewBucketAndPos(e){const t=await this._findPlace(e);if(t.existingChild&&t.existingChild.key!==e){const e=new o(this._options,t.bucket,t.pos);t.bucket._putObjectAt(t.pos,e);const n=await e._findPlace(t.existingChild.hash);return n.bucket._putAt(n,t.existingChild.key,t.existingChild.value),e._findNewBucketAndPos(t.hash)}return t}_putAt(e,t,n){this._putObjectAt(e.pos,{key:t,value:n,hash:e.hash})}_putObjectAt(e,t){this._children.get(e)||this._popCount++,this._children.set(e,t)}_delAt(e){if(-1===e)throw new Error("Invalid position");this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent&&this._popCount<=1)if(1===this._popCount){const e=this._children.find(a);if(e&&!(e instanceof o)){const t=e.hash;t.untake(this._options.bits);const n={pos:this._posAtParent,hash:t,bucket:this._parent};this._parent._putAt(n,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}}function a(e){return Boolean(e)}function u(e,t){return e.key}function s(e){return e}e.exports=o},function(e,t,n){"use strict";function r(e,t){return e+i(t)}function i(e){let t=e;return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),16843009*(t+(t>>4)&252645135)>>24}function o(e,t){return e[0]-t[0]}function a(e){return e[1]}e.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,t){let n=this._internalPositionFor(e,!1);if(void 0===t)-1!==n&&(this._unsetInternalPos(n),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let r=!1;-1===n?(n=this._data.length,this._setBit(e),this._changedData=!0):r=!0,this._setInternalPos(n,e,t,r),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();const t=this._internalPositionFor(e,!0);if(-1!==t)return this._data[t][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){const e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let t=0;for(;t<this.length;)e(this.get(t),t,this),t++}map(e){let t=0,n=new Array(this.length);for(;t<this.length;)n[t]=e(this.get(t),t,this),t++;return n}reduce(e,t){let n=0,r=t;for(;n<this.length;){r=e(r,this.get(n),n),n++}return r}find(e){let t,n,r=0;for(;r<this.length&&!t;)n=this.get(r),t=e(n),r++;return t?n:void 0}_internalPositionFor(e,t){const n=this._bytePosFor(e,t);if(n>=this._bitArrays.length)return-1;const o=this._bitArrays[n],a=e-7*n;if(!((o&1<<a)>0))return-1;return this._bitArrays.slice(0,n).reduce(r,0)+i(o&~(4294967295<<a+1))-1}_bytePosFor(e,t){const n=Math.floor(e/7),r=n+1;for(;!t&&this._bitArrays.length<r;)this._bitArrays.push(0);return n}_setBit(e){const t=this._bytePosFor(e,!1);this._bitArrays[t]|=1<<e-7*t}_unsetBit(e){const t=this._bytePosFor(e,!1);this._bitArrays[t]&=~(1<<e-7*t)}_setInternalPos(e,t,n,r){const i=this._data,o=[t,n];if(r)this._sortData(),i[e]=o;else{if(i.length)if(i[i.length-1][0]>=t)i.push(o);else if(i[0][0]<=t)i.unshift(o);else{const e=Math.round(i.length/2);this._data=i.slice(0,e).concat(o).concat(i.slice(e))}else this._data.push(o);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(o),this._changedData=!1}bitField(){const e=[];let t,n=8,r=0,i=0;const o=this._bitArrays.slice();for(;o.length||r;){0===r&&(t=o.shift(),r=7);const a=Math.min(r,n);i|=(t&~(255<<a))<<8-n,t>>>=a,r-=a,n-=a,n&&(r||o.length)||(e.push(i),i=0,n=8)}for(var a=e.length-1;a>0;a--){if(0!==e[a])break;e.pop()}return e}compactArray(){return this._sortData(),this._data.map(a)}}},function(e,t,n){"use strict";const r=n(1301),i=n(227);class o{constructor(e,t){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=t,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let t=e;for(;this._availableBits<t;)await this._produceMoreBits();let n=0;for(;t>0;){const e=this._buffers[this._currentBufferIndex],r=Math.min(e.availableBits(),t);n=(n<<r)+e.take(r),t-=r,this._availableBits-=r,0===e.availableBits()&&this._currentBufferIndex++}return n}untake(e){let t=e;for(;t>0;){const e=this._buffers[this._currentBufferIndex],n=Math.min(e.totalBits()-e.availableBits(),t);e.untake(n),t-=n,this._availableBits+=n,this._currentBufferIndex>0&&e.totalBits()===e.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const e=this._depth?i([this._value,Uint8Array.from([this._depth])]):this._value,t=await this._hashFn(e),n=new r(t);this._buffers.push(n),this._availableBits+=n.availableBits()}}e.exports=function(e){return function(t){return t instanceof o?t:new o(t,e)}},e.exports.InfiniteHash=o},function(e,t,n){"use strict";const r=[255,254,252,248,240,224,192,128],i=[1,3,7,15,31,63,127,255];function o(e,t,n){return(e&function(e,t){return r[e]&i[Math.min(t+e-1,7)]}(t,n))>>>t}e.exports=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(e){let t=e,n=0;for(;t&&this._haveBits();){const e=this._value[this._currentBytePos],r=this._currentBitPos+1,i=Math.min(r,t);n=(n<<i)+o(e,r-i,i),t-=i,this._currentBitPos-=i,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return n}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}},function(e,t,n){"use strict";e.exports=(e="")=>(e.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)},function(e,t,n){"use strict";const r=n(1304),i=n(611);e.exports=e=>i(e,r)},function(e,t,n){"use strict";const r=n(4),i=n(44),o=n(292),a=n(1305),u=n(293),s=n(231),c=n(117),{isBytes:f,isReadableStream:l,isBlob:d}=n(383);function h(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):i(e.toString())}e.exports=async function*(e){if(f(e))yield h(e);else if("string"==typeof e||e instanceof String)yield h(e.toString());else{if(!d(e)){if(l(e)&&(e=o(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const t=u(e),{value:n,done:r}=await t.peek();if(r)return void(yield*[]);if(t.push(n),Number.isInteger(n))return void(yield Uint8Array.from(await s(t)));if(f(n)||"string"==typeof n||n instanceof String)return void(yield*c(t,h))}throw r(new Error("Unexpected input: "+e),"ERR_UNEXPECTED_INPUT")}yield*a(e)}}},function(e,t,n){"use strict";const r=n(292);e.exports=function(e){return"function"==typeof e.stream?r(e.stream()):r(new Response(e).body)}},function(e,t,n){"use strict";const r=e=>{const t={},n=e.split("-");switch(n.length){case 1:t.avgChunkSize=262144;break;case 2:t.avgChunkSize=i(n[1],"avg");break;case 4:t.minChunkSize=i(n[1],"min"),t.avgChunkSize=i(n[2],"avg"),t.maxChunkSize=i(n[3],"max");break;default:throw new Error('Incorrect chunker format (expected "rabin" "rabin-[avg]" or "rabin-[min]-[avg]-[max]"')}return t},i=(e,t)=>{const n=parseInt(e);if(isNaN(n))throw new Error(`Chunker parameter ${t} must be an integer`);return n};e.exports={parseChunkSize:i,parseRabinString:r,parseChunkerString:e=>{if(e){if(e.startsWith("size-")){const t=e.split("-")[1],n=parseInt(t);if(isNaN(n))throw new Error("Chunker parameter size must be an integer");return{chunker:"fixed",maxChunkSize:n}}if(e.startsWith("rabin"))return{chunker:"rabin",...r(e)};throw new Error("Unrecognized chunker option: "+e)}return{chunker:"fixed"}}}},function(e,t,n){"use strict";const{exporter:r}=n(118),{normalizeCidPath:i}=n(81),o=n(17),{CID:a}=n(12);e.exports=function({repo:e,preload:t}){return o((async function*(n,o={}){if(n=i(n),!1!==o.preload){const e=n.split("/");t(a.parse(e[0]))}const u=await r(n,e.blocks,o);if("directory"===u.type)throw new Error("this dag node is a directory");if(!u.content)throw new Error("this dag node has no content");yield*u.content(o)}))}},function(e,t,n){"use strict";const r=n(4),i=n(42),o=n(153),a=n(102),{identity:u}=n(152),s={[i.code]:n(1309),[a.code]:n(1313),[o.code]:n(1314),[u.code]:n(1315)};e.exports=function e(t,n,i,o,a,u,c){const f=s[t.code];if(!f)throw r(new Error("No resolver for code "+t.code),"ERR_NO_RESOLVER");return f(t,n,i,o,e,a,u,c)}},function(e,t,n){"use strict";const r=n(4),{UnixFS:i}=n(77),o=n(1310),{decode:a}=n(42),u={raw:n(612),file:n(612),directory:n(1311),"hamt-sharded-directory":n(1312),metadata:(e,t,n,r,i,o,a)=>()=>[],symlink:(e,t,n,r,i,o,a)=>()=>[]};e.exports=async(e,t,n,s,c,f,l,d)=>{const h=await l.get(e,d),p=a(h);let m,y;if(t||(t=e.toString()),null==p.Data)throw r(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{m=i.unmarshal(p.Data)}catch(e){throw r(e,"ERR_NOT_UNIXFS")}if(n||(n=t),s.length){let e;if(e=m&&"hamt-sharded-directory"===m.type?await o(p,s[0],l):((e,t)=>{const n=e.Links.find(e=>e.Name===t);return n&&n.Hash})(p,s[0]),!e)throw r(new Error("file does not exist"),"ERR_NOT_FOUND");const t=s.shift();y={cid:e,toResolve:s,name:t||"",path:`${n}/${t}`}}return{entry:{type:m.isDirectory()?"directory":"file",name:t,path:n,cid:e,content:u[m.type](e,p,m,n,c,f,l),unixfs:m,depth:f,node:p,size:m.fileSize()},next:y}}},function(e,t,n){"use strict";const{Bucket:r,createHAMT:i}=n(382),{decode:o}=n(42),a=n(609),u=n(44),s=async function(e){return u(a.x64.hash128(e),"base16").slice(0,8).reverse()},c=e=>e.toString(16).toUpperCase().padStart(2,"0").substring(0,2),f=async(e,t,n,a,u)=>{if(!a){const e=i({hashFn:s});a={rootBucket:e,hamtDepth:1,lastBucket:e}}var l,d,h;await(l=e.Links,d=a.lastBucket,h=a.rootBucket,Promise.all(l.map(e=>{if(null==e.Name)throw new Error("Unexpected Link without a Name");if(2===e.Name.length){const t=parseInt(e.Name,16);return d._putObjectAt(t,new r({hash:h._options.hash,bits:h._options.bits},d,t))}return h.put(e.Name.substring(2),!0)})));const p=await a.rootBucket._findNewBucketAndPos(t);let m=c(p.pos);const y=(e=>{let t=e.bucket;const n=[];for(;t._parent;)n.push(t),t=t._parent;return n.push(t),n.reverse()})(p);y.length>a.hamtDepth&&(a.lastBucket=y[a.hamtDepth],m=c(a.lastBucket._posAtParent));const v=e.Links.find(e=>{if(null==e.Name)return!1;const n=e.Name.substring(0,2),r=e.Name.substring(2);return n===m&&(!r||r===t)});if(!v)return null;if(null!=v.Name&&v.Name.substring(2)===t)return v.Hash;a.hamtDepth++;const g=await n.get(v.Hash,u);return e=o(g),f(e,t,n,a,u)};e.exports=f},function(e,t,n){"use strict";e.exports=(e,t,n,r,i,o,a)=>async function*(e={}){const n=e.offset||0,u=e.length||t.Links.length,s=t.Links.slice(n,u);for(const t of s){const n=await i(t.Hash,t.Name||"",`${r}/${t.Name||""}`,[],o+1,a,e);n.entry&&(yield n.entry)}}},function(e,t,n){"use strict";const{decode:r}=n(42);e.exports=(e,t,n,i,o,a,u)=>function(e={}){return async function*e(t,n,i,o,a,u){const s=t.Links;for(const c of s){const s=null!=c.Name?c.Name.substring(2):null;if(s){const e=await i(c.Hash,s,`${n}/${s}`,[],o+1,a,u);yield e.entry}else{const s=await a.get(c.Hash);t=r(s);for await(const r of e(t,n,i,o,a,u))yield r}}}(t,i,o,a,u,e)}},function(e,t,n){"use strict";const r=n(4),i=n(384),o=n(385);e.exports=async(e,t,n,a,u,s,c,f)=>{if(a.length)throw r(new Error(`No link named ${n} found in raw node ${e}`),"ERR_NOT_FOUND");const l=await c.get(e,f);return{entry:{type:"raw",name:t,path:n,cid:e,content:(d=l,async function*(e={}){const{offset:t,length:n}=o(d.length,e.offset,e.length);yield i(d,0,t,t+n)}),depth:s,size:l.length,node:l}};var d}},function(e,t,n){"use strict";const{CID:r}=n(12),i=n(4),o=n(153);e.exports=async(e,t,n,a,u,s,c,f)=>{const l=await c.get(e),d=o.decode(l);let h=d,p=n;for(;a.length;){const o=a[0];if(!(o in h))throw i(new Error(`No property named ${o} found in cbor node ${e}`),"ERR_NO_PROP");{a.shift(),p=`${p}/${o}`;const i=r.asCID(h[o]);if(i)return{entry:{type:"object",name:t,path:n,cid:e,node:l,depth:s,size:l.length,content:async function*(){yield d}},next:{cid:i,name:o,path:p,toResolve:a}};h=h[o]}}return{entry:{type:"object",name:t,path:n,cid:e,node:l,depth:s,size:l.length,content:async function*(){yield d}}}}},function(e,t,n){"use strict";const r=n(4),i=n(384),o=n(385),a=n(84);e.exports=async(e,t,n,u,s,c,f,l)=>{if(u.length)throw r(new Error(`No link named ${n} found in raw node ${e}`),"ERR_NOT_FOUND");const d=await a.decode(e.multihash.bytes);return{entry:{type:"identity",name:t,path:n,cid:e,content:(h=d.digest,async function*(e={}){const{offset:t,length:n}=o(h.length,e.offset,e.length);yield i(h,0,t,t+n)}),depth:c,size:d.digest.length,node:d.digest}};var h}},function(e,t,n){"use strict";const r=n(118),i=n(4),{normalizeCidPath:o,mapFile:a}=n(81),u=n(17),{CID:s}=n(12);e.exports=function({repo:e,preload:t}){return u((async function*(n,u={}){if(!1!==u.preload){let e;try{e=o(n).split("/")}catch(e){throw i(e,"ERR_INVALID_PATH")}t(s.parse(e[0]))}const c=s.asCID(n)||n;for await(const t of r.recursive(c,e.blocks,u))yield a(t,{...u,includeContent:!0})}))}},function(e,t,n){"use strict";const{exporter:r,recursive:i}=n(118),o=n(4),{normalizeCidPath:a,mapFile:u}=n(81),s=n(17),{CID:c}=n(12);e.exports=function({repo:e,preload:t}){return s((async function*(n,s={}){const f=a(n),l=f.split("/");!1!==s.preload&&t(c.parse(l[0]));const d=c.asCID(f)||f,h=await r(d,e.blocks,s);if("file"!==h.type){if("directory"!==h.type)throw o(new Error("Unknown UnixFS type "+h.type),"ERR_UNKNOWN_UNIXFS_TYPE");if(s.recursive){for await(const t of i(h.cid,e.blocks,s))h.cid.toString()!==t.cid.toString()&&(yield u(t,s));return}for await(const e of h.content()){const t=u(e,s);t.depth--,yield t}}else yield u(h,s)}))}},function(e,t,n){"use strict";const r=n(386),i=n(17);e.exports=({repo:e})=>i((async function(t={}){const n=await e.version.get();return{version:r.version,repo:""+n,commit:r.gitHead||"","interface-ipfs-core":r.devDependencies["interface-ipfs-core"]}}))},function(e,t,n){"use strict";const r=n(386).version,{Multiaddr:i}=n(30),o=n(17),a=n(45),u=n(31),{NotStartedError:s}=n(171);e.exports=({peerId:e,network:t})=>o((async function(n={}){n.peerId===e.toB58String()&&delete n.peerId;const o=t.try();if(!o){if(n.peerId)throw new s;return{id:e.toB58String(),publicKey:a(e.pubKey.bytes,"base64pad"),addresses:[],agentVersion:"js-ipfs/"+r,protocolVersion:"9000",protocols:[]}}const c=n.peerId?u.createFromB58String(n.peerId.toString()):e,{libp2p:f}=o,l=n.peerId?f.peerStore.keyBook.get(c):c.pubKey,d=n.peerId?f.peerStore.addressBook.getMultiaddrsForPeer(c):f.multiaddrs,h=n.peerId?f.peerStore.protoBook.get(c):Array.from(f.upgrader.protocols.keys()),p=a(f.peerStore.metadataBook.getValue(c,"AgentVersion")||new Uint8Array),m=a(f.peerStore.metadataBook.getValue(c,"ProtocolVersion")||new Uint8Array),y=c.toB58String();return{id:y,publicKey:a(l.bytes,"base64pad"),addresses:(d||[]).map(e=>{const t=e.toString();return t.endsWith("/p2p/"+y)?t:`${t}/p2p/${y}`}).sort().map(e=>new i(e)),agentVersion:p,protocolVersion:m,protocols:(h||[]).sort()}}))},function(e,t,n){"use strict";const r=n(1321),i=n(1325),o=n(1326),a=n(1328),u=n(1329);e.exports=class{constructor({repo:e,codecs:t,hashers:n,preload:s}){this.export=r({repo:e,preload:s,codecs:t}),this.get=i({codecs:t,repo:e,preload:s}),this.import=o({repo:e}),this.resolve=u({repo:e,codecs:t,preload:s}),this.put=a({repo:e,codecs:t,hashers:n,preload:s})}}},function(e,t,n){"use strict";const{CID:r}=n(12),i=n(373),{base58btc:o}=n(64),{CarWriter:a}=n(1322),u=n(17),s=n(6)("ipfs:components:dag:import"),c=n(102),f=n(363),l=[c.code,f.code];e.exports=({repo:e,preload:t,codecs:n})=>u((async function*(u,c={}){!1!==c.preload&&t(u);const f=r.asCID(u);if(!f)throw new Error("Unexpected error converting CID type: "+u);s(`Exporting ${f} as car`);const{writer:d,out:h}=await a.create([f]);let p=null;(async()=>{try{await async function e(t,n,r,a,u,c=new Set){const f=r.toString(o);if(c.has(f))return;const d=await async function(e,t,n,r){const o=await e.blocks.get(n,t);let a=[];const u=await r.getCodec(n.code);if(u){const e=i.createUnsafe({bytes:o,cid:n,codec:u});a=[...e.links()].map(e=>e[1])}else if(!l.includes(n.code))throw new Error(`Can't decode links in block with codec 0x${n.code.toString(16)} to form complete DAG`);return{cid:n,bytes:o,links:a}}(t,n,r,u);s(`Adding block ${r} to car`),await a.put(d),c.add(f);for(const r of d.links)await e(t,n,r,a,u,c)}(e,{signal:c.signal,timeout:c.timeout},f,d,n),d.close()}catch(e){p=e}})();for await(const e of h){if(p)break;yield e}if(p)throw p}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n(1323),o=n(1324),a=n(614);class u{constructor(e,t){this._encoder=t,this._mutex=t.setRoots(e),this._ended=!1}async put(e){if(!(e.bytes instanceof Uint8Array&&e.cid))throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const t=r.CID.asCID(e.cid);if(!t)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:t,bytes:e.bytes})),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(e){e=function(e){if(void 0===e)return[];if(!Array.isArray(e)){const t=r.CID.asCID(e);if(!t)throw new TypeError("roots must be a single CID or an array of CIDs");return[t]}const t=[];for(const n of e){const e=r.CID.asCID(n);if(!e)throw new TypeError("roots must be a single CID or an array of CIDs");t.push(e)}return t}(e);const{encoder:t,iterator:n}=c();return{writer:new u(e,t),out:new s(n)}}static createAppender(){const{encoder:e,iterator:t}=c();e.setRoots=()=>Promise.resolve();return{writer:new u([],e),out:new s(t)}}static async updateRootsInBytes(e,t){const n=a.bytesReader(e);await a.readHeader(n);const r=i.createHeader(t);if(n.pos!==r.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${n.pos} bytes, new header is ${r.length} bytes)`);return e.set(r,0),e}}class s{constructor(e){this._iterator=e}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function c(){const e=o.create(),{writer:t,iterator:n}=e;return{encoder:i.createEncoder(t),iterator:n}}t.CarWriter=u,t.CarWriterOut=s,t.__browser=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(103),i=n(153);function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=o(r);function u(e){const t=i.encode({version:1,roots:e}),n=a.default.encode(t.length),r=new Uint8Array(n.length+t.length);return r.set(n,0),r.set(t,n.length),r}t.createEncoder=function(e){return{async setRoots(t){const n=u(t);await e.write(n)},async writeBlock(t){const{cid:n,bytes:r}=t;await e.write(new Uint8Array(a.default.encode(n.bytes.length+r.length))),await e.write(n.bytes),await e.write(r)},close:async()=>e.end()}},t.createHeader=u},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(){const e=[];let t=null,n=r,i=!1,o=null,a=r;const u=()=>(t||(t=new Promise(e=>{n=()=>{t=null,n=r,e()}})),t),s={async next(){const t=e.shift();return t?(0===e.length&&n(),{done:!1,value:t}):i?(n(),{done:!0,value:void 0}):(o||(o=new Promise(e=>{a=()=>(o=null,a=r,e(s.next()))})),o)}};return{writer:{write(t){e.push(t);const n=u();return a(),n},async end(){i=!0;const e=u();return a(),e}},iterator:s}}},function(e,t,n){"use strict";const r=n(17),i=n(198),o=n(97),{resolve:a}=n(81),u=n(4);e.exports=({codecs:e,repo:t,preload:n})=>r((async function(r,s={}){if(!1!==s.preload&&n(r),s.path){const n=s.localResolve?await i(a(r,s.path,e,t,s)):await o(a(r,s.path,e,t,s));if(!n)throw u(new Error("Not found"),"ERR_NOT_FOUND");return n}const c=await e.getCodec(r.code),f=await t.blocks.get(r,s);return{value:c.decode(f),remainderPath:""}}))},function(e,t,n){"use strict";const{CarBlockIterator:r}=n(1327),i=n(17),o=n(293),a=n(135),u=n(117),s=n(6)("ipfs:components:dag:import");async function c(e,t,n){const i=await r.fromIterable(n),o=await i.getRoots();return await a(e.blocks.putMany(u(i,({cid:e,bytes:t})=>(s("Import block "+e),{key:e,value:t})),{signal:t.signal})),o}e.exports=({repo:e})=>i((async function*(t,n={}){const r=await e.gcLock.readLock();try{const i={signal:n.signal,timeout:n.timeout},a=o(t),{value:u,done:f}=await a.peek();if(f)return;let l;u&&a.push(u),l=u instanceof Uint8Array?[a]:a;for await(const t of l){const r=await c(e,i,t);if(!1!==n.pinRoots)for(const t of r){let n="";try{await e.blocks.has(t)?(s("Pinning root "+t),await e.pins.pinRecursively(t)):n="blockstore: block not found"}catch(e){n=e.message}yield{root:{cid:t,pinErrorMsg:n}}}}}finally{r()}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(614);class i{constructor(e,t,n){this._version=e,this._roots=t,this._iterable=n,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}}class o extends i{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(e){const{version:t,roots:n,iterator:r}=await u(e);return new o(t,n,r)}static async fromIterable(e){const{version:t,roots:n,iterator:r}=await s(e);return new o(t,n,r)}}class a extends i{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");this._decoded=!0;const e=this._iterable[Symbol.asyncIterator]();return{async next(){const t=await e.next();return t.done?t:{done:!1,value:t.value.cid}}}}static async fromBytes(e){const{version:t,roots:n,iterator:r}=await u(e);return new a(t,n,r)}static async fromIterable(e){const{version:t,roots:n,iterator:r}=await s(e);return new a(t,n,r)}}async function u(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return c(r.bytesReader(e))}async function s(e){if(!e||"function"!=typeof e[Symbol.asyncIterator])throw new TypeError("fromIterable() requires an async iterable");return c(r.asyncIterableReader(e))}async function c(e){const t=r.createDecoder(e),{version:n,roots:i}=await t.header();return{version:n,roots:i,iterator:t.blocks()}}t.CarBlockIterator=o,t.CarCIDIterator=a,t.CarIteratorBase=i},function(e,t,n){"use strict";const{CID:r}=n(12),i=n(17);e.exports=({repo:e,codecs:t,hashers:n,preload:o})=>i((async function(i,a={}){const u=a.pin?await e.gcLock.readLock():null;try{const s=a.format||"dag-cbor",c=null!=a.version?a.version:"dag-pb"===s?0:1,f=await t.getCodec(s);if(!f)throw new Error(`Unknown codec ${a.format}, please configure additional BlockCodecs for this IPFS instance`);const l=await n.getHasher(a.hashAlg||"sha2-256");if(!l)throw new Error(`Unknown hash algorithm ${a.hashAlg}, please configure additional MultihashHashers for this IPFS instance`);const d=f.encode(i),h=await l.digest(d),p=r.create(c,f.code,h);return await e.blocks.put(p,d,{signal:a.signal}),a.pin&&await e.pins.pinRecursively(p),!1!==a.preload&&o(p),p}finally{u&&u()}}))},function(e,t,n){"use strict";const r=n(17),i=n(288),{resolvePath:o}=n(81);e.exports=({repo:e,codecs:t,preload:n})=>r((async function(r,a={}){const{cid:u}=i(r);return!1!==a.preload&&n(u),o(e,t,r,a)}))},function(e,t,n){"use strict";const r=n(294),i=n(6),o=n(1331),{AbortController:a}=n(83),u=n(1332),s=n(289),c=Object.assign(i("ipfs:preload"),{error:i("ipfs:preload:error")});e.exports=(e={})=>{if(e.enabled=Boolean(e.enabled),e.addresses=e.addresses||[],e.cache=e.cache||1e3,!e.enabled||!e.addresses.length){c("preload disabled");const e=()=>{};return Object.assign(e,{start:()=>{},stop:()=>{}})}let t=!0,n=[];const i=e.addresses.map(r),f=s(e.cache),l=async e=>{try{if(t)throw new Error(`preload ${e} but preloader is not started`);const r=e.toString();if(f.has(r))return;f.set(r,!0);const s=o(i);let l=!1;const d=Date.now();for(const e of s){if(t)throw new Error("preload aborted for "+r);let i;try{i=new a,n=n.concat(i),await u(`${e}/api/v0/refs?r=true&arg=${encodeURIComponent(r)}`,{signal:i.signal}),l=!0}catch(e){"aborted"!==e.type&&c.error(e)}finally{n=n.filter(e=>e!==i)}if(l)break}c(`${l?"":"un"}successfully preloaded ${r} in ${Date.now()-d}ms`)}catch(e){c.error(e)}};return l.start=()=>{t=!1},l.stop=()=>{t=!0,c(`aborting ${n.length} pending preload request(s)`),n.forEach(e=>e.abort()),n=[]},l}},function(e,t,n){"use strict";e.exports=e=>{if(!Array.isArray(e))throw new TypeError("Expected an array, got "+typeof e);for(let t=(e=[...e]).length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}},function(e,t,n){"use strict";const{default:r}=n(155),i=n(274),o=n(6),a=Object.assign(o("ipfs:preload"),{error:o("ipfs:preload:error")}),u=new r({concurrency:4});e.exports=function(e,t={}){return a(e),u.add(async()=>{const n=(await i.post(e,{signal:t.signal})).body.getReader();try{for(;;){const{done:e}=await n.read();if(e)return}}finally{n.releaseLock()}})}},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("ipfs:mfs-preload"),{error:r("ipfs:mfs-preload:error")});e.exports=({preload:e,files:t,options:n={}})=>{if(n.interval=n.interval||3e4,!n.enabled){i("MFS preload disabled");const e=async()=>{};return{start:e,stop:e}}let r,o="";const a=async()=>{try{const u=await t.stat("/"),s=u.cid.toString();o!==s&&(i(`preloading updated MFS root ${o} -> ${u.cid}`),await e(u.cid),o=s)}catch(e){i.error("failed to preload MFS root",e)}finally{r=setTimeout(a,n.interval)}};return{async start(){const e=await t.stat("/");o=e.cid.toString(),i("monitoring MFS root "+e.cid),r=setTimeout(a,n.interval)},stop(){clearTimeout(r)}}}},function(e,t,n){"use strict";const r=n(615),i=n(229),o={stat:n(295)},a={chmod:n(1335),cp:n(389),flush:n(1338),mkdir:n(390),mv:n(1339),rm:n(391),touch:n(1340)},u={write:n(1341),read:n(1343),ls:n(1344)},s=({options:e,mfs:t,operations:n,lock:r})=>{Object.keys(n).forEach(i=>{t[i]=r(n[i](e))})},c={repoOwner:!0,repo:null};e.exports=({repo:e,preload:t,hashers:n,options:f})=>{const l=function(e){const{repoOwner:t}=Object.assign({},c||{},e),n=r(t),i={};return s({options:e,mfs:i,operations:o,lock:e=>n.readLock(e)}),s({options:e,mfs:i,operations:a,lock:e=>n.writeLock(e)}),Object.keys(u).forEach(t=>{i[t]=u[t](e)}),i}({repo:e,repoOwner:Boolean(f.repoOwner),hashers:n}),d=e=>(...n)=>{const r=n.filter(e=>i.ipfsPath(e)||i.cid(e));if(r.length){const e=n[n.length-1];e&&!1!==e.preload&&r.forEach(e=>t(e))}return e(...n)};return{...l,chmod:l.chmod,cp:d(l.cp),mkdir:l.mkdir,stat:d(l.stat),rm:l.rm,read:d(l.read),touch:l.touch,write:l.write,mv:d(l.mv),flush:l.flush,ls:d((async function*(...e){for await(const t of l.ls(...e))yield{...t,size:t.size||0}}))}}},function(e,t,n){"use strict";const r=n(57).bind({ignoreUndefined:!0}),i=n(156),o=n(6)("ipfs:mfs:touch"),a=n(4),{UnixFS:u}=n(77),s=n(237),c=n(201),f=n(202),l=n(203),d=n(42),{CID:h}=n(12),{pipe:p}=n(66),{importer:m}=n(378),{recursive:y}=n(118),v=n(97),g=n(389),b=n(391),w=n(200),E=n(17),_={flush:!0,shardSplitThreshold:1e3,hashAlg:"sha2-256",cidVersion:0,recursive:!1};function S(e,t,n){t||(t=0);const r=e.match(/^(u?g?o?a?)(-?\+?=?)?(r?w?x?X?s?t?)$/);if(!r)throw new Error("Invalid file mode: "+e);let[,i,o,a]=r;"a"!==i&&i||(i="ugo");let u=function(e,t,n){let r=0;return(e.includes("x")||e.includes("X")&&(n||1&t||8&t||64&t))&&(r+=1),e.includes("w")&&(r+=2),e.includes("r")&&(r+=4),r}(a,t,n);return u=function(e,t){let n=0;return e.includes("u")&&(n+=t<<6),e.includes("g")&&(n+=t<<3),e.includes("o")&&(n+=t),n}(i,u),u=function(e,t,n){return t.includes("t")&&(n+=parseInt("1000",8)),t.includes("s")&&(e.includes("u")&&(n+=parseInt("4000",8)),e.includes("g")&&(n+=parseInt("2000",8))),n}(i,a,u),"="===o?(i.includes("u")&&(t&=parseInt("7077",8),t|=u),i.includes("g")&&(t&=parseInt("7707",8),t|=u),i.includes("o")&&(t&=parseInt("7770",8),t|=u),t):"+"===o?u|t:"-"===o?u^t:t}function T(e,t){if(e instanceof String||"string"==typeof e){const n=""+e;e=n.match(/^\d+$/g)?parseInt(n,8):0+n.split(",").reduce((e,n)=>S(n,e,t.isDirectory()),t.mode||0)}return e}e.exports=e=>E((async function(t,n,E={}){const S=r(_,E);o("Fetching stats for "+t);const{cid:A,mfsDirectory:P,name:k}=await i(e,t,S);if(A.code!==d.code)throw a(new Error(t+" was not a UnixFS node"),"ERR_NOT_UNIXFS");if(S.recursive){const r=await p((async function*(){for await(const r of y(A,e.repo.blocks)){if("file"!==r.type&&"directory"!==r.type)throw a(new Error(t+" was not a UnixFS node"),"ERR_NOT_UNIXFS");r.unixfs.mode=T(n,r.unixfs);const e=d.prepare({Data:r.unixfs.marshal(),Links:r.node.Links});yield{path:r.path,content:e}}}),t=>m(t,e.repo.blocks,{...S,pin:!1,dagBuilder:async function*(e,t,n){for await(const r of e)yield async function(){const e=r.content,i=d.encode(e),o=await w(i,t,n);if(!e.Data)throw a(new Error(o+" had no data"),"ERR_INVALID_NODE");const s=u.unmarshal(e.Data);return{cid:o,size:i.length,path:r.path,unixfs:s}}}}),e=>v(e));if(!r)throw a(new Error("Could not chmod "+t),"ERR_COULD_NOT_CHMOD");return await b(e)(t,S),void await g(e)("/ipfs/"+r.cid,t,S)}const x=await e.repo.blocks.get(A),C=d.decode(x);if(!C.Data)throw a(new Error(A+" had no data"),"ERR_INVALID_NODE");const R=u.unmarshal(C.Data);R.mode=T(n,R);const I=d.encode({Data:R.marshal(),Links:C.Links}),O=S.hashAlg||_.hashAlg,M=await e.hashers.getHasher(O),N=await M.digest(I),D=h.create(S.cidVersion,d.code,N);S.flush&&await e.repo.blocks.put(D,I);const L=await s(e,P),j=L[L.length-1],B=h.decode(j.cid.bytes),F=await e.repo.blocks.get(B),U=d.decode(F),q=await c(e,{parent:U,name:k,cid:D,size:I.length,flush:S.flush,hashAlg:O,cidVersion:A.version,shardSplitThreshold:1/0});j.cid=q.cid;const H=await f(e,L,S);await l(e,H,S)}))},function(e,t,n){"use strict";const{UnixFS:r}=n(77),i=n(42),{CID:o}=n(12);e.exports=async(e,t,n)=>{const a=new r({type:t,mode:n.mode,mtime:n.mtime}),u=await e.hashers.getHasher(n.hashAlg),s={Data:a.marshal(),Links:[]},c=i.encode(s),f=await u.digest(c),l=o.create(n.cidVersion,i.code,f);return n.flush&&await e.repo.blocks.put(l,c),{cid:l,node:s}}},function(e,t,n){"use strict";const r=n(42),{CID:i}=n(12),o=n(6)("ipfs:mfs:core:utils:remove-link"),{UnixFS:a}=n(77),{generatePath:u,updateHamtDirectory:s}=n(616),c=n(4),f=async(e,t)=>{t.parent.Links=t.parent.Links.filter(e=>e.Name!==t.name);const n=await r.encode(t.parent),a=await e.hashers.getHasher(t.hashAlg),u=await a.digest(n),s=i.create(t.cidVersion,r.code,u);return await e.repo.blocks.put(s,n),o("Updated regular directory "+s),{node:t.parent,cid:s}},l=async(e,t)=>{const{rootBucket:n,path:r}=await u(e,t.name,t.parent);await n.del(t.name);const{node:i}=await d(e,r,t.name,t);return s(e,i.Links,n,t)},d=async(e,t,n,r)=>{const i=t.pop();if(!i)throw c(new Error("Could not find parent"),"EINVALIDPARENT");const{bucket:a,prefix:u,node:f}=i;if(!f)throw c(new Error("Could not find parent"),"EINVALIDPARENT");const l=f.Links.find(e=>(e.Name||"").substring(0,2)===u);if(!l)throw c(new Error(`No link found with prefix ${u} for file ${n}`),"ERR_NOT_FOUND");if(l.Name===`${u}${n}`){o("Removing existing link "+l.Name);const t=f.Links.filter(e=>e.Name!==l.Name);return await a.del(n),s(e,t,a,r)}o(`Descending into sub-shard ${l.Name} for ${u}${n}`);const p=await d(e,t,n,r);let m=p.cid,y=p.size,v=u;if(1===p.node.Links.length){o("Removing subshard for "+u);const e=p.node.Links[0];v=`${u}${(e.Name||"").substring(2)}`,m=e.Hash,y=e.Tsize||0}return o(`Updating shard ${u} with name ${v}`),h(e,a,f,u,v,y,m,r)},h=(e,t,n,r,i,o,a,u)=>{const c=n.Links.filter(e=>e.Name!==r);return c.push({Name:i,Tsize:o,Hash:a}),s(e,c,t,u)};e.exports=async(e,t)=>{let n=t.parent;if(t.parentCid){const a=i.asCID(t.parentCid);if(null===a)throw c(new Error("Invalid CID passed to removeLink"),"EINVALIDPARENTCID");o("Loading parent node "+a);const u=await e.repo.blocks.get(a);n=r.decode(u)}if(!n)throw c(new Error("No parent node or CID passed to removeLink"),"EINVALIDPARENT");if(!t.name)throw c(new Error("No child name passed to removeLink"),"EINVALIDCHILDNAME");if(!n.Data)throw c(new Error("Parent node had no data"),"ERR_INVALID_NODE");return"hamt-sharded-directory"===a.unmarshal(n.Data).type?(o(`Removing ${t.name} from sharded directory`),l(e,{...t,parent:n})):(o(`Removing link ${t.name} regular directory`),f(e,{...t,parent:n}))}},function(e,t,n){"use strict";const r=n(295),i=n(17),o=n(57).bind({ignoreUndefined:!0}),a={};e.exports=e=>i((async function(t,n={}){n=o(a,n);const{cid:i}=await r(e)(t,n);return i}))},function(e,t,n){"use strict";const r=n(389),i=n(391),o=n(57).bind({ignoreUndefined:!0}),a=n(17),u={parents:!1,flush:!0,cidVersion:0,hashAlg:"sha2-256",shardSplitThreshold:1e3};e.exports=e=>a((async function(t,n,a={}){const s=o(u,a);await r(e)(t,n,s),await i(e)(t,{...s,recursive:!0})}))},function(e,t,n){"use strict";const r=n(57).bind({ignoreUndefined:!0}),i=n(156),o=n(6)("ipfs:mfs:touch"),a=n(4),{UnixFS:u}=n(77),s=n(237),c=n(201),f=n(202),l=n(203),d=n(42),{CID:h}=n(12),p=n(17),m={flush:!0,shardSplitThreshold:1e3,cidVersion:0,hashAlg:"sha2-256"};e.exports=e=>p((async function(t,n={}){const p=r(m,n);p.mtime=p.mtime||new Date,o(`Touching ${t} mtime: ${p.mtime}`);const{cid:y,mfsDirectory:v,name:g,exists:b}=await i(e,t,p),w=n.hashAlg||m.hashAlg,E=await e.hashers.getHasher(w);let _,S,T=p.cidVersion;if(b){if(y.code!==d.code)throw a(new Error(t+" was not a UnixFS node"),"ERR_NOT_UNIXFS");T=y.version;const n=await e.repo.blocks.get(y),r=d.decode(n);if(!r.Data)throw a(new Error(t+" had no data"),"ERR_INVALID_NODE");const i=u.unmarshal(r.Data);i.mtime=p.mtime,_=d.encode({Data:i.marshal(),Links:r.Links});const o=await E.digest(_);S=h.create(p.cidVersion,d.code,o),p.flush&&await e.repo.blocks.put(S,_)}else{const t=new u({type:"file",mtime:p.mtime});_=d.encode({Data:t.marshal(),Links:[]});const n=await E.digest(_);S=h.create(p.cidVersion,d.code,n),p.flush&&await e.repo.blocks.put(S,_)}const A=await s(e,v),P=A[A.length-1],k=P.cid,x=await e.repo.blocks.get(k),C=d.decode(x),R=await c(e,{parent:C,name:g,cid:S,size:_.length,flush:p.flush,shardSplitThreshold:p.shardSplitThreshold,hashAlg:p.hashAlg,cidVersion:T});P.cid=R.cid;const I=await f(e,A,p);await l(e,I,p)}))},function(e,t,n){"use strict";const r=n(6)("ipfs:mfs:write"),{importer:i}=n(378),{decode:o}=n(42),{sha256:a,sha512:u}=n(65),s=n(295),c=n(390),f=n(201),l=n(57).bind({ignoreUndefined:!0}),d=n(615),h=n(1342),p=n(156),m=n(388),y=n(237),v=n(202),g=n(203),b=n(4),{MFS_MAX_CHUNK_SIZE:w}=n(81),E=n(97),_=n(17),{parseMode:S,parseMtime:T}=n(77),A={offset:0,length:1/0,create:!1,truncate:!1,rawLeaves:!1,reduceSingleLeafToSelf:!1,cidVersion:0,hashAlg:"sha2-256",parents:!1,progress:(e,t)=>{},strategy:"trickle",flush:!0,leafType:"raw",shardSplitThreshold:1e3};e.exports=e=>_((async function(t,n,i={}){const o=l(A,i);let a,u,s;if(r("Reading source, destination and parent"),await d().readLock(async()=>{a=await h(n),u=await p(e,t,o),s=await p(e,u.mfsDirectory,o)})(),r("Read source, destination and parent"),!o.parents&&!s.exists)throw b(new Error("directory does not exist"),"ERR_NO_EXIST");if(null==a)throw b(new Error("could not create source"),"ERR_NO_SOURCE");if(null==u)throw b(new Error("could not create destination"),"ERR_NO_DESTINATION");if(!o.create&&!u.exists)throw b(new Error("file does not exist"),"ERR_NO_EXIST");if("file"!==u.entryType)throw b(new Error("not a file"),"ERR_NOT_A_FILE");return P(e,t,a,u,o)}));const P=async(e,t,n,r,i)=>{const a=await k(e,n,r,i);await d().writeLock(async()=>{const n=m(t),r=n.pop();if(null==r)throw b(new Error("source does not exist"),"ERR_NO_EXIST");let u=!1;try{await s(e)("/"+n.join("/"),i),u=!0}catch(e){if("ERR_NOT_FOUND"!==e.code)throw e}u||await c(e)("/"+n.join("/"),i);const l=await p(e,t,i),d=await y(e,l.mfsDirectory),h=d[d.length-1];if(!h)throw b(new Error("directory does not exist"),"ERR_NO_EXIST");if(!h.type||!h.type.includes("directory"))throw b(new Error(`cannot write to ${h.name}: Not a directory`),"ERR_NOT_A_DIRECTORY");const w=await e.repo.blocks.get(h.cid),E=o(w),_=await f(e,{parent:E,name:r,cid:a.cid,size:a.size,flush:i.flush,shardSplitThreshold:i.shardSplitThreshold,hashAlg:i.hashAlg,cidVersion:i.cidVersion});h.cid=_.cid;const S=await v(e,d,i);await g(e,S,i)})()},k=async(e,t,n,o)=>{n.exists?r(`Overwriting file ${n.cid} offset ${o.offset} length ${o.length}`):r(`Writing file offset ${o.offset} length ${o.length}`);const s=[];if(o.offset>0)if(n.unixfs){if(r(`Writing first ${o.offset} bytes of original file`),s.push(()=>n.content({offset:0,length:o.offset})),n.unixfs.fileSize()<o.offset){const e=o.offset-n.unixfs.fileSize();r(`Writing zeros for extra ${e} bytes`),s.push(C(e))}}else r(`Writing zeros for first ${o.offset} bytes`),s.push(C(o.offset));s.push(x(t,o.length));const c=I(R(s),e=>{if(n.unixfs&&!o.truncate){const t=n.unixfs.fileSize();if(t>e)return r(`Writing last ${t-e} of ${t} bytes from original file starting at offset ${e}`),n.content({offset:e});r("Not writing last bytes from original file")}return{[Symbol.asyncIterator]:async function*(){}}});let f,l,d;switch(void 0!==o.mode&&null!==o.mode?f=S(o.mode):n&&n.unixfs&&(f=n.unixfs.mode),null!=o.mtime?l=T(o.mtime):n&&n.unixfs&&(l=n.unixfs.mtime),o.hashAlg){case"sha2-256":d=a;break;case"sha2-512":d=u;break;default:throw new Error("TODO vmx 2021-03-31: Proper error message for unsupported hash algorithms like "+o.hashAlg)}const h=await E(i([{content:c,mode:f,mtime:l}],e.repo.blocks,{progress:o.progress,hasher:d,cidVersion:o.cidVersion,strategy:o.strategy,rawLeaves:o.rawLeaves,reduceSingleLeafToSelf:o.reduceSingleLeafToSelf,leafType:o.leafType}));if(!h)throw b(new Error("cannot write to "+parent.name),"ERR_COULD_NOT_WRITE");return r("Wrote "+h.cid),{cid:h.cid,size:h.size}},x=(e,t)=>async function*(){let n=0;for await(const r of e){if(n+=r.length,n>t)return void(yield r.slice(0,t-n));yield r}},C=(e,t=w)=>{const n=new Uint8Array(t);return x(async function*(){for(;;)yield n.slice()}(),e)},R=async function*(e){for(let t=0;t<e.length;t++)yield*e[t]()},I=async function*(e,t){let n=0;for await(const t of e)n+=t.length,yield t;for await(const e of t(n))n+=e.length,yield e}},function(e,t,n){"use strict";(function(t){const r=n(4),i=n(6)("ipfs:mfs:utils:to-async-iterator"),{MFS_MAX_CHUNK_SIZE:o}=n(81),a=n(44);e.exports=e=>{if(!e)throw r(new Error("paths must start with a leading slash"),"ERR_INVALID_PATH");if(("string"==typeof e||e instanceof String)&&(i("Content was a string"),e=a(e.toString())),e.length)return i("Content was array-like"),{[Symbol.asyncIterator]:function*(){yield e}};if(e[Symbol.asyncIterator])return i("Content was an async iterator"),e;if(e[Symbol.iterator])return i("Content was an iterator"),e;if(t.Blob&&e instanceof t.Blob){i("Content was an HTML5 Blob");let n=0;const r={next:()=>n>e.size?{done:!0}:new Promise((r,i)=>{const a=e.slice(n,o);n+=o;const u=new t.FileReader,s=e=>{if(u.removeEventListener("loadend",s,!1),e.error)return i(e.error);r({done:!1,value:new Uint8Array(u.result)})};u.addEventListener("loadend",s),u.readAsArrayBuffer(a)})};return{[Symbol.asyncIterator]:()=>r}}throw r(new Error(`Don't know how to convert ${e} into an async iterator`),"ERR_INVALID_PARAMS")}}).call(this,n(48))},function(e,t,n){"use strict";const{exporter:r}=n(118),i=n(57).bind({ignoreUndefined:!0}),o=n(156),a=n(4),u=n(17),s={offset:0,length:1/0};e.exports=e=>u((function(t,n={}){return n=i(s,n),{[Symbol.asyncIterator]:async function*(){const i=await o(e,t,n),u=await r(i.mfsPath,e.repo.blocks);if("file"!==u.type)throw a(new Error(t+" was not a file"),"ERR_NOT_FILE");if(!u.content)throw a(new Error("Could not load content stream from "+t),"ERR_NO_CONTENT");for await(const e of u.content({offset:n.offset,length:n.length}))yield e}}}))},function(e,t,n){"use strict";const{exporter:r}=n(118),i=n(156),o=n(17),a=n(117),u=e=>{const t={cid:e.cid,name:e.name,type:"directory"===e.type?"directory":"file",size:e.size};return"file"!==e.type&&"directory"!==e.type||(t.mode=e.unixfs.mode,t.mtime=e.unixfs.mtime),t};e.exports=e=>o((async function*(t,n={}){const o=await i(e,t,n),s=await r(o.mfsPath,e.repo.blocks);"directory"!==s.type?yield u(s):yield*a(s.content(n),u)}))},function(e,t,n){"use strict";const r=n(1346),i=n(1347),o=n(1348),a=n(1349),u=n(1350),s=n(1351),c=n(1352);e.exports=class{constructor({keychain:e}){this.gen=i({keychain:e}),this.list=u({keychain:e}),this.rm=c({keychain:e}),this.rename=s({keychain:e}),this.export=r({keychain:e}),this.import=o({keychain:e}),this.info=a({keychain:e})}}},function(e,t,n){"use strict";const r=n(17);e.exports=({keychain:e})=>r((t,n)=>e.exportKey(t,n))},function(e,t,n){"use strict";const r=n(17);e.exports=({keychain:e})=>r((t,n={type:"rsa",size:2048})=>e.createKey(t,n.type||"rsa",n.size||2048))},function(e,t,n){"use strict";const r=n(17);e.exports=({keychain:e})=>r((t,n,r)=>e.importKey(t,n,r))},function(e,t,n){"use strict";const r=n(17);e.exports=({keychain:e})=>r(t=>e.findKeyByName(t))},function(e,t,n){"use strict";const r=n(17);e.exports=({keychain:e})=>r(()=>e.listKeys())},function(e,t,n){"use strict";const r=n(17);e.exports=({keychain:e})=>r(async(t,n)=>{const r=await e.renameKey(t,n);return{was:t,now:r.name,id:r.id,overwrite:!1}})},function(e,t,n){"use strict";const r=n(17);e.exports=({keychain:e})=>r(t=>e.removeKey(t))},function(e,t,n){"use strict";const r=n(1354),i=n(173),o=n(1355),a=n(1356),u=n(238),s=n(1357),c=n(1358);e.exports=class{constructor({repo:e,codecs:t,preload:n}){this.data=r({repo:e,preload:n}),this.get=i({repo:e,preload:n}),this.links=o({repo:e,codecs:t}),this.new=a({repo:e,preload:n}),this.put=u({repo:e,preload:n}),this.stat=s({repo:e,preload:n}),this.patch=new c({repo:e,preload:n})}}},function(e,t,n){"use strict";const r=n(17);e.exports=({repo:e,preload:t})=>{const i=n(173)({repo:e,preload:t});return r((async function(e,t={}){return(await i(e,t)).Data||new Uint8Array(0)}))}},function(e,t,n){"use strict";const r=n(42),i=n(153),o=n(102),{CID:a}=n(12),u=n(17);e.exports=({repo:e,codecs:t})=>u((async function(n,u={}){const s=await t.getCodec(n.code),c=await e.blocks.get(n,u),f=s.decode(c);if(n.code===o.code)return[];if(n.code===r.code)return f.Links;if(n.code===i.code)return function e(t,n=[]){for(const r in t){const i=t[r];if("/"===r&&1===Object.keys(t).length)try{n.push({Name:"",Tsize:0,Hash:a.parse(i)});continue}catch(e){}i instanceof a?n.push({Name:"",Tsize:0,Hash:i}):(Array.isArray(i)&&e(i,n),i&&"object"==typeof i&&e(i,n))}return n}(f);throw new Error("Cannot resolve links from codec "+n.code)}))},function(e,t,n){"use strict";const r=n(42),{sha256:i}=n(65),{UnixFS:o}=n(77),a=n(17),{CID:u}=n(12);e.exports=({repo:e,preload:t})=>a((async function(n={}){let a;if(n.template){if("unixfs-dir"!==n.template)throw new Error("unknown template");a=new o({type:"directory"}).marshal()}const s=r.encode({Data:a,Links:[]}),c=await i.digest(s),f=u.createV0(c);return await e.blocks.put(f,s,{signal:n.signal}),!1!==n.preload&&t(f),f}))},function(e,t,n){"use strict";const r=n(42),i=n(17);e.exports=({repo:e,preload:t})=>{const o=n(173)({repo:e,preload:t});return i((async function(e,t={}){const n=await o(e,t),i=r.encode(n).length,a=n.Links.reduce((e,t)=>e+(t.Tsize||0),0);return{Hash:e,NumLinks:n.Links.length,BlockSize:i,LinksSize:i-(n.Data||[]).length,DataSize:(n.Data||[]).length,CumulativeSize:i+a}}))}},function(e,t,n){"use strict";const r=n(1359),i=n(1360),o=n(1361),a=n(1362);e.exports=class{constructor({repo:e,preload:t}){this.addLink=r({repo:e,preload:t}),this.appendData=i({repo:e,preload:t}),this.rmLink=o({repo:e,preload:t}),this.setData=a({repo:e,preload:t})}}},function(e,t,n){"use strict";const r=n(17);e.exports=({repo:e,preload:t})=>{const i=n(173)({repo:e,preload:t}),o=n(238)({repo:e,preload:t});return r((async function(e,t,n={}){const r=await i(e,n);return o({...r,Links:r.Links.concat([t])},n)}))}},function(e,t,n){"use strict";const r=n(17),i=n(172);e.exports=({repo:e,preload:t})=>{const o=n(173)({repo:e,preload:t}),a=n(238)({repo:e,preload:t});return r((async function(e,t,n={}){const r=await o(e,n),u=i([r.Data||[],t]);return a({...r,Data:u},n)}))}},function(e,t,n){"use strict";const r=n(17);e.exports=({repo:e,preload:t})=>{const i=n(173)({repo:e,preload:t}),o=n(238)({repo:e,preload:t});return r((async function(e,t,n={}){const r=await i(e,n),a=("string"==typeof t?t:t.Name)||"";return r.Links=r.Links.filter(e=>e.Name!==a),o(r,n)}))}},function(e,t,n){"use strict";const r=n(17);e.exports=({repo:e,preload:t})=>{const i=n(173)({repo:e,preload:t}),o=n(238)({repo:e,preload:t});return r((async function(e,t,n={}){const r=await i(e,n);return o({...r,Data:t},n)}))}},function(e,t,n){"use strict";const r=n(1364),i=n(617),o=n(1365);e.exports=class{constructor({repo:e,hashers:t}){this.gc=r({repo:e,hashers:t}),this.stat=i({repo:e}),this.version=o({repo:e}),this.setApiAddr=t=>e.apiAddr.set(t)}}},function(e,t,n){"use strict";const r=n(6)("ipfs:repo:gc"),i=n(17),o=n(387);e.exports=({repo:e,hashers:t})=>i((async function*(n={}){const i=Date.now();let a;try{a=await o({repo:e,hashers:t},n),await e.pins.pinRecursively(a),yield*e.gc()}finally{a&&await e.pins.unpin(a)}r(`Complete (${Date.now()-i}ms)`)}))},function(e,t,n){"use strict";const{repoVersion:r}=n(196),i=n(17);e.exports=({repo:e})=>i((async function(t={}){try{await e._checkInitialized(t)}catch(e){if([/Key not found in database \[\/version\]/,/ENOENT/,/repo is not initialized yet/].some(t=>t.test(e.message)))return r;throw e}return e.version.get()}))},function(e,t,n){"use strict";const r=n(1367),i=n(617),o=n(606);e.exports=class{constructor({repo:e,network:t}){this.repo=i({repo:e}),this.bw=r({network:t}),this.bitswap=o({network:t})}}},function(e,t,n){"use strict";const{default:r}=n(287),i=n(4),o=n(17);function a(e,t){let n;if(n=e.metrics?t.peer?e.metrics.forPeer(t.peer):t.proto?e.metrics.forProtocol(t.proto):e.metrics.global:void 0,!n)return{totalIn:BigInt(0),totalOut:BigInt(0),rateIn:BigInt(0),rateOut:BigInt(0)};const{movingAverages:r,snapshot:i}=n;return{totalIn:BigInt(i.dataReceived.integerValue().toString()),totalOut:BigInt(i.dataSent.integerValue().toString()),rateIn:BigInt(Math.round(r.dataReceived[6e4].movingAverage()/60)),rateOut:BigInt(Math.round(r.dataSent[6e4].movingAverage()/60))}}e.exports=({network:e})=>o((async function*(t={}){const{libp2p:n}=await e.use(t);if(!t.poll)return void(yield a(n,t));const o=t.interval||1e3;let u,s=-1;try{if(s="string"==typeof o?r(o)||-1:o,!s||s<0)throw new Error("invalid duration")}catch(e){throw i(e,"ERR_INVALID_POLL_INTERVAL")}try{for(;;)yield a(n,t),await new Promise(e=>{u=setTimeout(e,s)})}finally{clearTimeout(u)}}))},function(e,t,n){"use strict";const r=n(6)("ipfs:components:peer:storage"),i=n(1369),o=n(377),{ERR_REPO_NOT_INITIALIZED:a}=n(196).errors,u=n(44),s=n(45),c=n(31),f=n(57).bind({ignoreUndefined:!0}),l=n(613),{NotEnabledError:d,NotInitializedError:h}=n(171),p=n(626);class m{constructor(e,t,n,r,i){this.print=r,this.peerId=e,this.keychain=t,this.repo=n,this.print=r,this.isNew=i}static async start(e,t,n){const{repoAutoMigrate:r,repo:o,onMigrationProgress:a}=n,u="string"==typeof o||null==o?i(e,t,{path:o,autoMigrate:r,onMigrationProgress:a}):o,{peerId:s,keychain:c,isNew:f}=await y(e,u,n);return new m(s,c,u,e,f)}}e.exports=m;const y=async(e,t,n)=>{if(!t.closed)return{...await E(t,n),isNew:!1};try{return await t.open(),{...await E(t,n),isNew:!1}}catch(r){if(r.code!==a)throw r;if(n.init&&!1===n.init.allowNew)throw new d("Initialization of new repos disabled by config, pass `config.init.isNew: true` to enable it");return{...await v(e,t,n),isNew:!0}}},v=async(e,t,n)=>{const i=n.init||{},a=await t.exists();if(r("repo exists?",a),!0===a)throw new Error("repo already exists");const u=i.privateKey?await g(i.privateKey):await b(e,i),s=w(u);r("peer identity: %s",s.PeerID);const c={...f(S(o(),i.profiles),n.config),Identity:s};await t.init(c),await t.open(),r("repo opened");const l=await p({options:void 0,multiaddrs:void 0,peerId:u,repo:t,config:c,keychainConfig:{pass:n.pass}});return l.keychain&&l.keychain.opts&&(await l.loadKeychain(),await t.config.set("Keychain",{dek:l.keychain.opts.dek})),{peerId:u,keychain:l.keychain}},g=e=>(r("using user-supplied private-key"),"object"==typeof e?e:c.createFromPrivKey(u(e,"base64pad"))),b=(e,{algorithm:t="RSA",bits:n=2048})=>(e("generating %s-bit (rsa only) %s keypair...",n,t),c.create({keyType:t,bits:n})),w=e=>({PeerID:e.toB58String(),PrivKey:s(e.privKey.bytes,"base64pad")}),E=async(e,t)=>{const n=t.config,r=t.init&&t.init.profiles||[],i=t.pass,o=await e.config.getAll(),a=_(S(o,r),n);if(o!==a&&await e.config.replace(a),!a.Identity||!a.Identity.PrivKey)throw new h("No private key was found in the config, please intialize the repo");const u=await c.createFromPrivKey(a.Identity.PrivKey),s=await p({options:void 0,multiaddrs:void 0,peerId:u,repo:e,config:a,keychainConfig:{pass:i,...a.Keychain}});return s.keychain&&await s.loadKeychain(),{peerId:u,keychain:s.keychain}},_=(e,t)=>t?f(e,t):e,S=(e,t)=>(t||[]).reduce((e,t)=>{const n=l.profiles[t];if(!n)throw new Error(`Could not find profile with name '${t}'`);return r("applying profile %s",t),n.transform(e)},e)},function(e,t,n){"use strict";const{createRepo:r}=n(196),i=n(1370),o=n(1392);e.exports=(e,t,n)=>{const a=n.path||"ipfs";return r(a,e=>t.getCodec(e),{root:new i(a,{prefix:"",version:2}),blocks:new o(new i(a+"/blocks",{prefix:"",version:2})),datastore:new i(a+"/datastore",{prefix:"",version:2}),keys:new i(a+"/keys",{prefix:"",version:2}),pins:new i(a+"/pins",{prefix:"",version:2})},{autoMigrate:n.autoMigrate,onMigrationProgress:n.onMigrationProgress||e})}},function(e,t,n){"use strict";const{Key:r,Errors:i,Adapter:o,utils:{sortAll:a}}=n(47),u=n(154),s=n(117),c=n(232);e.exports=class extends o{constructor(e,t){super(),this.path=e,this.opts=t,t&&t.db?(this.database=t.db,delete t.db):this.database=n(1371)}_initDb(){return new Promise((e,t)=>{this.db=this.database(this.path,{...this.opts,valueEncoding:"binary",compression:!1},n=>{if(n)return t(n);e(this.db)})})}async open(){try{this.db?await this.db.open():this.db=await this._initDb()}catch(e){throw i.dbOpenFailedError(e)}}async put(e,t){try{await this.db.put(e.toString(),t)}catch(e){throw i.dbWriteFailedError(e)}}async get(e){let t;try{t=await this.db.get(e.toString())}catch(e){if(e.notFound)throw i.notFoundError(e);throw i.dbWriteFailedError(e)}return t}async has(e){try{await this.db.get(e.toString())}catch(e){if(e.notFound)return!1;throw e}return!0}async delete(e){try{await this.db.del(e.toString())}catch(e){throw i.dbDeleteFailedError(e)}}close(){return this.db&&this.db.close()}batch(){const e=[];return{put:(t,n)=>{e.push({type:"put",key:t.toString(),value:n})},delete:t=>{e.push({type:"del",key:t.toString()})},commit:()=>this.db.batch(e)}}query(e){let t=this._query({values:!0,prefix:e.prefix});Array.isArray(e.filters)&&(t=e.filters.reduce((e,t)=>u(e,t),t)),Array.isArray(e.orders)&&(t=e.orders.reduce((e,t)=>a(e,t),t));const{offset:n,limit:r}=e;if(n){let e=0;t=u(t,()=>e++>=n)}return r&&(t=c(t,r)),t}queryKeys(e){let t=s(this._query({values:!1,prefix:e.prefix}),({key:e})=>e);Array.isArray(e.filters)&&(t=e.filters.reduce((e,t)=>u(e,t),t)),Array.isArray(e.orders)&&(t=e.orders.reduce((e,t)=>a(e,t),t));const{offset:n,limit:r}=e;if(n){let e=0;t=u(t,()=>e++>=n)}return r&&(t=c(t,r)),t}_query(e){const t={keys:!0,keyAsBuffer:!0,values:e.values};if(null!=e.prefix){const n=e.prefix.toString();t.gte=n,t.lt=n+"ÿ"}return n=this.db.iterator(t),{[Symbol.asyncIterator]:()=>({next:()=>new Promise((e,t)=>{n.next((i,o,a)=>i?t(i):null==o?n.end(n=>{if(n)return t(n);e({done:!0,value:void 0})}):void e({done:!1,value:{key:new r(o,!1),value:a}}))}),return:()=>new Promise((e,t)=>{n.end(n=>{if(n)return t(n);e({done:!0,value:void 0})})})})};var n}}},function(e,t,n){e.exports=n(1372)(n(1386))},function(e,t,n){"use strict";const r=n(1373),i=n(1383);e.exports=function(e){function t(t,o,a){return"function"==typeof t?a=t:"function"==typeof o&&(a=o),n(o)||(o=n(t)?t:{}),r(i(e(t,o),o),o,a)}function n(e){return"object"==typeof e&&null!==e}for(const n of["destroy","repair"])"function"==typeof e[n]&&(t[n]=function(...t){e[n](...t)});return t.errors=r.errors,t}},function(e,t,n){"use strict";const r=n(33).EventEmitter,i=n(450).inherits,o=n(1374),a=n(1377),u=n(1378),s=n(394),c=n(618),f=n(622),l=n(296).getCallback,d=n(296).getOptions,h=n(1382),p=s.WriteError,m=s.ReadError,y=s.NotFoundError,v=s.OpenError,g=s.InitializationError;function b(e,t,n){if(!(this instanceof b))return new b(e,t,n);let i;if(r.call(this),this.setMaxListeners(1/0),"function"==typeof t&&(n=t,t={}),t=t||{},!e||"object"!=typeof e){if(i=new g("First argument must be an abstract-leveldown compliant store"),"function"==typeof n)return h(n,i);throw i}if("string"!=typeof e.status)throw new Error(".status required, old abstract-leveldown");this.options=d(t),this._db=e,this.db=new o(e),this.open(n||(e=>{e&&this.emit("error",e)})),this.supports=c(this.db.supports,{status:!1,deferredOpen:!0,openCallback:!0,promises:!0,streams:!0});for(const e of Object.keys(this.supports.additionalMethods))null==this[e]&&(this[e]=function(...t){return this.db[e](...t)})}function w(e,t){if(!e._isOpening()&&!e.isOpen())return h(t,new m("Database is not open")),!0}b.prototype.emit=r.prototype.emit,b.prototype.once=r.prototype.once,i(b,r),b.prototype.open=function(e,t){return"function"==typeof e&&(t=e,e=null),t=f.fromCallback(t),e||(e=this.options),this.isOpen()?(h(t,null,this),t.promise):this._isOpening()?(this.once("open",()=>{t(null,this)}),t.promise):(this.emit("opening"),this.db.open(e,e=>{if(e)return t(new v(e));this.db=this._db,t(null,this),this.emit("open"),this.emit("ready")}),t.promise)},b.prototype.close=function(e){return e=f.fromCallback(e),this.isOpen()?(this.db.close((t,...n)=>{this.emit("closed"),e(t,...n)}),this.emit("closing"),this.db=new o(this._db)):this.isClosed()?h(e):"closing"===this.db.status?this.once("closed",e):this._isOpening()&&this.once("open",()=>{this.close(e)}),e.promise},b.prototype.isOpen=function(){return"open"===this.db.status},b.prototype._isOpening=function(){return"opening"===this.db.status},b.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},b.prototype.get=function(e,t,n){return n=l(t,n),w(this,n=f.fromCallback(n))||(t=d(t),this.db.get(e,t,(function(t,r){if(t)return t=/notfound/i.test(t)||t.notFound?new y("Key not found in database ["+e+"]",t):new m(t),n(t);n(null,r)}))),n.promise},b.prototype.put=function(e,t,n,r){return r=l(n,r),w(this,r=f.fromCallback(r))||(n=d(n),this.db.put(e,t,n,n=>{if(n)return r(new p(n));this.emit("put",e,t),r()})),r.promise},b.prototype.del=function(e,t,n){return n=l(t,n),w(this,n=f.fromCallback(n))||(t=d(t),this.db.del(e,t,t=>{if(t)return n(new p(t));this.emit("del",e),n()})),n.promise},b.prototype.batch=function(e,t,n){return arguments.length?(n="function"==typeof e?e:l(t,n),w(this,n=f.fromCallback(n))||(t=d(t),this.db.batch(e,t,t=>{if(t)return n(new p(t));this.emit("batch",e),n()})),n.promise):new u(this)},b.prototype.iterator=function(e){return this.db.iterator(e)},b.prototype.clear=function(e,t){return t=l(e,t),e=d(e),w(this,t=f.fromCallback(t))||this.db.clear(e,n=>{if(n)return t(new p(n));this.emit("clear",e),t()}),t.promise},b.prototype.readStream=b.prototype.createReadStream=function(e){return"number"!=typeof(e=Object.assign({keys:!0,values:!0},e)).limit&&(e.limit=-1),new a(this.db.iterator(e),e)},b.prototype.keyStream=b.prototype.createKeyStream=function(e){return this.createReadStream(Object.assign({},e,{keys:!0,values:!1}))},b.prototype.valueStream=b.prototype.createValueStream=function(e){return this.createReadStream(Object.assign({},e,{keys:!1,values:!0}))},b.prototype.toString=function(){return"LevelUP"},b.prototype.type="levelup",b.errors=s,e.exports=b},function(e,t,n){"use strict";const r=n(174).AbstractLevelDOWN,i=n(22),o=n(1376),a="put get del batch clear".split(" "),u="approximateSize compactRange".split(" ");function s(e){r.call(this,e.supports||{});for(const t of u)"function"!=typeof e[t]||this.supports.additionalMethods[t]||(this.supports.additionalMethods[t]=!0);this._db=e,this._operations=[],c(this)}function c(e){for(const t of a)e["_"+t]=function(...e){this._operations.push({method:t,args:e})};for(const t of Object.keys(e.supports.additionalMethods))e[t]=function(...e){this._operations.push({method:t,args:e})};e._iterator=function(t){const n=new o(e,t);return this._operations.push({iterator:n}),n}}i(s,r),s.prototype.type="deferred-leveldown",s.prototype._open=function(e,t){this._db.open(e,e=>{if(e)return t(e);for(const e of this._operations)e.iterator?e.iterator.setDb(this._db):this._db[e.method](...e.args);this._operations=[],function(e){for(const t of a.concat("iterator"))e["_"+t]=function(...e){return this._db[t](...e)};for(const t of Object.keys(e.supports.additionalMethods))e[t]=function(...e){return this._db[t](...e)}}(this),t()})},s.prototype._close=function(e){this._db.close(t=>{if(t)return e(t);c(this),e()})},s.prototype._serializeKey=function(e){return e},s.prototype._serializeValue=function(e){return e},e.exports=s,e.exports.DeferredIterator=o},function(e,t,n){"use strict";const r=n(618),i=n(619),o=n(620),a=n(621),u=Object.prototype.hasOwnProperty,s=["lt","lte","gt","gte"];function c(e){this.status="new",this.supports=r(e,{status:!0})}function f(e,t){const n={};for(const r in t){if(!u.call(t,r))continue;if("start"===r||"end"===r)throw new Error('Legacy range options ("start" and "end") have been removed');let i=t[r];l(r)&&(i=e._serializeKey(i)),n[r]=i}return n}function l(e){return-1!==s.indexOf(e)}c.prototype.open=function(e,t){const n=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"==typeof e&&null!==e||(e={}),e.createIfMissing=!1!==e.createIfMissing,e.errorIfExists=!!e.errorIfExists,this.status="opening",this._open(e,e=>{if(e)return this.status=n,t(e);this.status="open",t()})},c.prototype._open=function(e,t){this._nextTick(t)},c.prototype.close=function(e){const t=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");this.status="closing",this._close(n=>{if(n)return this.status=t,e(n);this.status="closed",e()})},c.prototype._close=function(e){this._nextTick(e)},c.prototype.get=function(e,t,n){if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("get() requires a callback argument");const r=this._checkKey(e);if(r)return this._nextTick(n,r);e=this._serializeKey(e),"object"==typeof t&&null!==t||(t={}),t.asBuffer=!1!==t.asBuffer,this._get(e,t,n)},c.prototype._get=function(e,t,n){this._nextTick((function(){n(new Error("NotFound"))}))},c.prototype.put=function(e,t,n,r){if("function"==typeof n&&(r=n),"function"!=typeof r)throw new Error("put() requires a callback argument");const i=this._checkKey(e)||this._checkValue(t);if(i)return this._nextTick(r,i);e=this._serializeKey(e),t=this._serializeValue(t),"object"==typeof n&&null!==n||(n={}),this._put(e,t,n,r)},c.prototype._put=function(e,t,n,r){this._nextTick(r)},c.prototype.del=function(e,t,n){if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("del() requires a callback argument");const r=this._checkKey(e);if(r)return this._nextTick(n,r);e=this._serializeKey(e),"object"==typeof t&&null!==t||(t={}),this._del(e,t,n)},c.prototype._del=function(e,t,n){this._nextTick(n)},c.prototype.batch=function(e,t,n){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(n=t),"function"==typeof e&&(n=e),"function"!=typeof n)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return this._nextTick(n,new Error("batch(array) requires an array argument"));if(0===e.length)return this._nextTick(n);"object"==typeof t&&null!==t||(t={});const r=new Array(e.length);for(let t=0;t<e.length;t++){if("object"!=typeof e[t]||null===e[t])return this._nextTick(n,new Error("batch(array) element must be an object and not `null`"));const i=Object.assign({},e[t]);if("put"!==i.type&&"del"!==i.type)return this._nextTick(n,new Error("`type` must be 'put' or 'del'"));const o=this._checkKey(i.key);if(o)return this._nextTick(n,o);if(i.key=this._serializeKey(i.key),"put"===i.type){const e=this._checkValue(i.value);if(e)return this._nextTick(n,e);i.value=this._serializeValue(i.value)}r[t]=i}this._batch(r,t,n)},c.prototype._batch=function(e,t,n){this._nextTick(n)},c.prototype.clear=function(e,t){if("function"==typeof e)t=e;else if("function"!=typeof t)throw new Error("clear() requires a callback argument");(e=f(this,e)).reverse=!!e.reverse,e.limit="limit"in e?e.limit:-1,this._clear(e,t)},c.prototype._clear=function(e,t){e.keys=!0,e.values=!1,e.keyAsBuffer=!0,e.valueAsBuffer=!0;const n=this._iterator(e),r={},i=e=>{if(e)return n.end((function(){t(e)}));n.next((e,o)=>e?i(e):void 0===o?n.end(t):void this._del(o,r,i))};i()},c.prototype._setupIteratorOptions=function(e){return(e=f(this,e)).reverse=!!e.reverse,e.keys=!1!==e.keys,e.values=!1!==e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=!1!==e.keyAsBuffer,e.valueAsBuffer=!1!==e.valueAsBuffer,e},c.prototype.iterator=function(e){return"object"==typeof e&&null!==e||(e={}),e=this._setupIteratorOptions(e),this._iterator(e)},c.prototype._iterator=function(e){return new o(this)},c.prototype._chainedBatch=function(){return new a(this)},c.prototype._serializeKey=function(e){return e},c.prototype._serializeValue=function(e){return e},c.prototype._checkKey=function(e){return null==e?new Error("key cannot be `null` or `undefined`"):i(e)&&0===e.length?new Error("key cannot be an empty Buffer"):""===e?new Error("key cannot be an empty String"):Array.isArray(e)&&0===e.length?new Error("key cannot be an empty Array"):void 0},c.prototype._checkValue=function(e){if(null==e)return new Error("value cannot be `null` or `undefined`")},c.prototype._nextTick=n(392),e.exports=c},function(e,t,n){"use strict";const r=n(174).AbstractIterator;function i(e,t){r.call(this,e),this._options=t,this._iterator=null,this._operations=[]}n(22)(i,r),i.prototype.setDb=function(e){const t=this._iterator=e.iterator(this._options);for(const e of this._operations)t[e.method](...e.args)},i.prototype._operation=function(e,t){if(this._iterator)return this._iterator[e](...t);this._operations.push({method:e,args:t})};for(const e of["next","end"])i.prototype["_"+e]=function(...t){this._operation(e,t)};i.prototype.seek=function(...e){this._operation("seek",e)},e.exports=i},function(e,t,n){"use strict";const r=n(22),{Readable:i}=n(249);function o(e,t){if(!(this instanceof o))return new o(e,t);t=t||{},i.call(this,Object.assign({},t,{objectMode:!0})),this._iterator=e,this._options=t,this.on("end",this.destroy.bind(this,null,null))}e.exports=o,r(o,i),o.prototype._read=function(){this.destroyed||this._iterator.next((e,t,n)=>{if(!this.destroyed)return e?this.destroy(e):void(void 0===t&&void 0===n?this.push(null):!1!==this._options.keys&&!1===this._options.values?this.push(t):!1===this._options.keys&&!1!==this._options.values?this.push(n):this.push({key:t,value:n}))})},o.prototype._destroy=function(e,t){this._iterator.end((function(n){t(e||n)}))}},function(e,t,n){"use strict";const r=n(394).WriteError,i=n(622),o=n(296).getCallback,a=n(296).getOptions;function u(e){this.db=e,this.batch=e.db.batch(),this.ops=[],this.length=0}u.prototype.put=function(e,t,n){try{this.batch.put(e,t,n)}catch(e){throw new r(e)}return this.ops.push({...n,type:"put",key:e,value:t}),this.length++,this},u.prototype.del=function(e,t){try{this.batch.del(e,t)}catch(e){throw new r(e)}return this.ops.push({...t,type:"del",key:e}),this.length++,this},u.prototype.clear=function(){try{this.batch.clear()}catch(e){throw new r(e)}return this.ops=[],this.length=0,this},u.prototype.write=function(e,t){const n=this.db,u=this.ops;t=o(e,t),t=i.fromCallback(t),e=a(e);try{this.batch.write(e,(function(e){if(e)return t(new r(e));n.emit("batch",u),t()}))}catch(e){throw new r(e)}return t.promise},e.exports=u},function(e,t,n){var r=e.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];e.exports.errno={},e.exports.code={},r.forEach((function(t){e.exports.errno[t.errno]=t,e.exports.code[t.code]=t})),e.exports.custom=n(1380)(e.exports),e.exports.create=e.exports.custom.createError},function(e,t,n){var r=n(1381);function i(e,t,n){t&&"string"!=typeof t&&(t=t.message||t.name),r(this,{type:e,name:e,cause:"string"!=typeof t?t:n,message:t},"ewr")}function o(e,t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),i.call(this,"CustomError",e,t)}o.prototype=new Error,e.exports=function(e){var t=function(t,n){return function(e,t,n){var r=function(n,o){i.call(this,t,n,o),"FilesystemError"==t&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(e.errno[this.cause.errno]?e.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,r)};return r.prototype=n?new n:new o,r}(e,t,n)};return{CustomError:o,FilesystemError:t("FilesystemError"),createError:t}}},function(e,t,n){
/*!
  * prr
  * (c) 2013 Rod Vagg <rod@vagg.org>
  * https://github.com/rvagg/prr
  * License: MIT
  */
var r,i;r=this,i=function(){var e="function"==typeof Object.defineProperty?function(e,t,n){return Object.defineProperty(e,t,n),e}:function(e,t,n){return e[t]=n.value,e};return function(t,n,r,i){var o;if(i=function(e,t){var n="object"==typeof t,r=!n&&"string"==typeof t,i=function(e){return n?!!t[e]:!!r&&t.indexOf(e[0])>-1};return{enumerable:i("enumerable"),configurable:i("configurable"),writable:i("writable"),value:e}}(r,i),"object"==typeof n){for(o in n)Object.hasOwnProperty.call(n,o)&&(i.value=n[o],e(t,o,i));return t}return e(t,n,i)}},e.exports?e.exports=i():r.prr=i()},function(e,t,n){"use strict";const r=n(393);e.exports=function(e,...t){0===t.length?r(e):r(()=>e(...t))}},function(e,t,n){"use strict";const r=n(174).AbstractLevelDOWN,i=n(174).AbstractChainedBatch,o=n(174).AbstractIterator,a=n(22),u=n(1384),s=n(394).EncodingError,c=["approximateSize","compactRange"];function f(e,t){if(!(this instanceof f))return new f(e,t);const n=e.supports||{},i=n.additionalMethods||{};r.call(this,n),this.supports.encodings=!0,this.supports.additionalMethods={},c.forEach((function(t){const n="function"==typeof e[t];(i[t]||n)&&(this.supports.additionalMethods[t]=!0,this[t]=function(e,n,r,i){return e=this.codec.encodeKey(e,r),n=this.codec.encodeKey(n,r),this.db[t](e,n,r,i)})}),this),void 0===(t=t||{}).keyEncoding&&(t.keyEncoding="utf8"),void 0===t.valueEncoding&&(t.valueEncoding="utf8"),this.db=e,this.codec=new u(t)}function l(e,t){o.call(this,e),this.codec=e.codec,this.keys=t.keys,this.values=t.values,this.opts=this.codec.encodeLtgt(t),this.it=e.db.iterator(this.opts)}function d(e,t){i.call(this,e),this.codec=e.codec,this.batch=e.db.batch()}e.exports=f,a(f,r),f.prototype.type="encoding-down",f.prototype._serializeKey=f.prototype._serializeValue=function(e){return e},f.prototype._open=function(e,t){this.db.open(e,t)},f.prototype._close=function(e){this.db.close(e)},f.prototype._put=function(e,t,n,r){e=this.codec.encodeKey(e,n),t=this.codec.encodeValue(t,n),this.db.put(e,t,n,r)},f.prototype._get=function(e,t,n){e=this.codec.encodeKey(e,t),t.asBuffer=this.codec.valueAsBuffer(t),this.db.get(e,t,(e,r)=>{if(e)return n(e);try{r=this.codec.decodeValue(r,t)}catch(e){return n(new s(e))}n(null,r)})},f.prototype._del=function(e,t,n){e=this.codec.encodeKey(e,t),this.db.del(e,t,n)},f.prototype._chainedBatch=function(){return new d(this)},f.prototype._batch=function(e,t,n){e=this.codec.encodeBatch(e,t),this.db.batch(e,t,n)},f.prototype._iterator=function(e){return e.keyAsBuffer=this.codec.keyAsBuffer(e),e.valueAsBuffer=this.codec.valueAsBuffer(e),new l(this,e)},f.prototype._clear=function(e,t){e=this.codec.encodeLtgt(e),this.db.clear(e,t)},a(l,o),l.prototype._next=function(e){this.it.next((t,n,r)=>{if(t)return e(t);try{n=this.keys&&void 0!==n?this.codec.decodeKey(n,this.opts):void 0,r=this.values&&void 0!==r?this.codec.decodeValue(r,this.opts):void 0}catch(t){return e(new s(t))}e(null,n,r)})},l.prototype._seek=function(e){e=this.codec.encodeKey(e,this.opts),this.it.seek(e)},l.prototype._end=function(e){this.it.end(e)},a(d,i),d.prototype._put=function(e,t,n){e=this.codec.encodeKey(e,n),t=this.codec.encodeValue(t,n),this.batch.put(e,t)},d.prototype._del=function(e,t){e=this.codec.encodeKey(e,t),this.batch.del(e)},d.prototype._clear=function(){this.batch.clear()},d.prototype._write=function(e,t){this.batch.write(e,t)}},function(e,t,n){"use strict";const r=n(1385),i=new Set(["lt","gt","lte","gte"]);function o(e){if(!(this instanceof o))return new o(e);this.opts=e||{},this.encodings=r}e.exports=o,o.prototype._encoding=function(e){return"string"==typeof e&&(e=r[e]),e||(e=r.id),e},o.prototype._keyEncoding=function(e,t){return this._encoding(t&&t.keyEncoding||e&&e.keyEncoding||this.opts.keyEncoding)},o.prototype._valueEncoding=function(e,t){return this._encoding(t&&(t.valueEncoding||t.encoding)||e&&(e.valueEncoding||e.encoding)||this.opts.valueEncoding||this.opts.encoding)},o.prototype.encodeKey=function(e,t,n){return this._keyEncoding(t,n).encode(e)},o.prototype.encodeValue=function(e,t,n){return this._valueEncoding(t,n).encode(e)},o.prototype.decodeKey=function(e,t){return this._keyEncoding(t).decode(e)},o.prototype.decodeValue=function(e,t){return this._valueEncoding(t).decode(e)},o.prototype.encodeBatch=function(e,t){return e.map(e=>{const n={type:e.type,key:this.encodeKey(e.key,t,e)};return this.keyAsBuffer(t,e)&&(n.keyEncoding="binary"),e.prefix&&(n.prefix=e.prefix),"value"in e&&(n.value=this.encodeValue(e.value,t,e),this.valueAsBuffer(t,e)&&(n.valueEncoding="binary")),n})},o.prototype.encodeLtgt=function(e){const t={};for(const n of Object.keys(e)){if("start"===n||"end"===n)throw new Error('Legacy range options ("start" and "end") have been removed');t[n]=i.has(n)?this.encodeKey(e[n],e):e[n]}return t},o.prototype.createStreamDecoder=function(e){return e.keys&&e.values?(t,n)=>({key:this.decodeKey(t,e),value:this.decodeValue(n,e)}):e.keys?t=>this.decodeKey(t,e):e.values?(t,n)=>this.decodeValue(n,e):function(){}},o.prototype.keyAsBuffer=function(e){return this._keyEncoding(e).buffer},o.prototype.valueAsBuffer=function(e){return this._valueEncoding(e).buffer}},function(e,t,n){"use strict";const{Buffer:r}=n(27);t.utf8=t["utf-8"]={encode:function(e){return a(e)?e:String(e)},decode:o,buffer:!1,type:"utf8"},t.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},t.binary={encode:function(e){return a(e)?e:r.from(e)},decode:o,buffer:!0,type:"binary"},t.none={encode:o,decode:o,buffer:!1,type:"id"},t.id=t.none;const i=["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"];for(const e of i)t[e]={encode:function(t){return a(t)?t:r.from(t,e)},decode:function(t){return t.toString(e)},buffer:!0,type:e};function o(e){return e}function a(e){return null==e||r.isBuffer(e)}},function(e,t,n){"use strict";e.exports=l;const r=n(174).AbstractLevelDOWN,i=n(22),o=n(1387),a=n(1389),u=n(624),s=n(1390),c=n(1391),f=n(623);function l(e,t){if(!(this instanceof l))return new l(e,t);if(r.call(this,{bufferKeys:s.bufferKeys(indexedDB),snapshots:!0,permanence:!0,clear:!0}),t=t||{},"string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.prefix=null==t.prefix?"level-js-":t.prefix,this.version=parseInt(t.version||1,10)}i(l,r),l.prototype.type="level-js",l.prototype._open=function(e,t){const n=indexedDB.open(this.prefix+this.location,this.version);n.onerror=function(){t(n.error||new Error("unknown error"))},n.onsuccess=()=>{this.db=n.result,t()},n.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains(this.location)||t.createObjectStore(this.location)}},l.prototype.store=function(e){return this.db.transaction([this.location],e).objectStore(this.location)},l.prototype.await=function(e,t){const n=e.transaction;n.onabort=function(){t(n.error||new Error("aborted by user"))},n.oncomplete=function(){t(null,e.result)}},l.prototype._get=function(e,t,n){const r=this.store("readonly");let i;try{i=r.get(e)}catch(e){return this._nextTick(n,e)}this.await(i,(function(e,r){return e?n(e):void 0===r?n(new Error("NotFound")):void n(null,u(r,t.asBuffer))}))},l.prototype._del=function(e,t,n){const r=this.store("readwrite");let i;try{i=r.delete(e)}catch(e){return this._nextTick(n,e)}this.await(i,n)},l.prototype._put=function(e,t,n,r){const i=this.store("readwrite");let o;try{o=i.put(t,e)}catch(e){return this._nextTick(r,e)}this.await(o,r)},l.prototype._serializeKey=function(e){return a(e,this.supports.bufferKeys)},l.prototype._serializeValue=function(e){return a(e,!0)},l.prototype._iterator=function(e){return new o(this,this.location,e)},l.prototype._batch=function(e,t,n){if(0===e.length)return this._nextTick(n);const r=this.store("readwrite"),i=r.transaction;let o,a=0;i.onabort=function(){n(o||i.error||new Error("aborted by user"))},i.oncomplete=function(){n()},function t(){const n=e[a++],u=n.key;let s;try{s="del"===n.type?r.delete(u):r.put(n.value,u)}catch(e){return o=e,void i.abort()}a<e.length&&(s.onsuccess=t)}()},l.prototype._clear=function(e,t){let n,r;try{n=f(e)}catch(e){return this._nextTick(t)}if(e.limit>=0)return c(this,this.location,n,e,t);try{const e=this.store("readwrite");r=n?e.delete(n):e.clear()}catch(e){return this._nextTick(t,e)}this.await(r,t)},l.prototype._close=function(e){this.db.close(),this._nextTick(e)},l.prototype.upgrade=function(e){if("open"!==this.status)return this._nextTick(e,new Error("cannot upgrade() before open()"));const t=this.iterator(),n={},r=this;function i(e){if(e)return a(e);t.next(o)}function o(e,t,o){if(e||void 0===t)return a(e);const s=r._serializeKey(u(t,!0)),c=r._serializeValue(u(o,!0));r._batch([{type:"del",key:t},{type:"put",key:s,value:c}],n,i)}function a(n){t.end((function(t){e(n||t)}))}t._deserializeKey=t._deserializeValue=function(e){return e},i()},l.destroy=function(e,t,n){"function"==typeof t&&(n=t,t="level-js-");const r=indexedDB.deleteDatabase(t+e);r.onsuccess=function(){n()},r.onerror=function(e){n(e)}}},function(e,t,n){"use strict";const r=n(22),i=n(174).AbstractIterator,o=n(623),a=n(624),u=function(){};function s(e,t,n){if(i.call(this,e),this._limit=n.limit,this._count=0,this._callback=null,this._cache=[],this._completed=!1,this._aborted=!1,this._error=null,this._transaction=null,this._keys=n.keys,this._values=n.values,this._keyAsBuffer=n.keyAsBuffer,this._valueAsBuffer=n.valueAsBuffer,0===this._limit)return void(this._completed=!0);let r;try{r=o(n)}catch(e){return void(this._completed=!0)}this.createIterator(t,r,n.reverse)}e.exports=s,r(s,i),s.prototype.createIterator=function(e,t,n){const r=this.db.db.transaction([e],"readonly");r.objectStore(e).openCursor(t,n?"prev":"next").onsuccess=e=>{const t=e.target.result;t&&this.onItem(t)},this._transaction=r,r.onabort=()=>{this.onAbort(this._transaction.error||new Error("aborted by user"))},r.oncomplete=()=>{this.onComplete()}},s.prototype.onItem=function(e){this._cache.push(e.key,e.value),(this._limit<=0||++this._count<this._limit)&&e.continue(),this.maybeNext()},s.prototype.onAbort=function(e){this._aborted=!0,this._error=e,this.maybeNext()},s.prototype.onComplete=function(){this._completed=!0,this.maybeNext()},s.prototype.maybeNext=function(){this._callback&&(this._next(this._callback),this._callback=null)},s.prototype._next=function(e){if(this._aborted){const t=this._error;this._error=null,this._nextTick(e,t)}else if(this._cache.length>0){let t=this._cache.shift(),n=this._cache.shift();t=this._keys&&void 0!==t?this._deserializeKey(t,this._keyAsBuffer):void 0,n=this._values&&void 0!==n?this._deserializeValue(n,this._valueAsBuffer):void 0,this._nextTick(e,null,t,n)}else this._completed?this._nextTick(e):this._callback=e},s.prototype._deserializeKey=a,s.prototype._deserializeValue=a,s.prototype._end=function(e){if(this._aborted||this._completed)return this._nextTick(e,this._error);this.onItem=u,this.onAbort=e,this.onComplete=e}},function(e,t,n){(function(e){function n(e){return void 0!==e&&""!==e}function r(e,t){return Object.hasOwnProperty.call(e,t)}function i(e,t){return Object.hasOwnProperty.call(e,t)&&t}t.compare=function(t,n){if(e.isBuffer(t)){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var o=t[i]-n[i];if(o)return o}return t.length-n.length}return t<n?-1:t>n?1:0};var o=t.lowerBoundKey=function(e){return i(e,"gt")||i(e,"gte")||i(e,"min")||(e.reverse?i(e,"end"):i(e,"start"))||void 0},a=t.lowerBound=function(e,t){var n=o(e);return n?e[n]:t},u=t.lowerBoundInclusive=function(e){return!r(e,"gt")},s=t.upperBoundInclusive=function(e){return!r(e,"lt")},c=t.lowerBoundExclusive=function(e){return!u(e)},f=t.upperBoundExclusive=function(e){return!s(e)},l=t.upperBoundKey=function(e){return i(e,"lt")||i(e,"lte")||i(e,"max")||(e.reverse?i(e,"start"):i(e,"end"))||void 0},d=t.upperBound=function(e,t){var n=l(e);return n?e[n]:t};function h(e){return e}t.start=function(e,t){return e.reverse?d(e,t):a(e,t)},t.end=function(e,t){return e.reverse?a(e,t):d(e,t)},t.startInclusive=function(e){return e.reverse?s(e):u(e)},t.endInclusive=function(e){return e.reverse?u(e):s(e)},t.toLtgt=function(e,n,i,o,a){n=n||{},i=i||h;var u=arguments.length>3,s=t.lowerBoundKey(e),c=t.upperBoundKey(e);return s?"gt"===s?n.gt=i(e.gt,!1):n.gte=i(e[s],!1):u&&(n.gte=i(o,!1)),c?"lt"===c?n.lt=i(e.lt,!0):n.lte=i(e[c],!0):u&&(n.lte=i(a,!0)),null!=e.reverse&&(n.reverse=!!e.reverse),r(n,"max")&&delete n.max,r(n,"min")&&delete n.min,r(n,"start")&&delete n.start,r(n,"end")&&delete n.end,n},t.contains=function(e,r,i){i=i||t.compare;var o=a(e);if(n(o)&&((u=i(r,o))<0||0===u&&c(e)))return!1;var u,s=d(e);if(n(s)&&((u=i(r,s))>0||0===u&&f(e)))return!1;return!0},t.filter=function(e,n){return function(r){return t.contains(e,r,n)}}}).call(this,n(27).Buffer)},function(e,t,n){"use strict";(function(t){const r=n(27).Buffer,i=function(){if(t.TextEncoder){const e=new TextEncoder("utf-8");return e.encode.bind(e)}return r.from}();e.exports=function(e,t){return t?r.isBuffer(e)?e:i(String(e)):String(e)}}).call(this,n(48))},function(e,t,n){"use strict";const r=n(27).Buffer;t.test=function(e){return function(t){try{return t.cmp(e,0),!0}catch(e){return!1}}},t.bufferKeys=t.test(r.alloc(0))},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){if(0===r.limit)return e._nextTick(i);const o=e.db.transaction([t],"readwrite"),a=o.objectStore(t);let u=0;o.oncomplete=function(){i()},o.onabort=function(){i(o.error||new Error("aborted by user"))};const s=a.openKeyCursor?"openKeyCursor":"openCursor",c=r.reverse?"prev":"next";a[s](n,c).onsuccess=function(e){const t=e.target.result;t&&(a.delete(t.key).onsuccess=function(){(r.limit<=0||++u<r.limit)&&t.continue()})}}},function(e,t,n){"use strict";(function(t,r){const i=n(135),o=n(136),{Key:a}=n(47),{CID:u}=n(12),s=n(102),c=n(84),{base32:f,base32pad:l}=n(85),{base58btc:d}=n(64),h=n(4),{BlockstoreAdapter:p}=n(395);function m(e){if(!(e instanceof u))throw h(new Error("Not a valid cid"),"ERR_INVALID_CID");return new a("/"+f.encode(e.multihash.bytes).slice(1).toUpperCase(),!1)}function y(e){return u.createV1(s.code,c.decode(f.decode("b"+e.toString().slice(1).toLowerCase())))}function v(e){let t;const n=e.substring(0,1);if("/"===n)return v(e.substring(1));t="b"===n.toLowerCase()?f.decode(e.toLowerCase()).subarray(2):"c"===n.toLowerCase()?l.decode(e.toLowerCase()).subarray(2):"z"===n?d.decode(e).subarray(2):"Q"===n?d.decode("z"+e):f.decode("b"+e.toLowerCase()).subarray(2);return f.encode(t).substring(1).toUpperCase()||"C"}e.exports=class extends p{constructor(e){super(),this.child=e}open(){return this.child.open()}close(){return this.child.close()}async*query(e,t){for await(const{key:n,value:r}of this.child.query(function(e){return{...e,prefix:e.prefix?"/"+v(e.prefix):void 0,filters:e.filters?e.filters.map(e=>t=>e({key:y(t.key),value:t.value})):void 0,orders:e.orders?e.orders.map(e=>(t,n)=>e({key:y(t.key),value:t.value},{key:y(n.key),value:n.value})):void 0}}(e),t))yield{key:y(n),value:r}}async*queryKeys(e,t){for await(const n of this.child.queryKeys(function(e){return{...e,prefix:e.prefix?"/"+v(e.prefix):void 0,filters:e.filters?e.filters.map(e=>t=>e(y(t))):void 0,orders:e.orders?e.orders.map(e=>(t,n)=>e(y(t),y(n))):void 0}}(e),t))yield y(n)}async get(e,t){return this.child.get(m(e),t)}async*getMany(e,t){for await(const n of e)yield this.get(n,t)}async put(e,t,n){await this.child.put(m(e),t,n)}async*putMany(e,n){const a=o();(t&&t.nextTick?t.nextTick:r)(async()=>{try{const t=this.child;await i(this.child.putMany(async function*(){for await(const r of e){const e=m(r.key);await t.has(e,n)||(yield{key:e,value:r.value}),a.push(r)}}())),a.end()}catch(e){a.end(e)}}),yield*a}has(e,t){return this.child.has(m(e),t)}delete(e,t){return this.child.delete(m(e),t)}deleteMany(e,t){const n=o();return i(this.child.deleteMany(async function*(){for await(const t of e)yield m(t),n.push(t);n.end()}(),t)).catch(e=>{n.end(e)}),n}}}).call(this,n(49),n(184).setImmediate)},function(e,t,n){"use strict";const r=n(625),{base32:i}=n(85),o=n(102),{CID:a}=n(12),u=n(84),s=n(1394);e.exports=class extends r{constructor(){super(),this.data={}}open(){return Promise.resolve()}close(){return Promise.resolve()}async put(e,t){this.data[i.encode(e.multihash.bytes)]=t}async get(e){if(!await this.has(e))throw s.notFoundError();return this.data[i.encode(e.multihash.bytes)]}async has(e){return void 0!==this.data[i.encode(e.multihash.bytes)]}async delete(e){delete this.data[i.encode(e.multihash.bytes)]}async*_all(){yield*Object.entries(this.data).map(([e,t])=>({key:a.createV1(o.code,u.decode(i.decode(e))),value:t}))}async*_allKeys(){yield*Object.entries(this.data).map(([e])=>a.createV1(o.code,u.decode(i.decode(e))))}}},function(e,t,n){"use strict";const r=n(4);e.exports={notFoundError:function(e){return e=e||new Error("Not Found"),r(e,"ERR_NOT_FOUND")}}},function(e,t,n){"use strict";e.exports={gossipsub:n(627)}},function(e,t,n){"use strict";const r=n(6),{EventEmitter:i}=n(33),o=n(4),{pipe:a}=n(66),u=n(396),{codes:s}=n(397),{RPC:c}=n(629),f=n(1397),{SignaturePolicy:l}=n(1403),d=n(632),{signMessage:h,verifySignature:p}=n(1404);class m extends i{constructor({debugName:e,multicodecs:t,libp2p:n,globalSignaturePolicy:i=l.StrictSign,canRelayMessage:a=!1,emitSelf:u=!1}){if("string"!=typeof e)throw new Error("a debugname `string` is required");if(!t)throw new Error("multicodecs are required");if(!n)throw new Error("libp2p is required");if(super(),this.log=Object.assign(r(e),{err:r(e+":error")}),this.multicodecs=d.ensureArray(t),this._libp2p=n,this.registrar=n.registrar,this.peerId=n.peerId,this.started=!1,this.topics=new Map,this.subscriptions=new Set,this.peers=new Map,!l[i])throw o(new Error("Invalid global signature policy"),s.ERR_INVALID_SIGNATURE_POLICY);this.globalSignaturePolicy=i,this.canRelayMessage=a,this.emitSelf=u,this.topicValidators=new Map,this._registrarId=void 0,this._onIncomingStream=this._onIncomingStream.bind(this),this._onPeerConnected=this._onPeerConnected.bind(this),this._onPeerDisconnected=this._onPeerDisconnected.bind(this)}start(){if(this.started)return;this.log("starting"),this.registrar.handle(this.multicodecs,this._onIncomingStream);const e=new u({multicodecs:this.multicodecs,handlers:{onConnect:this._onPeerConnected,onDisconnect:this._onPeerDisconnected}});this._registrarId=this.registrar.register(e),this.log("started"),this.started=!0}stop(){this.started&&(this.registrar.unregister(this._registrarId),this.log("stopping"),this.peers.forEach(e=>e.close()),this.peers=new Map,this.subscriptions=new Set,this.started=!1,this.log("stopped"))}_onIncomingStream({protocol:e,stream:t,connection:n}){const r=n.remotePeer,i=r.toB58String(),o=this._addPeer(r,e),a=o.attachInboundStream(t);this._processMessages(i,a,o)}async _onPeerConnected(e,t){const n=e.toB58String();this.log("connected",n);try{const{stream:n,protocol:r}=await t.newStream(this.multicodecs),i=this._addPeer(e,r);await i.attachOutboundStream(n)}catch(e){this.log.err(e)}this._sendSubscriptions(n,Array.from(this.subscriptions),!0)}_onPeerDisconnected(e,t){const n=e.toB58String();this.log("connection ended",n,t?t.message:""),this._removePeer(e)}_addPeer(e,t){const n=e.toB58String(),r=this.peers.get(n);if(r)return r;this.log("new peer",n);const i=new f({id:e,protocol:t});return this.peers.set(n,i),i.once("close",()=>this._removePeer(e)),i}_removePeer(e){if(!e)return;const t=e.toB58String(),n=this.peers.get(t);if(n){n.removeAllListeners(),n.close(),this.log("delete peer",t),this.peers.delete(t);for(const e of this.topics.values())e.delete(t);return n}}async _processMessages(e,t,n){try{await a(t,async t=>{for await(const r of t){const t=r instanceof Uint8Array?r:r.slice(),i=this._decodeRpc(t);await this._processRpc(e,n,i)}})}catch(e){this._onPeerDisconnected(n.id,e)}}async _processRpc(e,t,n){this.log("rpc from",e);const r=n.subscriptions,i=n.msgs;if(r.length&&(r.forEach(t=>{this._processRpcSubOpt(e,t)}),this.emit("pubsub:subscription-change",t.id,r)),!this._acceptFrom(e))return this.log("received message from unacceptable peer %s",e),!1;if(i.length)for(const t of i){if(!(this.canRelayMessage||t.topicIDs&&t.topicIDs.some(e=>this.subscriptions.has(e)))){this.log("received message we didn't subscribe to. Dropping.");continue}const n=d.normalizeInRpcMessage(t,e);await this._processRpcMessage(n)}return!0}_processRpcSubOpt(e,t){const n=t.topicID;if(!n)return;let r=this.topics.get(n);r||(r=new Set,this.topics.set(n,r)),t.subscribe?r.add(e):r.delete(e)}async _processRpcMessage(e){if(this.peerId.toB58String()!==e.from||this.emitSelf){try{await this.validate(e)}catch(e){return void this.log("Message is invalid, dropping it. %O",e)}return this._emitMessage(e),this._publish(d.normalizeOutRpcMessage(e))}}_emitMessage(e){e.topicIDs.forEach(t=>{this.subscriptions.has(t)&&this.emit(t,e)})}getMsgId(e){const t=this.globalSignaturePolicy;switch(t){case l.StrictSign:return d.msgId(e.from,e.seqno);case l.StrictNoSign:return d.noSignMsgId(e.data);default:throw o(new Error("Cannot get message id: unhandled signature policy: "+t),s.ERR_UNHANDLED_SIGNATURE_POLICY)}}_acceptFrom(e){return!0}_decodeRpc(e){return c.decode(e)}_encodeRpc(e){return c.encode(e).finish()}_sendRpc(e,t){const n=this.peers.get(e);if(n&&n.isWritable)n.write(this._encodeRpc(t));else{const t=`Cannot send RPC to ${e} as there is no open stream to it available`;this.log.err(t)}}_sendSubscriptions(e,t,n){return this._sendRpc(e,{subscriptions:t.map(e=>({topicID:e,subscribe:n}))})}async validate(e){const t=this.globalSignaturePolicy;switch(t){case l.StrictNoSign:if(e.from)throw o(new Error("StrictNoSigning: from should not be present"),s.ERR_UNEXPECTED_FROM);if(e.signature)throw o(new Error("StrictNoSigning: signature should not be present"),s.ERR_UNEXPECTED_SIGNATURE);if(e.key)throw o(new Error("StrictNoSigning: key should not be present"),s.ERR_UNEXPECTED_KEY);if(e.seqno)throw o(new Error("StrictNoSigning: seqno should not be present"),s.ERR_UNEXPECTED_SEQNO);break;case l.StrictSign:if(!e.signature)throw o(new Error("StrictSigning: Signing required and no signature was present"),s.ERR_MISSING_SIGNATURE);if(!e.seqno)throw o(new Error("StrictSigning: Signing required and no seqno was present"),s.ERR_MISSING_SEQNO);if(!await p(e))throw o(new Error("StrictSigning: Invalid message signature"),s.ERR_INVALID_SIGNATURE);break;default:throw o(new Error("Cannot validate message: unhandled signature policy: "+t),s.ERR_UNHANDLED_SIGNATURE_POLICY)}for(const t of e.topicIDs){const n=this.topicValidators.get(t);n&&await n(t,e)}}_buildMessage(e){const t=this.globalSignaturePolicy;switch(t){case l.StrictSign:return e.from=this.peerId.toB58String(),e.seqno=d.randomSeqno(),h(this.peerId,e);case l.StrictNoSign:return Promise.resolve(e);default:throw o(new Error("Cannot build message: unhandled signature policy: "+t),s.ERR_UNHANDLED_SIGNATURE_POLICY)}}getSubscribers(e){if(!this.started)throw o(new Error("not started yet"),"ERR_NOT_STARTED_YET");if(!e||"string"!=typeof e)throw o(new Error("a string topic must be provided"),"ERR_NOT_VALID_TOPIC");const t=this.topics.get(e);return t?Array.from(t):[]}async publish(e,t){if(!this.started)throw new Error("Pubsub has not started");this.log("publish",e,t);const n={receivedFrom:this.peerId.toB58String(),data:t,topicIDs:[e]},r=await this._buildMessage(n),i=d.normalizeInRpcMessage(r);this.emitSelf&&this._emitMessage(i),await this._publish(i)}_publish(e){throw o(new Error("publish must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}subscribe(e){if(!this.started)throw new Error("Pubsub has not started");this.subscriptions.has(e)||(this.subscriptions.add(e),this.peers.forEach((t,n)=>this._sendSubscriptions(n,[e],!0)))}unsubscribe(e){if(!this.started)throw new Error("Pubsub is not started");this.subscriptions.has(e)&&0===this.listenerCount(e)&&(this.subscriptions.delete(e),this.peers.forEach((t,n)=>this._sendSubscriptions(n,[e],!1)))}getTopics(){if(!this.started)throw new Error("Pubsub is not started");return Array.from(this.subscriptions)}}m.utils=d,m.SignaturePolicy=l,e.exports=m},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p-pubsub:peer-streams"),{error:r("libp2p-pubsub:peer-streams:err")}),{EventEmitter:o}=n(33),a=n(119),u=n(136),{pipe:s}=n(66),{source:c}=n(137),f=n(193).default;e.exports=class extends o{constructor({id:e,protocol:t}){super(),this.id=e,this.protocol=t,this._rawOutboundStream=null,this._rawInboundStream=null,this._inboundAbortController=new f,this.outboundStream=null,this.inboundStream=null}get isReadable(){return Boolean(this.inboundStream)}get isWritable(){return Boolean(this.outboundStream)}write(e){if(!this.outboundStream){const e=this.id.toB58String();throw new Error("No writable connection to "+e)}this.outboundStream.push(e)}attachInboundStream(e){return this._rawInboundStream=e,this.inboundStream=c(s(this._rawInboundStream,a.decode()),this._inboundAbortController.signal,{returnOnAbort:!0}),this.emit("stream:inbound"),this.inboundStream}async attachOutboundStream(e){const t=this.outboundStream;this.outboundStream&&await this.outboundStream.end(),this._rawOutboundStream=e,this.outboundStream=u({onEnd:e=>{this._rawOutboundStream&&this._rawOutboundStream.reset&&this._rawOutboundStream.reset(),this._rawOutboundStream=null,this.outboundStream=null,e&&this.emit("close")}}),s(this.outboundStream,a.encode(),this._rawOutboundStream).catch(e=>{i.error(e)}),t||this.emit("stream:outbound")}close(){this.outboundStream&&this.outboundStream.end(),this.inboundStream&&this._inboundAbortController.abort(),this._rawOutboundStream=null,this.outboundStream=null,this._rawInboundStream=null,this.inboundStream=null,this.emit("close")}}},function(e,t,n){"use strict";const{Buffer:r}=n(27),i=n(86),o=n(630);function a(e){e=e||{};const t=Math.max(e.poolSize||10240,e.minPoolSize||8),n=e.lengthEncoder||o;return async function*(e){let o=r.alloc(t),a=0;for await(const u of e){n(u.length,o,a);const e=o.slice(a,a+n.bytes);a+=n.bytes,o.length-a<8&&(o=r.alloc(t),a=0),yield(new i).append(e).append(u)}}}a.single=(e,t)=>{const n=(t=t||{}).lengthEncoder||o;return new i([n(e.length),e.slice()])},e.exports=a,e.exports.MIN_POOL_SIZE=8,e.exports.DEFAULT_POOL_SIZE=10240},function(e,t,n){"use strict";const{Buffer:r}=n(27),i=n(86),o=n(631),a=r.alloc(0),u="readLength",s="readData",c={[u]:(e,t,n,r)=>{let o;t=t.append(e);try{o=r.lengthDecoder(t)}catch(e){if(t.length>r.maxLengthLength)throw Object.assign(e,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(e instanceof RangeError)return{mode:u,buffer:t,chunk:void 0,state:void 0,data:void 0};throw e}if(o>r.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return e=t.shallowSlice(r.lengthDecoder.bytes),t=new i,r.onLength&&r.onLength(o),o<=0?(r.onData&&r.onData(a),{mode:u,chunk:e,buffer:t,data:a}):{mode:s,chunk:e,buffer:t,state:{dataLength:o},data:void 0}},[s]:(e,t,n,r)=>{if(t=t.append(e),!n)throw new Error("state is required");if(t.length<n.dataLength)return{mode:s,buffer:t,state:n,chunk:void 0,data:void 0};const{dataLength:o}=n,a=t.shallowSlice(0,o),c=t.length>o?t.shallowSlice(o):void 0;return t=new i,r.onData&&r.onData(a),{mode:u,chunk:c,buffer:t,state:void 0,data:a}}};function f(e){const t={lengthDecoder:(e=e||{}).lengthDecoder||o,maxLengthLength:e.maxLengthLength||8,maxDataLength:e.maxDataLength||4194304,onLength:e.onLength,onData:e.onData};return async function*(e){let n,r=new i,o=u;for await(const i of e){let e=i;for(;e;){const i=c[o](e,r,n,t);o=i.mode,e=i.chunk,r=i.buffer,n=i.state,i.data&&(yield i.data)}}if(r.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}}f.fromReader=(e,t)=>{let n=1;const r={[Symbol.asyncIterator](){return this},next:async()=>{try{return await e.next(n)}catch(e){if("ERR_UNDER_READ"===e.code)return{done:!0,value:null};throw e}finally{n=1}}};return f({...t||{},onLength:e=>{n=e}})(r)},e.exports=f,e.exports.MAX_LENGTH_LENGTH=8,e.exports.MAX_DATA_LENGTH=4194304},function(e,t,n){"use strict";const{Buffer:r}=n(27),i=(e,t,n)=>((t=t||r.allocUnsafe(4)).writeInt32BE(e,n),t);i.bytes=4,e.exports=i},function(e,t,n){"use strict";const r=e=>{if(e.length<4)throw RangeError("Could not decode int32BE");return e.readInt32BE(0)};r.bytes=4,e.exports=r},function(e,t){e.exports=class extends Error{constructor(e,t){super(e||"The operation was aborted"),this.type="aborted",this.code=t||"ABORT_ERR"}}},function(e,t,n){"use strict";t.SignaturePolicy={StrictSign:"StrictSign",StrictNoSign:"StrictNoSign"}},function(e,t,n){"use strict";const r=n(31),{RPC:i}=n(629),o=n(172),a=n(44)("libp2p-pubsub:"),{normalizeOutRpcMessage:u}=n(632);async function s(e){if(!e.from)throw new Error("Could not get the public key from the originator id");const t=r.createFromB58String(e.from);if(e.key){const n=await r.createFromPubKey(e.key);if(n.equals(t))return n.pubKey;throw new Error("Public Key does not match the originator")}if(t.pubKey)return t.pubKey;throw new Error("Could not get the public key from the originator id")}e.exports={messagePublicKey:s,signMessage:async function(e,t){const n=o([a,i.Message.encode(u(t)).finish()]),r=await e.privKey.sign(n);return{...t,signature:r,key:e.pubKey.bytes}},SignPrefix:a,verifySignature:async function(e){if(!e.signature)throw new Error("Message must contain a signature to be verified");if(!e.from)throw new Error("Message must contain a from property to be verified");const t=o([a,i.Message.encode({...e,from:r.createFromB58String(e.from).toBytes(),signature:void 0,key:void 0}).finish()]);return(await s(e)).verify(t,e.signature)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageCache=void 0;const r=n(204);t.MessageCache=class{constructor(e,t,n){this.msgs=new Map,this.peertx=new Map,this.history=[];for(let e=0;e<t;e++)this.history[e]=[];this.gossip=e,this.msgIdFn=n}put(e){const t=this.getMsgId(e),n=r.messageIdToString(t);this.msgs.set(n,e),this.history[0].push({msgID:t,topics:e.topicIDs})}getMsgId(e){return this.msgIdFn(e)}get(e){return this.msgs.get(r.messageIdToString(e))}getForPeer(e,t){const n=r.messageIdToString(e),i=this.msgs.get(n);if(!i)return[void 0,0];let o=this.peertx.get(n);o||(o=new Map,this.peertx.set(n,o));const a=(o.get(t)||0)+1;return o.set(t,a),[i,a]}getGossipIDs(e){const t=[];for(let n=0;n<this.gossip;n++)this.history[n].forEach(n=>{for(const r of n.topics)if(r===e){t.push(n.msgID);break}});return t}shift(){this.history[this.history.length-1].forEach(e=>{const t=r.messageIdToString(e.msgID);this.msgs.delete(t),this.peertx.delete(t)}),this.history.pop(),this.history.unshift([])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGossipRpc=void 0,t.createGossipRpc=function(e=[],t={}){return{subscriptions:[],msgs:e,control:Object.assign({ihave:[],iwant:[],graft:[],prune:[]},t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shuffle=void 0,t.shuffle=function(e){if(e.length<=1)return e;for(let t=0;t<e.length;t++){const n=Math.floor(Math.random()*Math.floor(e.length)),r=e[t];e[t]=e[n],e[n]=r}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasGossipProtocol=void 0;const r=n(205);t.hasGossipProtocol=function(e){return e===r.GossipsubIDv10||e===r.GossipsubIDv11}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.messageIdToString=void 0;const r=n(45);t.messageIdToString=function(e){return r(e,"base64")}},function(e,t,n){var r,i,o;i=[n(80)],void 0===(o="function"==typeof(r=function(e){"use strict";var t=e.Reader,n=e.Writer,r=e.util,i=e.roots.default||(e.roots.default={});return i.RPC=function(){function o(e){if(this.subscriptions=[],this.msgs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var a;return o.prototype.subscriptions=r.emptyArray,o.prototype.msgs=r.emptyArray,o.prototype.control=null,Object.defineProperty(o.prototype,"_control",{get:r.oneOfGetter(a=["control"]),set:r.oneOfSetter(a)}),o.encode=function(e,t){if(t||(t=n.create()),null!=e.subscriptions&&e.subscriptions.length)for(var r=0;r<e.subscriptions.length;++r)i.RPC.SubOpts.encode(e.subscriptions[r],t.uint32(10).fork()).ldelim();if(null!=e.msgs&&e.msgs.length)for(r=0;r<e.msgs.length;++r)i.RPC.Message.encode(e.msgs[r],t.uint32(18).fork()).ldelim();return null!=e.control&&Object.hasOwnProperty.call(e,"control")&&i.RPC.ControlMessage.encode(e.control,t.uint32(26).fork()).ldelim(),t},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.RPC;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.subscriptions&&o.subscriptions.length||(o.subscriptions=[]),o.subscriptions.push(i.RPC.SubOpts.decode(e,e.uint32()));break;case 2:o.msgs&&o.msgs.length||(o.msgs=[]),o.msgs.push(i.RPC.Message.decode(e,e.uint32()));break;case 3:o.control=i.RPC.ControlMessage.decode(e,e.uint32());break;default:e.skipType(7&a)}}return o},o.fromObject=function(e){if(e instanceof i.RPC)return e;var t=new i.RPC;if(e.subscriptions){if(!Array.isArray(e.subscriptions))throw TypeError(".RPC.subscriptions: array expected");t.subscriptions=[];for(var n=0;n<e.subscriptions.length;++n){if("object"!=typeof e.subscriptions[n])throw TypeError(".RPC.subscriptions: object expected");t.subscriptions[n]=i.RPC.SubOpts.fromObject(e.subscriptions[n])}}if(e.msgs){if(!Array.isArray(e.msgs))throw TypeError(".RPC.msgs: array expected");for(t.msgs=[],n=0;n<e.msgs.length;++n){if("object"!=typeof e.msgs[n])throw TypeError(".RPC.msgs: object expected");t.msgs[n]=i.RPC.Message.fromObject(e.msgs[n])}}if(null!=e.control){if("object"!=typeof e.control)throw TypeError(".RPC.control: object expected");t.control=i.RPC.ControlMessage.fromObject(e.control)}return t},o.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.subscriptions=[],n.msgs=[]),e.subscriptions&&e.subscriptions.length){n.subscriptions=[];for(var r=0;r<e.subscriptions.length;++r)n.subscriptions[r]=i.RPC.SubOpts.toObject(e.subscriptions[r],t)}if(e.msgs&&e.msgs.length)for(n.msgs=[],r=0;r<e.msgs.length;++r)n.msgs[r]=i.RPC.Message.toObject(e.msgs[r],t);return null!=e.control&&e.hasOwnProperty("control")&&(n.control=i.RPC.ControlMessage.toObject(e.control,t),t.oneofs&&(n._control="control")),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o.SubOpts=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var a;return o.prototype.subscribe=null,o.prototype.topicID=null,Object.defineProperty(o.prototype,"_subscribe",{get:r.oneOfGetter(a=["subscribe"]),set:r.oneOfSetter(a)}),Object.defineProperty(o.prototype,"_topicID",{get:r.oneOfGetter(a=["topicID"]),set:r.oneOfSetter(a)}),o.encode=function(e,t){return t||(t=n.create()),null!=e.subscribe&&Object.hasOwnProperty.call(e,"subscribe")&&t.uint32(8).bool(e.subscribe),null!=e.topicID&&Object.hasOwnProperty.call(e,"topicID")&&t.uint32(18).string(e.topicID),t},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.RPC.SubOpts;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.subscribe=e.bool();break;case 2:o.topicID=e.string();break;default:e.skipType(7&a)}}return o},o.fromObject=function(e){if(e instanceof i.RPC.SubOpts)return e;var t=new i.RPC.SubOpts;return null!=e.subscribe&&(t.subscribe=Boolean(e.subscribe)),null!=e.topicID&&(t.topicID=String(e.topicID)),t},o.toObject=function(e,t){t||(t={});var n={};return null!=e.subscribe&&e.hasOwnProperty("subscribe")&&(n.subscribe=e.subscribe,t.oneofs&&(n._subscribe="subscribe")),null!=e.topicID&&e.hasOwnProperty("topicID")&&(n.topicID=e.topicID,t.oneofs&&(n._topicID="topicID")),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),o.Message=function(){function o(e){if(this.topicIDs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var a;return o.prototype.from=null,o.prototype.data=null,o.prototype.seqno=null,o.prototype.topicIDs=r.emptyArray,o.prototype.signature=null,o.prototype.key=null,Object.defineProperty(o.prototype,"_from",{get:r.oneOfGetter(a=["from"]),set:r.oneOfSetter(a)}),Object.defineProperty(o.prototype,"_data",{get:r.oneOfGetter(a=["data"]),set:r.oneOfSetter(a)}),Object.defineProperty(o.prototype,"_seqno",{get:r.oneOfGetter(a=["seqno"]),set:r.oneOfSetter(a)}),Object.defineProperty(o.prototype,"_signature",{get:r.oneOfGetter(a=["signature"]),set:r.oneOfSetter(a)}),Object.defineProperty(o.prototype,"_key",{get:r.oneOfGetter(a=["key"]),set:r.oneOfSetter(a)}),o.encode=function(e,t){if(t||(t=n.create()),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(10).bytes(e.from),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),null!=e.seqno&&Object.hasOwnProperty.call(e,"seqno")&&t.uint32(26).bytes(e.seqno),null!=e.topicIDs&&e.topicIDs.length)for(var r=0;r<e.topicIDs.length;++r)t.uint32(34).string(e.topicIDs[r]);return null!=e.signature&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(42).bytes(e.signature),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(50).bytes(e.key),t},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.RPC.Message;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.from=e.bytes();break;case 2:o.data=e.bytes();break;case 3:o.seqno=e.bytes();break;case 4:o.topicIDs&&o.topicIDs.length||(o.topicIDs=[]),o.topicIDs.push(e.string());break;case 5:o.signature=e.bytes();break;case 6:o.key=e.bytes();break;default:e.skipType(7&a)}}return o},o.fromObject=function(e){if(e instanceof i.RPC.Message)return e;var t=new i.RPC.Message;if(null!=e.from&&("string"==typeof e.from?r.base64.decode(e.from,t.from=r.newBuffer(r.base64.length(e.from)),0):e.from.length&&(t.from=e.from)),null!=e.data&&("string"==typeof e.data?r.base64.decode(e.data,t.data=r.newBuffer(r.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),null!=e.seqno&&("string"==typeof e.seqno?r.base64.decode(e.seqno,t.seqno=r.newBuffer(r.base64.length(e.seqno)),0):e.seqno.length&&(t.seqno=e.seqno)),e.topicIDs){if(!Array.isArray(e.topicIDs))throw TypeError(".RPC.Message.topicIDs: array expected");t.topicIDs=[];for(var n=0;n<e.topicIDs.length;++n)t.topicIDs[n]=String(e.topicIDs[n])}return null!=e.signature&&("string"==typeof e.signature?r.base64.decode(e.signature,t.signature=r.newBuffer(r.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),null!=e.key&&("string"==typeof e.key?r.base64.decode(e.key,t.key=r.newBuffer(r.base64.length(e.key)),0):e.key.length&&(t.key=e.key)),t},o.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.topicIDs=[]),null!=e.from&&e.hasOwnProperty("from")&&(n.from=t.bytes===String?r.base64.encode(e.from,0,e.from.length):t.bytes===Array?Array.prototype.slice.call(e.from):e.from,t.oneofs&&(n._from="from")),null!=e.data&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?r.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data,t.oneofs&&(n._data="data")),null!=e.seqno&&e.hasOwnProperty("seqno")&&(n.seqno=t.bytes===String?r.base64.encode(e.seqno,0,e.seqno.length):t.bytes===Array?Array.prototype.slice.call(e.seqno):e.seqno,t.oneofs&&(n._seqno="seqno")),e.topicIDs&&e.topicIDs.length){n.topicIDs=[];for(var i=0;i<e.topicIDs.length;++i)n.topicIDs[i]=e.topicIDs[i]}return null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=t.bytes===String?r.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature,t.oneofs&&(n._signature="signature")),null!=e.key&&e.hasOwnProperty("key")&&(n.key=t.bytes===String?r.base64.encode(e.key,0,e.key.length):t.bytes===Array?Array.prototype.slice.call(e.key):e.key,t.oneofs&&(n._key="key")),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),o.ControlMessage=function(){function o(e){if(this.ihave=[],this.iwant=[],this.graft=[],this.prune=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.ihave=r.emptyArray,o.prototype.iwant=r.emptyArray,o.prototype.graft=r.emptyArray,o.prototype.prune=r.emptyArray,o.encode=function(e,t){if(t||(t=n.create()),null!=e.ihave&&e.ihave.length)for(var r=0;r<e.ihave.length;++r)i.RPC.ControlIHave.encode(e.ihave[r],t.uint32(10).fork()).ldelim();if(null!=e.iwant&&e.iwant.length)for(r=0;r<e.iwant.length;++r)i.RPC.ControlIWant.encode(e.iwant[r],t.uint32(18).fork()).ldelim();if(null!=e.graft&&e.graft.length)for(r=0;r<e.graft.length;++r)i.RPC.ControlGraft.encode(e.graft[r],t.uint32(26).fork()).ldelim();if(null!=e.prune&&e.prune.length)for(r=0;r<e.prune.length;++r)i.RPC.ControlPrune.encode(e.prune[r],t.uint32(34).fork()).ldelim();return t},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.RPC.ControlMessage;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.ihave&&o.ihave.length||(o.ihave=[]),o.ihave.push(i.RPC.ControlIHave.decode(e,e.uint32()));break;case 2:o.iwant&&o.iwant.length||(o.iwant=[]),o.iwant.push(i.RPC.ControlIWant.decode(e,e.uint32()));break;case 3:o.graft&&o.graft.length||(o.graft=[]),o.graft.push(i.RPC.ControlGraft.decode(e,e.uint32()));break;case 4:o.prune&&o.prune.length||(o.prune=[]),o.prune.push(i.RPC.ControlPrune.decode(e,e.uint32()));break;default:e.skipType(7&a)}}return o},o.fromObject=function(e){if(e instanceof i.RPC.ControlMessage)return e;var t=new i.RPC.ControlMessage;if(e.ihave){if(!Array.isArray(e.ihave))throw TypeError(".RPC.ControlMessage.ihave: array expected");t.ihave=[];for(var n=0;n<e.ihave.length;++n){if("object"!=typeof e.ihave[n])throw TypeError(".RPC.ControlMessage.ihave: object expected");t.ihave[n]=i.RPC.ControlIHave.fromObject(e.ihave[n])}}if(e.iwant){if(!Array.isArray(e.iwant))throw TypeError(".RPC.ControlMessage.iwant: array expected");for(t.iwant=[],n=0;n<e.iwant.length;++n){if("object"!=typeof e.iwant[n])throw TypeError(".RPC.ControlMessage.iwant: object expected");t.iwant[n]=i.RPC.ControlIWant.fromObject(e.iwant[n])}}if(e.graft){if(!Array.isArray(e.graft))throw TypeError(".RPC.ControlMessage.graft: array expected");for(t.graft=[],n=0;n<e.graft.length;++n){if("object"!=typeof e.graft[n])throw TypeError(".RPC.ControlMessage.graft: object expected");t.graft[n]=i.RPC.ControlGraft.fromObject(e.graft[n])}}if(e.prune){if(!Array.isArray(e.prune))throw TypeError(".RPC.ControlMessage.prune: array expected");for(t.prune=[],n=0;n<e.prune.length;++n){if("object"!=typeof e.prune[n])throw TypeError(".RPC.ControlMessage.prune: object expected");t.prune[n]=i.RPC.ControlPrune.fromObject(e.prune[n])}}return t},o.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.ihave=[],n.iwant=[],n.graft=[],n.prune=[]),e.ihave&&e.ihave.length){n.ihave=[];for(var r=0;r<e.ihave.length;++r)n.ihave[r]=i.RPC.ControlIHave.toObject(e.ihave[r],t)}if(e.iwant&&e.iwant.length)for(n.iwant=[],r=0;r<e.iwant.length;++r)n.iwant[r]=i.RPC.ControlIWant.toObject(e.iwant[r],t);if(e.graft&&e.graft.length)for(n.graft=[],r=0;r<e.graft.length;++r)n.graft[r]=i.RPC.ControlGraft.toObject(e.graft[r],t);if(e.prune&&e.prune.length)for(n.prune=[],r=0;r<e.prune.length;++r)n.prune[r]=i.RPC.ControlPrune.toObject(e.prune[r],t);return n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),o.ControlIHave=function(){function o(e){if(this.messageIDs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var a;return o.prototype.topicID=null,o.prototype.messageIDs=r.emptyArray,Object.defineProperty(o.prototype,"_topicID",{get:r.oneOfGetter(a=["topicID"]),set:r.oneOfSetter(a)}),o.encode=function(e,t){if(t||(t=n.create()),null!=e.topicID&&Object.hasOwnProperty.call(e,"topicID")&&t.uint32(10).string(e.topicID),null!=e.messageIDs&&e.messageIDs.length)for(var r=0;r<e.messageIDs.length;++r)t.uint32(18).bytes(e.messageIDs[r]);return t},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.RPC.ControlIHave;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.topicID=e.string();break;case 2:o.messageIDs&&o.messageIDs.length||(o.messageIDs=[]),o.messageIDs.push(e.bytes());break;default:e.skipType(7&a)}}return o},o.fromObject=function(e){if(e instanceof i.RPC.ControlIHave)return e;var t=new i.RPC.ControlIHave;if(null!=e.topicID&&(t.topicID=String(e.topicID)),e.messageIDs){if(!Array.isArray(e.messageIDs))throw TypeError(".RPC.ControlIHave.messageIDs: array expected");t.messageIDs=[];for(var n=0;n<e.messageIDs.length;++n)"string"==typeof e.messageIDs[n]?r.base64.decode(e.messageIDs[n],t.messageIDs[n]=r.newBuffer(r.base64.length(e.messageIDs[n])),0):e.messageIDs[n].length&&(t.messageIDs[n]=e.messageIDs[n])}return t},o.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messageIDs=[]),null!=e.topicID&&e.hasOwnProperty("topicID")&&(n.topicID=e.topicID,t.oneofs&&(n._topicID="topicID")),e.messageIDs&&e.messageIDs.length){n.messageIDs=[];for(var i=0;i<e.messageIDs.length;++i)n.messageIDs[i]=t.bytes===String?r.base64.encode(e.messageIDs[i],0,e.messageIDs[i].length):t.bytes===Array?Array.prototype.slice.call(e.messageIDs[i]):e.messageIDs[i]}return n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),o.ControlIWant=function(){function o(e){if(this.messageIDs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return o.prototype.messageIDs=r.emptyArray,o.encode=function(e,t){if(t||(t=n.create()),null!=e.messageIDs&&e.messageIDs.length)for(var r=0;r<e.messageIDs.length;++r)t.uint32(10).bytes(e.messageIDs[r]);return t},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.RPC.ControlIWant;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.messageIDs&&o.messageIDs.length||(o.messageIDs=[]),o.messageIDs.push(e.bytes());break;default:e.skipType(7&a)}}return o},o.fromObject=function(e){if(e instanceof i.RPC.ControlIWant)return e;var t=new i.RPC.ControlIWant;if(e.messageIDs){if(!Array.isArray(e.messageIDs))throw TypeError(".RPC.ControlIWant.messageIDs: array expected");t.messageIDs=[];for(var n=0;n<e.messageIDs.length;++n)"string"==typeof e.messageIDs[n]?r.base64.decode(e.messageIDs[n],t.messageIDs[n]=r.newBuffer(r.base64.length(e.messageIDs[n])),0):e.messageIDs[n].length&&(t.messageIDs[n]=e.messageIDs[n])}return t},o.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.messageIDs=[]),e.messageIDs&&e.messageIDs.length){n.messageIDs=[];for(var i=0;i<e.messageIDs.length;++i)n.messageIDs[i]=t.bytes===String?r.base64.encode(e.messageIDs[i],0,e.messageIDs[i].length):t.bytes===Array?Array.prototype.slice.call(e.messageIDs[i]):e.messageIDs[i]}return n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),o.ControlGraft=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var a;return o.prototype.topicID=null,Object.defineProperty(o.prototype,"_topicID",{get:r.oneOfGetter(a=["topicID"]),set:r.oneOfSetter(a)}),o.encode=function(e,t){return t||(t=n.create()),null!=e.topicID&&Object.hasOwnProperty.call(e,"topicID")&&t.uint32(10).string(e.topicID),t},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.RPC.ControlGraft;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.topicID=e.string();break;default:e.skipType(7&a)}}return o},o.fromObject=function(e){if(e instanceof i.RPC.ControlGraft)return e;var t=new i.RPC.ControlGraft;return null!=e.topicID&&(t.topicID=String(e.topicID)),t},o.toObject=function(e,t){t||(t={});var n={};return null!=e.topicID&&e.hasOwnProperty("topicID")&&(n.topicID=e.topicID,t.oneofs&&(n._topicID="topicID")),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),o.ControlPrune=function(){function o(e){if(this.peers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var a;return o.prototype.topicID=null,o.prototype.peers=r.emptyArray,o.prototype.backoff=null,Object.defineProperty(o.prototype,"_topicID",{get:r.oneOfGetter(a=["topicID"]),set:r.oneOfSetter(a)}),Object.defineProperty(o.prototype,"_backoff",{get:r.oneOfGetter(a=["backoff"]),set:r.oneOfSetter(a)}),o.encode=function(e,t){if(t||(t=n.create()),null!=e.topicID&&Object.hasOwnProperty.call(e,"topicID")&&t.uint32(10).string(e.topicID),null!=e.peers&&e.peers.length)for(var r=0;r<e.peers.length;++r)i.RPC.PeerInfo.encode(e.peers[r],t.uint32(18).fork()).ldelim();return null!=e.backoff&&Object.hasOwnProperty.call(e,"backoff")&&t.uint32(24).uint64(e.backoff),t},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.RPC.ControlPrune;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.topicID=e.string();break;case 2:o.peers&&o.peers.length||(o.peers=[]),o.peers.push(i.RPC.PeerInfo.decode(e,e.uint32()));break;case 3:o.backoff=e.uint64();break;default:e.skipType(7&a)}}return o},o.fromObject=function(e){if(e instanceof i.RPC.ControlPrune)return e;var t=new i.RPC.ControlPrune;if(null!=e.topicID&&(t.topicID=String(e.topicID)),e.peers){if(!Array.isArray(e.peers))throw TypeError(".RPC.ControlPrune.peers: array expected");t.peers=[];for(var n=0;n<e.peers.length;++n){if("object"!=typeof e.peers[n])throw TypeError(".RPC.ControlPrune.peers: object expected");t.peers[n]=i.RPC.PeerInfo.fromObject(e.peers[n])}}return null!=e.backoff&&(r.Long?(t.backoff=r.Long.fromValue(e.backoff)).unsigned=!0:"string"==typeof e.backoff?t.backoff=parseInt(e.backoff,10):"number"==typeof e.backoff?t.backoff=e.backoff:"object"==typeof e.backoff&&(t.backoff=new r.LongBits(e.backoff.low>>>0,e.backoff.high>>>0).toNumber(!0))),t},o.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.peers=[]),null!=e.topicID&&e.hasOwnProperty("topicID")&&(n.topicID=e.topicID,t.oneofs&&(n._topicID="topicID")),e.peers&&e.peers.length){n.peers=[];for(var o=0;o<e.peers.length;++o)n.peers[o]=i.RPC.PeerInfo.toObject(e.peers[o],t)}return null!=e.backoff&&e.hasOwnProperty("backoff")&&("number"==typeof e.backoff?n.backoff=t.longs===String?String(e.backoff):e.backoff:n.backoff=t.longs===String?r.Long.prototype.toString.call(e.backoff):t.longs===Number?new r.LongBits(e.backoff.low>>>0,e.backoff.high>>>0).toNumber(!0):e.backoff,t.oneofs&&(n._backoff="backoff")),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),o.PeerInfo=function(){function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var a;return o.prototype.peerID=null,o.prototype.signedPeerRecord=null,Object.defineProperty(o.prototype,"_peerID",{get:r.oneOfGetter(a=["peerID"]),set:r.oneOfSetter(a)}),Object.defineProperty(o.prototype,"_signedPeerRecord",{get:r.oneOfGetter(a=["signedPeerRecord"]),set:r.oneOfSetter(a)}),o.encode=function(e,t){return t||(t=n.create()),null!=e.peerID&&Object.hasOwnProperty.call(e,"peerID")&&t.uint32(10).bytes(e.peerID),null!=e.signedPeerRecord&&Object.hasOwnProperty.call(e,"signedPeerRecord")&&t.uint32(18).bytes(e.signedPeerRecord),t},o.decode=function(e,n){e instanceof t||(e=t.create(e));for(var r=void 0===n?e.len:e.pos+n,o=new i.RPC.PeerInfo;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:o.peerID=e.bytes();break;case 2:o.signedPeerRecord=e.bytes();break;default:e.skipType(7&a)}}return o},o.fromObject=function(e){if(e instanceof i.RPC.PeerInfo)return e;var t=new i.RPC.PeerInfo;return null!=e.peerID&&("string"==typeof e.peerID?r.base64.decode(e.peerID,t.peerID=r.newBuffer(r.base64.length(e.peerID)),0):e.peerID.length&&(t.peerID=e.peerID)),null!=e.signedPeerRecord&&("string"==typeof e.signedPeerRecord?r.base64.decode(e.signedPeerRecord,t.signedPeerRecord=r.newBuffer(r.base64.length(e.signedPeerRecord)),0):e.signedPeerRecord.length&&(t.signedPeerRecord=e.signedPeerRecord)),t},o.toObject=function(e,t){t||(t={});var n={};return null!=e.peerID&&e.hasOwnProperty("peerID")&&(n.peerID=t.bytes===String?r.base64.encode(e.peerID,0,e.peerID.length):t.bytes===Array?Array.prototype.slice.call(e.peerID):e.peerID,t.oneofs&&(n._peerID="peerID")),null!=e.signedPeerRecord&&e.hasOwnProperty("signedPeerRecord")&&(n.signedPeerRecord=t.bytes===String?r.base64.encode(e.signedPeerRecord,0,e.signedPeerRecord.length):t.bytes===Array?Array.prototype.slice.call(e.signedPeerRecord):e.signedPeerRecord,t.oneofs&&(n._signedPeerRecord="signedPeerRecord")),n},o.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},o}(),o}(),i})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Heartbeat=void 0;const a=o(n(205)),u=n(633),s=n(204);t.Heartbeat=class{constructor(e){this.gossipsub=e}start(){if(this._heartbeatTimer)return;const e=this._heartbeat.bind(this),t=setTimeout(()=>{e(),this._heartbeatTimer.runPeriodically(e,a.GossipsubHeartbeatInterval)},a.GossipsubHeartbeatInitialDelay);this._heartbeatTimer={_intervalId:void 0,runPeriodically:(e,t)=>{this._heartbeatTimer._intervalId=setInterval(e,t)},cancel:()=>{clearTimeout(t),clearInterval(this._heartbeatTimer._intervalId)}}}stop(){this._heartbeatTimer&&(this._heartbeatTimer.cancel(),this._heartbeatTimer=null)}_heartbeat(){const{D:e,Dlo:t,Dhi:n,Dscore:r,Dout:i}=this.gossipsub._options;this.gossipsub.heartbeatTicks++;const o=new Map,c=e=>{let t=o.get(e);return void 0===t&&(t=this.gossipsub.score.score(e),o.set(e,t)),t},f=new Map,l=new Map,d=new Map;this.gossipsub._clearBackoff(),this.gossipsub.peerhave.clear(),this.gossipsub.iasked.clear(),this.gossipsub._applyIwantPenalties(),this.gossipsub._directConnect(),this.gossipsub.mesh.forEach((o,h)=>{const p=e=>{this.gossipsub.log("HEARTBEAT: Remove mesh link to %s in %s",e,h),this.gossipsub.score.prune(e,h),this.gossipsub._addBackoff(e,h),o.delete(e);const t=l.get(e);t?t.push(h):l.set(e,[h])},m=e=>{this.gossipsub.log("HEARTBEAT: Add mesh link to %s in %s",e,h),this.gossipsub.score.graft(e,h),o.add(e);const t=f.get(e);t?t.push(h):f.set(e,[h])};if(o.forEach(e=>{const t=c(e);t<0&&(this.gossipsub.log("HEARTBEAT: Prune peer %s with negative score: score=%d, topic=%s",e,t,h),p(e),d.set(e,!0))}),o.size<t){const t=this.gossipsub.backoff.get(h),n=e-o.size;u.getGossipPeers(this.gossipsub,h,n,e=>!o.has(e)&&!this.gossipsub.direct.has(e)&&(!t||!t.has(e))&&c(e)>=0).forEach(m)}if(o.size>n){let t=Array.from(o);t.sort((e,t)=>c(t)-c(e)),t=t.slice(0,r).concat(s.shuffle(t.slice(r)));let n=0;if(t.slice(0,e).forEach(e=>{this.gossipsub.outbound.get(e)&&n++}),n<i){const r=e=>{const n=t[e];for(let n=e;n>0;n--)t[n]=t[n-1];t[0]=n};if(n>0){let i=n;for(let n=1;n<e&&i>0;n++)this.gossipsub.outbound.get(t[n])&&(r(n),i--)}let i=e-n;for(let n=e;n<t.length&&i>0;n++)this.gossipsub.outbound.get(t[n])&&(r(n),i--)}t.slice(e).forEach(p)}if(o.size>=t){let e=0;if(o.forEach(t=>{this.gossipsub.outbound.get(t)&&e++}),e<i){const t=i-e,n=this.gossipsub.backoff.get(h);u.getGossipPeers(this.gossipsub,h,t,e=>!o.has(e)&&!this.gossipsub.direct.has(e)&&(!n||!n.has(e))&&c(e)>=0).forEach(m)}}if(this.gossipsub.heartbeatTicks%a.GossipsubOpportunisticGraftTicks==0&&o.size>1){const e=Array.from(o).sort((e,t)=>c(e)-c(t)),t=o.size/2,n=c(e[t]);if(n<this.gossipsub._options.scoreThresholds.opportunisticGraftThreshold){const e=this.gossipsub.backoff.get(h);u.getGossipPeers(this.gossipsub,h,a.GossipsubOpportunisticGraftPeers,t=>o.has(t)&&!this.gossipsub.direct.has(t)&&(!e||!e.has(t))&&c(t)>n).forEach(e=>{this.gossipsub.log("HEARTBEAT: Opportunistically graft peer %s on topic %s",e,h),m(e)})}}this.gossipsub._emitGossip(h,o)});const h=this.gossipsub._now();this.gossipsub.lastpub.forEach((e,t)=>{e+a.GossipsubFanoutTTL<h&&(this.gossipsub.fanout.delete(t),this.gossipsub.lastpub.delete(t))}),this.gossipsub.fanout.forEach((t,n)=>{const r=this.gossipsub.topics.get(n);if(t.forEach(e=>{(!r.has(e)||c(e)<this.gossipsub._options.scoreThresholds.publishThreshold)&&t.delete(e)}),t.size<e){const r=e-t.size;u.getGossipPeers(this.gossipsub,n,r,e=>!t.has(e)&&!this.gossipsub.direct.has(e)&&c(e)>=this.gossipsub._options.scoreThresholds.publishThreshold).forEach(e=>{t.add(e)})}this.gossipsub._emitGossip(n,t)}),this.gossipsub._sendGraftPrune(f,l,d),this.gossipsub._flush(),this.gossipsub.messageCache.shift(),this.gossipsub.emit("gossipsub:heartbeat")}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(634),t),i(n(1413),t),i(n(1414),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validatePeerScoreThresholds=t.createPeerScoreThresholds=t.defaultPeerScoreThresholds=void 0;const r=n(635),i=n(4);t.defaultPeerScoreThresholds={gossipThreshold:-10,publishThreshold:-50,graylistThreshold:-80,acceptPXThreshold:10,opportunisticGraftThreshold:20},t.createPeerScoreThresholds=function(e={}){return Object.assign(Object.assign({},t.defaultPeerScoreThresholds),e)},t.validatePeerScoreThresholds=function(e){if(e.gossipThreshold>0)throw i(new Error("invalid gossip threshold; it must be <= 0"),r.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(e.publishThreshold>0||e.publishThreshold>e.gossipThreshold)throw i(new Error("invalid publish threshold; it must be <= 0 and <= gossip threshold"),r.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(e.graylistThreshold>0||e.graylistThreshold>e.publishThreshold)throw i(new Error("invalid graylist threshold; it must be <= 0 and <= publish threshold"),r.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(e.acceptPXThreshold<0)throw i(new Error("invalid accept PX threshold; it must be >= 0"),r.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(e.opportunisticGraftThreshold<0)throw i(new Error("invalid opportunistic grafting threshold; it must be >= 0"),r.ERR_INVALID_PEER_SCORE_THRESHOLDS)}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PeerScore=void 0;const i=n(634),o=n(1415),a=n(1416),u=n(1417),s=n(205),c=r(n(31)),f=n(6),l=n(397),{ERR_INVALID_SIGNATURE:d,ERR_MISSING_SIGNATURE:h}=l.codes,p=f("libp2p:gossipsub:score");t.PeerScore=class{constructor(e,t,n){i.validatePeerScoreParams(e),this.params=e,this._connectionManager=t,this.peerStats=new Map,this.peerIPs=new Map,this.deliveryRecords=new u.MessageDeliveries,this.msgId=n}start(){this._backgroundInterval?p("Peer score already running"):(this._backgroundInterval=setInterval(()=>this.background(),this.params.decayInterval),p("started"))}stop(){this._backgroundInterval?(clearInterval(this._backgroundInterval),delete this._backgroundInterval,this.peerIPs.clear(),this.peerStats.clear(),this.deliveryRecords.clear(),p("stopped")):p("Peer score already stopped")}background(){this._refreshScores(),this._updateIPs(),this.deliveryRecords.gc()}_refreshScores(){const e=Date.now(),t=this.params.decayToZero;this.peerStats.forEach((n,r)=>{n.connected?(Object.entries(n.topics).forEach(([n,r])=>{const i=this.params.topics[n];i&&(r.firstMessageDeliveries*=i.firstMessageDeliveriesDecay,r.firstMessageDeliveries<t&&(r.firstMessageDeliveries=0),r.meshMessageDeliveries*=i.meshMessageDeliveriesDecay,r.meshMessageDeliveries<t&&(r.meshMessageDeliveries=0),r.meshFailurePenalty*=i.meshFailurePenaltyDecay,r.meshFailurePenalty<t&&(r.meshFailurePenalty=0),r.invalidMessageDeliveries*=i.invalidMessageDeliveriesDecay,r.invalidMessageDeliveries<t&&(r.invalidMessageDeliveries=0),r.inMesh&&(r.meshTime=e-r.graftTime,r.meshTime>i.meshMessageDeliveriesActivation&&(r.meshMessageDeliveriesActive=!0)))}),n.behaviourPenalty*=this.params.behaviourPenaltyDecay,n.behaviourPenalty<t&&(n.behaviourPenalty=0)):e>n.expire&&(this._removeIPs(r,n.ips),this.peerStats.delete(r))})}score(e){const t=this.peerStats.get(e);return t?a.computeScore(e,t,this.params,this.peerIPs):0}addPenalty(e,t){const n=this.peerStats.get(e);n&&(n.behaviourPenalty+=t)}addPeer(e){const t=o.createPeerStats({connected:!0});this.peerStats.set(e,t);const n=this._getIPs(e);this._setIPs(e,n,t.ips),t.ips=n}removePeer(e){const t=this.peerStats.get(e);if(t){if(this.score(e)>0)return this._removeIPs(e,t.ips),void this.peerStats.delete(e);Object.entries(t.topics).forEach(([e,t])=>{t.firstMessageDeliveries=0;const n=this.params.topics[e].meshMessageDeliveriesThreshold;if(t.inMesh&&t.meshMessageDeliveriesActive&&t.meshMessageDeliveries<n){const e=n-t.meshMessageDeliveries;t.meshFailurePenalty+=e*e}t.inMesh=!1}),t.connected=!1,t.expire=Date.now()+this.params.retainScore}}graft(e,t){const n=this.peerStats.get(e);if(!n)return;const r=o.ensureTopicStats(t,n,this.params);r&&(r.inMesh=!0,r.graftTime=Date.now(),r.meshTime=0,r.meshMessageDeliveriesActive=!1)}prune(e,t){const n=this.peerStats.get(e);if(!n)return;const r=o.ensureTopicStats(t,n,this.params);if(!r)return;const i=this.params.topics[t].meshMessageDeliveriesThreshold;if(r.meshMessageDeliveriesActive&&r.meshMessageDeliveries<i){const e=i-r.meshMessageDeliveries;r.meshFailurePenalty+=e*e}r.inMesh=!1}validateMessage(e){this.deliveryRecords.ensureRecord(this.msgId(e))}deliverMessage(e){const t=e.receivedFrom;this._markFirstMessageDelivery(t,e);const n=this.deliveryRecords.ensureRecord(this.msgId(e)),r=Date.now();n.status===u.DeliveryRecordStatus.unknown?(n.status=u.DeliveryRecordStatus.valid,n.validated=r,n.peers.forEach(n=>{n!==t&&this._markDuplicateMessageDelivery(n,e)})):p("unexpected delivery: message from %s was first seen %s ago and has delivery status %d",t,r-n.firstSeen,u.DeliveryRecordStatus[n.status])}rejectMessage(e,t){const n=e.receivedFrom;switch(t){case h:case d:return void this._markInvalidMessageDelivery(n,e)}const r=this.deliveryRecords.ensureRecord(this.msgId(e));if(r.status===u.DeliveryRecordStatus.unknown){switch(t){case s.ERR_TOPIC_VALIDATOR_IGNORE:return void(r.status=u.DeliveryRecordStatus.ignored)}r.status=u.DeliveryRecordStatus.invalid,this._markInvalidMessageDelivery(n,e),r.peers.forEach(t=>{this._markInvalidMessageDelivery(t,e)})}else p("unexpected rejection: message from %s was first seen %s ago and has delivery status %d",n,Date.now()-r.firstSeen,u.DeliveryRecordStatus[r.status])}duplicateMessage(e){const t=e.receivedFrom,n=this.deliveryRecords.ensureRecord(this.msgId(e));if(!n.peers.has(t))switch(n.status){case u.DeliveryRecordStatus.unknown:n.peers.add(t);break;case u.DeliveryRecordStatus.valid:n.peers.add(t),this._markDuplicateMessageDelivery(t,e,n.validated);break;case u.DeliveryRecordStatus.invalid:this._markInvalidMessageDelivery(t,e)}}_markInvalidMessageDelivery(e,t){const n=this.peerStats.get(e);n&&t.topicIDs.forEach(e=>{const t=o.ensureTopicStats(e,n,this.params);t&&(t.invalidMessageDeliveries+=1)})}_markFirstMessageDelivery(e,t){const n=this.peerStats.get(e);n&&t.topicIDs.forEach(e=>{const t=o.ensureTopicStats(e,n,this.params);if(!t)return;let r=this.params.topics[e].firstMessageDeliveriesCap;t.firstMessageDeliveries+=1,t.firstMessageDeliveries>r&&(t.firstMessageDeliveries=r),t.inMesh&&(r=this.params.topics[e].meshMessageDeliveriesCap,t.meshMessageDeliveries+=1,t.meshMessageDeliveries>r&&(t.meshMessageDeliveries=r))})}_markDuplicateMessageDelivery(e,t,n=0){const r=this.peerStats.get(e);if(!r)return;const i=n?Date.now():0;t.topicIDs.forEach(e=>{const t=o.ensureTopicStats(e,r,this.params);if(!t)return;if(!t.inMesh)return;const a=this.params.topics[e];if(n&&i>n+a.meshMessageDeliveriesWindow)return;const u=a.meshMessageDeliveriesCap;t.meshMessageDeliveries+=1,t.meshMessageDeliveries>u&&(t.meshMessageDeliveries=u)})}_getIPs(e){return this._connectionManager.getAll(c.default.createFromB58String(e)).map(e=>e.remoteAddr.toOptions().host)}_setIPs(e,t,n){e:for(const r of t){for(const e of n)if(r===e)continue e;let t=this.peerIPs.get(r);t||(t=new Set,this.peerIPs.set(r,t)),t.add(e)}e:for(const r of n){for(const e of t)if(r===e)continue e;const n=this.peerIPs.get(r);n&&(n.delete(e),n.size||this.peerIPs.delete(r))}}_removeIPs(e,t){t.forEach(t=>{const n=this.peerIPs.get(t);n&&(n.delete(e),n.size||this.peerIPs.delete(t))})}_updateIPs(){this.peerStats.forEach((e,t)=>{const n=this._getIPs(t);this._setIPs(t,n,e.ips),e.ips=n})}}},function(e,t,n){"use strict";function r(e={}){return Object.assign({inMesh:!1,graftTime:0,meshTime:0,firstMessageDeliveries:0,meshMessageDeliveries:0,meshMessageDeliveriesActive:!1,meshFailurePenalty:0,invalidMessageDeliveries:0},e)}Object.defineProperty(t,"__esModule",{value:!0}),t.ensureTopicStats=t.createTopicStats=t.createPeerStats=void 0,t.createPeerStats=function(e={}){return Object.assign(Object.assign({connected:!1,expire:0,ips:[],behaviourPenalty:0},e),{topics:e.topics?Object.entries(e.topics).reduce((e,[t,n])=>(e[t]=r(n),e),{}):{}})},t.createTopicStats=r,t.ensureTopicStats=function(e,t,n){let i=t.topics[e];return i||(n.topics[e]?(t.topics[e]=i=r(),i):void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeScore=void 0,t.computeScore=function(e,t,n,r){let i=0;Object.entries(t.topics).forEach(([e,t])=>{const r=n.topics[e];if(!r)return;let o=0;if(t.inMesh){let e=t.meshTime/r.timeInMeshQuantum;e>r.timeInMeshCap&&(e=r.timeInMeshCap),o+=e*r.timeInMeshWeight}if(o+=t.firstMessageDeliveries*r.firstMessageDeliveriesWeight,t.meshMessageDeliveriesActive&&t.meshMessageDeliveries<r.meshMessageDeliveriesThreshold){const e=r.meshMessageDeliveriesThreshold-t.meshMessageDeliveries;o+=e*e*r.meshMessageDeliveriesWeight}o+=t.meshFailurePenalty*r.meshFailurePenaltyWeight;o+=t.invalidMessageDeliveries*t.invalidMessageDeliveries*r.invalidMessageDeliveriesWeight,i+=o*r.topicWeight}),n.topicScoreCap>0&&i>n.topicScoreCap&&(i=n.topicScoreCap);const o=n.appSpecificScore(e);i+=o*n.appSpecificWeight,t.ips.forEach(e=>{if(n.IPColocationFactorWhitelist.has(e))return;const t=r.get(e),o=t?t.size:0;if(o>n.IPColocationFactorThreshold){const e=o-n.IPColocationFactorThreshold;i+=e*e*n.IPColocationFactorWeight}});const a=t.behaviourPenalty*t.behaviourPenalty;return i+=a*n.behaviourPenaltyWeight,i}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageDeliveries=t.DeliveryRecordStatus=void 0;const i=n(205),o=r(n(1418)),a=n(204);var u;!function(e){e[e.unknown=0]="unknown",e[e.valid=1]="valid",e[e.invalid=2]="invalid",e[e.ignored=3]="ignored"}(u=t.DeliveryRecordStatus||(t.DeliveryRecordStatus={}));t.MessageDeliveries=class{constructor(){this.records=new Map,this.queue=new o.default}ensureRecord(e){const t=a.messageIdToString(e);let n=this.records.get(t);if(n)return n;n={status:u.unknown,firstSeen:Date.now(),validated:0,peers:new Set},this.records.set(t,n);const r={msgId:t,expire:Date.now()+i.TimeCacheDuration};return this.queue.push(r),n}gc(){const e=Date.now();let t=this.queue.peekFront();for(;t&&t.expire<e;)this.records.delete(t.msgId),this.queue.shift(),t=this.queue.peekFront()}clear(){this.records.clear(),this.queue.clear()}}},function(e,t,n){"use strict";function r(e,t){t=t||{};this._head=0,this._tail=0,this._capacity=t.capacity,this._capacityMask=3,this._list=new Array(4),Array.isArray(e)&&this._fromArray(e)}r.prototype.peekAt=function(e){var t=e;if(t===(0|t)){var n=this.size();if(!(t>=n||t<-n))return t<0&&(t+=n),t=this._head+t&this._capacityMask,this._list[t]}},r.prototype.get=function(e){return this.peekAt(e)},r.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]},r.prototype.peekFront=function(){return this.peek()},r.prototype.peekBack=function(){return this.peekAt(-1)},Object.defineProperty(r.prototype,"length",{get:function(){return this.size()}}),r.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},r.prototype.unshift=function(e){if(void 0===e)return this.size();var t=this._list.length;return this._head=this._head-1+t&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},r.prototype.shift=function(){var e=this._head;if(e!==this._tail){var t=this._list[e];return this._list[e]=void 0,this._head=e+1&this._capacityMask,e<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),t}},r.prototype.push=function(e){if(void 0===e)return this.size();var t=this._tail;return this._list[t]=e,this._tail=t+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},r.prototype.pop=function(){var e=this._tail;if(e!==this._head){var t=this._list.length;this._tail=e-1+t&this._capacityMask;var n=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&e>1e4&&e<=t>>>2&&this._shrinkArray(),n}},r.prototype.removeOne=function(e){var t=e;if(t===(0|t)&&this._head!==this._tail){var n=this.size(),r=this._list.length;if(!(t>=n||t<-n)){t<0&&(t+=n),t=this._head+t&this._capacityMask;var i,o=this._list[t];if(e<n/2){for(i=e;i>0;i--)this._list[t]=this._list[t=t-1+r&this._capacityMask];this._list[t]=void 0,this._head=this._head+1+r&this._capacityMask}else{for(i=n-1-e;i>0;i--)this._list[t]=this._list[t=t+1+r&this._capacityMask];this._list[t]=void 0,this._tail=this._tail-1+r&this._capacityMask}return o}}},r.prototype.remove=function(e,t){var n,r=e,i=t;if(r===(0|r)&&this._head!==this._tail){var o=this.size(),a=this._list.length;if(!(r>=o||r<-o||t<1)){if(r<0&&(r+=o),1===t||!t)return(n=new Array(1))[0]=this.removeOne(r),n;if(0===r&&r+t>=o)return n=this.toArray(),this.clear(),n;var u;for(r+t>o&&(t=o-r),n=new Array(t),u=0;u<t;u++)n[u]=this._list[this._head+r+u&this._capacityMask];if(r=this._head+r&this._capacityMask,e+t===o){for(this._tail=this._tail-t+a&this._capacityMask,u=t;u>0;u--)this._list[r=r+1+a&this._capacityMask]=void 0;return n}if(0===e){for(this._head=this._head+t+a&this._capacityMask,u=t-1;u>0;u--)this._list[r=r+1+a&this._capacityMask]=void 0;return n}if(r<o/2){for(this._head=this._head+e+t+a&this._capacityMask,u=e;u>0;u--)this.unshift(this._list[r=r-1+a&this._capacityMask]);for(r=this._head-1+a&this._capacityMask;i>0;)this._list[r=r-1+a&this._capacityMask]=void 0,i--;e<0&&(this._tail=r)}else{for(this._tail=r,r=r+t+a&this._capacityMask,u=o-(t+e);u>0;u--)this.push(this._list[r++]);for(r=this._tail;i>0;)this._list[r=r+1+a&this._capacityMask]=void 0,i--}return this._head<2&&this._tail>1e4&&this._tail<=a>>>2&&this._shrinkArray(),n}}},r.prototype.splice=function(e,t){var n=e;if(n===(0|n)){var r=this.size();if(n<0&&(n+=r),!(n>r)){if(arguments.length>2){var i,o,a,u=arguments.length,s=this._list.length,c=2;if(!r||n<r/2){for(o=new Array(n),i=0;i<n;i++)o[i]=this._list[this._head+i&this._capacityMask];for(0===t?(a=[],n>0&&(this._head=this._head+n+s&this._capacityMask)):(a=this.remove(n,t),this._head=this._head+n+s&this._capacityMask);u>c;)this.unshift(arguments[--u]);for(i=n;i>0;i--)this.unshift(o[i-1])}else{var f=(o=new Array(r-(n+t))).length;for(i=0;i<f;i++)o[i]=this._list[this._head+n+t+i&this._capacityMask];for(0===t?(a=[],n!=r&&(this._tail=this._head+n+s&this._capacityMask)):(a=this.remove(n,t),this._tail=this._tail-f+s&this._capacityMask);c<u;)this.push(arguments[c++]);for(i=0;i<f;i++)this.push(o[i])}return a}return this.remove(n,t)}}},r.prototype.clear=function(){this._head=0,this._tail=0},r.prototype.isEmpty=function(){return this._head===this._tail},r.prototype.toArray=function(){return this._copyArray(!1)},r.prototype._fromArray=function(e){for(var t=0;t<e.length;t++)this.push(e[t])},r.prototype._copyArray=function(e){var t,n=[],r=this._list,i=r.length;if(e||this._head>this._tail){for(t=this._head;t<i;t++)n.push(r[t]);for(t=0;t<this._tail;t++)n.push(r[t])}else for(t=this._head;t<this._tail;t++)n.push(r[t]);return n},r.prototype._growArray=function(){this._head&&(this._list=this._copyArray(!0),this._head=0),this._tail=this._list.length,this._list.length*=2,this._capacityMask=this._capacityMask<<1|1},r.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1},e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWantTracer=void 0;const r=n(205),i=n(204),o=n(397),{ERR_INVALID_SIGNATURE:a,ERR_MISSING_SIGNATURE:u}=o.codes;t.IWantTracer=class{constructor(e){this.getMsgId=e,this.promises=new Map}addPromise(e,t){const n=t[Math.floor(Math.random()*t.length)],o=i.messageIdToString(n);let a=this.promises.get(o);a||(a=new Map,this.promises.set(o,a)),a.has(e)||a.set(e,Date.now()+r.GossipsubIWantFollowupTime)}getBrokenPromises(){const e=Date.now(),t=new Map;return this.promises.forEach((n,r)=>{n.forEach((r,i)=>{r<e&&(t.set(i,(t.get(i)||0)+1),n.delete(i))}),n.size||this.promises.delete(r)}),t}deliverMessage(e){const t=this.getMsgId(e),n=i.messageIdToString(t);this.promises.delete(n)}rejectMessage(e,t){switch(t){case a:case u:return}const n=this.getMsgId(e),r=i.messageIdToString(n);this.promises.delete(r)}clear(){this.promises.clear()}}},function(e,t,n){"use strict";const r=n(1421);e.exports=function e(t){if(!(this instanceof e))return new e(t);const n=(t=t||{}).validity||30,i=new Map,o=r(()=>{i.forEach((e,t)=>{const r=e.validity||n;(function(e){const t=(new Date).getTime()-e.getTime();return Math.floor(t/1e3)})(e.timestamp)>r&&i.delete(t)})},200);this.put=(e,t,n)=>{this.has(e)||i.set(e,{value:t,timestamp:new Date,validity:n}),o()},this.get=e=>{if(i.has(e))return i.get(e).value;throw new Error("key does not exist")},this.has=e=>i.has(e)}},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,c=u||s||Function("return this")(),f=Object.prototype.toString,l=Math.max,d=Math.min,h=function(){return c.Date.now()};function p(e,t,n){var r,i,o,a,u,s,c=0,f=!1,p=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function b(e){return c=e,u=setTimeout(E,t),f?g(e):a}function w(e){var n=e-s;return void 0===s||n>=t||n<0||p&&e-c>=o}function E(){var e=h();if(w(e))return _(e);u=setTimeout(E,function(e){var n=t-(e-s);return p?d(n,o-(e-c)):n}(e))}function _(e){return u=void 0,v&&r?g(e):(r=i=void 0,a)}function S(){var e=h(),n=w(e);if(r=arguments,i=this,s=e,n){if(void 0===u)return b(s);if(p)return u=setTimeout(E,t),g(s)}return void 0===u&&(u=setTimeout(E,t)),a}return t=y(t)||0,m(n)&&(f=!!n.leading,o=(p="maxWait"in n)?l(y(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==u&&clearTimeout(u),c=0,r=s=i=u=void 0},S.flush=function(){return void 0===u?a:_(h())},S}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var u=i.test(e);return u||o.test(e)?a(e.slice(2),u?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return m(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),p(e,t,{leading:r,maxWait:t,trailing:i})}}).call(this,n(48))},function(e,t,n){"use strict";var r=n(80),i=r.Reader,o=r.Writer,a=r.util,u=r.roots["libp2p-envelope"]||(r.roots["libp2p-envelope"]={});u.Envelope=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.publicKey=a.newBuffer([]),e.prototype.payloadType=a.newBuffer([]),e.prototype.payload=a.newBuffer([]),e.prototype.signature=a.newBuffer([]),e.encode=function(e,t){return t||(t=o.create()),null!=e.publicKey&&Object.hasOwnProperty.call(e,"publicKey")&&t.uint32(10).bytes(e.publicKey),null!=e.payloadType&&Object.hasOwnProperty.call(e,"payloadType")&&t.uint32(18).bytes(e.payloadType),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(26).bytes(e.payload),null!=e.signature&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(42).bytes(e.signature),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Envelope;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.publicKey=e.bytes();break;case 2:r.payloadType=e.bytes();break;case 3:r.payload=e.bytes();break;case 5:r.signature=e.bytes();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.Envelope)return e;var t=new u.Envelope;return null!=e.publicKey&&("string"==typeof e.publicKey?a.base64.decode(e.publicKey,t.publicKey=a.newBuffer(a.base64.length(e.publicKey)),0):e.publicKey.length&&(t.publicKey=e.publicKey)),null!=e.payloadType&&("string"==typeof e.payloadType?a.base64.decode(e.payloadType,t.payloadType=a.newBuffer(a.base64.length(e.payloadType)),0):e.payloadType.length&&(t.payloadType=e.payloadType)),null!=e.payload&&("string"==typeof e.payload?a.base64.decode(e.payload,t.payload=a.newBuffer(a.base64.length(e.payload)),0):e.payload.length&&(t.payload=e.payload)),null!=e.signature&&("string"==typeof e.signature?a.base64.decode(e.signature,t.signature=a.newBuffer(a.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.publicKey="":(n.publicKey=[],t.bytes!==Array&&(n.publicKey=a.newBuffer(n.publicKey))),t.bytes===String?n.payloadType="":(n.payloadType=[],t.bytes!==Array&&(n.payloadType=a.newBuffer(n.payloadType))),t.bytes===String?n.payload="":(n.payload=[],t.bytes!==Array&&(n.payload=a.newBuffer(n.payload))),t.bytes===String?n.signature="":(n.signature=[],t.bytes!==Array&&(n.signature=a.newBuffer(n.signature)))),null!=e.publicKey&&e.hasOwnProperty("publicKey")&&(n.publicKey=t.bytes===String?a.base64.encode(e.publicKey,0,e.publicKey.length):t.bytes===Array?Array.prototype.slice.call(e.publicKey):e.publicKey),null!=e.payloadType&&e.hasOwnProperty("payloadType")&&(n.payloadType=t.bytes===String?a.base64.encode(e.payloadType,0,e.payloadType.length):t.bytes===Array?Array.prototype.slice.call(e.payloadType):e.payloadType),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=t.bytes===String?a.base64.encode(e.payload,0,e.payload.length):t.bytes===Array?Array.prototype.slice.call(e.payload):e.payload),null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=t.bytes===String?a.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e.exports=u},function(e,t,n){"use strict";const r=n(31),{base58btc:i}=n(64),{default:o}=n(155),a=n(175),u=n(6),s=u("libp2p-delegated-peer-routing");s.error=u("libp2p-delegated-peer-routing:error");e.exports=class{constructor(e){if(null==e)throw new Error("missing ipfs http client");this._client=e,this._httpQueue=new o({concurrency:4});const{protocol:t,host:n,port:r}=e.getEndpointConfig();s(`enabled DelegatedPeerRouting via ${t}://${n}:${r}`)}async findPeer(e,t={}){let n=e;r.isPeerId(n)&&(n=e.toB58String()),s("findPeer starts: "+e),t.timeout=t.timeout||3e4;try{return await this._httpQueue.add(async()=>{const{addrs:r}=await this._client.dht.findPeer(n,{timeout:t.timeout});return{id:e,multiaddrs:r}})}catch(e){if(e.message.includes("not found"))return;throw e}finally{s("findPeer finished: "+e)}}async*getClosestPeers(e,t={}){const n=i.encode(e).substring(1);s("getClosestPeers starts:",n),t.timeout=t.timeout||3e4;const o=a(),u=a();this._httpQueue.add(()=>(o.resolve(),u.promise));try{await o.promise;const e=new Map;for await(const i of this._client.dht.query(n,{timeout:t.timeout}))switch(i.type){case 1:i.responses.forEach(t=>{e.set(t.id,{id:r.parse(t.id),multiaddrs:t.addrs})});break;case 2:yield e.get(i.id.string)||{id:r.createFromCID(i.id),multiaddrs:[]};break;default:s("getClosestPeers unhandled response",i)}}catch(e){throw s.error("getClosestPeers errored:",e),e}finally{u.resolve(),s("getClosestPeers finished:",n)}}}},function(e,t,n){"use strict";const r=n(6),i=n(31),o=n(135),{default:a}=n(155),u=n(175),s=r("libp2p-delegated-content-routing");s.error=r("libp2p-delegated-content-routing:error");e.exports=class{constructor(e,t){if(null==e)throw new Error("missing self peerId");if(null==t)throw new Error("missing ipfs http client");this._client=t,this.peerId=e;const n={concurrency:4};this._httpQueue=new a(n),this._httpQueueRefs=new a(Object.assign({},n,{concurrency:2}));const{protocol:r,host:i,port:o}=t.getEndpointConfig();s(`enabled DelegatedContentRouting via ${r}://${i}:${o}`)}async*findProviders(e,t={}){s("findProviders starts: "+e),t.timeout=t.timeout||3e4;let n=0;const r=u(),o=u();this._httpQueue.add(()=>(r.resolve(),o.promise));try{await r.promise;for await(const{id:r,addrs:o}of this._client.dht.findProvs(e,{numProviders:t.numProviders,timeout:t.timeout}))yield{id:i.parse(r),multiaddrs:o},n++}catch(e){throw s.error("findProviders errored:",e),e}finally{o.resolve(),s(`findProviders finished: ${e} found ${n} providers`)}}async provide(e){s("provide starts: "+e),await this._httpQueueRefs.add(async()=>{await this._client.block.stat(e),await o(this._client.dht.provide(e))}),s("provide finished: "+e)}}},function(e,t){},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(640),a=n(97),u=n(7);e.exports=function(e){var t=o(e);return u((function(){function e(){return(e=i(regeneratorRuntime.mark((function e(n){var r,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,a(t(n,r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(t){return e.apply(this,arguments)}}))(e)}},function(e,t,n){"use strict";const{Multiaddr:r}=n(30),i=n(294);e.exports=e=>{try{e=i(new r(e))}catch(e){}return e=e.toString()}},function(e,t){},function(e,t){},function(e,t,n){"use strict";const r=n(1431),i=n(611);e.exports=e=>i(e,r)},function(e,t,n){"use strict";const r=n(4),i=n(293),o=n(292),a=n(231),{isBytes:u,isBlob:s,isReadableStream:c}=n(383);async function f(e){const t=[];for await(const n of e)t.push(n);return new Blob(t)}e.exports=async function(e){if(u(e))return new Blob([e]);if("string"==typeof e||e instanceof String)return new Blob([e.toString()]);if(s(e))return e;if(c(e)&&(e=o(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const t=i(e),{value:n,done:r}=await t.peek();if(r)return f(t);if(t.push(n),Number.isInteger(n))return new Blob([Uint8Array.from(await a(t))]);if(u(n)||"string"==typeof n||n instanceof String)return f(t)}throw r(new Error("Unexpected input: "+e),"ERR_UNEXPECTED_INPUT")}},function(e,t,n){"use strict";e.exports=function(e){return{wantlist:n(1433)(e),wantlistForPeer:n(1434)(e),stat:n(642)(e),unwant:n(1435)(e)}}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(12).CID,a=n(7),u=n(8);e.exports=a((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("bitswap/wantlist",{timeout:n.timeout,signal:n.signal,searchParams:u(n),headers:n.headers});case 3:return t.next=5,t.sent.json();case 5:return r=t.sent,t.abrupt("return",(r.Keys||[]).map((function(e){return o.parse(e["/"])})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(12).CID,c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,e.post("bitswap/wantlist",{timeout:r.timeout,signal:r.signal,searchParams:f(i(i({},r),{},{peer:n.toString()})),headers:r.headers});case 3:return t.next=5,t.sent.json();case 5:return o=t.sent,t.abrupt("return",(o.Keys||[]).map((function(e){return s.parse(e["/"])})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8);e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,e.post("bitswap/unwant",{timeout:r.timeout,signal:r.signal,searchParams:c(i({arg:n.toString()},r)),headers:r.headers});case 3:return o=t.sent,t.abrupt("return",o.json());case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";e.exports=function(e){return{get:n(643)(e),stat:n(1437)(e),put:n(1438)(e),rm:n(1439)(e)}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(12).CID,c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},t.next=3,e.post("block/stat",{timeout:r.timeout,signal:r.signal,searchParams:f(i({arg:n.toString()},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,t.abrupt("return",{cid:s.parse(a.Key),size:a.Size});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(12).CID,c=n(120),f=n(7),l=n(8),d=n(121),h=n(83).AbortController;e.exports=f((function(e){function t(e){return n.apply(this,arguments)}function n(){return(n=u(regeneratorRuntime.mark((function n(r){var o,a,u,f,p,m=arguments;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=m.length>1&&void 0!==m[1]?m[1]:{},a=new h,u=d(a.signal,o.signal),n.prev=3,n.t0=e,n.t1=i,n.t2={timeout:o.timeout,signal:u,searchParams:l(o)},n.next=9,c(r,a,o.headers);case 9:return n.t3=n.sent,n.t4=(0,n.t1)(n.t2,n.t3),n.next=13,n.t0.post.call(n.t0,"block/put",n.t4);case 13:return p=n.sent,n.next=16,p.json();case 16:f=n.sent,n.next=28;break;case 19:if(n.prev=19,n.t5=n.catch(3),"dag-pb"!==o.format){n.next=25;break}return n.abrupt("return",t(r,i(i({},o),{},{format:"protobuf"})));case 25:if("dag-cbor"!==o.format){n.next=27;break}return n.abrupt("return",t(r,i(i({},o),{},{format:"cbor"})));case 27:throw n.t5;case 28:return n.abrupt("return",s.parse(f.Key));case 29:case"end":return n.stop()}}),n,null,[[3,19]])})))).apply(this,arguments)}return t}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return new c(e)}function u(e){return function(){return new s(e.apply(this,arguments))}}function s(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof c;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function c(e){this.wrapped=e}function f(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}s.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},s.prototype.next=function(e){return this._invoke("next",e)},s.prototype.throw=function(e){return this._invoke("throw",e)},s.prototype.return=function(e){return this._invoke("return",e)};var l=n(12).CID,d=n(7),h=n(8);function p(e){var t={cid:l.parse(e.Hash)};return e.Error&&(t.error=new Error(e.Error)),t}e.exports=d((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,u,s,c,l,d,m,y,v=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=v.length>1&&void 0!==v[1]?v[1]:{},Array.isArray(n)||(n=[n]),t.next=4,a(e.post("block/rm",{timeout:r.timeout,signal:r.signal,searchParams:h(i({arg:n.map((function(e){return e.toString()})),"stream-channels":!0},r)),headers:r.headers}));case 4:o=t.sent,u=!0,s=!1,t.prev=7,l=f(o.ndjson());case 9:return t.next=11,a(l.next());case 11:return d=t.sent,u=d.done,t.next=15,a(d.value);case 15:if(m=t.sent,u){t.next=23;break}return y=m,t.next=20,p(y);case 20:u=!0,t.next=9;break;case 23:t.next=29;break;case 25:t.prev=25,t.t0=t.catch(7),s=!0,c=t.t0;case 29:if(t.prev=29,t.prev=30,u||null==l.return){t.next=34;break}return t.next=34,a(l.return());case 34:if(t.prev=34,!s){t.next=37;break}throw c;case 37:return t.finish(34);case 38:return t.finish(29);case 39:case"end":return t.stop()}}),t,null,[[7,25,29,39],[30,,34,38]])})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";e.exports=function(e){return{add:n(1441)(e),clear:n(1442)(e),rm:n(1443)(e),reset:n(1444)(e),list:n(1445)(e)}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8),f=n(30).Multiaddr;e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,e.post("bootstrap/add",{timeout:r.timeout,signal:r.signal,searchParams:c(i({arg:n},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,u=a.Peers,t.abrupt("return",{Peers:u.map((function(e){return new f(e)}))});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8),f=n(30).Multiaddr;e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(){var n,r,o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:{},t.next=3,e.post("bootstrap/rm",{timeout:n.timeout,signal:n.signal,searchParams:c(i(i({},n),{},{all:!0})),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return o=t.sent,a=o.Peers,t.abrupt("return",{Peers:a.map((function(e){return new f(e)}))});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8),f=n(30).Multiaddr;e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,e.post("bootstrap/rm",{timeout:r.timeout,signal:r.signal,searchParams:c(i({arg:n},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,u=a.Peers,t.abrupt("return",{Peers:u.map((function(e){return new f(e)}))});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8),f=n(30).Multiaddr;e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(){var n,r,o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:{},t.next=3,e.post("bootstrap/add",{timeout:n.timeout,signal:n.signal,searchParams:c(i(i({},n),{},{default:!0})),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return o=t.sent,a=o.Peers,t.abrupt("return",{Peers:a.map((function(e){return new f(e)}))});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(7),a=n(8),u=n(30).Multiaddr;e.exports=o((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i,o,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},t.next=3,e.post("bootstrap/list",{timeout:n.timeout,signal:n.signal,searchParams:a(n),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,o=i.Peers,t.abrupt("return",{Peers:o.map((function(e){return new u(e)}))});case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(){return new u(e.apply(this,arguments))}}function u(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof c;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function s(e){return new c(e)}function c(e){this.wrapped=e}function f(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function l(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}u.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},u.prototype.next=function(e){return this._invoke("next",e)},u.prototype.throw=function(e){return this._invoke("throw",e)},u.prototype.return=function(e){return this._invoke("return",e)};var d=n(7),h=n(8);e.exports=d((function(e){function t(){return(t=a(regeneratorRuntime.mark((function t(n){var r,o,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,s(e.post("cat",{timeout:r.timeout,signal:r.signal,searchParams:h(i({arg:n.toString()},r)),headers:r.headers}));case 3:return o=t.sent,t.delegateYield(l(f(o.iterator()),s),"t0",5);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}var i=n(7),o=n(8);e.exports=i((function(e){return function(){var t,n=(t=regeneratorRuntime.mark((function t(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("commands",{timeout:n.timeout,signal:n.signal,searchParams:o(n),headers:n.headers});case 3:return r=t.sent,t.abrupt("return",r.json());case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))});return function(){return n.apply(this,arguments)}}()}))},function(e,t,n){"use strict";e.exports=function(e){return{getAll:n(1449)(e),get:n(1450)(e),set:n(1451)(e),replace:n(1452)(e),profiles:n(1453)(e)}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}var u=n(7),s=n(8);e.exports=u((function(e){return function(){var t,n=(t=regeneratorRuntime.mark((function t(){var n,r,o,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},t.next=3,e.post("config/show",{timeout:n.timeout,signal:n.signal,searchParams:s(i({},n)),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return o=t.sent,t.abrupt("return",o);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))});return function(){return n.apply(this,arguments)}}()}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}var u=n(7),s=n(8);e.exports=u((function(e){return function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var r,o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:{},n){t.next=3;break}throw new Error("key argument is required");case 3:return t.next=5,e.post("config",{timeout:r.timeout,signal:r.signal,searchParams:s(i({arg:n},r)),headers:r.headers});case 5:return o=t.sent,t.next=8,o.json();case 8:return a=t.sent,t.abrupt("return",a.Value);case 10:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))});return function(e){return n.apply(this,arguments)}}()}))},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}var s=n(7),c=n(8);e.exports=s((function(e){return function(){var t,n=(t=regeneratorRuntime.mark((function t(n,r){var i,a,u,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=s.length>2&&void 0!==s[2]?s[2]:{},"string"==typeof n){t.next=3;break}throw new Error("Invalid key type");case 3:return a=o(o({},i),f(n,r)),t.next=6,e.post("config",{timeout:i.timeout,signal:i.signal,searchParams:c(a),headers:i.headers});case 6:return u=t.sent,t.next=9,u.text();case 9:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,t){return n.apply(this,arguments)}}()}));var f=function(e,t){switch(r(t)){case"boolean":return{arg:[e,t.toString()],bool:!0};case"string":return{arg:[e,t]};default:return{arg:[e,JSON.stringify(t)],json:!0}}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}var u=n(44),s=n(120),c=n(7),f=n(8),l=n(121),d=n(83).AbortController;e.exports=c((function(e){return function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var r,o,a,c,h=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=h.length>1&&void 0!==h[1]?h[1]:{},o=new d,a=l(o.signal,r.signal),t.t0=e,t.t1=i,t.t2={timeout:r.timeout,signal:a,searchParams:f(r)},t.next=8,s(u(JSON.stringify(n)),o,r.headers);case 8:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=12,t.t0.post.call(t.t0,"config/replace",t.t4);case 12:return c=t.sent,t.next=15,c.text();case 15:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))});return function(e){return n.apply(this,arguments)}}()}))},function(e,t,n){"use strict";e.exports=function(e){return{apply:n(1454)(e),list:n(1455)(e)}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8);e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},t.next=3,e.post("config/profile/apply",{timeout:r.timeout,signal:r.signal,searchParams:c(i({arg:n},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,t.abrupt("return",{original:a.OldCfg,updated:a.NewCfg});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(67),a=n(7),u=n(8);e.exports=a((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},t.next=3,e.post("config/profile/list",{timeout:n.timeout,signal:n.signal,searchParams:u(n),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,t.abrupt("return",i.map((function(e){return o(e)})));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";e.exports=function(e,t){return{export:n(1457)(t),get:n(1458)(e,t),import:n(1460)(t),put:n(644)(e,t),resolve:n(1461)(t)}}},function(e,t,n){"use strict";function r(e){return function(){return new i(e.apply(this,arguments))}}function i(e){var t,n;function r(t,n){try{var o=e[t](n),u=o.value,s=u instanceof a;Promise.resolve(s?u.wrapped:u).then((function(e){s?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function o(e){return new a(e)}function a(e){this.wrapped=e}function u(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function s(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}i.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};var c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=r(regeneratorRuntime.mark((function t(n){var r,i,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,o(e.post("dag/export",{timeout:r.timeout,signal:r.signal,searchParams:f({arg:n.toString()}),headers:r.headers}));case 3:return i=t.sent,t.delegateYield(s(u(i.iterator()),o),"t0",5);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}var i=n(7),o=n(1459),a=n(198),u=n(97),s=n(4);e.exports=function(e,t){return i((function(t,i){var c=n(643)(i);return function(){var t=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}(regeneratorRuntime.mark((function t(n){var r,i,f,l,d,h,p=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=p.length>1&&void 0!==p[1]?p[1]:{}).path){t.next=16;break}if(!r.localResolve){t.next=8;break}return t.next=5,a(o(n,r.path,e,c,r));case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,u(o(n,r.path,e,c,r));case 10:t.t0=t.sent;case 11:if(i=t.t0,f=i){t.next=15;break}throw s(new Error("Not found"),"ERR_NOT_FOUND");case 15:return t.abrupt("return",f);case 16:return t.next=18,e.getCodec(n.code);case 18:return l=t.sent,t.next=21,c(n,r);case 21:return d=t.sent,h=l.decode(d),t.abrupt("return",{value:h,remainderPath:""});case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))(t)}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return new a(e)}function o(e){var t,n;function r(t,n){try{var o=e[t](n),u=o.value,s=u instanceof a;Promise.resolve(s?u.wrapped:u).then((function(e){s?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function a(e){this.wrapped=e}o.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)};var u=n(12).CID,s=n(4),c=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,o,a,c){var f,l,d,h,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.getCodec(t.code);case 2:return n=e.sent,e.next=5,a(t,c);case 5:return r=e.sent,e.abrupt("return",n.decode(r));case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))});return function(e){return t.apply(this,arguments)}}(),l=n.split("/").filter(Boolean),e.next=4,i(f(t));case 4:if(d=e.sent,h=t,l.length){e.next=9;break}return e.next=9,{value:d,remainderPath:""};case 9:if(!l.length){e.next=27;break}if(p=l.shift()){e.next=13;break}throw s(new Error('Could not resolve path "'.concat(n,'"')),"ERR_INVALID_PATH");case 13:if(!Object.prototype.hasOwnProperty.call(d,p)){e.next=19;break}return d=d[p],e.next=17,{value:d,remainderPath:l.join("/")};case 17:e.next=20;break;case 19:throw s(new Error('no link named "'.concat(p,'" under ').concat(h)),"ERR_NO_LINK");case 20:if(!(d instanceof u)){e.next=25;break}return h=d,e.next=24,i(f(d));case 24:d=e.sent;case 25:e.next=9;break;case 27:case"end":return e.stop()}}),e)})),function(){return new o(e.apply(this,arguments))});return function(e,n,r,i,o){return t.apply(this,arguments)}}();e.exports=c},function(e,t,n){"use strict";function r(e){return new a(e)}function i(e){return function(){return new o(e.apply(this,arguments))}}function o(e){var t,n;function r(t,n){try{var o=e[t](n),u=o.value,s=u instanceof a;Promise.resolve(s?u.wrapped:u).then((function(e){s?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function a(e){this.wrapped=e}function u(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}o.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},o.prototype.next=function(e){return this._invoke("next",e)},o.prototype.throw=function(e){return this._invoke("throw",e)},o.prototype.return=function(e){return this._invoke("return",e)};var s=n(7),c=n(8),f=n(121),l=n(120),d=n(83).AbortController,h=n(12).CID;e.exports=s((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(n){var i,o,a,s,p,m,y,v,g,b,w,E,_,S,T,A,P=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=P.length>1&&void 0!==P[1]?P[1]:{},o=new d,a=f(o.signal,i.signal),t.next=5,r(l(n,o,i.headers));case 5:return s=t.sent,p=s.headers,m=s.body,t.next=10,r(e.post("dag/import",{timeout:i.timeout,signal:a,headers:p,body:m,searchParams:c({"pin-roots":i.pinRoots})}));case 10:y=t.sent,v=!0,g=!1,t.prev=13,w=u(y.ndjson());case 15:return t.next=17,r(w.next());case 17:return E=t.sent,v=E.done,t.next=21,r(E.value);case 21:if(_=t.sent,v){t.next=31;break}if(void 0===(S=_.Root)){t.next=28;break}return T=S.Cid["/"],A=S.PinErrorMsg,t.next=28,{root:{cid:h.parse(T),pinErrorMsg:A}};case 28:v=!0,t.next=15;break;case 31:t.next=37;break;case 33:t.prev=33,t.t0=t.catch(13),g=!0,b=t.t0;case 37:if(t.prev=37,t.prev=38,v||null==w.return){t.next=42;break}return t.next=42,r(w.return());case 42:if(t.prev=42,!g){t.next=45;break}throw b;case 45:return t.finish(42);case 46:return t.finish(37);case 47:case"end":return t.stop()}}),t,null,[[13,33,37,47],[38,,42,46]])})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}var u=n(12).CID,s=n(7),c=n(8);e.exports=s((function(e){return function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var r,o,a,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,e.post("dag/resolve",{timeout:r.timeout,signal:r.signal,searchParams:c(i({arg:"".concat(n).concat(r.path?"/".concat(r.path).replace(/\/[/]+/g,"/"):"")},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,t.abrupt("return",{cid:u.parse(a.Cid["/"]),remainderPath:a.RemPath});case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))});return function(e){return n.apply(this,arguments)}}()}))},function(e,t,n){"use strict";e.exports=function(e){return{get:n(1463)(e),put:n(1464)(e),findProvs:n(1465)(e),findPeer:n(1466)(e),provide:n(1467)(e),query:n(1468)(e)}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}function s(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}var c=n(7),f=n(8),l=n(401).Value,d=n(45),h=n(44);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u,c,p,m,y,v,g=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=g.length>1&&void 0!==g[1]?g[1]:{},t.next=3,e.post("dht/get",{timeout:r.timeout,signal:r.signal,searchParams:f(i({arg:n instanceof Uint8Array?d(n):n},r)),headers:r.headers});case 3:o=t.sent,a=!0,u=!1,t.prev=6,p=s(o.ndjson());case 8:return t.next=10,p.next();case 10:return m=t.sent,a=m.done,t.next=14,m.value;case 14:if(y=t.sent,a){t.next=22;break}if((v=y).Type!==l){t.next=19;break}return t.abrupt("return",h(v.Extra,"base64pad"));case 19:a=!0,t.next=8;break;case 22:t.next=28;break;case 24:t.prev=24,t.t0=t.catch(6),u=!0,c=t.t0;case 28:if(t.prev=28,t.prev=29,a||null==p.return){t.next=33;break}return t.next=33,p.return();case 33:if(t.prev=33,!u){t.next=36;break}throw c;case 36:return t.finish(33);case 37:return t.finish(28);case 38:throw new Error("not found");case 39:case"end":return t.stop()}}),t,null,[[6,24,28,38],[29,,33,37]])})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return new c(e)}function u(e){return function(){return new s(e.apply(this,arguments))}}function s(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof c;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function c(e){this.wrapped=e}function f(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}s.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},s.prototype.next=function(e){return this._invoke("next",e)},s.prototype.throw=function(e){return this._invoke("throw",e)},s.prototype.return=function(e){return this._invoke("return",e)};var l=n(30).Multiaddr,d=n(67),h=n(7),p=n(8),m=n(120),y=n(121),v=n(83).AbortController;e.exports=h((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n,r){var o,u,s,c,h,g,b,w,E,_,S,T=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=T.length>2&&void 0!==T[2]?T[2]:{},u=new v,s=y(u.signal,o.signal),t.t0=a,t.t1=e,t.t2=i,t.t3={timeout:o.timeout,signal:s,searchParams:p(i({arg:n},o))},t.next=9,a(m(r,u,o.headers));case 9:return t.t4=t.sent,t.t5=(0,t.t2)(t.t3,t.t4),t.t6=t.t1.post.call(t.t1,"dht/put",t.t5),t.next=14,(0,t.t0)(t.t6);case 14:c=t.sent,h=!0,g=!1,t.prev=17,w=f(c.ndjson());case 19:return t.next=21,a(w.next());case 21:return E=t.sent,h=E.done,t.next=25,a(E.value);case 25:if(_=t.sent,h){t.next=35;break}return(S=d(S=_)).responses&&(S.responses=S.responses.map((function(e){return{id:e.ID,addrs:(e.Addrs||[]).map((function(e){return new l(e)}))}}))),t.next=32,S;case 32:h=!0,t.next=19;break;case 35:t.next=41;break;case 37:t.prev=37,t.t7=t.catch(17),g=!0,b=t.t7;case 41:if(t.prev=41,t.prev=42,h||null==w.return){t.next=46;break}return t.next=46,a(w.return());case 46:if(t.prev=46,!g){t.next=49;break}throw b;case 49:return t.finish(46);case 50:return t.finish(41);case 51:case"end":return t.stop()}}),t,null,[[17,37,41,51],[42,,46,50]])})))).apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return new l(e)}function c(e){return function(){return new f(e.apply(this,arguments))}}function f(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof l;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function l(e){this.wrapped=e}function d(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}f.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},f.prototype.next=function(e){return this._invoke("next",e)},f.prototype.throw=function(e){return this._invoke("throw",e)},f.prototype.return=function(e){return this._invoke("return",e)};var h=n(30).Multiaddr,p=n(7),m=n(8),y=n(401).Provider;e.exports=p((function(e){function t(){return(t=c(regeneratorRuntime.mark((function t(n){var i,o,u,c,f,l,p,v,g,b,w,E,_,S,T=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=T.length>1&&void 0!==T[1]?T[1]:{},t.next=3,s(e.post("dht/findprovs",{timeout:i.timeout,signal:i.signal,searchParams:m(a({arg:n.toString()},i)),headers:i.headers}));case 3:o=t.sent,u=!0,c=!1,t.prev=6,l=d(o.ndjson());case 8:return t.next=10,s(l.next());case 10:return p=t.sent,u=p.done,t.next=14,s(p.value);case 14:if(v=t.sent,u){t.next=38;break}if((g=v).Type!==y||!g.Responses){t.next=35;break}b=r(g.Responses),t.prev=19,b.s();case 21:if((w=b.n()).done){t.next=27;break}return E=w.value,_=E.ID,S=E.Addrs,t.next=25,{id:_,addrs:(S||[]).map((function(e){return new h(e)}))};case 25:t.next=21;break;case 27:t.next=32;break;case 29:t.prev=29,t.t0=t.catch(19),b.e(t.t0);case 32:return t.prev=32,b.f(),t.finish(32);case 35:u=!0,t.next=8;break;case 38:t.next=44;break;case 40:t.prev=40,t.t1=t.catch(6),c=!0,f=t.t1;case 44:if(t.prev=44,t.prev=45,u||null==l.return){t.next=49;break}return t.next=49,s(l.return());case 49:if(t.prev=49,!c){t.next=52;break}throw f;case 52:return t.finish(49);case 53:return t.finish(44);case 54:case"end":return t.stop()}}),t,null,[[6,40,44,54],[19,29,32,35],[45,,49,53]])})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}function s(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}var c=n(30).Multiaddr,f=n(7),l=n(8),d=n(401).FinalPeer;e.exports=f((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u,f,h,p,m,y,v,g,b,w=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=w.length>1&&void 0!==w[1]?w[1]:{},t.next=3,e.post("dht/findpeer",{timeout:r.timeout,signal:r.signal,searchParams:l(i({arg:n},r)),headers:r.headers});case 3:o=t.sent,a=!0,u=!1,t.prev=6,h=s(o.ndjson());case 8:return t.next=10,h.next();case 10:return p=t.sent,a=p.done,t.next=14,p.value;case 14:if(m=t.sent,a){t.next=23;break}if((y=m).Type!==d||!y.Responses){t.next=20;break}return v=y.Responses[0],g=v.ID,b=v.Addrs,t.abrupt("return",{id:g,addrs:(b||[]).map((function(e){return new c(e)}))});case 20:a=!0,t.next=8;break;case 23:t.next=29;break;case 25:t.prev=25,t.t0=t.catch(6),u=!0,f=t.t0;case 29:if(t.prev=29,t.prev=30,a||null==h.return){t.next=34;break}return t.next=34,h.return();case 34:if(t.prev=34,!u){t.next=37;break}throw f;case 37:return t.finish(34);case 38:return t.finish(29);case 39:throw new Error("not found");case 40:case"end":return t.stop()}}),t,null,[[6,25,29,39],[30,,34,38]])})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return new c(e)}function u(e){return function(){return new s(e.apply(this,arguments))}}function s(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof c;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function c(e){this.wrapped=e}function f(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}s.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},s.prototype.next=function(e){return this._invoke("next",e)},s.prototype.throw=function(e){return this._invoke("throw",e)},s.prototype.return=function(e){return this._invoke("return",e)};var l=n(30).Multiaddr,d=n(67),h=n(7),p=n(8);e.exports=h((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,u,s,c,h,m,y,v,g,b=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=b.length>1&&void 0!==b[1]?b[1]:{recursive:!1},o=Array.isArray(n)?n:[n],t.next=4,a(e.post("dht/provide",{timeout:r.timeout,signal:r.signal,searchParams:p(i({arg:o.map((function(e){return e.toString()}))},r)),headers:r.headers}));case 4:u=t.sent,s=!0,c=!1,t.prev=7,m=f(u.ndjson());case 9:return t.next=11,a(m.next());case 11:return y=t.sent,s=y.done,t.next=15,a(y.value);case 15:if(v=t.sent,s){t.next=25;break}return(g=d(g=v)).responses?g.responses=g.responses.map((function(e){return{id:e.ID,addrs:(e.Addrs||[]).map((function(e){return new l(e)}))}})):g.responses=[],t.next=22,g;case 22:s=!0,t.next=9;break;case 25:t.next=31;break;case 27:t.prev=27,t.t0=t.catch(7),c=!0,h=t.t0;case 31:if(t.prev=31,t.prev=32,s||null==m.return){t.next=36;break}return t.next=36,a(m.return());case 36:if(t.prev=36,!c){t.next=39;break}throw h;case 39:return t.finish(36);case 40:return t.finish(31);case 41:case"end":return t.stop()}}),t,null,[[7,27,31,41],[32,,36,40]])})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return new c(e)}function u(e){return function(){return new s(e.apply(this,arguments))}}function s(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof c;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function c(e){this.wrapped=e}function f(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}s.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},s.prototype.next=function(e){return this._invoke("next",e)},s.prototype.throw=function(e){return this._invoke("throw",e)},s.prototype.return=function(e){return this._invoke("return",e)};var l=n(30).Multiaddr,d=n(67),h=n(7),p=n(8);e.exports=h((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,u,s,c,h,m,y,v,g=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=g.length>1&&void 0!==g[1]?g[1]:{},t.next=3,a(e.post("dht/query",{timeout:r.timeout,signal:r.signal,searchParams:p(i({arg:n.toString()},r)),headers:r.headers}));case 3:o=t.sent,u=!0,s=!1,t.prev=6,h=f(o.ndjson());case 8:return t.next=10,a(h.next());case 10:return m=t.sent,u=m.done,t.next=14,a(m.value);case 14:if(y=t.sent,u){t.next=24;break}return(v=d(v=y)).responses=(v.responses||[]).map((function(e){return{id:e.ID,addrs:(e.Addrs||[]).map((function(e){return new l(e)}))}})),t.next=21,v;case 21:u=!0,t.next=8;break;case 24:t.next=30;break;case 26:t.prev=26,t.t0=t.catch(6),s=!0,c=t.t0;case 30:if(t.prev=30,t.prev=31,u||null==h.return){t.next=35;break}return t.next=35,a(h.return());case 35:if(t.prev=35,!s){t.next=38;break}throw c;case 38:return t.finish(35);case 39:return t.finish(30);case 40:case"end":return t.stop()}}),t,null,[[6,26,30,40],[31,,35,39]])})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";e.exports=function(e){return{net:n(1470)(e),sys:n(1471)(e),cmds:n(1472)(e)}}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(7),a=n(8);e.exports=o((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("diag/net",{timeout:n.timeout,signal:n.signal,searchParams:a(n),headers:n.headers});case 3:return r=t.sent,t.abrupt("return",r.json());case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(7),a=n(8);e.exports=o((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("diag/sys",{timeout:n.timeout,signal:n.signal,searchParams:a(n),headers:n.headers});case 3:return r=t.sent,t.abrupt("return",r.json());case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(7),a=n(8);e.exports=o((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("diag/cmds",{timeout:n.timeout,signal:n.signal,searchParams:a(n),headers:n.headers});case 3:return r=t.sent,t.abrupt("return",r.json());case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}var u=n(7),s=n(8);e.exports=u((function(e){return function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var r,o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},t.next=3,e.post("dns",{timeout:r.timeout,signal:r.signal,searchParams:s(i({arg:n},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,t.abrupt("return",a.Path);case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))});return function(e){return n.apply(this,arguments)}}()}))},function(e,t,n){"use strict";e.exports=function(e){return{chmod:n(1475)(e),cp:n(1476)(e),flush:n(1477)(e),ls:n(1478)(e),mkdir:n(1479)(e),mv:n(1480)(e),read:n(1481)(e),rm:n(1482)(e),stat:n(646)(e),touch:n(1483)(e),write:n(1484)(e)}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8);e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n,r){var o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=u.length>2&&void 0!==u[2]?u[2]:{},t.next=3,e.post("files/chmod",{timeout:o.timeout,signal:o.signal,searchParams:c(i({arg:n,mode:r},o)),headers:o.headers});case 3:return a=t.sent,t.next=6,a.text();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(12).CID,c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n,r){var o,a,u,c=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.length>2&&void 0!==c[2]?c[2]:{},a=Array.isArray(n)?n:[n],t.next=4,e.post("files/cp",{timeout:o.timeout,signal:o.signal,searchParams:f(i({arg:a.concat(r).map((function(e){return e instanceof s?"/ipfs/".concat(e):e}))},o)),headers:o.headers});case 4:return u=t.sent,t.next=7,u.text();case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(12).CID,c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:{},n&&"string"==typeof n){t.next=3;break}throw new Error("ipfs.files.flush requires a path");case 3:return t.next=5,e.post("files/flush",{timeout:r.timeout,signal:r.signal,searchParams:f(i({arg:n},r)),headers:r.headers});case 5:return o=t.sent,t.next=8,o.json();case 8:return a=t.sent,t.abrupt("return",s.parse(a.Cid));case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return new l(e)}function c(e){return function(){return new f(e.apply(this,arguments))}}function f(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof l;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function l(e){this.wrapped=e}function d(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}f.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},f.prototype.next=function(e){return this._invoke("next",e)},f.prototype.throw=function(e){return this._invoke("throw",e)},f.prototype.return=function(e){return this._invoke("return",e)};var h=n(12).CID,p=n(645),m=n(7),y=n(8);function v(e){return e.hash&&(e.cid=h.parse(e.hash)),delete e.hash,e.type=1===e.type?"directory":"file",e}e.exports=m((function(e){function t(){return(t=c(regeneratorRuntime.mark((function t(n){var i,o,u,c,f,l,m,g,b,w,E,_,S=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=S.length>1&&void 0!==S[1]?S[1]:{},n){t.next=3;break}throw new Error("ipfs.files.ls requires a path");case 3:return t.next=5,s(e.post("files/ls",{timeout:i.timeout,signal:i.signal,searchParams:y(a(a({arg:n instanceof h?"/ipfs/".concat(n):n,long:!0},i),{},{stream:!0})),headers:i.headers}));case 5:o=t.sent,u=!0,c=!1,t.prev=8,l=d(o.ndjson());case 10:return t.next=12,s(l.next());case 12:return m=t.sent,u=m.done,t.next=16,s(m.value);case 16:if(g=t.sent,u){t.next=44;break}if(!("Entries"in(b=g))){t.next=39;break}w=r(b.Entries||[]),t.prev=21,w.s();case 23:if((E=w.n()).done){t.next=29;break}return _=E.value,t.next=27,v(p(_));case 27:t.next=23;break;case 29:t.next=34;break;case 31:t.prev=31,t.t0=t.catch(21),w.e(t.t0);case 34:return t.prev=34,w.f(),t.finish(34);case 37:t.next=41;break;case 39:return t.next=41,v(p(b));case 41:u=!0,t.next=10;break;case 44:t.next=50;break;case 46:t.prev=46,t.t1=t.catch(8),c=!0,f=t.t1;case 50:if(t.prev=50,t.prev=51,u||null==l.return){t.next=55;break}return t.next=55,s(l.return());case 55:if(t.prev=55,!c){t.next=58;break}throw f;case 58:return t.finish(55);case 59:return t.finish(50);case 60:case"end":return t.stop()}}),t,null,[[8,46,50,60],[21,31,34,37],[51,,55,59]])})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8);e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,e.post("files/mkdir",{timeout:r.timeout,signal:r.signal,searchParams:c(i({arg:n},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.text();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8);e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n,r){var o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=u.length>2&&void 0!==u[2]?u[2]:{},Array.isArray(n)||(n=[n]),t.next=4,e.post("files/mv",{timeout:o.timeout,signal:o.signal,searchParams:c(i({arg:n.concat(r)},o)),headers:o.headers});case 4:return a=t.sent,t.next=7,a.text();case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(){return new u(e.apply(this,arguments))}}function u(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof c;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function s(e){return new c(e)}function c(e){this.wrapped=e}function f(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function l(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}u.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},u.prototype.next=function(e){return this._invoke("next",e)},u.prototype.throw=function(e){return this._invoke("throw",e)},u.prototype.return=function(e){return this._invoke("return",e)};var d=n(298),h=n(7),p=n(8);e.exports=h((function(e){function t(){return(t=a(regeneratorRuntime.mark((function t(n){var r,o,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,s(e.post("files/read",{timeout:r.timeout,signal:r.signal,searchParams:p(i({arg:n,count:r.length},r)),headers:r.headers}));case 3:return o=t.sent,t.delegateYield(l(f(d(o.body)),s),"t0",5);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8);e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,e.post("files/rm",{timeout:r.timeout,signal:r.signal,searchParams:c(i({arg:n},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.text();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8);e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,e.post("files/touch",{timeout:r.timeout,signal:r.signal,searchParams:c(i({arg:n},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.text();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(400),c=n(641),f=n(7),l=n(120),d=n(8),h=n(121),p=n(83).AbortController;e.exports=f((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n,r){var o,a,u,f,m=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=m.length>2&&void 0!==m[2]?m[2]:{},a=new p,u=h(a.signal,o.signal),t.t0=e,t.t1=i,t.t2={timeout:o.timeout,signal:u,searchParams:d(i({arg:n,streamChannels:!0,count:o.length},o))},t.next=8,l({content:r,path:"arg",mode:s(o.mode),mtime:c(o.mtime)},a,o.headers);case 8:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=12,t.t0.post.call(t.t0,"files/write",t.t4);case 12:return f=t.sent,t.next=15,f.text();case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return new c(e)}function u(e){return function(){return new s(e.apply(this,arguments))}}function s(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof c;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function c(e){this.wrapped=e}function f(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}s.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},s.prototype.next=function(e){return this._invoke("next",e)},s.prototype.throw=function(e){return this._invoke("throw",e)},s.prototype.return=function(e){return this._invoke("return",e)};var l=n(1486),d=n(12).CID,h=n(7),p=n(8),m=n(117);e.exports=h((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,u,s,c,h,y,v,g,b,w,E,_=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=_.length>1&&void 0!==_[1]?_[1]:{},t.next=3,a(e.post("get",{timeout:r.timeout,signal:r.signal,searchParams:p(i({arg:"".concat(n instanceof Uint8Array?d.decode(n):n)},r)),headers:r.headers}));case 3:o=t.sent,u=l.extract(),s=!0,c=!1,t.prev=7,y=f(u(o.iterator()));case 9:return t.next=11,a(y.next());case 11:return v=t.sent,s=v.done,t.next=15,a(v.value);case 15:if(g=t.sent,s){t.next=28;break}if(w=(b=g).header,E=b.body,"directory"!==w.type){t.next=23;break}return t.next=21,{type:"dir",path:w.name};case 21:t.next=25;break;case 23:return t.next=25,{type:"file",path:w.name,content:m(E,(function(e){return e.slice()}))};case 25:s=!0,t.next=9;break;case 28:t.next=34;break;case 30:t.prev=30,t.t0=t.catch(7),c=!0,h=t.t0;case 34:if(t.prev=34,t.prev=35,s||null==y.return){t.next=39;break}return t.next=39,a(y.return());case 39:if(t.prev=39,!c){t.next=42;break}throw h;case 42:return t.finish(39);case 43:return t.finish(34);case 44:case"end":return t.stop()}}),t,null,[[7,30,34,44],[35,,39,43]])})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){t.extract=n(1487),t.pack=n(1490)},function(e,t,n){const r=n(175),i=n(1488),o=n(1489);async function a(e,t){const n=function(e){return(e&=511)&&512-e}(t);n&&await e.next(n)}e.exports=e=>((e=e||{}).highWaterMark=e.highWaterMark||16384,t=>async function*(){const n=o(t);let u,s,c,f;try{for(;;){let t;try{const{done:e,value:r}=await n.next(512);if(e)return;t=r}catch(e){if("ERR_UNDER_READ"===e.code)return;throw e}const o=i.decode(t,e.filenameEncoding);if(!o)continue;if("gnu-long-path"===o.type){const{done:t,value:r}=await n.next(o.size);if(t)return;u=i.decodeLongPath(r,e.filenameEncoding),await a(n,o.size);continue}if("gnu-long-link-path"===o.type){const{done:t,value:r}=await n.next(o.size);if(t)return;s=i.decodeLongPath(r,e.filenameEncoding),await a(n,o.size);continue}if("pax-global-header"===o.type){const{done:t,value:r}=await n.next(o.size);if(t)return;c=i.decodePax(r,e.filenameEncoding),await a(n,o.size);continue}if("pax-header"===o.type){const{done:t,value:r}=await n.next(o.size);if(t)return;f=i.decodePax(r,e.filenameEncoding),c&&(f={...c,...f}),await a(n,o.size);continue}if(u&&(o.name=u,u=null),s&&(o.linkname=s,s=null),f&&(f.path&&(o.name=f.path),f.linkpath&&(o.linkname=f.linkpath),f.size&&(o.size=parseInt(f.size,10)),o.pax=f,f=null),!o.size||"directory"===o.type){yield{header:o,body:async function*(){}()};continue}let l=o.size;const d=r(),h=await n.nextLte(Math.min(l,e.highWaterMark));l-=h.value.length,l||d.resolve();const p=async function*(){try{for(yield h.value;l;){const{done:e,value:t}=await n.nextLte(l);if(e)return void(l=0);l-=t.length,yield t}}finally{d.resolve()}}();if(yield{header:o,body:p},await d.promise,l)for await(const e of p);await a(n,o.size)}}finally{await n.return()}}())},function(e,t,n){const{Buffer:r}=n(27),i=n(86),o="0".charCodeAt(0),a=r.from("ustar\0","binary"),u=r.from("ustar ","binary"),s=r.from(" \0","binary"),c=function(e,t,n,r){for(;n<r;n++)if(e.get(n)===t)return n;return r};const f=function(e,t,n){if(e=e.shallowSlice(t,t+n),t=0,128&e.get(t))return function(e){let t;if(128===e.get(0))t=!0;else{if(255!==e.get(0))return null;t=!1}let n=!1;const r=[];for(let i=e.length-1;i>0;i--){const o=e.get(i);t?r.push(o):n&&0===o?r.push(0):n?(n=!1,r.push(256-o)):r.push(255-o)}let i=0;const o=r.length;for(let e=0;e<o;e++)i+=r[e]*Math.pow(256,e);return t?i:-1*i}(e);{for(;t<e.length&&32===e.get(t);)t++;const n=function(e,t,n){return"number"!=typeof e?n:(e=~~e)>=t?t:e>=0||(e+=t)>=0?e:0}(c(e,32,t,e.length),e.length,e.length);for(;t<n&&0===e.get(t);)t++;return n===t?0:parseInt(e.shallowSlice(t,n).toString(),8)}},l=function(e,t,n,r){return e.shallowSlice(t,c(e,0,t,t+n)).toString(r)};t.decodeLongPath=function(e,t){return e=i.isBufferList(e)?e:new i(e),l(e,0,e.length,t)},t.decodePax=function(e){e=i.isBufferList(e)?e:new i(e);const t={};for(;e.length;){let n=0;for(;n<e.length&&32!==e.get(n);)n++;const r=parseInt(e.shallowSlice(0,n).toString(),10);if(!r)return t;const i=e.shallowSlice(n+1,r-1).toString(),o=i.indexOf("=");if(-1===o)return t;t[i.slice(0,o)]=i.slice(o+1),e=e.shallowSlice(r)}return t},t.decode=function(e,t){let n=0===(e=i.isBufferList(e)?e:new i(e)).get(156)?0:e.get(156)-o,r=l(e,0,100,t);const c=f(e,100,8),d=f(e,108,8),h=f(e,116,8),p=f(e,124,12),m=f(e,136,12),y=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(n),v=0===e.get(157)?null:l(e,157,100,t),g=l(e,265,32),b=l(e,297,32),w=f(e,329,8),E=f(e,337,8),_=function(e){let t=256;for(let n=0;n<148;n++)t+=e.get(n);for(let n=156;n<512;n++)t+=e.get(n);return t}(e);if(256===_)return null;if(_!==f(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(0===a.compare(e.slice(257,263)))e.get(345)&&(r=l(e,345,155,t)+"/"+r);else if(0!==u.compare(e.slice(257,263))||0!==s.compare(e.slice(263,265)))throw new Error("Invalid tar header: unknown format.");return 0===n&&r&&"/"===r[r.length-1]&&(n=5),{name:r,mode:c,uid:d,gid:h,size:p,mtime:new Date(1e3*m),type:y,linkname:v,uname:g,gname:b,devmajor:w,devminor:E}}},function(e,t,n){const r=n(86),i=n(402);e.exports=function(e){const t=i(e);let n;const o={[Symbol.asyncIterator]:()=>o,async next(e){if(n){let i;if(null==e||n.length===e)i=n,n=null;else if(n.length>e)i=n.shallowSlice(0,e),n=n.shallowSlice(e);else if(n.length<e){const{value:o,done:a}=await t.next(e-n.length);if(a)throw Object.assign(new Error(`stream ended before ${e-n.length} bytes became available`),{code:"ERR_UNDER_READ"});i=new r([n,o]),n=null}return{value:i}}return t.next(e)},async nextLte(e){let{done:t,value:i}=await o.next();return t?{done:t}:i.length<=e?{value:i}:(i=r.isBufferList(i)?i:new r(i),n?n.append(i.shallowSlice(e)):n=i.shallowSlice(e),{value:i.shallowSlice(0,e)})},return:()=>t.return()};return o}},function(e,t,n){const{Buffer:r}=n(27),i=n(86),{S_IFMT:o,S_IFBLK:a,S_IFCHR:u,S_IFDIR:s,S_IFIFO:c,S_IFLNK:f}=n(1491),l=n(1492),d=n(1493),h=parseInt("755",8),p=parseInt("644",8),m=r.alloc(1024);function y(e){switch(e&o){case a:return"block-device";case u:return"character-device";case s:return"directory";case c:return"fifo";case f:return"symlink"}return"file"}function v(e){if(e&=511)return new i(m.slice(0,512-e))}function g(e){if(!e.pax){const t=d.encode(e);if(t)return t}return function(e){const t=d.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};return new i([d.encode(n),t,v(t.length),d.encode({...n,size:e.size,type:e.type})])}(e)}e.exports=()=>async function*(e){for await(let{header:t,body:n}of e){if(t.size&&"symlink"!==t.type||(t.size=0),t.type||(t.type=y(t.mode)),t.mode||(t.mode="directory"===t.type?h:p),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),"string"==typeof n&&(n=r.from(n)),r.isBuffer(n)||i.isBufferList(n)){t.size=n.length,yield new i([g(t),n,v(t.size)]);continue}if("symlink"===t.type&&!t.linkname){t.linkname=(await l(n)).toString(),yield g(t);continue}if(yield g(t),"file"!==t.type&&"contiguous-file"!==t.type)continue;let e=0;for await(const t of n)e+=t.length,yield i.isBufferList(t)?t:new i(t);if(e!==t.size)throw new Error("size mismatch");const o=v(t.size);o&&(yield o)}yield new i(m)}},function(e,t,n){"use strict";e.exports={RTLD_LAZY:1,RTLD_NOW:2,RTLD_GLOBAL:8,RTLD_LOCAL:4,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,PRIORITY_LOW:19,PRIORITY_BELOW_NORMAL:10,PRIORITY_NORMAL:0,PRIORITY_ABOVE_NORMAL:-7,PRIORITY_HIGH:-14,PRIORITY_HIGHEST:-20,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGINFO:29,SIGSYS:12,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,O_RDONLY:0,O_WRONLY:1,O_RDWR:2,UV_DIRENT_UNKNOWN:0,UV_DIRENT_FILE:1,UV_DIRENT_DIR:2,UV_DIRENT_LINK:3,UV_DIRENT_FIFO:4,UV_DIRENT_SOCKET:5,UV_DIRENT_CHAR:6,UV_DIRENT_BLOCK:7,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,UV_FS_O_FILEMAP:0,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_DSYNC:4194304,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_COPYFILE_EXCL:1,COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_FICLONE_FORCE:4,OPENSSL_VERSION_NUMBER:269488319,SSL_OP_ALL:2147485780,SSL_OP_ALLOW_NO_DHE_KEX:1024,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:0,SSL_OP_MICROSOFT_SESS_ID_BUG:0,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:0,SSL_OP_NETSCAPE_CHALLENGE_BUG:0,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:0,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:0,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_ENCRYPT_THEN_MAC:524288,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_RENEGOTIATION:1073741824,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:0,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_NO_TLSv1_3:536870912,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_PRIORITIZE_CHACHA:2097152,SSL_OP_SINGLE_DH_USE:0,SSL_OP_SINGLE_ECDH_USE:0,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:0,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:0,SSL_OP_TLS_D5_BUG:0,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_RSA:1,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_EC:2048,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,RSA_PSS_SALTLEN_DIGEST:-1,RSA_PSS_SALTLEN_MAX_SIGN:-2,RSA_PSS_SALTLEN_AUTO:-2,defaultCoreCipherList:"TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:TLS_AES_128_GCM_SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-AES256-GCM-SHA384:DHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-SHA256:DHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA384:DHE-RSA-AES256-SHA384:ECDHE-RSA-AES256-SHA256:DHE-RSA-AES256-SHA256:HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5:!PSK:!SRP:!CAMELLIA",TLS1_VERSION:769,TLS1_1_VERSION:770,TLS1_2_VERSION:771,TLS1_3_VERSION:772,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t,n){const r=n(86),i={string:()=>"",buffer:()=>r()};e.exports=async(e,t)=>{if((t=t||{}).type&&!i[t.type])throw new Error(`invalid type "${t.type}"`);let n,r;for await(const o of e)n||(r=t.type||("string"==typeof o?"string":"buffer"),n=i[r]()),"string"===r?n+=o:n.append(o);return n||i[t.type||"buffer"]()}},function(e,t,n){const{Buffer:r}=n(27),i=r.alloc,o="0".charCodeAt(0),a=r.from("ustar\0","binary"),u=r.from("00","binary"),s=parseInt("7777",8),c=function(e,t){return(e=e.toString(8)).length>t?"7777777777777777777".slice(0,t)+" ":"0000000000000000000".slice(0,t-e.length)+e+" "},f=function(e){const t=r.byteLength(e);let n=Math.floor(Math.log(t)/Math.log(10))+1;return t+n>=Math.pow(10,n)&&n++,t+n+e};t.encodePax=function(e){let t="";e.name&&(t+=f(" path="+e.name+"\n")),e.linkname&&(t+=f(" linkpath="+e.linkname+"\n"));const n=e.pax;if(n)for(const e in n)t+=f(" "+e+"="+n[e]+"\n");return r.from(t)},t.encode=function(e){const t=i(512);let n=e.name,f="";if(5===e.typeflag&&"/"!==n[n.length-1]&&(n+="/"),r.byteLength(n)!==n.length)return null;for(;r.byteLength(n)>100;){const e=n.indexOf("/");if(-1===e)return null;f+=f?"/"+n.slice(0,e):n.slice(0,e),n=n.slice(e+1)}return r.byteLength(n)>100||r.byteLength(f)>155||e.linkname&&r.byteLength(e.linkname)>100?null:(t.write(n),t.write(c(e.mode&s,6),100),t.write(c(e.uid,6),108),t.write(c(e.gid,6),116),t.write(c(e.size,11),124),t.write(c(e.mtime.getTime()/1e3|0,11),136),t[156]=o+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(e.type),e.linkname&&t.write(e.linkname,157),a.copy(t,257),u.copy(t,263),e.uname&&t.write(e.uname,265),e.gname&&t.write(e.gname,297),t.write(c(e.devmajor||0,6),329),t.write(c(e.devminor||0,6),337),f&&t.write(f,345),t.write(c(function(e){let t=256;for(let n=0;n<148;n++)t+=e[n];for(let n=156;n<512;n++)t+=e[n];return t}(t),6),148),t)}},function(e,t,n){"use strict";var r=n(7);e.exports=r((function(e){return function(){var t=new URL(e.opts.base||"");return{host:t.hostname,port:t.port,protocol:t.protocol,pathname:t.pathname,"api-path":t.pathname}}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(647);e.exports=function(e){var t=o(e);function n(){return(n=i(regeneratorRuntime.mark((function e(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},e.next=3,t(n);case 3:return r=e.sent,e.abrupt("return",Boolean(r&&r.addresses&&r.addresses.length));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){return n.apply(this,arguments)}}},function(e,t,n){"use strict";e.exports=function(e){return{gen:n(1497)(e),list:n(1498)(e),rename:n(1499)(e),rm:n(1500)(e),import:n(1501)(e),export:n(1502)(e),info:n(1503)(e)}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(67),c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{type:"rsa",size:2048},t.next=3,e.post("key/gen",{timeout:r.timeout,signal:r.signal,searchParams:f(i({arg:n},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,t.abrupt("return",s(a));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(67),a=n(7),u=n(8);e.exports=a((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},t.next=3,e.post("key/list",{timeout:n.timeout,signal:n.signal,searchParams:u(n),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,t.abrupt("return",(i.Keys||[]).map((function(e){return o(e)})));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(67),c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n,r){var o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=u.length>2&&void 0!==u[2]?u[2]:{},t.next=3,e.post("key/rename",{timeout:o.timeout,signal:o.signal,searchParams:f(i({arg:[n,r]},o)),headers:o.headers});case 3:return a=t.sent,t.t0=s,t.next=7,a.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(67),c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},t.next=3,e.post("key/rm",{timeout:r.timeout,signal:r.signal,searchParams:f(i({arg:n},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,t.abrupt("return",s(a.Keys[0]));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(67),c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n,r,o){var a,u,c,l=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]?l[3]:{},t.next=3,e.post("key/import",{timeout:a.timeout,signal:a.signal,searchParams:f(i({arg:n,pem:r,password:o},a)),headers:a.headers});case 3:return u=t.sent,t.next=6,u.json();case 6:return c=t.sent,t.abrupt("return",s(c));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e,n,r){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}var i=n(7);e.exports=i((function(e){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>2&&void 0!==r[2]&&r[2],new Error("Not implemented");case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}var i=n(7);e.exports=i((function(e){return function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw n.length>1&&void 0!==n[1]&&n[1],new Error("Not implemented");case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))});return function(e){return t.apply(this,arguments)}}()}))},function(e,t,n){"use strict";e.exports=function(e){return{tail:n(1505)(e),ls:n(1506)(e),level:n(1507)(e)}}},function(e,t,n){"use strict";function r(e){return function(){return new i(e.apply(this,arguments))}}function i(e){var t,n;function r(t,n){try{var o=e[t](n),u=o.value,s=u instanceof a;Promise.resolve(s?u.wrapped:u).then((function(e){s?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function o(e){return new a(e)}function a(e){this.wrapped=e}function u(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function s(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}i.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};var c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=r(regeneratorRuntime.mark((function t(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,o(e.post("log/tail",{timeout:n.timeout,signal:n.signal,searchParams:f(n),headers:n.headers}));case 3:return r=t.sent,t.delegateYield(s(u(r.ndjson()),o),"t0",5);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(7),a=n(8);e.exports=o((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},t.next=3,e.post("log/ls",{timeout:n.timeout,signal:n.signal,searchParams:a(n),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,t.abrupt("return",i.Strings);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(67),c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n,r){var o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=u.length>2&&void 0!==u[2]?u[2]:{},t.next=3,e.post("log/level",{timeout:o.timeout,signal:o.signal,searchParams:f(i({arg:[n,r]},o)),headers:o.headers});case 3:return a=t.sent,t.t0=s,t.next=7,a.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}function s(e){return function(){return new c(e.apply(this,arguments))}}function c(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof l;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function f(e){return new l(e)}function l(e){this.wrapped=e}function d(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}function h(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}c.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},c.prototype.next=function(e){return this._invoke("next",e)},c.prototype.throw=function(e){return this._invoke("throw",e)},c.prototype.return=function(e){return this._invoke("return",e)};var p=n(12).CID,m=n(7),y=n(8),v=n(646);function g(e){switch(e.Type){case 1:case 5:return"dir";case 2:default:return"file"}}e.exports=m((function(e,t){function n(){return(n=s(regeneratorRuntime.mark((function n(r){var o,a,s,c,l,m,b,w,E,_,S,T,A,P=arguments;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=function(){return(c=u(regeneratorRuntime.mark((function e(n){var r,i,o,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n.Hash).includes("/")){e.next=9;break}return i=r.startsWith("/ipfs/")?r:"/ipfs/".concat(r),e.next=5,v(t)(i);case 5:o=e.sent,r=o.cid,e.next=10;break;case 9:r=p.parse(r);case 10:return u={name:n.Name,path:a+(n.Name?"/".concat(n.Name):""),size:n.Size,cid:r,type:g(n),depth:n.Depth||1},n.Mode&&(u.mode=parseInt(n.Mode,8)),void 0!==n.Mtime&&null!==n.Mtime&&(u.mtime={secs:n.Mtime},void 0!==n.MtimeNsecs&&null!==n.MtimeNsecs&&(u.mtime.nsecs=n.MtimeNsecs)),e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(e){return c.apply(this,arguments)},o=P.length>1&&void 0!==P[1]?P[1]:{},a="".concat(r instanceof Uint8Array?p.decode(r):r),n.next=6,f(e.post("ls",{timeout:o.timeout,signal:o.signal,searchParams:y(i({arg:a},o)),headers:o.headers}));case 6:l=n.sent,m=!0,b=!1,n.prev=9,E=h(l.ndjson());case 11:return n.next=13,f(E.next());case 13:return _=n.sent,m=_.done,n.next=17,f(_.value);case 17:if(S=n.sent,m){n.next=37;break}if(T=(T=S).Objects){n.next=23;break}throw new Error("expected .Objects in results");case 23:if(T=T[0]){n.next=26;break}throw new Error("expected one array in results.Objects");case 26:if(A=T.Links,Array.isArray(A)){n.next=29;break}throw new Error("expected one array in results.Objects[0].Links");case 29:if(A.length){n.next=33;break}return n.next=32,s(T);case 32:return n.abrupt("return");case 33:return n.delegateYield(d(h(A.map(s)),f),"t0",34);case 34:m=!0,n.next=11;break;case 37:n.next=43;break;case 39:n.prev=39,n.t1=n.catch(9),b=!0,w=n.t1;case 43:if(n.prev=43,n.prev=44,m||null==E.return){n.next=48;break}return n.next=48,f(E.return());case 48:if(n.prev=48,!b){n.next=51;break}throw w;case 51:return n.finish(48);case 52:return n.finish(43);case 53:case"end":return n.stop()}}),n,null,[[9,39,43,53],[44,,48,52]])})))).apply(this,arguments)}return function(e){return n.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(67),a=n(7),u=n(8);e.exports=a((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("dns",{timeout:n.timeout,signal:n.signal,searchParams:u(n),headers:n.headers});case 3:return r=t.sent,t.t0=o,t.next=7,r.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";e.exports=function(e){return{publish:n(1511)(e),resolve:n(1512)(e),pubsub:n(1513)(e)}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(67),c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,e.post("name/publish",{timeout:r.timeout,signal:r.signal,searchParams:f(i({arg:n},r)),headers:r.headers});case 3:return o=t.sent,t.t0=s,t.next=7,o.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return new c(e)}function u(e){return function(){return new s(e.apply(this,arguments))}}function s(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof c;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function c(e){this.wrapped=e}function f(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}s.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},s.prototype.next=function(e){return this._invoke("next",e)},s.prototype.throw=function(e){return this._invoke("throw",e)},s.prototype.return=function(e){return this._invoke("return",e)};var l=n(7),d=n(8);e.exports=l((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,u,s,c,l,h,p,m,y=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y.length>1&&void 0!==y[1]?y[1]:{},t.next=3,a(e.post("name/resolve",{timeout:r.timeout,signal:r.signal,searchParams:d(i({arg:n,stream:!0},r)),headers:r.headers}));case 3:o=t.sent,u=!0,s=!1,t.prev=6,l=f(o.ndjson());case 8:return t.next=10,a(l.next());case 10:return h=t.sent,u=h.done,t.next=14,a(h.value);case 14:if(p=t.sent,u){t.next=22;break}return m=p,t.next=19,m.Path;case 19:u=!0,t.next=8;break;case 22:t.next=28;break;case 24:t.prev=24,t.t0=t.catch(6),s=!0,c=t.t0;case 28:if(t.prev=28,t.prev=29,u||null==l.return){t.next=33;break}return t.next=33,a(l.return());case 33:if(t.prev=33,!s){t.next=36;break}throw c;case 36:return t.finish(33);case 37:return t.finish(28);case 38:case"end":return t.stop()}}),t,null,[[6,24,28,38],[29,,33,37]])})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";e.exports=function(e){return{cancel:n(1514)(e),state:n(1515)(e),subs:n(1516)(e)}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(67),c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,e.post("name/pubsub/cancel",{timeout:r.timeout,signal:r.signal,searchParams:f(i({arg:n},r)),headers:r.headers});case 3:return o=t.sent,t.t0=s,t.next=7,o.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(67),a=n(7),u=n(8);e.exports=a((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("name/pubsub/state",{timeout:n.timeout,signal:n.signal,searchParams:u(n),headers:n.headers});case 3:return r=t.sent,t.t0=o,t.next=7,r.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(7),a=n(8);e.exports=o((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},t.next=3,e.post("name/pubsub/subs",{timeout:n.timeout,signal:n.signal,searchParams:a(n),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,t.abrupt("return",i.Strings||[]);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";e.exports=function(e,t){return{data:n(1518)(t),get:n(1519)(t),links:n(1520)(t),new:n(1521)(t),patch:n(1522)(t),put:n(1527)(e,t),stat:n(1528)(t)}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(12).CID,c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},t.next=3,e.post("object/data",{timeout:r.timeout,signal:r.signal,searchParams:f(i({arg:"".concat(n instanceof Uint8Array?s.decode(n):n)},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.arrayBuffer();case 6:return a=t.sent,t.abrupt("return",new Uint8Array(a,0,a.byteLength));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(12).CID,c=n(7),f=n(8),l=n(44);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},t.next=3,e.post("object/get",{timeout:r.timeout,signal:r.signal,searchParams:f(i({arg:"".concat(n instanceof Uint8Array?s.decode(n):n),dataEncoding:"base64"},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,t.abrupt("return",{Data:l(a.Data,"base64pad"),Links:(a.Links||[]).map((function(e){return{Name:e.Name,Hash:s.parse(e.Hash),Tsize:e.Size}}))});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(12).CID,c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},t.next=3,e.post("object/links",{timeout:r.timeout,signal:r.signal,searchParams:f(i({arg:"".concat(n instanceof Uint8Array?s.decode(n):n)},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,t.abrupt("return",(a.Links||[]).map((function(e){return{Name:e.Name,Tsize:e.Size,Hash:s.parse(e.Hash)}})));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(12).CID,c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(){var n,r,o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>0&&void 0!==u[0]?u[0]:{},t.next=3,e.post("object/new",{timeout:n.timeout,signal:n.signal,searchParams:f(i({arg:n.template},n)),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return o=t.sent,a=o.Hash,t.abrupt("return",s.parse(a));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";e.exports=function(e){return{addLink:n(1523)(e),appendData:n(1524)(e),rmLink:n(1525)(e),setData:n(1526)(e)}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(12).CID,c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n,r){var o,a,u,c,l=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=l.length>2&&void 0!==l[2]?l[2]:{},t.next=3,e.post("object/patch/add-link",{timeout:o.timeout,signal:o.signal,searchParams:f(i({arg:["".concat(n),r.Name||r.name||"",(r.Hash||r.cid||"").toString()||null]},o)),headers:o.headers});case 3:return a=t.sent,t.next=6,a.json();case 6:return u=t.sent,c=u.Hash,t.abrupt("return",s.parse(c));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(12).CID,c=n(120),f=n(7),l=n(8),d=n(121),h=n(83).AbortController;e.exports=f((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n,r){var o,a,u,f,p,m,y=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=y.length>2&&void 0!==y[2]?y[2]:{},a=new h,u=d(a.signal,o.signal),t.t0=e,t.t1=i,t.t2={timeout:o.timeout,signal:u,searchParams:l(i({arg:"".concat(n)},o))},t.next=8,c(r,a,o.headers);case 8:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=12,t.t0.post.call(t.t0,"object/patch/append-data",t.t4);case 12:return f=t.sent,t.next=15,f.json();case 15:return p=t.sent,m=p.Hash,t.abrupt("return",s.parse(m));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(12).CID,c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n,r){var o,a,u,c,l=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=l.length>2&&void 0!==l[2]?l[2]:{},t.next=3,e.post("object/patch/rm-link",{timeout:o.timeout,signal:o.signal,searchParams:f(i({arg:["".concat(n),r.Name||r.name||null]},o)),headers:o.headers});case 3:return a=t.sent,t.next=6,a.json();case 6:return u=t.sent,c=u.Hash,t.abrupt("return",s.parse(c));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(12).CID,c=n(120),f=n(7),l=n(8),d=n(121),h=n(83).AbortController;e.exports=f((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n,r){var o,a,u,f,p,m,y=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=y.length>2&&void 0!==y[2]?y[2]:{},a=new h,u=d(a.signal,o.signal),t.t0=e,t.t1=i,t.t2={timeout:o.timeout,signal:u,searchParams:l(i({arg:["".concat(n)]},o))},t.next=8,c(r,a,o.headers);case 8:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=12,t.t0.post.call(t.t0,"object/patch/set-data",t.t4);case 12:return f=t.sent,t.next=15,f.json();case 15:return p=t.sent,m=p.Hash,t.abrupt("return",s.parse(m));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7);e.exports=function(e,t){return s((function(r){var o=n(644)(e,t);function a(){return(a=u(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",o(t,i(i({},n),{},{format:"dag-pb",hashAlg:"sha2-256",version:0})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(e){return a.apply(this,arguments)}}))(t)}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(12).CID,c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},t.next=3,e.post("object/stat",{timeout:r.timeout,signal:r.signal,searchParams:f(i({arg:"".concat(n)},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,t.abrupt("return",i(i({},a),{},{Hash:s.parse(a.Hash)}));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";var r=n(1530);e.exports=function(e){return{add:n(1532)(e),addAll:n(648)(e),ls:n(1533)(e),rm:n(1534)(e),rmAll:n(649)(e),remote:new r(e)}}},function(e,t,n){"use strict";var r=["timeout","signal","headers"],i=["timeout","signal","headers"],o=["timeout","signal","headers"],a=["timeout","signal","headers"];function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function p(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,u,"next",e)}function u(e){p(o,r,i,a,u,"throw",e)}a(void 0)}))}}function y(e){return new g(e)}function v(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof g;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function g(e){this.wrapped=e}function b(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}v.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},v.prototype.next=function(e){return this._invoke("next",e)},v.prototype.throw=function(e){return this._invoke("throw",e)},v.prototype.return=function(e){return this._invoke("return",e)};var w=n(12).CID,E=n(399),_=n(1531),S=n(8),T=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client=new E(t),this.service=new _(t)};T.prototype.add=function(){var e=m(regeneratorRuntime.mark((function e(t,n){var i,o,a,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.timeout,o=n.signal,a=n.headers,u=h(n,r),e.next=3,this.client.post("pin/remote/add",{timeout:i,signal:o,headers:a,searchParams:C(l({cid:t},u))});case 3:return s=e.sent,e.t0=A,e.next=7,s.json();case 7:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),T.prototype.ls=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,o,a,u,s,c,f,l,d,p,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.timeout,r=t.signal,o=t.headers,a=h(t,i),e.next=3,y(this.client.post("pin/remote/ls",{timeout:n,signal:r,headers:o,searchParams:x(a)}));case 3:u=e.sent,s=!0,c=!1,e.prev=6,l=b(u.ndjson());case 8:return e.next=10,y(l.next());case 10:return d=e.sent,s=d.done,e.next=14,y(d.value);case 14:if(p=e.sent,s){e.next=22;break}return m=p,e.next=19,A(m);case 19:s=!0,e.next=8;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(6),c=!0,f=e.t0;case 28:if(e.prev=28,e.prev=29,s||null==l.return){e.next=33;break}return e.next=33,y(l.return());case 33:if(e.prev=33,!c){e.next=36;break}throw f;case 36:return e.finish(33);case 37:return e.finish(28);case 38:case"end":return e.stop()}}),e,this,[[6,24,28,38],[29,,33,37]])})),function(){return new v(e.apply(this,arguments))});return function(e){return t.apply(this,arguments)}}(),T.prototype.rm=function(){var e=m(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.timeout,r=t.signal,i=t.headers,a=h(t,o),e.next=3,this.client.post("pin/remote/rm",{timeout:n,signal:r,headers:i,searchParams:x(l(l({},a),{},{all:!1}))});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),T.prototype.rmAll=function(){var e=m(regeneratorRuntime.mark((function e(t){var n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.timeout,r=t.signal,i=t.headers,o=h(t,a),e.next=3,this.client.post("pin/remote/rm",{timeout:n,signal:r,headers:i,searchParams:x(l(l({},o),{},{all:!0}))});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();var A=function(e){var t=e.Name,n=e.Status,r=e.Cid;return{cid:w.parse(r),name:t,status:n}},P=function(e){if("string"==typeof e&&""!==e)return e;throw new TypeError("service name must be passed")},k=function(e){if(e instanceof w)return e.toString();throw new TypeError("CID instance expected instead of ".concat(c(e)))},x=function(e){var t=e.service,n=e.cid,r=e.name,i=e.status,o=e.all,a=S({service:P(t),name:r,force:!!o||void 0});if(n){var s,c=u(n);try{for(c.s();!(s=c.n()).done;){var f=s.value;a.append("cid",k(f))}}catch(e){c.e(e)}finally{c.f()}}if(i){var l,d=u(i);try{for(d.s();!(l=d.n()).done;){var h=l.value;a.append("status",h)}}catch(e){d.e(e)}finally{d.f()}}return a},C=function(e){var t=e.cid,n=e.service,r=e.background,i=e.name,o=e.origins,a=S({arg:k(t),service:P(n),name:i,background:!!r||void 0});if(o){var s,c=u(o);try{for(c.s();!(s=c.n()).done;){var f=s.value;a.append("origin",f.toString())}}catch(e){c.e(e)}finally{c.f()}}return a};e.exports=T},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=n(399),c=n(8),f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client=new s(t)}var t,n,r;return t=e,r=[{key:"encodeEndpoint",value:function(e){var t=String(e);if("undefined"===t)throw Error("endpoint is required");return"/"===t[t.length-1]?t.slice(0,-1):t}},{key:"decodeRemoteService",value:function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({service:t.Service,endpoint:new URL(t.ApiEndpoint)},t.Stat&&{stat:e.decodeStat(t.Stat)})}},{key:"decodeStat",value:function(e){switch(e.Status){case"valid":var t=e.PinCount,n=t.Pinning,r=t.Pinned;return{status:"valid",pinCount:{queued:t.Queued,pinning:n,pinned:r,failed:t.Failed}};case"invalid":return{status:"invalid"};default:return{status:e.Status}}}}],(n=null)&&u(t.prototype,n),r&&u(t,r),e}();f.prototype.add=function(){var e=i(regeneratorRuntime.mark((function e(t,n){var r,i,o,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.endpoint,i=n.key,o=n.headers,a=n.timeout,u=n.signal,e.next=3,this.client.post("pin/remote/service/add",{timeout:a,signal:u,searchParams:c({arg:[t,f.encodeEndpoint(r),i]}),headers:o});case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),f.prototype.rm=function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,this.client.post("pin/remote/service/rm",{timeout:n.timeout,signal:n.signal,headers:n.headers,searchParams:c({arg:t})});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),f.prototype.ls=function(){var e=i(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,u,s,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},n=t.stat,r=t.headers,i=t.timeout,o=t.signal,e.next=4,this.client.post("pin/remote/service/ls",{timeout:i,signal:o,headers:r,searchParams:!0===n?c({stat:n}):void 0});case 4:return a=e.sent,e.next=7,a.json();case 7:return u=e.sent,s=u.RemoteServices,e.abrupt("return",s.map(f.decodeRemoteService));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),e.exports=f},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(648),c=n(97),f=n(7);e.exports=function(e){var t=s(e);return f((function(){function e(){return(e=u(regeneratorRuntime.mark((function e(n){var r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.abrupt("return",c(t([i({path:n},r)],r)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(t){return e.apply(this,arguments)}}))(e)}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return new c(e)}function u(e){return function(){return new s(e.apply(this,arguments))}}function s(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof c;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function c(e){this.wrapped=e}function f(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}s.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},s.prototype.next=function(e){return this._invoke("next",e)},s.prototype.throw=function(e){return this._invoke("throw",e)},s.prototype.return=function(e){return this._invoke("return",e)};var l=n(12).CID,d=n(7),h=n(8);function p(e,t,n){var r={type:e,cid:l.parse(t)};return n&&(r.metadata=n),r}e.exports=d((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(){var n,r,o,u,s,c,l,d,m,y,v,g,b,w=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=w.length>0&&void 0!==w[0]?w[0]:{},r=[],n.paths&&(r=Array.isArray(n.paths)?n.paths:[n.paths]),t.next=5,a(e.post("pin/ls",{timeout:n.timeout,signal:n.signal,searchParams:h(i(i({},n),{},{arg:r.map((function(e){return"".concat(e)})),stream:!0})),headers:n.headers}));case 5:o=t.sent,u=!0,s=!1,t.prev=8,l=f(o.ndjson());case 10:return t.next=12,a(l.next());case 12:return d=t.sent,u=d.done,t.next=16,a(d.value);case 16:if(m=t.sent,u){t.next=34;break}if(!(y=m).Keys){t.next=29;break}v=0,g=Object.keys(y.Keys);case 21:if(!(v<g.length)){t.next=28;break}return b=g[v],t.next=25,p(y.Keys[b].Type,b,y.Keys[b].Metadata);case 25:v++,t.next=21;break;case 28:return t.abrupt("return");case 29:return t.next=31,p(y.Type,y.Cid,y.Metadata);case 31:u=!0,t.next=10;break;case 34:t.next=40;break;case 36:t.prev=36,t.t0=t.catch(8),s=!0,c=t.t0;case 40:if(t.prev=40,t.prev=41,u||null==l.return){t.next=45;break}return t.next=45,a(l.return());case 45:if(t.prev=45,!s){t.next=48;break}throw c;case 48:return t.finish(45);case 49:return t.finish(40);case 50:case"end":return t.stop()}}),t,null,[[8,36,40,50],[41,,45,49]])})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(649),c=n(97),f=n(7);e.exports=function(e){var t=s(e);return f((function(){function e(){return(e=u(regeneratorRuntime.mark((function e(n){var r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.abrupt("return",c(t([i({path:n},r)],r)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(t){return e.apply(this,arguments)}}))(e)}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return function(){return new u(e.apply(this,arguments))}}function u(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof c;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function s(e){return new c(e)}function c(e){this.wrapped=e}function f(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function l(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}u.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},u.prototype.next=function(e){return this._invoke("next",e)},u.prototype.throw=function(e){return this._invoke("throw",e)},u.prototype.return=function(e){return this._invoke("return",e)};var d=n(67),h=n(7),p=n(8);e.exports=h((function(e){function t(){return(t=a(regeneratorRuntime.mark((function t(n){var r,o,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,s(e.post("ping",{timeout:r.timeout,signal:r.signal,searchParams:p(i({arg:"".concat(n)},r)),headers:r.headers,transform:d}));case 3:return o=t.sent,t.delegateYield(l(f(o.ndjson()),s),"t0",5);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";var r=n(1537);e.exports=function(e){var t=new r;return{ls:n(1538)(e),peers:n(1539)(e),publish:n(1540)(e),subscribe:n(1541)(e,t),unsubscribe:n(1542)(e,t)}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(83).AbortController,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._subs=new Map}var t,n,o;return t=e,(n=[{key:"subscribe",value:function(e,t,n){var r=this,o=this._subs.get(e)||[];if(o.find((function(e){return e.handler===t})))throw new Error("Already subscribed to ".concat(e," with this handler"));var a=new i;return this._subs.set(e,[{handler:t,controller:a}].concat(o)),n&&n.addEventListener("abort",(function(){return r.unsubscribe(e,t)})),a.signal}},{key:"unsubscribe",value:function(e,t){var n,r=this._subs.get(e)||[];t?(this._subs.set(e,r.filter((function(e){return e.handler!==t}))),n=r.filter((function(e){return e.handler===t}))):(this._subs.set(e,[]),n=r),(this._subs.get(e)||[]).length||this._subs.delete(e),n.forEach((function(e){return e.controller.abort()}))}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=o},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(7),a=n(8);e.exports=o((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},t.next=3,e.post("pubsub/ls",{timeout:n.timeout,signal:n.signal,searchParams:a(n),headers:n.headers});case 3:return t.next=5,t.sent.json();case 5:return r=t.sent,i=r.Strings,t.abrupt("return",i||[]);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8);e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,e.post("pubsub/peers",{timeout:r.timeout,signal:r.signal,searchParams:c(i({arg:n},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,u=a.Strings,t.abrupt("return",u||[]);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8),f=n(120),l=n(121),d=n(83).AbortController;e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n,r){var o,a,u,s,h,p=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=p.length>2&&void 0!==p[2]?p[2]:{},a=c(i({arg:n},o)),u=new d,s=l(u.signal,o.signal),t.t0=e,t.t1=i,t.t2={timeout:o.timeout,signal:s,searchParams:a},t.next=9,f(r,u,o.headers);case 9:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=13,t.t0.post.call(t.t0,"pubsub/pub",t.t4);case 13:return h=t.sent,t.next=16,h.text();case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}function s(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}var c=n(44),f=n(45),l=n(6)("ipfs-http-client:pubsub:subscribe"),d=n(7),h=n(8);function p(e,t){var n,r,i,o,a,u,d,h=t.onMessage,p=t.onEnd,y=t.onError;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:y=y||l,t.prev=1,n=!0,r=!1,t.prev=4,o=s(e.ndjson());case 6:return t.next=8,regeneratorRuntime.awrap(o.next());case 8:return a=t.sent,n=a.done,t.next=12,regeneratorRuntime.awrap(a.value);case 12:if(u=t.sent,n){t.next=28;break}if(d=u,t.prev=15,d.from){t.next=18;break}return t.abrupt("continue",25);case 18:h({from:f(c(d.from,"base64pad"),"base58btc"),data:c(d.data,"base64pad"),seqno:c(d.seqno,"base64pad"),topicIDs:d.topicIDs}),t.next=25;break;case 21:t.prev=21,t.t0=t.catch(15),t.t0.message="Failed to parse pubsub message: ".concat(t.t0.message),y(t.t0,!1,d);case 25:n=!0,t.next=6;break;case 28:t.next=34;break;case 30:t.prev=30,t.t1=t.catch(4),r=!0,i=t.t1;case 34:if(t.prev=34,t.prev=35,n||null==o.return){t.next=39;break}return t.next=39,regeneratorRuntime.awrap(o.return());case 39:if(t.prev=39,!r){t.next=42;break}throw i;case 42:return t.finish(39);case 43:return t.finish(34);case 44:t.next=49;break;case 46:t.prev=46,t.t2=t.catch(1),m(t.t2)||y(t.t2,!0);case 49:return t.prev=49,p(),t.finish(49);case 52:case"end":return t.stop()}}),null,null,[[1,46,49,52],[4,30,34,44],[15,21],[35,,39,43]],Promise)}e.exports=function(e,t){return d((function(e){function n(){return(n=u(regeneratorRuntime.mark((function n(r,o){var a,u,s,c,f,l=arguments;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(a=l.length>2&&void 0!==l[2]?l[2]:{}).signal=t.subscribe(r,o,a.signal),c=new Promise((function(e,t){u=e,s=t})),f=setTimeout((function(){return u()}),1e3),setTimeout((function(){e.post("pubsub/sub",{timeout:a.timeout,signal:a.signal,searchParams:h(i({arg:r},a)),headers:a.headers}).catch((function(e){t.unsubscribe(r,o),s(e)})).then((function(e){clearTimeout(f),e&&(p(e,{onMessage:o,onEnd:function(){return t.unsubscribe(r,o)},onError:a.onError}),u())}))}),0),n.abrupt("return",c);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(e,t){return n.apply(this,arguments)}}))(e)};var m=function(e){switch(e.type){case"aborted":case"abort":return!0;default:return"AbortError"===e.name}}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}e.exports=function(e,t){function n(){return(n=i(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.unsubscribe(n,r);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(e,t){return n.apply(this,arguments)}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t,n;function r(t,n){try{var o=e[t](n),a=o.value,u=a instanceof s;Promise.resolve(u?a.wrapped:a).then((function(e){u?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function u(e){return new s(e)}function s(e){this.wrapped=e}function c(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function f(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}a.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},a.prototype.next=function(e){return this._invoke("next",e)},a.prototype.throw=function(e){return this._invoke("throw",e)},a.prototype.return=function(e){return this._invoke("return",e)};var l=n(12).CID,d=n(67),h=n(7),p=n(8);e.exports=h((function(e,t){var r=function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var r,o,a,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},o=Array.isArray(n)?n:[n],t.next=4,u(e.post("refs",{timeout:r.timeout,signal:r.signal,searchParams:p(i({arg:o.map((function(e){return"".concat(e instanceof Uint8Array?l.decode(e):e)}))},r)),headers:r.headers,transform:d}));case 4:return a=t.sent,t.delegateYield(f(c(a.ndjson()),u),"t0",6);case 6:case"end":return t.stop()}}),t)})),function(){return new a(t.apply(this,arguments))});return function(e){return n.apply(this,arguments)}}();return Object.assign(r,{local:n(1544)(t)})}))},function(e,t,n){"use strict";function r(e){return function(){return new i(e.apply(this,arguments))}}function i(e){var t,n;function r(t,n){try{var o=e[t](n),u=o.value,s=u instanceof a;Promise.resolve(s?u.wrapped:u).then((function(e){s?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function o(e){return new a(e)}function a(e){this.wrapped=e}function u(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function s(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}i.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};var c=n(67),f=n(7),l=n(8);e.exports=f((function(e){function t(){return(t=r(regeneratorRuntime.mark((function t(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,o(e.post("refs/local",{timeout:n.timeout,signal:n.signal,transform:c,searchParams:l(n),headers:n.headers}));case 3:return r=t.sent,t.delegateYield(s(u(r.ndjson()),o),"t0",5);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";e.exports=function(e){return{gc:n(1546)(e),stat:n(650)(e),version:n(1547)(e)}}},function(e,t,n){"use strict";function r(e){return function(){return new i(e.apply(this,arguments))}}function i(e){var t,n;function r(t,n){try{var o=e[t](n),u=o.value,s=u instanceof a;Promise.resolve(s?u.wrapped:u).then((function(e){s?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function o(e){return new a(e)}function a(e){this.wrapped=e}function u(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function s(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}i.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};var c=n(12).CID,f=n(7),l=n(8);e.exports=f((function(e){function t(){return(t=r(regeneratorRuntime.mark((function t(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,o(e.post("repo/gc",{timeout:n.timeout,signal:n.signal,searchParams:l(n),headers:n.headers,transform:function(e){return{err:e.Error?new Error(e.Error):null,cid:(e.Key||{})["/"]?c.parse(e.Key["/"]):null}}}));case 3:return r=t.sent,t.delegateYield(s(u(r.ndjson()),o),"t0",5);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(7),a=n(8);e.exports=o((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("repo/version",{timeout:n.timeout,signal:n.signal,searchParams:a(n),headers:n.headers});case 3:return t.next=5,t.sent.json();case 5:return r=t.sent,t.abrupt("return",r.Version);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8);e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,e.post("resolve",{timeout:r.timeout,signal:r.signal,searchParams:c(i({arg:n},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,u=a.Path,t.abrupt("return",u);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}var i=n(7);e.exports=i((function(e){return function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw t.length>0&&void 0!==t[0]&&t[0],new Error("Not implemented");case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))});return function(){return t.apply(this,arguments)}}()}))},function(e,t,n){"use strict";e.exports=function(e){return{bitswap:n(642)(e),bw:n(1551)(e),repo:n(650)(e)}}},function(e,t,n){"use strict";function r(e){return function(){return new i(e.apply(this,arguments))}}function i(e){var t,n;function r(t,n){try{var o=e[t](n),u=o.value,s=u instanceof a;Promise.resolve(s?u.wrapped:u).then((function(e){s?r("return"===t?"return":"next",e):i(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){i("throw",e)}}function i(e,i){switch(e){case"return":t.resolve({value:i,done:!0});break;case"throw":t.reject(i);break;default:t.resolve({value:i,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,i){return new Promise((function(o,a){var u={key:e,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(t=n=u,r(e,i))}))},"function"!=typeof e.return&&(this.return=void 0)}function o(e){return new a(e)}function a(e){this.wrapped=e}function u(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function s(e,t){var n={},r=!1;function i(n,i){return r=!0,i=new Promise((function(t){t(e[n](i))})),{done:!1,value:t(i)}}return n["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},n.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(n.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(n.return=function(e){return r?(r=!1,e):i("return",e)}),n}i.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)};var c=n(7),f=n(8);e.exports=c((function(e){function t(){return(t=r(regeneratorRuntime.mark((function t(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,o(e.post("stats/bw",{timeout:n.timeout,signal:n.signal,searchParams:f(n),headers:n.headers,transform:function(e){return{totalIn:BigInt(e.TotalIn),totalOut:BigInt(e.TotalOut),rateIn:BigInt(e.RateIn),rateOut:BigInt(e.RateOut)}}}));case 3:return r=t.sent,t.delegateYield(s(u(r.ndjson()),o),"t0",5);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(7),a=n(8);e.exports=o((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("shutdown",{timeout:n.timeout,signal:n.signal,searchParams:a(n),headers:n.headers});case 3:return r=t.sent,t.next=6,r.text();case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";e.exports=function(e){return{addrs:n(1554)(e),connect:n(1555)(e),disconnect:n(1556)(e),localAddrs:n(1557)(e),peers:n(1558)(e)}}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(30).Multiaddr,a=n(7),u=n(8);e.exports=a((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i,a,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},t.next=3,e.post("swarm/addrs",{timeout:n.timeout,signal:n.signal,searchParams:u(n),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,a=i.Addrs,t.abrupt("return",Object.keys(a).map((function(e){return{id:e,addrs:(a[e]||[]).map((function(e){return new o(e)}))}})));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8);e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,e.post("swarm/connect",{timeout:r.timeout,signal:r.signal,searchParams:c(i({arg:n},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,u=a.Strings,t.abrupt("return",u||[]);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,s,"next",e)}function s(e){a(o,r,i,u,s,"throw",e)}u(void 0)}))}}var s=n(7),c=n(8);e.exports=s((function(e){function t(){return(t=u(regeneratorRuntime.mark((function t(n){var r,o,a,u,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,e.post("swarm/disconnect",{timeout:r.timeout,signal:r.signal,searchParams:c(i({arg:n},r)),headers:r.headers});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,u=a.Strings,t.abrupt("return",u||[]);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(30).Multiaddr,a=n(7),u=n(8);e.exports=a((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i,a,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},t.next=3,e.post("swarm/addrs/local",{timeout:n.timeout,signal:n.signal,searchParams:u(n),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,a=i.Strings,t.abrupt("return",(a||[]).map((function(e){return new o(e)})));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(30).Multiaddr,a=n(7),u=n(8);e.exports=a((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i,a,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},t.next=3,e.post("swarm/peers",{timeout:n.timeout,signal:n.signal,searchParams:u(n),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,a=i.Peers,t.abrupt("return",(a||[]).map((function(e){return{addr:new o(e.Addr),peer:e.Peer,muxer:e.Muxer,latency:e.Latency,streams:e.Streams,direction:null==e.Direction?void 0:0===e.Direction?"inbound":"outbound"}})));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function u(e){r(a,i,o,u,s,"next",e)}function s(e){r(a,i,o,u,s,"throw",e)}u(void 0)}))}}var o=n(67),a=n(7),u=n(8);e.exports=a((function(e){function t(){return(t=i(regeneratorRuntime.mark((function t(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("version",{timeout:n.timeout,signal:n.signal,searchParams:u(n),headers:n.headers});case 3:return r=t.sent,t.t0=o,t.next=7,r.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){return t.apply(this,arguments)}}))},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p"),{error:r("libp2p:err")}),{EventEmitter:o}=n(33),a=n(4),u=n(31),{Multiaddr:s}=n(30),c=n(1561),f=n(1562),l=n(653),{validate:d}=n(1563),{codes:h,messages:p}=n(71),m=n(1581),y=n(1582),v=n(1586),g=n(1589),b=n(1591),w=n(1599),E=n(1611),_=n(658),S=n(1615),T=n(670),A=n(1628),P=n(1629),k=n(1633),x=n(1634),C=n(1636),R=C.multicodecs,I=n(1638),{updateSelfPeerRecord:O}=n(659);class M extends o{static async create(e){if(e.peerId)return new M(e);const t=await u.create();return e.peerId=t,new M(e)}constructor(e){if(super(),this._options=d(e),this.peerId=this._options.peerId,this.datastore=this._options.datastore,this.peerStore=this.datastore&&this._options.peerStore.persistence?new P({peerId:this.peerId,datastore:this.datastore,...this._options.peerStore}):new T({peerId:this.peerId}),this.addresses=this._options.addresses,this.addressManager=new m(this.peerId,this._options.addresses),this.addressManager.on("change:addresses",()=>{O(this).catch(e=>{i.error("Error updating self peer record",e)})}),this._modules=this._options.modules,this._config=this._options.config,this._transport=[],this._discovery=new Map,this.connectionManager=new y(this,{autoDial:this._config.peerDiscovery.autoDial,...this._options.connectionManager}),this._options.metrics.enabled&&(this.metrics=new E({...this._options.metrics,connectionManager:this.connectionManager})),this._options.keychain&&this._options.keychain.datastore){i("creating keychain");const e=w.generateOptions();this.keychain=new w(this._options.keychain.datastore,{...e,...this._options.keychain}),i("keychain constructed")}if(this.upgrader=new S({localPeer:this.peerId,metrics:this.metrics,onConnection:e=>this.connectionManager.onConnect(e),onConnectionEnd:e=>this.connectionManager.onDisconnect(e)}),this.transportManager=new _({libp2p:this,upgrader:this.upgrader,faultTolerance:this._options.transportManager.faultTolerance}),this.natManager=new I({peerId:this.peerId,addressManager:this.addressManager,transportManager:this.transportManager,...this._options.config.nat}),this.registrar=new k({peerStore:this.peerStore,connectionManager:this.connectionManager}),this.handle=this.handle.bind(this),this.registrar.handle=this.handle,!this._modules.connEncryption||!this._modules.connEncryption.length)throw a(new Error(p.CONN_ENCRYPTION_REQUIRED),h.CONN_ENCRYPTION_REQUIRED);if(this._modules.connEncryption.forEach(e=>{this.upgrader.cryptos.set(e.protocol,e)}),this.dialer=new b({transportManager:this.transportManager,peerStore:this.peerStore,...this._options.dialer}),this._modules.transport.forEach(e=>{const t=e.prototype[Symbol.toStringTag],n=this._config.transport[t];this.transportManager.add(t,e,n)}),this._config.relay.enabled&&(this.transportManager.add(v.prototype[Symbol.toStringTag],v),this.relay=new g(this)),this._modules.streamMuxer){this._modules.streamMuxer.forEach(e=>{this.upgrader.muxers.set(e.multicodec,e)}),this.identifyService=new C({libp2p:this}),this.handle(Object.values(R),this.identifyService.handleMessage)}if(this._modules.connProtector)this.upgrader.protector=this._modules.connProtector;else if(void 0!==globalThis.process&&globalThis.process.env&&globalThis.process.env.LIBP2P_FORCE_PNET)throw new Error("Private network is enforced, but no protector was provided");if(this._modules.dht){const e=this._modules.dht;this._dht=new e({libp2p:this,dialer:this.dialer,peerId:this.peerId,peerStore:this.peerStore,registrar:this.registrar,datastore:this.datastore,...this._config.dht})}if(this._modules.pubsub){const e=this._modules.pubsub;this.pubsub=A(e,this,this._config.pubsub)}this.peerRouting=new c(this),this.contentRouting=new f(this),x.mount(this),this._onDiscoveryPeer=this._onDiscoveryPeer.bind(this)}emit(e,...t){return"error"!==e||this._events.error?super.emit(e,...t):(i.error(t),!1)}async start(){i("libp2p is starting");try{await this._onStarting(),await this._onDidStart(),i("libp2p has started")}catch(e){throw this.emit("error",e),i.error("An error occurred starting libp2p",e),await this.stop(),e}}async stop(){i("libp2p is stopping");try{this._isStarted=!1,this.relay&&this.relay.stop(),this.peerRouting.stop();for(const e of this._discovery.values())e.removeListener("peer",this._onDiscoveryPeer);await Promise.all(Array.from(this._discovery.values(),e=>e.stop())),this._discovery=new Map,await this.peerStore.stop(),await this.connectionManager.stop(),await Promise.all([this.pubsub&&this.pubsub.stop(),this._dht&&this._dht.stop(),this.metrics&&this.metrics.stop()]),await this.natManager.stop(),await this.transportManager.close(),x.unmount(this),this.dialer.destroy()}catch(e){e&&(i.error(e),this.emit("error",e))}i("libp2p has stopped")}async loadKeychain(){if(this.keychain)try{await this.keychain.findKeyByName("self")}catch(e){await this.keychain.importPeer("self",this.peerId)}}isStarted(){return this._isStarted}get connections(){return this.connectionManager.connections}dial(e,t){return this._dial(e,t)}async dialProtocol(e,t,n){if(!t||!t.length)throw a(new Error("no protocols were provided to open a stream"),h.ERR_INVALID_PROTOCOLS_FOR_STREAM);return(await this._dial(e,n)).newStream(t)}async _dial(e,t){const{id:n,multiaddrs:r}=l(e);if(n.equals(this.peerId))throw a(new Error("Cannot dial self"),h.ERR_DIALED_SELF);let i=this.connectionManager.get(n);return i?r&&this.peerStore.addressBook.add(n,r):i=await this.dialer.connectToPeer(e,t),i}get multiaddrs(){let e=this.addressManager.getAnnounceAddrs().map(e=>e.toString());e.length||(e=this.transportManager.getAddrs().map(e=>e.toString())),e=e.concat(this.addressManager.getObservedAddrs().map(e=>e.toString()));const t=this._options.addresses.announceFilter,n=new Set(e);return t(Array.from(n).map(e=>new s(e)))}async hangUp(e){const{id:t}=l(e),n=this.connectionManager.connections.get(t.toB58String());n&&await Promise.all(n.map(e=>e.close()))}ping(e){const{id:t,multiaddrs:n}=l(e);return x(this,n?n[0]:t)}handle(e,t){(e=Array.isArray(e)?e:[e]).forEach(e=>{this.upgrader.protocols.set(e,t)}),this.peerStore.protoBook.add(this.peerId,e)}unhandle(e){(e=Array.isArray(e)?e:[e]).forEach(e=>{this.upgrader.protocols.delete(e)}),this.peerStore.protoBook.remove(this.peerId,e)}async _onStarting(){const e=this.addressManager.getListenAddrs();await this.transportManager.listen(e),this.natManager.start(),await this.peerStore.start(),this._config.pubsub.enabled&&this.pubsub&&this.pubsub.start(),this._config.dht.enabled&&(this._dht&&this._dht.start(),this._dht.on("peer",this._onDiscoveryPeer)),this.metrics&&this.metrics.start()}async _onDidStart(){this._isStarted=!0,this.peerStore.on("peer",e=>{this.emit("peer:discovery",e),this._maybeConnect(e)});for(const e of this.peerStore.peers.values())this.emit("peer:discovery",e.id);this.connectionManager.start(),await this._setupPeerDiscovery(),this.relay&&this.relay.start(),this.peerRouting.start()}_onDiscoveryPeer(e){e.id.toB58String()!==this.peerId.toB58String()?(e.multiaddrs&&this.peerStore.addressBook.add(e.id,e.multiaddrs),e.protocols&&this.peerStore.protoBook.set(e.id,e.protocols)):i.error(new Error(h.ERR_DISCOVERED_SELF))}async _maybeConnect(e){if(!0===this._config.peerDiscovery.autoDial&&!this.connectionManager.get(e)){if((this._options.connectionManager.minConnections||0)>this.connectionManager.size){i("connecting to discovered peer %s",e.toB58String());try{await this.dialer.connectToPeer(e)}catch(t){i.error(`could not connect to discovered peer ${e.toB58String()} with ${t}`)}}}}async _setupPeerDiscovery(){const e=e=>{let t={enabled:!0};if(e.tag&&this._config.peerDiscovery&&this._config.peerDiscovery[e.tag]&&(t={...t,...this._config.peerDiscovery[e.tag]}),t.enabled&&!this._discovery.has(e.tag)){let n;n="function"==typeof e?new e(Object.assign({},t,{peerId:this.peerId,libp2p:this})):e,n.on("peer",this._onDiscoveryPeer),this._discovery.set(e.tag,n)}};for(const t of this._modules.peerDiscovery||[])e(t);for(const t of this.transportManager.getTransports())t.discovery&&e(t.discovery);await Promise.all(Array.from(this._discovery.values(),e=>e.start()))}}e.exports=M},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:peer-routing"),{error:r("libp2p:peer-routing:err")}),o=n(4),{storeAddresses:a,uniquePeers:u,requirePeers:s}=n(651),c=n(234),{pipe:f}=n(66),l=n(198),d=n(135),h=n(154),{setDelayedInterval:p,clearDelayedInterval:m}=n(652);e.exports=class{constructor(e){this._peerId=e.peerId,this._peerStore=e.peerStore,this._routers=e._modules.peerRouting||[],e._dht&&e._config.dht.enabled&&this._routers.push(e._dht),this._refreshManagerOptions=e._options.peerRouting.refreshManager,this._findClosestPeersTask=this._findClosestPeersTask.bind(this)}start(){this._routers.length&&!this._timeoutId&&this._refreshManagerOptions.enabled&&(this._timeoutId=p(this._findClosestPeersTask,this._refreshManagerOptions.interval,this._refreshManagerOptions.bootDelay))}async _findClosestPeersTask(){try{await d(this.getClosestPeers(this._peerId.id))}catch(e){i.error(e)}}stop(){m(this._timeoutId)}async findPeer(e,t){if(!this._routers.length)throw o(new Error("No peer routers available"),"NO_ROUTERS_AVAILABLE");if(e.toB58String()===this._peerId.toB58String())throw o(new Error("Should not try to find self"),"ERR_FIND_SELF");const n=await f(c(...this._routers.map(n=>[n.findPeer(e,t)])),e=>h(e,Boolean),e=>a(e,this._peerStore),e=>l(e));if(n)return n;throw o(new Error("not found"),"NOT_FOUND")}async*getClosestPeers(e,t={timeout:3e4}){if(!this._routers.length)throw o(new Error("No peer routers available"),"NO_ROUTERS_AVAILABLE");yield*f(c(...this._routers.map(n=>n.getClosestPeers(e,t))),e=>a(e,this._peerStore),e=>u(e),e=>s(e))}}},function(e,t,n){"use strict";const r=n(4),{messages:i,codes:o}=n(71),{storeAddresses:a,uniquePeers:u,requirePeers:s,maybeLimitSource:c}=n(651),f=n(234),{pipe:l}=n(66);e.exports=class{constructor(e){this.libp2p=e,this.routers=e._modules.contentRouting||[],this.dht=e._dht,this.dht&&e._config.dht.enabled&&this.routers.push(this.dht)}async*findProviders(e,t={}){if(!this.routers.length)throw r(new Error("No content this.routers available"),"NO_ROUTERS_AVAILABLE");yield*l(f(...this.routers.map(n=>n.findProviders(e,t))),e=>a(e,this.libp2p.peerStore),e=>u(e),e=>c(e,t.maxNumProviders),e=>s(e))}async provide(e){if(!this.routers.length)throw r(new Error("No content routers available"),"NO_ROUTERS_AVAILABLE");await Promise.all(this.routers.map(t=>t.provide(e)))}put(e,t,n){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw r(new Error(i.NOT_STARTED_YET),o.DHT_NOT_STARTED);return this.dht.put(e,t,n)}get(e,t){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw r(new Error(i.NOT_STARTED_YET),o.DHT_NOT_STARTED);return this.dht.get(e,t)}async getMany(e,t,n){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw r(new Error(i.NOT_STARTED_YET),o.DHT_NOT_STARTED);return this.dht.getMany(e,t,n)}}},function(e,t,n){"use strict";const r=n(57),{dnsaddrResolver:i}=n(1564),o=n(403),{AGENT_VERSION:a}=n(654),u=n(404),{publicAddressesFirst:s}=n(656),{FaultTolerance:c}=n(658),f={addresses:{listen:[],announce:[],noAnnounce:[],announceFilter:e=>e},connectionManager:{minConnections:25},transportManager:{faultTolerance:c.FATAL_ALL},dialer:{maxParallelDials:o.MAX_PARALLEL_DIALS,maxDialsPerPeer:o.MAX_PER_PEER_DIALS,dialTimeout:o.DIAL_TIMEOUT,resolvers:{dnsaddr:i},addressSorter:s},host:{agentVersion:a},metrics:{enabled:!1},peerStore:{persistence:!1,threshold:5},peerRouting:{refreshManager:{enabled:!0,interval:6e5,bootDelay:1e4}},config:{dht:{enabled:!1,kBucketSize:20,randomWalk:{enabled:!1,queriesPerPeriod:1,interval:3e5,timeout:1e4}},nat:{enabled:!0,ttl:7200,keepAlive:!0,gateway:null,externalIp:null,pmp:{enabled:!1}},peerDiscovery:{autoDial:!0},pubsub:{enabled:!0},relay:{enabled:!0,advertise:{bootDelay:u.ADVERTISE_BOOT_DELAY,enabled:!1,ttl:u.ADVERTISE_TTL},hop:{enabled:!1,active:!1},autoRelay:{enabled:!1,maxListeners:2}},transport:{}}};e.exports.validate=e=>{const t=r(f,e);if(t.modules.transport.length<1)throw new Error("'options.modules.transport' must contain at least 1 transport");return t}},function(e,t,n){"use strict";const r=n(285),{code:i}=r("dnsaddr");e.exports={dnsaddrResolver:async function(e){const t=new(n(1565)),r=e.getPeerId(),[,o]=e.stringTuples().find(([e])=>e===i)||[];let a=(await t.resolveTxt("_dnsaddr."+o)).flat().map(e=>e.split("=")[1]);return r&&(a=a.filter(e=>e.includes(r))),a}}},function(e,t,n){"use strict";const r=n(1566);e.exports=r},function(e,t,n){"use strict";const r=n(6),i=r("dns-over-http-resolver");i.error=r("dns-over-http-resolver:error");const o=n(1567),a=n(1569);class u{constructor({maxCache:e=100}={}){this._cache=new o({max:e}),this._servers=["https://cloudflare-dns.com/dns-query","https://dns.google/resolve"]}getServers(){return this._servers}_getShuffledServers(){const e=[].concat(this._servers);for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*t),r=e[t];e[t]=e[n],e[n]=r}return e}setServers(e){this._servers=e}resolve(e,t="A"){switch(t){case"A":return this.resolve4(e);case"AAAA":return this.resolve6(e);case"TXT":return this.resolveTxt(e);default:throw new Error(t+" is not supported")}}async resolve4(e){const t=this._cache.get(a.getCacheKey(e,"A"));if(t)return t;for(const t of this._getShuffledServers())try{const n=await a.fetch(a.buildResource({serverResolver:t,hostname:e,recordType:"A"})),r=await n.json(),i=r.Answer.map(e=>e.data),o=Math.min(r.Answer.map(e=>e.TTL));return this._cache.set(a.getCacheKey(e,"A"),i,{ttl:o}),i}catch(n){i.error(`${t} could not resolve ${e} record A`)}throw new Error(`Could not resolve ${e} record A`)}async resolve6(e){const t=this._cache.get(a.getCacheKey(e,"AAAA"));if(t)return t;for(const t of this._getShuffledServers())try{const n=await a.fetch(a.buildResource({serverResolver:t,hostname:e,recordType:"AAAA"})),r=await n.json(),i=r.Answer.map(e=>e.data),o=Math.min(r.Answer.map(e=>e.TTL));return this._cache.set(a.getCacheKey(e,"AAAA"),i,{ttl:o}),i}catch(n){i.error(`${t} could not resolve ${e} record AAAA`)}throw new Error(`Could not resolve ${e} record AAAA`)}async resolveTxt(e){const t=this._cache.get(a.getCacheKey(e,"TXT"));if(t)return t;for(const t of this._getShuffledServers())try{const n=await a.fetch(a.buildResource({serverResolver:t,hostname:e,recordType:"TXT"})),r=await n.json(),i=r.Answer.map(e=>[e.data.replace(/['"]+/g,"")]),o=Math.min(r.Answer.map(e=>e.TTL));return this._cache.set(a.getCacheKey(e,"TXT"),i,{ttl:o}),i}catch(n){i.error(`${t} could not resolve ${e} record TXT`)}throw new Error(`Could not resolve ${e} record TXT`)}}u.Resolver=u,e.exports=u},function(e,t,n){"use strict";e.exports=a;var r=n(1568),i=a.prototype,o=new Date%1e9;function a(e){e=e||{},this.id=e.id||(1e9*Math.random()>>>0)+o++,this.max=e.max||1/0,this.items=e.items||[],this._lookup={},this.size=this.items.length,this.lastModified=new Date(e.lastModified||new Date);for(var t,n,r=this.items.length;r--;)t=this.items[r],n=new Date(t.expires)-new Date,this._lookup[t.key]=t,n>0?this.expire(t.key,n):n<=0&&this.delete(t.key)}i.has=function(e){return e in this._lookup},i.get=function(e){if(!this.has(e))return null;var t=this._lookup[e];return t.refresh&&this.expire(e,t.refresh),this.items.splice(this.items.indexOf(t),1),this.items.push(t),t.value},i.meta=function(e){if(!this.has(e))return null;var t=this._lookup[e];return"meta"in t?t.meta:null},i.set=function(e,t,n){var r=this._lookup[e],i=this._lookup[e]={key:e,value:t};return this.lastModified=new Date,r?(clearTimeout(r.timeout),this.items.splice(this.items.indexOf(r),1,i)):(this.size>=this.max&&this.delete(this.items[0].key),this.items.push(i),this.size++),n&&("ttl"in n&&this.expire(e,n.ttl),"meta"in n&&(i.meta=n.meta),n.refresh&&(i.refresh=n.ttl)),this},i.delete=function(e){var t=this._lookup[e];return!!t&&(this.lastModified=new Date,this.items.splice(this.items.indexOf(t),1),clearTimeout(t.timeout),delete this._lookup[e],this.size--,this)},i.expire=function(e,t){var n=t||0,i=this._lookup[e];if(!i)return this;if("string"==typeof n&&(n=r(t)),"number"!=typeof n)throw new TypeError("Expiration time must be a string or number.");return clearTimeout(i.timeout),i.timeout=setTimeout(this.delete.bind(this,i.key),n),i.expires=Number(new Date)+n,this},i.clear=function(){for(var e=this.items.length;e--;)this.delete(this.items[e].key);return this},i.toJSON=function(){for(var e,t=new Array(this.items.length),n=t.length;n--;)e=this.items[n],t[n]={key:e.key,meta:e.meta,value:e.value,expires:e.expires,refresh:e.refresh};return{id:this.id,max:isFinite(this.max)?this.max:void 0,lastModified:this.lastModified,items:t}}},function(e,t){var n=1e3,r=6e4,i=60*r,o=24*i;function a(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return a(e,t,o,"day");if(t>=i)return a(e,t,i,"hour");if(t>=r)return a(e,t,r,"minute");if(t>=n)return a(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";const{default:r,Headers:i}=n(1570);e.exports={buildResource:function({serverResolver:e,hostname:t,recordType:n}){return`${e}?name=${t}&type=${n}`},fetch:function(e){return r(e,{headers:new i({accept:"application/dns-json"})})},getCacheKey:function(e,t){return`${t}_${e}`}}},function(e,t,n){"use strict";globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?e.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:e.exports={default:n(150).default,Headers:n(150).Headers,Request:n(150).Request,Response:n(150).Response}},function(e,t,n){"use strict";const r=n(657);e.exports=function(e){const{address:t}=e.nodeAddress();return r(t)}},function(e,t,n){const r=n(1573).Netmask,i=n(575),o=["0.0.0.0/8","10.0.0.0/8","100.64.0.0/10","127.0.0.0/8","169.254.0.0/16","172.16.0.0/12","192.0.0.0/24","192.0.0.0/29","192.0.0.8/32","192.0.0.9/32","192.0.0.10/32","192.0.0.170/32","192.0.0.171/32","192.0.2.0/24","192.31.196.0/24","192.52.193.0/24","192.88.99.0/24","192.168.0.0/16","192.175.48.0/24","198.18.0.0/15","198.51.100.0/24","203.0.113.0/24","240.0.0.0/4","255.255.255.255/32"].map(e=>new r(e));e.exports=e=>i.v6().test(e)?function(e){return/^::$/.test(e)||/^::1$/.test(e)||/^::f{4}:([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(e)||/^::f{4}:0.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(e)||/^64:ff9b::([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(e)||/^100::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^2001::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^2001:2[0-9a-fA-F]:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^2001:db8:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^2002:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^f[c-d]([0-9a-fA-F]{2,2}):/i.test(e)||/^fe[8-9a-bA-B][0-9a-fA-F]:/i.test(e)||/^ff([0-9a-fA-F]{2,2}):/i.test(e)}(e):!(!i().test(e)&&!e.startsWith("0"))&&function(e){for(let t of o)if(t.contains(e))return!0;return!1}(e)},function(e,t){(function(){var e,n,r,i,o,a,u,s;s=function(e){return[(e&255<<24)>>>24,(e&255<<16)>>>16,(65280&e)>>>8,255&e].join(".")},u=function(e){var t,r,i,o,a,u;for(t=[],i=o=0;o<=3&&0!==e.length;i=++o){if(i>0){if("."!==e[0])throw new Error("Invalid IP");e=e.substring(1)}a=(u=n(e))[0],r=u[1],e=e.substring(r),t.push(a)}if(0!==e.length)throw new Error("Invalid IP");switch(t.length){case 1:if(t[0]>4294967295)throw new Error("Invalid IP");return t[0]>>>0;case 2:if(t[0]>255||t[1]>16777215)throw new Error("Invalid IP");return(t[0]<<24|t[1])>>>0;case 3:if(t[0]>255||t[1]>255||t[2]>65535)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2])>>>0;case 4:if(t[0]>255||t[1]>255||t[2]>255||t[3]>255)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2]<<8|t[3])>>>0;default:throw new Error("Invalid IP")}},i=(r=function(e){return e.charCodeAt(0)})("0"),a=r("a"),o=r("A"),n=function(e){var t,n,u,s,c;for(s=0,t=10,n="9",u=0,e.length>1&&"0"===e[u]&&("x"===e[u+1]||"X"===e[u+1]?(u+=2,t=16):"0"<=e[u+1]&&e[u+1]<="9"&&(u++,t=8,n="7")),c=u;u<e.length;){if("0"<=e[u]&&e[u]<=n)s=s*t+(r(e[u])-i)>>>0;else{if(16!==t)break;if("a"<=e[u]&&e[u]<="f")s=s*t+(10+r(e[u])-a)>>>0;else{if(!("A"<=e[u]&&e[u]<="F"))break;s=s*t+(10+r(e[u])-o)>>>0}}if(s>4294967295)throw new Error("too large");u++}if(u===c)throw new Error("empty octet");return[s,u]},e=function(){function e(e,t){var n,r,i;if("string"!=typeof e)throw new Error("Missing `net' parameter");if(t||(i=e.split("/",2),e=i[0],t=i[1]),t||(t=32),"string"==typeof t&&t.indexOf(".")>-1){try{this.maskLong=u(t)}catch(e){throw e,new Error("Invalid mask: "+t)}for(n=r=32;r>=0;n=--r)if(this.maskLong===4294967295<<32-n>>>0){this.bitmask=n;break}}else{if(!t&&0!==t)throw new Error("Invalid mask: empty");this.bitmask=parseInt(t,10),this.maskLong=0,this.bitmask>0&&(this.maskLong=4294967295<<32-this.bitmask>>>0)}try{this.netLong=(u(e)&this.maskLong)>>>0}catch(t){throw t,new Error("Invalid net address: "+e)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+t);this.size=Math.pow(2,32-this.bitmask),this.base=s(this.netLong),this.mask=s(this.maskLong),this.hostmask=s(~this.maskLong),this.first=this.bitmask<=30?s(this.netLong+1):this.base,this.last=this.bitmask<=30?s(this.netLong+this.size-2):s(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?s(this.netLong+this.size-1):void 0}return e.prototype.contains=function(t){return"string"==typeof t&&(t.indexOf("/")>0||4!==t.split(".").length)&&(t=new e(t)),t instanceof e?this.contains(t.base)&&this.contains(t.broadcast||t.last):(u(t)&this.maskLong)>>>0==(this.netLong&this.maskLong)>>>0},e.prototype.next=function(t){return null==t&&(t=1),new e(s(this.netLong+this.size*t),this.mask)},e.prototype.forEach=function(e){var t,n,r;for(r=u(this.first),n=u(this.last),t=0;r<=n;)e(s(r),r,t),t++,r++},e.prototype.toString=function(){return this.base+"/"+this.bitmask},e}(),t.ip2long=u,t.long2ip=s,t.Netmask=e}).call(this)},function(e,t,n){"use strict";const r=n(1575),i=n(1576);e.exports=async(e,t={})=>{const{concurrency:n=1/0}=t,o=i(n);return Promise.all(e.map(e=>e&&"function"==typeof e.then?r(e):r("function"==typeof e?o(()=>e()):Promise.resolve(e))))}},function(e,t,n){"use strict";const r=async e=>{try{return{isFulfilled:!0,isRejected:!1,value:await e}}catch(e){return{isFulfilled:!1,isRejected:!0,reason:e}}};e.exports=r,e.exports.default=r},function(e,t,n){"use strict";const r=n(1577),i=e=>{if(!Number.isInteger(e)&&e!==1/0||!(e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let n=0;const i=()=>{n--,t.length>0&&t.shift()()},o=(e,t,...o)=>{n++;const a=r(e,...o);t(a),a.then(i,i)},a=(r,...i)=>new Promise(a=>((r,i,...a)=>{n<e?o(r,i,...a):t.push(o.bind(null,r,i,...a))})(r,a,...i));return Object.defineProperties(a,{activeCount:{get:()=>n},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),a};e.exports=i,e.exports.default=i},function(e,t,n){"use strict";const r=(e,...t)=>new Promise(n=>{n(e(...t))});e.exports=r,e.exports.default=r},function(e,t,n){"use strict";e.exports=function(e,t){return e.length===t.length&&t.sort()&&e.sort().every((e,n)=>t[n].equals(e))}},function(e,t,n){"use strict";var r=n(80),i=r.Reader,o=r.Writer,a=r.util,u=r.roots["libp2p-peer-record"]||(r.roots["libp2p-peer-record"]={});u.PeerRecord=function(){function e(e){if(this.addresses=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.peerId=a.newBuffer([]),e.prototype.seq=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.addresses=a.emptyArray,e.encode=function(e,t){if(t||(t=o.create()),null!=e.peerId&&Object.hasOwnProperty.call(e,"peerId")&&t.uint32(10).bytes(e.peerId),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(16).uint64(e.seq),null!=e.addresses&&e.addresses.length)for(var n=0;n<e.addresses.length;++n)u.PeerRecord.AddressInfo.encode(e.addresses[n],t.uint32(26).fork()).ldelim();return t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.PeerRecord;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.peerId=e.bytes();break;case 2:r.seq=e.uint64();break;case 3:r.addresses&&r.addresses.length||(r.addresses=[]),r.addresses.push(u.PeerRecord.AddressInfo.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.PeerRecord)return e;var t=new u.PeerRecord;if(null!=e.peerId&&("string"==typeof e.peerId?a.base64.decode(e.peerId,t.peerId=a.newBuffer(a.base64.length(e.peerId)),0):e.peerId.length&&(t.peerId=e.peerId)),null!=e.seq&&(a.Long?(t.seq=a.Long.fromValue(e.seq)).unsigned=!0:"string"==typeof e.seq?t.seq=parseInt(e.seq,10):"number"==typeof e.seq?t.seq=e.seq:"object"==typeof e.seq&&(t.seq=new a.LongBits(e.seq.low>>>0,e.seq.high>>>0).toNumber(!0))),e.addresses){if(!Array.isArray(e.addresses))throw TypeError(".PeerRecord.addresses: array expected");t.addresses=[];for(var n=0;n<e.addresses.length;++n){if("object"!=typeof e.addresses[n])throw TypeError(".PeerRecord.addresses: object expected");t.addresses[n]=u.PeerRecord.AddressInfo.fromObject(e.addresses[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.addresses=[]),t.defaults)if(t.bytes===String?n.peerId="":(n.peerId=[],t.bytes!==Array&&(n.peerId=a.newBuffer(n.peerId))),a.Long){var r=new a.Long(0,0,!0);n.seq=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.seq=t.longs===String?"0":0;if(null!=e.peerId&&e.hasOwnProperty("peerId")&&(n.peerId=t.bytes===String?a.base64.encode(e.peerId,0,e.peerId.length):t.bytes===Array?Array.prototype.slice.call(e.peerId):e.peerId),null!=e.seq&&e.hasOwnProperty("seq")&&("number"==typeof e.seq?n.seq=t.longs===String?String(e.seq):e.seq:n.seq=t.longs===String?a.Long.prototype.toString.call(e.seq):t.longs===Number?new a.LongBits(e.seq.low>>>0,e.seq.high>>>0).toNumber(!0):e.seq),e.addresses&&e.addresses.length){n.addresses=[];for(var i=0;i<e.addresses.length;++i)n.addresses[i]=u.PeerRecord.AddressInfo.toObject(e.addresses[i],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.AddressInfo=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.multiaddr=a.newBuffer([]),e.encode=function(e,t){return t||(t=o.create()),null!=e.multiaddr&&Object.hasOwnProperty.call(e,"multiaddr")&&t.uint32(10).bytes(e.multiaddr),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.PeerRecord.AddressInfo;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.multiaddr=e.bytes();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.PeerRecord.AddressInfo)return e;var t=new u.PeerRecord.AddressInfo;return null!=e.multiaddr&&("string"==typeof e.multiaddr?a.base64.decode(e.multiaddr,t.multiaddr=a.newBuffer(a.base64.length(e.multiaddr)),0):e.multiaddr.length&&(t.multiaddr=e.multiaddr)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.multiaddr="":(n.multiaddr=[],t.bytes!==Array&&(n.multiaddr=a.newBuffer(n.multiaddr)))),null!=e.multiaddr&&e.hasOwnProperty("multiaddr")&&(n.multiaddr=t.bytes===String?a.base64.encode(e.multiaddr,0,e.multiaddr.length):t.bytes===Array?Array.prototype.slice.call(e.multiaddr):e.multiaddr),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e}(),e.exports=u},function(e,t,n){"use strict";const r=Uint8Array.from([3,1]);e.exports={ENVELOPE_DOMAIN_PEER_RECORD:"libp2p-peer-record",ENVELOPE_PAYLOAD_TYPE_PEER_RECORD:r}},function(e,t,n){"use strict";const{EventEmitter:r}=n(33),{Multiaddr:i}=n(30),o=n(31);e.exports=class extends r{constructor(e,{listen:t=[],announce:n=[]}={}){super(),this.peerId=e,this.listen=new Set(t.map(e=>e.toString())),this.announce=new Set(n.map(e=>e.toString())),this.observed=new Set}getListenAddrs(){return Array.from(this.listen).map(e=>new i(e))}getAnnounceAddrs(){return Array.from(this.announce).map(e=>new i(e))}getObservedAddrs(){return Array.from(this.observed).map(e=>new i(e))}addObservedAddr(e){let t=new i(e);const n=t.getPeerId();if(n){o.createFromB58String(n).equals(this.peerId)&&(t=t.decapsulate(new i("/p2p/"+this.peerId)))}const r=t.toString();this.observed.has(r)||(this.observed.add(r),this.emit("change:addresses"))}}},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:connection-manager"),{error:r("libp2p:connection-manager:err")}),o=n(4),a=n(57),u=n(1583),s=n(660),{EventEmitter:c}=n(33),f=n(31),{codes:{ERR_INVALID_PARAMETERS:l}}=n(71),d={maxConnections:1/0,minConnections:0,maxData:1/0,maxSentData:1/0,maxReceivedData:1/0,maxEventLoopDelay:1/0,pollInterval:2e3,autoDialInterval:1e4,movingAverageInterval:6e4,defaultPeerValue:1};e.exports=class extends c{constructor(e,t={}){if(super(),this._libp2p=e,this._peerId=e.peerId.toB58String(),this._options=a.call({ignoreUndefined:!0},d,t),this._options.maxConnections<this._options.minConnections)throw o(new Error("Connection Manager maxConnections must be greater than minConnections"),l);i("options: %j",this._options),this._peerValues=new Map,this.connections=new Map,this._started=!1,this._timer=null,this._autoDialTimeout=null,this._checkMetrics=this._checkMetrics.bind(this),this._autoDial=this._autoDial.bind(this),this._latencyMonitor=new u({latencyCheckIntervalMs:this._options.pollInterval,dataEmitIntervalMs:this._options.pollInterval})}get size(){return Array.from(this.connections.values()).reduce((e,t)=>e+t.length,0)}start(){this._libp2p.metrics&&(this._timer=this._timer||s(this._checkMetrics,this._options.pollInterval)),this._latencyMonitor.start(),this._onLatencyMeasure=this._onLatencyMeasure.bind(this),this._latencyMonitor.on("data",this._onLatencyMeasure),this._started=!0,i("started"),this._options.autoDial&&this._autoDial()}async stop(){this._autoDialTimeout&&this._autoDialTimeout.clear(),this._timer&&this._timer.clear(),this._latencyMonitor.removeListener("data",this._onLatencyMeasure),this._latencyMonitor.stop(),this._started=!1,await this._close(),i("stopped")}async _close(){const e=[];for(const t of this.connections.values())for(const n of t)e.push(n.close());await Promise.all(e),this.connections.clear()}setPeerValue(e,t){if(t<0||t>1)throw new Error("value should be a number between 0 and 1");this._peerValues.set(e.toB58String(),t)}_checkMetrics(){if(this._libp2p.metrics){const e=this._libp2p.metrics.global.movingAverages,t=e.dataReceived[this._options.movingAverageInterval].movingAverage();this._checkMaxLimit("maxReceivedData",t);const n=e.dataSent[this._options.movingAverageInterval].movingAverage();this._checkMaxLimit("maxSentData",n);const r=t+n;this._checkMaxLimit("maxData",r),i("metrics update",r),this._timer=s(this._checkMetrics,this._options.pollInterval)}}onConnect(e){const t=e.remotePeer,n=t.toB58String(),r=this.connections.get(n);this.emit("peer:connect",e),r?r.push(e):this.connections.set(n,[e]),this._libp2p.peerStore.keyBook.set(t,t.pubKey),this._peerValues.has(n)||this._peerValues.set(n,this._options.defaultPeerValue),this._checkMaxLimit("maxConnections",this.size)}onDisconnect(e){const t=e.remotePeer.toB58String();let n=this.connections.get(t);n&&n.length>1?(n=n.filter(t=>t.id!==e.id),this.connections.set(t,n)):n&&(this.connections.delete(t),this._peerValues.delete(e.remotePeer.toB58String()),this.emit("peer:disconnect",e))}get(e){const t=this.getAll(e);return t.length?t[0]:null}getAll(e){if(!f.isPeerId(e))throw o(new Error("peerId must be an instance of peer-id"),l);const t=e.toB58String(),n=this.connections.get(t);return n?n.filter(e=>"open"===e.stat.status):[]}_onLatencyMeasure(e){this._checkMaxLimit("maxEventLoopDelay",e.avgMs)}_checkMaxLimit(e,t){const n=this._options[e];i("checking limit of %s. current value: %d of %d",e,t,n),t>n&&(i("%s: limit exceeded: %s, %d",this._peerId,e,t),this._maybeDisconnectOne())}async _autoDial(){const e=this._options.minConnections;if(this.size>=e)return void(this._autoDialTimeout=s(this._autoDial,this._options.autoDialInterval));const t=Array.from(this._libp2p.peerStore.peers.values()).sort((e,t)=>!t.protocols||!t.protocols.length||e.protocols&&e.protocols.length?t.id.pubKey&&!e.id.pubKey?1:-1:1);for(let n=0;n<t.length&&this.size<e;n++)if(!this.get(t[n].id)){i("connecting to a peerStore stored peer %s",t[n].id.toB58String());try{if(await this._libp2p.dialer.connectToPeer(t[n].id),!this._started)return}catch(e){i.error("could not connect to peerStore stored peer",e)}}this._autoDialTimeout=s(this._autoDial,this._options.autoDialInterval)}_maybeDisconnectOne(){if(this._options.minConnections<this.connections.size){const e=Array.from(new Map([...this._peerValues.entries()].sort((e,t)=>e[1]-t[1])));i("%s: sorted peer values: %j",this._peerId,e);const t=e[0];if(t){const e=t[0];i("%s: lowest value peer is %s",this._peerId,e),i("%s: closing a connection to %j",this._peerId,e);for(const t of this.connections.values())if(t[0].remotePeer.toB58String()===e){t[0].close();break}}}}}},function(e,t,n){"use strict";const{EventEmitter:r}=n(33),i=n(1584),o=n(6)("latency-monitor:LatencyMonitor");e.exports=class extends r{constructor({latencyCheckIntervalMs:e,dataEmitIntervalMs:t,asyncTestFn:n,latencyRandomPercentage:r}={}){super();const i=this;i.latencyCheckIntervalMs=e||500,i.latencyRandomPercentage=r||10,i._latecyCheckMultiply=i.latencyRandomPercentage/100*2*i.latencyCheckIntervalMs,i._latecyCheckSubtract=i._latecyCheckMultiply/2,i.dataEmitIntervalMs=null===t||0===t?void 0:t||5e3,o("latencyCheckIntervalMs: %s dataEmitIntervalMs: %s",i.latencyCheckIntervalMs,i.dataEmitIntervalMs),i.dataEmitIntervalMs?o("Expecting ~%s events per summary",i.latencyCheckIntervalMs/i.dataEmitIntervalMs):o("Not emitting summaries"),i.asyncTestFn=n}start(){globalThis.process&&globalThis.process.hrtime?(o("Using process.hrtime for timing"),this.now=globalThis.process.hrtime,this.getDeltaMS=e=>{const t=this.now(e);return 1e3*t[0]+t[1]/1e6}):"undefined"!=typeof window&&window.performance&&window.performance.now?(o("Using performance.now for timing"),this.now=window.performance.now.bind(window.performance),this.getDeltaMS=e=>Math.round(this.now()-e)):(o("Using Date.now for timing"),this.now=Date.now,this.getDeltaMS=e=>this.now()-e),this._latencyData=this._initLatencyData(),"undefined"!=typeof window&&(this._visibilityChangeEmitter=new i,this._visibilityChangeEmitter.on("visibilityChange",e=>{e?this._startTimers():(this._emitSummary(),this._stopTimers())})),this._visibilityChangeEmitter&&!this._visibilityChangeEmitter.isVisible()||this._startTimers()}stop(){this._stopTimers()}_startTimers(){this._checkLatencyID||(this._checkLatency(),this.dataEmitIntervalMs&&(this._emitIntervalID=setInterval(()=>this._emitSummary(),this.dataEmitIntervalMs),"function"==typeof this._emitIntervalID.unref&&this._emitIntervalID.unref()))}_stopTimers(){this._checkLatencyID&&(clearTimeout(this._checkLatencyID),this._checkLatencyID=void 0),this._emitIntervalID&&(clearInterval(this._emitIntervalID),this._emitIntervalID=void 0)}_emitSummary(){const e=this.getSummary();e.events>0&&this.emit("data",e)}getSummary(){const e={events:this._latencyData.events,minMs:this._latencyData.minMs,maxMs:this._latencyData.maxMs,avgMs:this._latencyData.events?this._latencyData.totalMs/this._latencyData.events:Number.POSITIVE_INFINITY,lengthMs:this.getDeltaMS(this._latencyData.startTime)};return this._latencyData=this._initLatencyData(),o("Summary: %O",e),e}_checkLatency(){const e=this,t=Math.random()*e._latecyCheckMultiply-e._latecyCheckSubtract,n={deltaOffset:Math.ceil(e.latencyCheckIntervalMs+t),startTime:e.now()},r=()=>{if(!this._checkLatencyID)return;const t=e.getDeltaMS(n.startTime)-n.deltaOffset;e._checkLatency(),e._latencyData.events++,e._latencyData.minMs=Math.min(e._latencyData.minMs,t),e._latencyData.maxMs=Math.max(e._latencyData.maxMs,t),e._latencyData.totalMs+=t,o("MS: %s Data: %O",t,e._latencyData)};o("localData: %O",n),this._checkLatencyID=setTimeout(()=>{e.asyncTestFn?(n.deltaOffset=0,n.startTime=e.now(),e.asyncTestFn(r)):(n.deltaOffset-=1,r())},n.deltaOffset),"function"==typeof this._checkLatencyID.unref&&this._checkLatencyID.unref()}_initLatencyData(){return{startTime:this.now(),minMs:Number.POSITIVE_INFINITY,maxMs:Number.NEGATIVE_INFINITY,events:0,totalMs:0}}}},function(e,t,n){"use strict";const{EventEmitter:r}=n(33),i=n(6)("latency-monitor:VisibilityChangeEmitter");e.exports=class extends r{constructor(){super(),"undefined"!=typeof document?(this._initializeVisibilityVarNames(),this._addVisibilityChangeListener()):i('This is not a browser, no "document" found. Stopping.')}_initializeVisibilityVarNames(){let e,t;void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.mozHidden?(e="mozHidden",t="mozvisibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),this._hidden=e,this._visibilityChange=t}_addVisibilityChangeListener(){void 0===document.addEventListener||void 0===document[this._hidden]?i("Checking page visibility requires a browser that supports the Page Visibility API."):document.addEventListener(this._visibilityChange,this._handleVisibilityChange.bind(this),!1)}isVisible(){if(void 0!==this._hidden&&void 0!==document[this._hidden])return!document[this._hidden]}_handleVisibilityChange(){const e=!document[this._hidden];i(e?"Page Visible":"Page Hidden"),this.emit("visibilityChange",e)}}},function(e,t,n){"use strict";e.exports=function(){return Date.now()}},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:circuit"),{error:r("libp2p:circuit:err")}),o=n(4),a=n(195),{Multiaddr:u}=n(30),s=n(31),{CircuitRelay:c}=n(239),{codes:f}=n(71),l=n(1587),{relay:d}=n(299),h=n(1588),{handleCanHop:p,handleHop:m,hop:y}=n(661),{handleStop:v}=n(663),g=n(406),b=Symbol.for("@libp2p/js-libp2p-circuit/circuit");class w{constructor({libp2p:e,upgrader:t}){this._dialer=e.dialer,this._registrar=e.registrar,this._connectionManager=e.connectionManager,this._upgrader=t,this._options=e._config.relay,this._libp2p=e,this.peerId=e.peerId,this._registrar.handle(d,this._onProtocol.bind(this))}async _onProtocol({connection:e,stream:t}){const n=new g({stream:t}),r=await n.read();if(!r)return;const o=this;let a;switch(r.type){case c.Type.CAN_HOP:i("received CAN_HOP request from %s",e.remotePeer.toB58String()),await p({circuit:o,connection:e,streamHandler:n});break;case c.Type.HOP:i("received HOP request from %s",e.remotePeer.toB58String()),a=await m({connection:e,request:r,streamHandler:n,circuit:o});break;case c.Type.STOP:i("received STOP request from %s",e.remotePeer.toB58String()),a=await v({connection:e,request:r,streamHandler:n});break;default:i("Request of type %s not supported",r.type)}if(a){const e=new u(r.dstPeer.addrs[0]),t=new u(r.srcPeer.addrs[0]),n=l({stream:a,remoteAddr:e,localAddr:t}),o=r.type===c.Type.HOP?"relay":"inbound";i("new %s connection %s",o,n.remoteAddr);const s=await this._upgrader.upgradeInbound(n);i("%s connection %s upgraded",o,n.remoteAddr),this.handler&&this.handler(s)}}async dial(e,t){const n=e.toString().split("/p2p-circuit"),r=new u(n[0]),a=new u(n[n.length-1]),d=r.getPeerId(),h=a.getPeerId();if(!d||!h){const e="Circuit relay dial failed as addresses did not have peer id";throw i.error(e),o(new Error(e),f.ERR_RELAYED_DIAL)}const p=s.createFromB58String(d),m=s.createFromB58String(h);let v=!1,g=this._connectionManager.get(p);g||(g=await this._dialer.connectToPeer(r,t),v=!0);try{const t=await y({connection:g,request:{type:c.Type.HOP,srcPeer:{id:this.peerId.toBytes(),addrs:this._libp2p.multiaddrs.map(e=>e.bytes)},dstPeer:{id:m.toBytes(),addrs:[new u(a).bytes]}}}),n=r.encapsulate("/p2p-circuit/p2p/"+this.peerId.toB58String()),o=l({stream:t,remoteAddr:e,localAddr:n});return i("new outbound connection %s",o.remoteAddr),this._upgrader.upgradeOutbound(o)}catch(e){throw i.error("Circuit relay dial failed",e),v&&await g.close(),e}}createListener(e,t){return"function"==typeof e&&(t=e,e={}),this.handler=t,h(this._libp2p)}filter(e){return(e=Array.isArray(e)?e:[e]).filter(e=>a.Circuit.matches(e))}get[Symbol.toStringTag](){return"Circuit"}static isTransport(e){return Boolean(e&&e[b])}}e.exports=w},function(e,t,n){"use strict";const{source:r}=n(137),i=n(6)("libp2p:stream:converter");e.exports=function({stream:e,remoteAddr:t,localAddr:n},o={}){const{sink:a,source:u}=e,s={async sink(e){o.signal&&(e=r(e,o.signal));try{await a(e)}catch(e){"aborted"!==e.type&&i(e)}c()},source:o.signal?r(u,o.signal):u,conn:e,localAddr:n,remoteAddr:t,timeline:{open:Date.now(),close:void 0},close:()=>(a(new Uint8Array(0)),c())};function c(){return s.timeline.close||(s.timeline.close=Date.now()),Promise.resolve()}return s}},function(e,t,n){"use strict";const{EventEmitter:r}=n(33),{Multiaddr:i}=n(30);e.exports=e=>{const t=new Map;const n=Object.assign(new r,{close:()=>Promise.resolve(),listen:async function(r){const o=String(r).split("/p2p-circuit").find(e=>""!==e),a=await e.dial(new i(o)),u=a.remoteAddr.encapsulate("/p2p-circuit");t.set(a.remotePeer.toB58String(),u),n.emit("listening")},getAddrs:function(){const e=[];for(const n of t.values())e.push(n);return e}});return e.connectionManager.on("peer:disconnect",e=>{t.delete(e.remotePeer.toB58String())&&n.emit("close")}),n}},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:relay"),{error:r("libp2p:relay:err")}),{setDelayedInterval:o,clearDelayedInterval:a}=n(652),u=n(1590),{namespaceToCid:s}=n(664),{RELAY_RENDEZVOUS_NS:c}=n(404);e.exports=class{constructor(e){this._libp2p=e,this._options={...e._config.relay},this._autoRelay=this._options.autoRelay.enabled&&new u({libp2p:e,...this._options.autoRelay}),this._advertiseService=this._advertiseService.bind(this)}start(){this._options.hop.enabled&&this._options.advertise.enabled&&(this._timeout=o(this._advertiseService,this._options.advertise.ttl,this._options.advertise.bootDelay))}stop(){a(this._timeout)}async _advertiseService(){try{const e=await s(c);await this._libp2p.contentRouting.provide(e)}catch(e){"NO_ROUTERS_AVAILABLE"===e.code?(i.error("a content router, such as a DHT, must be provided in order to advertise the relay service",e),this.stop()):i.error(e)}}}},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:auto-relay"),{error:r("libp2p:auto-relay:err")}),o=n(44),a=n(45),{Multiaddr:u}=n(30),s=n(31),{relay:c}=n(299),{canHop:f}=n(661),{namespaceToCid:l}=n(664),{CIRCUIT_PROTO_CODE:d,HOP_METADATA_KEY:h,HOP_METADATA_VALUE:p,RELAY_RENDEZVOUS_NS:m}=n(404);e.exports=class{constructor({libp2p:e,maxListeners:t=1,onError:n}){this._libp2p=e,this._peerId=e.peerId,this._peerStore=e.peerStore,this._connectionManager=e.connectionManager,this._transportManager=e.transportManager,this._addressSorter=e.dialer.addressSorter,this.maxListeners=t,this._listenRelays=new Set,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerDisconnected=this._onPeerDisconnected.bind(this),this._peerStore.on("change:protocols",this._onProtocolChange),this._connectionManager.on("peer:disconnect",this._onPeerDisconnected),this._onError=(e,t)=>{i.error(t||e),n&&n(e,t)}}async _onProtocolChange({peerId:e,protocols:t}){const n=e.toB58String(),r=t.find(e=>e===c);if(r||!this._listenRelays.has(n)){if(r&&!this._listenRelays.has(n))try{const t=this._connectionManager.get(e);if(!t)return;if(t.remoteAddr.protoCodes().includes(d))return void i(`relayed connection to ${n} will not be used to hop on`);await f({connection:t})&&(this._peerStore.metadataBook.set(e,h,o(p)),await this._addListenRelay(t,n))}catch(e){this._onError(e)}}else this._removeListenRelay(n)}_onPeerDisconnected(e){const t=e.remotePeer.toB58String();this._listenRelays.has(t)&&this._removeListenRelay(t)}async _addListenRelay(e,t){if(this._listenRelays.size>=this.maxListeners)return;const n=this._peerStore.addressBook.getMultiaddrsForPeer(e.remotePeer,this._addressSorter);if(!n||!n.length)return;const r=n[0].toString()+"/p2p-circuit";this._listenRelays.add(t);try{await this._transportManager.listen([new u(r)])}catch(e){this._onError(e),this._listenRelays.delete(t)}}_removeListenRelay(e){this._listenRelays.delete(e)&&this._listenOnAvailableHopRelays([e])}async _listenOnAvailableHopRelays(e=[]){if(this._listenRelays.size>=this.maxListeners)return;const t=[];for(const[n,r]of this._peerStore.metadataBook.data.entries()){if(this._listenRelays.has(n)||e.includes(n))continue;const i=r.get(h);if(!i||a(i)!==p)continue;const o=s.createFromB58String(n),u=this._connectionManager.get(o);if(u){if(await this._addListenRelay(u,n),this._listenRelays.size>=this.maxListeners)return}else t.push(o)}for(const e of t)if(await this._tryToListenOnRelay(e),this._listenRelays.size>=this.maxListeners)return;try{const e=await l(m);for await(const t of this._libp2p.contentRouting.findProviders(e)){if(!t.multiaddrs.length)continue;const e=t.id;if(this._peerStore.addressBook.add(e,t.multiaddrs),await this._tryToListenOnRelay(e),this._listenRelays.size>=this.maxListeners)return}}catch(e){this._onError(e)}}async _tryToListenOnRelay(e){try{const t=await this._libp2p.dial(e);await this._addListenRelay(t,e.toB58String())}catch(t){this._onError(t,"could not connect and listen on known hop relay "+e.toB58String())}}}},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:dialer"),{error:r("libp2p:dialer:err")}),o=n(4),{Multiaddr:a}=n(30),u=n(589),{AbortError:s}=n(137),{anySignal:c}=n(194),f=n(1592),{publicAddressesFirst:l}=n(656),d=n(653),{codes:h}=n(71),{DIAL_TIMEOUT:p,MAX_PARALLEL_DIALS:m,MAX_PER_PEER_DIALS:y,MAX_ADDRS_TO_DIAL:v}=n(403);e.exports=class{constructor({transportManager:e,peerStore:t,addressSorter:n=l,maxParallelDials:r=m,maxAddrsToDial:i=v,dialTimeout:o=p,maxDialsPerPeer:u=y,resolvers:s={}}){this.transportManager=e,this.peerStore=t,this.addressSorter=n,this.maxParallelDials=r,this.maxAddrsToDial=i,this.timeout=o,this.maxDialsPerPeer=u,this.tokens=[...new Array(r)].map((e,t)=>t),this._pendingDials=new Map,this._pendingDialTargets=new Map;for(const[e,t]of Object.entries(s))a.resolvers.set(e,t)}destroy(){for(const e of this._pendingDials.values())try{e.controller.abort()}catch(e){i.error(e)}this._pendingDials.clear();for(const e of this._pendingDialTargets.values())e.reject(new s("Dialer was destroyed"));this._pendingDialTargets.clear()}async connectToPeer(e,t={}){const n=await this._createCancellableDialTarget(e);if(!n.addrs.length)throw o(new Error("The dial request has no valid addresses"),h.ERR_NO_VALID_ADDRESSES);const r=this._pendingDials.get(n.id)||this._createPendingDial(n,t);try{const e=await r.promise;return i("dial succeeded to %s",n.id),e}catch(e){throw r.controller.signal.aborted&&(e.code=h.ERR_TIMEOUT),i.error(e),e}finally{r.destroy()}}async _createCancellableDialTarget(e){const t=""+(parseInt(String(1e9*Math.random()),10).toString()+Date.now()),n=new Promise((e,n)=>{this._pendingDialTargets.set(t,{resolve:e,reject:n})}),r=await Promise.race([this._createDialTarget(e),n]);return this._pendingDialTargets.delete(t),r}async _createDialTarget(e){const{id:t,multiaddrs:n}=d(e);n&&this.peerStore.addressBook.add(t,n);let r=this.peerStore.addressBook.getMultiaddrsForPeer(t,this.addressSorter)||[];a.isMultiaddr(e)&&(r=r.filter(t=>!e.equals(t)),r.unshift(e));const i=[];for(const e of r){(await this._resolve(e)).forEach(e=>i.push(e))}const u=i.filter(e=>this.transportManager.transportForMultiaddr(e));if(u.length>this.maxAddrsToDial)throw this.peerStore.delete(t),o(new Error("dial with more addresses than allowed"),h.ERR_TOO_MANY_ADDRESSES);return{id:t.toB58String(),addrs:u}}_createPendingDial(e,t={}){const n=new f({addrs:e.addrs,dialAction:(e,t)=>{if(t.signal.aborted)throw o(new Error("already aborted"),h.ERR_ALREADY_ABORTED);return this.transportManager.dial(e,t)},dialer:this}),r=new u(this.timeout),i=[r.signal];t.signal&&i.push(t.signal);const a=c(i),s={dialRequest:n,controller:r,promise:n.run({...t,signal:a}),destroy:()=>{r.clear(),this._pendingDials.delete(e.id)}};return this._pendingDials.set(e.id,s),s}getTokens(e){const t=Math.min(e,this.maxDialsPerPeer,this.tokens.length),n=this.tokens.splice(0,t);return i("%d tokens request, returning %d, %d remaining",e,t,this.tokens.length),n}releaseToken(e){this.tokens.indexOf(e)>-1||(i("token %d released",e),this.tokens.push(e))}async _resolve(e){if(!e.protoNames().includes("dnsaddr"))return[e];const t=await this._resolveRecord(e);return(await Promise.all(t.map(e=>this._resolve(e)))).flat().reduce((e,t)=>(e.find(e=>e.equals(t))||e.push(t),e),[])}async _resolveRecord(e){try{e=new a(e.toString());return await e.resolve()}catch(t){return i.error(`multiaddr ${e} could not be resolved`),[]}}}},function(e,t,n){"use strict";const r=n(4),i=n(193).default,{anySignal:o}=n(194),a=n(1593),u=n(1594);e.exports=class{constructor({addrs:e,dialAction:t,dialer:n}){this.addrs=e,this.dialer=n,this.dialAction=t}async run(e={}){const t=this.dialer.getTokens(this.addrs.length);if(t.length<1)throw r(new Error("No dial tokens available"),"ERR_NO_DIAL_TOKENS");const n=new a;t.forEach(e=>n.push(e));const s=this.addrs.map(()=>new i);let c=0;try{return await u(this.addrs.map(async(r,i)=>{const a=await n.shift();let u;try{const f=s[i].signal;u=await this.dialAction(r,{...e,signal:e.signal?o([f,e.signal]):f}),s.splice(i,1)}finally{c++,this.addrs.length-c>=t.length?n.push(a):this.dialer.releaseToken(t.splice(t.indexOf(a),1)[0])}return u}))}finally{s.map(e=>e.abort()),t.forEach(e=>this.dialer.releaseToken(e))}}}},function(e,t,n){const r=n(595),i=n(175);e.exports=class{constructor(){this._buffer=new r,this._waitingConsumers=new r}push(e){const{promise:t,resolve:n}=i();return this._buffer.push({chunk:e,resolve:n}),this._consume(),t}_consume(){for(;!this._waitingConsumers.isEmpty()&&!this._buffer.isEmpty();){const e=this._waitingConsumers.shift(),t=this._buffer.shift();e.resolve(t.chunk),t.resolve()}}shift(){const{promise:e,resolve:t}=i();return this._waitingConsumers.push({resolve:t}),this._consume(),e}isEmpty(){return this._buffer.isEmpty()}}},function(e,t,n){"use strict";const r=n(1595),i=n(666);e.exports=(e,t)=>{const n=r(e,{...t,count:1});return i.fn(async e=>{e(()=>{n.cancel()});const[t]=await n;return t})()},e.exports.AggregateError=r.AggregateError},function(e,t,n){"use strict";const r=n(665),i=n(666);class o extends Error{}e.exports=(e,t)=>new i((n,i,a)=>{const{count:u,filter:s=(()=>!0)}=t;if(!Number.isFinite(u))return void i(new TypeError("Expected a finite number, got "+typeof t.count));const c=[],f=[];let l=0,d=!1;const h=new Set,p=()=>{for(const t of e)h.has(t)||"function"!=typeof t.cancel||t.cancel()};a(p);for(const t of e)l++,(async()=>{try{const e=await t;if(d)return;if(!s(e))throw new o("Value does not satisfy filter");c.push(e)}catch(e){f.push(e)}finally{h.add(t),!d&&(c.length===u&&(n(c),d=!0),l-f.length<u&&(i(new r(f)),d=!0),d)&&p()}})();u>l&&(i(new RangeError(`Expected input to contain at least ${t.count} items, but contains ${l} items`)),p())}),e.exports.AggregateError=r,e.exports.FilterError=o},function(e,t,n){"use strict";e.exports=(e,t=1,n)=>{if(n={indent:" ",includeEmptyLines:!1,...n},"string"!=typeof e)throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof n.indent)throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof n.indent}\``);if(0===t)return e;const r=n.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(r,n.indent.repeat(t))}},function(e,t,n){"use strict";const r=n(1598),i=/\s+at.*(?:\(|\s)(.*)\)?/,o=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,a=void 0===r.homedir?"":r.homedir();e.exports=(e,t)=>(t=Object.assign({pretty:!1},t),e.replace(/\\/g,"/").split("\n").filter(e=>{const t=e.match(i);if(null===t||!t[1])return!0;const n=t[1];return!n.includes(".app/Contents/Resources/electron.asar")&&!n.includes(".app/Contents/Resources/default_app.asar")&&!o.test(n)}).filter(e=>""!==e.trim()).map(e=>t.pretty?e.replace(i,(e,t)=>e.replace(t,t.replace(a,"~"))):e).join("\n"))},function(e,t){},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:keychain"),{error:r("libp2p:keychain:err")}),o=n(1600),a=n(57),u=n(133),{Key:s}=n(47),c=n(1604),f=n(4),l=n(45),d=n(44);n(364);const h=new WeakMap,p=14,m=16,y=1e3,v={dek:{keyLength:64,iterationCount:1e4,salt:"you should override this value with a crypto secure random number",hash:"sha2-512"}};function g(e){return!!e&&("string"==typeof e&&e===o(e.trim()))}async function b(e){const t=800*Math.random()+200;throw await new Promise(e=>setTimeout(e,t)),e}function w(e){return new s("/pkcs8/"+e)}function E(e){return new s("/info/"+e)}e.exports=class{constructor(e,t){if(!e)throw new Error("store is required");if(this.store=e,this.opts=a(v,t),this.opts.pass&&this.opts.pass.length<20)throw new Error("pass must be least 20 characters");if(this.opts.dek.keyLength<p)throw new Error(`dek.keyLength must be least ${p} bytes`);if(this.opts.dek.salt.length<m)throw new Error(`dek.saltLength must be least ${m} bytes`);if(this.opts.dek.iterationCount<y)throw new Error("dek.iterationCount must be least "+y);const n=this.opts.pass?u.pbkdf2(this.opts.pass,this.opts.dek.salt,this.opts.dek.iterationCount,this.opts.dek.keyLength,this.opts.dek.hash):"";h.set(this,{dek:n})}get cms(){return new c(this,h.get(this).dek)}static generateOptions(){const e=Object.assign({},v),t=3*Math.ceil(m/3);return e.dek.salt=l(u.randomBytes(t),"base64"),e}static get options(){return v}async createKey(e,t,n=2048){const r=this;if(!g(e)||"self"===e)return b(f(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if("string"!=typeof t)return b(f(new Error(`Invalid key type '${t}'`),"ERR_INVALID_KEY_TYPE"));const i=w(e);if(await r.store.has(i))return b(f(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS"));switch(t.toLowerCase()){case"rsa":if(!Number.isSafeInteger(n)||n<2048)return b(f(new Error("Invalid RSA key size "+n),"ERR_INVALID_KEY_SIZE"))}let o;try{const a=await u.keys.generateKeyPair(t,n),s=await a.id(),c=h.get(this).dek,f=await a.export(c);o={name:e,id:s};const l=r.store.batch();l.put(i,d(f)),l.put(E(e),d(JSON.stringify(o))),await l.commit()}catch(e){return b(e)}return o}async listKeys(){const e=this,t={prefix:"/info/"},n=[];for await(const r of e.store.query(t))n.push(JSON.parse(l(r.value)));return n}async findKeyById(e){try{return(await this.listKeys()).find(t=>t.id===e)}catch(e){return b(e)}}async findKeyByName(e){if(!g(e))return b(f(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));const t=E(e);try{const e=await this.store.get(t);return JSON.parse(l(e))}catch(t){return b(f(new Error(`Key '${e}' does not exist. ${t.message}`),"ERR_KEY_NOT_FOUND"))}}async removeKey(e){if(!g(e)||"self"===e)return b(f(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));const t=w(e),n=await this.findKeyByName(e),r=this.store.batch();return r.delete(t),r.delete(E(e)),await r.commit(),n}async renameKey(e,t){const n=this;if(!g(e)||"self"===e)return b(f(new Error(`Invalid old key name '${e}'`),"ERR_OLD_KEY_NAME_INVALID"));if(!g(t)||"self"===t)return b(f(new Error(`Invalid new key name '${t}'`),"ERR_NEW_KEY_NAME_INVALID"));const r=w(e),i=w(t),o=E(e),a=E(t);if(await n.store.has(i))return b(f(new Error(`Key '${t}' already exists`),"ERR_KEY_ALREADY_EXISTS"));try{const e=await n.store.get(r),u=await n.store.get(o),s=JSON.parse(l(u));s.name=t;const c=n.store.batch();return c.put(i,e),c.put(a,d(JSON.stringify(s))),c.delete(r),c.delete(o),await c.commit(),s}catch(e){return b(e)}}async exportKey(e,t){if(!g(e))return b(f(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t)return b(f(new Error("Password is required"),"ERR_PASSWORD_REQUIRED"));const n=w(e);try{const e=await this.store.get(n),r=l(e),i=h.get(this).dek;return(await u.keys.import(r,i)).export(t)}catch(e){return b(e)}}async importKey(e,t,n){if(!g(e)||"self"===e)return b(f(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t)return b(f(new Error("PEM encoded key is required"),"ERR_PEM_REQUIRED"));const r=w(e);if(await this.store.has(r))return b(f(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS"));let i,o;try{i=await u.keys.import(t,n)}catch(e){return b(f(new Error("Cannot read the key, most likely the password is wrong"),"ERR_CANNOT_READ_KEY"))}try{o=await i.id();const e=h.get(this).dek;t=await i.export(e)}catch(e){return b(e)}const a={name:e,id:o},s=this.store.batch();return s.put(r,d(t)),s.put(E(e),d(JSON.stringify(a))),await s.commit(),a}async importPeer(e,t){const n=this;if(!g(e))return b(f(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t||!t.privKey)return b(f(new Error("Peer.privKey is required"),"ERR_MISSING_PRIVATE_KEY"));const r=t.privKey,i=w(e);if(await n.store.has(i))return b(f(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS"));try{const t=await r.id(),o=h.get(this).dek,a=await r.export(o),u={name:e,id:t},s=n.store.batch();return s.put(i,d(a)),s.put(E(e),d(JSON.stringify(u))),await s.commit(),u}catch(e){return b(e)}}async _getPrivateKey(e){if(!g(e))return b(f(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));try{const t=w(e),n=await this.store.get(t);return l(n)}catch(t){return b(f(new Error(`Key '${e}' does not exist. ${t.message}`),"ERR_KEY_NOT_FOUND"))}}async rotateKeychainPass(e,t){if("string"!=typeof e)return b(f(new Error(`Invalid old pass type '${typeof e}'`),"ERR_INVALID_OLD_PASS_TYPE"));if("string"!=typeof t)return b(f(new Error(`Invalid new pass type '${typeof t}'`),"ERR_INVALID_NEW_PASS_TYPE"));if(t.length<20)return b(f(new Error("Invalid pass length "+t.length),"ERR_INVALID_PASS_LENGTH"));i("recreating keychain");const n=h.get(this).dek;this.opts.pass=t;const r=t?u.pbkdf2(t,this.opts.dek.salt,this.opts.dek.iterationCount,this.opts.dek.keyLength,this.opts.dek.hash):"";h.set(this,{dek:r});const o=await this.listKeys();for(const e of o){const t=await this.store.get(w(e.name)),i=l(t),o=await u.keys.import(i,n),a=r.toString(),s=await o.export(a),c=this.store.batch(),f={name:e.name,id:e.id};c.put(w(e.name),d(s)),c.put(E(e.name),d(JSON.stringify(f))),await c.commit()}i("keychain reconstructed")}}},function(e,t,n){"use strict";var r=n(1601),i=/[\/\?<>\\:\*\|"]/g,o=/[\x00-\x1f\x80-\x9f]/g,a=/^\.+$/,u=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,s=/[\. ]+$/;function c(e,t){if("string"!=typeof e)throw new Error("Input must be string");var n=e.replace(i,t).replace(o,t).replace(a,t).replace(u,t).replace(s,t);return r(n,255)}e.exports=function(e,t){var n=t&&t.replacement||"",r=c(e,n);return""===n?r:c(r,"")}},function(e,t,n){"use strict";var r=n(1602),i=n(1603);e.exports=r.bind(null,i)},function(e,t,n){"use strict";function r(e){return e>=55296&&e<=56319}function i(e){return e>=56320&&e<=57343}e.exports=function(e,t,n){if("string"!=typeof t)throw new Error("Input must be string");for(var o,a,u=t.length,s=0,c=0;c<u;c+=1){if(o=t.charCodeAt(c),a=t[c],r(o)&&i(t.charCodeAt(c+1))&&(a+=t[c+=1]),(s+=e(a))===n)return t.slice(0,c+1);if(s>n)return t.slice(0,c-a.length+1)}return t}},function(e,t,n){"use strict";function r(e){return e>=55296&&e<=56319}function i(e){return e>=56320&&e<=57343}e.exports=function(e){if("string"!=typeof e)throw new Error("Input must be string");for(var t=e.length,n=0,o=null,a=null,u=0;u<t;u++)i(o=e.charCodeAt(u))?null!=a&&r(a)?n+=1:n+=3:o<=127?n+=1:o>=128&&o<=2047?n+=2:o>=2048&&o<=65535&&(n+=3),a=o;return n}},function(e,t,n){"use strict";n(1605),n(566);const r=n(39),{certificateForKey:i,findAsync:o}=n(1610),a=n(4),u=n(44),s=n(45),c=new WeakMap;e.exports=class{constructor(e,t){if(!e)throw a(new Error("keychain is required"),"ERR_KEYCHAIN_REQUIRED");this.keychain=e,c.set(this,{dek:t})}async encrypt(e,t){if(!(t instanceof Uint8Array))throw a(new Error("Plain data must be a Uint8Array"),"ERR_INVALID_PARAMS");const n=await this.keychain.findKeyByName(e),o=await this.keychain._getPrivateKey(e),s=c.get(this).dek,f=r.pki.decryptRsaPrivateKey(o,s),l=await i(n,f),d=r.pkcs7.createEnvelopedData();d.addRecipient(l),d.content=r.util.createBuffer(t),d.encrypt();const h=r.asn1.toDer(d.toAsn1()).getBytes();return u(h,"ascii")}async decrypt(e){if(!(e instanceof Uint8Array))throw a(new Error("CMS data is required"),"ERR_INVALID_PARAMS");let t;try{const n=r.util.createBuffer(s(e,"ascii")),i=r.asn1.fromDer(n);t=r.pkcs7.messageFromAsn1(i)}catch(e){throw a(new Error("Invalid CMS: "+e.message),"ERR_INVALID_CMS")}const n=t.recipients.filter(e=>e.issuer.find(e=>"O"===e.shortName&&"ipfs"===e.value)).filter(e=>e.issuer.find(e=>"CN"===e.shortName)).map(e=>({recipient:e,keyId:e.issuer.find(e=>"CN"===e.shortName).value})),i=await o(n,async e=>{try{if(await this.keychain.findKeyById(e.keyId))return!0}catch(e){return!1}return!1});if(!i){const e=n.map(e=>e.keyId);throw a(new Error("Decryption needs one of the key(s): "+e.join(", ")),"ERR_MISSING_KEYS",{missingKeys:e})}const f=await this.keychain.findKeyById(i.keyId);if(!f)throw a(new Error("No key available to decrypto"),"ERR_NO_KEY");const l=await this.keychain._getPrivateKey(f.name),d=c.get(this).dek,h=r.pki.decryptRsaPrivateKey(l,d);return t.decrypt(i.recipient,h),u(t.content.getBytes(),"ascii")}}},function(e,t,n){var r=n(39);n(226),n(151),n(360),n(225),n(362),n(1606),n(169),n(51),n(667);var i=r.asn1,o=e.exports=r.pkcs7=r.pkcs7||{};function a(e){var t={},n=[];if(!i.validate(e,o.asn1.recipientInfoValidator,t,n)){var a=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw a.errors=n,a}return{version:t.version.charCodeAt(0),issuer:r.pki.RDNAttributesAsArray(t.issuer),serialNumber:r.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:i.derToOid(t.encAlgorithm),parameter:t.encParameter.value,content:t.encKey}}}function u(e){for(var t,n=[],o=0;o<e.length;++o)n.push((t=e[o],i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(t.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[r.pki.distinguishedNameToAsn1({attributes:t.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,r.util.hexToBytes(t.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.encryptedContent.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.encryptedContent.content)])));return n}function s(e){var t=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[r.pki.distinguishedNameToAsn1({attributes:e.issuer}),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,r.util.hexToBytes(e.serialNumber))]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.digestAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.signatureAlgorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),t.value.push(i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var n=i.create(i.Class.CONTEXT_SPECIFIC,1,!0,[]),o=0;o<e.unauthenticatedAttributes.length;++o){var a=e.unauthenticatedAttributes[o];n.values.push(c(a))}t.value.push(n)}return t}function c(e){var t;if(e.type===r.pki.oids.contentType)t=i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.value).getBytes());else if(e.type===r.pki.oids.messageDigest)t=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===r.pki.oids.signingTime){var n=new Date("1950-01-01T00:00:00Z"),o=new Date("2050-01-01T00:00:00Z"),a=e.value;if("string"==typeof a){var u=Date.parse(a);a=isNaN(u)?13===a.length?i.utcTimeToDate(a):i.generalizedTimeToDate(a):new Date(u)}t=a>=n&&a<o?i.create(i.Class.UNIVERSAL,i.Type.UTCTIME,!1,i.dateToUtcTime(a)):i.create(i.Class.UNIVERSAL,i.Type.GENERALIZEDTIME,!1,i.dateToGeneralizedTime(a))}return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[t])])}function f(e,t,n){var o={};if(!i.validate(t,n,o,[])){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}if(i.derToOid(o.contentType)!==r.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(o.encryptedContent){var u="";if(r.util.isArray(o.encryptedContent))for(var s=0;s<o.encryptedContent.length;++s){if(o.encryptedContent[s].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");u+=o.encryptedContent[s].value}else u=o.encryptedContent;e.encryptedContent={algorithm:i.derToOid(o.encAlgorithm),parameter:r.util.createBuffer(o.encParameter.value),content:r.util.createBuffer(u)}}if(o.content){u="";if(r.util.isArray(o.content))for(s=0;s<o.content.length;++s){if(o.content[s].type!==i.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");u+=o.content[s].value}else u=o.content;e.content=r.util.createBuffer(u)}return e.version=o.version.charCodeAt(0),e.rawCapture=o,o}function l(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case r.pki.oids["aes128-CBC"]:case r.pki.oids["aes192-CBC"]:case r.pki.oids["aes256-CBC"]:t=r.aes.createDecryptionCipher(e.encryptedContent.key);break;case r.pki.oids.desCBC:case r.pki.oids["des-EDE3-CBC"]:t=r.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o.messageFromPem=function(e){var t=r.pem.decode(e)[0];if("PKCS7"!==t.type){var n=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw n.headerType=t.type,n}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var a=i.fromDer(t.body);return o.messageFromAsn1(a)},o.messageToPem=function(e,t){var n={type:"PKCS7",body:i.toDer(e.toAsn1()).getBytes()};return r.pem.encode(n,{maxline:t})},o.messageFromAsn1=function(e){var t={},n=[];if(!i.validate(e,o.asn1.contentInfoValidator,t,n)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw a.errors=n,a}var u,s=i.derToOid(t.contentType);switch(s){case r.pki.oids.envelopedData:u=o.createEnvelopedData();break;case r.pki.oids.encryptedData:u=o.createEncryptedData();break;case r.pki.oids.signedData:u=o.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+s+" is not (yet) supported.")}return u.fromAsn1(t.content.value[0]),u},o.createSignedData=function(){var e=null;return e={type:r.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(f(e,t,o.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var n=e.rawCapture.certificates.value,i=0;i<n.length;++i)e.certificates.push(r.pki.certificateFromAsn1(n[i]))},toAsn1:function(){e.contentInfo||e.sign();for(var t=[],n=0;n<e.certificates.length;++n)t.push(r.pki.certificateToAsn1(e.certificates[n]));var o=[],a=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return t.length>0&&a.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,t)),o.length>0&&a.value[0].value.push(i.create(i.Class.CONTEXT_SPECIFIC,1,!0,o)),a.value[0].value.push(i.create(i.Class.UNIVERSAL,i.Type.SET,!0,e.signerInfos)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),a])},addSigner:function(t){var n=t.issuer,i=t.serialNumber;if(t.certificate){var o=t.certificate;"string"==typeof o&&(o=r.pki.certificateFromPem(o)),n=o.issuer.attributes,i=o.serialNumber}var a=t.key;if(!a)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof a&&(a=r.pki.privateKeyFromPem(a));var u=t.digestAlgorithm||r.pki.oids.sha1;switch(u){case r.pki.oids.sha1:case r.pki.oids.sha256:case r.pki.oids.sha384:case r.pki.oids.sha512:case r.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+u)}var s=t.authenticatedAttributes||[];if(s.length>0){for(var c=!1,f=!1,l=0;l<s.length;++l){var d=s[l];if(c||d.type!==r.pki.oids.contentType){if(f||d.type!==r.pki.oids.messageDigest);else if(f=!0,c)break}else if(c=!0,f)break}if(!c||!f)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:a,version:1,issuer:n,serialNumber:i,digestAlgorithm:u,signatureAlgorithm:r.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:s,unauthenticatedAttributes:[]})},sign:function(t){var n;(t=t||{},"object"!=typeof e.content||null===e.contentInfo)&&(e.contentInfo=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(r.pki.oids.data).getBytes())]),"content"in e&&(e.content instanceof r.util.ByteBuffer?n=e.content.bytes():"string"==typeof e.content&&(n=r.util.encodeUtf8(e.content)),t.detached?e.detachedContent=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,n):e.contentInfo.value.push(i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,n)]))));0!==e.signers.length&&function(t){var n;n=e.detachedContent?e.detachedContent:(n=e.contentInfo.value[1]).value[0];if(!n)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var o=i.derToOid(e.contentInfo.value[0].value),a=i.toDer(n);for(var u in a.getByte(),i.getBerValueLength(a),a=a.getBytes(),t)t[u].start().update(a);for(var f=new Date,l=0;l<e.signers.length;++l){var d=e.signers[l];if(0===d.authenticatedAttributes.length){if(o!==r.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var h=i.create(i.Class.UNIVERSAL,i.Type.SET,!0,[]),p=0;p<d.authenticatedAttributes.length;++p){var m=d.authenticatedAttributes[p];m.type===r.pki.oids.messageDigest?m.value=t[d.digestAlgorithm].digest():m.type===r.pki.oids.signingTime&&(m.value||(m.value=f)),h.value.push(c(m)),d.authenticatedAttributesAsn1.value.push(c(m))}a=i.toDer(h).getBytes(),d.md.start().update(a)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],n=0;n<e.length;++n)t.push(s(e[n]));return t}(e.signers)}(function(){for(var t={},n=0;n<e.signers.length;++n){var o=e.signers[n];(a=o.digestAlgorithm)in t||(t[a]=r.md[r.pki.oids[a]].create()),0===o.authenticatedAttributes.length?o.md=t[a]:o.md=r.md[r.pki.oids[a]].create()}for(var a in e.digestAlgorithmIdentifiers=[],t)e.digestAlgorithmIdentifiers.push(i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(a).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]));return t}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=r.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},o.createEncryptedData=function(){var e=null;return e={type:r.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:r.pki.oids["aes256-CBC"]},fromAsn1:function(t){f(e,t,o.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),l(e)}}},o.createEnvelopedData=function(){var e=null;return e={type:r.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:r.pki.oids["aes256-CBC"]},fromAsn1:function(t){var n=f(e,t,o.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],n=0;n<e.length;++n)t.push(a(e[n]));return t}(n.recipientInfos.value)},toAsn1:function(){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(e.type).getBytes()),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(e.version).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SET,!0,u(e.recipients)),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,(t=e.encryptedContent,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(r.pki.oids.data).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(t.algorithm).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.parameter.getBytes())]),i.create(i.Class.CONTEXT_SPECIFIC,0,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,t.content.getBytes())])]))])])]);var t},findRecipient:function(t){for(var n=t.issuer.attributes,r=0;r<e.recipients.length;++r){var i=e.recipients[r],o=i.issuer;if(i.serialNumber===t.serialNumber&&o.length===n.length){for(var a=!0,u=0;u<n.length;++u)if(o[u].type!==n[u].type||o[u].value!==n[u].value){a=!1;break}if(a)return i}}return null},decrypt:function(t,n){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==n)switch(t.encryptedContent.algorithm){case r.pki.oids.rsaEncryption:case r.pki.oids.desCBC:var i=n.decrypt(t.encryptedContent.content);e.encryptedContent.key=r.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}l(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:r.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,n){if(void 0===e.encryptedContent.content){var i,o,a;switch(n=n||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,n){case r.pki.oids["aes128-CBC"]:i=16,o=16,a=r.aes.createEncryptionCipher;break;case r.pki.oids["aes192-CBC"]:i=24,o=16,a=r.aes.createEncryptionCipher;break;case r.pki.oids["aes256-CBC"]:i=32,o=16,a=r.aes.createEncryptionCipher;break;case r.pki.oids["des-EDE3-CBC"]:i=24,o=8,a=r.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+n)}if(void 0===t)t=r.util.createBuffer(r.random.getBytes(i));else if(t.length()!=i)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+i+".");e.encryptedContent.algorithm=n,e.encryptedContent.key=t,e.encryptedContent.parameter=r.util.createBuffer(r.random.getBytes(o));var u=a(t);if(u.start(e.encryptedContent.parameter.copy()),u.update(e.content),!u.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=u.output}for(var s=0;s<e.recipients.length;++s){var c=e.recipients[s];if(void 0===c.encryptedContent.content)switch(c.encryptedContent.algorithm){case r.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}}}},function(e,t,n){var r=n(39);n(151),n(51);var i=r.asn1,o=e.exports=r.pkcs7asn1=r.pkcs7asn1||{};r.pkcs7=r.pkcs7||{},r.pkcs7.asn1=o;var a={name:"ContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};o.contentInfoValidator=a;var u={name:"EncryptedContentInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};o.envelopedDataValidator={name:"EnvelopedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(u)},o.encryptedDataValidator={name:"EncryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"}].concat(u)};var s={name:"SignerInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};o.signedDataValidator={name:"SignedData",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:i.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:i.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:i.Class.UNIVERSAL,type:i.Type.SET,capture:"signerInfos",optional:!0,value:[s]}]},o.recipientInfoValidator={name:"RecipientInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:i.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},function(e,t,n){var r=n(39);n(1608),e.exports=r.mgf=r.mgf||{},r.mgf.mgf1=r.mgf1},function(e,t,n){var r=n(39);n(51),r.mgf=r.mgf||{},(e.exports=r.mgf.mgf1=r.mgf1=r.mgf1||{}).create=function(e){return{generate:function(t,n){for(var i=new r.util.ByteBuffer,o=Math.ceil(n/e.digestLength),a=0;a<o;a++){var u=new r.util.ByteBuffer;u.putInt32(a),e.start(),e.update(t+u.getBytes()),i.putBuffer(e.digest())}return i.truncate(i.length()-n),i.getBytes()}}}},function(e,t,n){var r=n(39);n(169),n(51),(e.exports=r.pss=r.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,n=e.md,i=e.mgf,o=n.digestLength,a=e.salt||null;if("string"==typeof a&&(a=r.util.createBuffer(a)),"saltLength"in e)t=e.saltLength;else{if(null===a)throw new Error("Salt length not specified or specific salt not given.");t=a.length()}if(null!==a&&a.length()!==t)throw new Error("Given salt length does not match length of given salt.");var u=e.prng||r.random,s={encode:function(e,s){var c,f,l=s-1,d=Math.ceil(l/8),h=e.digest().getBytes();if(d<o+t+2)throw new Error("Message is too long to encrypt.");f=null===a?u.getBytesSync(t):a.bytes();var p=new r.util.ByteBuffer;p.fillWithByte(0,8),p.putBytes(h),p.putBytes(f),n.start(),n.update(p.getBytes());var m=n.digest().getBytes(),y=new r.util.ByteBuffer;y.fillWithByte(0,d-t-o-2),y.putByte(1),y.putBytes(f);var v=y.getBytes(),g=d-o-1,b=i.generate(m,g),w="";for(c=0;c<g;c++)w+=String.fromCharCode(v.charCodeAt(c)^b.charCodeAt(c));var E=65280>>8*d-l&255;return(w=String.fromCharCode(w.charCodeAt(0)&~E)+w.substr(1))+m+String.fromCharCode(188)},verify:function(e,a,u){var s,c=u-1,f=Math.ceil(c/8);if(a=a.substr(-f),f<o+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==a.charCodeAt(f-1))throw new Error("Encoded message does not end in 0xBC.");var l=f-o-1,d=a.substr(0,l),h=a.substr(l,o),p=65280>>8*f-c&255;if(0!=(d.charCodeAt(0)&p))throw new Error("Bits beyond keysize not zero as expected.");var m=i.generate(h,l),y="";for(s=0;s<l;s++)y+=String.fromCharCode(d.charCodeAt(s)^m.charCodeAt(s));y=String.fromCharCode(y.charCodeAt(0)&~p)+y.substr(1);var v=f-o-t-2;for(s=0;s<v;s++)if(0!==y.charCodeAt(s))throw new Error("Leftmost octets not zero as expected");if(1!==y.charCodeAt(v))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var g=y.substr(-t),b=new r.util.ByteBuffer;return b.fillWithByte(0,8),b.putBytes(e),b.putBytes(g),n.start(),n.update(b.getBytes()),h===n.digest().getBytes()}};return s}},function(e,t,n){"use strict";n(667);const r=n(39).pki;e.exports={certificateForKey:(e,t)=>{const n=r.setRsaPublicKey(t.n,t.e),i=r.createCertificate();i.publicKey=n,i.serialNumber="01",i.validity.notBefore=new Date,i.validity.notAfter=new Date,i.validity.notAfter.setFullYear(i.validity.notBefore.getFullYear()+10);const o=[{name:"organizationName",value:"ipfs"},{shortName:"OU",value:"keystore"},{name:"commonName",value:e.id}];return i.setSubject(o),i.setIssuer(o),i.setExtensions([{name:"basicConstraints",cA:!0},{name:"keyUsage",keyCertSign:!0,digitalSignature:!0,nonRepudiation:!0,keyEncipherment:!0,dataEncipherment:!0},{name:"extKeyUsage",serverAuth:!0,clientAuth:!0,codeSigning:!0,emailProtection:!0,timeStamping:!0},{name:"nsCertType",client:!0,server:!0,email:!0,objsign:!0,sslCA:!0,emailCA:!0,objCA:!0}]),i.sign(t),i},findAsync:async function(e,t){const n=e.map(t);return e[(await Promise.all(n)).findIndex(e=>e)]}}},function(e,t,n){"use strict";const r=n(57),{pipe:i}=n(66),{tap:o}=n(236),a=n(1612),{METRICS:u}=n(403),s=n(1613),c=["dataReceived","dataSent"],f={in:"dataReceived",out:"dataSent"};class l{constructor(e){this._options=r(u,e),this._globalStats=new s(c,this._options),this._peerStats=new Map,this._protocolStats=new Map,this._oldPeers=a(this._options.maxOldPeersRetention),this._running=!1,this._onMessage=this._onMessage.bind(this),this._connectionManager=e.connectionManager,this._connectionManager.on("peer:disconnect",e=>{this.onPeerDisconnected(e.remotePeer)})}start(){this._running=!0}stop(){this._running=!1,this._globalStats.stop();for(const e of this._peerStats.values())e.stop();for(const e of this._protocolStats.values())e.stop()}get global(){return this._globalStats}get peers(){return Array.from(this._peerStats.keys())}forPeer(e){const t=e.toB58String();return this._peerStats.get(t)||this._oldPeers.get(t)}get protocols(){return Array.from(this._protocolStats.keys())}forProtocol(e){return this._protocolStats.get(e)}onPeerDisconnected(e){const t=e.toB58String(),n=this._peerStats.get(t);n&&(n.stop(),this._peerStats.delete(t),this._oldPeers.set(t,n))}_onMessage({remotePeer:e,protocol:t,direction:n,dataLength:r}){if(!this._running)return;const i=f[n];let o=this.forPeer(e);if(o||(o=new s(c,this._options),this._peerStats.set(e.toB58String(),o)),o.push(i,r),this._globalStats.push(i,r),t){let e=this.forProtocol(t);e||(e=new s(c,this._options),this._protocolStats.set(t,e)),e.push(i,r)}}updatePlaceholder(e,t){if(!this._running)return;const n=this.forPeer(e),r=t.toB58String(),i=this.forPeer(t);let o=n;i&&(o=l.mergeStats(i,o),this._oldPeers.delete(r)),this._peerStats.delete(e.toB58String()),this._peerStats.set(r,o),o.start()}trackStream({stream:e,remotePeer:t,protocol:n}){const r=this,a=e.source;e.source=o(e=>r._onMessage({remotePeer:t,protocol:n,direction:"in",dataLength:e.length}))(a);const u=e.sink;return e.sink=e=>i(e,o(e=>r._onMessage({remotePeer:t,protocol:n,direction:"out",dataLength:e.length})),u),e}static mergeStats(e,t){return e.stop(),t.stop(),e._queue=[...e._queue,...t._queue],e}}e.exports=l},function(e,t,n){"use strict";const r=n(289);e.exports=e=>{const t=r(e);return t.delete=t.remove,t}},function(e,t,n){"use strict";const{EventEmitter:r}=n(33),{BigNumber:i}=n(1614),o=n(668),a=n(660);e.exports=class extends r{constructor(e,t){super(),this._options=t,this._queue=[],this._stats={dataReceived:i(0),dataSent:i(0)},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this);const n=this._options.movingAverageIntervals;for(let t=0;t<e.length;t++){const r=e[t];this._stats[r]=i(0),this._movingAverages[r]={};for(let e=0;e<n.length;e++){const t=n[e];(this._movingAverages[r][t]=o(t)).push(this._frequencyLastTime,0)}}}start(){this._queue.length&&this._resetComputeTimeout()}stop(){this._timeout&&(this._timeout.clear(),this._timeout=null)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}toJSON(){const e=this.snapshot,t=this.movingAverages,n={dataReceived:e.dataReceived.toString(),dataSent:e.dataSent.toString(),movingAverages:{}},r=Object.keys(t);for(const e of r){n.movingAverages[e]={};for(const r of Object.keys(t[e]))n.movingAverages[e][r]=t[e][r].movingAverage()}return n}push(e,t){this._queue.push([e,t,Date.now()]),this._resetComputeTimeout()}_resetComputeTimeout(){this._timeout=a(this._update,this._nextTimeout())}_nextTimeout(){const e=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-e),0)}_update(){if(this._timeout=null,this._queue.length){let e;for(e of this._queue)this._applyOp(e);this._queue=[],this._updateFrequency(e[2]),this.emit("update",this._stats)}}_updateFrequency(e){const t=e-this._frequencyLastTime;Object.keys(this._stats).forEach(n=>{this._updateFrequencyFor(n,t,e)}),this._frequencyLastTime=e}_updateFrequencyFor(e,t,n){const r=this._frequencyAccumulators[e]||0;this._frequencyAccumulators[e]=0;const i=r/(t||1)*1e3;let a=this._movingAverages[e];a||(a=this._movingAverages[e]={});const u=this._options.movingAverageIntervals;for(let e=0;e<u.length;e++){const t=u[e];let r=a[t];r||(r=a[t]=o(t)),r.push(n,i)}}_applyOp(e){const t=e[0],n=e[1];if("number"!=typeof n)throw new Error("invalid increment number: "+n);let r;r=Object.prototype.hasOwnProperty.call(this._stats,t)?this._stats[t]:this._stats[t]=i(0),this._stats[t]=r.plus(n),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=n}}},function(e,t,n){var r;!function(i){"use strict";var o,a=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,u=Math.ceil,s=Math.floor,c="[BigNumber Error] ",f=c+"Number primitive has more than 15 significant digits: ",l=1e14,d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e9;function p(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(n=14-(t=e[r++]+"").length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function y(e,t){var n,r,i=e.c,o=t.c,a=e.s,u=t.s,s=e.e,c=t.e;if(!a||!u)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-u:a;if(a!=u)return a;if(n=a<0,r=s==c,!i||!o)return r?0:!i^n?1:-1;if(!r)return s>c^n?1:-1;for(u=(s=i.length)<(c=o.length)?s:c,a=0;a<u;a++)if(i[a]!=o[a])return i[a]>o[a]^n?1:-1;return s==c?0:s>c^n?1:-1}function v(e,t,n,r){if(e<t||e>n||e!==s(e))throw Error(c+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function g(e){var t=e.c.length-1;return p(e.e/14)==t&&e.c[t]%2!=0}function b(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function w(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(++t>(r=e.length)){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}(o=function e(t){var n,r,i,o,E,_,S,T,A,P=F.prototype={constructor:F,toString:null,valueOf:null},k=new F(1),x=20,C=4,R=-7,I=21,O=-1e7,M=1e7,N=!1,D=1,L=0,j={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},B="0123456789abcdefghijklmnopqrstuvwxyz";function F(e,t){var n,o,u,c,l,d,h,p,m=this;if(!(m instanceof F))return new F(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>M?m.c=m.e=null:e.e<O?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,l=e;l>=10;l/=10,c++);return void(c>M?m.c=m.e=null:(m.e=c,m.c=[e]))}p=String(e)}else{if(!a.test(p=String(e)))return i(m,p,d);m.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(c=p.indexOf("."))>-1&&(p=p.replace(".","")),(l=p.search(/e/i))>0?(c<0&&(c=l),c+=+p.slice(l+1),p=p.substring(0,l)):c<0&&(c=p.length)}else{if(v(t,2,B.length,"Base"),10==t)return K(m=new F(e),x+m.e+1,C);if(p=String(e),d="number"==typeof e){if(0*e!=0)return i(m,p,d,t);if(m.s=1/e<0?(p=p.slice(1),-1):1,F.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(f+e)}else m.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(n=B.slice(0,t),c=l=0,h=p.length;l<h;l++)if(n.indexOf(o=p.charAt(l))<0){if("."==o){if(l>c){c=h;continue}}else if(!u&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){u=!0,l=-1,c=0;continue}return i(m,String(e),d,t)}d=!1,(c=(p=r(p,t,10,m.s)).indexOf("."))>-1?p=p.replace(".",""):c=p.length}for(l=0;48===p.charCodeAt(l);l++);for(h=p.length;48===p.charCodeAt(--h););if(p=p.slice(l,++h)){if(h-=l,d&&F.DEBUG&&h>15&&(e>9007199254740991||e!==s(e)))throw Error(f+m.s*e);if((c=c-l-1)>M)m.c=m.e=null;else if(c<O)m.c=[m.e=0];else{if(m.e=c,m.c=[],l=(c+1)%14,c<0&&(l+=14),l<h){for(l&&m.c.push(+p.slice(0,l)),h-=14;l<h;)m.c.push(+p.slice(l,l+=14));l=14-(p=p.slice(l)).length}else l-=h;for(;l--;p+="0");m.c.push(+p)}}else m.c=[m.e=0]}function U(e,t,n,r){var i,o,a,u,s;if(null==n?n=C:v(n,0,8),!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)s=m(e.c),s=1==r||2==r&&(a<=R||a>=I)?b(s,a):w(s,a,"0");else if(o=(e=K(new F(e),t,n)).e,u=(s=m(e.c)).length,1==r||2==r&&(t<=o||o<=R)){for(;u<t;s+="0",u++);s=b(s,o)}else if(t-=a,s=w(s,o,"0"),o+1>u){if(--t>0)for(s+=".";t--;s+="0");}else if((t+=o-u)>0)for(o+1==u&&(s+=".");t--;s+="0");return e.s<0&&i?"-"+s:s}function q(e,t){for(var n,r=1,i=new F(e[0]);r<e.length;r++){if(!(n=new F(e[r])).s){i=n;break}t.call(i,n)&&(i=n)}return i}function H(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+14*n-1)>M?e.c=e.e=null:n<O?e.c=[e.e=0]:(e.e=n,e.c=t),e}function K(e,t,n,r){var i,o,a,c,f,h,p,m=e.c,y=d;if(m){e:{for(i=1,c=m[0];c>=10;c/=10,i++);if((o=t-i)<0)o+=14,a=t,p=(f=m[h=0])/y[i-a-1]%10|0;else if((h=u((o+1)/14))>=m.length){if(!r)break e;for(;m.length<=h;m.push(0));f=p=0,i=1,a=(o%=14)-14+1}else{for(f=c=m[h],i=1;c>=10;c/=10,i++);p=(a=(o%=14)-14+i)<0?0:f/y[i-a-1]%10|0}if(r=r||t<0||null!=m[h+1]||(a<0?f:f%y[i-a-1]),r=n<4?(p||r)&&(0==n||n==(e.s<0?3:2)):p>5||5==p&&(4==n||r||6==n&&(o>0?a>0?f/y[i-a]:0:m[h-1])%10&1||n==(e.s<0?8:7)),t<1||!m[0])return m.length=0,r?(t-=e.e+1,m[0]=y[(14-t%14)%14],e.e=-t||0):m[0]=e.e=0,e;if(0==o?(m.length=h,c=1,h--):(m.length=h+1,c=y[14-o],m[h]=a>0?s(f/y[i-a]%y[a])*c:0),r)for(;;){if(0==h){for(o=1,a=m[0];a>=10;a/=10,o++);for(a=m[0]+=c,c=1;a>=10;a/=10,c++);o!=c&&(e.e++,m[0]==l&&(m[0]=1));break}if(m[h]+=c,m[h]!=l)break;m[h--]=0,c=1}for(o=m.length;0===m[--o];m.pop());}e.e>M?e.c=e.e=null:e.e<O&&(e.c=[e.e=0])}return e}function V(e){var t,n=e.e;return null===n?e.toString():(t=m(e.c),t=n<=R||n>=I?b(t,n):w(t,n,"0"),e.s<0?"-"+t:t)}return F.clone=e,F.ROUND_UP=0,F.ROUND_DOWN=1,F.ROUND_CEIL=2,F.ROUND_FLOOR=3,F.ROUND_HALF_UP=4,F.ROUND_HALF_DOWN=5,F.ROUND_HALF_EVEN=6,F.ROUND_HALF_CEIL=7,F.ROUND_HALF_FLOOR=8,F.EUCLID=9,F.config=F.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(c+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(v(n=e[t],0,h,t),x=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(v(n=e[t],0,8,t),C=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(v(n[0],-h,0,t),v(n[1],0,h,t),R=n[0],I=n[1]):(v(n,-h,h,t),R=-(I=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)v(n[0],-h,-1,t),v(n[1],1,h,t),O=n[0],M=n[1];else{if(v(n,-h,h,t),!n)throw Error(c+t+" cannot be zero: "+n);O=-(M=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(c+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw N=!n,Error(c+"crypto unavailable");N=n}else N=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(v(n=e[t],0,9,t),D=n),e.hasOwnProperty(t="POW_PRECISION")&&(v(n=e[t],0,h,t),L=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(c+t+" not an object: "+n);j=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(c+t+" invalid: "+n);B=n}}return{DECIMAL_PLACES:x,ROUNDING_MODE:C,EXPONENTIAL_AT:[R,I],RANGE:[O,M],CRYPTO:N,MODULO_MODE:D,POW_PRECISION:L,FORMAT:j,ALPHABET:B}},F.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!F.DEBUG)return!0;var t,n,r=e.c,i=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&i>=-h&&i<=h&&i===s(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break e}if((t=(i+1)%14)<1&&(t+=14),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=l||n!==s(n))break e;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(c+"Invalid BigNumber: "+e)},F.maximum=F.max=function(){return q(arguments,P.lt)},F.minimum=F.min=function(){return q(arguments,P.gt)},F.random=(o=9007199254740992*Math.random()&2097151?function(){return s(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,i,a,f=0,l=[],p=new F(k);if(null==e?e=x:v(e,0,h),i=u(e/14),N)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));f<i;)(a=131072*t[f]+(t[f+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[f]=n[0],t[f+1]=n[1]):(l.push(a%1e14),f+=2);f=i/2}else{if(!crypto.randomBytes)throw N=!1,Error(c+"crypto unavailable");for(t=crypto.randomBytes(i*=7);f<i;)(a=281474976710656*(31&t[f])+1099511627776*t[f+1]+4294967296*t[f+2]+16777216*t[f+3]+(t[f+4]<<16)+(t[f+5]<<8)+t[f+6])>=9e15?crypto.randomBytes(7).copy(t,f):(l.push(a%1e14),f+=7);f=i/7}if(!N)for(;f<i;)(a=o())<9e15&&(l[f++]=a%1e14);for(e%=14,(i=l[--f])&&e&&(a=d[14-e],l[f]=s(i/a)*a);0===l[f];l.pop(),f--);if(f<0)l=[r=0];else{for(r=-1;0===l[0];l.splice(0,1),r-=14);for(f=1,a=l[0];a>=10;a/=10,f++);f<14&&(r-=14-f)}return p.e=r,p.c=l,p}),F.sum=function(){for(var e=1,t=arguments,n=new F(t[0]);e<t.length;)n=n.plus(t[e++]);return n},r=function(){function e(e,t,n,r){for(var i,o,a=[0],u=0,s=e.length;u<s;){for(o=a.length;o--;a[o]*=t);for(a[0]+=r.indexOf(e.charAt(u++)),i=0;i<a.length;i++)a[i]>n-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/n|0,a[i]%=n)}return a.reverse()}return function(t,r,i,o,a){var u,s,c,f,l,d,h,p,y=t.indexOf("."),v=x,g=C;for(y>=0&&(f=L,L=0,t=t.replace(".",""),d=(p=new F(r)).pow(t.length-y),L=f,p.c=e(w(m(d.c),d.e,"0"),10,i,"0123456789"),p.e=p.c.length),c=f=(h=e(t,r,i,a?(u=B,"0123456789"):(u="0123456789",B))).length;0==h[--f];h.pop());if(!h[0])return u.charAt(0);if(y<0?--c:(d.c=h,d.e=c,d.s=o,h=(d=n(d,p,v,g,i)).c,l=d.r,c=d.e),y=h[s=c+v+1],f=i/2,l=l||s<0||null!=h[s+1],l=g<4?(null!=y||l)&&(0==g||g==(d.s<0?3:2)):y>f||y==f&&(4==g||l||6==g&&1&h[s-1]||g==(d.s<0?8:7)),s<1||!h[0])t=l?w(u.charAt(1),-v,u.charAt(0)):u.charAt(0);else{if(h.length=s,l)for(--i;++h[--s]>i;)h[s]=0,s||(++c,h=[1].concat(h));for(f=h.length;!h[--f];);for(y=0,t="";y<=f;t+=u.charAt(h[y++]));t=w(t,c,u.charAt(0))}return t}}(),n=function(){function e(e,t,n){var r,i,o,a,u=0,s=e.length,c=t%1e7,f=t/1e7|0;for(e=e.slice();s--;)u=((i=c*(o=e[s]%1e7)+(r=f*o+(a=e[s]/1e7|0)*c)%1e7*1e7+u)/n|0)+(r/1e7|0)+f*a,e[s]=i%n;return u&&(e=[u].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,o,a,u){var c,f,d,h,m,y,v,g,b,w,E,_,S,T,A,P,k,x=r.s==i.s?1:-1,C=r.c,R=i.c;if(!(C&&C[0]&&R&&R[0]))return new F(r.s&&i.s&&(C?!R||C[0]!=R[0]:R)?C&&0==C[0]||!R?0*x:x/0:NaN);for(b=(g=new F(x)).c=[],x=o+(f=r.e-i.e)+1,u||(u=l,f=p(r.e/14)-p(i.e/14),x=x/14|0),d=0;R[d]==(C[d]||0);d++);if(R[d]>(C[d]||0)&&f--,x<0)b.push(1),h=!0;else{for(T=C.length,P=R.length,d=0,x+=2,(m=s(u/(R[0]+1)))>1&&(R=e(R,m,u),C=e(C,m,u),P=R.length,T=C.length),S=P,E=(w=C.slice(0,P)).length;E<P;w[E++]=0);k=R.slice(),k=[0].concat(k),A=R[0],R[1]>=u/2&&A++;do{if(m=0,(c=t(R,w,P,E))<0){if(_=w[0],P!=E&&(_=_*u+(w[1]||0)),(m=s(_/A))>1)for(m>=u&&(m=u-1),v=(y=e(R,m,u)).length,E=w.length;1==t(y,w,v,E);)m--,n(y,P<v?k:R,v,u),v=y.length,c=1;else 0==m&&(c=m=1),v=(y=R.slice()).length;if(v<E&&(y=[0].concat(y)),n(w,y,E,u),E=w.length,-1==c)for(;t(R,w,P,E)<1;)m++,n(w,P<E?k:R,E,u),E=w.length}else 0===c&&(m++,w=[0]);b[d++]=m,w[0]?w[E++]=C[S]||0:(w=[C[S]],E=1)}while((S++<T||null!=w[0])&&x--);h=null!=w[0],b[0]||b.splice(0,1)}if(u==l){for(d=1,x=b[0];x>=10;x/=10,d++);K(g,o+(g.e=d+14*f-1)+1,a,h)}else g.e=f,g.r=+h;return g}}(),E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,_=/^([^.]+)\.$/,S=/^\.([^.]+)$/,T=/^-?(Infinity|NaN)$/,A=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,n,r){var i,o=n?t:t.replace(A,"");if(T.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(E,(function(e,t,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?e:t})),r&&(i=r,o=o.replace(_,"$1").replace(S,"0.$1")),t!=o))return new F(o,i);if(F.DEBUG)throw Error(c+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},P.absoluteValue=P.abs=function(){var e=new F(this);return e.s<0&&(e.s=1),e},P.comparedTo=function(e,t){return y(this,new F(e,t))},P.decimalPlaces=P.dp=function(e,t){var n,r,i,o=this;if(null!=e)return v(e,0,h),null==t?t=C:v(t,0,8),K(new F(o),e+o.e+1,t);if(!(n=o.c))return null;if(r=14*((i=n.length-1)-p(this.e/14)),i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},P.dividedBy=P.div=function(e,t){return n(this,new F(e,t),x,C)},P.dividedToIntegerBy=P.idiv=function(e,t){return n(this,new F(e,t),0,1)},P.exponentiatedBy=P.pow=function(e,t){var n,r,i,o,a,f,l,d,h=this;if((e=new F(e)).c&&!e.isInteger())throw Error(c+"Exponent not an integer: "+V(e));if(null!=t&&(t=new F(t)),a=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return d=new F(Math.pow(+V(h),a?2-g(e):+V(e))),t?d.mod(t):d;if(f=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new F(NaN);(r=!f&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||a&&h.c[1]>=24e7:h.c[0]<8e13||a&&h.c[0]<=9999975e7)))return o=h.s<0&&g(e)?-0:0,h.e>-1&&(o=1/o),new F(f?1/o:o);L&&(o=u(L/14+2))}for(a?(n=new F(.5),f&&(e.s=1),l=g(e)):l=(i=Math.abs(+V(e)))%2,d=new F(k);;){if(l){if(!(d=d.times(h)).c)break;o?d.c.length>o&&(d.c.length=o):r&&(d=d.mod(t))}if(i){if(0===(i=s(i/2)))break;l=i%2}else if(K(e=e.times(n),e.e+1,1),e.e>14)l=g(e);else{if(0===(i=+V(e)))break;l=i%2}h=h.times(h),o?h.c&&h.c.length>o&&(h.c.length=o):r&&(h=h.mod(t))}return r?d:(f&&(d=k.div(d)),t?d.mod(t):o?K(d,L,C,void 0):d)},P.integerValue=function(e){var t=new F(this);return null==e?e=C:v(e,0,8),K(t,t.e+1,e)},P.isEqualTo=P.eq=function(e,t){return 0===y(this,new F(e,t))},P.isFinite=function(){return!!this.c},P.isGreaterThan=P.gt=function(e,t){return y(this,new F(e,t))>0},P.isGreaterThanOrEqualTo=P.gte=function(e,t){return 1===(t=y(this,new F(e,t)))||0===t},P.isInteger=function(){return!!this.c&&p(this.e/14)>this.c.length-2},P.isLessThan=P.lt=function(e,t){return y(this,new F(e,t))<0},P.isLessThanOrEqualTo=P.lte=function(e,t){return-1===(t=y(this,new F(e,t)))||0===t},P.isNaN=function(){return!this.s},P.isNegative=function(){return this.s<0},P.isPositive=function(){return this.s>0},P.isZero=function(){return!!this.c&&0==this.c[0]},P.minus=function(e,t){var n,r,i,o,a=this,u=a.s;if(t=(e=new F(e,t)).s,!u||!t)return new F(NaN);if(u!=t)return e.s=-t,a.plus(e);var s=a.e/14,c=e.e/14,f=a.c,d=e.c;if(!s||!c){if(!f||!d)return f?(e.s=-t,e):new F(d?a:NaN);if(!f[0]||!d[0])return d[0]?(e.s=-t,e):new F(f[0]?a:3==C?-0:0)}if(s=p(s),c=p(c),f=f.slice(),u=s-c){for((o=u<0)?(u=-u,i=f):(c=s,i=d),i.reverse(),t=u;t--;i.push(0));i.reverse()}else for(r=(o=(u=f.length)<(t=d.length))?u:t,u=t=0;t<r;t++)if(f[t]!=d[t]){o=f[t]<d[t];break}if(o&&(i=f,f=d,d=i,e.s=-e.s),(t=(r=d.length)-(n=f.length))>0)for(;t--;f[n++]=0);for(t=l-1;r>u;){if(f[--r]<d[r]){for(n=r;n&&!f[--n];f[n]=t);--f[n],f[r]+=l}f[r]-=d[r]}for(;0==f[0];f.splice(0,1),--c);return f[0]?H(e,f,c):(e.s=3==C?-1:1,e.c=[e.e=0],e)},P.modulo=P.mod=function(e,t){var r,i,o=this;return e=new F(e,t),!o.c||!e.s||e.c&&!e.c[0]?new F(NaN):!e.c||o.c&&!o.c[0]?new F(o):(9==D?(i=e.s,e.s=1,r=n(o,e,0,3),e.s=i,r.s*=i):r=n(o,e,0,D),(e=o.minus(r.times(e))).c[0]||1!=D||(e.s=o.s),e)},P.multipliedBy=P.times=function(e,t){var n,r,i,o,a,u,s,c,f,d,h,m,y,v,g=this,b=g.c,w=(e=new F(e,t)).c;if(!(b&&w&&b[0]&&w[0]))return!g.s||!e.s||b&&!b[0]&&!w||w&&!w[0]&&!b?e.c=e.e=e.s=null:(e.s*=g.s,b&&w?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=p(g.e/14)+p(e.e/14),e.s*=g.s,(s=b.length)<(d=w.length)&&(y=b,b=w,w=y,i=s,s=d,d=i),i=s+d,y=[];i--;y.push(0));for(v=l,1e7,i=d;--i>=0;){for(n=0,h=w[i]%1e7,m=w[i]/1e7|0,o=i+(a=s);o>i;)n=((c=h*(c=b[--a]%1e7)+(u=m*c+(f=b[a]/1e7|0)*h)%1e7*1e7+y[o]+n)/v|0)+(u/1e7|0)+m*f,y[o--]=c%v;y[o]=n}return n?++r:y.splice(0,1),H(e,y,r)},P.negated=function(){var e=new F(this);return e.s=-e.s||null,e},P.plus=function(e,t){var n,r=this,i=r.s;if(t=(e=new F(e,t)).s,!i||!t)return new F(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/14,a=e.e/14,u=r.c,s=e.c;if(!o||!a){if(!u||!s)return new F(i/0);if(!u[0]||!s[0])return s[0]?e:new F(u[0]?r:0*i)}if(o=p(o),a=p(a),u=u.slice(),i=o-a){for(i>0?(a=o,n=s):(i=-i,n=u),n.reverse();i--;n.push(0));n.reverse()}for((i=u.length)-(t=s.length)<0&&(n=s,s=u,u=n,t=i),i=0;t;)i=(u[--t]=u[t]+s[t]+i)/l|0,u[t]=l===u[t]?0:u[t]%l;return i&&(u=[i].concat(u),++a),H(e,u,a)},P.precision=P.sd=function(e,t){var n,r,i,o=this;if(null!=e&&e!==!!e)return v(e,1,h),null==t?t=C:v(t,0,8),K(new F(o),e,t);if(!(n=o.c))return null;if(r=14*(i=n.length-1)+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&o.e+1>r&&(r=o.e+1),r},P.shiftedBy=function(e){return v(e,-9007199254740991,9007199254740991),this.times("1e"+e)},P.squareRoot=P.sqrt=function(){var e,t,r,i,o,a=this,u=a.c,s=a.s,c=a.e,f=x+4,l=new F("0.5");if(1!==s||!u||!u[0])return new F(!s||s<0&&(!u||u[0])?NaN:u?a:1/0);if(0==(s=Math.sqrt(+V(a)))||s==1/0?(((t=m(u)).length+c)%2==0&&(t+="0"),s=Math.sqrt(+t),c=p((c+1)/2)-(c<0||c%2),r=new F(t=s==1/0?"5e"+c:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new F(s+""),r.c[0])for((s=(c=r.e)+f)<3&&(s=0);;)if(o=r,r=l.times(o.plus(n(a,o,f,1))),m(o.c).slice(0,s)===(t=m(r.c)).slice(0,s)){if(r.e<c&&--s,"9999"!=(t=t.slice(s-3,s+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(K(r,r.e+x+2,1),e=!r.times(r).eq(a));break}if(!i&&(K(o,o.e+x+2,0),o.times(o).eq(a))){r=o;break}f+=4,s+=4,i=1}return K(r,r.e+x+1,C,e)},P.toExponential=function(e,t){return null!=e&&(v(e,0,h),e++),U(this,e,t,1)},P.toFixed=function(e,t){return null!=e&&(v(e,0,h),e=e+this.e+1),U(this,e,t)},P.toFormat=function(e,t,n){var r,i=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=j;else if("object"!=typeof n)throw Error(c+"Argument not an object: "+n);if(r=i.toFixed(e,t),i.c){var o,a=r.split("."),u=+n.groupSize,s=+n.secondaryGroupSize,f=n.groupSeparator||"",l=a[0],d=a[1],h=i.s<0,p=h?l.slice(1):l,m=p.length;if(s&&(o=u,u=s,s=o,m-=o),u>0&&m>0){for(o=m%u||u,l=p.substr(0,o);o<m;o+=u)l+=f+p.substr(o,u);s>0&&(l+=f+p.slice(o)),h&&(l="-"+l)}r=d?l+(n.decimalSeparator||"")+((s=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):l}return(n.prefix||"")+r+(n.suffix||"")},P.toFraction=function(e){var t,r,i,o,a,u,s,f,l,h,p,y,v=this,g=v.c;if(null!=e&&(!(s=new F(e)).isInteger()&&(s.c||1!==s.s)||s.lt(k)))throw Error(c+"Argument "+(s.isInteger()?"out of range: ":"not an integer: ")+V(s));if(!g)return new F(v);for(t=new F(k),l=r=new F(k),i=f=new F(k),y=m(g),a=t.e=y.length-v.e-1,t.c[0]=d[(u=a%14)<0?14+u:u],e=!e||s.comparedTo(t)>0?a>0?t:l:s,u=M,M=1/0,s=new F(y),f.c[0]=0;h=n(s,t,0,1),1!=(o=r.plus(h.times(i))).comparedTo(e);)r=i,i=o,l=f.plus(h.times(o=l)),f=o,t=s.minus(h.times(o=t)),s=o;return o=n(e.minus(r),i,0,1),f=f.plus(o.times(l)),r=r.plus(o.times(i)),f.s=l.s=v.s,p=n(l,i,a*=2,C).minus(v).abs().comparedTo(n(f,r,a,C).minus(v).abs())<1?[l,i]:[f,r],M=u,p},P.toNumber=function(){return+V(this)},P.toPrecision=function(e,t){return null!=e&&v(e,1,h),U(this,e,t,2)},P.toString=function(e){var t,n=this,i=n.s,o=n.e;return null===o?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=o<=R||o>=I?b(m(n.c),o):w(m(n.c),o,"0"):10===e?t=w(m((n=K(new F(n),x+o+1,C)).c),n.e,"0"):(v(e,2,B.length,"Base"),t=r(w(m(n.c),o,"0"),10,e,i,!0)),i<0&&n.c[0]&&(t="-"+t)),t},P.valueOf=P.toJSON=function(){return V(this)},P._isBigNumber=!0,null!=t&&F.set(t),F}()).default=o.BigNumber=o,void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:upgrader"),{error:r("libp2p:upgrader:err")}),o=n(4),a=n(1616),{Connection:u}=n(1620),s=n(31),{pipe:c}=n(66),f=n(1623),{codes:l}=n(71);e.exports=class{constructor({localPeer:e,metrics:t,cryptos:n=new Map,muxers:r=new Map,onConnectionEnd:i=(()=>{}),onConnection:o=(()=>{})}){this.localPeer=e,this.metrics=t,this.cryptos=n,this.muxers=r,this.protector=null,this.protocols=new Map,this.onConnection=o,this.onConnectionEnd=i}async upgradeInbound(e){let t,n,r,o,a,u,s;if(this.metrics){({setTarget:u,proxy:s}=f());const t=(1e9*Math.random()).toString(36)+Date.now();u({toB58String:()=>t}),e=this.metrics.trackStream({stream:e,remotePeer:s})}i("Starting the inbound connection upgrade");let c=e;this.protector&&(c=await this.protector.protect(e));try{({conn:t,remotePeer:n,protocol:a}=await this._encryptInbound(this.localPeer,c,this.cryptos)),this.muxers.size?({stream:r,Muxer:o}=await this._multiplexInbound(t,this.muxers)):r=t}catch(t){throw i.error("Failed to upgrade inbound connection",t),await e.close(t),t}return this.metrics&&(this.metrics.updatePlaceholder(s,n),u(n)),i("Successfully upgraded inbound connection"),this._createConnection({cryptoProtocol:a,direction:"inbound",maConn:e,upgradedConn:r,Muxer:o,remotePeer:n})}async upgradeOutbound(e){const t=e.remoteAddr.getPeerId();if(!t)throw o(new Error("outbound connection must have a peer id"),l.ERR_INVALID_MULTIADDR);const n=s.createFromB58String(t);let r,a,u,c,d,h,p;if(this.metrics){({setTarget:h,proxy:p}=f());const t=(1e9*Math.random()).toString(36)+Date.now();h({toB58String:()=>t}),e=this.metrics.trackStream({stream:e,remotePeer:p})}i("Starting the outbound connection upgrade");let m=e;this.protector&&(m=await this.protector.protect(e));try{({conn:r,remotePeer:a,protocol:c}=await this._encryptOutbound(this.localPeer,m,n,this.cryptos)),this.muxers.size?({stream:u,Muxer:d}=await this._multiplexOutbound(r,this.muxers)):u=r}catch(t){throw i.error("Failed to upgrade outbound connection",t),await e.close(t),t}return this.metrics&&(this.metrics.updatePlaceholder(p,a),h(a)),i("Successfully upgraded outbound connection"),this._createConnection({cryptoProtocol:c,direction:"outbound",maConn:e,upgradedConn:u,Muxer:d,remotePeer:a})}_createConnection({cryptoProtocol:e,direction:t,maConn:n,upgradedConn:r,Muxer:s,remotePeer:f}){let d,h,p;s&&(d=new s({onStream:async e=>{if(!p)return;const n=new a.Listener(e);try{const{stream:r,protocol:o}=await n.handle(Array.from(this.protocols.keys()));i("%s: incoming stream opened on %s",t,o),this.metrics&&this.metrics.trackStream({stream:r,remotePeer:f,protocol:o}),p.addStream(e,{protocol:o}),this._onStream({connection:p,stream:{...e,...r},protocol:o})}catch(e){i.error(e)}},onStreamEnd:e=>{p.removeStream(e.id)}}),h=async e=>{i("%s: starting new stream on %s",t,e);const n=d.newStream(),r=new a.Dialer(n);try{const{stream:t,protocol:i}=await r.select(e);return this.metrics&&this.metrics.trackStream({stream:t,remotePeer:f,protocol:i}),{stream:{...n,...t},protocol:i}}catch(e){throw i.error("could not create new stream",e),o(e,l.ERR_UNSUPPORTED_PROTOCOL)}},c(r,d,r).catch(i.error));const m=n.timeline;n.timeline=new Proxy(m,{set:(...e)=>(p&&"close"===e[1]&&e[2]&&!m.close&&(async()=>{try{"open"===p.stat.status&&await p.close()}catch(e){i.error(e)}finally{this.onConnectionEnd(p)}})(),Reflect.set(...e))}),n.timeline.upgraded=Date.now();const y=()=>{throw o(new Error("connection is not multiplexed"),"ERR_CONNECTION_NOT_MULTIPLEXED")};return p=new u({localAddr:n.localAddr,remoteAddr:n.remoteAddr,localPeer:this.localPeer,remotePeer:f,stat:{direction:t,timeline:n.timeline,multiplexer:s&&s.multicodec,encryption:e},newStream:h||y,getStreams:()=>d?d.streams:y(),close:async()=>{await n.close(),d&&d.streams.map(e=>e.abort())}}),this.onConnection(p),p}_onStream({connection:e,stream:t,protocol:n}){this.protocols.get(n)({connection:e,stream:t,protocol:n})}async _encryptInbound(e,t,n){const r=new a.Listener(t),u=Array.from(n.keys());i("handling inbound crypto protocol selection",u);try{const{stream:t,protocol:o}=await r.handle(u),a=n.get(o);if(i("encrypting inbound connection..."),!a)throw new Error("no crypto module found for "+o);return{...await a.secureInbound(e,t),protocol:o}}catch(e){throw o(e,l.ERR_ENCRYPTION_FAILED)}}async _encryptOutbound(e,t,n,r){const u=new a.Dialer(t),s=Array.from(r.keys());i("selecting outbound crypto protocol",s);try{const{stream:t,protocol:o}=await u.select(s),a=r.get(o);if(i("encrypting outbound connection to %j",n),!a)throw new Error("no crypto module found for "+o);return{...await a.secureOutbound(e,t,n),protocol:o}}catch(e){throw o(e,l.ERR_ENCRYPTION_FAILED)}}async _multiplexOutbound(e,t){const n=new a.Dialer(e),r=Array.from(t.keys());i("outbound selecting muxer %s",r);try{const{stream:e,protocol:o}=await n.select(r);i("%s selected as muxer protocol",o);return{stream:e,Muxer:t.get(o)}}catch(e){throw o(e,l.ERR_MUXER_UNAVAILABLE)}}async _multiplexInbound(e,t){const n=new a.Listener(e),r=Array.from(t.keys());i("inbound handling muxers %s",r);try{const{stream:e,protocol:i}=await n.handle(r);return{stream:e,Muxer:t.get(i)}}catch(e){throw o(e,l.ERR_MUXER_UNAVAILABLE)}}}},function(e,t,n){"use strict";const r=n(1617),i=n(1618),o=n(1619),{PROTOCOL_ID:a}=n(669);t.PROTOCOL_ID=a;class u{constructor(e){this._stream=e,this._shaken=!1}async _handshake(){if(this._shaken)return;const{stream:e}=await r(this._stream,a);this._stream=e,this._shaken=!0}}t.Dialer=class extends u{select(e){return r(this._stream,e,this._shaken?null:a)}async ls(){await this._handshake();const{stream:e,protocols:t}=await o(this._stream);return this._stream=e,t}};t.Listener=class extends u{handle(e){return i(this._stream,e)}}},function(e,t,n){"use strict";const r=n(6)("mss:select"),i=n(4),o=n(407),a=n(240);e.exports=async(e,t,n)=>{t=Array.isArray(t)?[...t]:[t];const{reader:u,writer:s,rest:c,stream:f}=a(e),l=t.shift();n?(r('select: write ["%s", "%s"]',n,l),o.writeAll(s,[n,l])):(r('select: write "%s"',l),o.write(s,l));let d=(await o.read(u)).toString();if(r('select: read "%s"',d),d===n&&(d=(await o.read(u)).toString(),r('select: read "%s"',d)),d===l)return c(),{stream:f,protocol:l};for(const e of t){r('select: write "%s"',e),o.write(s,e);const t=(await o.read(u)).toString();if(r('select: read "%s" for "%s"',t,e),t===e)return c(),{stream:f,protocol:e}}throw c(),i(new Error("protocol selection failed"),"ERR_UNSUPPORTED_PROTOCOL")}},function(e,t,n){"use strict";const r=n(6)("mss:handle"),i=n(86),o=n(407),a=n(240),{PROTOCOL_ID:u}=n(669);e.exports=async(e,t)=>{t=Array.isArray(t)?t:[t];const{writer:n,reader:s,rest:c,stream:f}=a(e);for(;;){const e=(await o.read(s)).toString();if(r('read "%s"',e),e!==u){if(t.includes(e))return o.write(n,e),r('respond with "%s" for "%s"',e,e),c(),{stream:f,protocol:e};"ls"!==e?(o.write(n,"na"),r('respond with "na" for "%s"',e)):(o.write(n,new i(t.map(e=>o.encode(e)))),r('respond with "%s" for %s',t,e))}else r('respond with "%s" for "%s"',u,e),o.write(n,u)}}},function(e,t,n){"use strict";const r=n(402),i=n(6)("it-multistream-select:ls"),o=n(407),a=n(240),u=n(119),s=n(66);e.exports=async e=>{const{reader:t,writer:n,rest:c,stream:f}=a(e);i('write "ls"'),o.write(n,"ls"),c();const l=await o.read(t),d=r([l]),h=[];return await s(d,u.decode(),async e=>{for await(const t of e)h.push(t.shallowSlice(0,-1).toString())}),{stream:f,protocols:h}}},function(e,t,n){"use strict";t.Connection=n(1621)},function(e,t,n){"use strict";const r=n(31),{Multiaddr:i}=n(30),o=n(4),{OPEN:a,CLOSING:u,CLOSED:s}=n(1622),c=Symbol.for("@libp2p/interface-connection/connection");class f{constructor({localAddr:e,remoteAddr:t,localPeer:n,remotePeer:u,newStream:s,close:c,getStreams:f,stat:l}){!function(e,t,n,a,u,s,c){if(e&&!i.isMultiaddr(e))throw o(new Error("localAddr must be an instance of multiaddr"),"ERR_INVALID_PARAMETERS");if(!r.isPeerId(t))throw o(new Error("localPeer must be an instance of peer-id"),"ERR_INVALID_PARAMETERS");if(!r.isPeerId(n))throw o(new Error("remotePeer must be an instance of peer-id"),"ERR_INVALID_PARAMETERS");if("function"!=typeof a)throw o(new Error("new stream must be a function"),"ERR_INVALID_PARAMETERS");if("function"!=typeof u)throw o(new Error("close must be a function"),"ERR_INVALID_PARAMETERS");if("function"!=typeof s)throw o(new Error("getStreams must be a function"),"ERR_INVALID_PARAMETERS");if(!c)throw o(new Error("connection metadata object must be provided"),"ERR_INVALID_PARAMETERS");if("inbound"!==c.direction&&"outbound"!==c.direction)throw o(new Error('direction must be "inbound" or "outbound"'),"ERR_INVALID_PARAMETERS");if(!c.timeline)throw o(new Error("connection timeline object must be provided in the stat object"),"ERR_INVALID_PARAMETERS");if(!c.timeline.open)throw o(new Error("connection open timestamp must be provided"),"ERR_INVALID_PARAMETERS");if(!c.timeline.upgraded)throw o(new Error("connection upgraded timestamp must be provided"),"ERR_INVALID_PARAMETERS")}(e,n,u,s,c,f,l),this.id=parseInt(String(1e9*Math.random())).toString(36)+Date.now(),this.localAddr=e,this.remoteAddr=t,this.localPeer=n,this.remotePeer=u,this._stat={...l,status:a},this._newStream=s,this._close=c,this._getStreams=f,this.registry=new Map,this.tags=[]}get[Symbol.toStringTag](){return"Connection"}get[c](){return!0}static isConnection(e){return Boolean(e&&e[c])}get stat(){return this._stat}get streams(){return this._getStreams()}async newStream(e){if(this.stat.status===u)throw o(new Error("the connection is being closed"),"ERR_CONNECTION_BEING_CLOSED");if(this.stat.status===s)throw o(new Error("the connection is closed"),"ERR_CONNECTION_CLOSED");Array.isArray(e)||(e=[e]);const{stream:t,protocol:n}=await this._newStream(e);return this.addStream(t,{protocol:n}),{stream:t,protocol:n}}addStream(e,{protocol:t,metadata:n={}}){this.registry.set(e.id,{protocol:t,...n})}removeStream(e){this.registry.delete(e)}async close(){if(this.stat.status!==s){if(this._closing)return this._closing;this.stat.status=u,this._closing=await this._close(),this._stat.timeline.close=Date.now(),this.stat.status=s}}}e.exports=f},function(e,t,n){"use strict";e.exports={OPEN:"open",CLOSING:"closing",CLOSED:"closed"}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}e.exports=function(e){var t=void 0,n=void 0;function i(e){if(!(e instanceof Object))throw new Error('Target "'+e+'" is not an object');n=e}function o(e){Object.keys(e).forEach((function(t){var n=e[t];if("function"!=typeof n)throw new Error('Trap "'+t+": "+n+'" is not a function');if(!Reflect[t])throw new Error('Trap "'+t+": "+n+'" is not a valid trap')})),t=e}i((function(){})),e&&i(e),o(Reflect);var a=new Proxy({},{get:function(e,i){return function(){for(var e=arguments.length,o=Array(e),a=0;a<e;a++)o[a]=arguments[a];return t[i].apply(null,[n].concat(r(o.slice(1))))}}});return{setTarget:i,setHandler:o,getTarget:function(){return n},getHandler:function(){return t},proxy:new Proxy(n,a)}}},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:peer-store:address-book"),{error:r("libp2p:peer-store:address-book:err")}),o=n(4),{Multiaddr:a}=n(30),u=n(31),s=n(300),c=n(405),{codes:{ERR_INVALID_PARAMETERS:f}}=n(71),l=n(297);e.exports=class extends s{constructor(e){super({peerStore:e,eventName:"change:multiaddrs",eventProperty:"multiaddrs",eventTransformer:e=>e.addresses?e.addresses.map(e=>e.multiaddr):[]}),this.data=new Map}consumePeerRecord(e){let t;try{t=c.createFromProtobuf(e.payload)}catch(e){return i.error("invalid peer record received"),!1}if(!t.peerId.equals(e.peerId))return i("signing key does not match PeerId in the PeerRecord"),!1;if(!t.multiaddrs||!t.multiaddrs.length)return!1;const n=t.peerId,r=n.toB58String(),o=(this.data.get(r)||{record:void 0}).record;if(o&&o.seqNumber>=t.seqNumber)return!1;const a=this._toAddresses(t.multiaddrs,!0);return this._setData(n,{addresses:a,record:{raw:e.marshal(),seqNumber:t.seqNumber}}),i("stored provided peer record for "+r),!0}getRawEnvelope(e){const t=this.data.get(e.toB58String());if(t&&t.record&&t.record.raw)return t.record.raw}getPeerRecord(e){const t=this.getRawEnvelope(e);if(t)return l.createFromProtobuf(t)}set(e,t){if(!u.isPeerId(e))throw i.error("peerId must be an instance of peer-id to store data"),o(new Error("peerId must be an instance of peer-id"),f);const n=this._toAddresses(t);if(!n.length)return this;const r=e.toB58String(),a=this.data.get(r);if(a&&a.addresses&&a.addresses.length===n.length){if(a.addresses.filter(e=>n.some(t=>e.multiaddr.equals(t.multiaddr))).length===a.addresses.length)return i("the addresses provided to store are equal to the already stored for "+r),this}return this._setData(e,{addresses:n,record:a&&a.record}),i("stored provided multiaddrs for "+r),a||this._ps.emit("peer",e),this}add(e,t){if(!u.isPeerId(e))throw i.error("peerId must be an instance of peer-id to store data"),o(new Error("peerId must be an instance of peer-id"),f);const n=this._toAddresses(t),r=e.toB58String();if(!n.length)return this;const a=this.data.get(r);return a&&a.addresses&&(a.addresses.forEach(e=>{n.find(t=>t.multiaddr.equals(e.multiaddr))||n.push(e)}),a.addresses.length===n.length)?(i("the addresses provided to store are already stored for "+r),this):(this._setData(e,{addresses:n,record:a&&a.record}),i("added provided multiaddrs for "+r),a&&a.addresses||this._ps.emit("peer",e),this)}get(e){if(!u.isPeerId(e))throw o(new Error("peerId must be an instance of peer-id"),f);const t=this.data.get(e.toB58String());return t&&t.addresses?[...t.addresses]:void 0}_toAddresses(e,t=!1){if(!e)throw i.error("multiaddrs must be provided to store data"),o(new Error("multiaddrs must be provided"),f);const n=[];return e.forEach(e=>{if(!a.isMultiaddr(e))throw i.error(`multiaddr ${e} must be an instance of multiaddr`),o(new Error(`multiaddr ${e} must be an instance of multiaddr`),f);n.find(t=>t.multiaddr.equals(e))||n.push({multiaddr:e,isCertified:t})}),n}getMultiaddrsForPeer(e,t=(e=>e)){if(!u.isPeerId(e))throw o(new Error("peerId must be an instance of peer-id"),f);const n=this.data.get(e.toB58String());if(n&&n.addresses)return t(n.addresses||[]).map(t=>{const n=t.multiaddr,r=n.getPeerId();return r&&r===e.toB58String()?n:n.encapsulate("/p2p/"+e.toB58String())})}}},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:peer-store:key-book"),{error:r("libp2p:peer-store:key-book:err")}),o=n(4),a=n(31),u=n(300),{codes:{ERR_INVALID_PARAMETERS:s}}=n(71);e.exports=class extends u{constructor(e){super({peerStore:e,eventName:"change:pubkey",eventProperty:"pubkey",eventTransformer:e=>e.pubKey}),this.data=new Map}set(e,t){if(!a.isPeerId(e))throw i.error("peerId must be an instance of peer-id to store data"),o(new Error("peerId must be an instance of peer-id"),s);const n=e.toB58String();return!this.data.get(n)&&t&&(e.pubKey=t,this._setData(e,e),i("stored provided public key for "+n)),this}get(e){if(!a.isPeerId(e))throw o(new Error("peerId must be an instance of peer-id"),s);const t=this.data.get(e.toB58String());return t?t.pubKey:void 0}}},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:peer-store:proto-book"),{error:r("libp2p:peer-store:proto-book:err")}),o=n(4),a=n(96),u=n(31),s=n(300),{codes:{ERR_INVALID_PARAMETERS:c}}=n(71);e.exports=class extends s{constructor(e){super({peerStore:e,eventName:"change:metadata",eventProperty:"metadata"}),this.data=new Map}set(e,t,n){if(!u.isPeerId(e))throw i.error("peerId must be an instance of peer-id to store data"),o(new Error("peerId must be an instance of peer-id"),c);if("string"!=typeof t||!(n instanceof Uint8Array))throw i.error("valid key and value must be provided to store data"),o(new Error("valid key and value must be provided"),c);return this._setValue(e,t,n),this}_setValue(e,t,n,{emit:r=!0}={}){const o=e.toB58String(),u=this.data.get(o)||new Map,s=u.get(t);s&&a(n,s)?i(`the metadata provided to store is equal to the already stored for ${o} on ${t}`):(u.set(t,n),this.data.set(o,u),r&&this._emit(e,t))}get(e){if(!u.isPeerId(e))throw o(new Error("peerId must be an instance of peer-id"),c);return this.data.get(e.toB58String())}getValue(e,t){if(!u.isPeerId(e))throw o(new Error("peerId must be an instance of peer-id"),c);const n=this.data.get(e.toB58String());return n&&n.get(t)}delete(e){if(!u.isPeerId(e))throw o(new Error("peerId must be an instance of peer-id"),c);return!!this.data.delete(e.toB58String())&&(this._emit(e),!0)}deleteValue(e,t){if(!u.isPeerId(e))throw o(new Error("peerId must be an instance of peer-id"),c);const n=this.data.get(e.toB58String());return!(!n||!n.delete(t))&&(this._emit(e,t),!0)}}},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:peer-store:proto-book"),{error:r("libp2p:peer-store:proto-book:err")}),o=n(4),a=n(31),u=n(300),{codes:{ERR_INVALID_PARAMETERS:s}}=n(71);e.exports=class extends u{constructor(e){super({peerStore:e,eventName:"change:protocols",eventProperty:"protocols",eventTransformer:e=>Array.from(e)}),this.data=new Map}set(e,t){if(!a.isPeerId(e))throw i.error("peerId must be an instance of peer-id to store data"),o(new Error("peerId must be an instance of peer-id"),s);if(!t)throw i.error("protocols must be provided to store data"),o(new Error("protocols must be provided"),s);const n=e.toB58String(),r=this.data.get(n),u=new Set(t);return r&&(f=u,(c=r).size===f.size&&[...c].every(e=>f.has(e)))?(i("the protocols provided to store are equal to the already stored for "+n),this):(this._setData(e,u),i("stored provided protocols for "+n),this);var c,f}add(e,t){if(!a.isPeerId(e))throw i.error("peerId must be an instance of peer-id to store data"),o(new Error("peerId must be an instance of peer-id"),s);if(!t)throw i.error("protocols must be provided to store data"),o(new Error("protocols must be provided"),s);const n=e.toB58String(),r=this.data.get(n)||new Set,u=new Set([...r,...t]);return r.size===u.size?(i("the protocols provided to store are already stored for "+n),this):(this._setData(e,u),i("added provided protocols for "+n),this)}remove(e,t){if(!a.isPeerId(e))throw i.error("peerId must be an instance of peer-id to store data"),o(new Error("peerId must be an instance of peer-id"),s);if(!t)throw i.error("protocols must be provided to store data"),o(new Error("protocols must be provided"),s);const n=e.toB58String(),r=this.data.get(n);if(r){const o=new Set([...r].filter(e=>!t.includes(e)));if(r.size===o.size)return this;this._setData(e,o),i("removed provided protocols for "+n)}return this}}},function(e,t,n){"use strict";e.exports=function(e,t,n){const r=new e(t,n);return r._subscribeAdapter=r.subscribe,r._unsubscribeAdapter=r.unsubscribe,r.subscribe=function(e,t){t&&r.on(e,t),r._subscribeAdapter(e)},r.unsubscribe=function(e,t){t?r.removeListener(e,t):r.removeAllListeners(e),0===r.listenerCount(e)&&r._unsubscribeAdapter(e)},r}},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:persistent-peer-store"),{error:r("libp2p:persistent-peer-store:err")}),{Key:o}=n(47),{Multiaddr:a}=n(30),u=n(31),{base32:s}=n(85),c=n(670),{NAMESPACE_ADDRESS:f,NAMESPACE_COMMON:l,NAMESPACE_KEYS:d,NAMESPACE_METADATA:h,NAMESPACE_PROTOCOL:p}=n(1630),{Addresses:m}=n(1631),{Protocols:y}=n(1632);e.exports=class extends c{constructor({peerId:e,datastore:t,threshold:n=5}){super({peerId:e}),this._datastore=t,this._dirtyPeers=new Set,this._dirtyMetadata=new Map,this.threshold=n,this._addDirtyPeer=this._addDirtyPeer.bind(this)}async start(){i("PeerStore is starting"),this.on("change:protocols",this._addDirtyPeer),this.on("change:multiaddrs",this._addDirtyPeer),this.on("change:pubkey",this._addDirtyPeerKey),this.on("change:metadata",this._addDirtyPeerMetadata);for await(const e of this._datastore.query({prefix:l}))await this._processDatastoreEntry(e);i("PeerStore started")}async stop(){i("PeerStore is stopping"),this.removeAllListeners(),await this._commitData(),i("PeerStore stopped")}_addDirtyPeer({peerId:e}){const t=e.toB58String();i("add dirty peer",t),this._dirtyPeers.add(t),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(e=>{i.error("error committing data",e)})}_addDirtyPeerKey({peerId:e}){if(e.hasInlinePublicKey())return;const t=e.toB58String();i("add dirty peer key",t),this._dirtyPeers.add(t),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(e=>{i.error("error committing data",e)})}_addDirtyPeerMetadata({peerId:e,metadata:t}){const n=e.toB58String();i("add dirty metadata peer",n),this._dirtyPeers.add(n);const r=this._dirtyMetadata.get(n)||new Set;r.add(t),this._dirtyMetadata.set(n,r),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(e=>{i.error("error committing data",e)})}async _commitData(){const e=Array.from(this._dirtyPeers);if(!e.length)return;this._dirtyPeers.clear(),i("create batch commit");const t=this._datastore.batch();for(const n of e){const e=this.keyBook.data.get(n)||u.createFromB58String(n);this._batchAddressBook(e,t),!e.hasInlinePublicKey()&&this._batchKeyBook(e,t),this._batchMetadataBook(e,t),this._batchProtoBook(e,t)}await t.commit(),i("batch committed")}_batchAddressBook(e,t){const n=e.toString(),r=new o(`${f}${n}`),a=this.addressBook.data.get(e.toB58String());try{if(!a)return void t.delete(r);const e=m.encode({addrs:a.addresses.map(e=>({multiaddr:e.multiaddr.bytes,isCertified:e.isCertified})),certifiedRecord:a.record?{seq:a.record.seqNumber,raw:a.record.raw}:void 0}).finish();t.put(r,e)}catch(e){i.error(e)}}_batchKeyBook(e,t){const n=e.toString(),r=new o(`${d}${n}`);try{if(!e.pubKey)return void t.delete(r);const n=e.marshalPubKey();t.put(r,n)}catch(e){i.error(e)}}_batchMetadataBook(e,t){const n=e.toString(),r=this._dirtyMetadata.get(e.toB58String())||[];try{r.forEach(r=>{const i=new o(`${h}${n}/${r}`),a=this.metadataBook.getValue(e,r);a?t.put(i,a):t.delete(i)})}catch(e){i.error(e)}}_batchProtoBook(e,t){const n=e.toString(),r=new o(`${p}${n}`),a=this.protoBook.get(e);try{if(!a)return void t.delete(r);const e=y.encode({protocols:a}).finish();t.put(r,e)}catch(e){i.error(e)}}async _processDatastoreEntry({key:e,value:t}){try{const n=e.toString().split("/"),r=u.createFromBytes(s.decode(n[3]));let o;switch(n[2]){case"addrs":o=m.decode(t),this.addressBook._setData(r,{addresses:o.addrs.map(e=>({multiaddr:new a(e.multiaddr),isCertified:Boolean(e.isCertified)})),record:o.certifiedRecord?{raw:o.certifiedRecord.raw,seqNumber:o.certifiedRecord.seq}:void 0},{emit:!1});break;case"keys":o=await u.createFromPubKey(t),this.keyBook._setData(o,o,{emit:!1});break;case"metadata":this.metadataBook._setValue(r,n[4],t,{emit:!1});break;case"protos":o=y.decode(t),this.protoBook._setData(r,new Set(o.protocols),{emit:!1});break;default:i("invalid data persisted for: ",e.toString())}}catch(e){i.error(e)}}}},function(e,t,n){"use strict";e.exports.NAMESPACE_COMMON="/peers/",e.exports.NAMESPACE_ADDRESS="/peers/addrs/",e.exports.NAMESPACE_KEYS="/peers/keys/",e.exports.NAMESPACE_METADATA="/peers/metadata/",e.exports.NAMESPACE_PROTOCOL="/peers/protos/"},function(e,t,n){"use strict";var r=n(80),i=r.Reader,o=r.Writer,a=r.util,u=r.roots["libp2p-address-book"]||(r.roots["libp2p-address-book"]={});u.Addresses=function(){function e(e){if(this.addrs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.addrs=a.emptyArray,e.prototype.certifiedRecord=null,e.encode=function(e,t){if(t||(t=o.create()),null!=e.addrs&&e.addrs.length)for(var n=0;n<e.addrs.length;++n)u.Addresses.Address.encode(e.addrs[n],t.uint32(10).fork()).ldelim();return null!=e.certifiedRecord&&Object.hasOwnProperty.call(e,"certifiedRecord")&&u.Addresses.CertifiedRecord.encode(e.certifiedRecord,t.uint32(18).fork()).ldelim(),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Addresses;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.addrs&&r.addrs.length||(r.addrs=[]),r.addrs.push(u.Addresses.Address.decode(e,e.uint32()));break;case 2:r.certifiedRecord=u.Addresses.CertifiedRecord.decode(e,e.uint32());break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.Addresses)return e;var t=new u.Addresses;if(e.addrs){if(!Array.isArray(e.addrs))throw TypeError(".Addresses.addrs: array expected");t.addrs=[];for(var n=0;n<e.addrs.length;++n){if("object"!=typeof e.addrs[n])throw TypeError(".Addresses.addrs: object expected");t.addrs[n]=u.Addresses.Address.fromObject(e.addrs[n])}}if(null!=e.certifiedRecord){if("object"!=typeof e.certifiedRecord)throw TypeError(".Addresses.certifiedRecord: object expected");t.certifiedRecord=u.Addresses.CertifiedRecord.fromObject(e.certifiedRecord)}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.addrs=[]),t.defaults&&(n.certifiedRecord=null),e.addrs&&e.addrs.length){n.addrs=[];for(var r=0;r<e.addrs.length;++r)n.addrs[r]=u.Addresses.Address.toObject(e.addrs[r],t)}return null!=e.certifiedRecord&&e.hasOwnProperty("certifiedRecord")&&(n.certifiedRecord=u.Addresses.CertifiedRecord.toObject(e.certifiedRecord,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.Address=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.multiaddr=a.newBuffer([]),e.prototype.isCertified=!1,e.encode=function(e,t){return t||(t=o.create()),null!=e.multiaddr&&Object.hasOwnProperty.call(e,"multiaddr")&&t.uint32(10).bytes(e.multiaddr),null!=e.isCertified&&Object.hasOwnProperty.call(e,"isCertified")&&t.uint32(16).bool(e.isCertified),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Addresses.Address;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.multiaddr=e.bytes();break;case 2:r.isCertified=e.bool();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.Addresses.Address)return e;var t=new u.Addresses.Address;return null!=e.multiaddr&&("string"==typeof e.multiaddr?a.base64.decode(e.multiaddr,t.multiaddr=a.newBuffer(a.base64.length(e.multiaddr)),0):e.multiaddr.length&&(t.multiaddr=e.multiaddr)),null!=e.isCertified&&(t.isCertified=Boolean(e.isCertified)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.multiaddr="":(n.multiaddr=[],t.bytes!==Array&&(n.multiaddr=a.newBuffer(n.multiaddr))),n.isCertified=!1),null!=e.multiaddr&&e.hasOwnProperty("multiaddr")&&(n.multiaddr=t.bytes===String?a.base64.encode(e.multiaddr,0,e.multiaddr.length):t.bytes===Array?Array.prototype.slice.call(e.multiaddr):e.multiaddr),null!=e.isCertified&&e.hasOwnProperty("isCertified")&&(n.isCertified=e.isCertified),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e.CertifiedRecord=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.seq=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.raw=a.newBuffer([]),e.encode=function(e,t){return t||(t=o.create()),null!=e.seq&&Object.hasOwnProperty.call(e,"seq")&&t.uint32(8).uint64(e.seq),null!=e.raw&&Object.hasOwnProperty.call(e,"raw")&&t.uint32(18).bytes(e.raw),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Addresses.CertifiedRecord;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.seq=e.uint64();break;case 2:r.raw=e.bytes();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.Addresses.CertifiedRecord)return e;var t=new u.Addresses.CertifiedRecord;return null!=e.seq&&(a.Long?(t.seq=a.Long.fromValue(e.seq)).unsigned=!0:"string"==typeof e.seq?t.seq=parseInt(e.seq,10):"number"==typeof e.seq?t.seq=e.seq:"object"==typeof e.seq&&(t.seq=new a.LongBits(e.seq.low>>>0,e.seq.high>>>0).toNumber(!0))),null!=e.raw&&("string"==typeof e.raw?a.base64.decode(e.raw,t.raw=a.newBuffer(a.base64.length(e.raw)),0):e.raw.length&&(t.raw=e.raw)),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(a.Long){var r=new a.Long(0,0,!0);n.seq=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.seq=t.longs===String?"0":0;t.bytes===String?n.raw="":(n.raw=[],t.bytes!==Array&&(n.raw=a.newBuffer(n.raw)))}return null!=e.seq&&e.hasOwnProperty("seq")&&("number"==typeof e.seq?n.seq=t.longs===String?String(e.seq):e.seq:n.seq=t.longs===String?a.Long.prototype.toString.call(e.seq):t.longs===Number?new a.LongBits(e.seq.low>>>0,e.seq.high>>>0).toNumber(!0):e.seq),null!=e.raw&&e.hasOwnProperty("raw")&&(n.raw=t.bytes===String?a.base64.encode(e.raw,0,e.raw.length):t.bytes===Array?Array.prototype.slice.call(e.raw):e.raw),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e}(),e.exports=u},function(e,t,n){"use strict";var r=n(80),i=r.Reader,o=r.Writer,a=r.util,u=r.roots["libp2p-proto-book"]||(r.roots["libp2p-proto-book"]={});u.Protocols=function(){function e(e){if(this.protocols=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.protocols=a.emptyArray,e.encode=function(e,t){if(t||(t=o.create()),null!=e.protocols&&e.protocols.length)for(var n=0;n<e.protocols.length;++n)t.uint32(10).string(e.protocols[n]);return t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Protocols;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.protocols&&r.protocols.length||(r.protocols=[]),r.protocols.push(e.string());break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.Protocols)return e;var t=new u.Protocols;if(e.protocols){if(!Array.isArray(e.protocols))throw TypeError(".Protocols.protocols: array expected");t.protocols=[];for(var n=0;n<e.protocols.length;++n)t.protocols[n]=String(e.protocols[n])}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.protocols=[]),e.protocols&&e.protocols.length){n.protocols=[];for(var r=0;r<e.protocols.length;++r)n.protocols[r]=e.protocols[r]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e.exports=u},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:registrar"),{error:r("libp2p:registrar:err")}),o=n(4),{codes:{ERR_INVALID_PARAMETERS:a}}=n(71),u=n(628);e.exports=class{constructor({peerStore:e,connectionManager:t}){this.peerStore=e,this.connectionManager=t,this.topologies=new Map,this._handle=void 0,this._onDisconnect=this._onDisconnect.bind(this),this.connectionManager.on("peer:disconnect",this._onDisconnect)}get handle(){return this._handle}set handle(e){this._handle=e}getConnection(e){return this.connectionManager.get(e)}register(e){if(!u.isTopology(e))throw i.error("topology must be an instance of interfaces/topology"),o(new Error("topology must be an instance of interfaces/topology"),a);const t=(1e9*Math.random()).toString(36)+Date.now();return this.topologies.set(t,e),e.registrar=this,t}unregister(e){return this.topologies.delete(e)}_onDisconnect(e){for(const[,t]of this.topologies)t.disconnect(e.remotePeer)}}},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:ping"),{error:r("libp2p:ping:err")}),o=n(4),a=n(133),{pipe:u}=n(66),{toBuffer:s}=n(408),{collect:c,take:f}=n(236),l=n(96),{PROTOCOL:d,PING_LENGTH:h}=n(1635);(t=e.exports=async function(e,t){i("dialing %s to %s",d,t.toB58String?t.toB58String():t);const n=await e.dial(t),{stream:r}=await n.newStream(d),p=Date.now(),m=a.randomBytes(h),[y]=await u([m],r,e=>f(1,e),s,c),v=Date.now();if(!l(m,y))throw o(new Error("Received wrong ping ack"),"ERR_WRONG_PING_ACK");return v-p}).mount=function(e){e.handle(d,({stream:e})=>u(e,e))},t.unmount=function(e){e.unhandle(d)}},function(e,t,n){"use strict";e.exports={PROTOCOL:"/ipfs/ping/1.0.0",PING_LENGTH:32}},function(e,t,n){"use strict";const r=n(6),i=Object.assign(r("libp2p:identify"),{error:r("libp2p:identify:err")}),o=n(4),a=n(119),{pipe:u}=n(66),{collect:s,take:c,consume:f}=n(236),l=n(44),d=n(31),{Multiaddr:h}=n(30),{toBuffer:p}=n(408),m=n(1637),y=n(297),v=n(405),{MULTICODEC_IDENTIFY:g,MULTICODEC_IDENTIFY_PUSH:b,PROTOCOL_VERSION:w}=n(654),{codes:E}=n(71);class _{constructor({libp2p:e}){this._libp2p=e,this.peerStore=e.peerStore,this.addressManager=e.addressManager,this.connectionManager=e.connectionManager,this.peerId=e.peerId,this.handleMessage=this.handleMessage.bind(this),this._host={protocolVersion:w,...e._options.host},this.peerStore.metadataBook.set(this.peerId,"AgentVersion",l(this._host.agentVersion)),this.peerStore.metadataBook.set(this.peerId,"ProtocolVersion",l(this._host.protocolVersion)),this.connectionManager.on("peer:connect",e=>{this.identify(e).catch(i.error)}),this.peerStore.on("change:multiaddrs",({peerId:e})=>{e.toString()===this.peerId.toString()&&this.pushToPeerStore()}),this.peerStore.on("change:protocols",({peerId:e})=>{e.toString()===this.peerId.toString()&&this.pushToPeerStore()})}async push(e){const t=await this.peerStore.addressBook.getRawEnvelope(this.peerId),n=this._libp2p.multiaddrs.map(e=>e.bytes),r=this.peerStore.protoBook.get(this.peerId)||[],o=e.map(async e=>{try{const{stream:i}=await e.newStream(b);await u([m.Identify.encode({listenAddrs:n,signedPeerRecord:t,protocols:r}).finish()],a.encode(),i,f)}catch(e){i.error("could not push identify update to peer",e)}});return Promise.all(o)}pushToPeerStore(){if(!this._libp2p.isStarted())return;const e=[];let t;for(const n of this.peerStore.peers.values())n.protocols.includes(b)&&(t=this.connectionManager.get(n.id))&&e.push(t);this.push(e)}async identify(e){const{stream:t}=await e.newStream(g),[n]=await u([],t,a.decode(),c(1),p,s);if(!n)throw o(new Error("No data could be retrieved"),E.ERR_CONNECTION_ENDED);let r;try{r=m.Identify.decode(n)}catch(e){throw o(e,E.ERR_INVALID_MESSAGE)}const{publicKey:f,listenAddrs:b,protocols:w,observedAddr:S,signedPeerRecord:T}=r,A=await d.createFromPubKey(f);if(e.remotePeer.toB58String()!==A.toB58String())throw o(new Error("identified peer does not match the expected peer"),E.ERR_INVALID_PEER);const P=_.getCleanMultiaddr(S);try{const e=await y.openAndCertify(T,v.DOMAIN);if(this.peerStore.addressBook.consumePeerRecord(e))return this.peerStore.protoBook.set(A,w),this.peerStore.metadataBook.set(A,"AgentVersion",l(r.agentVersion)),void this.peerStore.metadataBook.set(A,"ProtocolVersion",l(r.protocolVersion))}catch(e){i("received invalid envelope, discard it and fallback to listenAddrs is available",e)}try{this.peerStore.addressBook.set(A,b.map(e=>new h(e)))}catch(e){i.error("received invalid addrs",e)}this.peerStore.protoBook.set(A,w),this.peerStore.metadataBook.set(A,"AgentVersion",l(r.agentVersion)),this.peerStore.metadataBook.set(A,"ProtocolVersion",l(r.protocolVersion)),i("received observed address of %s",P)}handleMessage({connection:e,stream:t,protocol:n}){switch(n){case g:return this._handleIdentify({connection:e,stream:t});case b:return this._handlePush({connection:e,stream:t});default:i.error("cannot handle unknown protocol %s",n)}}async _handleIdentify({connection:e,stream:t}){let n=new Uint8Array(0);this.peerId.pubKey&&(n=this.peerId.pubKey.bytes);const r=await this.peerStore.addressBook.getRawEnvelope(this.peerId),o=this.peerStore.protoBook.get(this.peerId)||[],s=m.Identify.encode({protocolVersion:this._host.protocolVersion,agentVersion:this._host.agentVersion,publicKey:n,listenAddrs:this._libp2p.multiaddrs.map(e=>e.bytes),signedPeerRecord:r,observedAddr:e.remoteAddr.bytes,protocols:o}).finish();try{await u([s],a.encode(),t,f)}catch(e){i.error("could not respond to identify request",e)}}async _handlePush({connection:e,stream:t}){let n;try{const[e]=await u([],t,a.decode(),c(1),p,s);n=m.Identify.decode(e)}catch(e){return i.error("received invalid message",e)}const r=e.remotePeer;try{const e=await y.openAndCertify(n.signedPeerRecord,v.DOMAIN);if(this.peerStore.addressBook.consumePeerRecord(e))return void this.peerStore.protoBook.set(r,n.protocols)}catch(e){i("received invalid envelope, discard it and fallback to listenAddrs is available",e)}try{this.peerStore.addressBook.set(r,n.listenAddrs.map(e=>new h(e)))}catch(e){i.error("received invalid addrs",e)}this.peerStore.protoBook.set(r,n.protocols)}static getCleanMultiaddr(e){if(e&&e.length>0)try{return new h(e)}catch(e){return null}return null}}const S={IDENTIFY:g,IDENTIFY_PUSH:b};_.multicodecs=S,_.Messsage=m,e.exports=_},function(e,t,n){"use strict";var r=n(80),i=r.Reader,o=r.Writer,a=r.util,u=r.roots["libp2p-identify"]||(r.roots["libp2p-identify"]={});u.Identify=function(){function e(e){if(this.listenAddrs=[],this.protocols=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.protocolVersion="",e.prototype.agentVersion="",e.prototype.publicKey=a.newBuffer([]),e.prototype.listenAddrs=a.emptyArray,e.prototype.observedAddr=a.newBuffer([]),e.prototype.protocols=a.emptyArray,e.prototype.signedPeerRecord=a.newBuffer([]),e.encode=function(e,t){if(t||(t=o.create()),null!=e.publicKey&&Object.hasOwnProperty.call(e,"publicKey")&&t.uint32(10).bytes(e.publicKey),null!=e.listenAddrs&&e.listenAddrs.length)for(var n=0;n<e.listenAddrs.length;++n)t.uint32(18).bytes(e.listenAddrs[n]);if(null!=e.protocols&&e.protocols.length)for(n=0;n<e.protocols.length;++n)t.uint32(26).string(e.protocols[n]);return null!=e.observedAddr&&Object.hasOwnProperty.call(e,"observedAddr")&&t.uint32(34).bytes(e.observedAddr),null!=e.protocolVersion&&Object.hasOwnProperty.call(e,"protocolVersion")&&t.uint32(42).string(e.protocolVersion),null!=e.agentVersion&&Object.hasOwnProperty.call(e,"agentVersion")&&t.uint32(50).string(e.agentVersion),null!=e.signedPeerRecord&&Object.hasOwnProperty.call(e,"signedPeerRecord")&&t.uint32(66).bytes(e.signedPeerRecord),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Identify;e.pos<n;){var o=e.uint32();switch(o>>>3){case 5:r.protocolVersion=e.string();break;case 6:r.agentVersion=e.string();break;case 1:r.publicKey=e.bytes();break;case 2:r.listenAddrs&&r.listenAddrs.length||(r.listenAddrs=[]),r.listenAddrs.push(e.bytes());break;case 4:r.observedAddr=e.bytes();break;case 3:r.protocols&&r.protocols.length||(r.protocols=[]),r.protocols.push(e.string());break;case 8:r.signedPeerRecord=e.bytes();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.Identify)return e;var t=new u.Identify;if(null!=e.protocolVersion&&(t.protocolVersion=String(e.protocolVersion)),null!=e.agentVersion&&(t.agentVersion=String(e.agentVersion)),null!=e.publicKey&&("string"==typeof e.publicKey?a.base64.decode(e.publicKey,t.publicKey=a.newBuffer(a.base64.length(e.publicKey)),0):e.publicKey.length&&(t.publicKey=e.publicKey)),e.listenAddrs){if(!Array.isArray(e.listenAddrs))throw TypeError(".Identify.listenAddrs: array expected");t.listenAddrs=[];for(var n=0;n<e.listenAddrs.length;++n)"string"==typeof e.listenAddrs[n]?a.base64.decode(e.listenAddrs[n],t.listenAddrs[n]=a.newBuffer(a.base64.length(e.listenAddrs[n])),0):e.listenAddrs[n].length&&(t.listenAddrs[n]=e.listenAddrs[n])}if(null!=e.observedAddr&&("string"==typeof e.observedAddr?a.base64.decode(e.observedAddr,t.observedAddr=a.newBuffer(a.base64.length(e.observedAddr)),0):e.observedAddr.length&&(t.observedAddr=e.observedAddr)),e.protocols){if(!Array.isArray(e.protocols))throw TypeError(".Identify.protocols: array expected");t.protocols=[];for(n=0;n<e.protocols.length;++n)t.protocols[n]=String(e.protocols[n])}return null!=e.signedPeerRecord&&("string"==typeof e.signedPeerRecord?a.base64.decode(e.signedPeerRecord,t.signedPeerRecord=a.newBuffer(a.base64.length(e.signedPeerRecord)),0):e.signedPeerRecord.length&&(t.signedPeerRecord=e.signedPeerRecord)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.listenAddrs=[],n.protocols=[]),t.defaults&&(t.bytes===String?n.publicKey="":(n.publicKey=[],t.bytes!==Array&&(n.publicKey=a.newBuffer(n.publicKey))),t.bytes===String?n.observedAddr="":(n.observedAddr=[],t.bytes!==Array&&(n.observedAddr=a.newBuffer(n.observedAddr))),n.protocolVersion="",n.agentVersion="",t.bytes===String?n.signedPeerRecord="":(n.signedPeerRecord=[],t.bytes!==Array&&(n.signedPeerRecord=a.newBuffer(n.signedPeerRecord)))),null!=e.publicKey&&e.hasOwnProperty("publicKey")&&(n.publicKey=t.bytes===String?a.base64.encode(e.publicKey,0,e.publicKey.length):t.bytes===Array?Array.prototype.slice.call(e.publicKey):e.publicKey),e.listenAddrs&&e.listenAddrs.length){n.listenAddrs=[];for(var r=0;r<e.listenAddrs.length;++r)n.listenAddrs[r]=t.bytes===String?a.base64.encode(e.listenAddrs[r],0,e.listenAddrs[r].length):t.bytes===Array?Array.prototype.slice.call(e.listenAddrs[r]):e.listenAddrs[r]}if(e.protocols&&e.protocols.length){n.protocols=[];for(r=0;r<e.protocols.length;++r)n.protocols[r]=e.protocols[r]}return null!=e.observedAddr&&e.hasOwnProperty("observedAddr")&&(n.observedAddr=t.bytes===String?a.base64.encode(e.observedAddr,0,e.observedAddr.length):t.bytes===Array?Array.prototype.slice.call(e.observedAddr):e.observedAddr),null!=e.protocolVersion&&e.hasOwnProperty("protocolVersion")&&(n.protocolVersion=e.protocolVersion),null!=e.agentVersion&&e.hasOwnProperty("agentVersion")&&(n.agentVersion=e.agentVersion),null!=e.signedPeerRecord&&e.hasOwnProperty("signedPeerRecord")&&(n.signedPeerRecord=t.bytes===String?a.base64.encode(e.signedPeerRecord,0,e.signedPeerRecord.length):t.bytes===Array?Array.prototype.slice.call(e.signedPeerRecord):e.signedPeerRecord),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e.exports=u},function(e,t,n){"use strict";const r=n(1639),i=n(6),{promisify:o}=n(1640),{Multiaddr:a}=n(30),u=Object.assign(i("libp2p:nat"),{error:i("libp2p:nat:err")}),{isBrowser:s}=n(1641),c=n(1642),f=n(657),l=n(655),d=n(4),{codes:{ERR_INVALID_PARAMETERS:h}}=n(71),p=n(1646);function m(e=1024,t=65535){return Math.floor(Math.random()*(t-e+1)+e)}e.exports=class{constructor({peerId:e,addressManager:t,transportManager:n,...r}){if(this._peerId=e,this._addressManager=t,this._transportManager=n,this._enabled=r.enabled,this._externalIp=r.externalIp,this._options={description:r.description||`${l.name}@${l.version} ${this._peerId}`,ttl:r.ttl||7200,autoUpdate:r.keepAlive||!0,gateway:r.gateway,enablePMP:Boolean(r.pmp&&r.pmp.enabled)},this._options.ttl<7200)throw d(new Error("NatManager ttl should be at least 7200 seconds"),h)}start(){!s&&this._enabled&&this._start().catch(e=>{u.error(e)})}async _start(){const e=this._transportManager.getAddrs();for(const t of e){const{family:e,host:n,port:r,transport:i}=t.toOptions();if(!t.isThinWaistAddress()||"tcp"!==i)continue;if(p(t))continue;if(4!==e)continue;const o=this._getClient(),s=this._externalIp||await o.externalIp();if(f(s))throw new Error(s+" is private - please set config.nat.externalIp to an externally routable IP or ensure you are not behind a double NAT");const c=m();u(`opening uPnP connection from ${s}:${c} to ${n}:${r}`),await o.map({publicPort:c,privatePort:r,protocol:i.toUpperCase()}),this._addressManager.addObservedAddr(a.fromNodeAddress({family:4,address:s,port:c},i))}}_getClient(){if(this._client)return this._client;const e=new r(this._options),t=o(e.map.bind(e)),n=o(e.destroy.bind(e)),i=o(e.externalIp.bind(e));return this._client={map:(...e)=>c(()=>t(...e),{onFailedAttempt:u.error,unref:!0}),destroy:(...e)=>c(()=>n(...e),{onFailedAttempt:u.error,unref:!0}),externalIp:(...e)=>c(()=>i(...e),{onFailedAttempt:u.error,unref:!0})},this._client}async stop(){if(!s&&this._client)try{await this._client.destroy(),this._client=null}catch(e){u.error(e)}}}},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promisify=r;function r(e){if("function"!=typeof e)throw new TypeError("Argument to promisify must be a function");var t=e["__ES6-PROMISIFY--CUSTOM-ARGUMENTS__"],n=r.Promise||Promise;if("function"!=typeof n)throw new Error("No Promise implementation found; do you need a polyfill?");return function(){for(var r=this,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return new n((function(n,i){o.push((function(e){if(e)return i(e);for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];if(1===o.length||!t)return n(o[0]);var u={};o.forEach((function(e,n){var r=t[n];r&&(u[r]=e)})),n(u)})),e.apply(r,o)}))}}r.argumentNames="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__",r.Promise=void 0},function(e,t,n){"use strict";(function(t){const r=n(309),i="object"==typeof window&&"object"==typeof document&&9===document.nodeType,o=r(),a=i&&!o,u=o&&!i,s=o&&i,c=void 0!==t&&void 0!==t.release&&"node"===t.release.name&&!o,f="function"==typeof importScripts&&"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,l=void 0!==t&&void 0!==t.env&&!1;e.exports={isTest:l,isElectron:o,isElectronMain:u,isElectronRenderer:s,isNode:c,isBrowser:a,isWebWorker:f,isEnvWithDom:i}}).call(this,n(49))},function(e,t,n){"use strict";const r=n(1643),i=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class o extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,({message:e}=e)):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const a=(e,t)=>new Promise((n,a)=>{t={onFailedAttempt:()=>{},retries:10,...t};const u=r.operation(t);u.attempt(async r=>{try{n(await e(r))}catch(e){if(!(e instanceof Error))return void a(new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`));if(e instanceof o)u.stop(),a(e.originalError);else if(e instanceof TypeError&&(s=e.message,!i.includes(s)))u.stop(),a(e);else{((e,t,n)=>{const r=n.retries-(t-1);e.attemptNumber=t,e.retriesLeft=r})(e,r,t);try{await t.onFailedAttempt(e)}catch(e){return void a(e)}u.retry(e)||a(u.mainError())}}var s})});e.exports=a,e.exports.default=a,e.exports.AbortError=o},function(e,t,n){e.exports=n(1644)},function(e,t,n){var r=n(1645);t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],i=0;i<t.retries;i++)r.push(this.createTimeout(i,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(i,t)),r.sort((function(e,t){return e-t})),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var i in r=[],e)"function"==typeof e[i]&&r.push(i);for(var o=0;o<r.length;o++){var a=r[o],u=e[a];e[a]=function(r){var i=t.operation(n),o=Array.prototype.slice.call(arguments,1),a=o.pop();o.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),a.apply(this,arguments))})),i.attempt((function(){r.apply(e,o)}))}.bind(e,u),e[a].options=n}}},function(e,t){function n(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=n,n.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},n.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},n.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1)}var r=this;return this._timer=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),n),this._options.unref&&this._timer.unref(),!0},n.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},n.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},n.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},n.prototype.start=n.prototype.try,n.prototype.errors=function(){return this._errors},n.prototype.attempts=function(){return this._attempts},n.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],o=i.message,a=(e[o]||0)+1;e[o]=a,a>=n&&(t=i,n=a)}return t}},function(e,t,n){"use strict";const r=n(1647);e.exports=function(e){const{address:t}=e.nodeAddress();return r(t)}},function(e,t,n){"use strict";e.exports=function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^::1$/.test(e)}},function(e,t,n){"use strict";const r=n(1649),i=n(1663),o=n(1684),{NOISE:a}=n(1690),u=n(1714),s=n(627),c=n(605);e.exports=()=>({dialer:{maxParallelDials:150,maxDialsPerPeer:4,dialTimeout:1e4},modules:{transport:[r,i],streamMuxer:[o],connEncryption:[a],peerDiscovery:[],dht:u,pubsub:s},config:{peerDiscovery:{autoDial:!0,bootstrap:{enabled:!0},webRTCStar:{enabled:!0}},dht:{kBucketSize:20,enabled:!1,clientMode:!0,randomWalk:{enabled:!1},validators:{ipns:c.validator},selectors:{ipns:c.selector}},pubsub:{enabled:!0,emitSelf:!0},nat:{enabled:!1}},metrics:{enabled:!0},peerStore:{persistence:!0,threshold:1}})},function(e,t,n){"use strict";const r=n(1650),i=n(367),o=n(294),{AbortError:a}=n(137),u=n(175),s=n(6),c=s("libp2p:websockets");c.error=s("libp2p:websockets:error");const f=n(275),l=n(1660),d=n(1661),h=n(1662);e.exports=i(class{constructor({upgrader:e,filter:t}){if(!e)throw new Error("An upgrader must be provided. See https://github.com/libp2p/interface-transport#upgrader.");this._upgrader=e,this._filter=t}async dial(e,t={}){c("dialing %s",e);const n=await this._connect(e,t),r=d(n,{remoteAddr:e,signal:t.signal});c("new outbound connection %s",r.remoteAddr);const i=await this._upgrader.upgradeOutbound(r);return c("outbound connection %s upgraded",r.remoteAddr),i}async _connect(e,t={}){if(t.signal&&t.signal.aborted)throw new a;const n=e.toOptions();c("dialing %s:%s",n.host,n.port);const i=u(),s=e=>{const t="connection error: "+e.message;c.error(t),i.reject(e)},f=r(o(e),Object.assign({binary:!0},t));if(f.socket.on?f.socket.on("error",s):f.socket.onerror=s,!t.signal)return await Promise.race([f.connected(),i.promise]),c("connected %s",e),f;let l;const d=new Promise((e,n)=>{if(l=()=>{n(new a),setTimeout(()=>{f.close()})},t.signal.aborted)return l();t.signal.addEventListener("abort",l)});try{await Promise.race([d,i.promise,f.connected()])}finally{t.signal.removeEventListener("abort",l)}return c("connected %s",e),f}createListener(e={},t){return"function"==typeof e&&(t=e,e={}),l({handler:t,upgrader:this._upgrader},e)}filter(e){return e=Array.isArray(e)?e:[e],this._filter?this._filter(e):f.isBrowser||f.isWebWorker?h.dnsWss(e):h.all(e)}},{className:"WebSockets",symbolName:"@libp2p/js-libp2p-websockets/websockets"})},function(e,t,n){"use strict";var r=n(1651),i=n(1653),o=n(1659);e.exports=function(e,t={}){const n="undefined"==typeof window?{}:window.location,a=o(e,n),u=new r(a,t.websocket),s=i(u,t);return s.remoteAddress=a,s.close=()=>new Promise((e,t)=>{u.addEventListener("close",e),u.close()}),s.destroy=()=>{u.terminate?u.terminate():u.close()},s.socket=u,s},e.exports.connect=e.exports},function(e,t,n){e.exports="undefined"==typeof WebSocket?n(1652):WebSocket},function(e,t){},function(e,t,n){const r=n(1654),i=n(1657);e.exports=(e,t)=>{(t=t||{}).binaryType?e.binaryType=t.binaryType:t.binary&&(e.binaryType="arraybuffer");const n={sink:i(e,t),source:r(e,t),connected:()=>n.source.connected()};return n}},function(e,t,n){const{Buffer:r}=n(27),{EventIterator:i}=n(1655);e.exports=e=>{const t=e.removeEventListener||e.removeListener,n=async function*(){const n=new i(({push:n,stop:r,fail:i})=>(e.addEventListener("message",n),e.addEventListener("error",i),e.addEventListener("close",r),()=>{t.call(e,"message",n),t.call(e,"error",i),t.call(e,"close",r)}),{highWaterMark:1/0});for await(const{data:e}of n)yield(o=e,o instanceof ArrayBuffer||null!=o&&null!=o.constructor&&"ArrayBuffer"===o.constructor.name&&"number"==typeof o.byteLength?r.from(e):e);var o}();let o,a=1===e.readyState;return e.addEventListener("open",()=>{a=!0,o=null}),e.addEventListener("close",()=>{a=!1,o=null}),e.addEventListener("error",e=>{a||(o=e)}),n.connected=()=>new Promise((n,r)=>{if(a)return n();if(o)return r(o);const i=n=>{t.call(e,"open",u),t.call(e,"error",s),n()},u=()=>i(n),s=e=>i(()=>r(e));e.addEventListener("open",u),e.addEventListener("error",s)}),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1656);t.EventIterator=r.EventIterator,t.subscribe=function(e,t,n){return new r.EventIterator(({push:n})=>(this.addEventListener(e,n,t),()=>this.removeEventListener(e,n,t)),n)},t.default=r.EventIterator},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.pullQueue=[],this.pushQueue=[],this.eventHandlers={},this.isPaused=!1,this.isStopped=!1}push(e){if(this.isStopped)return;const t={value:e,done:!1};if(this.pullQueue.length){const e=this.pullQueue.shift();e&&e.resolve(t)}else this.pushQueue.push(Promise.resolve(t)),void 0!==this.highWaterMark&&this.pushQueue.length>=this.highWaterMark&&!this.isPaused&&(this.isPaused=!0,this.eventHandlers.highWater?this.eventHandlers.highWater():console&&console.warn(`EventIterator queue reached ${this.pushQueue.length} items`))}stop(){if(!this.isStopped){this.isStopped=!0,this.remove();for(const e of this.pullQueue)e.resolve({value:void 0,done:!0});this.pullQueue.length=0}}fail(e){if(!this.isStopped)if(this.isStopped=!0,this.remove(),this.pullQueue.length){for(const t of this.pullQueue)t.reject(e);this.pullQueue.length=0}else{const t=Promise.reject(e);t.catch(()=>{}),this.pushQueue.push(t)}}remove(){Promise.resolve().then(()=>{this.removeCallback&&this.removeCallback()})}[Symbol.asyncIterator](){return{next:e=>{const t=this.pushQueue.shift();return t?(void 0!==this.lowWaterMark&&this.pushQueue.length<=this.lowWaterMark&&this.isPaused&&(this.isPaused=!1,this.eventHandlers.lowWater&&this.eventHandlers.lowWater()),t):this.isStopped?Promise.resolve({value:void 0,done:!0}):new Promise((e,t)=>{this.pullQueue.push({resolve:e,reject:t})})},return:()=>(this.isStopped=!0,this.pushQueue.length=0,this.remove(),Promise.resolve({value:void 0,done:!0}))}}}class i{constructor(e,{highWaterMark:t=100,lowWaterMark:n=1}={}){const i=new r;i.highWaterMark=t,i.lowWaterMark=n,i.removeCallback=e({push:e=>i.push(e),stop:()=>i.stop(),fail:e=>i.fail(e),on:(e,t)=>{i.eventHandlers[e]=t}})||(()=>{}),this[Symbol.asyncIterator]=()=>i[Symbol.asyncIterator](),Object.freeze(this)}}t.EventIterator=i,t.default=i},function(e,t,n){const r=n(1658);e.exports=(e,t)=>((t=t||{}).closeOnEnd=!1!==t.closeOnEnd,async n=>{for await(const t of n){try{await r(e)}catch(e){if("socket closed"===e.message)break;throw e}e.send(t)}if(t.closeOnEnd&&e.readyState<=1)return new Promise((t,n)=>{e.addEventListener("close",e=>{if(e.wasClean||1006===e.code)t();else{const t=Object.assign(new Error("ws error"),{event:e});n(t)}}),setTimeout(()=>e.close())})})},function(e,t){e.exports=async e=>{if(e.readyState>=2)throw new Error("socket closed");if(1!==e.readyState)return new Promise((t,n)=>{const r=e&&(e.removeEventListener||e.removeListener);function i(){"function"==typeof r&&(r.call(e,"open",o),r.call(e,"error",a))}function o(){i(),t()}function a(e){i(),n(e)}e.addEventListener("open",o),e.addEventListener("error",a)})}},function(e,t,n){const{relative:r}=n(273),i={http:"ws",https:"wss"};e.exports=(e,t)=>r(e,t,i,"ws")},function(e,t,n){"use strict";e.exports=function(){throw new Error("WebSocket Servers can not be created in the browser!")}},function(e,t,n){"use strict";const r=n(137),{CLOSE_TIMEOUT:i}=n(671),o=n(672),a=n(206),u=n(6),s=u("libp2p:websockets:socket");s.error=u("libp2p:websockets:socket:error"),e.exports=(e,t={})=>{const n={async sink(n){t.signal&&(n=r(n,t.signal));try{await e.sink(async function*(){for await(const e of n)yield e instanceof Uint8Array?e:e.slice()}())}catch(e){"aborted"!==e.type&&s.error(e)}},source:t.signal?r(e.source,t.signal):e.source,conn:e,localAddr:t.localAddr||(e.localAddress&&e.localPort?o(e.localAddress,e.localPort):void 0),remoteAddr:t.remoteAddr||o(e.remoteAddress,e.remotePort),timeline:{open:Date.now()},async close(){const t=Date.now();try{await a(e.close(),i)}catch(r){const{host:i,port:o}=n.remoteAddr.toOptions();s("timeout closing stream to %s:%s after %dms, destroying it manually",i,o,Date.now()-t),e.destroy()}finally{n.timeline.close=Date.now()}}};return e.socket.once&&e.socket.once("close",()=>{n.timeline.close||(n.timeline.close=Date.now())}),n}},function(e,t,n){"use strict";const r=n(195),{CODE_CIRCUIT:i,CODE_P2P:o,CODE_TCP:a,CODE_WS:u,CODE_WSS:s}=n(671);e.exports={all:e=>e.filter(e=>{if(e.protoCodes().includes(i))return!1;const t=e.decapsulateCode(o);return r.WebSockets.matches(t)||r.WebSocketsSecure.matches(t)}),dnsWss:e=>e.filter(e=>{if(e.protoCodes().includes(i))return!1;const t=e.decapsulateCode(o);return r.WebSocketsSecure.matches(t)&&r.DNS.matches(t.decapsulateCode(a).decapsulateCode(s))}),dnsWsOrWss:e=>e.filter(e=>{if(e.protoCodes().includes(i))return!1;const t=e.decapsulateCode(o);return r.WebSockets.matches(t)?r.DNS.matches(t.decapsulateCode(a).decapsulateCode(u)):r.WebSocketsSecure.matches(t)&&r.DNS.matches(t.decapsulateCode(a).decapsulateCode(s))})}},function(e,t,n){"use strict";const r=n(6),i=r("libp2p:webrtc-star");i.error=r("libp2p:webrtc-star:error");const{EventEmitter:o}=n(33),a=n(4),u=n(367),{AbortError:s}=n(137),c=n(673),{supportsWebRTCDataChannels:f}=n(1666),{Multiaddr:l}=n(30),d=n(195),h=n(31),{CODE_CIRCUIT:p}=n(409),m=n(1667),y=n(686),{cleanMultiaddr:v,cleanUrlSIO:g}=n(689);function b(){}e.exports=u(class{constructor(e={}){if(!e.upgrader)throw new Error("An upgrader must be provided. See https://github.com/libp2p/interface-transport#upgrader.");this._upgrader=e.upgrader,this.sioOptions={transports:["websocket"],"force new connection":!0},e.wrtc&&(this.wrtc=e.wrtc),this.sigReferences=new Map,this.discovery=new o,this.discovery.tag="webRTCStar",this.discovery._isStarted=!1,this.discovery.start=()=>{this.discovery._isStarted=!0},this.discovery.stop=()=>{this.discovery._isStarted=!1},this._peerDiscovered=this._peerDiscovered.bind(this)}async dial(e,t={}){const n=await this._connect(e,t),r=y(n,{remoteAddr:e,signal:t.signal});i("new outbound connection %s",r.remoteAddr);const o=await this._upgrader.upgradeOutbound(r);return i("outbound connection %s upgraded",r.remoteAddr),o}_connect(e,t={}){if(t.signal&&t.signal.aborted)throw new s;const n={initiator:!0,trickle:!1,...t.spOptions||{}};this.wrtc&&(n.wrtc=this.wrtc);const r=e.toOptions(),o=(~~(1e9*Math.random())).toString(36)+Date.now();return new Promise((u,f)=>{const l=this.sigReferences.get(g(e));if(!l||!l.listener)return f(a(new Error("unknown signal server to use"),"ERR_UNKNOWN_SIGNAL_SERVER"));const d=l.listener.io,h=Date.now();let p;i("dialing %s:%s",r.host,r.port);const m=new c(n),y=e=>{if(!p){const t=`connection error ${r.host}:${r.port}: ${e.message}`;i.error(t),E(e)}},v=()=>{i("connnection timeout %s:%s",r.host,r.port);const e=a(new Error(`connection timeout after ${Date.now()-h}ms`),"ERR_CONNECT_TIMEOUT");m.emit("error",e)},b=()=>{p=!0,i("connection opened %s:%s",r.host,r.port),E(null)},w=()=>{i.error("connection aborted %s:%s",r.host,r.port),m.destroy(),E(new s)},E=e=>{m.removeListener("timeout",v),m.removeListener("connect",b),t.signal&&t.signal.removeEventListener("abort",w),e?f(e):u(m)};m.on("error",y),m.once("timeout",v),m.once("connect",b),m.on("close",()=>{m.removeListener("error",y)}),t.signal&&t.signal.addEventListener("abort",w),m.on("signal",t=>{d.emit("ss-handshake",{intentId:o,srcMultiaddr:l.signallingAddr.toString(),dstMultiaddr:e.toString(),signal:t})}),d.on("ws-handshake",e=>{e.intentId===o&&e.err&&(m.destroy(),f(a(e.err instanceof Error?e.err:new Error(e.err),"ERR_SIGNALLING_FAILED"))),e.intentId===o&&e.answer&&!m.destroyed&&m.signal(e.signal)})})}createListener(e={},t){if(!f&&!this.wrtc)throw a(new Error("no WebRTC support"),"ERR_NO_WEBRTC_SUPPORT");return"function"==typeof e&&(t=e,e={}),m({handler:t=t||b,upgrader:this._upgrader},this,e)}filter(e){return(e=Array.isArray(e)?e:[e]).filter(e=>!e.protoCodes().includes(p)&&d.WebRTCStar.matches(e))}_peerDiscovered(e){if(!this.discovery._isStarted)return;i("Peer Discovered:",e),e=v(e);const t=new l(e),n=h.createFromB58String(t.getPeerId());this.discovery.emit("peer",{id:n,multiaddrs:[t]})}},{className:"WebRTCStar",symbolName:"@libp2p/js-libp2p-webrtc-star/webrtcstar"})},function(e,t){e.exports=function(){if("undefined"==typeof globalThis)return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}},function(e,t,n){"use strict";function r(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}e.exports=function(e,t,n){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");n||(n={}),"object"==typeof t&&(n=t,t=void 0),null!=t&&(n.code=t);try{return r(e,n)}catch(t){n.message=e.message,n.stack=e.stack;const i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(e)),r(new i,n)}}},function(e,t,n){"use strict";e.exports={supportsFileReader:"undefined"!=typeof self&&"FileReader"in self,supportsWebRTC:"RTCPeerConnection"in globalThis&&"undefined"!=typeof navigator&&void 0!==navigator.mediaDevices&&"getUserMedia"in navigator.mediaDevices,supportsWebRTCDataChannels:"RTCPeerConnection"in globalThis}},function(e,t,n){"use strict";const r=n(33),i=n(6),o=i("libp2p:webrtc-star:listener");o.error=i("libp2p:webrtc-star:listener:error");const a=n(4),u=n(1668),s=n(673),c=n(175),f=n(686),{cleanUrlSIO:l}=n(689),{CODE_P2P:d}=n(409),h={transports:["websocket"],"force new connection":!0,path:"/socket.io-next/"};e.exports=({handler:e,upgrader:t},n,i={})=>{const p=new r;let m,y;return p.__connections=[],p.__spChannels=new Map,p.__pendingIntents=new Map,p.listen=r=>{if(m)throw a(new Error("listener already in use"),"ERR_ALREADY_LISTENING");const v=c();let g;m=r,g=!r.protoCodes().includes(d)&&t.localPeer?r.encapsulate("/p2p/"+t.localPeer.toB58String()):r,p.on("error",()=>v.reject()),y=l(r),o("Dialing to Signalling Server on: "+y),p.io=u.connect(y,h);return p.io.once("connect_error",e=>v.reject(e)),p.io.once("error",e=>{p.emit("error",e),p.emit("close")}),p.io.on("ws-handshake",a=>{if(a.answer||a.err||!a.intentId)return;const u=a.intentId;let c=p.__pendingIntents.get(u);c||(c=[],p.__pendingIntents.set(u,c));let l=p.__spChannels.get(u);if(l)return void l.signal(a.signal);if("offer"!==a.signal.type)return void c.push(a);const h={trickle:!1,...i};n.wrtc&&(h.wrtc=n.wrtc),l=new s(h);const m=e=>{o.error("incoming connection errored",e)};l.on("error",m),l.once("close",(...e)=>{l.removeListener("error",m)}),l.on("signal",e=>{a.signal=e,a.answer=!0,p.io.emit("ss-handshake",a)}),l.signal(a.signal);for(const e of c)l.signal(e.signal);p.__pendingIntents.set(u,[]),l.once("connect",async()=>{const n=f(l);let i;o("new inbound connection %s",n.remoteAddr);try{i=await t.upgradeInbound(n)}catch(e){return o.error("inbound connection failed to upgrade",e),n.close()}if(!i.remoteAddr)try{i.remoteAddr=r.decapsulateCode(d).encapsulate("/p2p/"+i.remotePeer.toB58String())}catch(e){o.error("could not determine remote address",e)}o("inbound connection %s upgraded",n.remoteAddr),function(e,t,n){e.__connections.push(t);t.conn.once("close",()=>{e.__connections=e.__connections.filter(e=>e!==t),e.__spChannels.delete(n),e.__pendingIntents.delete(n)})}(p,n,u),p.emit("connection",i),e(i)}),p.__spChannels.set(u,l)}),p.io.on("ws-peer",n._peerDiscovered),p.io.on("connect",()=>{p.io.emit("ss-join",g.toString())}),p.io.once("connect",()=>{p.emit("listening"),v.resolve()}),n.sigReferences.set(y,{listener:p,signallingAddr:g}),v.promise},p.close=async()=>{const e=n.sigReferences.get(y);e&&e.listener.io&&(e.listener.io.emit("ss-leave"),e.listener.io.close()),await Promise.all(p.__connections.map(e=>e.close())),p.emit("close"),p.removeAllListeners(),m=void 0,n.sigReferences.delete(y)},p.getAddrs=()=>[m],p}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.io=t.Socket=t.Manager=t.protocol=void 0;const r=n(1669),i=n(675),o=n(6)("socket.io-client");e.exports=t=u;const a=t.managers={};function u(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};const n=r.url(e,t.path||"/socket.io"),u=n.source,s=n.id,c=n.path,f=a[s]&&c in a[s].nsps;let l;return t.forceNew||t["force new connection"]||!1===t.multiplex||f?(o("ignoring socket cache for %s",u),l=new i.Manager(u,t)):(a[s]||(o("new io instance for %s",u),a[s]=new i.Manager(u,t)),l=a[s]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}t.io=u;var s=n(412);Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return s.protocol}}),t.connect=u;var c=n(675);Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return c.Manager}});var f=n(682);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return f.Socket}}),t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;const r=n(674),i=n(6)("socket.io-client:url");t.url=function(e,t="",n){let o=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),i("parse %s",e),o=r(e)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";const a=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+a+":"+o.port+t,o.href=o.protocol+"://"+a+(n&&n.port===o.port?"":":"+o.port),o}},function(e,t,n){const r=n(1671);e.exports=(e,t)=>new r(e,t),e.exports.Socket=r,e.exports.protocol=r.protocol,e.exports.Transport=n(410),e.exports.transports=n(676),e.exports.parser=n(241)},function(e,t,n){const r=n(676),i=n(242),o=n(6)("engine.io-client:socket"),a=n(241),u=n(674),s=n(411);class c extends i{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=u(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=u(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=s.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){o('creating transport "%s"',e);const t=function(e){const t={};for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.opts.query);t.EIO=a.protocol,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return o("options: %j",n),new r[e](n)}open(){let e;if(this.opts.rememberUpgrade&&c.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void setTimeout(()=>{this.emit("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return o("error while creating transport: %s",e),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){o("setting transport %s",e.name),this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(e){o('probing transport "%s"',e);let t=this.createTransport(e,{probe:1}),n=!1;c.priorWebsocketSuccess=!1;const r=()=>{n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",r=>{if(!n)if("pong"===r.type&&"probe"===r.data){if(o('probe transport "%s" pong',e),this.upgrading=!0,this.emit("upgrading",t),!t)return;c.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{n||"closed"!==this.readyState&&(o("changing transport and sending upgrade packet"),l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emit("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{o('probe transport "%s" failed',e);const n=new Error("probe error");n.transport=t.name,this.emit("upgradeError",n)}}))};function i(){n||(n=!0,l(),t.close(),t=null)}const a=n=>{const r=new Error("probe error: "+n);r.transport=t.name,i(),o('probe transport "%s" failed because of error: %s',e,n),this.emit("upgradeError",r)};function u(){a("transport closed")}function s(){a("socket closed")}function f(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),i())}const l=()=>{t.removeListener("open",r),t.removeListener("error",a),t.removeListener("close",u),this.removeListener("close",s),this.removeListener("upgrading",f)};t.once("open",r),t.once("error",a),t.once("close",u),this.once("close",s),this.once("upgrading",f),t.open()}onOpen(){if(o("socket open"),this.readyState="open",c.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){o("starting upgrade probes");let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("ping"),this.emit("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),o("socket closing - telling transport to close"),this.transport.close()},t=()=>{this.removeListener("upgrade",t),this.removeListener("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){o("socket error %j",e),c.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(o('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}c.priorWebsocketSuccess=!1,c.protocol=a.protocol,e.exports=c},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){const r=n(677),i=n(678),o=n(242),{pick:a}=n(681),u=n(301),s=n(6)("engine.io-client:polling-xhr");function c(){}const f=null!=new r({xdomain:!1}).responseType;class l extends o{constructor(e,t){super(),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=a(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new r(e);try{s("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),this.hasXDR()?(t.onload=()=>{this.onLoad()},t.onerror=()=>{this.onError(t.responseText)}):t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():setTimeout(()=>{this.onError("number"==typeof t.status?t.status:0)},0))},s("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(()=>{this.onError(e)},0)}"undefined"!=typeof document&&(this.index=l.requestsCount++,l.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=c:this.xhr.onreadystatechange=c,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete l.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&this.onData(e)}hasXDR(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}}if(l.requestsCount=0,l.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",d);else if("function"==typeof addEventListener){addEventListener("onpagehide"in u?"pagehide":"unload",d,!1)}function d(){for(let e in l.requests)l.requests.hasOwnProperty(e)&&l.requests[e].abort()}e.exports=class extends i{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=f&&!t}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new l(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",e=>{this.onError("xhr post error",e)})}doPoll(){s("xhr poll");const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",e=>{this.onError("xhr poll error",e)}),this.pollXhr=e}},e.exports.Request=l},function(e,t,n){const{PACKET_TYPES:r}=n(679),i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),o="function"==typeof ArrayBuffer,a=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)};e.exports=({type:e,data:t},n,u)=>{return i&&t instanceof Blob?n?u(t):a(t,u):o&&(t instanceof ArrayBuffer||(s=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer))?n?u(t instanceof ArrayBuffer?t:t.buffer):a(new Blob([t]),u):u(r[e]+(t||""));var s}},function(e,t,n){const{PACKET_TYPES_REVERSE:r,ERROR_PACKET:i}=n(679);let o;"function"==typeof ArrayBuffer&&(o=n(1676));const a=(e,t)=>{if(o){const n=o.decode(e);return u(n,t)}return{base64:!0,data:e}},u=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}};e.exports=(e,t)=>{if("string"!=typeof e)return{type:"message",data:u(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:a(e.substring(1),t)};return r[n]?e.length>1?{type:r[n],data:e.substring(1)}:{type:r[n]}:i}},function(e,t){!function(e){"use strict";t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(t){var n,r,i,o,a,u=.75*t.length,s=t.length,c=0;"="===t[t.length-1]&&(u--,"="===t[t.length-2]&&u--);var f=new ArrayBuffer(u),l=new Uint8Array(f);for(n=0;n<s;n+=4)r=e.indexOf(t[n]),i=e.indexOf(t[n+1]),o=e.indexOf(t[n+2]),a=e.indexOf(t[n+3]),l[c++]=r<<2|i>>4,l[c++]=(15&i)<<4|o>>2,l[c++]=(3&o)<<6|63&a;return f}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(e,t,n){const r=n(678),i=n(301),o=/\n/g,a=/\\n/g;let u;e.exports=class extends r{constructor(e){super(e),this.query=this.query||{},u||(u=i.___eio=i.___eio||[]),this.index=u.length,u.push(this.onData.bind(this)),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){const e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=e=>{this.onError("jsonp poll error",e)};const t=document.getElementsByTagName("script")[0];t?t.parentNode.insertBefore(e,t):(document.head||document.body).appendChild(e),this.script=e;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){const e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)}doWrite(e,t){let n;if(!this.form){const e=document.createElement("form"),t=document.createElement("textarea"),n=this.iframeId="eio_iframe_"+this.index;e.className="socketio",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.target=n,e.method="POST",e.setAttribute("accept-charset","utf-8"),t.name="d",e.appendChild(t),document.body.appendChild(e),this.form=e,this.area=t}function r(){i(),t()}this.form.action=this.uri();const i=()=>{if(this.iframe)try{this.form.removeChild(this.iframe)}catch(e){this.onError("jsonp polling iframe removal error",e)}try{const e='<iframe src="javascript:0" name="'+this.iframeId+'">';n=document.createElement(e)}catch(e){n=document.createElement("iframe"),n.name=this.iframeId,n.src="javascript:0"}n.id=this.iframeId,this.form.appendChild(n),this.iframe=n};i(),e=e.replace(a,"\\\n"),this.area.value=e.replace(o,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=()=>{"complete"===this.iframe.readyState&&r()}:this.iframe.onload=r}}},function(e,t,n){(function(t){const r=n(410),i=n(241),o=n(411),a=n(680),{pick:u}=n(681),{WebSocket:s,usingBrowserWebSocket:c,defaultBinaryType:f,nextTick:l}=n(1679),d=n(6)("engine.io-client:websocket"),h="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class p extends r{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=h?{}:u(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=c&&!h?t?new s(e,t):new s(e):new s(e,t,n)}catch(e){return this.emit("error",e)}this.ws.binaryType=this.socket.binaryType||f,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],o=n===e.length-1;i.encodePacket(r,this.supportsBinary,e=>{const n={};if(!c&&(r.options&&(n.compress=r.options.compress),this.opts.perMessageDeflate)){("string"==typeof e?t.byteLength(e):e.length)<this.opts.perMessageDeflate.threshold&&(n.compress=!1)}try{c?this.ws.send(e):this.ws.send(e,n)}catch(e){d("websocket closed before onclose event")}o&&l(()=>{this.writable=!0,this.emit("drain")})})}}onClose(){r.prototype.onClose.call(this)}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=a()),this.supportsBinary||(e.b64=1),e=o.encode(e),e.length&&(e="?"+e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}check(){return!(!s||"__initialize"in s&&this.name===p.prototype.name)}}e.exports=p}).call(this,n(27).Buffer)},function(e,t,n){const r=n(301),i="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):e=>setTimeout(e,0);e.exports={WebSocket:r.WebSocket||r.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer",nextTick:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;const r=n(683);t.deconstructPacket=function(e){const t=[],n=e.data,i=e;return i.data=function e(t,n){if(!t)return t;if(r.isBinary(t)){const e={_placeholder:!0,num:n.length};return n.push(t),e}if(Array.isArray(t)){const r=new Array(t.length);for(let i=0;i<t.length;i++)r[i]=e(t[i],n);return r}if("object"==typeof t&&!(t instanceof Date)){const r={};for(const i in t)t.hasOwnProperty(i)&&(r[i]=e(t[i],n));return r}return t}(n,t),i.attachments=t.length,{packet:i,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(t,n){if(!t)return t;if(t&&t._placeholder)return n[t.num];if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=e(t[r],n);else if("object"==typeof t)for(const r in t)t.hasOwnProperty(r)&&(t[r]=e(t[r],n));return t}(e.data,t),e.attachments=void 0,e}},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){e.exports=n(298),e.exports.source=n(298),e.exports.sink=n(687),e.exports.transform=n(1683),e.exports.duplex=n(688)},function(e,t,n){const r=n(688);e.exports=e=>async function*(t){const n=r(e);let i;if(n.sink(t).catch(e=>{i=e}),yield*n.source,i)throw i}},function(e,t,n){"use strict";e.exports=n(1685)},function(e,t,n){"use strict";const r=n(66),i=n(136),o=n(6)("libp2p:mplex"),a=n(137),u=n(1686),s=n(690),{MessageTypes:c,MessageTypeNames:f}=n(691),l=n(1689);class d{constructor(e){e="function"==typeof(e=e||{})?{onStream:e}:e,this._streamId=0,this._streams={initiators:new Map,receivers:new Map},this._options=e,this.sink=this._createSink(),this.source=this._createSource(),this.onStream=e.onStream,this.onStreamEnd=e.onStreamEnd}get streams(){const e=[];return this._streams.initiators.forEach(t=>{e.push(t)}),this._streams.receivers.forEach(t=>{e.push(t)}),e}newStream(e){const t=this._streamId++;e=null==e?t.toString():String(e);const n=this._streams.initiators;return this._newStream({id:t,name:e,type:"initiator",registry:n})}_newReceiverStream({id:e,name:t}){const n=this._streams.receivers;return this._newStream({id:e,name:t,type:"receiver",registry:n})}_newStream({id:e,name:t,type:n,registry:r}){if(r.has(e))throw new Error(`${n} stream ${e} already exists!`);o("new %s stream %s %s",n,e,t);const i=l({id:e,name:t,send:r=>(o.enabled&&o("%s stream %s %s send",n,e,t,{...r,type:f[r.type],data:r.data&&r.data.slice()}),this.source.push(r)),type:n,onEnd:()=>{o("%s stream %s %s ended",n,e,t),r.delete(e),this.onStreamEnd&&this.onStreamEnd(i)},maxMsgSize:this._options.maxMsgSize});return r.set(e,i),i}_createSink(){return async e=>{this._options.signal&&(e=a(e,this._options.signal));try{await r(e,u.decode,s(this._options.maxMsgSize),async e=>{for await(const t of e)for(const e of t)this._handleIncoming(e)})}catch(e){return o("error in sink",e),this.source.end(e)}this.source.end()}}_createSource(){const e=i({onEnd:e=>{const{initiators:t,receivers:n}=this._streams;for(const n of t.values())n.abort(e);for(const t of n.values())t.abort(e)},writev:!0});return Object.assign(u.encode(e),{push:e.push,end:e.end,return:e.return})}_handleIncoming({id:e,type:t,data:n}){if(o.enabled&&o("incoming message",{id:e,type:f[t],data:n.slice()}),t===c.NEW_STREAM&&this.onStream){const t=this._newReceiverStream({id:e,name:n.toString()});return this.onStream(t)}const r=(1&t?this._streams.initiators:this._streams.receivers).get(e);if(!r)return o("missing stream %s",e);switch(t){case c.MESSAGE_INITIATOR:case c.MESSAGE_RECEIVER:r.source.push(n);break;case c.CLOSE_INITIATOR:case c.CLOSE_RECEIVER:r.close();break;case c.RESET_INITIATOR:case c.RESET_RECEIVER:r.reset();break;default:o("unknown message type %s",t)}}}d.multicodec="/mplex/6.7.0",e.exports=d},function(e,t,n){"use strict";t.encode=n(1687),t.decode=n(1688)},function(e,t,n){"use strict";const r=n(103),i=n(86);const o=new class{constructor(){this._pool=new Uint8Array(10240),this._poolOffset=0}write(e){const t=this._pool;let n=this._poolOffset;r.encode(e.id<<3|e.type,t,n),n+=r.encode.bytes,r.encode(e.data?e.data.length:0,t,n),n+=r.encode.bytes;const i=t.subarray(this._poolOffset,n);return 10240-n<100?(this._pool=new Uint8Array(10240),this._poolOffset=0):this._poolOffset=n,e.data?[i,e.data]:i}};e.exports=e=>async function*(){for await(const t of e)Array.isArray(t)?yield new i(t.map(e=>o.write(e))):yield new i(o.write(t))}()},function(e,t,n){"use strict";const r=n(103),i=n(86);e.exports=e=>async function*(){const t=new o;for await(const n of e){const e=t.write(n);e.length&&(yield e)}}();class o{constructor(){this._buffer=new i,this._bufferProxy=new Proxy({},{get:(e,t)=>"l"===t[0]?this._buffer[t]:this._buffer.get(parseInt(t))}),this._headerInfo=null}write(e){if(!e||!e.length)return[];this._buffer.append(e);const t=[];for(;;){if(!this._headerInfo)try{this._headerInfo=this._decodeHeader(this._bufferProxy)}catch(e){break}const{id:e,type:n,length:r,offset:i}=this._headerInfo;if(this._buffer.length-i<r)break;t.push({id:e,type:n,data:this._buffer.shallowSlice(i,i+r)}),this._buffer.consume(i+r),this._headerInfo=null}return t}_decodeHeader(e){const t=r.decode(e);let n=r.decode.bytes;const i=r.decode(e,n);return n+=r.decode.bytes,{id:t>>3,type:7&t,offset:n,length:i}}}},function(e,t,n){"use strict";const r=n(137),i=n(193),o=n(6)("libp2p:mplex:stream"),a=n(136),u=n(86),s=n(4),{MAX_MSG_SIZE:c}=n(690),{InitiatorMessageTypes:f,ReceiverMessageTypes:l}=n(691);e.exports=({id:e,name:t,send:n,onEnd:d=(()=>{}),type:h="initiator",maxMsgSize:p=c})=>{const m=new i,y=new i,v="initiator"===h?f:l,g="initiator"===h?"i"+e:"r"+e;t=String(null==t?e:t);let b,w=!1,E=!1;const _=e=>{E||(E=!0,o("%s stream %s sink end",h,t,e),e&&!b&&(b=e),w&&(S.timeline.close=Date.now(),d(b)))},S={close:()=>S.source.end(),abort:e=>{o("%s stream %s abort",h,t,e),S.source.end(e),m.abort(),_(e)},reset:()=>{const e=s(new Error("stream reset"),"ERR_MPLEX_STREAM_RESET");y.abort(),S.source.end(e),_(e)},sink:async i=>{i=r(i,[{signal:m.signal,options:{abortMessage:"stream aborted",abortCode:"ERR_MPLEX_STREAM_ABORT"}},{signal:y.signal,options:{abortMessage:"stream reset",abortCode:"ERR_MPLEX_STREAM_RESET"}}]),"initiator"===h&&n({id:e,type:v.NEW_STREAM,data:t});try{for await(let t of i)for(;t.length;){if(t.length<=p){n({id:e,type:v.MESSAGE,data:t});break}t=u.isBufferList(t)?t:new u(t),n({id:e,type:v.MESSAGE,data:t.shallowSlice(0,p)}),t.consume(p)}}catch(r){return"ERR_MPLEX_STREAM_RESET"===r.code?o("%s stream %s reset",h,t):(o("%s stream %s error",h,t,r),n({id:e,type:v.RESET})),S.source.end(r),_(r)}n({id:e,type:v.CLOSE}),_()},source:a(e=>{w||(w=!0,o("%s stream %s source end",h,t,e),e&&!b&&(b=e),E&&(S.timeline.close=Date.now(),d(b)))}),timeline:{open:Date.now(),close:null},id:g};return S}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.NOISE=void 0;const o=n(692);i(n(692),t),t.NOISE=new o.Noise},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1692),i=n(302),o=n(138);function a(e,n){return void 0===n&&(n=t.defaultRandomSource),n.randomBytes(e)}t.defaultRandomSource=new r.SystemRandomSource,t.randomBytes=a,t.randomUint32=function(e){void 0===e&&(e=t.defaultRandomSource);var n=a(4,e),r=i.readUint32LE(n);return o.wipe(n),r};var u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function s(e,n,r){if(void 0===n&&(n=u),void 0===r&&(r=t.defaultRandomSource),n.length<2)throw new Error("randomString charset is too short");if(n.length>256)throw new Error("randomString charset is too long");for(var i="",s=n.length,c=256-256%s;e>0;){for(var f=a(Math.ceil(256*e/c),r),l=0;l<f.length&&e>0;l++){var d=f[l];d<c&&(i+=n.charAt(d%s),e--)}o.wipe(f)}return i}t.randomString=s,t.randomStringForEntropy=function(e,n,r){return void 0===n&&(n=u),void 0===r&&(r=t.defaultRandomSource),s(Math.ceil(e/(Math.log(n.length)/Math.LN2)),n,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1693),i=n(1694),o=function(){function e(){return this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}return e.prototype.randomBytes=function(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)},e}();t.SystemRandomSource=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.isAvailable=!1,this.isInstantiated=!1;var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}return e.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");for(var t=new Uint8Array(e),n=0;n<t.length;n+=65536)this._crypto.getRandomValues(t.subarray(n,n+Math.min(t.length-n,65536)));return t},e}();t.BrowserRandomSource=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(138),i=function(){function e(){this.isAvailable=!1,this.isInstantiated=!1;var e=n(1695);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}return e.prototype.randomBytes=function(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");var t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");for(var n=new Uint8Array(e),i=0;i<n.length;i++)n[i]=t[i];return r.wipe(t),n},e}();t.NodeRandomSource=i},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},function(e,t,n){"use strict";const r=n(619),i=n(240),o=n(119);e.exports=(e,t={})=>{const n=i(e),a=o.decode.fromReader(n.reader,t);let u=!1;const s={read:async e=>{const{value:t,done:r}=await n.reader.next(e);if(r&&t.length<e)throw new Error("Couldn't read enough bytes");if(u=r,!t)throw new Error("Value is null");return t},readLP:async()=>{const{value:e,done:t}=await a.next();if(u=t,!e)throw new Error("Value is null");return e},readPB:async e=>{const t=await s.readLP();if(!t)throw new Error("Value is null");const n=r(t)?t:t.slice();return e.decode(n)},write:e=>{n.writer.push(e)},writeLP:e=>{s.write(o.encode.single(e,t))},writePB:(e,t)=>{s.writeLP(t.encode(e))},pb:e=>({read:()=>s.readPB(e),write:t=>s.writePB(t,e)}),unwrap:()=>(n.rest(),n.stream)};return s}},function(e,t,n){var r=n(1699);e.exports=function(){var e=r(),t=r();return[{source:e.source,sink:t.sink},{source:t.source,sink:e.sink}]}},function(e,t,n){"use strict";const r=n(398);e.exports=function(){let e,t;return{sink:async n=>{if(e)throw new Error("already piped");e=r(n),t&&t(e)},source:{[Symbol.asyncIterator](){return this},next:()=>e?e.next():new Promise(e=>{t=n=>{t=null,e(n.next())}})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XX=void 0;const r=n(27),i=n(176),o=n(695);class a extends o.AbstractHandshake{initializeInitiator(e,t,n,i){const o=this.initializeSymmetric("Noise_XX_25519_ChaChaPoly_SHA256");this.mixHash(o,e);return{ss:o,s:t,rs:n,psk:i,re:r.Buffer.alloc(32)}}initializeResponder(e,t,n,i){const o=this.initializeSymmetric("Noise_XX_25519_ChaChaPoly_SHA256");this.mixHash(o,e);return{ss:o,s:t,rs:n,psk:i,re:r.Buffer.alloc(32)}}writeMessageA(e,t,n){const o=r.Buffer.alloc(0);e.e=void 0!==n?n:i.generateKeypair();const a=e.e.publicKey;this.mixHash(e.ss,a);return{ne:a,ns:o,ciphertext:this.encryptAndHash(e.ss,t)}}writeMessageB(e,t){e.e=i.generateKeypair();const n=e.e.publicKey;this.mixHash(e.ss,n),this.mixKey(e.ss,this.dh(e.e.privateKey,e.re));const o=r.Buffer.from(e.s.publicKey),a=this.encryptAndHash(e.ss,o);this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));return{ne:n,ns:a,ciphertext:this.encryptAndHash(e.ss,t)}}writeMessageC(e,t){const n=r.Buffer.from(e.s.publicKey),i=this.encryptAndHash(e.ss,n);this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));const o=this.encryptAndHash(e.ss,t),a={ne:this.createEmptyKey(),ns:i,ciphertext:o},{cs1:u,cs2:s}=this.split(e.ss);return{h:e.ss.h,messageBuffer:a,cs1:u,cs2:s}}readMessageA(e,t){return i.isValidPublicKey(t.ne)&&(e.re=t.ne),this.mixHash(e.ss,e.re),this.decryptAndHash(e.ss,t.ciphertext)}readMessageB(e,t){if(i.isValidPublicKey(t.ne)&&(e.re=t.ne),this.mixHash(e.ss,e.re),!e.e)throw new Error("Handshake state `e` param is missing.");this.mixKey(e.ss,this.dh(e.e.privateKey,e.re));const{plaintext:n,valid:r}=this.decryptAndHash(e.ss,t.ns);r&&32===n.length&&i.isValidPublicKey(n)&&(e.rs=n),this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));const{plaintext:o,valid:a}=this.decryptAndHash(e.ss,t.ciphertext);return{plaintext:o,valid:r&&a}}readMessageC(e,t){const{plaintext:n,valid:r}=this.decryptAndHash(e.ss,t.ns);if(r&&32===n.length&&i.isValidPublicKey(n)&&(e.rs=n),!e.e)throw new Error("Handshake state `e` param is missing.");this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));const{plaintext:o,valid:a}=this.decryptAndHash(e.ss,t.ciphertext),{cs1:u,cs2:s}=this.split(e.ss);return{h:e.ss.h,plaintext:o,valid:r&&a,cs1:u,cs2:s}}initSession(e,t,n){const i=this.createEmptyKey(),o=r.Buffer.alloc(32);let a;return a=e?this.initializeInitiator(t,n,o,i):this.initializeResponder(t,n,o,i),{hs:a,i:e,mc:0}}sendMessage(e,t,n){let r;if(0===e.mc)r=this.writeMessageA(e.hs,t,n);else if(1===e.mc)r=this.writeMessageB(e.hs,t);else if(2===e.mc){const{h:n,messageBuffer:i,cs1:o,cs2:a}=this.writeMessageC(e.hs,t);r=i,e.h=n,e.cs1=o,e.cs2=a}else{if(!(e.mc>2))throw new Error("Session invalid.");if(e.i){if(!e.cs1)throw new Error("CS1 (cipher state) is not defined");r=this.writeMessageRegular(e.cs1,t)}else{if(!e.cs2)throw new Error("CS2 (cipher state) is not defined");r=this.writeMessageRegular(e.cs2,t)}}return e.mc++,r}recvMessage(e,t){let n=r.Buffer.alloc(0),i=!1;if(0===e.mc)({plaintext:n,valid:i}=this.readMessageA(e.hs,t));else if(1===e.mc)({plaintext:n,valid:i}=this.readMessageB(e.hs,t));else if(2===e.mc){const{h:r,plaintext:o,valid:a,cs1:u,cs2:s}=this.readMessageC(e.hs,t);n=o,i=a,e.h=r,e.cs1=u,e.cs2=s}return e.mc++,{plaintext:n,valid:i}}}t.XX=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1702),i=n(138),o=function(){function e(e,t,n,i){void 0===n&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var o=r.hmac(this._hash,n,t);this._hmac=new r.HMAC(e,o),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(e){for(var t=new Uint8Array(e),n=0;n<t.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[n]=this._buffer[this._bufpos++];return t},e.prototype.clean=function(){this._hmac.clean(),i.wipe(this._buffer),i.wipe(this._counter),this._bufpos=0},e}();t.HKDF=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1703),i=n(414),o=n(138),a=function(){function e(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(n).clean():n.set(t);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),r.isSerializableHash(this._inner)&&r.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),o.wipe(n)}return e.prototype.reset=function(){if(!r.isSerializableHash(this._inner)||!r.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){r.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),r.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(e){return this._inner.update(e),this},e.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(!r.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(e){if(!r.isSerializableHash(this._inner)||!r.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(e){if(!r.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},e}();t.HMAC=a,t.hmac=function(e,t,n){var r=new a(e,t);r.update(n);var i=r.digest();return r.clean(),i},t.equal=i.equal},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSerializableHash=function(e){return void 0!==e.saveState&&void 0!==e.restoreState&&void 0!==e.cleanSavedState}},function(e,t,n){"use strict";var r,i,o;i=[n(80)],void 0===(o="function"==typeof(r=function(e){var t,n=e.Reader,r=e.Writer,i=e.util,o=e.roots["libp2p-noise"]||(e.roots["libp2p-noise"]={});return o.pb=((t={}).NoiseHandshakePayload=function(){function t(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return t.prototype.identityKey=i.newBuffer([]),t.prototype.identitySig=i.newBuffer([]),t.prototype.data=i.newBuffer([]),t.create=function(e){return new t(e)},t.encode=function(e,t){return t||(t=r.create()),null!=e.identityKey&&Object.hasOwnProperty.call(e,"identityKey")&&t.uint32(10).bytes(e.identityKey),null!=e.identitySig&&Object.hasOwnProperty.call(e,"identitySig")&&t.uint32(18).bytes(e.identitySig),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(26).bytes(e.data),t},t.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},t.decode=function(e,t){e instanceof n||(e=n.create(e));for(var r=void 0===t?e.len:e.pos+t,i=new o.pb.NoiseHandshakePayload;e.pos<r;){var a=e.uint32();switch(a>>>3){case 1:i.identityKey=e.bytes();break;case 2:i.identitySig=e.bytes();break;case 3:i.data=e.bytes();break;default:e.skipType(7&a)}}return i},t.decodeDelimited=function(e){return e instanceof n||(e=new n(e)),this.decode(e,e.uint32())},t.verify=function(e){return"object"!=typeof e||null===e?"object expected":null!=e.identityKey&&e.hasOwnProperty("identityKey")&&!(e.identityKey&&"number"==typeof e.identityKey.length||i.isString(e.identityKey))?"identityKey: buffer expected":null!=e.identitySig&&e.hasOwnProperty("identitySig")&&!(e.identitySig&&"number"==typeof e.identitySig.length||i.isString(e.identitySig))?"identitySig: buffer expected":null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"==typeof e.data.length||i.isString(e.data))?"data: buffer expected":null},t.fromObject=function(e){if(e instanceof o.pb.NoiseHandshakePayload)return e;var t=new o.pb.NoiseHandshakePayload;return null!=e.identityKey&&("string"==typeof e.identityKey?i.base64.decode(e.identityKey,t.identityKey=i.newBuffer(i.base64.length(e.identityKey)),0):e.identityKey.length&&(t.identityKey=e.identityKey)),null!=e.identitySig&&("string"==typeof e.identitySig?i.base64.decode(e.identitySig,t.identitySig=i.newBuffer(i.base64.length(e.identitySig)),0):e.identitySig.length&&(t.identitySig=e.identitySig)),null!=e.data&&("string"==typeof e.data?i.base64.decode(e.data,t.data=i.newBuffer(i.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),t},t.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.identityKey="":(n.identityKey=[],t.bytes!==Array&&(n.identityKey=i.newBuffer(n.identityKey))),t.bytes===String?n.identitySig="":(n.identitySig=[],t.bytes!==Array&&(n.identitySig=i.newBuffer(n.identitySig))),t.bytes===String?n.data="":(n.data=[],t.bytes!==Array&&(n.data=i.newBuffer(n.data)))),null!=e.identityKey&&e.hasOwnProperty("identityKey")&&(n.identityKey=t.bytes===String?i.base64.encode(e.identityKey,0,e.identityKey.length):t.bytes===Array?Array.prototype.slice.call(e.identityKey):e.identityKey),null!=e.identitySig&&e.hasOwnProperty("identitySig")&&(n.identitySig=t.bytes===String?i.base64.encode(e.identitySig,0,e.identitySig.length):t.bytes===Array?Array.prototype.slice.call(e.identitySig):e.identitySig),null!=e.data&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?i.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,e.util.toJSONOptions)},t}(),t),o})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1706),i=n(1707),o=n(138),a=n(302),u=n(414);t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var s=new Uint8Array(16),c=function(){function e(e){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,e.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var a=new Uint8Array(16);a.set(e,a.length-e.length);var u=new Uint8Array(32);r.stream(this._key,a,u,4);var s,c=t.length+this.tagLength;if(i){if(i.length!==c)throw new Error("ChaCha20Poly1305: incorrect destination length");s=i}else s=new Uint8Array(c);return r.streamXOR(this._key,a,t,s,4),this._authenticate(s.subarray(s.length-this.tagLength,s.length),u,s.subarray(0,s.length-this.tagLength),n),o.wipe(a),s},e.prototype.open=function(e,t,n,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var a=new Uint8Array(16);a.set(e,a.length-e.length);var s=new Uint8Array(32);r.stream(this._key,a,s,4);var c=new Uint8Array(this.tagLength);if(this._authenticate(c,s,t.subarray(0,t.length-this.tagLength),n),!u.equal(c,t.subarray(t.length-this.tagLength,t.length)))return null;var f,l=t.length-this.tagLength;if(i){if(i.length!==l)throw new Error("ChaCha20Poly1305: incorrect destination length");f=i}else f=new Uint8Array(l);return r.streamXOR(this._key,a,t.subarray(0,t.length-this.tagLength),f,4),o.wipe(a),f},e.prototype.clean=function(){return o.wipe(this._key),this},e.prototype._authenticate=function(e,t,n,r){var u=new i.Poly1305(t);r&&(u.update(r),r.length%16>0&&u.update(s.subarray(r.length%16))),u.update(n),n.length%16>0&&u.update(s.subarray(n.length%16));var c=new Uint8Array(8);r&&a.writeUint64LE(r.length,c),u.update(c),a.writeUint64LE(n.length,c),u.update(c);for(var f=u.digest(),l=0;l<f.length;l++)e[l]=f[l];u.clean(),o.wipe(f),o.wipe(c)},e}();t.ChaCha20Poly1305=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(302),i=n(138);function o(e,t,n){for(var i=1634760805,o=857760878,a=2036477234,u=1797285236,s=n[3]<<24|n[2]<<16|n[1]<<8|n[0],c=n[7]<<24|n[6]<<16|n[5]<<8|n[4],f=n[11]<<24|n[10]<<16|n[9]<<8|n[8],l=n[15]<<24|n[14]<<16|n[13]<<8|n[12],d=n[19]<<24|n[18]<<16|n[17]<<8|n[16],h=n[23]<<24|n[22]<<16|n[21]<<8|n[20],p=n[27]<<24|n[26]<<16|n[25]<<8|n[24],m=n[31]<<24|n[30]<<16|n[29]<<8|n[28],y=t[3]<<24|t[2]<<16|t[1]<<8|t[0],v=t[7]<<24|t[6]<<16|t[5]<<8|t[4],g=t[11]<<24|t[10]<<16|t[9]<<8|t[8],b=t[15]<<24|t[14]<<16|t[13]<<8|t[12],w=i,E=o,_=a,S=u,T=s,A=c,P=f,k=l,x=d,C=h,R=p,I=m,O=y,M=v,N=g,D=b,L=0;L<20;L+=2)T=(T^=x=x+(O=(O^=w=w+T|0)>>>16|O<<16)|0)>>>20|T<<12,A=(A^=C=C+(M=(M^=E=E+A|0)>>>16|M<<16)|0)>>>20|A<<12,P=(P^=R=R+(N=(N^=_=_+P|0)>>>16|N<<16)|0)>>>20|P<<12,k=(k^=I=I+(D=(D^=S=S+k|0)>>>16|D<<16)|0)>>>20|k<<12,P=(P^=R=R+(N=(N^=_=_+P|0)>>>24|N<<8)|0)>>>25|P<<7,k=(k^=I=I+(D=(D^=S=S+k|0)>>>24|D<<8)|0)>>>25|k<<7,A=(A^=C=C+(M=(M^=E=E+A|0)>>>24|M<<8)|0)>>>25|A<<7,T=(T^=x=x+(O=(O^=w=w+T|0)>>>24|O<<8)|0)>>>25|T<<7,A=(A^=R=R+(D=(D^=w=w+A|0)>>>16|D<<16)|0)>>>20|A<<12,P=(P^=I=I+(O=(O^=E=E+P|0)>>>16|O<<16)|0)>>>20|P<<12,k=(k^=x=x+(M=(M^=_=_+k|0)>>>16|M<<16)|0)>>>20|k<<12,T=(T^=C=C+(N=(N^=S=S+T|0)>>>16|N<<16)|0)>>>20|T<<12,k=(k^=x=x+(M=(M^=_=_+k|0)>>>24|M<<8)|0)>>>25|k<<7,T=(T^=C=C+(N=(N^=S=S+T|0)>>>24|N<<8)|0)>>>25|T<<7,P=(P^=I=I+(O=(O^=E=E+P|0)>>>24|O<<8)|0)>>>25|P<<7,A=(A^=R=R+(D=(D^=w=w+A|0)>>>24|D<<8)|0)>>>25|A<<7;r.writeUint32LE(w+i|0,e,0),r.writeUint32LE(E+o|0,e,4),r.writeUint32LE(_+a|0,e,8),r.writeUint32LE(S+u|0,e,12),r.writeUint32LE(T+s|0,e,16),r.writeUint32LE(A+c|0,e,20),r.writeUint32LE(P+f|0,e,24),r.writeUint32LE(k+l|0,e,28),r.writeUint32LE(x+d|0,e,32),r.writeUint32LE(C+h|0,e,36),r.writeUint32LE(R+p|0,e,40),r.writeUint32LE(I+m|0,e,44),r.writeUint32LE(O+y|0,e,48),r.writeUint32LE(M+v|0,e,52),r.writeUint32LE(N+g|0,e,56),r.writeUint32LE(D+b|0,e,60)}function a(e,t,n,r,a){if(void 0===a&&(a=0),32!==e.length)throw new Error("ChaCha: key size must be 32 bytes");if(r.length<n.length)throw new Error("ChaCha: destination is shorter than source");var s,c;if(0===a){if(8!==t.length&&12!==t.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");c=(s=new Uint8Array(16)).length-t.length,s.set(t,c)}else{if(16!==t.length)throw new Error("ChaCha nonce with counter must be 16 bytes");s=t,c=a}for(var f=new Uint8Array(64),l=0;l<n.length;l+=64){o(f,s,e);for(var d=l;d<l+64&&d<n.length;d++)r[d]=n[d]^f[d-l];u(s,0,c)}return i.wipe(f),0===a&&i.wipe(s),r}function u(e,t,n){for(var r=1;n--;)r=r+(255&e[t])|0,e[t]=255&r,r>>>=8,t++;if(r>0)throw new Error("ChaCha: counter overflow")}t.streamXOR=a,t.stream=function(e,t,n,r){return void 0===r&&(r=0),i.wipe(n),a(e,t,n,n,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(414),i=n(138);t.DIGEST_LENGTH=16;var o=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var n=e[0]|e[1]<<8;this._r[0]=8191&n;var r=e[2]|e[3]<<8;this._r[1]=8191&(n>>>13|r<<3);var i=e[4]|e[5]<<8;this._r[2]=7939&(r>>>10|i<<6);var o=e[6]|e[7]<<8;this._r[3]=8191&(i>>>7|o<<9);var a=e[8]|e[9]<<8;this._r[4]=255&(o>>>4|a<<12),this._r[5]=a>>>1&8190;var u=e[10]|e[11]<<8;this._r[6]=8191&(a>>>14|u<<2);var s=e[12]|e[13]<<8;this._r[7]=8065&(u>>>11|s<<5);var c=e[14]|e[15]<<8;this._r[8]=8191&(s>>>8|c<<8),this._r[9]=c>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,n){for(var r=this._fin?0:2048,i=this._h[0],o=this._h[1],a=this._h[2],u=this._h[3],s=this._h[4],c=this._h[5],f=this._h[6],l=this._h[7],d=this._h[8],h=this._h[9],p=this._r[0],m=this._r[1],y=this._r[2],v=this._r[3],g=this._r[4],b=this._r[5],w=this._r[6],E=this._r[7],_=this._r[8],S=this._r[9];n>=16;){var T=e[t+0]|e[t+1]<<8;i+=8191&T;var A=e[t+2]|e[t+3]<<8;o+=8191&(T>>>13|A<<3);var P=e[t+4]|e[t+5]<<8;a+=8191&(A>>>10|P<<6);var k=e[t+6]|e[t+7]<<8;u+=8191&(P>>>7|k<<9);var x=e[t+8]|e[t+9]<<8;s+=8191&(k>>>4|x<<12),c+=x>>>1&8191;var C=e[t+10]|e[t+11]<<8;f+=8191&(x>>>14|C<<2);var R=e[t+12]|e[t+13]<<8;l+=8191&(C>>>11|R<<5);var I=e[t+14]|e[t+15]<<8,O=0,M=O;M+=i*p,M+=o*(5*S),M+=a*(5*_),M+=u*(5*E),O=(M+=s*(5*w))>>>13,M&=8191,M+=c*(5*b),M+=f*(5*g),M+=l*(5*v),M+=(d+=8191&(R>>>8|I<<8))*(5*y);var N=O+=(M+=(h+=I>>>5|r)*(5*m))>>>13;N+=i*m,N+=o*p,N+=a*(5*S),N+=u*(5*_),O=(N+=s*(5*E))>>>13,N&=8191,N+=c*(5*w),N+=f*(5*b),N+=l*(5*g),N+=d*(5*v),O+=(N+=h*(5*y))>>>13,N&=8191;var D=O;D+=i*y,D+=o*m,D+=a*p,D+=u*(5*S),O=(D+=s*(5*_))>>>13,D&=8191,D+=c*(5*E),D+=f*(5*w),D+=l*(5*b),D+=d*(5*g);var L=O+=(D+=h*(5*v))>>>13;L+=i*v,L+=o*y,L+=a*m,L+=u*p,O=(L+=s*(5*S))>>>13,L&=8191,L+=c*(5*_),L+=f*(5*E),L+=l*(5*w),L+=d*(5*b);var j=O+=(L+=h*(5*g))>>>13;j+=i*g,j+=o*v,j+=a*y,j+=u*m,O=(j+=s*p)>>>13,j&=8191,j+=c*(5*S),j+=f*(5*_),j+=l*(5*E),j+=d*(5*w);var B=O+=(j+=h*(5*b))>>>13;B+=i*b,B+=o*g,B+=a*v,B+=u*y,O=(B+=s*m)>>>13,B&=8191,B+=c*p,B+=f*(5*S),B+=l*(5*_),B+=d*(5*E);var F=O+=(B+=h*(5*w))>>>13;F+=i*w,F+=o*b,F+=a*g,F+=u*v,O=(F+=s*y)>>>13,F&=8191,F+=c*m,F+=f*p,F+=l*(5*S),F+=d*(5*_);var U=O+=(F+=h*(5*E))>>>13;U+=i*E,U+=o*w,U+=a*b,U+=u*g,O=(U+=s*v)>>>13,U&=8191,U+=c*y,U+=f*m,U+=l*p,U+=d*(5*S);var q=O+=(U+=h*(5*_))>>>13;q+=i*_,q+=o*E,q+=a*w,q+=u*b,O=(q+=s*g)>>>13,q&=8191,q+=c*v,q+=f*y,q+=l*m,q+=d*p;var H=O+=(q+=h*(5*S))>>>13;H+=i*S,H+=o*_,H+=a*E,H+=u*w,O=(H+=s*b)>>>13,H&=8191,H+=c*g,H+=f*v,H+=l*y,H+=d*m,i=M=8191&(O=(O=((O+=(H+=h*p)>>>13)<<2)+O|0)+(M&=8191)|0),o=N+=O>>>=13,a=D&=8191,u=L&=8191,s=j&=8191,c=B&=8191,f=F&=8191,l=U&=8191,d=q&=8191,h=H&=8191,t+=16,n-=16}this._h[0]=i,this._h[1]=o,this._h[2]=a,this._h[3]=u,this._h[4]=s,this._h[5]=c,this._h[6]=f,this._h[7]=l,this._h[8]=d,this._h[9]=h},e.prototype.finish=function(e,t){void 0===t&&(t=0);var n,r,i,o,a=new Uint16Array(10);if(this._leftover){for(o=this._leftover,this._buffer[o++]=1;o<16;o++)this._buffer[o]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,o=2;o<10;o++)this._h[o]+=n,n=this._h[o]>>>13,this._h[o]&=8191;for(this._h[0]+=5*n,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,a[0]=this._h[0]+5,n=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this._h[o]+n,n=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,r=(1^n)-1,o=0;o<10;o++)a[o]&=r;for(r=~r,o=0;o<10;o++)this._h[o]=this._h[o]&r|a[o];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,o=1;o<8;o++)i=(this._h[o]+this._pad[o]|0)+(i>>>16)|0,this._h[o]=65535&i;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,n=0,r=e.length;if(this._leftover){(t=16-this._leftover)>r&&(t=r);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[n+i];if(r-=t,n+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(r>=16&&(t=r-r%16,this._blocks(e,n,t),n+=t,r-=t),r){for(i=0;i<r;i++)this._buffer[this._leftover+i]=e[n+i];this._leftover+=r}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=o,t.oneTimeAuth=function(e,t){var n=new o(e);n.update(t);var r=n.digest();return n.clean(),r},t.equal=function(e,n){return e.length===t.DIGEST_LENGTH&&n.length===t.DIGEST_LENGTH&&r.equal(e,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IKHandshake=void 0;const r=n(1709),i=n(27),o=n(303),a=n(176),u=n(1710),s=n(243);t.IKHandshake=class{constructor(e,t,n,o,a,u,s,c){this.isInitiator=e,this.payload=i.Buffer.from(t),this.prologue=n,this.staticKeypair=o,this.connection=a,s&&(this.remotePeer=s),this.ik=null!=c?c:new r.IK,this.session=this.ik.initSession(this.isInitiator,this.prologue,this.staticKeypair,u),this.remoteEarlyData=i.Buffer.alloc(0)}async stage0(){if(s.logLocalStaticKeys(this.session.hs.s),s.logRemoteStaticKey(this.session.hs.rs),this.isInitiator){s.logger("IK Stage 0 - Initiator sending message...");const e=this.ik.sendMessage(this.session,this.payload);this.connection.writeLP(o.encode1(e)),s.logger("IK Stage 0 - Initiator sent message."),s.logLocalEphemeralKeys(this.session.hs.e)}else{s.logger("IK Stage 0 - Responder receiving message...");const e=await this.connection.readLP();try{const t=o.decode1(e.slice()),{plaintext:n,valid:r}=this.ik.recvMessage(this.session,t);if(!r)throw new Error("ik handshake stage 0 decryption validation fail");s.logger("IK Stage 0 - Responder got message, going to verify payload.");const i=await a.decodePayload(n);this.remotePeer=this.remotePeer||await a.getPeerIdFromPayload(i),await a.verifySignedPayload(this.session.hs.rs,i,this.remotePeer),this.setRemoteEarlyData(i.data),s.logger("IK Stage 0 - Responder successfully verified payload!"),s.logRemoteEphemeralKey(this.session.hs.re)}catch(t){const n=t;throw s.logger("Responder breaking up with IK handshake in stage 0."),new u.FailedIKError(e,"Error occurred while verifying initiator's signed payload: "+n.message)}}}async stage1(){if(this.isInitiator){s.logger("IK Stage 1 - Initiator receiving message...");const e=(await this.connection.readLP()).slice(),t=o.decode0(i.Buffer.from(e)),{plaintext:n,valid:r}=this.ik.recvMessage(this.session,t);s.logger("IK Stage 1 - Initiator got message, going to verify payload.");try{if(!r)throw new Error("ik stage 1 decryption validation fail");const e=await a.decodePayload(n);this.remotePeer=this.remotePeer||await a.getPeerIdFromPayload(e),await a.verifySignedPayload(t.ns.slice(0,32),e,this.remotePeer),this.setRemoteEarlyData(e.data),s.logger("IK Stage 1 - Initiator successfully verified payload!"),s.logRemoteEphemeralKey(this.session.hs.re)}catch(t){const n=t;throw s.logger("Initiator breaking up with IK handshake in stage 1."),new u.FailedIKError(e,"Error occurred while verifying responder's signed payload: "+n.message)}}else{s.logger("IK Stage 1 - Responder sending message...");const e=this.ik.sendMessage(this.session,this.payload);this.connection.writeLP(o.encode0(e)),s.logger("IK Stage 1 - Responder sent message..."),s.logLocalEphemeralKeys(this.session.hs.e)}s.logCipherState(this.session)}decrypt(e,t){const n=this.getCS(t,!1);return this.ik.decryptWithAd(n,i.Buffer.alloc(0),e)}encrypt(e,t){const n=this.getCS(t);return this.ik.encryptWithAd(n,i.Buffer.alloc(0),e)}getLocalEphemeralKeys(){if(!this.session.hs.e)throw new Error("Ephemeral keys do not exist.");return this.session.hs.e}getCS(e,t=!0){if(!e.cs1||!e.cs2)throw new Error("Handshake not completed properly, cipher state does not exist.");return this.isInitiator?t?e.cs1:e.cs2:t?e.cs2:e.cs1}setRemoteEarlyData(e){e&&(this.remoteEarlyData=i.Buffer.from(e.buffer,e.byteOffset,e.length))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IK=void 0;const r=n(27),i=n(176),o=n(695);class a extends o.AbstractHandshake{initSession(e,t,n,r){const i=this.createEmptyKey();let o;return o=e?this.initializeInitiator(t,n,r,i):this.initializeResponder(t,n,r,i),{hs:o,i:e,mc:0}}sendMessage(e,t){let n;if(0===e.mc)n=this.writeMessageA(e.hs,t);else if(1===e.mc){const{messageBuffer:r,h:i,cs1:o,cs2:a}=this.writeMessageB(e.hs,t);n=r,e.h=i,e.cs1=o,e.cs2=a}else{if(!(e.mc>1))throw new Error("Session invalid.");if(e.i){if(!e.cs1)throw new Error("CS1 (cipher state) is not defined");n=this.writeMessageRegular(e.cs1,t)}else{if(!e.cs2)throw new Error("CS2 (cipher state) is not defined");n=this.writeMessageRegular(e.cs2,t)}}return e.mc++,n}recvMessage(e,t){let n=r.Buffer.alloc(0),i=!1;if(0===e.mc&&({plaintext:n,valid:i}=this.readMessageA(e.hs,t)),1===e.mc){const{plaintext:r,valid:o,h:a,cs1:u,cs2:s}=this.readMessageB(e.hs,t);n=r,i=o,e.h=a,e.cs1=u,e.cs2=s}return e.mc++,{plaintext:n,valid:i}}writeMessageA(e,t){e.e=i.generateKeypair();const n=e.e.publicKey;this.mixHash(e.ss,n),this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));const o=r.Buffer.from(e.s.publicKey),a=this.encryptAndHash(e.ss,o);this.mixKey(e.ss,this.dh(e.s.privateKey,e.rs));return{ne:n,ns:a,ciphertext:this.encryptAndHash(e.ss,t)}}writeMessageB(e,t){e.e=i.generateKeypair();const n=e.e.publicKey;this.mixHash(e.ss,n),this.mixKey(e.ss,this.dh(e.e.privateKey,e.re)),this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));const r=this.encryptAndHash(e.ss,t),o={ne:n,ns:this.createEmptyKey(),ciphertext:r},{cs1:a,cs2:u}=this.split(e.ss);return{messageBuffer:o,cs1:a,cs2:u,h:e.ss.h}}readMessageA(e,t){i.isValidPublicKey(t.ne)&&(e.re=t.ne),this.mixHash(e.ss,e.re),this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));const{plaintext:n,valid:r}=this.decryptAndHash(e.ss,t.ns);r&&32===n.length&&i.isValidPublicKey(n)&&(e.rs=n),this.mixKey(e.ss,this.dh(e.s.privateKey,e.rs));const{plaintext:o,valid:a}=this.decryptAndHash(e.ss,t.ciphertext);return{plaintext:o,valid:r&&a}}readMessageB(e,t){if(i.isValidPublicKey(t.ne)&&(e.re=t.ne),this.mixHash(e.ss,e.re),!e.e)throw new Error("Handshake state should contain ephemeral key by now.");this.mixKey(e.ss,this.dh(e.e.privateKey,e.re)),this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));const{plaintext:n,valid:r}=this.decryptAndHash(e.ss,t.ciphertext),{cs1:o,cs2:a}=this.split(e.ss);return{h:e.ss.h,valid:r,plaintext:n,cs1:o,cs2:a}}initializeInitiator(e,t,n,i){const o=this.initializeSymmetric("Noise_IK_25519_ChaChaPoly_SHA256");this.mixHash(o,e),this.mixHash(o,n);return{ss:o,s:t,rs:n,re:r.Buffer.alloc(32),psk:i}}initializeResponder(e,t,n,i){const o=this.initializeSymmetric("Noise_IK_25519_ChaChaPoly_SHA256");this.mixHash(o,e),this.mixHash(o,t.publicKey);return{ss:o,s:t,rs:n,re:r.Buffer.alloc(32),psk:i}}}t.IK=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FailedIKError=void 0;class r extends Error{constructor(e,t){super(t),this.initialMsg=e,this.name="FailedIKhandshake"}}t.FailedIKError=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XXFallbackHandshake=void 0;const r=n(27),i=n(693),o=n(176),a=n(243),u=n(303);class s extends i.XXHandshake{constructor(e,t,n,r,i,o,a,u,s){super(e,t,n,r,i,a,s),u&&(this.ephemeralKeys=u),this.initialMsg=o}async propose(){if(this.isInitiator)this.xx.sendMessage(this.session,r.Buffer.alloc(0),this.ephemeralKeys),a.logger("XX Fallback Stage 0 - Initialized state as the first message was sent by initiator."),a.logLocalEphemeralKeys(this.session.hs.e);else{a.logger("XX Fallback Stage 0 - Responder decoding initial msg from IK.");const e=u.decode0(this.initialMsg),{valid:t}=this.xx.recvMessage(this.session,{ne:e.ne,ns:r.Buffer.alloc(0),ciphertext:r.Buffer.alloc(0)});if(!t)throw new Error("xx fallback stage 0 decryption validation fail");a.logger("XX Fallback Stage 0 - Responder used received message from IK."),a.logRemoteEphemeralKey(this.session.hs.re)}}async exchange(){if(this.isInitiator){const e=u.decode1(this.initialMsg),{plaintext:t,valid:n}=this.xx.recvMessage(this.session,e);if(!n)throw new Error("xx fallback stage 1 decryption validation fail");a.logger("XX Fallback Stage 1 - Initiator used received message from IK."),a.logRemoteEphemeralKey(this.session.hs.re),a.logRemoteStaticKey(this.session.hs.rs),a.logger("Initiator going to check remote's signature...");try{const e=await o.decodePayload(t);this.remotePeer=this.remotePeer||await o.getPeerIdFromPayload(e),await o.verifySignedPayload(this.session.hs.rs,e,this.remotePeer),this.setRemoteEarlyData(e.data)}catch(e){throw new Error("Error occurred while verifying signed payload from responder: "+e.message)}a.logger("All good with the signature!")}else a.logger("XX Fallback Stage 1 - Responder start"),await super.exchange(),a.logger("XX Fallback Stage 1 - Responder end")}}t.XXFallbackHandshake=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decryptStream=t.encryptStream=void 0;const r=n(27),i=n(415);t.encryptStream=function(e){return async function*(t){for await(const n of t){const t=r.Buffer.from(n.buffer,n.byteOffset,n.length);for(let n=0;n<t.length;n+=i.NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG){let r=n+i.NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG;r>t.length&&(r=t.length);const o=e.encrypt(t.slice(n,r),e.session);yield o}}}},t.decryptStream=function(e){return async function*(t){for await(const n of t){const t=r.Buffer.from(n.buffer,n.byteOffset,n.length);for(let n=0;n<t.length;n+=i.NOISE_MSG_MAX_LENGTH_BYTES){let r=n+i.NOISE_MSG_MAX_LENGTH_BYTES;r>t.length&&(r=t.length);const o=t.slice(n,r),{plaintext:a,valid:u}=await e.decrypt(o,e.session);if(!u)throw new Error("Failed to validate decrypted chunk");yield a}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyCache=void 0;const r=new class{constructor(){this.storage=new Map}store(e,t){this.storage.set(e.id,t)}load(e){var t;return e&&null!==(t=this.storage.get(e.id))&&void 0!==t?t:null}resetStorage(){this.storage.clear()}};t.KeyCache=r},function(e,t,n){"use strict";const{EventEmitter:r}=n(33),i=n(4),o=n(199),{MemoryDatastore:a}=n(47),u=n(96),s=n(45),c=n(1715),f=n(68),l=n(177),d=n(1717),h=n(1727),p=n(1735),m=n(1738),y=n(139),v=n(1739),g=n(1740),b=n(1742),w=o.Record;e.exports=class extends r{constructor({libp2p:e,dialer:t,peerId:n,peerStore:r,registrar:i,protocolPrefix:u="/ipfs",forceProtocolLegacy:s=!1,datastore:y=new a,kBucketSize:w=l.K,clientMode:E=!1,concurrency:_=l.ALPHA,validators:S={},selectors:T={},randomWalk:A={enabled:!1,queriesPerPeriod:1,interval:3e5,timeout:3e4,delay:1e4},onPut:P=(()=>{}),onRemove:k=(()=>{})}){if(super(),!t)throw new Error("libp2p-kad-dht requires an instance of Dialer");this.libp2p=e,this.dialer=t,this.peerId=n,this.peerStore=r,this.registrar=i,this.protocol=u+(s?"":l.PROTOCOL_DHT),this.kBucketSize=w,this._clientMode=E,this.concurrency=_,this.disjointPaths=Math.ceil(this.kBucketSize/2),this.routingTable=new c(this.peerId,this.kBucketSize),this.datastore=y,this.providers=new v(this.datastore,this.peerId),this.validators={pk:o.validator.validators.pk,...S},this.selectors={pk:o.selection.selectors.pk,...T},this.network=new d(this),this._log=f.logger(this.peerId),this.randomWalk=new g(this,A),this._queryManager=new b,this._running=!1,this.contentFetching=h(this),this.contentRouting=p(this),this.peerRouting=m(this),this.onPut=P,this.onRemove=k}get isStarted(){return this._running}start(){this._running||(this._running=!0,this.providers.start(),this._queryManager.start(),this.network.start(),this.randomWalk.start())}stop(){this._running=!1,this.randomWalk.stop(),this.network.stop(),this._queryManager.stop(),this.providers.stop()}async put(e,t,n={}){return this.contentFetching.put(e,t,n)}async get(e,t={}){return this.contentFetching.get(e,t)}async getMany(e,t,n={}){return this.contentFetching.getMany(e,t,n)}async removeLocal(e){this._log("removeLocal: "+s(e,"base32"));const t=f.bufferToKey(e);try{await this.datastore.delete(t)}catch(e){if("ERR_NOT_FOUND"===e.code)return;throw e}}async _putLocal(e,t){this._log("_putLocal: "+s(e,"base32"));const n=f.bufferToKey(e);await this.datastore.put(n,t)}async provide(e){return this.contentRouting.provide(e)}async*findProviders(e,t={timeout:6e3,maxNumProviders:5}){for await(const n of this.contentRouting.findProviders(e,t))yield n}async findPeer(e,t={timeout:6e4}){return this.peerRouting.findPeer(e,t)}async*getClosestPeers(e,t={shallow:!1}){yield*this.peerRouting.getClosestPeers(e,t)}getPublicKey(e){return this.peerRouting.getPublicKey(e)}_peerDiscovered(e,t){this.emit("peer",{id:e,multiaddrs:t})}async _nearestPeersToQuery(e){const t=await f.convertBuffer(e.key);return this.routingTable.closestPeers(t,this.kBucketSize).map(e=>{const t=this.peerStore.get(e);return{id:e,multiaddrs:t?t.addresses.map(e=>e.multiaddr):[]}})}async _betterPeersToQuery(e,t){this._log("betterPeersToQuery");return(await this._nearestPeersToQuery(e)).filter(e=>this._isSelf(e.id)?(this._log.error("trying to return self as closer"),!1):!e.id.isEqual(t))}async _checkLocalDatastore(e){this._log(`checkLocalDatastore: ${s(e)} %b`,e);const t=f.bufferToKey(e);let n;try{n=await this.datastore.get(t)}catch(e){if("ERR_NOT_FOUND"===e.code)return;throw e}const r=w.deserialize(n);if(!r)throw i(new Error("Invalid record"),"ERR_INVALID_RECORD");return null==r.timeReceived||f.now()-r.timeReceived.getTime()>l.MAX_RECORD_AGE?(await this.datastore.delete(t),void this.onRemove(r)):r}async _add(e){await this.routingTable.add(e)}async _verifyRecordLocally(e){this._log("verifyRecordLocally"),await o.validator.verifyRecord(this.validators,e)}_isSelf(e){return e&&u(this.peerId.id,e.id)}async _putValueToPeer(e,t,n){const r=new y(y.TYPES.PUT_VALUE,e,0);r.record=w.deserialize(t);const o=await this.network.sendRequest(n,r);if(o.record&&!u(o.record.value,w.deserialize(t).value))throw i(new Error("value not put correctly"),"ERR_PUT_VALUE_INVALID")}async _getValueOrPeers(e,t){const n=await this._getValueSingle(e,t),r=n.closerPeers,o=n.record;if(o){try{await this._verifyRecordOnline(o)}catch(e){const t="invalid record received, discarded";throw this._log(t),i(new Error(t),"ERR_INVALID_RECORD")}return{record:o,peers:r}}if(r.length>0)return{peers:r};throw i(new Error("Not found"),"ERR_NOT_FOUND")}async _getValueSingle(e,t){const n=new y(y.TYPES.GET_VALUE,t,0);return this.network.sendRequest(e,n)}async _verifyRecordOnline(e){await o.validator.verifyRecord(this.validators,e)}},e.exports.multicodec="/ipfs"+l.PROTOCOL_DHT},function(e,t,n){"use strict";const r=n(1716),i=n(68);e.exports=class{constructor(e,t){this.self=e,this._onPing=this._onPing.bind(this),this._onInit(t)}async _onInit(e){const t=await i.convertPeerId(this.self);this.kb=new r({localNodeId:t,numberOfNodesPerKBucket:e,numberOfNodesToPing:1}),this.kb.on("ping",this._onPing)}_onPing(e,t){const n=e[0];n&&this.kb.remove(n.id),this.kb.add(t)}get size(){return this.kb.count()}async find(e){const t=await i.convertPeerId(e),n=this.closestPeer(t);if(n&&e.equals(n))return n}closestPeer(e){const t=this.closestPeers(e,1);if(t.length>0)return t[0]}closestPeers(e,t){return this.kb.closest(e,t).map(e=>e.peer)}async add(e){const t=await i.convertPeerId(e);this.kb.add({id:t,peer:e})}async remove(e){const t=await i.convertPeerId(e);this.kb.remove(t)}}},function(e,t,n){"use strict";const r=n(141),{EventEmitter:i}=n(33);function o(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;++n)if(e[n]!==t[n])return!1;return!0}function a(e,t){if(!(t instanceof Uint8Array))throw new TypeError(e+" is not a Uint8Array")}class u extends i{constructor(e={}){super(),this.localNodeId=e.localNodeId||r(20),this.numberOfNodesPerKBucket=e.numberOfNodesPerKBucket||20,this.numberOfNodesToPing=e.numberOfNodesToPing||3,this.distance=e.distance||u.distance,this.arbiter=e.arbiter||u.arbiter,this.metadata=Object.assign({},e.metadata),a("option.localNodeId as parameter 1",this.localNodeId),this.root={contacts:[],dontSplit:!1,left:null,right:null}}static arbiter(e,t){return e.vectorClock>t.vectorClock?e:t}static distance(e,t){let n=0,r=0;const i=Math.min(e.length,t.length),o=Math.max(e.length,t.length);for(;r<i;++r)n=256*n+(e[r]^t[r]);for(;r<o;++r)n=256*n+255;return n}add(e){a("contact.id",(e||{}).id);let t=0,n=this.root;for(;null===n.contacts;)n=this._determineNode(n,e.id,t++);const r=this._indexOf(n,e.id);return r>=0?(this._update(n,r,e),this):n.contacts.length<this.numberOfNodesPerKBucket?(n.contacts.push(e),this.emit("added",e),this):n.dontSplit?(this.emit("ping",n.contacts.slice(0,this.numberOfNodesToPing),e),this):(this._split(n,t),this.add(e))}closest(e,t=1/0){if(a("id",e),!Number.isInteger(t)&&t!==1/0||t<=0)throw new TypeError("n is not positive number");let n=[];for(let r=[this.root],i=0;r.length>0&&n.length<t;){const t=r.pop();if(null===t.contacts){const n=this._determineNode(t,e,i++);r.push(t.left===n?t.right:t.left),r.push(n)}else n=n.concat(t.contacts)}return n.map(t=>[this.distance(t.id,e),t]).sort((e,t)=>e[0]-t[0]).slice(0,t).map(e=>e[1])}count(){let e=0;for(const t=[this.root];t.length>0;){const n=t.pop();null===n.contacts?t.push(n.right,n.left):e+=n.contacts.length}return e}_determineNode(e,t,n){const r=n>>3,i=n%8;if(t.length<=r&&0!==i)return e.left;return t[r]&1<<7-i?e.right:e.left}get(e){a("id",e);let t=0,n=this.root;for(;null===n.contacts;)n=this._determineNode(n,e,t++);const r=this._indexOf(n,e);return r>=0?n.contacts[r]:null}_indexOf(e,t){for(let n=0;n<e.contacts.length;++n)if(o(e.contacts[n].id,t))return n;return-1}remove(e){a("the id as parameter 1",e);let t=0,n=this.root;for(;null===n.contacts;)n=this._determineNode(n,e,t++);const r=this._indexOf(n,e);if(r>=0){const e=n.contacts.splice(r,1)[0];this.emit("removed",e)}return this}_split(e,t){e.left={contacts:[],dontSplit:!1,left:null,right:null},e.right={contacts:[],dontSplit:!1,left:null,right:null};for(const n of e.contacts)this._determineNode(e,n.id,t).contacts.push(n);e.contacts=null;const n=this._determineNode(e,this.localNodeId,t);(e.left===n?e.right:e.left).dontSplit=!0}toArray(){let e=[];for(const t=[this.root];t.length>0;){const n=t.pop();null===n.contacts?t.push(n.right,n.left):e=e.concat(n.contacts)}return e}*toIterable(){for(const e=[this.root];e.length>0;){const t=e.pop();null===t.contacts?e.push(t.right,t.left):yield*t.contacts}}_update(e,t,n){if(!o(e.contacts[t].id,n.id))throw new Error("wrong index for _update");const r=e.contacts[t],i=this.arbiter(r,n);i===r&&r!==n||(e.contacts.splice(t,1),e.contacts.push(i),this.emit("updated",r,i))}}e.exports=u},function(e,t,n){"use strict";const r=n(4),{pipe:i}=n(66),o=n(119),a=n(206),{consume:u}=n(236),s=n(198),c=n(396),f=n(1718),l=n(177),d=n(139),h=n(68);e.exports=class{constructor(e){this.dht=e,this.readMessageTimeout=l.READ_MESSAGE_TIMEOUT,this._log=h.logger(this.dht.peerId,"net"),this._rpc=f(this.dht),this._onPeerConnected=this._onPeerConnected.bind(this),this._running=!1}start(){if(this._running)return;if(!this.dht.isStarted)throw r(new Error("Can not start network"),"ERR_CANNOT_START_NETWORK");this._running=!0,!1===this.dht._clientMode&&this.dht.registrar.handle(this.dht.protocol,this._rpc);const e=new c({multicodecs:[this.dht.protocol],handlers:{onConnect:this._onPeerConnected,onDisconnect:()=>{}}});this._registrarId=this.dht.registrar.register(e)}stop(){(this.dht.isStarted||this.isStarted)&&(this._running=!1,this._registrarId&&this.dht.registrar.unregister(this._registrarId))}get isStarted(){return this._running}get isConnected(){return this.dht.isStarted&&this.isStarted}async _onPeerConnected(e){await this.dht._add(e),this._log("added to the routing table: %s",e.toB58String())}async sendRequest(e,t){if(!this.isConnected)throw r(new Error("Network is offline"),"ERR_NETWORK_OFFLINE");const n=e.toB58String();this._log("sending to: %s",n);let i=this.dht.registrar.connectionManager.get(e);i||(i=await this.dht.dialer.connectToPeer(e));const{stream:o}=await i.newStream(this.dht.protocol);return this._writeReadMessage(o,t.serialize())}async sendMessage(e,t){if(!this.isConnected)throw r(new Error("Network is offline"),"ERR_NETWORK_OFFLINE");const n=e.toB58String();this._log("sending to: %s",n);let i=this.dht.registrar.connectionManager.get(e);i||(i=await this.dht.dialer.connectToPeer(e));const{stream:o}=await i.newStream(this.dht.protocol);return this._writeMessage(o,t.serialize())}async _writeReadMessage(e,t){return a(async function(e,t){const n=await i([t],o.encode(),e,o.decode(),async e=>{const t=await s(e);if(t)return t.slice()});if(0===n.length)throw r(new Error("No message received"),"ERR_NO_MESSAGE_RECEIVED");return d.deserialize(n)}(e,t),this.readMessageTimeout)}_writeMessage(e,t){return i([t],o.encode(),e,u)}}},function(e,t,n){"use strict";const{pipe:r}=n(66),i=n(119),o=n(139),a=n(1720),u=n(68);e.exports=e=>{const t=u.logger(e.peerId,"rpc"),n=a(e);async function s(r,i){const o=n(i.type);try{await e._add(r)}catch(e){t.error("Failed to update the kbucket store",e)}if(o)return o(r,i);t.error("no handler found for message type: "+i.type)}return async function({stream:n,connection:a}){const u=a.remotePeer;try{await e._add(u)}catch(e){t.error(e)}const c=u.toB58String();t("from: %s",c),await r(n.source,i.decode(),e=>async function*(){for await(const t of e){const e=o.deserialize(t.slice()),n=await s(u,e);n&&(yield n.serialize())}}(),i.encode(),n.sink)}}},function(e,t,n){"use strict";var r=n(80),i=r.Reader,o=r.Writer,a=r.util,u=r.roots["libp2p-dht-message"]||(r.roots["libp2p-dht-message"]={});u.Record=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.key=null,e.prototype.value=null,e.prototype.author=null,e.prototype.signature=null,e.prototype.timeReceived=null,Object.defineProperty(e.prototype,"_key",{get:a.oneOfGetter(t=["key"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_value",{get:a.oneOfGetter(t=["value"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_author",{get:a.oneOfGetter(t=["author"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_signature",{get:a.oneOfGetter(t=["signature"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_timeReceived",{get:a.oneOfGetter(t=["timeReceived"]),set:a.oneOfSetter(t)}),e.encode=function(e,t){return t||(t=o.create()),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(10).bytes(e.key),null!=e.value&&Object.hasOwnProperty.call(e,"value")&&t.uint32(18).bytes(e.value),null!=e.author&&Object.hasOwnProperty.call(e,"author")&&t.uint32(26).bytes(e.author),null!=e.signature&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(34).bytes(e.signature),null!=e.timeReceived&&Object.hasOwnProperty.call(e,"timeReceived")&&t.uint32(42).string(e.timeReceived),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Record;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.key=e.bytes();break;case 2:r.value=e.bytes();break;case 3:r.author=e.bytes();break;case 4:r.signature=e.bytes();break;case 5:r.timeReceived=e.string();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.Record)return e;var t=new u.Record;return null!=e.key&&("string"==typeof e.key?a.base64.decode(e.key,t.key=a.newBuffer(a.base64.length(e.key)),0):e.key.length&&(t.key=e.key)),null!=e.value&&("string"==typeof e.value?a.base64.decode(e.value,t.value=a.newBuffer(a.base64.length(e.value)),0):e.value.length&&(t.value=e.value)),null!=e.author&&("string"==typeof e.author?a.base64.decode(e.author,t.author=a.newBuffer(a.base64.length(e.author)),0):e.author.length&&(t.author=e.author)),null!=e.signature&&("string"==typeof e.signature?a.base64.decode(e.signature,t.signature=a.newBuffer(a.base64.length(e.signature)),0):e.signature.length&&(t.signature=e.signature)),null!=e.timeReceived&&(t.timeReceived=String(e.timeReceived)),t},e.toObject=function(e,t){t||(t={});var n={};return null!=e.key&&e.hasOwnProperty("key")&&(n.key=t.bytes===String?a.base64.encode(e.key,0,e.key.length):t.bytes===Array?Array.prototype.slice.call(e.key):e.key,t.oneofs&&(n._key="key")),null!=e.value&&e.hasOwnProperty("value")&&(n.value=t.bytes===String?a.base64.encode(e.value,0,e.value.length):t.bytes===Array?Array.prototype.slice.call(e.value):e.value,t.oneofs&&(n._value="value")),null!=e.author&&e.hasOwnProperty("author")&&(n.author=t.bytes===String?a.base64.encode(e.author,0,e.author.length):t.bytes===Array?Array.prototype.slice.call(e.author):e.author,t.oneofs&&(n._author="author")),null!=e.signature&&e.hasOwnProperty("signature")&&(n.signature=t.bytes===String?a.base64.encode(e.signature,0,e.signature.length):t.bytes===Array?Array.prototype.slice.call(e.signature):e.signature,t.oneofs&&(n._signature="signature")),null!=e.timeReceived&&e.hasOwnProperty("timeReceived")&&(n.timeReceived=e.timeReceived,t.oneofs&&(n._timeReceived="timeReceived")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),u.Message=function(){function e(e){if(this.closerPeers=[],this.providerPeers=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n,s;return e.prototype.type=null,e.prototype.clusterLevelRaw=null,e.prototype.key=null,e.prototype.record=null,e.prototype.closerPeers=a.emptyArray,e.prototype.providerPeers=a.emptyArray,Object.defineProperty(e.prototype,"_type",{get:a.oneOfGetter(t=["type"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_clusterLevelRaw",{get:a.oneOfGetter(t=["clusterLevelRaw"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_key",{get:a.oneOfGetter(t=["key"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_record",{get:a.oneOfGetter(t=["record"]),set:a.oneOfSetter(t)}),e.encode=function(e,t){if(t||(t=o.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.key&&Object.hasOwnProperty.call(e,"key")&&t.uint32(18).bytes(e.key),null!=e.record&&Object.hasOwnProperty.call(e,"record")&&t.uint32(26).bytes(e.record),null!=e.closerPeers&&e.closerPeers.length)for(var n=0;n<e.closerPeers.length;++n)u.Message.Peer.encode(e.closerPeers[n],t.uint32(66).fork()).ldelim();if(null!=e.providerPeers&&e.providerPeers.length)for(n=0;n<e.providerPeers.length;++n)u.Message.Peer.encode(e.providerPeers[n],t.uint32(74).fork()).ldelim();return null!=e.clusterLevelRaw&&Object.hasOwnProperty.call(e,"clusterLevelRaw")&&t.uint32(80).int32(e.clusterLevelRaw),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Message;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.type=e.int32();break;case 10:r.clusterLevelRaw=e.int32();break;case 2:r.key=e.bytes();break;case 3:r.record=e.bytes();break;case 8:r.closerPeers&&r.closerPeers.length||(r.closerPeers=[]),r.closerPeers.push(u.Message.Peer.decode(e,e.uint32()));break;case 9:r.providerPeers&&r.providerPeers.length||(r.providerPeers=[]),r.providerPeers.push(u.Message.Peer.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.Message)return e;var t=new u.Message;switch(e.type){case"PUT_VALUE":case 0:t.type=0;break;case"GET_VALUE":case 1:t.type=1;break;case"ADD_PROVIDER":case 2:t.type=2;break;case"GET_PROVIDERS":case 3:t.type=3;break;case"FIND_NODE":case 4:t.type=4;break;case"PING":case 5:t.type=5}if(null!=e.clusterLevelRaw&&(t.clusterLevelRaw=0|e.clusterLevelRaw),null!=e.key&&("string"==typeof e.key?a.base64.decode(e.key,t.key=a.newBuffer(a.base64.length(e.key)),0):e.key.length&&(t.key=e.key)),null!=e.record&&("string"==typeof e.record?a.base64.decode(e.record,t.record=a.newBuffer(a.base64.length(e.record)),0):e.record.length&&(t.record=e.record)),e.closerPeers){if(!Array.isArray(e.closerPeers))throw TypeError(".Message.closerPeers: array expected");t.closerPeers=[];for(var n=0;n<e.closerPeers.length;++n){if("object"!=typeof e.closerPeers[n])throw TypeError(".Message.closerPeers: object expected");t.closerPeers[n]=u.Message.Peer.fromObject(e.closerPeers[n])}}if(e.providerPeers){if(!Array.isArray(e.providerPeers))throw TypeError(".Message.providerPeers: array expected");t.providerPeers=[];for(n=0;n<e.providerPeers.length;++n){if("object"!=typeof e.providerPeers[n])throw TypeError(".Message.providerPeers: object expected");t.providerPeers[n]=u.Message.Peer.fromObject(e.providerPeers[n])}}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.closerPeers=[],n.providerPeers=[]),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?u.Message.MessageType[e.type]:e.type,t.oneofs&&(n._type="type")),null!=e.key&&e.hasOwnProperty("key")&&(n.key=t.bytes===String?a.base64.encode(e.key,0,e.key.length):t.bytes===Array?Array.prototype.slice.call(e.key):e.key,t.oneofs&&(n._key="key")),null!=e.record&&e.hasOwnProperty("record")&&(n.record=t.bytes===String?a.base64.encode(e.record,0,e.record.length):t.bytes===Array?Array.prototype.slice.call(e.record):e.record,t.oneofs&&(n._record="record")),e.closerPeers&&e.closerPeers.length){n.closerPeers=[];for(var r=0;r<e.closerPeers.length;++r)n.closerPeers[r]=u.Message.Peer.toObject(e.closerPeers[r],t)}if(e.providerPeers&&e.providerPeers.length){n.providerPeers=[];for(r=0;r<e.providerPeers.length;++r)n.providerPeers[r]=u.Message.Peer.toObject(e.providerPeers[r],t)}return null!=e.clusterLevelRaw&&e.hasOwnProperty("clusterLevelRaw")&&(n.clusterLevelRaw=e.clusterLevelRaw,t.oneofs&&(n._clusterLevelRaw="clusterLevelRaw")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.MessageType=(n={},(s=Object.create(n))[n[0]="PUT_VALUE"]=0,s[n[1]="GET_VALUE"]=1,s[n[2]="ADD_PROVIDER"]=2,s[n[3]="GET_PROVIDERS"]=3,s[n[4]="FIND_NODE"]=4,s[n[5]="PING"]=5,s),e.ConnectionType=function(){var e={},t=Object.create(e);return t[e[0]="NOT_CONNECTED"]=0,t[e[1]="CONNECTED"]=1,t[e[2]="CAN_CONNECT"]=2,t[e[3]="CANNOT_CONNECT"]=3,t}(),e.Peer=function(){function e(e){if(this.addrs=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t;return e.prototype.id=null,e.prototype.addrs=a.emptyArray,e.prototype.connection=null,Object.defineProperty(e.prototype,"_id",{get:a.oneOfGetter(t=["id"]),set:a.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_connection",{get:a.oneOfGetter(t=["connection"]),set:a.oneOfSetter(t)}),e.encode=function(e,t){if(t||(t=o.create()),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(10).bytes(e.id),null!=e.addrs&&e.addrs.length)for(var n=0;n<e.addrs.length;++n)t.uint32(18).bytes(e.addrs[n]);return null!=e.connection&&Object.hasOwnProperty.call(e,"connection")&&t.uint32(24).int32(e.connection),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Message.Peer;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.id=e.bytes();break;case 2:r.addrs&&r.addrs.length||(r.addrs=[]),r.addrs.push(e.bytes());break;case 3:r.connection=e.int32();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.Message.Peer)return e;var t=new u.Message.Peer;if(null!=e.id&&("string"==typeof e.id?a.base64.decode(e.id,t.id=a.newBuffer(a.base64.length(e.id)),0):e.id.length&&(t.id=e.id)),e.addrs){if(!Array.isArray(e.addrs))throw TypeError(".Message.Peer.addrs: array expected");t.addrs=[];for(var n=0;n<e.addrs.length;++n)"string"==typeof e.addrs[n]?a.base64.decode(e.addrs[n],t.addrs[n]=a.newBuffer(a.base64.length(e.addrs[n])),0):e.addrs[n].length&&(t.addrs[n]=e.addrs[n])}switch(e.connection){case"NOT_CONNECTED":case 0:t.connection=0;break;case"CONNECTED":case 1:t.connection=1;break;case"CAN_CONNECT":case 2:t.connection=2;break;case"CANNOT_CONNECT":case 3:t.connection=3}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.addrs=[]),null!=e.id&&e.hasOwnProperty("id")&&(n.id=t.bytes===String?a.base64.encode(e.id,0,e.id.length):t.bytes===Array?Array.prototype.slice.call(e.id):e.id,t.oneofs&&(n._id="id")),e.addrs&&e.addrs.length){n.addrs=[];for(var r=0;r<e.addrs.length;++r)n.addrs[r]=t.bytes===String?a.base64.encode(e.addrs[r],0,e.addrs[r].length):t.bytes===Array?Array.prototype.slice.call(e.addrs[r]):e.addrs[r]}return null!=e.connection&&e.hasOwnProperty("connection")&&(n.connection=t.enums===String?u.Message.ConnectionType[e.connection]:e.connection,t.oneofs&&(n._connection="connection")),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e}(),e.exports=u},function(e,t,n){"use strict";const r=n(139).TYPES;e.exports=e=>{const t={[r.GET_VALUE]:n(1721)(e),[r.PUT_VALUE]:n(1722)(e),[r.FIND_NODE]:n(1723)(e),[r.ADD_PROVIDER]:n(1724)(e),[r.GET_PROVIDERS]:n(1725)(e),[r.PING]:n(1726)(e)};return function(e){return t[e]}}},function(e,t,n){"use strict";const{Record:r}=n(199),i=n(4),o=n(139),a=n(68);e.exports=e=>{const t=a.logger(e.peerId,"rpc:get-value");return async function(n,u){const s=u.key;if(t("key: %b",s),!s||0===s.length)throw i(new Error("Invalid key"),"ERR_INVALID_KEY");const c=new o(o.TYPES.GET_VALUE,s,u.clusterLevel);if(a.isPublicKeyKey(s)){t("is public key");const n=a.fromPublicKeyKey(s);let i;if(e._isSelf(n))i=e.peerId;else{const t=e.peerStore.get(n);i=t&&t.id}if(i&&i.pubKey)return t("returning found public key"),c.record=new r(s,i.pubKey.bytes),c}const[f,l]=await Promise.all([e._checkLocalDatastore(s),e._betterPeersToQuery(u,n)]);return f&&(t("got record"),c.record=f),l.length>0&&(t("got closer %s",l.length),c.closerPeers=l),c}}},function(e,t,n){"use strict";const r=n(68),i=n(4);e.exports=e=>{const t=r.logger(e.peerId,"rpc:put-value");return async function(n,o){const a=o.key;t("key: %b",a);const u=o.record;if(!u){const e="Empty record from: "+n.toB58String();throw t.error(e),i(new Error(e),"ERR_EMPTY_RECORD")}await e._verifyRecordLocally(u),u.timeReceived=new Date;const s=r.bufferToKey(u.key);return await e.datastore.put(s,u.serialize()),e.onPut(u,n),o}}},function(e,t,n){"use strict";const r=n(96),i=n(139),o=n(68);e.exports=e=>{const t=o.logger(e.peerId,"rpc:find-node");return async function(n,o){let a;t("start"),a=r(o.key,e.peerId.id)?[{id:e.peerId,multiaddrs:e.libp2p.multiaddrs}]:await e._betterPeersToQuery(o,n);const u=new i(o.type,new Uint8Array(0),o.clusterLevel);return a.length>0?u.closerPeers=a:t("handle FindNode %s: could not find anything",n.toB58String()),u}}},function(e,t,n){"use strict";const{CID:r}=n(12),i=n(4),o=n(68);e.exports=e=>{const t=o.logger(e.peerId,"rpc:add-provider");return async function(n,o){if(t("start"),!o.key||0===o.key.length)throw i(new Error("Missing key"),"ERR_MISSING_KEY");let a;try{a=r.decode(o.key)}catch(e){const t="Invalid CID: "+e.message;throw i(new Error(t),"ERR_INVALID_CID")}return o.providerPeers.forEach(r=>{if(r.id.isEqual(n)){if(!(r.multiaddrs.length<1))return t("received provider %s for %s (addrs %s)",n.toB58String(),a.toString(),r.multiaddrs.map(e=>e.toString())),e._isSelf(r.id)?void 0:(e.peerStore.addressBook.add(r.id,r.multiaddrs),e.providers.addProvider(a,r.id));t("no valid addresses for provider %s. Ignore",n.toB58String())}else t("invalid provider peer %s from %s",r.id.toB58String(),n.toB58String())}),e.providers.addProvider(a,n)}}},function(e,t,n){"use strict";const{CID:r}=n(12),i=n(4),o=n(139),a=n(68);e.exports=e=>{const t=a.logger(e.peerId,"rpc:get-providers");return async function(n,u){let s;try{s=r.decode(u.key)}catch(e){throw i(new Error("Invalid CID: "+e.message),"ERR_INVALID_CID")}t("%s",s.toString());const c=a.bufferToKey(s.bytes),[f,l,d]=await Promise.all([e.datastore.has(c),e.providers.getProviders(s),e._betterPeersToQuery(u,n)]),h=l.map(e=>({id:e,multiaddrs:[]})),p=d.map(e=>({id:e.id,multiaddrs:[]}));f&&h.push({id:e.peerId,multiaddrs:[]});const m=new o(u.type,u.key,u.clusterLevel);return h.length>0&&(m.providerPeers=h),p.length>0&&(m.closerPeers=p),t("got %s providers %s closerPeers",h.length,p.length),m}}},function(e,t,n){"use strict";const r=n(68);e.exports=e=>{const t=r.logger(e.peerId,"rpc:ping");return function(e,n){return t("from %s",e.toB58String()),n}}},function(e,t,n){"use strict";const r=n(4),i=n(206),o=n(96),a=n(45),u=n(199),s=n(177),c=n(418),f=n(68),l=u.Record;e.exports=e=>{const t=async(t,n)=>e.datastore.put(f.bufferToKey(t),n);return{_putLocal:async(e,n)=>t(e,n),async put(n,i,o={}){e._log("PutValue %b",n);const a=await f.createPutRecord(n,i);await t(n,a);let u=0,s=0;await f.mapParallel(e.getClosestPeers(n,{shallow:!0}),async t=>{try{u+=1,await e._putValueToPeer(n,a,t),s+=1}catch(n){e._log.error("Failed to put to peer (%b): %s",t.id,n)}});const c=o.minPeers||u;if(c>s){const t=r(new Error(`Failed to put value to enough peers: ${s}/${c}`),"ERR_NOT_ENOUGH_PUT_PEERS");throw e._log.error(t),t}},async get(t,n={}){n.timeout=n.timeout||s.minute,e._log("_get %b",t);const i=await e.getMany(t,s.GET_MANY_RECORD_COUNT,n),a=i.map(e=>e.val);let c=0;try{c=u.selection.bestRecord(e.selectors,t,a)}catch(e){if("ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY"!==e.code)throw e}const l=a[c];if(e._log("GetValue %b %s",t,l),!l)throw r(new Error("best value was not found"),"ERR_NOT_FOUND");return await(async(t,n,r)=>{const i=await f.createPutRecord(t,r);return Promise.all(n.map(async n=>{if(!o(n.val,r))if(e._isSelf(n.from))try{await e._putLocal(t,i)}catch(t){e._log.error("Failed error correcting self",t)}else try{await e._putValueToPeer(t,i,n.from)}catch(t){e._log.error("Failed error correcting entry",t)}}))})(t,i,l),l},async getMany(t,n,o={}){o.timeout=o.timeout||s.minute,e._log("getMany %b (%s)",t,n);const u=[];let d;try{d=await(async t=>{e._log("getLocal "+a(t,"base32"));const n=await e.datastore.get(f.bufferToKey(t));e._log(`found ${a(t,"base32")} in local datastore`);const r=l.deserialize(n);return await e._verifyRecordLocally(r),r})(t)}catch(e){if(0===n)throw e}if(d&&u.push({val:d.value,from:e.peerId}),u.length>=n)return u;const h=await f.convertBuffer(t),p=e.routingTable.closestPeers(h,e.kBucketSize);if(e._log("peers in rt: %d",p.length),0===p.length){const t="Failed to lookup key! No peers from routing table!";if(e._log.error(t),0===u.length)throw r(new Error(t),"ERR_NO_PEERS_IN_ROUTING_TABLE");return u}const m=u.length;const y=new c(e,t,(function(r,i){const o=f.pathSize(n-m,i);let a=0;return async function(n){let r,i,s;try{const o=await e._getValueOrPeers(n,t);r=o.record,i=o.peers}catch(e){if("ERR_INVALID_RECORD"!==e.code)throw e;s=e}const c={closerPeers:i};return r&&r.value?(u.push({val:r.value,from:n}),a++):s&&(u.push({err:s,from:n}),a++),a>=o&&(c.pathComplete=!0),c}}));try{await i(y.run(p),o.timeout)}catch(e){if(0===u.length)throw e}finally{y.stop()}return u}}}},function(e,t,n){"use strict";const r=n(1729),i=n(33),o=n(1730),a=n(1734),u=n(68);e.exports=class extends i{constructor(e){super(),this.query=e,this.running=!1,this.workers=[],this.peersSeen=new Set,this.errors=[],this.peersQueried=null}stop(){if(this.running){this.running=!1;for(const e of this.workers)e.stop()}}async execute(e){const t=[],n=Math.min(this.query.dht.disjointPaths,e.length);for(let e=0;e<n;e++)t.push(new o(this,this.query.makePath(e,n)));e.forEach((e,r)=>{t[r%n].addInitialPeer(e)}),await this.executePaths(t);const r={finalSet:new Set(this.peersQueried&&this.peersQueried.peers),paths:[]};for(const e of t)e.res&&(e.res.pathComplete||e.res.queryComplete)&&(e.res.success=!0,r.paths.push(e.res));return r}async executePaths(e){this.running=!0,this.emit("start");try{await Promise.all(e.map(e=>e.execute()))}finally{this.stop(),this.emit("complete")}if(this.errors.length===this.peersSeen.size)throw this.errors[0]}async workerQueue(e){await this.init(),await this.startWorker(e)}async startWorker(e){const t=new a(this.query.dht,this,e,this.query._log);this.workers.push(t),await t.execute()}async init(){this.peersQueried||(this.peersQueriedPromise?await this.peersQueriedPromise:(this.peersQueriedPromise=(async()=>{const e=await u.convertBuffer(this.query.key);this.peersQueried=new r(e,this.query.dht.kBucketSize)})(),await this.peersQueriedPromise,delete this.peersQueriedPromise))}async continueQuerying(e){if(this.peersQueried&&this.peersQueried.length<this.peersQueried.capacity)return!0;const t=Array.from(e.queuedPeerIds);return!(!this.peersQueried||!await this.peersQueried.anyCloser(t))}}},function(e,t,n){"use strict";const r=n(416),i=n(68),o=n(417),a=n(96);e.exports=class{constructor(e,t){this.originDhtKey=e,this.capacity=t,this.peerDistances=[]}get length(){return this.peerDistances.length}get peers(){return this.peerDistances.map(e=>e.peerId)}async add(e){if(this.peerDistances.find(t=>a(t.peerId.id,e.id)))return;const t=await i.convertPeerId(e),n={peerId:e,distance:r(this.originDhtKey,t)};this.peerDistances.push(n),this.peerDistances.sort((e,t)=>r.compare(e.distance,t.distance)),this.peerDistances=this.peerDistances.slice(0,this.capacity)}async anyCloser(e){if(!e.length)return!1;if(!this.length)return!0;const t=await o(e,e=>i.convertPeerId(e)),n=this.peerDistances[this.peerDistances.length-1].distance;for(const e of t){const t=r(this.originDhtKey,e);if(r.compare(t,n)<0)return!0}return!1}}},function(e,t,n){"use strict";const r=n(1731),i=n(68);e.exports=class{constructor(e,t){if(this.run=e,this.queryFunc=i.withTimeout(t,3e4),!this.queryFunc)throw new Error("Path requires a `queryFn` to be specified");if("function"!=typeof this.queryFunc)throw new Error("Path expected `queryFn` to be a function. Got "+typeof this.queryFunc);this.initialPeers=[],this.peersToQuery=null,this.res=null}addInitialPeer(e){this.initialPeers.push(e)}async execute(){const e=await r.fromKey(this.run.query.key);this.peersToQuery=e,await Promise.all(this.initialPeers.map(e=>this.addPeerToQuery(e))),await this.run.workerQueue(this)}async addPeerToQuery(e){this.run.query.dht._isSelf(e)||this.run.peersSeen.has(e.toB58String())||this.peersToQuery&&await this.peersToQuery.enqueue(e)}}},function(e,t,n){"use strict";const r=n(1732),i=n(416),o=n(6),a=n(68),u=o("libp2p:dht:peer-queue");class s{static async fromPeerId(e){const t=await a.convertPeerId(e);return new s(t)}static async fromKey(e){const t=await a.convertBuffer(e);return new s(t)}constructor(e){u("create: %b",e),this.from=e,this.heap=new r(a.xorCompare)}async enqueue(e){u("enqueue %s",e.toB58String());const t=await a.convertPeerId(e),n={id:e,distance:i(this.from,t)};this.heap.push(n)}dequeue(){const e=this.heap.pop();return u("dequeue %s",e.id.toB58String()),e.id}get length(){return this.heap.size()}}e.exports=s},function(e,t,n){e.exports=n(1733)},function(e,t,n){var r,i,o;(function(){var n,a,u,s,c,f,l,d,h,p,m,y,v,g,b;u=Math.floor,p=Math.min,a=function(e,t){return e<t?-1:e>t?1:0},h=function(e,t,n,r,i){var o;if(null==n&&(n=0),null==i&&(i=a),n<0)throw new Error("lo must be non-negative");for(null==r&&(r=e.length);n<r;)i(t,e[o=u((n+r)/2)])<0?r=o:n=o+1;return[].splice.apply(e,[n,n-n].concat(t)),t},f=function(e,t,n){return null==n&&(n=a),e.push(t),g(e,0,e.length-1,n)},c=function(e,t){var n,r;return null==t&&(t=a),n=e.pop(),e.length?(r=e[0],e[0]=n,b(e,0,t)):r=n,r},d=function(e,t,n){var r;return null==n&&(n=a),r=e[0],e[0]=t,b(e,0,n),r},l=function(e,t,n){var r;return null==n&&(n=a),e.length&&n(e[0],t)<0&&(t=(r=[e[0],t])[0],e[0]=r[1],b(e,0,n)),t},s=function(e,t){var n,r,i,o,s,c;for(null==t&&(t=a),s=[],r=0,i=(o=function(){c=[];for(var t=0,n=u(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)c.push(t);return c}.apply(this).reverse()).length;r<i;r++)n=o[r],s.push(b(e,n,t));return s},v=function(e,t,n){var r;if(null==n&&(n=a),-1!==(r=e.indexOf(t)))return g(e,0,r,n),b(e,r,n)},m=function(e,t,n){var r,i,o,u,c;if(null==n&&(n=a),!(i=e.slice(0,t)).length)return i;for(s(i,n),o=0,u=(c=e.slice(t)).length;o<u;o++)r=c[o],l(i,r,n);return i.sort(n).reverse()},y=function(e,t,n){var r,i,o,u,f,l,d,m,y;if(null==n&&(n=a),10*t<=e.length){if(!(o=e.slice(0,t).sort(n)).length)return o;for(i=o[o.length-1],u=0,l=(d=e.slice(t)).length;u<l;u++)n(r=d[u],i)<0&&(h(o,r,0,null,n),o.pop(),i=o[o.length-1]);return o}for(s(e,n),y=[],f=0,m=p(t,e.length);0<=m?f<m:f>m;0<=m?++f:--f)y.push(c(e,n));return y},g=function(e,t,n,r){var i,o,u;for(null==r&&(r=a),i=e[n];n>t&&r(i,o=e[u=n-1>>1])<0;)e[n]=o,n=u;return e[n]=i},b=function(e,t,n){var r,i,o,u,s;for(null==n&&(n=a),i=e.length,s=t,o=e[t],r=2*t+1;r<i;)(u=r+1)<i&&!(n(e[r],e[u])<0)&&(r=u),e[t]=e[r],r=2*(t=r)+1;return e[t]=o,g(e,s,t,n)},n=function(){function e(e){this.cmp=null!=e?e:a,this.nodes=[]}return e.push=f,e.pop=c,e.replace=d,e.pushpop=l,e.heapify=s,e.updateItem=v,e.nlargest=m,e.nsmallest=y,e.prototype.push=function(e){return f(this.nodes,e,this.cmp)},e.prototype.pop=function(){return c(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return d(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return l(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return s(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return v(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),i=[],void 0===(o="function"==typeof(r=function(){return n})?r.apply(t,i):r)||(e.exports=o)}).call(this)},function(e,t,n){"use strict";const{default:r}=n(155);e.exports=class{constructor(e,t,n,r){this.dht=e,this.run=t,this.path=n,this.log=r,this.concurrency=this.dht.concurrency,this.queue=this.setupQueue(),this.execution=null,this.queuedPeerIds=new Set}setupQueue(){const e=new r({concurrency:this.concurrency});return e.on("idle",()=>{this.path.peersToQuery&&!this.path.peersToQuery.length&&(this.log("queue:drain"),this.stop())}),e.on("next",()=>{this.running&&e.pending<this.concurrency&&this.fill()}),e}stop(e){this.running&&(this.running=!1,this.queue.clear(),this.log("worker:stop, %d workers still running",this.run.workers.filter(e=>e.running).length),this.execution&&(e?this.execution.reject(e):this.execution.resolve()))}async execute(){this.running=!0,this.execution=null;const e=new Promise((e,t)=>{this.execution={resolve:e,reject:t}});this.fill(),await e}fill(){if(this.path.peersToQuery)for(;this.queue.pending+this.queue.size<this.concurrency&&this.path.peersToQuery.length>0;){const e=this.path.peersToQuery.dequeue();this.queuedPeerIds.add(e),this.queue.add(()=>this.processNext(e).catch(e=>{this.log.error("queue",e),this.stop(e)}).finally(()=>{this.queuedPeerIds.delete(e)}))}}async processNext(e){if(!this.running)return;if(this.run.peersSeen.has(e.toB58String()))return;let t,n,r,i;try{t=await this.run.continueQuerying(this)}catch(e){n=e}if(this.running){if(n)throw n;if(t){if(!this.run.peersSeen.has(e.toB58String())){this.run.peersSeen.add(e.toB58String()),this.log("queue:work");try{r=await this.execQuery(e)}catch(e){i=e}if(this.running){if(this.log("queue:work:done",i,r),i)throw i;if(r&&r.queryComplete)return this.log("query:complete"),void this.run.stop();r&&r.pathComplete&&this.stop()}}}else this.stop()}}async execQuery(e){let t,n;try{t=await this.path.queryFunc(e)}catch(e){n=e}if(this.running)if(n)this.run.errors.push(n);else if(this.run.peersQueried&&await this.run.peersQueried.add(e),t){if(t.pathComplete||t.queryComplete)return this.path.res=t,{pathComplete:t.pathComplete,queryComplete:t.queryComplete};if(t.closerPeers&&t.closerPeers.length>0){const e=async e=>{this.dht._isSelf(e.id)||(this.dht._peerDiscovered(e.id,e.multiaddrs),await this.path.addPeerToQuery(e.id))};await Promise.all(t.closerPeers.map(e))}}}}},function(e,t,n){"use strict";const r=n(4),i=n(206),o=n(177),a=n(1736),u=n(139),s=n(418),c=n(68);e.exports=e=>({async provide(t){e._log("provide: "+t);const n=[];await e.providers.addProvider(t,e.peerId);const i=e.libp2p?e.libp2p.multiaddrs:[],o=new u(u.TYPES.ADD_PROVIDER,t.bytes,0);if(o.providerPeers=[{id:e.peerId,multiaddrs:i}],await c.mapParallel(e.getClosestPeers(t.bytes),(async function(r){e._log(`putProvider ${t} to ${r.toB58String()}`);try{await e.network.sendMessage(r,o)}catch(e){n.push(e)}})),n.length)throw r(new Error(`Failed to provide to ${n.length} of ${e.kBucketSize} peers`),"ERR_SOME_PROVIDES_FAILED",{errors:n})},async*findProviders(t,n={timeout:6e4,maxNumProviders:5}){const r=n.timeout||o.minute,f=n.maxNumProviders||o.K;e._log("findProviders "+t);const l=new a(f);if((await e.providers.getProviders(t)).forEach(t=>{const n=e.peerStore.get(t);n?l.push({id:n.id,multiaddrs:n.addresses.map(e=>e.multiaddr)}):l.push({id:t,multiaddrs:[]})}),l.length>=f){for(const e of l.toArray())yield e;return}const d=[];const h=new s(e,t.bytes,(function(n,r){const i=c.pathSize(f-l.length,r),o=new a(i);return d.push(o),async function(n){const r=await(async(t,n)=>{const r=new u(u.TYPES.GET_PROVIDERS,n.bytes,0);return e.network.sendRequest(t,r)})(n,t),a=r.providerPeers;return e._log(`Found ${a.length} provider entries for ${t}`),a.forEach(e=>{o.push({...e})}),o.length>=i?{pathComplete:!0}:{closerPeers:r.closerPeers}}})),p=e.routingTable.closestPeers(t.bytes,e.kBucketSize);try{await i(h.run(p),r)}catch(e){if(e.name!==i.TimeoutError.name)throw e}finally{h.stop()}d.forEach(e=>{e.toArray().forEach(e=>{l.push(e)})});for(const e of l.toArray())yield e}})},function(e,t,n){"use strict";const r=n(1737);e.exports=class extends r{constructor(e){super(),this.limit=e}push(e){return this.length<this.limit&&super.push(e)}}},function(e,t,n){"use strict";e.exports=class{constructor(){this.list=[]}push(e){return!this.has(e.id)&&(this.list.push(e),!0)}has(e){const t=this.list.find(t=>t.id.equals(e));return Boolean(t)}toArray(){return this.list.slice()}pop(){return this.list.pop()}get length(){return this.list.length}}},function(e,t,n){"use strict";const r=n(4),i=n(206),o=n(31),a=n(133),u=n(45),s=n(177),c=n(139),f=n(418),l=n(68);e.exports=e=>{const t=async t=>{const n=l.keyForPublicKey(t),i=await(async(t,n)=>{const r=new c(c.TYPES.GET_VALUE,n,0);return e.network.sendRequest(t,r)})(t,n);if(!i.record||!i.record.value)throw r(new Error("Node not responding with its public key: "+t.toB58String()),"ERR_INVALID_RECORD");const a=await o.createFromPubKey(i.record.value);if(!a.equals(t))throw r(new Error("public key does not match id"),"ERR_PUBLIC_KEY_DOES_NOT_MATCH_ID");return a.pubKey};return{async _findPeerSingle(t,n){e._log("findPeerSingle %s",t.toB58String());const r=new c(c.TYPES.FIND_NODE,n.id,0);return e.network.sendRequest(t,r)},async findPeer(t,n={timeout:6e4}){n.timeout=n.timeout||s.minute,e._log("findPeer %s",t.toB58String());const o=await(async t=>{e._log("findPeerLocal "+t.toB58String());const n=await e.routingTable.find(t),r=n&&e.peerStore.get(n);if(r)return{id:r.id,multiaddrs:r.addresses.map(e=>e.multiaddr)}})(t);if(null!=o)return e._log("found local"),o;const a=await l.convertPeerId(t),u=e.routingTable.closestPeers(a,e.kBucketSize);if(0===u.length)throw r(new Error("Peer lookup failed"),"ERR_LOOKUP_FAILED");if(u.find(e=>e.isEqual(t))){const n=e.peerStore.get(t);if(n)return e._log("found in peerStore"),{id:n.id,multiaddrs:n.addresses.map(e=>e.multiaddr)}}const c=new f(e,t.id,()=>async e=>{const n=await this._findPeerSingle(e,t),r=n.closerPeers.find(e=>e.id.isEqual(t));return r?{peer:r,queryComplete:!0}:{closerPeers:n.closerPeers}});let d;try{d=await i(c.run(u),n.timeout)}finally{c.stop()}let h=!1;if(d.paths.forEach(t=>{t.success&&t.peer&&(h=!0,e.peerStore.addressBook.add(t.peer.id,t.peer.multiaddrs))}),e._log("findPeer %s: %s",t.toB58String(),h),!h)throw r(new Error("No peer found"),"ERR_NOT_FOUND");const p=e.peerStore.get(t);if(!p)throw r(new Error("No peer found in peer store"),"ERR_NOT_FOUND");return{id:p.id,multiaddrs:p.addresses.map(e=>e.multiaddr)}},async*getClosestPeers(t,n={shallow:!1}){e._log("getClosestPeers to %b",t);const r=await l.convertBuffer(t),i=e.routingTable.closestPeers(r,e.kBucketSize),a=new f(e,t,()=>async r=>({closerPeers:await(async(t,n)=>{e._log(`closerPeersSingle ${u(t,"base32")} from ${n.toB58String()}`);return(await e.peerRouting._findPeerSingle(n,new o(t))).closerPeers.filter(t=>!e._isSelf(t.id)).map(t=>(e.peerStore.addressBook.add(t.id,t.multiaddrs),t))})(t,r),pathComplete:!!n.shallow||void 0})),s=await a.run(i);if(!s||!s.finalSet)return[];const c=await l.sortClosestPeers(Array.from(s.finalSet),r);for(const t of c.slice(0,e.kBucketSize))yield t},async getPublicKey(n){e._log("getPublicKey %s",n.toB58String());const r=e.peerStore.get(n);if(r&&r.id.pubKey)return e._log("getPublicKey: found local copy"),r.id.pubKey;let i;try{i=await t(n)}catch(t){const r=l.keyForPublicKey(n),o=await e.get(r);i=a.keys.unmarshalPublicKey(o)}const u=new o(n.id,void 0,i),s=(r&&r.addresses||[]).map(e=>e.multiaddr);return e.peerStore.addressBook.add(u,s),e.peerStore.keyBook.set(u,i),i}}}},function(e,t,n){"use strict";const r=n(289),i=n(103),o=n(31),{Key:a}=n(47),{default:u}=n(155),s=n(177),c=n(68);function f(e){return e="string"==typeof e?e:c.encodeBase32(e.bytes),s.PROVIDERS_KEY_PREFIX+e}function l(e){const t=e.toString().split("/");if(4!==t.length)throw new Error("incorrectly formatted provider entry key in datastore: "+e);return{cid:t[2],peerId:t[3]}}function d(e){return i.decode(e)}e.exports=class{constructor(e,t,n){this.datastore=e,this._log=c.logger(t,"providers"),this.cleanupInterval=s.PROVIDERS_CLEANUP_INTERVAL,this.provideValidity=s.PROVIDERS_VALIDITY,this.lruCacheSize=n||s.PROVIDERS_LRU_CACHE_SIZE,this.providers=r(this.lruCacheSize),this.syncQueue=new u({concurrency:1})}start(){this._cleaner=setInterval(()=>this._cleanup(),this.cleanupInterval)}stop(){this._cleaner&&(clearInterval(this._cleaner),this._cleaner=null)}_cleanup(){return this.syncQueue.add(async()=>{this._log("start cleanup");const e=Date.now();let t=0,n=0;const r=new Map,i=this.datastore.batch(),o=this.datastore.query({prefix:s.PROVIDERS_KEY_PREFIX});for await(const e of o)try{const{cid:o,peerId:a}=l(e.key),u=d(e.value),s=Date.now(),c=s-u,f=c>this.provideValidity;if(this._log("comparing: %d - %d = %d > %d %s",s,u,c,this.provideValidity,f?"(expired)":""),f){n++,i.delete(e.key);const t=r.get(o)||new Set;t.add(a),r.set(o,t)}t++}catch(e){this._log.error(e.message)}this._log("deleting %d / %d entries",n,t),r.size&&await i.commit();for(const[e,t]of r){const n=f(e),r=this.providers.get(n);if(r){for(const e of t)r.delete(e);0===r.size?this.providers.remove(n):this.providers.set(n,r)}}this._log("Cleanup successful (%dms)",Date.now()-e)})}async _getProvidersMap(e){const t=f(e);let n=this.providers.get(t);return n||(n=await async function(e,t){const n=new Map,r=e.query({prefix:f(t)});for await(const e of r){const{peerId:t}=l(e.key);n.set(t,d(e.value))}return n}(this.datastore,e),this.providers.set(t,n)),n}async addProvider(e,t){return this.syncQueue.add(async()=>{this._log("addProvider %s",e.toString());const n=await this._getProvidersMap(e);this._log("loaded %s provs",n.size);const r=new Date;n.set(c.encodeBase32(t.id),r);const o=f(e);return this.providers.set(o,n),async function(e,t,n,r){const o=[f(t),"/",c.encodeBase32(n.id)].join(""),u=new a(o),s=Uint8Array.from(i.encode(r.getTime()));return e.put(u,s)}(this.datastore,e,t,r)})}async getProviders(e){return this.syncQueue.add(async()=>{this._log("getProviders %s",e.toString());return[...(await this._getProvidersMap(e)).keys()].map(e=>new o(c.decodeBase32(e)))})}}},function(e,t,n){"use strict";const r=n(133),{sha256:i}=n(65),o=n(31),{AbortController:a}=n(193),u=n(4),s=n(1741),c=n(177),{logger:f}=n(68);e.exports=class{constructor(e,t){if(!e)throw new Error("Random Walk needs an instance of the Kademlia DHT");this._kadDHT=e,this._options={...c.defaultRandomWalk,...t},this.log=f(e.peerId,"random-walk"),this._timeoutId=void 0}start(){this._running||(this._running=!0,!this._timeoutId&&this._options.enabled&&(this._timeoutId=setTimeout(()=>{this._runPeriodically()},this._options.delay)))}stop(){this._running=!1,this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0),this._controller&&this._controller.abort()}async _runPeriodically(){for(;this._timeoutId;){try{await this._walk(this._options.queriesPerPeriod,this._options.timeout)}catch(e){this._kadDHT._log.error("random-walk:error",e)}if(!this._running)return;await new Promise(e=>{this._timeoutId=setTimeout(e,this._options.interval)})}}async _walk(e,t){this.log("start"),this._controller=new a;try{await s(e,async e=>{this.log("running query %d",e);try{const e=await this._randomPeerId();if(!this._controller)return;await this._query(e,{timeout:t,signal:this._controller.signal})}catch(t){if(t&&"ETIMEDOUT"!==t.code)throw this.log.error("query %d finished with error",e,t),t}this.log("finished query %d",e)})}finally{this._controller=null,this.log("finished queries")}}async _query(e,t){let n;this.log("query:%s",e.toB58String());try{n=await this._kadDHT.findPeer(e,t)}catch(e){if(e&&"ERR_NOT_FOUND"===e.code)return;throw e}throw this.log("query:found",n),u(new Error(`random-walk: ACTUALLY FOUND PEER: ${n}, ${e.toB58String()}`),"ERR_FOUND_RANDOM_PEER")}async _randomPeerId(){const e=await i.digest(r.randomBytes(16));return new o(e.bytes)}}},function(e,t,n){"use strict";const r=n(417),i=async(e,t,n)=>r(new Array(e).fill(),(e,n)=>t(n),n);e.exports=i,e.exports.default=i},function(e,t,n){"use strict";e.exports=class{constructor(){this.queries=new Set,this.running=!1}queryStarted(e){this.queries.add(e)}queryCompleted(e){this.queries.delete(e)}start(){this.running=!0}stop(){this.running=!1;for(const e of this.queries)e.stop();this.queries.clear()}}},function(e,t,n){"use strict";const r=n(31),{Multiaddr:i}=n(30),o=n(195),{EventEmitter:a}=n(33),u=n(6),s=Object.assign(u("libp2p:bootstrap"),{error:u("libp2p:bootstrap:error")});(e.exports=class extends a{constructor(e={list:[]}){if(!e.list||!e.list.length)throw new Error("Bootstrap requires a list of peer addresses");super(),this._list=e.list,this._interval=e.interval||1e4,this._timer=null}start(){this._timer||(this._timer=setInterval(()=>this._discoverBootstrapPeers(),this._interval),s("Starting bootstrap node discovery"),this._discoverBootstrapPeers())}_discoverBootstrapPeers(){this._timer&&this._list.forEach(e=>{if(!o.P2P.matches(e))return s.error("Invalid multiaddr");const t=new i(e),n=t.getPeerId();if(!n)return void s.error("Invalid bootstrap multiaddr without peer id");const a=r.createFromB58String(n);try{this.emit("peer",{id:a,multiaddrs:[t]})}catch(e){s.error("Invalid bootstrap peer id",e)}})}stop(){this._timer&&clearInterval(this._timer),this._timer=null}}).tag="bootstrap"},function(e,t,n){"use strict";const{createBitswap:r}=n(1745),i=n(626),{Multiaddr:o}=n(30),a=n(4),u=n(1766);class s{constructor(e,t,n,r,i){this.peerId=e,this.libp2p=t,this.bitswap=n,this.repo=r,this.blockstore=i}static async start({peerId:e,repo:t,print:n,options:o}){t.closed&&await t.open();const a=await t.config.getAll(),f=await i({options:o,repo:t,peerId:e,multiaddrs:c(e,a),config:a,keychainConfig:void 0});f.keychain&&await f.loadKeychain(),await f.start();for(const t of f.multiaddrs)n(`Swarm listening on ${t}/p2p/${e.toB58String()}`);const l=r(f,t.blocks,{statsEnabled:!0});await l.start();const d=new u(t.blocks,l);return t.blocks=d,t.pins.blockstore=d,new s(e,f,l,t,d)}static async stop(e){e.repo.blocks=e.blockstore.unwrap(),e.repo.pins.blockstore=e.blockstore.unwrap(),await Promise.all([e.bitswap.stop(),e.libp2p.stop()])}}e.exports=s;const c=(e,t)=>{const n=e.toB58String(),r=[],i=t.Addresses&&t.Addresses.Swarm||[];for(const e of i){let t=new o(e);if(t.protoCodes().includes(f))throw a(new Error("websocket-star swarm addresses are not supported. See https://github.com/ipfs/js-ipfs/issues/2779"),"ERR_WEBSOCKET_STAR_SWARM_ADDR_NOT_SUPPORTED");const i=t.getPeerId();i&&i!==n&&(t=t.encapsulate("/p2p/"+n)),r.push(t)}return r},f=479},function(e,t,n){"use strict";const r=n(1746);e.exports={createBitswap:(e,t,n={})=>new r(e,t,n)}},function(e,t,n){"use strict";const r=n(1747),i=n(1757),o=n(1758),a=n(1763),u=n(178).logger,s=n(1764),{AbortController:c}=n(83),{anySignal:f}=n(194),{BlockstoreAdapter:l}=n(395),{CID:d}=n(170),h={statsEnabled:!1,statsComputeThrottleTimeout:1e3,statsComputeThrottleMaxQueueSize:1e3},p=["blocksReceived","dataReceived","dupBlksReceived","dupDataReceived","blocksSent","dataSent","providesBufferLength","wantListLength","peerCount"];e.exports=class extends l{constructor(e,t,n={}){super(),this._libp2p=e,this._log=u(this.peerId),this._options=Object.assign({},h,n),this._stats=new s(p,{enabled:this._options.statsEnabled,computeThrottleTimeout:this._options.statsComputeThrottleTimeout,computeThrottleMaxQueueSize:this._options.statsComputeThrottleMaxQueueSize}),this.network=new i(e,this,this._stats,{hashers:n.hashers}),this.blockstore=t,this.engine=new o(this.peerId,t,this.network,this._stats),this.wm=new r(this.peerId,this.network,this._stats),this.notifications=new a(this.peerId),this.started=!1}isStarted(){return this.started}get peerId(){return this._libp2p.peerId}async _receiveMessage(e,t){try{await this.engine.messageReceived(e,t)}catch(e){this._log("failed to receive message",t)}if(0===t.blocks.size)return;const n=[];for(const[e,r]of t.blocks.entries()){const t=d.parse(e);n.push({wasWanted:this.wm.wantlist.contains(t),cid:t,data:r})}this.wm.cancelWants(n.filter(({wasWanted:e})=>e).map(({cid:e})=>e)),await Promise.all(n.map(({cid:t,wasWanted:n,data:r})=>this._handleReceivedBlock(e,t,r,n)))}async _handleReceivedBlock(e,t,n,r){this._log("received block");const i=await this.blockstore.has(t);this._updateReceiveCounters(e.toB58String(),t,n,i),r&&await this.put(t,n)}_updateReceiveCounters(e,t,n,r){this._stats.push(e,"blocksReceived",1),this._stats.push(e,"dataReceived",n.length),r&&(this._stats.push(e,"dupBlksReceived",1),this._stats.push(e,"dupDataReceived",n.length))}_receiveError(e){this._log.error("ReceiveError: %s",e.message)}_onPeerConnected(e){this.wm.connected(e)}_onPeerDisconnected(e){this.wm.disconnected(e),this.engine.peerDisconnected(e),this._stats.disconnected(e)}enableStats(){this._stats.enable()}disableStats(){this._stats.disable()}wantlistForPeer(e,t){return this.engine.wantlistForPeer(e)}ledgerForPeer(e){return this.engine.ledgerForPeer(e)}async get(e,t={}){const n=(e,t)=>(this.wm.wantBlocks([e],t),this.notifications.wantBlock(e,t));let r=!1;const i=new c,o=t.signal?f([t.signal,i.signal]):i.signal,a=await Promise.race([this.notifications.wantBlock(e,{signal:o}),(async(e,t)=>{try{return await this.blockstore.get(e,t)}catch(i){if("ERR_NOT_FOUND"!==i.code)throw i;return r||(r=!0,this.network.findAndConnect(e).catch(e=>this._log.error(e))),n(e,t)}})(e,{signal:o})]);return i.abort(),a}async*getMany(e,t={}){for await(const n of e)yield this.get(n,t)}unwant(e){const t=Array.isArray(e)?e:[e];this.wm.unwantBlocks(t),t.forEach(e=>this.notifications.unwantBlock(e))}cancelWants(e){this.wm.cancelWants(Array.isArray(e)?e:[e])}async put(e,t,n){await this.blockstore.put(e,t),this._sendHaveBlockNotifications(e,t)}async*putMany(e,t){for await(const{key:n,value:r}of this.blockstore.putMany(e,t))this._sendHaveBlockNotifications(n,r),yield{key:n,value:r}}_sendHaveBlockNotifications(e,t){this.notifications.hasBlock(e,t),this.engine.receivedBlocks([{cid:e,data:t}]),this.network.provide(e).catch(e=>{this._log.error("Failed to provide: %s",e.message)})}getWantlist(){return this.wm.wantlist.entries()}peers(){return this.engine.peers()}stat(){return this._stats}start(){this.wm.start(),this.network.start(),this.engine.start(),this.started=!0}stop(){this._stats.stop(),this.wm.stop(),this.network.stop(),this.engine.stop(),this.started=!1}unwrap(){return this.blockstore}}},function(e,t,n){"use strict";const r=n(244),i=n(304),o=n(305),a=n(1755),u=n(178).logger,{base58btc:s}=n(64);e.exports=class{constructor(e,t,n){this.peers=new Map,this.wantlist=new i(n),this.network=t,this._stats=n,this._peerId=e,this._log=u(e,"want")}_addEntries(e,t,n){const i=e.map((e,n)=>new r.Entry(e,o.kMaxPriority-n,r.WantType.Block,t));i.forEach(e=>{e.cancel?n?this.wantlist.removeForce(e.cid.toString(s)):this.wantlist.remove(e.cid):(this._log("adding to wl"),this.wantlist.add(e.cid,e.priority))});for(const e of this.peers.values())e.addEntries(i)}_startPeerHandler(e){let t=this.peers.get(e.toB58String());if(t)return void t.refcnt++;t=new a(this._peerId,e,this.network);const n=new r(!0);for(const e of this.wantlist.entries())n.addEntry(e[1].cid,e[1].priority);return t.addMessage(n),this.peers.set(e.toB58String(),t),t}_stopPeerHandler(e){const t=this.peers.get(e.toB58String());t&&(t.refcnt--,t.refcnt>0||this.peers.delete(e.toB58String()))}wantBlocks(e,t={}){this._addEntries(e,!1),t&&t.signal&&t.signal.addEventListener("abort",()=>{this.cancelWants(e)})}unwantBlocks(e){this._log("unwant blocks: %s",e.length),this._addEntries(e,!0,!0)}cancelWants(e){this._log("cancel wants: %s",e.length),this._addEntries(e,!0)}connectedPeers(){return Array.from(this.peers.keys())}connected(e){this._startPeerHandler(e)}disconnected(e){this._stopPeerHandler(e)}start(){}stop(){this.peers.forEach(e=>this.disconnected(e.peerId))}}},function(e,t,n){"use strict";const r=n(1749);e.exports=e=>{if(!(e instanceof Uint8Array))throw new Error("arg needs to be a Uint8Array");const t=[];for(;e.length>0;){const n=r.decode(e);t.push(n),e=e.slice(r.decode.bytes)}return t}},function(e,t,n){e.exports={encode:n(1750),decode:n(1751),encodingLength:n(1752)}},function(e,t){e.exports=function e(t,r,i){r=r||[];var o=i=i||0;for(;t>=n;)r[i++]=255&t|128,t/=128;for(;-128&t;)r[i++]=255&t|128,t>>>=7;return r[i]=0|t,e.bytes=i-o+1,r};var n=Math.pow(2,31)},function(e,t){e.exports=function e(t,n){var r,i=0,o=0,a=n=n||0,u=t.length;do{if(a>=u)throw e.bytes=0,new RangeError("Could not decode varint");r=t[a++],i+=o<28?(127&r)<<o:(127&r)*Math.pow(2,o),o+=7}while(r>=128);return e.bytes=a-n,i}},function(e,t){var n=Math.pow(2,7),r=Math.pow(2,14),i=Math.pow(2,21),o=Math.pow(2,28),a=Math.pow(2,35),u=Math.pow(2,42),s=Math.pow(2,49),c=Math.pow(2,56),f=Math.pow(2,63);e.exports=function(e){return e<n?1:e<r?2:e<i?3:e<o?4:e<a?5:e<u?6:e<s?7:e<c?8:e<f?9:10}},function(e,t,n){"use strict";const{base58btc:r}=n(64);class i{constructor(e,t,n){this._refCounter=1,this.cid=e,this.priority=t||1,this.wantType=n}inc(){this._refCounter+=1}dec(){this._refCounter=Math.max(0,this._refCounter-1)}hasRefs(){return this._refCounter>0}get[Symbol.toStringTag](){return`WantlistEntry <key: ${this.cid.toString(r)}, priority: ${this.priority}, refs: ${this._refCounter}>`}equals(e){return this._refCounter===e._refCounter&&this.cid.equals(e.cid)&&this.priority===e.priority&&this.wantType===e.wantType}}e.exports=i},function(e,t,n){"use strict";var r=n(80),i=r.Reader,o=r.Writer,a=r.util,u=r.roots["ipfs-bitswap"]||(r.roots["ipfs-bitswap"]={});u.Message=function(){function e(e){if(this.blocks=[],this.payload=[],this.blockPresences=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.wantlist=null,e.prototype.blocks=a.emptyArray,e.prototype.payload=a.emptyArray,e.prototype.blockPresences=a.emptyArray,e.prototype.pendingBytes=0,e.encode=function(e,t){if(t||(t=o.create()),null!=e.wantlist&&Object.hasOwnProperty.call(e,"wantlist")&&u.Message.Wantlist.encode(e.wantlist,t.uint32(10).fork()).ldelim(),null!=e.blocks&&e.blocks.length)for(var n=0;n<e.blocks.length;++n)t.uint32(18).bytes(e.blocks[n]);if(null!=e.payload&&e.payload.length)for(n=0;n<e.payload.length;++n)u.Message.Block.encode(e.payload[n],t.uint32(26).fork()).ldelim();if(null!=e.blockPresences&&e.blockPresences.length)for(n=0;n<e.blockPresences.length;++n)u.Message.BlockPresence.encode(e.blockPresences[n],t.uint32(34).fork()).ldelim();return null!=e.pendingBytes&&Object.hasOwnProperty.call(e,"pendingBytes")&&t.uint32(40).int32(e.pendingBytes),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Message;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.wantlist=u.Message.Wantlist.decode(e,e.uint32());break;case 2:r.blocks&&r.blocks.length||(r.blocks=[]),r.blocks.push(e.bytes());break;case 3:r.payload&&r.payload.length||(r.payload=[]),r.payload.push(u.Message.Block.decode(e,e.uint32()));break;case 4:r.blockPresences&&r.blockPresences.length||(r.blockPresences=[]),r.blockPresences.push(u.Message.BlockPresence.decode(e,e.uint32()));break;case 5:r.pendingBytes=e.int32();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.Message)return e;var t=new u.Message;if(null!=e.wantlist){if("object"!=typeof e.wantlist)throw TypeError(".Message.wantlist: object expected");t.wantlist=u.Message.Wantlist.fromObject(e.wantlist)}if(e.blocks){if(!Array.isArray(e.blocks))throw TypeError(".Message.blocks: array expected");t.blocks=[];for(var n=0;n<e.blocks.length;++n)"string"==typeof e.blocks[n]?a.base64.decode(e.blocks[n],t.blocks[n]=a.newBuffer(a.base64.length(e.blocks[n])),0):e.blocks[n].length&&(t.blocks[n]=e.blocks[n])}if(e.payload){if(!Array.isArray(e.payload))throw TypeError(".Message.payload: array expected");t.payload=[];for(n=0;n<e.payload.length;++n){if("object"!=typeof e.payload[n])throw TypeError(".Message.payload: object expected");t.payload[n]=u.Message.Block.fromObject(e.payload[n])}}if(e.blockPresences){if(!Array.isArray(e.blockPresences))throw TypeError(".Message.blockPresences: array expected");t.blockPresences=[];for(n=0;n<e.blockPresences.length;++n){if("object"!=typeof e.blockPresences[n])throw TypeError(".Message.blockPresences: object expected");t.blockPresences[n]=u.Message.BlockPresence.fromObject(e.blockPresences[n])}}return null!=e.pendingBytes&&(t.pendingBytes=0|e.pendingBytes),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.blocks=[],n.payload=[],n.blockPresences=[]),t.defaults&&(n.wantlist=null,n.pendingBytes=0),null!=e.wantlist&&e.hasOwnProperty("wantlist")&&(n.wantlist=u.Message.Wantlist.toObject(e.wantlist,t)),e.blocks&&e.blocks.length){n.blocks=[];for(var r=0;r<e.blocks.length;++r)n.blocks[r]=t.bytes===String?a.base64.encode(e.blocks[r],0,e.blocks[r].length):t.bytes===Array?Array.prototype.slice.call(e.blocks[r]):e.blocks[r]}if(e.payload&&e.payload.length){n.payload=[];for(r=0;r<e.payload.length;++r)n.payload[r]=u.Message.Block.toObject(e.payload[r],t)}if(e.blockPresences&&e.blockPresences.length){n.blockPresences=[];for(r=0;r<e.blockPresences.length;++r)n.blockPresences[r]=u.Message.BlockPresence.toObject(e.blockPresences[r],t)}return null!=e.pendingBytes&&e.hasOwnProperty("pendingBytes")&&(n.pendingBytes=e.pendingBytes),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.Wantlist=function(){function e(e){if(this.entries=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}var t,n;return e.prototype.entries=a.emptyArray,e.prototype.full=!1,e.encode=function(e,t){if(t||(t=o.create()),null!=e.entries&&e.entries.length)for(var n=0;n<e.entries.length;++n)u.Message.Wantlist.Entry.encode(e.entries[n],t.uint32(10).fork()).ldelim();return null!=e.full&&Object.hasOwnProperty.call(e,"full")&&t.uint32(16).bool(e.full),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Message.Wantlist;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.entries&&r.entries.length||(r.entries=[]),r.entries.push(u.Message.Wantlist.Entry.decode(e,e.uint32()));break;case 2:r.full=e.bool();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.Message.Wantlist)return e;var t=new u.Message.Wantlist;if(e.entries){if(!Array.isArray(e.entries))throw TypeError(".Message.Wantlist.entries: array expected");t.entries=[];for(var n=0;n<e.entries.length;++n){if("object"!=typeof e.entries[n])throw TypeError(".Message.Wantlist.entries: object expected");t.entries[n]=u.Message.Wantlist.Entry.fromObject(e.entries[n])}}return null!=e.full&&(t.full=Boolean(e.full)),t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.entries=[]),t.defaults&&(n.full=!1),e.entries&&e.entries.length){n.entries=[];for(var r=0;r<e.entries.length;++r)n.entries[r]=u.Message.Wantlist.Entry.toObject(e.entries[r],t)}return null!=e.full&&e.hasOwnProperty("full")&&(n.full=e.full),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.WantType=(t={},(n=Object.create(t))[t[0]="Block"]=0,n[t[1]="Have"]=1,n),e.Entry=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.block=a.newBuffer([]),e.prototype.priority=0,e.prototype.cancel=!1,e.prototype.wantType=0,e.prototype.sendDontHave=!1,e.encode=function(e,t){return t||(t=o.create()),null!=e.block&&Object.hasOwnProperty.call(e,"block")&&t.uint32(10).bytes(e.block),null!=e.priority&&Object.hasOwnProperty.call(e,"priority")&&t.uint32(16).int32(e.priority),null!=e.cancel&&Object.hasOwnProperty.call(e,"cancel")&&t.uint32(24).bool(e.cancel),null!=e.wantType&&Object.hasOwnProperty.call(e,"wantType")&&t.uint32(32).int32(e.wantType),null!=e.sendDontHave&&Object.hasOwnProperty.call(e,"sendDontHave")&&t.uint32(40).bool(e.sendDontHave),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Message.Wantlist.Entry;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.block=e.bytes();break;case 2:r.priority=e.int32();break;case 3:r.cancel=e.bool();break;case 4:r.wantType=e.int32();break;case 5:r.sendDontHave=e.bool();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.Message.Wantlist.Entry)return e;var t=new u.Message.Wantlist.Entry;switch(null!=e.block&&("string"==typeof e.block?a.base64.decode(e.block,t.block=a.newBuffer(a.base64.length(e.block)),0):e.block.length&&(t.block=e.block)),null!=e.priority&&(t.priority=0|e.priority),null!=e.cancel&&(t.cancel=Boolean(e.cancel)),e.wantType){case"Block":case 0:t.wantType=0;break;case"Have":case 1:t.wantType=1}return null!=e.sendDontHave&&(t.sendDontHave=Boolean(e.sendDontHave)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.block="":(n.block=[],t.bytes!==Array&&(n.block=a.newBuffer(n.block))),n.priority=0,n.cancel=!1,n.wantType=t.enums===String?"Block":0,n.sendDontHave=!1),null!=e.block&&e.hasOwnProperty("block")&&(n.block=t.bytes===String?a.base64.encode(e.block,0,e.block.length):t.bytes===Array?Array.prototype.slice.call(e.block):e.block),null!=e.priority&&e.hasOwnProperty("priority")&&(n.priority=e.priority),null!=e.cancel&&e.hasOwnProperty("cancel")&&(n.cancel=e.cancel),null!=e.wantType&&e.hasOwnProperty("wantType")&&(n.wantType=t.enums===String?u.Message.Wantlist.WantType[e.wantType]:e.wantType),null!=e.sendDontHave&&e.hasOwnProperty("sendDontHave")&&(n.sendDontHave=e.sendDontHave),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e}(),e.Block=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.prefix=a.newBuffer([]),e.prototype.data=a.newBuffer([]),e.encode=function(e,t){return t||(t=o.create()),null!=e.prefix&&Object.hasOwnProperty.call(e,"prefix")&&t.uint32(10).bytes(e.prefix),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Message.Block;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.prefix=e.bytes();break;case 2:r.data=e.bytes();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.Message.Block)return e;var t=new u.Message.Block;return null!=e.prefix&&("string"==typeof e.prefix?a.base64.decode(e.prefix,t.prefix=a.newBuffer(a.base64.length(e.prefix)),0):e.prefix.length&&(t.prefix=e.prefix)),null!=e.data&&("string"==typeof e.data?a.base64.decode(e.data,t.data=a.newBuffer(a.base64.length(e.data)),0):e.data.length&&(t.data=e.data)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.prefix="":(n.prefix=[],t.bytes!==Array&&(n.prefix=a.newBuffer(n.prefix))),t.bytes===String?n.data="":(n.data=[],t.bytes!==Array&&(n.data=a.newBuffer(n.data)))),null!=e.prefix&&e.hasOwnProperty("prefix")&&(n.prefix=t.bytes===String?a.base64.encode(e.prefix,0,e.prefix.length):t.bytes===Array?Array.prototype.slice.call(e.prefix):e.prefix),null!=e.data&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?a.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e.BlockPresenceType=(t={},(n=Object.create(t))[t[0]="Have"]=0,n[t[1]="DontHave"]=1,n),e.BlockPresence=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.cid=a.newBuffer([]),e.prototype.type=0,e.encode=function(e,t){return t||(t=o.create()),null!=e.cid&&Object.hasOwnProperty.call(e,"cid")&&t.uint32(10).bytes(e.cid),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(16).int32(e.type),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new u.Message.BlockPresence;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.cid=e.bytes();break;case 2:r.type=e.int32();break;default:e.skipType(7&o)}}return r},e.fromObject=function(e){if(e instanceof u.Message.BlockPresence)return e;var t=new u.Message.BlockPresence;switch(null!=e.cid&&("string"==typeof e.cid?a.base64.decode(e.cid,t.cid=a.newBuffer(a.base64.length(e.cid)),0):e.cid.length&&(t.cid=e.cid)),e.type){case"Have":case 0:t.type=0;break;case"DontHave":case 1:t.type=1}return t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(t.bytes===String?n.cid="":(n.cid=[],t.bytes!==Array&&(n.cid=a.newBuffer(n.cid))),n.type=t.enums===String?"Have":0),null!=e.cid&&e.hasOwnProperty("cid")&&(n.cid=t.bytes===String?a.base64.encode(e.cid,0,e.cid.length):t.bytes===Array?Array.prototype.slice.call(e.cid):e.cid),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?u.Message.BlockPresenceType[e.type]:e.type),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e}(),e.exports=u},function(e,t,n){"use strict";const r=n(1756),i=n(244),o=n(178).logger,{wantlistSendDebounceMs:a}=n(305);e.exports=class{constructor(e,t,n){this.peerId=t,this.network=n,this.refcnt=1,this._entries=[],this._log=o(e,"msgqueue"),this.sendEntries=r(this._sendEntries.bind(this),a)}addMessage(e){e.empty||this.send(e)}addEntries(e){this._entries=this._entries.concat(e),this.sendEntries()}_sendEntries(){if(!this._entries.length)return;const e=new i(!1);this._entries.forEach(t=>{t.cancel?e.cancel(t.cid):e.addEntry(t.cid,t.priority)}),this._entries=[],this.addMessage(e)}async send(e){try{await this.network.connectTo(this.peerId)}catch(e){return void this._log.error("cant connect to peer %s: %s",this.peerId.toB58String(),e.message)}this._log("sending message to peer %s",this.peerId.toB58String()),this.network.sendMessage(this.peerId,e).catch(e=>{this._log.error("send error: %s",e.message)})}}},function(e,t){e.exports=function(e,t,n){var r=null,i=null,o=function(){r&&(clearTimeout(r),i=null,r=null)},a=function(){if(!t)return e.apply(this,arguments);var a=this,u=arguments,s=n&&!r;return o(),i=function(){e.apply(a,u)},r=setTimeout((function(){if(r=null,!s){var e=i;return i=null,e()}}),t),s?i():void 0};return a.cancel=o,a.flush=function(){var e=i;o(),e&&e()},a}},function(e,t,n){"use strict";const r=n(119),{pipe:i}=n(66),o=n(396),a=n(244),u=n(305),s=n(178).logger;e.exports=class{constructor(e,t,n,r={}){this._log=s(e.peerId,"network"),this._libp2p=e,this._bitswap=t,this._protocols=["/ipfs/bitswap/1.0.0"],r.b100Only||(this._protocols.unshift("/ipfs/bitswap/1.1.0"),this._protocols.unshift("/ipfs/bitswap/1.2.0")),this._stats=n,this._running=!1,this._onPeerConnect=this._onPeerConnect.bind(this),this._onPeerDisconnect=this._onPeerDisconnect.bind(this),this._onConnection=this._onConnection.bind(this),this._hashers=r.hashers||{}}start(){this._running=!0,this._libp2p.handle(this._protocols,this._onConnection);const e=new o({multicodecs:this._protocols,handlers:{onConnect:this._onPeerConnect,onDisconnect:this._onPeerDisconnect}});this._registrarId=this._libp2p.registrar.register(e);for(const e of this._libp2p.peerStore.peers.values()){const t=this._libp2p.connectionManager.get(e.id);t&&this._onPeerConnect(t.remotePeer)}}stop(){this._running=!1,this._libp2p.unhandle(this._protocols),null!=this._registrarId&&this._libp2p.registrar.unregister(this._registrarId)}async _onConnection({protocol:e,stream:t,connection:n}){if(this._running){this._log("incoming new bitswap %s connection from %s",e,n.remotePeer.toB58String());try{await i(t,r.decode(),async e=>{for await(const t of e)try{const e=await a.deserialize(t.slice(),this._hashers);await this._bitswap._receiveMessage(n.remotePeer,e)}catch(e){this._bitswap._receiveError(e);break}})}catch(e){this._log(e)}}}_onPeerConnect(e){this._bitswap._onPeerConnected(e)}_onPeerDisconnect(e){this._bitswap._onPeerDisconnected(e)}findProviders(e,t,n={}){return this._libp2p.contentRouting.findProviders(e,{timeout:u.providerRequestTimeout,maxNumProviders:t})}async findAndConnect(e,t){const n=[];for await(const r of this.findProviders(e,u.maxProvidersPerRequest,t))this._log("connecting to provider "+r.id),n.push(this.connectTo(r.id,t).catch(e=>{this._log.error(e)}));await Promise.all(n)}async provide(e,t){await this._libp2p.contentRouting.provide(e,t)}async sendMessage(e,t){if(!this._running)throw new Error("network isn't running");const n=e.toB58String();this._log("sendMessage to %s",n,t);const o=await this._libp2p.dial(e),{stream:a,protocol:u}=await o.newStream(["/ipfs/bitswap/1.2.0","/ipfs/bitswap/1.1.0","/ipfs/bitswap/1.0.0"]);let s;switch(u){case"/ipfs/bitswap/1.0.0":s=t.serializeToBitswap100();break;case"/ipfs/bitswap/1.1.0":case"/ipfs/bitswap/1.2.0":s=t.serializeToBitswap110();break;default:throw new Error("Unknown protocol: "+u)}!async function(e,t,n){try{await i([t],r.encode(),e)}catch(e){n(e)}}(a,s,this._log),this._updateSentStats(e,t.blocks)}async connectTo(e,t){if(!this._running)throw new Error("network isn't running");return this._libp2p.dial(e,t)}_updateSentStats(e,t){const n=e.toB58String();if(this._stats){for(const e of t.values())this._stats.push(n,"dataSent",e.length);this._stats.push(n,"blocksSent",t.size)}}}},function(e,t,n){"use strict";const{CID:r}=n(170),{base58btc:i}=n(64),o=n(244),a=o.WantType,u=n(304),s=n(1759),c=n(1760),f=n(1762),{logger:l}=n(178);e.exports=class{constructor(e,t,n,r,i={}){this._log=l(e,"engine"),this.blockstore=t,this.network=n,this._stats=r,this._opts=this._processOpts(i),this.ledgerMap=new Map,this._running=!1,this._requestQueue=new c(f)}_processOpts(e){return{maxSizeReplaceHasWithBlock:1024,targetMessageSize:16384,...e}}_scheduleProcessTasks(){setTimeout(()=>{this._processTasks()})}async _processTasks(){if(!this._running)return;const{peerId:e,tasks:t,pendingSize:n}=this._requestQueue.popTasks(this._opts.targetMessageSize);if(0===t.length)return;const i=new o(!1);i.setPendingBytes(n);const a=[],u=new Map;for(const e of t){const t=r.parse(e.topic);e.data.haveBlock?e.data.isWantBlock?(a.push(t),u.set(e.topic,e.data)):i.addHave(t):i.addDontHave(t)}const s=await this._getBlocks(a);for(const[e,t]of u){const n=r.parse(e),o=s.get(e);o?i.addBlock(n,o):t.sendDontHave&&i.addDontHave(n)}if(i.empty)return e&&this._requestQueue.tasksDone(e,t),void this._scheduleProcessTasks();try{e&&await this.network.sendMessage(e,i);for(const[t,n]of s.entries())e&&this.messageSent(e,r.parse(t),n)}catch(e){this._log.error(e)}e&&this._requestQueue.tasksDone(e,t),this._scheduleProcessTasks()}wantlistForPeer(e){const t=e.toB58String(),n=this.ledgerMap.get(t);return n?n.wantlist.sortedEntries():new Map}ledgerForPeer(e){const t=e.toB58String(),n=this.ledgerMap.get(t);return n?{peer:n.partner,value:n.debtRatio(),sent:n.accounting.bytesSent,recv:n.accounting.bytesRecv,exchanged:n.exchangeCount}:null}peers(){return Array.from(this.ledgerMap.values()).map(e=>e.partner)}receivedBlocks(e){if(e.length){for(const t of this.ledgerMap.values())for(const n of e){const e=t.wantlistContains(n.cid);if(!e)continue;const r=n.data.length,a=this._sendAsBlock(e.wantType,r);let u=r;a||(u=o.blockPresenceSize(e.cid)),this._requestQueue.pushTasks(t.partner,[{topic:e.cid.toString(i),priority:e.priority,size:u,data:{blockSize:r,isWantBlock:a,haveBlock:!0,sendDontHave:!1}}])}this._scheduleProcessTasks()}}async messageReceived(e,t){const n=this._findOrCreate(e);if(t.empty)return;if(t.full&&(n.wantlist=new u),this._updateBlockAccounting(t.blocks,n),0===t.wantlist.size)return void this._scheduleProcessTasks();const r=[],i=[];t.wantlist.forEach(e=>{e.cancel?(n.cancelWant(e.cid),r.push(e.cid)):(n.wants(e.cid,e.priority,e.wantType),i.push(e))}),this._cancelWants(e,r),await this._addWants(e,i),this._scheduleProcessTasks()}_cancelWants(e,t){for(const n of t)this._requestQueue.remove(n.toString(i),e)}async _addWants(e,t){const n=await this._getBlockSizes(t.map(e=>e.cid)),r=[];for(const u of t){const t=u.cid.toString(i),s=n.get(t);if(null==s)u.sendDontHave&&r.push({topic:t,priority:u.priority,size:o.blockPresenceSize(u.cid),data:{isWantBlock:u.wantType===a.Block,blockSize:0,haveBlock:!1,sendDontHave:u.sendDontHave}});else{const e=this._sendAsBlock(u.wantType,s);let n=s;e||(n=o.blockPresenceSize(u.cid)),r.push({topic:t,priority:u.priority,size:n,data:{isWantBlock:e,blockSize:s,haveBlock:!0,sendDontHave:u.sendDontHave}})}this._requestQueue.pushTasks(e,r)}}_sendAsBlock(e,t){return e===a.Block||t<=this._opts.maxSizeReplaceHasWithBlock}async _getBlockSizes(e){const t=await this._getBlocks(e);return new Map([...t].map(([e,t])=>[e,t.length]))}async _getBlocks(e){const t=new Map;return await Promise.all(e.map(async e=>{try{const n=await this.blockstore.get(e);t.set(e.toString(i),n)}catch(t){"ERR_NOT_FOUND"!==t.code&&this._log.error("failed to query blockstore for %s: %s",e,t)}})),t}_updateBlockAccounting(e,t){for(const n of e.values())this._log("got block (%s bytes)",n.length),t.receivedBytes(n.length)}messageSent(e,t,n){const r=this._findOrCreate(e);r.sentBytes(n.length),r.wantlist.remove(t)}numBytesSentTo(e){return this._findOrCreate(e).accounting.bytesSent}numBytesReceivedFrom(e){return this._findOrCreate(e).accounting.bytesRecv}peerDisconnected(e){}_findOrCreate(e){const t=e.toB58String(),n=this.ledgerMap.get(t);if(n)return n;const r=new s(e);return this.ledgerMap.set(t,r),this._stats&&this._stats.push(t,"peerCount",1),r}start(){this._running=!0}stop(){this._running=!1}}},function(e,t,n){"use strict";const r=n(304);e.exports=class{constructor(e){this.partner=e,this.wantlist=new r,this.exchangeCount=0,this.sentToPeer=new Map,this.accounting={bytesSent:0,bytesRecv:0}}sentBytes(e){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesSent+=e}receivedBytes(e){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesRecv+=e}wants(e,t,n){this.wantlist.add(e,t,n)}cancelWant(e){this.wantlist.remove(e)}wantlistContains(e){return this.wantlist.get(e)}debtRatio(){return this.accounting.bytesSent/(this.accounting.bytesRecv+1)}}},function(e,t,n){"use strict";const r=n(1761),i={hasNewInfo:()=>!1,merge(){}};class o{constructor(e,t){this.peerId=e,this._taskMerger=t,this._activeTotalSize=0,this._pending=new a,this._active=new Set}pushTasks(e){for(const t of e)this._pushTask(t)}_pushTask(e){if(!this._taskHasMoreInfoThanActiveTasks(e))return;const t=this._pending.get(e.topic);if(t)return e.priority>t.priority&&this._pending.updatePriority(e.topic,e.priority),void this._taskMerger.merge(e,t);this._pending.add(e)}_taskHasMoreInfoThanActiveTasks(e){const t=[];for(const n of this._active)n.topic===e.topic&&t.push(n);return 0===t.length||this._taskMerger.hasNewInfo(e,t)}popTasks(e){let t=0;const n=[],r=this._pending.tasks();for(let i=0;i<r.length&&t<e;i++){const e=r[i];n.push(e),t+=e.size,this._pending.delete(e.topic),this._activeTotalSize+=e.size,this._active.add(e)}return{tasks:n,pendingSize:this._pending.totalSize}}taskDone(e){this._active.has(e)&&(this._activeTotalSize-=e.size,this._active.delete(e))}remove(e){this._pending.delete(e)}isIdle(){return 0===this._pending.length&&0===this._active.size}static compare(e,t){return 0===e[1]._pending.length?1:0===t[1]._pending.length?-1:e[1]._activeTotalSize===t[1]._activeTotalSize?t[1]._pending.length-e[1]._pending.length:e[1]._activeTotalSize-t[1]._activeTotalSize}}class a{constructor(){this._tasks=new r([],this._compare)}get length(){return this._tasks.size}get totalSize(){return[...this._tasks.values()].reduce((e,t)=>e+t.task.size,0)}get(e){return(this._tasks.get(e)||{}).task}add(e){this._tasks.set(e.topic,{created:Date.now(),task:e})}delete(e){this._tasks.delete(e)}tasks(){return[...this._tasks.values()].map(e=>e.task)}updatePriority(e,t){const n=this._tasks.get(e);if(!n)return;const r=this._tasks.indexOf(e);n.task.priority=t,this._tasks.update(r)}_compare(e,t){return e[1].task.priority===t[1].task.priority?e[1].created-t[1].created:t[1].task.priority-e[1].task.priority}}e.exports=class{constructor(e=i){this._taskMerger=e,this._byPeer=new r([],o.compare)}pushTasks(e,t){let n=this._byPeer.get(e.toB58String());n||(n=new o(e,this._taskMerger)),n.pushTasks(t),this._byPeer.set(e.toB58String(),n)}popTasks(e){const t=this._head();if(void 0===t)return{tasks:[],pendingSize:0};const{tasks:n,pendingSize:r}=t.popTasks(e);if(0===n.length)return{tasks:n,pendingSize:r};const i=t.peerId;return t.isIdle()?this._byPeer.delete(i.toB58String()):this._byPeer.update(0),{peerId:i,tasks:n,pendingSize:r}}_head(){if(0!==this._byPeer.size)for(const[,e]of this._byPeer)return e}remove(e,t){const n=this._byPeer.get(t.toB58String());n&&n.remove(e)}tasksDone(e,t){const n=this._byPeer.get(e.toB58String());if(!n)return;const r=this._byPeer.indexOf(e.toB58String());for(const e of t)n.taskDone(e);this._byPeer.update(r)}}},function(e,t,n){"use strict";class r extends Map{constructor(e,t){super(),this._cmp=t||this._defaultSort,this._keys=[];for(const[t,n]of e||[])this.set(t,n)}update(e){if(e<0||e>=this._keys.length)return;const t=this._keys[e];this._keys.splice(e,1);const n=this._find(t);this._keys.splice(n,0,t)}set(e,t){if(this.has(e)){const t=this.indexOf(e);this._keys.splice(t,1)}super.set(e,t);const n=this._find(e);return this._keys.splice(n,0,e),this}clear(){super.clear(),this._keys=[]}delete(e){if(!this.has(e))return!1;const t=this.indexOf(e);return this._keys.splice(t,1),super.delete(e)}indexOf(e){if(!this.has(e))return-1;const t=this._find(e);if(this._keys[t]===e)return t;for(let n=1;n<this._keys.length;n++){if(this._keys[t+n]===e)return t+n;if(this._keys[t-n]===e)return t-n}return-1}_find(e){let t=0,n=this._keys.length;for(;t<n;){const r=t+n>>>1,i=this._kCmp(this._keys[r],e);if(i<0)t=r+1;else{if(!(i>0))return r;n=r}}return t}*keys(){for(const e of this._keys)yield e}*values(){for(const e of this._keys)yield this.get(e)}*entries(){for(const e of this._keys)yield[e,this.get(e)]}*[Symbol.iterator](){yield*this.entries()}forEach(e,t){if(e)for(const n of this._keys)e.apply(t,[[n,this.get(n)]])}_defaultSort(e,t){return e[0]<t[0]?-1:t[0]<e[0]?1:0}_kCmp(e,t){return this._cmp([e,this.get(e)],[t,this.get(t)])}}e.exports=r},function(e,t,n){"use strict";const r={hasNewInfo(e,t){let n=!1,r=!1;for(const e of t)e.data.haveBlock&&(n=!0),e.data.isWantBlock&&(r=!0);return!(r||!e.data.isWantBlock)||!(n||!e.data.haveBlock)},merge(e,t){const n=e.data,r=t.data;!r.haveBlock&&n.haveBlock&&(r.haveBlock=n.haveBlock,r.blockSize=n.blockSize),!r.isWantBlock&&n.isWantBlock&&(r.isWantBlock=!0,r.haveBlock&&!n.haveBlock||(r.haveBlock=n.haveBlock,t.size=e.size)),r.isWantBlock&&r.haveBlock&&(t.size=r.blockSize)}};e.exports=r},function(e,t,n){"use strict";const{EventEmitter:r}=n(33),i=n(45),o=n(305),a=n(178).logger,u=e=>"unwant:"+i(e.multihash.bytes,"base64"),s=e=>"block:"+i(e.multihash.bytes,"base64");e.exports=class extends r{constructor(e){super(),this.setMaxListeners(o.maxListeners),this._log=a(e,"notif")}hasBlock(e,t){const n=s(e);this._log(n),this.emit(n,t)}wantBlock(e,t={}){if(!e)throw new Error("Not a valid cid");const n=s(e),r=u(e);return this._log("wantBlock:"+e),new Promise((i,o)=>{const a=()=>{this.removeListener(n,u),o(new Error(`Block for ${e} unwanted`))},u=e=>{this.removeListener(r,a),i(e)};this.once(r,a),this.once(n,u),t&&t.signal&&t.signal.addEventListener("abort",()=>{this.removeListener(n,u),this.removeListener(r,a),o(new Error(`Want for ${e} aborted`))})})}unwantBlock(e){const t=u(e);this._log(t),this.emit(t)}}},function(e,t,n){"use strict";const{EventEmitter:r}=n(33),i=n(1765),o={enabled:!1,computeThrottleTimeout:1e3,computeThrottleMaxQueueSize:1e3,movingAverageIntervals:[6e4,3e5,9e5]};e.exports=class extends r{constructor(e=[],t=o){super();const n=Object.assign({},o,t);if("number"!=typeof n.computeThrottleTimeout)throw new Error("need computeThrottleTimeout");if("number"!=typeof n.computeThrottleMaxQueueSize)throw new Error("need computeThrottleMaxQueueSize");this._initialCounters=e,this._options=n,this._enabled=this._options.enabled,this._global=new i(e,n),this._global.on("update",e=>this.emit("update",e)),this._peers=new Map}enable(){this._enabled=!0,this._options.enabled=!0,this._global.enable()}disable(){this._enabled=!1,this._options.enabled=!1,this._global.disable()}stop(){this._enabled=!1,this._global.stop();for(const e of this._peers)e[1].stop()}get snapshot(){return this._global.snapshot}get movingAverages(){return this._global.movingAverages}forPeer(e){const t="string"!=typeof e&&e.toB58String?e.toB58String():""+e;return this._peers.get(t)}push(e,t,n){if(this._enabled&&(this._global.push(t,n),e)){let r=this._peers.get(e);r||(r=new i(this._initialCounters,this._options),this._peers.set(e,r)),r.push(t,n)}}disconnected(e){const t=e.toB58String(),n=this._peers.get(t);n&&(n.stop(),this._peers.delete(t))}}},function(e,t,n){"use strict";const{EventEmitter:r}=n(33),i=n(668);e.exports=class extends r{constructor(e,t){super(),this._options=t,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this),e.forEach(e=>{this._stats[e]=BigInt(0),this._movingAverages[e]={},this._options.movingAverageIntervals.forEach(t=>{(this._movingAverages[e][t]=i(t)).push(this._frequencyLastTime,0)})}),this._enabled=this._options.enabled}enable(){this._enabled=!0}disable(){this._disabled=!0}stop(){this._timeout&&clearTimeout(this._timeout)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}push(e,t){this._enabled&&(this._queue.push([e,t,Date.now()]),this._resetComputeTimeout())}_resetComputeTimeout(){this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(this._update,this._nextTimeout())}_nextTimeout(){const e=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-e),0)}_update(){if(this._timeout=null,this._queue.length){let e;for(;this._queue.length;){const t=e=this._queue.shift();t&&this._applyOp(t)}e&&this._updateFrequency(e[2]),this.emit("update",this._stats)}}_updateFrequency(e){const t=e-this._frequencyLastTime;t&&Object.keys(this._stats).forEach(n=>{this._updateFrequencyFor(n,t,e)}),this._frequencyLastTime=e}_updateFrequencyFor(e,t,n){const r=this._frequencyAccumulators[e]||0;this._frequencyAccumulators[e]=0;const o=r/t*1e3;let a=this._movingAverages[e];a||(a=this._movingAverages[e]={}),this._options.movingAverageIntervals.forEach(e=>{let t=a[e];t||(t=a[e]=i(e)),t.push(n,o)})}_applyOp(e){const t=e[0],n=e[1];if("number"!=typeof n)throw new Error("invalid increment number: "+n);Object.prototype.hasOwnProperty.call(this._stats,t)||(this._stats[t]=BigInt(0)),this._stats[t]=BigInt(this._stats[t])+BigInt(n),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=n}}},function(e,t,n){"use strict";const{BlockstoreAdapter:r}=n(395),i=n(234),o=n(136);e.exports=class extends r{constructor(e,t){super(),this.child=e,this.bitswap=t}open(){return this.child.open()}close(){return this.child.close()}unwrap(){return this.child}async put(e,t,n={}){this.bitswap.isStarted()?await this.bitswap.put(e,t,n):await this.child.put(e,t,n)}async*putMany(e,t={}){this.bitswap.isStarted()?yield*this.bitswap.putMany(e,t):yield*this.child.putMany(e,t)}async get(e,t={}){return!await this.has(e)&&this.bitswap.isStarted()?this.bitswap.get(e,t):this.child.get(e,t)}async*getMany(e,t={}){const n=o(),r=o();Promise.resolve().then(async()=>{for await(const t of e)!await this.has(t)&&this.bitswap.isStarted()?n.push(t):r.push(t);n.end(),r.end()}),yield*i(this.bitswap.getMany(n,t),this.child.getMany(r,t))}async delete(e,t){await this.child.delete(e,t)}async*deleteMany(e,t){yield*this.child.deleteMany(e,t)}async has(e,t={}){return this.child.has(e,t)}async*query(e,t={}){yield*this.child.query(e,t)}async*queryKeys(e,t={}){yield*this.child.queryKeys(e,t)}}},function(e,t,n){"use strict";const r=n(1768),i=n(1769),o=n(1770),a=n(1771),u=n(1772);e.exports=class{constructor({network:e}){this.addrs=r({network:e}),this.connect=i({network:e}),this.disconnect=o({network:e}),this.localAddrs=a({network:e}),this.peers=u({network:e})}}},function(e,t,n){"use strict";const r=n(17);e.exports=({network:e})=>r((async function(t={}){const n=[],{libp2p:r}=await e.use(t);for(const[e,t]of r.peerStore.peers.entries())n.push({id:e,addrs:t.addresses.map(e=>e.multiaddr)});return n}))},function(e,t,n){"use strict";const r=n(17);e.exports=({network:e})=>r((async function(t,n={}){const{libp2p:r}=await e.use(n);await r.dial(t,n)}))},function(e,t,n){"use strict";const r=n(17);e.exports=({network:e})=>r((async function(t,n={}){const{libp2p:r}=await e.use(n);await r.hangUp(t)}))},function(e,t,n){"use strict";const r=n(17);e.exports=({network:e})=>r((async function(t={}){const{libp2p:n}=await e.use(t);return n.multiaddrs}))},function(e,t,n){"use strict";const r=n(17);e.exports=({network:e})=>r((async function(t={}){const{libp2p:n}=await e.use(t),r=[];for(const[e,i]of n.connections)for(const n of i){const i={addr:n.remoteAddr,peer:e};(t.verbose||t.direction)&&(i.direction=n.stat.direction),t.verbose&&(i.muxer=n.stat.multiplexer,i.latency="n/a",i.streams=[]),r.push(i)}return r}))},function(e,t,n){"use strict";const r=n(31),i={success:!0,time:0,text:""},o=n(17);e.exports=({network:e})=>o((async function*(t,n={}){const{libp2p:o}=await e.use();n.count=n.count||10;const a=r.createFromB58String(t),u=o.peerStore.get(a);let s=u&&u.id;if(!s){yield{...i,text:"Looking up peer "+t};const e=await o.peerRouting.findPeer(a);s=e&&e.id}if(!s)throw new Error("Peer was not found");yield{...i,text:"PING "+s.toB58String()};let c=0,f=0;for(let e=0;e<n.count;e++)try{const e=await o.ping(s);f+=e,c++,yield{...i,time:e}}catch(e){yield{...i,success:!1,text:e.toString()}}if(c){const e=f/c;yield{...i,text:`Average latency: ${e}ms`}}}))},function(e,t,n){"use strict";const r=n(31),{CID:i}=n(12),o=n(4),{NotEnabledError:a}=n(171),u=n(291),s=n(17);e.exports=({network:e,repo:t})=>{const{get:n,put:i,findProvs:a,findPeer:u,provide:l,query:d}={async get(t,n={}){const{libp2p:r}=await f(e,n);return r._dht.get(c(t),n)},async*put(t,n,r){const{libp2p:i}=await f(e,r);yield*i._dht.put(c(t),n)},async*findProvs(t,n={numProviders:20}){const{libp2p:r}=await f(e,n);for await(const e of r._dht.findProviders(c(t),{maxNumProviders:n.numProviders,signal:n.signal}))yield{id:e.id.toB58String(),addrs:e.addrs}},async findPeer(t,n){const{libp2p:i}=await f(e,n),o=await i._dht.findPeer(r.createFromB58String(t));return{id:o.id.toB58String(),addrs:o.multiaddrs}},async*provide(n,r={recursive:!1}){const{libp2p:i}=await f(e,r),a=Array.isArray(n)?n:[n];if(!(await Promise.all(a.map(e=>t.blocks.has(e)))).every(e=>e))throw o(new Error("block(s) not found locally, cannot provide"),"ERR_BLOCK_NOT_FOUND");if(r.recursive)throw o(new Error("not implemented yet"),"ERR_NOT_IMPLEMENTED_YET");for(const e of a)yield i._dht.provide(e)},async*query(t,n){const{libp2p:i}=await f(e,n);for await(const e of i._dht.getClosestPeers(r.createFromB58String(t).toBytes()))yield{id:e.toB58String(),addrs:[]}}};return{get:s(n),put:s(i),findProvs:s(a),findPeer:s(u),provide:s(l),query:s(d)}};const c=e=>e instanceof Uint8Array?e:(e=>{try{const t=e.toString().split("/").filter(e=>e&&"ipfs"!==e&&"ipns"!==e)[0];return i.parse(t).bytes}catch(e){throw o(e,"ERR_INVALID_CID")}})(e),f=async(e,t)=>{const n=await e.use(t);if(u(n.libp2p,"_config.dht.enabled",!1))return n;throw new a("dht not enabled")}},function(e,t,n){"use strict";const r=n(17),i=n(4),{NotEnabledError:o}=n(171),a=n(291);e.exports=({network:e,config:t})=>{const n=a(t||{},"Pubsub.Enabled",!0);return{subscribe:n?r((async function(t,n,r={}){const{libp2p:i}=await e.use(r);return i.pubsub.subscribe(t,n,r)})):u,unsubscribe:n?r((async function(t,n,r={}){const{libp2p:i}=await e.use(r);i.pubsub.unsubscribe(t,n,r)})):u,publish:n?r((async function(t,n,r={}){const{libp2p:o}=await e.use(r);if(!n)throw i(new Error('argument "data" is required'),"ERR_ARG_REQUIRED");await o.pubsub.publish(t,n)})):u,ls:n?r((async function(t={}){const{libp2p:n}=await e.use(t);return n.pubsub.getTopics()})):u,peers:n?r((async function(t,n={}){const{libp2p:r}=await e.use(n);return r.pubsub.getSubscribers(t)})):u}};const u=async()=>{throw new o("pubsub not enabled")}},function(e,t,n){"use strict";var r=n(13),i=n(5),o=n(95),a=n(165),u=n(1777),s=n(224);e.exports={header:function(e){var t=function(e){return function(t){return function(n){return a.li([u.css("nav-item"+(n?" text-blue-500":""))])([a.a([u.css("nav-link"),u.safeHref(e)])(t)])}}},n=function(t){if(e instanceof i.Nothing)return!1;if(e instanceof i.Just)return r.eq(s.eqRoute)(t)(e.value0);throw new Error("Failed pattern match at LinkNote.Component.HTML.Header (line 35, column 25 - line 37, column 35): "+[e.constructor.name])};return a.nav([u.css("mb-4 px-2 bg-gray-200 rounded")])([a.ul([u.css("flex space-x-4")])([t(s.Home.value)([o.text("首页")])(n(s.Home.value)),t(s.TopicList.value)([o.text("主题")])(n(s.TopicList.value)),t(s.Setting.value)([o.text("设置")])(n(s.Setting.value))])])}}},function(e,t,n){"use strict";var r,i,o=n(5),a=n(20),u=n(24),s=n(95),c=n(223),f=n(224),l=n(166),d=n(343),h=(r=a.append(a.semigroupString)("#"),i=l.print(f.routeCodec),function(e){return c.href(r(i(e)))});e.exports={css:function(e){return c.class_(d.ClassName(e))},safeHref:h,maybeElem:function(e){return function(t){return e instanceof o.Just?t(e.value0):s.text("")}},whenElem:function(e){return function(t){return e?t(u.unit):s.text("")}}}},function(e,t,n){"use strict";var r=function(){function e(){}return e.value=new e,e}(),i=function(){function e(){}return e.value=new e,e}(),o=function(){function e(){}return e.value=new e,e}(),a=function(){function e(){}return e.value=new e,e}(),u=function(){function e(){}return e.value=new e,e}(),s=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}();e.exports={IPFSApiAddress:function(e){return e},Unused:r,LocalIPFS:i,JsIPFS:o,BraveBrowser:a,WindowIPFS:u,CustomAPI:s}},function(e,t,n){"use strict";var r=n(1780),i=n(11),o=n(15),a=n(74),u=n(92),s=n(185),c=n(94),f=n(54),l=n(2),d=n(5),h=n(421),p=n(422),m=n(1782),y=n(697),v=n(24),g=n(35),b=n(108),w=n(190),E=n(58),_=n(264),S=n(114),T=n(165),A=n(699),P=n(223),k=n(101),x=n(419),C=n(420),R=n(191),I=n(1802),O=n(1807),M=n(1809),N=n(1811),D=n(1813),L=n(221),j=n(1815),B=n(700),F=n(519),U=n(1817),q=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),H=function(){function e(){}return e.value=new e,e}(),K=function(){function e(){}return e.value=new e,e}(),V=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),z=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),W=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),G=function(){function e(){}return e.value=new e,e}(),$=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),J=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),Q=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),Y=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),X=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),Z=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),ee=function(e){return _.unsafePerformEffect(N.toJSON(e))},te=function(e){return l.mapFlipped(l.functorArray)(e)(ee)},ne=function(e){return function(t){return o.bind(e.MonadEffect0().Monad0().Bind1())(E.liftEffect(e.MonadEffect0())(R.create))((function(n){return o.bind(e.MonadEffect0().Monad0().Bind1())(E.liftEffect(e.MonadEffect0())(r.addPasteListenner(d.fromMaybe)(t)((function(e){return R.notify(n.listener)(new J(e))}))))((function(){return i.pure(e.MonadEffect0().Monad0().Applicative0())(n.emitter)}))}))}},re=m.unsafeRegex("\\[\\[file-(.*?)\\]\\]")(p.global),ie=function(e){return function(t){return function(n){return T.li([P.id(n.id),A.onClick((function(e){return new Y(n.id)})),P.style("min-height: 30px;")])([t instanceof d.Just&&t.value0===n.id?T.textarea([P.value(n.content),P.style("min-width: 100px;min-height: 30px;"),A.onKeyUp((function(e){return new z(n.id,e)})),A.onKeyDown((function(e){return new W(n.id,e)})),A.onPaste(V.create),A.onValueInput((function(e){return new q(n.id,e)}))]):T.div([P.class_("head")])([I.render_(h.replace(re)('<img src="'+e+'$1">')(n.content))])])}}},oe=function(e){return T.div_([T.ul_(l.mapFlipped(l.functorArray)(e.noteList)(ie(d.fromMaybe("https://dweb.link/ipfs/")(e.ipfsGatway))(e.currentId)))])},ae=function(e){return{currentId:d.Nothing.value,ipfsGatway:d.Nothing.value,coll:e.context.collNote,collFile:e.context.collFile,ipfs:e.context.ipfs,noteList:[]}},ue=function(e){var t=B.target(e);if(t instanceof d.Nothing)return i.pure(g.applicativeEffect)(d.Nothing.value);if(t instanceof d.Just){var n=F.fromEventTarget(t.value0);if(n instanceof d.Nothing)return i.pure(g.applicativeEffect)(new d.Just("-1"));if(n instanceof d.Just)return function(){var e=E.liftEffect(E.monadEffectEffect)(F.value(n.value0))();return new d.Just(e)};throw new Error("Failed pattern match at LinkNote.Page.Home (line 135, column 7 - line 139, column 27): "+[n.constructor.name])}throw new Error("Failed pattern match at LinkNote.Page.Home (line 130, column 3 - line 139, column 27): "+[t.constructor.name])},se=function(e){return s.toAffE(r.getGatewayUri(e))},ce=function(e){return function(t){if(t instanceof Z)return o.discard(o.discardUnit)(k.bindHalogenM)(u.modify_(k.monadStateHalogenM)((function(e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.currentId=t.value0,n})))((function(){return o.discard(o.discardUnit)(k.bindHalogenM)(ce(e)(H.value))((function(){if(t.value0 instanceof d.Just)return E.liftEffect(k.monadEffectHalogenM(e.MonadEffect0()))(r.autoFocus(t.value0.value0));if(t.value0 instanceof d.Nothing)return i.pure(k.applicativeHalogenM)(v.unit);throw new Error("Failed pattern match at LinkNote.Page.Home (line 146, column 5 - line 148, column 27): "+[t.value0.constructor.name])}))}));if(t instanceof K)return o.bind(k.bindHalogenM)(u.gets(k.monadStateHalogenM)((function(e){return e.coll})))((function(t){return o.bind(k.bindHalogenM)(E.liftEffect(k.monadEffectHalogenM(e.MonadEffect0()))(y.genUUID))((function(n){var r="note-"+y.toString(n);return o.discard(o.discardUnit)(k.bindHalogenM)(l.void(k.functorHalogenM)(w.liftAff(k.monadAffHalogenM(e))(M.insertA(t)({content:"",id:r}))))((function(){return ce(e)(Z.create(new d.Just(r)))}))}))}));if(t instanceof q)return o.bind(k.bindHalogenM)(u.gets(k.monadStateHalogenM)((function(e){return e.coll})))((function(n){return o.discard(o.discardUnit)(k.bindHalogenM)(l.void(k.functorHalogenM)(w.liftAff(k.monadAffHalogenM(e))(M.upsertA(n)({content:t.value1,id:t.value0}))))((function(){return i.pure(k.applicativeHalogenM)(v.unit)}))}));if(t instanceof J)return o.bind(k.bindHalogenM)(u.gets(k.monadStateHalogenM)((function(e){return e.collFile})))((function(n){var a="file-"+t.value0;return o.discard(o.discardUnit)(k.bindHalogenM)(l.void(k.functorHalogenM)(w.liftAff(k.monadAffHalogenM(e))(M.upsertA(n)({cid:t.value0,id:a,mime:"",type:""}))))((function(){var t="[["+a+"]]";return o.bind(k.bindHalogenM)(E.liftEffect(k.monadEffectHalogenM(e.MonadEffect0()))(r.insertText(t)))((function(){return i.pure(k.applicativeHalogenM)(v.unit)}))}))}));if(t instanceof G)return o.discard(o.discardUnit)(k.bindHalogenM)(ce(e)(H.value))((function(){return o.bind(k.bindHalogenM)(u.gets(k.monadStateHalogenM)((function(e){return e.ipfs})))((function(t){return o.bind(k.bindHalogenM)(o.bindFlipped(k.bindHalogenM)(k.subscribe)(ne(k.monadAffHalogenM(e))(t)))((function(){return t instanceof d.Just?o.bind(k.bindHalogenM)(w.liftAff(k.monadAffHalogenM(e))(se(t.value0)))((function(e){return u.modify_(k.monadStateHalogenM)((function(t){var n={};for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.ipfsGatway=new d.Just(e+"/ipfs/"),n}))})):i.pure(k.applicativeHalogenM)(v.unit)}))}))}));if(t instanceof H)return o.bind(k.bindHalogenM)(u.gets(k.monadStateHalogenM)((function(e){return e.coll})))((function(t){return o.bind(k.bindHalogenM)(E.liftEffect(k.monadEffectHalogenM(e.MonadEffect0()))(M.find(t)(D.emptyQueryObject)))((function(t){return o.bind(k.bindHalogenM)(w.liftAff(k.monadAffHalogenM(e))(D.execA(t)))((function(t){var n=te(t);return c.null(n)?ce(e)(K.value):u.modify_(k.monadStateHalogenM)((function(e){var t={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.noteList=n,t}))}))}))}));if(t instanceof Q)return o.bind(k.bindHalogenM)(u.gets(k.monadStateHalogenM)((function(e){return e.coll})))((function(n){return o.discard(o.discardUnit)(k.bindHalogenM)(w.liftAff(k.monadAffHalogenM(e))(M.bulkRemoveA(n)([t.value0])))((function(){return ce(e)(Z.create(d.Nothing.value))}))}));if(t instanceof W){if("Enter"===U.key(t.value1))return E.liftEffect(k.monadEffectHalogenM(e.MonadEffect0()))(B.preventDefault(U.toEvent(t.value1)));if(f.otherwise)return i.pure(k.applicativeHalogenM)(v.unit)}if(t instanceof z){if("Enter"===U.key(t.value1))return o.discard(o.discardUnit)(k.bindHalogenM)(E.liftEffect(k.monadEffectHalogenM(e.MonadEffect0()))(B.preventDefault(U.toEvent(t.value1))))((function(){return ce(e)(K.value)}));if("Escape"===U.key(t.value1))return o.discard(o.discardUnit)(k.bindHalogenM)(ce(e)(new Z(d.Nothing.value)))((function(){var n=B.currentTarget(U.toEvent(t.value1));if(n instanceof d.Just)return E.liftEffect(k.monadEffectHalogenM(e.MonadEffect0()))(r.doBlur(n.value0));if(n instanceof d.Nothing)return i.pure(k.applicativeHalogenM)(v.unit);throw new Error("Failed pattern match at LinkNote.Page.Home (line 204, column 9 - line 207, column 31): "+[n.constructor.name])}));if("Backspace"===U.key(t.value1))return o.bind(k.bindHalogenM)(E.liftEffect(k.monadEffectHalogenM(e.MonadEffect0()))(ue(U.toEvent(t.value1))))((function(n){if(n instanceof d.Nothing)return i.pure(k.applicativeHalogenM)(v.unit);if(n instanceof d.Just){if(""===n.value0)return ce(e)(new Q(t.value0));if(f.otherwise)return i.pure(k.applicativeHalogenM)(v.unit)}throw new Error("Failed pattern match at LinkNote.Page.Home (line 212, column 7 - line 216, column 35): "+[n.constructor.name])}));if(f.otherwise)return i.pure(k.applicativeHalogenM)(v.unit)}if(t instanceof X)return o.bind(k.bindHalogenM)(E.liftEffect(k.monadEffectHalogenM(e.MonadEffect0()))(ue(t.value0)))((function(n){if(n instanceof d.Nothing)return i.pure(k.applicativeHalogenM)(v.unit);if(n instanceof d.Just)return ce(e)(new q(t.value1,n.value0));throw new Error("Failed pattern match at LinkNote.Page.Home (line 220, column 5 - line 223, column 38): "+[n.constructor.name])}));if(t instanceof Y)return ce(e)(Z.create(new d.Just(t.value0)));if(t instanceof V)return E.liftEffect(k.monadEffectHalogenM(e.MonadEffect0()))(B.preventDefault(j.toEvent(t.value0)));if(t instanceof $){return o.bind(k.bindHalogenM)(u.gets(k.monadStateHalogenM)((function(e){return e.ipfs})))((function(n){return o.discard(o.discardUnit)(k.bindHalogenM)(i.when(k.applicativeHalogenM)((r=n,function(e){return!(r instanceof d.Nothing&&e instanceof d.Nothing||r instanceof d.Just&&e instanceof d.Just&&L.unsafeRefEq(O.logAny(r.value0))(O.logAny(e.value0)))})(t.value0.context.ipfs))(o.discard(o.discardUnit)(k.bindHalogenM)(u.modify_(k.monadStateHalogenM)((function(e){var n={};for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.ipfs=t.value0.context.ipfs,n})))((function(){return ce(e)(G.value)}))))((function(){return i.pure(k.applicativeHalogenM)(v.unit)}));var r}))}throw new Error("Failed pattern match at LinkNote.Page.Home (line 142, column 16 - line 238, column 26): "+[t.constructor.name])}};e.exports={Submit:q,InitNote:H,New:K,IgnorePaste:V,HandleKeyUp:z,HandleKeyDown:W,InitComp:G,Receive:$,SubmitIpfs:J,Delete:Q,Edit:Y,EditNote:X,ChangeEditID:Z,regFileLink:re,getGatewayUriA:se,renderNote:ie,render:oe,toNotes:te,toNote:ee,getTextFromEvent:ue,handleAction:ce,initialState:ae,timer:function(e){return function(t){return o.bind(e.MonadEffect0().Monad0().Bind1())(E.liftEffect(e.MonadEffect0())(R.create))((function(n){return o.bind(e.MonadEffect0().Monad0().Bind1())(w.liftAff(e)(b.forkAff(a.forever(b.monadRecAff)(o.discard(o.discardUnit)(b.bindAff)(b.delay(1e3))((function(){return E.liftEffect(b.monadEffectAff)(R.notify(n.listener)(t))}))))))((function(){return i.pure(e.MonadEffect0().Monad0().Applicative0())(n.emitter)}))}))}},subscriptPaste:ne,component:function(e){return function(t){return x.connect(t.MonadEffect0())(e)(C.selectAll)(S.mkComponent({initialState:ae,render:oe,eval:S.mkEval({handleAction:ce(t),handleQuery:S.defaultEval.handleQuery,receive:function(e){return d.Just.create($.create(e))},initialize:new d.Just(G.value),finalize:S.defaultEval.finalize})}))}},doBlur:r.doBlur,innerText:r.innerText,insertText:r.insertText,autoFocus:r.autoFocus,nowTime:r.nowTime,addPasteListenner:r.addPasteListenner,getGatewayUri:r.getGatewayUri}},function(e,t,n){var r=n(294);t.addPasteListenner=function(e){return function(n){return function(r,i){return function(){var i=e(null)(n);document.onpaste=function(e){e.preventDefault();var n=e.clipboardData||e.originalEvent.clipboardData;if(maybeText=n.getData("text"),maybeText)t.insertText(maybeText)();else{var o=n.items;for(index in o){var a=o[index];if(console.log(a.kind),"file"===a.kind){if(!i)return void window.alert("您未配置IPFS实例，暂不提供文件服务！");var u=a.getAsFile();i.add(u).then((function(e){return r(e.path)()})).then(console.log)}}}},console.debug("已经绑定了粘贴事件")}}}},t.getGatewayUri=function(e){return function(){return e.config.get("Addresses.Gateway").then((function(e){return e||Promise.reject("没有获取到网关值")})).then(r)}},t.doBlur=function(e){return function(){e.blur()}},t.innerText=function(e){return function(){return console.log("newText",e.innerText),e.innerText||""}},t.insertText=function(e){return function(){return document.execCommand("insertText",!1,e)}},t.autoFocus=function(e){return function(){setTimeout((function(){document.querySelector("li#".concat(e," textarea")).focus()}))}},t.nowTime=function(){return Date.now()}},function(e,t,n){"use strict";t.showRegexImpl=function(e){return""+e},t.regexImpl=function(e){return function(t){return function(n){return function(r){try{return t(new RegExp(n,r))}catch(t){return e(t.message)}}}}},t.source=function(e){return e.source},t.flagsImpl=function(e){return{multiline:e.multiline,ignoreCase:e.ignoreCase,global:e.global,dotAll:e.dotAll,sticky:!!e.sticky,unicode:!!e.unicode}},t.test=function(e){return function(t){var n=e.lastIndex,r=e.test(t);return e.lastIndex=n,r}},t._match=function(e){return function(t){return function(n){return function(r){var i=r.match(n);if(null==i||0===i.length)return t;for(var o=0;o<i.length;o++)i[o]=null==i[o]?t:e(i[o]);return e(i)}}}},t.replace=function(e){return function(t){return function(n){return n.replace(e,t)}}},t._replaceBy=function(e){return function(t){return function(n){return function(r){return function(i){return i.replace(n,(function(n){for(var i,o=[],a=1;"number"!=typeof(i=arguments[a++]);)o.push(null==i?t:e(i));return r(n)(o)}))}}}}},t._search=function(e){return function(t){return function(n){return function(r){var i=r.search(n);return-1===i?t:e(i)}}}},t.split=function(e){return function(t){return t.split(e)}}},function(e,t,n){"use strict";var r=n(25),i=n(41),o=n(421),a=n(340);e.exports={unsafeRegex:function(e){return function(t){return i.either(a.unsafeCrashWith)(r.identity(r.categoryFn))(o.regex(e)(t))}}}},function(e,t,n){"use strict";var r=null;t.getUUID3Impl=function(e){return function(t){if(null===r){var i=n(307);r=i.v3}return r(e,t)}};var i=null;t.getUUIDImpl=function(){if(null===i){var e=n(307);i=e.v4}return i()};var o=null;t.getUUID5Impl=function(e){return function(t){if(null===o){var r=n(307);o=r.v5}return o(e,t)}};var a=null;t.validateV4UUID=function(e){if(null===a){var t=n(307);a=t.validate}return a(e)}},function(e,t,n){"use strict";var r=n(32),i=n(11),o=n(15),a=n(25),u=n(333),s=n(106),c=n(88),f=n(94),l=n(78),d=n(41),h=n(36),p=n(23),m=n(2),y=n(144),v=n(91),g=n(128),b=n(70),w=n(5),E=n(28),_=n(26),S=n(20),T=n(18),A=n(59),P=n(56),k=n(79),x=n(24),C=n(332),R=n(147),I=n(1785),O=n(698),M=n(1787),N=n(542),D=n(355),L=n(1789),j=n(1791),B=n(60),F=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),U=function(e){this.encodeArgs=e},q=function(e){this.encodeOpts=e},H=function(e){this.decodeArgs=e},K=function(e){this.decodeOpts=e},V=function(e){this.countArgs=e},z=function(e){this.encodeWithOptions=e},W=function(e){this.encodeRecordWithOptions=e},G=function(e){this.encode=e},$=function(e){this.decodeWithOptions=e},J=function(e){this.decodeRecordWithOptions=e},Q=function(e){this.decode=e},Y=new G(C.absurd),X=new Q((function(e){return s.except(v.applicativeIdentity)(new d.Left(i.pure(b.applicativeNonEmptyList)(new R.ForeignError("Decode: void"))))})),Z=new G((function(e){return R.unsafeToForeign({})})),ee=new Q((function(e){return i.pure(s.applicativeExceptT(v.monadIdentity))(x.unit)})),te=new G(R.unsafeToForeign),ne=new Q(R.readString(v.monadIdentity)),re=new G(R.unsafeToForeign),ie=new Q(R.readNumber(v.monadIdentity)),oe=new G(R.unsafeToForeign),ae=new Q(R.readInt(v.monadIdentity)),ue=new U((function(e){return E.mempty(E.monoidFn(b.monoidList))})),se=new K((function(e){return function(e){return R.fail(v.monadIdentity)(new R.ForeignError("No constructors"))}})),ce=new H((function(e){return function(e){return function(t){return t instanceof b.Nil?i.pure(s.applicativeExceptT(v.monadIdentity))({result:y.NoArguments.value,rest:b.Nil.value,next:e}):R.fail(v.monadIdentity)(new R.ForeignError("Too many constructor arguments"))}}})),fe=new V((function(e){return new d.Left(y.NoArguments.value)})),le=new V((function(e){return new d.Right(1)})),de=new G(a.identity(a.categoryFn)),he=new Q(i.pure(s.applicativeExceptT(v.monadIdentity))),pe=function(e){return e.encodeWithOptions},me=function(e){return e.encodeRecordWithOptions},ye=function(e){return function(e){return new z((function(t){var n=me(e)(j.RLProxy.value)(t);return function(e){return R.unsafeToForeign(n(e))}}))}},ve=new W((function(e){return function(e){return function(e){return N.empty}}})),ge=function(e){return e.encodeOpts},be=new q((function(e){return function(t){return ge(be)(e)(t)}})),we=function(e){return e.encodeArgs},Ee=function(e){return e.encode},_e={sumEncoding:new F({tagFieldName:"tag",contentsFieldName:"contents",constructorTagTransform:a.identity(a.categoryFn)}),unwrapSingleConstructors:!1,unwrapSingleArguments:!0,fieldTransform:a.identity(a.categoryFn)},Se=function(e){return e.decodeWithOptions},Te=function(e){return e.decodeRecordWithOptions},Ae=function(e){return function(e){return new $((function(t){return m.map(m.functorFn)(m.map(s.functorExceptT(v.functorIdentity))(p.flip(L.build)({})))(Te(e)(j.RLProxy.value)(t))}))}},Pe=new J((function(e){return function(e){return function(e){return i.pure(s.applicativeExceptT(v.monadIdentity))(a.identity(L.categoryBuilder))}}})),ke=function(e){return e.decodeOpts},xe=function(e){return e.decodeArgs},Ce=function(e){return e.decode},Re=function(e){return e.countArgs},Ie=new G(R.unsafeToForeign),Oe=new Q(R.readChar(v.monadIdentity)),Me=new G(R.unsafeToForeign),Ne=new Q(R.readBoolean(v.monadIdentity));e.exports={countArgs:Re,decode:Ce,decodeArgs:xe,decodeOpts:ke,decodeRecordWithOptions:Te,decodeWithOptions:Se,encode:Ee,encodeArgs:we,encodeOpts:ge,encodeRecordWithOptions:me,encodeWithOptions:pe,TaggedObject:F,defaultOptions:_e,Decode:Q,Encode:G,DecodeWithOptions:$,EncodeWithOptions:z,DecodeRecord:J,EncodeRecord:W,GenericDecode:K,GenericEncode:q,GenericDecodeArgs:H,GenericEncodeArgs:U,GenericCountArgs:V,voidDecode:X,unitDecode:ee,foreignDecode:he,stringDecode:ne,charDecode:Oe,booleanDecode:Ne,numberDecode:ie,intDecode:ae,identityDecode:function(e){return new Q((t=m.map(s.functorExceptT(v.functorIdentity))(v.Identity),n=Ce(e),function(e){return t(n(e))}));var t,n},arrayDecode:function(e){return new Q((t=function(t){return function(n){return u.mapExcept(l.lmap(l.bifunctorEither)(m.map(b.functorNonEmptyList)(R.ErrorAtIndex.create(t))))(Ce(e)(n))}},o.composeKleisli(s.bindExceptT(v.monadIdentity))(R.readArray(v.monadIdentity))((function(e){return P.sequence(P.traversableArray)(s.applicativeExceptT(v.monadIdentity))(f.zipWith(t)(f.range(0)(f.length(e)))(e))}))));var t},maybeDecode:function(e){return new Q(M.readNullOrUndefined(Ce(e)))},objectDecode:function(e){return new Q(o.composeKleisliFlipped(s.bindExceptT(v.monadIdentity))((t=P.sequence(N.traversableObject)(s.applicativeExceptT(v.monadIdentity)),n=N.mapWithKey((function(t){return Ce(e)})),function(e){return t(n(e))}))(I.readObject));var t,n},recordDecode:function(e){return function(e){return new Q(Se(Ae()(e))(_e))}},voidEncode:Y,unitEncode:Z,foreignEncode:de,stringEncode:te,charEncode:Ie,booleanEncode:Me,numberEncode:re,intEncode:oe,identityEncode:function(e){return new G((t=Ee(e),n=_.unwrap(),function(e){return t(n(e))}));var t,n},arrayEncode:function(e){return new G((t=m.map(m.functorArray)(Ee(e)),function(e){return R.unsafeToForeign(t(e))}));var t},maybeEncode:function(e){return new G(w.maybe(M.null)(Ee(e)))},objectEncode:function(e){return new G((t=N.mapWithKey((function(t){return Ee(e)})),function(e){return R.unsafeToForeign(t(e))}));var t},recordEncode:function(e){return function(e){return new G(pe(ye()(e))(_e))}},decodeWithOptionsRecord:Ae,decodeWithOptionsOther:function(e){return new $((function(t){return Ce(e)}))},encodeWithOptionsRecord:ye,encodeWithOptionsOther:function(e){return new z((function(t){return Ee(e)}))},decodeRecordNil:Pe,encodeRecordNil:ve,decodeRecordCons:function(e){return function(e){return function(t){return function(n){return function(r){return new J((function(r){return function(r){return function(a){return o.bind(s.bindExceptT(v.monadIdentity))(Te(e)(j.RLProxy.value)(r)(a))((function(e){var f=A.reflectSymbol(t)(A.SProxy.value),d=r.fieldTransform(f);return o.bind(s.bindExceptT(v.monadIdentity))(O.index(O.indexString(v.monadIdentity))(a)(d))((function(a){return o.bind(s.bindExceptT(v.monadIdentity))(u.mapExcept(l.lmap(l.bifunctorEither)(m.map(b.functorNonEmptyList)(R.ErrorAtProperty.create(d))))(Se(n)(r)(a)))((function(n){return i.pure(s.applicativeExceptT(v.monadIdentity))(c.composeFlipped(L.semigroupoidBuilder)(e)(L.insert()()(t)(A.SProxy.value)(n)))}))}))}))}}}))}}}}},encodeRecordCons:function(e){return function(e){return function(t){return function(n){return new W((function(r){return function(r){return function(i){var o=me(e)(j.RLProxy.value)(r)(i),a=A.reflectSymbol(t)(A.SProxy.value);return N.insert(r.fieldTransform(a))(pe(n)(r)(D.get(t)()(A.SProxy.value)(i)))(o)}}}))}}}},genericDecodeNoConstructors:se,genericEncodeNoConstructors:be,genericDecodeConstructor:function(e){return function(t){return function(n){return new K((function(r){return function(a){var c=Re(n)(B.Proxy.value),f=function(e){if(c instanceof d.Left)return i.pure(s.applicativeExceptT(v.monadIdentity))(c.value0);if(c instanceof d.Right&&1===c.value0&&r.unwrapSingleArguments)return o.bind(s.bindExceptT(v.monadIdentity))(xe(t)(r)(0)(g.singleton(e)))((function(e){return o.discard(o.discardUnit)(s.bindExceptT(v.monadIdentity))(i.unless(s.applicativeExceptT(v.monadIdentity))(g.null(e.rest))(R.fail(v.monadIdentity)(new R.ForeignError("Expected a single argument"))))((function(){return i.pure(s.applicativeExceptT(v.monadIdentity))(e.result)}))}));if(c instanceof d.Right)return o.bind(s.bindExceptT(v.monadIdentity))(R.readArray(v.monadIdentity)(e))((function(e){return o.bind(s.bindExceptT(v.monadIdentity))(xe(t)(r)(0)(g.fromFoldable(h.foldableArray)(e)))((function(e){return o.discard(o.discardUnit)(s.bindExceptT(v.monadIdentity))(i.unless(s.applicativeExceptT(v.monadIdentity))(g.null(e.rest))(R.fail(v.monadIdentity)(new R.ForeignError("Expected "+T.show(T.showInt)(c.value0)+" constructor arguments"))))((function(){return i.pure(s.applicativeExceptT(v.monadIdentity))(e.result)}))}))}));throw new Error("Failed pattern match at Foreign.Generic.Class (line 307, column 9 - line 319, column 24): "+[c.constructor.name])},p=A.reflectSymbol(e)(A.SProxy.value);return r.unwrapSingleConstructors?m.map(s.functorExceptT(v.functorIdentity))(y.Constructor)(f(a)):o.bind(s.bindExceptT(v.monadIdentity))(u.mapExcept(l.lmap(l.bifunctorEither)(m.map(b.functorNonEmptyList)(R.ErrorAtProperty.create(r.sumEncoding.value0.tagFieldName))))(o.bind(s.bindExceptT(v.monadIdentity))(o.bind(s.bindExceptT(v.monadIdentity))(O.index(O.indexString(v.monadIdentity))(a)(r.sumEncoding.value0.tagFieldName))(R.readString(v.monadIdentity)))((function(e){var t=r.sumEncoding.value0.constructorTagTransform(p);return o.discard(o.discardUnit)(s.bindExceptT(v.monadIdentity))(i.unless(s.applicativeExceptT(v.monadIdentity))(e===t)(R.fail(v.monadIdentity)(new R.ForeignError("Expected "+T.show(T.showString)(t)+" tag"))))((function(){return i.pure(s.applicativeExceptT(v.monadIdentity))(e)}))}))))((function(e){return o.bind(s.bindExceptT(v.monadIdentity))(u.mapExcept(l.lmap(l.bifunctorEither)(m.map(b.functorNonEmptyList)(R.ErrorAtProperty.create(r.sumEncoding.value0.contentsFieldName))))(o.bind(s.bindExceptT(v.monadIdentity))(O.index(O.indexString(v.monadIdentity))(a)(r.sumEncoding.value0.contentsFieldName))(f)))((function(e){return i.pure(s.applicativeExceptT(v.monadIdentity))(e)}))}))}}))}}},genericEncodeConstructor:function(e){return function(t){return new q((function(n){return function(r){var i,o,a=(i=g.toUnfoldable(k.unfoldableArray),o=we(t)(n),function(e){return 0===(t=i(o(e))).length?w.Nothing.value:1===t.length&&n.unwrapSingleArguments?new w.Just(t[0]):new w.Just(R.unsafeToForeign(t));var t}),u=A.reflectSymbol(e)(A.SProxy.value);return n.unwrapSingleConstructors?w.maybe(R.unsafeToForeign({}))(R.unsafeToForeign)(a(r)):R.unsafeToForeign(N.union(N.singleton(n.sumEncoding.value0.tagFieldName)(R.unsafeToForeign(n.sumEncoding.value0.constructorTagTransform(u))))(w.maybe(N.empty)(N.singleton(n.sumEncoding.value0.contentsFieldName))(a(r))))}}))}},genericDecodeSum:function(e){return function(t){return new K((function(n){return function(i){var o={unwrapSingleConstructors:!1,fieldTransform:n.fieldTransform,sumEncoding:n.sumEncoding,unwrapSingleArguments:n.unwrapSingleArguments};return r.alt(s.altExceptT(b.semigroupNonEmptyList)(v.monadIdentity))(m.map(s.functorExceptT(v.functorIdentity))(y.Inl.create)(ke(e)(o)(i)))(m.map(s.functorExceptT(v.functorIdentity))(y.Inr.create)(ke(t)(o)(i)))}}))}},genericEncodeSum:function(e){return function(t){return new q((function(n){return function(r){if(r instanceof y.Inl)return ge(e)({sumEncoding:n.sumEncoding,unwrapSingleConstructors:!1,unwrapSingleArguments:n.unwrapSingleArguments,fieldTransform:n.fieldTransform})(r.value0);if(r instanceof y.Inr)return ge(t)({sumEncoding:n.sumEncoding,unwrapSingleConstructors:!1,unwrapSingleArguments:n.unwrapSingleArguments,fieldTransform:n.fieldTransform})(r.value0);throw new Error("Failed pattern match at Foreign.Generic.Class (line 351, column 1 - line 355, column 85): "+[n.constructor.name,r.constructor.name])}}))}},genericDecodeArgsNoArguments:ce,genericEncodeArgsNoArguments:ue,genericDecodeArgsArgument:function(e){return new H((function(t){return function(n){return function(r){return r instanceof b.Cons?o.bind(s.bindExceptT(v.monadIdentity))(u.mapExcept(l.lmap(l.bifunctorEither)(m.map(b.functorNonEmptyList)(R.ErrorAtIndex.create(n))))(Se(e)(t)(r.value0)))((function(e){return i.pure(s.applicativeExceptT(v.monadIdentity))({result:e,rest:r.value1,next:n+1|0})})):R.fail(v.monadIdentity)(new R.ForeignError("Not enough constructor arguments"))}}}))},genericEncodeArgsArgument:function(e){return new U((function(t){return function(n){return g.singleton(pe(e)(t)(n))}}))},genericDecodeArgsProduct:function(e){return function(t){return new H((function(n){return function(r){return function(a){return o.bind(s.bindExceptT(v.monadIdentity))(xe(e)(n)(r)(a))((function(e){return o.bind(s.bindExceptT(v.monadIdentity))(xe(t)(n)(e.next)(e.rest))((function(t){return i.pure(s.applicativeExceptT(v.monadIdentity))({result:new y.Product(e.result,t.result),rest:t.rest,next:t.next})}))}))}}}))}},genericEncodeArgsProduct:function(e){return function(t){return new U((function(n){return function(r){return S.append(b.semigroupList)(we(e)(n)(r.value0))(we(t)(n)(r.value1))}}))}},genericCountArgsNoArguments:fe,genericCountArgsArgument:le,genericCountArgsProduct:function(e){return function(t){return new V((function(n){var r=Re(t)(B.Proxy.value),i=Re(e)(B.Proxy.value);if(i instanceof d.Left&&r instanceof d.Left)return new d.Left(new y.Product(i.value0,r.value0));if(i instanceof d.Left&&r instanceof d.Right)return new d.Right(r.value0);if(i instanceof d.Right&&r instanceof d.Left)return new d.Right(i.value0);if(i instanceof d.Right&&r instanceof d.Right)return new d.Right(i.value0+r.value0|0);throw new Error("Failed pattern match at Foreign.Generic.Class (line 400, column 5 - line 404, column 40): "+[i.constructor.name,r.constructor.name])}))}}}},function(e,t,n){"use strict";var r=n(11),i=n(106),o=n(54),a=n(91),u=n(147),s=function(e){return"Object"===u.tagOf(e)};e.exports={isObject:s,readObject:function(e){if(s(e))return r.pure(i.applicativeExceptT(a.monadIdentity))(u.unsafeFromForeign(e));if(o.otherwise)return u.fail(a.monadIdentity)(new u.TypeMismatch("Object",u.tagOf(e)));throw new Error("Failed pattern match at Foreign.Generic.Internal (line 13, column 1 - line 13, column 44): "+[e.constructor.name])}}},function(e,t,n){"use strict";t.unsafeReadPropImpl=function(e,t,n,r){return null==r?e:t(r[n])},t.unsafeHasOwnProperty=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)},t.unsafeHasProperty=function(e,t){return e in t}},function(e,t,n){"use strict";var r=n(1788),i=n(11),o=n(106),a=n(2),u=n(91),s=n(5),c=n(147);e.exports={readNullOrUndefined:function(e){return function(t){return c.isNull(t)||c.isUndefined(t)?i.pure(o.applicativeExceptT(u.monadIdentity))(s.Nothing.value):a.map(o.functorExceptT(u.functorIdentity))(s.Just.create)(e(t))}},undefined:r[void 0],null:r.null}},function(e,t){t.null=null,t[void 0]=void 0},function(e,t,n){"use strict";var r=n(1790),i=n(25),o=n(88),a=n(23),u=n(59),s=n(550),c=n(10),f=o.semigroupoidFn,l=i.categoryFn,d=function(e){return function(t){return e(r.copyRecord(t))}},h=a.flip(d)({});e.exports={build:d,buildFromScratch:h,flip:function(e){return function(t){return function(n){return d(e(n))(t)}}},insert:function(e){return function(e){return function(e){return function(t){return function(n){return function(i){return r.unsafeInsert(u.reflectSymbol(e)(t))(n)(i)}}}}}},modify:function(e){return function(e){return function(e){return function(t){return function(n){return function(i){return r.unsafeModify(u.reflectSymbol(e)(t))(n)(i)}}}}}},delete:function(e){return function(t){return function(t){return function(t){return function(n){return r.unsafeDelete(u.reflectSymbol(e)(t))(n)}}}}},rename:function(e){return function(t){return function(n){return function(n){return function(n){return function(n){return function(n){return function(i){return function(o){return r.unsafeRename(u.reflectSymbol(e)(n))(u.reflectSymbol(t)(i))(o)}}}}}}}}},merge:function(e){return function(e){return function(e){return function(t){return s.unsafeUnionFn(e,t)}}}},union:function(e){return function(e){return function(t){return s.unsafeUnionFn(e,t)}}},disjointUnion:function(e){return function(e){return function(e){return function(t){return s.unsafeUnionFn(e,t)}}}},nub:function(e){return c.unsafeCoerce},semigroupoidBuilder:f,categoryBuilder:l}},function(e,t,n){"use strict";t.copyRecord=function(e){var t={};for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},t.unsafeInsert=function(e){return function(t){return function(n){return n[e]=t,n}}},t.unsafeModify=function(e){return function(t){return function(n){return n[e]=t(n[e]),n}}},t.unsafeDelete=function(e){return function(t){return delete t[e],t}},t.unsafeRename=function(e){return function(t){return function(n){return n[t]=n[e],delete n[e],n}}}},function(e,t,n){"use strict";var r=function(){function e(){}return e.value=new e,e}();e.exports={RLProxy:r}},function(e,t,n){"use strict";e.exports={clipboardchange:"clipboardchange",copy:"copy",cut:"cut",paste:"paste"}},function(e,t,n){"use strict";t.bubbles=function(e){return e.bubbles},t.cancelable=function(e){return e.cancelable},t._currentTarget=function(e){return e.currentTarget},t.defaultPrevented=function(e){return function(){return e.defaultPrevented}},t.eventPhaseIndex=function(e){return e.eventPhase},t._target=function(e){return e.target},t.timeStamp=function(e){return e.timeStamp},t.type_=function(e){return e.type},t.preventDefault=function(e){return function(){return e.preventDefault()}},t.stopImmediatePropagation=function(e){return function(){return e.stopImmediatePropagation()}},t.stopPropagation=function(e){return function(){return e.stopPropagation()}}},function(e,t,n){"use strict";var r=n(63),i=n(76),o=n(13),a=n(5),u=n(16),s=n(34),c=function(){function e(){}return e.value=new e,e}(),f=function(){function e(){}return e.value=new e,e}(),l=function(){function e(){}return e.value=new e,e}(),d=function(){function e(){}return e.value=new e,e}(),h=function(e){return 0===e?new a.Just(c.value):1===e?new a.Just(f.value):2===e?new a.Just(l.value):3===e?new a.Just(d.value):a.Nothing.value},p=function(e){if(e instanceof c)return 0;if(e instanceof f)return 1;if(e instanceof l)return 2;if(e instanceof d)return 3;throw new Error("Failed pattern match at Web.Event.EventPhase (line 40, column 3 - line 44, column 18): "+[e.constructor.name])},m=new o.Eq((function(e){return function(t){return e instanceof c&&t instanceof c||(e instanceof f&&t instanceof f||(e instanceof l&&t instanceof l||e instanceof d&&t instanceof d))}})),y=new u.Ord((function(){return m}),(function(e){return function(t){if(e instanceof c&&t instanceof c)return s.EQ.value;if(e instanceof c)return s.LT.value;if(t instanceof c)return s.GT.value;if(e instanceof f&&t instanceof f)return s.EQ.value;if(e instanceof f)return s.LT.value;if(t instanceof f)return s.GT.value;if(e instanceof l&&t instanceof l)return s.EQ.value;if(e instanceof l)return s.LT.value;if(t instanceof l)return s.GT.value;if(e instanceof d&&t instanceof d)return s.EQ.value;throw new Error("Failed pattern match at Web.Event.EventPhase (line 14, column 1 - line 14, column 48): "+[e.constructor.name,t.constructor.name])}})),v=new i.Enum((function(){return y}),i.defaultPred(h)(p),i.defaultSucc(h)(p)),g=new r.Bounded((function(){return y}),c.value,d.value),b=new i.BoundedEnum((function(){return g}),(function(){return v}),4,p,h);e.exports={None:c,Capturing:f,AtTarget:l,Bubbling:d,toEnumEventPhase:h,fromEnumEventPhase:p,eqEventPhase:m,ordEventPhase:y,boundedEventPhase:g,enumEventPhase:v,boundedEnumEventPhase:b}},function(e,t,n){"use strict";var r=n(1796),i=n(23),o=n(2),a=n(5),u=n(55),s=n(29),c=n(79),f=function(e){var t=r._item(e);return function(e){return u.toMaybe(t(e))}};e.exports={item:f,items:function(e){return function(t){return c.unfoldr(e)((function(e){return o.map(a.functorMaybe)(i.flip(s.Tuple.create)(e+1|0))(f(e)(t))}))(0)}},length:r.length}},function(e,t,n){"use strict";t.length=function(e){return e.length},t._item=function(e){return function(t){return t.item(e)}}},function(e,t,n){"use strict";e.exports={dragstart:"dragstart",drag:"drag",dragenter:"dragenter",dragexit:"dragexit",dragleave:"dragleave",dragover:"dragover",drop:"drop",dragend:"dragend"}},function(e,t,n){"use strict";e.exports={blur:"blur",focus:"focus",focusin:"focusin",focusout:"focusout"}},function(e,t,n){"use strict";e.exports={keydown:"keydown",keyup:"keyup"}},function(e,t,n){"use strict";e.exports={click:"click",dblclick:"dblclick",mousedown:"mousedown",mouseenter:"mouseenter",mouseleave:"mouseleave",mousemove:"mousemove",mouseout:"mouseout",mouseover:"mouseover",mouseup:"mouseup"}},function(e,t,n){"use strict";e.exports={wheel:"wheel"}},function(e,t,n){"use strict";var r=n(25),i=n(94),o=n(78),a=n(41),u=n(2),s=n(70),c=n(18),f=n(59),l=n(95),d=n(165),h=n(223),p=n(1803),m=function(e){return h.attr(e.value0)(e.value1)},y=function(e){if(e instanceof p.HtmlElement)return v(e.value0);if(e instanceof p.HtmlText)return l.text(e.value0);if(e instanceof p.HtmlComment)return l.text("");throw new Error("Failed pattern match at Html.Renderer.Halogen (line 34, column 1 - line 34, column 50): "+[e.constructor.name])},v=function(e){var t=i.fromFoldable(s.foldableList)(u.map(s.functorList)(y)(e.children));return d.element(e.name)(i.fromFoldable(s.foldableList)(u.map(s.functorList)(m)(e.attributes)))(t)},g=function(e){return o.lmap(o.bifunctorEither)(c.show(c.showRecord()(c.showRecordFieldsCons(new f.IsSymbol((function(){return"error"})))(c.showRecordFieldsCons(new f.IsSymbol((function(){return"pos"})))(c.showRecordFieldsNil)(c.showInt))(c.showString))))(u.map(a.functorEither)((t=i.fromFoldable(s.foldableList),n=u.map(s.functorList)(y),function(e){return t(n(e))}))(p.parse(e)));var t,n},b=function(e){return a.either((function(e){return[l.text(e)]}))(r.identity(r.categoryFn))(g(e))},w=function(e){var t=d.div(e);return function(e){return t(b(e))}},E=w([]);e.exports={htmlAttributeToProp:m,elementToHtml:v,nodeToHtml:y,parse:g,render_:E,render:w,renderToArray:b}},function(e,t,n){"use strict";var r,i=n(1804),o=n(32),a=n(11),u=n(19),s=n(15),c=n(89),f=n(94),l=n(13),d=n(2),h=n(70),p=n(148),m=n(423),y=n(1805),v=n(701),g=function(){function e(e,t){this.value0=e,this.value1=t}return e.create=function(t){return function(n){return new e(t,n)}},e}(),b=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),w=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),E=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),_=d.map(m.functorParser)((function(e){return w.create(i.decodeHtmlEntity(e))}))(y.regex("[^<]+")),S=["br","img","hr","meta","input","embed","area","base","col","keygen","link","param","source","command","link","track","wbr"],T=u.applyFirst(m.applyParser)(u.applySecond(m.applyParser)(y.string('"'))(y.regex('[^"]*')))(y.string('"')),A=u.applyFirst(m.applyParser)(u.applySecond(m.applyParser)(y.string("'"))(y.regex("[^']*")))(y.string("'")),P=o.alt(m.altParser)(A)(T),k=u.applyFirst(m.applyParser)(y.string("="))(y.whiteSpace),x=new l.Eq((function(e){return function(t){return e.value0===t.value0&&e.value1===t.value1}})),C=new l.Eq((function(e){return function(t){return e instanceof b&&t instanceof b?l.eq(h.eqList(x))(e.value0.attributes)(t.value0.attributes)&&l.eq(h.eqList(C))(e.value0.children)(t.value0.children)&&e.value0.name===t.value0.name:(e instanceof w&&t instanceof w||e instanceof E&&t instanceof E)&&e.value0===t.value0}})),R=(r=f.fromFoldable(h.foldableList),function(e){return p.fromCharArray(r(e))}),I=s.discard(s.discardUnit)(m.bindParser)(y.skipSpaces)((function(){return s.bind(m.bindParser)(u.applySecond(m.applyParser)(y.string("\x3c!--"))(v.manyTill(y.anyChar)(y.string("--\x3e"))))((function(e){return a.pure(m.applicativeParser)(E.create(R(e)))}))})),O=s.bind(m.bindParser)(y.regex("[^=>/ ]+"))((function(e){return s.discard(s.discardUnit)(m.bindParser)(d.void(m.functorParser)(y.whiteSpace))((function(){return s.bind(m.bindParser)(v.option("")(u.applySecond(m.applyParser)(k)(P)))((function(t){return a.pure(m.applicativeParser)(new g(e,t))}))}))})),M=s.bind(m.bindParser)(y.string("<"))((function(){return s.bind(m.bindParser)(y.regex("[^/>\n ]+"))((function(e){return s.bind(m.bindParser)(u.applySecond(m.applyParser)(y.whiteSpace)(v.sepEndBy(O)(y.whiteSpace)))((function(t){return a.pure(m.applicativeParser)((n=e,function(e){return function(t){return{name:n,attributes:e,children:t}}})(t)(h.Nil.value));var n}))}))})),N=c.defer(m.lazyParser)((function(e){return o.alt(m.altParser)(o.alt(m.altParser)(m.try(_))(m.try(I)))(D)})),D=c.defer(m.lazyParser)((function(e){return s.discard(s.discardUnit)(m.bindParser)(y.skipSpaces)((function(){return s.bind(m.bindParser)(s.bind(m.bindParser)(M)(L))((e=a.pure(m.applicativeParser),function(t){return e(b.create(t))}));var e}))})),L=function(e){var t=s.bind(m.bindParser)(u.applySecond(m.applyParser)(y.whiteSpace)(y.string(">")))((function(){return s.bind(m.bindParser)(v.manyTill(N)(y.string("</"+e.name+">")))((function(t){return a.pure(m.applicativeParser)({children:t,attributes:e.attributes,name:e.name})}))}));return c.defer(m.lazyParser)((function(n){var r;return(r=e,f.elem(l.eqString)(r.name)(S))?u.applySecond(m.applyParser)(u.applySecond(m.applyParser)(u.applySecond(m.applyParser)(y.whiteSpace)(v.optional(y.string("/"))))(y.string(">")))(a.pure(m.applicativeParser)(e)):t}))};e.exports={HtmlElement:b,HtmlText:w,HtmlComment:E,HtmlAttribute:g,parse:function(e){return m.runParser(v.many(N))(e)},eqHtmlNode:C,eqHtmlAttribute:x}},function(e,t){t.decodeHtmlEntity=function(e){if("undefined"==typeof DOMParser)return e;var t=/^\s+/.exec(e),n="";return t&&(n=t[0]),n+(new DOMParser).parseFromString(e.slice(n.length),"text/html").documentElement.textContent}},function(e,t,n){"use strict";var r=n(32),i=n(11),o=n(15),a=n(94),u=n(552),s=n(1806),c=n(41),f=n(13),l=n(36),d=n(23),h=n(2),p=n(70),m=n(5),y=n(28),v=n(18),g=n(148),b=n(421),w=n(422),E=n(24),_=n(423),S=n(701),T=function(e){var t=g.charAt(e.pos)(e.str);if(t instanceof m.Just)return new c.Right({result:t.value0,suffix:{str:e.str,pos:e.pos+1|0}});if(t instanceof m.Nothing)return new c.Left({pos:e.pos,error:"Unexpected EOF"});throw new Error("Failed pattern match at Text.Parsing.StringParser.CodeUnits (line 51, column 3 - line 53, column 53): "+[t.constructor.name])},A=_.try(o.bind(_.bindParser)(T)((function(e){return e>="0"&&e<="9"?i.pure(_.applicativeParser)(e):_.fail("Character "+v.show(v.showChar)(e)+" is not a digit")}))),P=_.try(o.bind(_.bindParser)(T)((function(e){return l.elem(l.foldableArray)(f.eqInt)(s.toCharCode(e))(a.range(97)(122))?i.pure(_.applicativeParser)(e):_.fail("Expected a lower case character but found "+v.show(v.showChar)(e))}))),k=function(e){return _.try(o.bind(_.bindParser)(T)((function(t){return e(t)?i.pure(_.applicativeParser)(t):_.fail("Character "+v.show(v.showChar)(t)+" did not satisfy predicate")})))},x=o.bind(_.bindParser)(S.many(k((function(e){return"\n"===e||"\r"===e||" "===e||"\t"===e}))))((function(e){return i.pure(_.applicativeParser)(l.foldMap(p.foldableList)(y.monoidString)(g.singleton)(e))})),C=h.void(_.functorParser)(x),R=_.try(o.bind(_.bindParser)(T)((function(e){return l.elem(l.foldableArray)(f.eqInt)(s.toCharCode(e))(a.range(65)(90))?i.pure(_.applicativeParser)(e):_.fail("Expected an upper case character but found "+v.show(v.showChar)(e))}))),I=S.withError(r.alt(_.altParser)(P)(R))("Expected a letter"),O=S.withError(r.alt(_.altParser)(I)(A))("Expected a letter or a number");e.exports={eof:function(e){return e.pos<g.length(e.str)?new c.Left({pos:e.pos,error:"Expected EOF"}):new c.Right({result:E.unit,suffix:e})},anyChar:T,anyDigit:A,string:function(e){return function(t){return f.eq(m.eqMaybe(f.eqInt))(g["indexOf'"](e)(t.pos)(t.str))(new m.Just(t.pos))?new c.Right({result:e,suffix:{str:t.str,pos:t.pos+g.length(e)|0}}):new c.Left({pos:t.pos,error:"Expected '"+e+"'."})}},satisfy:k,char:function(e){return S.withError(k((function(t){return t===e})))("Could not match character "+v.show(v.showChar)(e))},whiteSpace:x,skipSpaces:C,oneOf:function(e){var t=d.flip(l.elem(e)(f.eqChar));return function(e){return k(t(e))}},noneOf:function(e){var t=d.flip(l.notElem(e)(f.eqChar));return function(e){return k(t(e))}},lowerCaseChar:P,upperCaseChar:R,anyLetter:I,alphaNum:O,regex:function(e){var t,n=g.stripPrefix("^")(e)instanceof m.Nothing?"^"+e:e,r=b.regex(n)(w.noFlags);if(r instanceof c.Left)return _.fail("Text.Parsing.StringParser.String.regex': illegal regex "+e);if(r instanceof c.Right)return t=r.value0,function(e){var n=g.drop(e.pos)(e.str),r=h.map(m.functorMaybe)(u.head)(b.match(t)(n));return r instanceof m.Just&&r.value0 instanceof m.Just?new c.Right({result:r.value0.value0,suffix:{str:e.str,pos:e.pos+g.length(r.value0.value0)|0}}):new c.Left({pos:e.pos,error:"no match"})};throw new Error("Failed pattern match at Text.Parsing.StringParser.CodeUnits (line 127, column 3 - line 131, column 19): "+[r.constructor.name])}}},function(e,t,n){"use strict";var r=n(76),i=r.fromEnum(r.boundedEnumChar),o=r.toEnum(r.boundedEnumChar);e.exports={toCharCode:i,fromCharCode:o}},function(e,t,n){"use strict";var r=n(1808);e.exports={logAny:r.logAny}},function(e,t){t.logAny=function(e){return console.log(e),e}},function(e,t,n){"use strict";var r=n(1810),i=n(185);e.exports={getCollectionA:function(e){return function(t){return i.toAffE(r.getCollection(e)(t))}},insertA:function(e){return function(t){return i.toAffE(r.insert(e)(t))}},upsertA:function(e){return function(t){return i.toAffE(r.upsert(e)(t))}},bulkRemoveA:function(e){return function(t){return i.toAffE(r.bulkRemove(e)(t))}},getCollection:r.getCollection,isRxCollection:r.isRxCollection,insert:r.insert,upsert:r.upsert,find:r.find,findOne:r.findOne,bulkRemove:r.bulkRemove}},function(e,t,n){var r=n(306).isRxCollection;t.getCollection=function(e){return function(t){return function(){return e[t]?Promise.resolve(e[t]):Promise.reject(new TypeError("RxCollection【".concat(t,"】不存在")))}}},t.isRxCollection=function(e){return function(){return r(e)}};var i=function(e,t){return r(e)?t():Promise.reject(new TypeError("RxCollection类型不正确"))};t.insert=function(e){return function(t){return function(){return i(e,(function(){return e.insert(t)}))}}},t.upsert=function(e){return function(t){return function(){return i(e,(function(){return e.upsert(t)}))}}},t.find=function(e){return function(t){return function(){return i(e,(function(){return e.find(t)}))}}},t.findOne=function(e){return function(t){return function(){return i(e,(function(){return e.findOne(t)}))}}},t.bulkRemove=function(e){return function(t){return function(){return i(e,(function(){return e.bulkRemove(t)}))}}}},function(e,t,n){"use strict";var r=n(1812);e.exports={isRxDocument:r.isRxDocument,toJSON:r.toJSON}},function(e,t,n){var r=n(306).isRxDocument;t.isRxDocument=function(e){return function(){return r(e)}},t.toJSON=function(e){return function(){return function(e,t){if(!r(e))throw new TypeError("RxDocument类型不正确");return t()}(e,(function(){return e.toJSON()}))}}},function(e,t,n){"use strict";var r=n(1814),i=n(185);e.exports={execA:function(e){return i.toAffE(r.exec(e))},isRxQuery:r.isRxQuery,exec:r.exec,emptyQueryObject:r.emptyQueryObject,primaryQuery:r.primaryQuery}},function(e,t,n){var r=n(306).isRxQuery;t.isRxQuery=function(e){return function(){return r(e)}},t.exec=function(e){return function(){return function(e,t){return r(e)?t():Promise.reject(new TypeError("RxQuery类型不正确"))}(e,(function(){return e.exec()}))}},t.emptyQueryObject=void 0,t.primaryQuery=function(e){return e}},function(e,t,n){"use strict";var r=n(1816),i=n(55),o=n(10),a=n(21),u=o.unsafeCoerce,s=a.unsafeReadProtoTagged("ClipboardEvent");e.exports={fromEvent:s,toEvent:u,clipboardData:function(e){return i.toMaybe(r._clipboardData(e))}}},function(e,t,n){"use strict";t._clipboardData=function(e){return e.clipboardData}},function(e,t,n){"use strict";var r=n(1818),i=n(63),o=n(76),a=n(13),u=n(5),s=n(16),c=n(34),f=n(10),l=n(21),d=function(){function e(){}return e.value=new e,e}(),h=function(){function e(){}return e.value=new e,e}(),p=function(){function e(){}return e.value=new e,e}(),m=function(){function e(){}return e.value=new e,e}(),y=f.unsafeCoerce,v=f.unsafeCoerce,g=function(e){return 0===e?new u.Just(d.value):1===e?new u.Just(h.value):2===e?new u.Just(p.value):3===e?new u.Just(m.value):u.Nothing.value},b=l.unsafeReadProtoTagged("KeyboardEvent"),w=l.unsafeReadProtoTagged("KeyboardEvent"),E=function(e){if(e instanceof d)return 0;if(e instanceof h)return 1;if(e instanceof p)return 2;if(e instanceof m)return 3;throw new Error("Failed pattern match at Web.UIEvent.KeyboardEvent (line 107, column 3 - line 111, column 16): "+[e.constructor.name])},_=new a.Eq((function(e){return function(t){return e instanceof d&&t instanceof d||(e instanceof h&&t instanceof h||(e instanceof p&&t instanceof p||e instanceof m&&t instanceof m))}})),S=new s.Ord((function(){return _}),(function(e){return function(t){if(e instanceof d&&t instanceof d)return c.EQ.value;if(e instanceof d)return c.LT.value;if(t instanceof d)return c.GT.value;if(e instanceof h&&t instanceof h)return c.EQ.value;if(e instanceof h)return c.LT.value;if(t instanceof h)return c.GT.value;if(e instanceof p&&t instanceof p)return c.EQ.value;if(e instanceof p)return c.LT.value;if(t instanceof p)return c.GT.value;if(e instanceof m&&t instanceof m)return c.EQ.value;throw new Error("Failed pattern match at Web.UIEvent.KeyboardEvent (line 81, column 1 - line 81, column 50): "+[e.constructor.name,t.constructor.name])}})),T=new o.Enum((function(){return S}),o.defaultPred(g)(E),o.defaultSucc(g)(E)),A=new i.Bounded((function(){return S}),d.value,m.value),P=new o.BoundedEnum((function(){return A}),(function(){return T}),4,E,g);e.exports={fromUIEvent:b,fromEvent:w,toUIEvent:y,toEvent:v,location:function(e){var t=u.fromJust(),n=o.toEnum(P);return function(e){return t(n(r.locationIndex(e)))}},Standard:d,Left:h,Right:p,Numpad:m,toEnumKeyLocation:g,fromEnumKeyLocation:E,eqKeyLocation:_,ordKeyLocation:S,boundedKeyLocation:A,enumKeyLocation:T,boundedEnumKeyLocation:P,key:r.key,code:r.code,locationIndex:r.locationIndex,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,altKey:r.altKey,metaKey:r.metaKey,repeat:r.repeat,isComposing:r.isComposing,getModifierState:r.getModifierState}},function(e,t,n){"use strict";t.key=function(e){return e.key},t.code=function(e){return e.code},t.locationIndex=function(e){return e.location},t.ctrlKey=function(e){return e.ctrlKey},t.shiftKey=function(e){return e.shiftKey},t.altKey=function(e){return e.altKey},t.metaKey=function(e){return e.metaKey},t.repeat=function(e){return e.repeat},t.isComposing=function(e){return e.isComposing},t.getModifierState=function(e){return function(t){return function(){return t.getModifierState(e)}}}},function(e,t,n){"use strict";var r=n(11),i=n(24),o=n(114),a=n(95),u=n(165),s=n(101),c=function(){function e(){}return e.value=new e,e}(),f=function(e){return u.section_([a.text("I am a setting")])},l=function(e){return{ipfsInstanceType:e.ipfsInstanceType}},d=function(e){return function(e){return r.pure(s.applicativeHalogenM)(i.unit)}};e.exports={Submit:c,render:f,handleAction:d,initialState:l,component:function(e){return o.mkComponent({initialState:l,render:f,eval:o.mkEval({handleAction:d(),handleQuery:o.defaultEval.handleQuery,receive:o.defaultEval.receive,initialize:o.defaultEval.initialize,finalize:o.defaultEval.finalize})})}}},function(e,t,n){"use strict";var r=n(15),i=n(92),o=n(2),a=n(5),u=n(697),s=n(58),c=n(114),f=n(95),l=n(165),d=n(699),h=n(223),p=n(101),m=n(419),y=n(420),v=n(547),g=n(548),b=function(){function e(e){this.value0=e}return e.create=function(t){return new e(t)},e}(),w=function(){function e(){}return e.value=new e,e}(),E=function(){function e(){}return e.value=new e,e}(),_=function(e){return l.section_([l.div_([l.input([h.value(e.newTopicName),d.onValueChange((function(e){return new b(e)}))]),l.button([d.onClick((function(e){return w.value}))])([f.text("新建主题")])]),l.ul_(o.mapFlipped(o.functorArray)(e.topicList)((function(e){return l.li_([f.text(e.name)])}))),f.text("topic list end")])},S=function(e){return{collTopic:e.context.collTopic,newTopicName:"",topicList:[]}},T=function(e){return function(t){return function(n){return function(o){if(o instanceof b)return i.modify_(p.monadStateHalogenM)((function(e){var t={};for(var n in e)({}).hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.newTopicName=o.value0,t}));if(o instanceof w)return r.bind(p.bindHalogenM)(i.gets(p.monadStateHalogenM)((function(e){return e.newTopicName})))((function(o){return r.bind(p.bindHalogenM)(s.liftEffect(p.monadEffectHalogenM(e.MonadEffect0()))(u.genUUID))((function(e){var a="topic-"+u.toString(e);return r.bind(p.bindHalogenM)(v.now(v.nowHalogenM(t)))((function(e){var t={id:a,name:o,created:e,updated:e,noteIds:[]};return r.discard(r.discardUnit)(p.bindHalogenM)(g.createTopic(g.manageTopicHalogenM(n))(t))((function(){return r.bind(p.bindHalogenM)(g.getTopics(g.manageTopicHalogenM(n)))((function(e){return i.modify_(p.monadStateHalogenM)((function(t){var n={};for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.topicList=e,n.newTopicName="",n}))}))}))}))}))}));if(o instanceof E)return r.bind(p.bindHalogenM)(g.getTopics(g.manageTopicHalogenM(n)))((function(e){return i.modify_(p.monadStateHalogenM)((function(t){var n={};for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n.topicList=e,n}))}));throw new Error("Failed pattern match at LinkNote.Page.TopicList (line 52, column 16 - line 72, column 37): "+[o.constructor.name])}}}};e.exports={ChangeNewTopicName:b,CreateTopic:w,UpdateTopicList:E,render:_,handleAction:T,initialState:S,component:function(e){return function(t){return function(n){return function(r){return m.connect(t.MonadEffect0())(e)(y.selectAll)(c.mkComponent({initialState:S,render:_,eval:c.mkEval({handleAction:T(t)(n)(r),handleQuery:c.defaultEval.handleQuery,receive:c.defaultEval.receive,initialize:new a.Just(E.value),finalize:c.defaultEval.finalize})}))}}}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"Address4",(function(){return l})),n.d(t,"Address6",(function(){return M})),n.d(t,"AddressError",(function(){return s})),n.d(t,"v6",(function(){return N}));var r={};function i(e){return!(this.subnetMask<e.subnetMask)&&this.mask(e.subnetMask)===e.mask()}function o(e){return function(){return this.addressMinusSuffix===this.correctForm()&&(this.subnetMask===e&&!this.parsedSubnet||this.parsedSubnet===String(this.subnetMask))}}n.r(r),n.d(r,"spanAllZeroes",(function(){return w})),n.d(r,"spanAll",(function(){return E})),n.d(r,"spanLeadingZeroes",(function(){return S})),n.d(r,"simpleGroup",(function(){return T}));const a=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g,u=/\/\d{1,2}$/;class s extends Error{constructor(e,t){super(e),this.name="AddressError",null!==t&&(this.parseMessage=t)}}var c=n(62),f=n(43);class l{constructor(e){this.groups=4,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=o(32),this.isInSubnet=i,this.address=e;const t=u.exec(e);if(t){if(this.parsedSubnet=t[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,this.subnetMask<0||this.subnetMask>32)throw new s("Invalid subnet mask.");e=e.replace(u,"")}this.addressMinusSuffix=e,this.parsedAddress=this.parse(e)}static isValid(e){try{return new l(e),!0}catch(e){return!1}}parse(e){const t=e.split(".");if(!e.match(a))throw new s("Invalid IPv4 address.");return t}correctForm(){return this.parsedAddress.map(e=>parseInt(e,10)).join(".")}static fromHex(e){const t=e.replace(/:/g,"").padStart(8,"0"),n=[];let r;for(r=0;r<8;r+=2){const e=t.slice(r,r+2);n.push(parseInt(e,16))}return new l(n.join("."))}static fromInteger(e){return l.fromHex(e.toString(16))}static fromArpa(e){const t=e.replace(/(\.in-addr\.arpa)?\.$/,"").split(".").reverse().join(".");return new l(t)}toHex(){return this.parsedAddress.map(e=>Object(f.sprintf)("%02x",parseInt(e,10))).join(":")}toArray(){return this.parsedAddress.map(e=>parseInt(e,10))}toGroup6(){const e=[];let t;for(t=0;t<4;t+=2){const n=Object(f.sprintf)("%02x%02x",parseInt(this.parsedAddress[t],10),parseInt(this.parsedAddress[t+1],10));e.push(Object(f.sprintf)("%x",parseInt(n,16)))}return e.join(":")}bigInteger(){return new c.BigInteger(this.parsedAddress.map(e=>Object(f.sprintf)("%02x",parseInt(e,10))).join(""),16)}_startAddress(){return new c.BigInteger(this.mask()+"0".repeat(32-this.subnetMask),2)}startAddress(){return l.fromBigInteger(this._startAddress())}startAddressExclusive(){const e=new c.BigInteger("1");return l.fromBigInteger(this._startAddress().add(e))}_endAddress(){return new c.BigInteger(this.mask()+"1".repeat(32-this.subnetMask),2)}endAddress(){return l.fromBigInteger(this._endAddress())}endAddressExclusive(){const e=new c.BigInteger("1");return l.fromBigInteger(this._endAddress().subtract(e))}static fromBigInteger(e){return l.fromInteger(parseInt(e.toString(),10))}mask(e){return void 0===e&&(e=this.subnetMask),this.getBitsBase2(0,e)}getBitsBase2(e,t){return this.binaryZeroPad().slice(e,t)}reverseForm(e){e||(e={});const t=this.correctForm().split(".").reverse().join(".");return e.omitSuffix?t:Object(f.sprintf)("%s.in-addr.arpa.",t)}isMulticast(){return this.isInSubnet(new l("224.0.0.0/4"))}binaryZeroPad(){return this.bigInteger().toString(2).padStart(32,"0")}groupForV6(){const e=this.parsedAddress;return this.address.replace(a,Object(f.sprintf)('<span class="hover-group group-v4 group-6">%s</span>.<span class="hover-group group-v4 group-7">%s</span>',e.slice(0,2).join("."),e.slice(2,4).join(".")))}}const d={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"},h={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"},p=/([^0-9a-f:/%])/gi,m=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi,y=/\/\d{1,3}(?=%|$)/,v=/%.*$/,g=new RegExp(/^\[{0,1}([0-9a-f:]+)\]{0,1}/),b=new RegExp(/\[([0-9a-f:]+)\]:([0-9]{1,5})/);function w(e){return e.replace(/(0+)/g,'<span class="zero">$1</span>')}function E(e,t=0){return e.split("").map((e,n)=>Object(f.sprintf)('<span class="digit value-%s position-%d">%s</span>',e,n+t,w(e))).join("")}function _(e){return e.replace(/^(0+)/,'<span class="zero">$1</span>')}function S(e){return e.split(":").map(e=>_(e)).join(":")}function T(e,t=0){return e.split(":").map((e,n)=>/group-v4/.test(e)?e:Object(f.sprintf)('<span class="hover-group group-%d">%s</span>',n+t,_(e)))}function A(e){return Object(f.sprintf)("(%s)",e.join("|"))}function P(e){return e.length<4?Object(f.sprintf)("0{0,%d}%s",4-e.length,e):e}function k(e){const t=[];e.forEach((e,n)=>{0===parseInt(e,16)&&t.push(n)});const n=t.map(t=>e.map((e,n)=>{if(n===t){const t=0===n||7===n?":":"";return A([P(e),t])}return P(e)}).join(":"));return n.push(e.map(P).join(":")),A(n)}function x(e,t,n){const r=t?"":":",i=n?"":":",o=[];t||n||o.push("::"),t&&n&&o.push(""),(n&&!t||!n&&t)&&o.push(":"),o.push(Object(f.sprintf)("%s(:0{1,4}){1,%d}",r,e-1)),o.push(Object(f.sprintf)("(0{1,4}:){1,%d}%s",e-1,i)),o.push(Object(f.sprintf)("(0{1,4}:){%d}0{1,4}",e-1));for(let t=1;t<e-1;t++)for(let n=1;n<e-t;n++)o.push(Object(f.sprintf)("(0{1,4}:){%d}:(0{1,4}:){%d}0{1,4}",n,e-n-t-1));return A(o)}function C(e){if(!e)throw new Error("Assertion failed.")}function R(e){return e=(e=e.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2')).replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2')}function I(e){return Object(f.sprintf)("%04x",parseInt(e,16))}function O(e){return 255&e}class M{constructor(e,t){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=i,this.isCorrect=o(128),this.groups=void 0===t?8:t,this.address=e;const n=y.exec(e);if(n){if(this.parsedSubnet=n[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>128)throw new s("Invalid subnet mask.");e=e.replace(y,"")}else if(/\//.test(e))throw new s("Invalid subnet mask.");const r=v.exec(e);r&&(this.zone=r[0],e=e.replace(v,"")),this.addressMinusSuffix=e,this.parsedAddress=this.parse(this.addressMinusSuffix)}static isValid(e){try{return new M(e),!0}catch(e){return!1}}static fromBigInteger(e){const t=e.toString(16).padStart(32,"0"),n=[];let r;for(r=0;r<8;r++)n.push(t.slice(4*r,4*(r+1)));return new M(n.join(":"))}static fromURL(e){let t,n,r=null;if(-1!==e.indexOf("[")&&-1!==e.indexOf("]:")){if(n=b.exec(e),null===n)return{error:"failed to parse address with port",address:null,port:null};t=n[1],r=n[2]}else if(-1!==e.indexOf("/")){if(e=e.replace(/^[a-z0-9]+:\/\//,""),n=g.exec(e),null===n)return{error:"failed to parse address from URL",address:null,port:null};t=n[1]}else t=e;return r?(r=parseInt(r,10),(r<0||r>65536)&&(r=null)):r=null,{address:new M(t),port:r}}static fromAddress4(e){const t=new l(e),n=128-(32-t.subnetMask);return new M(`::ffff:${t.correctForm()}/${n}`)}static fromArpa(e){let t=e.replace(/(\.ip6\.arpa)?\.$/,"");if(63!==t.length)throw new s("Invalid 'ip6.arpa' form.");const n=t.split(".").reverse();for(let e=7;e>0;e--){const t=4*e;n.splice(t,0,":")}return t=n.join(""),new M(t)}microsoftTranscription(){return Object(f.sprintf)("%s.ipv6-literal.net",this.correctForm().replace(/:/g,"-"))}mask(e=this.subnetMask){return this.getBitsBase2(0,e)}possibleSubnets(e=128){const t=128-this.subnetMask-Math.abs(e-128);return t<0?"0":function(e){const t=/(\d+)(\d{3})/;for(;t.test(e);)e=e.replace(t,"$1,$2");return e}(new c.BigInteger("2",10).pow(t).toString(10))}_startAddress(){return new c.BigInteger(this.mask()+"0".repeat(128-this.subnetMask),2)}startAddress(){return M.fromBigInteger(this._startAddress())}startAddressExclusive(){const e=new c.BigInteger("1");return M.fromBigInteger(this._startAddress().add(e))}_endAddress(){return new c.BigInteger(this.mask()+"1".repeat(128-this.subnetMask),2)}endAddress(){return M.fromBigInteger(this._endAddress())}endAddressExclusive(){const e=new c.BigInteger("1");return M.fromBigInteger(this._endAddress().subtract(e))}getScope(){let e=d[this.getBits(12,16).intValue()];return"Global unicast"===this.getType()&&"Link local"!==e&&(e="Global"),e||"Unknown"}getType(){for(const e of Object.keys(h))if(this.isInSubnet(new M(e)))return h[e];return"Global unicast"}getBits(e,t){return new c.BigInteger(this.getBitsBase2(e,t),2)}getBitsBase2(e,t){return this.binaryZeroPad().slice(e,t)}getBitsBase16(e,t){const n=t-e;if(n%4!=0)throw new Error("Length of bits to retrieve must be divisible by four");return this.getBits(e,t).toString(16).padStart(n/4,"0")}getBitsPastSubnet(){return this.getBitsBase2(this.subnetMask,128)}reverseForm(e){e||(e={});const t=Math.floor(this.subnetMask/4),n=this.canonicalForm().replace(/:/g,"").split("").slice(0,t).reverse().join(".");return t>0?e.omitSuffix?n:Object(f.sprintf)("%s.ip6.arpa.",n):e.omitSuffix?"":"ip6.arpa."}correctForm(){let e,t=[],n=0;const r=[];for(e=0;e<this.parsedAddress.length;e++){const t=parseInt(this.parsedAddress[e],16);0===t&&n++,0!==t&&n>0&&(n>1&&r.push([e-n,e-1]),n=0)}n>1&&r.push([this.parsedAddress.length-n,this.parsedAddress.length-1]);const i=r.map(e=>e[1]-e[0]+1);if(r.length>0){const e=i.indexOf(Math.max(...i));t=function(e,t){const n=[],r=[];let i;for(i=0;i<e.length;i++)i<t[0]?n.push(e[i]):i>t[1]&&r.push(e[i]);return n.concat(["compact"]).concat(r)}(this.parsedAddress,r[e])}else t=this.parsedAddress;for(e=0;e<t.length;e++)"compact"!==t[e]&&(t[e]=parseInt(t[e],16).toString(16));let o=t.join(":");return o=o.replace(/^compact$/,"::"),o=o.replace(/^compact|compact$/,":"),o=o.replace(/compact/,""),o}binaryZeroPad(){return this.bigInteger().toString(2).padStart(128,"0")}parse4in6(e){const t=e.split(":"),n=t.slice(-1)[0].match(a);if(n){this.parsedAddress4=n[0],this.address4=new l(this.parsedAddress4);for(let t=0;t<this.address4.groups;t++)if(/^0[0-9]+/.test(this.address4.parsedAddress[t]))throw new s("IPv4 addresses can't have leading zeroes.",e.replace(a,this.address4.parsedAddress.map(R).join(".")));this.v4=!0,t[t.length-1]=this.address4.toGroup6(),e=t.join(":")}return e}parse(e){const t=(e=this.parse4in6(e)).match(p);if(t)throw new s(Object(f.sprintf)("Bad character%s detected in address: %s",t.length>1?"s":"",t.join("")),e.replace(p,'<span class="parse-error">$1</span>'));const n=e.match(m);if(n)throw new s(Object(f.sprintf)("Address failed regex: %s",n.join("")),e.replace(m,'<span class="parse-error">$1</span>'));let r=[];const i=e.split("::");if(2===i.length){let e=i[0].split(":"),t=i[1].split(":");1===e.length&&""===e[0]&&(e=[]),1===t.length&&""===t[0]&&(t=[]);const n=this.groups-(e.length+t.length);if(!n)throw new s("Error parsing groups");this.elidedGroups=n,this.elisionBegin=e.length,this.elisionEnd=e.length+this.elidedGroups,r=r.concat(e);for(let e=0;e<n;e++)r.push("0");r=r.concat(t)}else{if(1!==i.length)throw new s("Too many :: groups found");r=e.split(":"),this.elidedGroups=0}if(r=r.map(e=>Object(f.sprintf)("%x",parseInt(e,16))),r.length!==this.groups)throw new s("Incorrect number of groups found");return r}canonicalForm(){return this.parsedAddress.map(I).join(":")}decimal(){return this.parsedAddress.map(e=>Object(f.sprintf)("%05d",parseInt(e,16))).join(":")}bigInteger(){return new c.BigInteger(this.parsedAddress.map(I).join(""),16)}to4(){const e=this.binaryZeroPad().split("");return l.fromHex(new c.BigInteger(e.slice(96,128).join(""),2).toString(16))}to4in6(){const e=this.to4(),t=new M(this.parsedAddress.slice(0,6).join(":"),6).correctForm();let n="";return/:$/.test(t)||(n=":"),t+n+e.address}inspectTeredo(){const e=this.getBitsBase16(0,32),t=this.getBits(80,96).xor(new c.BigInteger("ffff",16)).toString(),n=l.fromHex(this.getBitsBase16(32,64)),r=l.fromHex(this.getBits(96,128).xor(new c.BigInteger("ffffffff",16)).toString(16)),i=this.getBits(64,80),o=this.getBitsBase2(64,80),a=i.testBit(15),u=i.testBit(14),s=i.testBit(8),d=i.testBit(9),h=new c.BigInteger(o.slice(2,6)+o.slice(8,16),2).toString(10);return{prefix:Object(f.sprintf)("%s:%s",e.slice(0,4),e.slice(4,8)),server4:n.address,client4:r.address,flags:o,coneNat:a,microsoft:{reserved:u,universalLocal:d,groupIndividual:s,nonce:h},udpPort:t}}inspect6to4(){const e=this.getBitsBase16(0,16),t=l.fromHex(this.getBitsBase16(16,48));return{prefix:Object(f.sprintf)("%s",e.slice(0,4)),gateway:t.address}}to6to4(){if(!this.is4())return null;const e=["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":");return new M(e)}toByteArray(){const e=this.bigInteger().toByteArray();return 17===e.length&&0===e[0]?e.slice(1):e}toUnsignedByteArray(){return this.toByteArray().map(O)}static fromByteArray(e){return this.fromUnsignedByteArray(e.map(O))}static fromUnsignedByteArray(e){const t=new c.BigInteger("256",10);let n=new c.BigInteger("0",10),r=new c.BigInteger("1",10);for(let i=e.length-1;i>=0;i--)n=n.add(r.multiply(new c.BigInteger(e[i].toString(10),10))),r=r.multiply(t);return M.fromBigInteger(n)}isCanonical(){return this.addressMinusSuffix===this.canonicalForm()}isLinkLocal(){return"1111111010000000000000000000000000000000000000000000000000000000"===this.getBitsBase2(0,64)}isMulticast(){return"Multicast"===this.getType()}is4(){return this.v4}isTeredo(){return this.isInSubnet(new M("2001::/32"))}is6to4(){return this.isInSubnet(new M("2002::/16"))}isLoopback(){return"Loopback"===this.getType()}href(e){return e=void 0===e?"":Object(f.sprintf)(":%s",e),Object(f.sprintf)("http://[%s]%s/",this.correctForm(),e)}link(e){e||(e={}),void 0===e.className&&(e.className=""),void 0===e.prefix&&(e.prefix="/#address="),void 0===e.v4&&(e.v4=!1);let t=this.correctForm;return e.v4&&(t=this.to4in6),e.className?Object(f.sprintf)('<a href="%1$s%2$s" class="%3$s">%2$s</a>',e.prefix,t.call(this),e.className):Object(f.sprintf)('<a href="%1$s%2$s">%2$s</a>',e.prefix,t.call(this))}group(){if(0===this.elidedGroups)return T(this.address).join(":");C("number"==typeof this.elidedGroups),C("number"==typeof this.elisionBegin);const e=[],[t,n]=this.address.split("::");t.length?e.push(...T(t)):e.push("");const r=["hover-group"];for(let e=this.elisionBegin;e<this.elisionBegin+this.elidedGroups;e++)r.push(Object(f.sprintf)("group-%d",e));return e.push(Object(f.sprintf)('<span class="%s"></span>',r.join(" "))),n.length?e.push(...T(n,this.elisionEnd)):e.push(""),this.is4()&&(C(this.address4 instanceof l),e.pop(),e.push(this.address4.groupForV6())),e.join(":")}regularExpressionString(e=!1){let t=[];const n=new M(this.correctForm());if(0===n.elidedGroups)t.push(k(n.parsedAddress));else if(8===n.elidedGroups)t.push(x(8));else{const e=n.address.split("::");e[0].length&&t.push(k(e[0].split(":"))),C("number"==typeof n.elidedGroups),t.push(x(n.elidedGroups,0!==e[0].length,0!==e[1].length)),e[1].length&&t.push(k(e[1].split(":"))),t=[t.join(":")]}return e||(t=["(?=^|","[^A-Fa-f0-9:]","|[^\\w\\:])(",...t,")(?=[^\\w\\:]|","[^A-Fa-f0-9:]","|$)"]),t.join("")}regularExpression(e=!1){return new RegExp(this.regularExpressionString(e),"i")}}const N={helpers:r}},function(e,t,n){"use strict";n.r(t);var r=n(3),i=n(82),o=n(87),a=n(61),u=n(9),s=n(37);function c(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}var f=c(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),l=c(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function d(e){if(!/^\d+-/.test(e))return Object(u.p)(u.f);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function h(e,t,n){var i,o,a;n||(n={deterministic_revs:!0});var s={status:"available"};if(e._deleted&&(s.deleted=!0),t)if(e._id||(e._id=Object(r.x)()),o=Object(r.t)(e,n.deterministic_revs),e._rev){if((a=d(e._rev)).error)return a;e._rev_tree=[{pos:a.prefix,ids:[a.id,{status:"missing"},[[o,s,[]]]]}],i=a.prefix+1}else e._rev_tree=[{pos:1,ids:[o,s,[]]}],i=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,i=[r[0],t,[]],o=1,a=r.length;o<a;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}(e._revisions,s),i=e._revisions.start,o=e._revisions.ids[0]),!e._rev_tree){if((a=d(e._rev)).error)return a;i=a.prefix,o=a.id,e._rev_tree=[{pos:i,ids:[o,s,[]]}]}Object(r.l)(e._id),e._rev=i+"-"+o;var c={metadata:{},data:{}};for(var h in e)if(Object.prototype.hasOwnProperty.call(e,h)){var p="_"===h[0];if(p&&!f[h]){var m=Object(u.p)(u.c,h);throw m.message=u.c.message+": "+h,m}p&&!l[h]?c.metadata[h.slice(1)]=e[h]:c.data[h]=e[h]}return c}function p(e,t,n){var r=function(e){try{return Object(i.a)(e)}catch(e){return{error:Object(u.p)(u.a,"Attachment is not a valid base64 string")}}}(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?Object(i.c)(r,e.content_type):"base64"===t?Object(i.g)(r):r,Object(o.a)(r,(function(t){e.digest="md5-"+t,n()}))}function m(e,t,n){if(e.stub)return n();"string"==typeof e.data?p(e,t,n):function(e,t,n){Object(o.a)(e.data,(function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?Object(i.f)(e.data,(function(t){e.data=t,n()})):"base64"===t?Object(i.e)(e.data,(function(t){e.data=t,n()})):n()}))}(e,t,n)}function y(e,t,n,r,i,o,c,f,l){e=e||1e3;var d=f.new_edits,p=new a.a,m=0,y=t.length;function v(){++m===y&&l&&l()}t.forEach((function(e,t){if(e._id&&Object(s.e)(e._id)){var r=e._deleted?"_removeLocal":"_putLocal";n[r](e,{ctx:i},(function(e,n){o[t]=e||n,v()}))}else{var a=e.metadata.id;p.has(a)?(y--,p.get(a).push([e,t])):p.set(a,[[e,t]])}})),p.forEach((function(t,n){var i=0;function a(){++i<t.length?l():v()}function l(){var l=t[i],p=l[0],m=l[1];if(r.has(n))!function(e,t,n,r,i,o,a,c){if(Object(s.h)(t.rev_tree,n.metadata.rev)&&!c)return r[i]=n,o();var f=t.winningRev||Object(s.k)(t),l="deleted"in t?t.deleted:Object(s.d)(t,f),d="deleted"in n.metadata?n.metadata.deleted:Object(s.d)(n.metadata),p=/^1-/.test(n.metadata.rev);if(l&&!d&&c&&p){var m=n.data;m._rev=f,m._id=n.metadata.id,n=h(m,c)}var y=Object(s.g)(t.rev_tree,n.metadata.rev_tree[0],e);if(c&&(l&&d&&"new_leaf"!==y.conflicts||!l&&"new_leaf"!==y.conflicts||l&&!d&&"new_branch"===y.conflicts)){var v=Object(u.p)(u.n);return r[i]=v,o()}var g=n.metadata.rev;n.metadata.rev_tree=y.tree,n.stemmedRevs=y.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var b=Object(s.k)(n.metadata),w=Object(s.d)(n.metadata,b),E=l===w?0:l<w?-1:1;a(n,b,w,g===b?w:Object(s.d)(n.metadata,g),!0,E,i,o)}(e,r.get(n),p,o,m,a,c,d);else{var y=Object(s.g)([],p.metadata.rev_tree[0],e);p.metadata.rev_tree=y.tree,p.stemmedRevs=y.stemmedRevs||[],function(e,t,n){var r=Object(s.k)(e.metadata),i=Object(s.d)(e.metadata,r);if("was_delete"in f&&i)return o[t]=Object(u.p)(u.h,"deleted"),n();if(d&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var a=Object(u.p)(u.n);return o[t]=a,n()}c(e,r,i,i,!1,i?0:1,t,n)}(p,m,a)}}l()}))}var v=n(429),g=n.n(v);function b(e){try{return JSON.stringify(e)}catch(t){return g.a.stringify(e)}}var w="document-store",E="meta-store";function _(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(Object(u.p)(u.d,n,t.type))}}function S(e,t,n){return{data:b(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function T(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(t){return g.a.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function A(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function P(e,t,n,r){n?r(e?"string"!=typeof e?e:Object(i.b)(e,t):Object(i.d)([""],{type:t})):e?"string"!=typeof e?Object(i.i)(e,(function(e){r(Object(i.g)(e))})):r(e):r("")}function k(e,t,n,r){var i=Object.keys(e._attachments||{});if(!i.length)return r&&r();var o=0;function a(){++o===i.length&&r&&r()}i.forEach((function(r){t.attachments&&t.include_docs?function(e,t){var r=e._attachments[t],i=r.digest;n.objectStore("attach-store").get(i).onsuccess=function(e){r.body=e.target.result.body,a()}}(e,r):(e._attachments[r].stub=!0,a())}))}function x(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map((function(n){var i=e.doc._attachments[n];if("body"in i){var o=i.body,a=i.content_type;return new Promise((function(u){P(o,a,t,(function(t){e.doc._attachments[n]=Object(r.b)(Object(r.s)(i,["digest","content_type"]),{data:t}),u()}))}))}})))}})))}function C(e,t,n){var r=[],i=n.objectStore("by-sequence"),o=n.objectStore("attach-store"),a=n.objectStore("attach-seq-store"),u=e.length;function s(){--u||function(){if(!r.length)return;r.forEach((function(e){a.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1)).onsuccess=function(t){t.target.result||o.delete(e)}}))}()}e.forEach((function(e){var n=i.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return s();i.delete(t),a.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];r.push(n),a.delete(t.primaryKey),t.continue()}else s()}}}))}function R(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}var I=new r.d;function O(e,t,n,r,i,o){for(var c,f,l,d,p,v,g,b,A=t.docs,P=0,k=A.length;P<k;P++){var x=A[P];x._id&&Object(s.e)(x._id)||(x=A[P]=h(x,n.new_edits,e)).error&&!g&&(g=x)}if(g)return o(g);var O=!1,M=0,N=new Array(A.length),D=new a.a,L=!1,j=r._meta.blobSupport?"blob":"base64";function B(){O=!0,F()}function F(){b&&O&&(b.docCount+=M,v.put(b))}function U(){L||(I.notify(r._meta.name),o(null,N))}function q(e,t,n,r,i,o,a,u){e.metadata.winningRev=t,e.metadata.deleted=n;var s=e.data;if(s._id=e.metadata.id,s._rev=e.metadata.rev,r&&(s._deleted=!0),s._attachments&&Object.keys(s._attachments).length)return function(e,t,n,r,i,o){var a=e.data,u=0,s=Object.keys(a._attachments);function c(){u===s.length&&H(e,t,n,r,i,o)}function f(){u++,c()}s.forEach((function(n){var r=e.data._attachments[n];if(r.stub)u++,c();else{var i=r.data;delete r.data,r.revpos=parseInt(t,10),function(e,t,n){d.count(e).onsuccess=function(r){if(r.target.result)return n();var i={digest:e,body:t};d.put(i).onsuccess=n}}(r.digest,i,f)}}))}(e,t,n,i,a,u);M+=o,F(),H(e,t,n,i,a,u)}function H(e,t,n,i,o,a){var u=e.data,d=e.metadata;function h(o){var a=e.stemmedRevs||[];i&&r.auto_compaction&&(a=a.concat(Object(s.c)(e.metadata))),a&&a.length&&C(a,e.metadata.id,c),d.seq=o.target.result;var u=S(d,t,n);f.put(u).onsuccess=m}function m(){N[o]={ok:!0,id:d.id,rev:d.rev},D.set(e.metadata.id,e.metadata),function(e,t,n){var r=0,i=Object.keys(e.data._attachments||{});if(!i.length)return n();function o(){++r===i.length&&n()}function a(n){var r=e.data._attachments[n].digest,i=p.put({seq:t,digestSeq:r+"::"+t});i.onsuccess=o,i.onerror=function(e){e.preventDefault(),e.stopPropagation(),o()}}for(var u=0;u<i.length;u++)a(i[u])}(e,d.seq,a)}u._doc_id_rev=d.id+"::"+d.rev,delete u._id,delete u._rev;var y=l.put(u);y.onsuccess=h,y.onerror=function(e){e.preventDefault(),e.stopPropagation(),l.index("_doc_id_rev").getKey(u._doc_id_rev).onsuccess=function(e){l.put(u,e.target.result).onsuccess=h}}}!function(e,t,n){if(!e.length)return n();var r,i=0;function o(){i++,e.length===i&&(r?n(r):n())}e.forEach((function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],i=0;if(!n.length)return o();function a(e){r=e,++i===n.length&&o()}for(var u in e.data._attachments)e.data._attachments.hasOwnProperty(u)&&m(e.data._attachments[u],t,a)}))}(A,j,(function(t){if(t)return o(t);!function(){var t=R(i,[w,"by-sequence","attach-store","local-store","attach-seq-store",E],"readwrite");if(t.error)return o(t.error);(c=t.txn).onabort=_(o),c.ontimeout=_(o),c.oncomplete=U,f=c.objectStore(w),l=c.objectStore("by-sequence"),d=c.objectStore("attach-store"),p=c.objectStore("attach-seq-store"),(v=c.objectStore(E)).get(E).onsuccess=function(e){b=e.target.result,F()},function(e){var t=[];if(A.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var r=e.data._attachments[n];r.stub&&t.push(r.digest)}))})),!t.length)return e();var n,r=0;t.forEach((function(i){!function(e,t){d.get(e).onsuccess=function(n){if(n.target.result)t();else{var r=Object(u.p)(u.j,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}(i,(function(i){i&&!n&&(n=i),++r===t.length&&e(n)}))}))}((function(t){if(t)return L=!0,o(t);!function(){if(!A.length)return;var t=0;function i(){++t===A.length&&y(e.revs_limit,A,r,D,c,N,q,n,B)}function o(e){var t=T(e.target.result);t&&D.set(t.id,t),i()}for(var a=0,u=A.length;a<u;a++){var l=A[a];if(l._id&&Object(s.e)(l._id))i();else f.get(l.metadata.id).onsuccess=o}}()}))}()}))}function M(e,t,n,r,i){var o,a,u;function s(e){a=e.target.result,o&&i(o,a,u)}function c(e){o=e.target.result,a&&i(o,a,u)}function f(e){var t=e.target.result;if(!t)return i();i([t.key],[t.value],t)}-1===r&&(r=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n?(u={continue:function(){if(!o.length)return i();var n,u=o[o.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(u,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return i()}else n=IDBKeyRange.lowerBound(u,!0);t=n,o=null,a=null,e.getAll(t,r).onsuccess=s,e.getAllKeys(t,r).onsuccess=c}},e.getAll(t,r).onsuccess=s,e.getAllKeys(t,r).onsuccess=c):n?e.openCursor(t,"prev").onsuccess=f:e.openCursor(t).onsuccess=f}function N(e,t,n){var r,i,o="startkey"in e&&e.startkey,a="endkey"in e&&e.endkey,c="key"in e&&e.key,f="keys"in e&&e.keys,l=e.skip||0,d="number"==typeof e.limit?e.limit:-1,h=!1!==e.inclusive_end;if(!f&&(i=(r=function(e,t,n,r,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(e){return{error:e}}return null}(o,a,h,c,e.descending))&&r.error)&&("DataError"!==i.name||0!==i.code))return n(Object(u.p)(u.d,i.name,i.message));var p=[w,"by-sequence",E];e.attachments&&p.push("attach-store");var m=R(t,p,"readonly");if(m.error)return n(m.error);var y=m.txn;y.oncomplete=function(){e.attachments?x(O,e.binary).then(j):j()},y.onabort=_(n);var v,g,b,S=y.objectStore(w),P=y.objectStore("by-sequence"),C=y.objectStore(E),I=P.index("_doc_id_rev"),O=[];function N(t,n){var r={id:n.id,key:n.id,value:{rev:t}};n.deleted?f&&(O.push(r),r.value.deleted=!0,r.doc=null):l--<=0&&(O.push(r),e.include_docs&&function(t,n,r){var i=t.id+"::"+r;I.get(i).onsuccess=function(r){if(n.doc=A(r.target.result)||{},e.conflicts){var i=Object(s.a)(t);i.length&&(n.doc._conflicts=i)}k(n.doc,e,y)}}(n,r,t))}function D(e){for(var t=0,n=e.length;t<n&&O.length!==d;t++){var r=e[t];if(r.error&&f)O.push(r);else{var i=T(r);N(i.winningRev,i)}}}function L(e,t,n){n&&(D(t),O.length<d&&n.continue())}function j(){var t={total_rows:v,offset:e.skip,rows:O};e.update_seq&&void 0!==g&&(t.update_seq=g),n(null,t)}return C.get(E).onsuccess=function(e){v=e.target.result.docCount},e.update_seq&&(b=function(e){e.target.result&&e.target.result.length>0&&(g=e.target.result[0])},P.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),b({target:{result:[n]}})}),i||0===d?void 0:f?function(e,t,n){var r=new Array(e.length),i=0;e.forEach((function(o,a){t.get(o).onsuccess=function(t){t.target.result?r[a]=t.target.result:r[a]={key:o,error:"not_found"},++i===e.length&&n(e,r,{})}}))}(e.keys,S,L):-1===d?function(e,t,n){if("function"!=typeof e.getAll){var r=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(r.push(t.value),t.continue()):n({target:{result:r}})}}else e.getAll(t).onsuccess=n}(S,r,(function(t){var n=t.target.result;e.descending&&(n=n.reverse()),D(n)})):void M(S,r,e.descending,d+l,L)}var D=!1,L=[];function j(){!D&&L.length&&(D=!0,L.shift()())}function B(e,t,n,i){if((e=Object(r.e)(e)).continuous){var o=n+":"+Object(r.x)();return I.addListener(n,o,t,e),I.notify(n),{cancel:function(){I.removeListener(n,o)}}}var u=e.doc_ids&&new a.b(e.doc_ids);e.since=e.since||0;var s=e.since,c="limit"in e?e.limit:-1;0===c&&(c=1);var f,l,d,h,p=[],m=0,y=Object(r.h)(e),v=new a.a;function g(e,t,n,r){if(n.seq!==t)return r();if(n.winningRev===e._rev)return r(n,e);var i=e._id+"::"+n.winningRev;h.get(i).onsuccess=function(e){r(n,A(e.target.result))}}function b(){e.complete(null,{results:p,last_seq:s})}var E=[w,"by-sequence"];e.attachments&&E.push("attach-store");var S=R(i,E,"readonly");if(S.error)return e.complete(S.error);(f=S.txn).onabort=_(e.complete),f.oncomplete=function(){!e.continuous&&e.attachments?x(p).then(b):b()},l=f.objectStore("by-sequence"),d=f.objectStore(w),h=l.index("_doc_id_rev"),M(l,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,c,(function(t,n,r){if(r&&t.length){var i=new Array(t.length),o=new Array(t.length),a=0;n.forEach((function(n,s){!function(e,t,n){if(u&&!u.has(e._id))return n();var r=v.get(e._id);if(r)return g(e,t,r,n);d.get(e._id).onsuccess=function(i){r=T(i.target.result),v.set(e._id,r),g(e,t,r,n)}}(A(n),t[s],(function(n,u){o[s]=n,i[s]=u,++a===t.length&&function(){for(var t=[],n=0,a=i.length;n<a&&m!==c;n++){var u=i[n];if(u){var s=o[n];t.push(l(s,u))}}Promise.all(t).then((function(t){for(var n=0,r=t.length;n<r;n++)t[n]&&e.onChange(t[n])})).catch(e.complete),m!==c&&r.continue()}()}))}))}function l(t,n){var r=e.processChange(n,t,e);s=r.seq=t.seq;var i=y(r);return"object"==typeof i?Promise.reject(i):i?(m++,e.return_docs&&p.push(r),e.attachments&&e.include_docs?new Promise((function(t){k(n,e,f,(function(){x([r],e.binary).then((function(){t(r)}))}))})):Promise.resolve(r)):Promise.resolve()}}))}var F,U=new a.a,q=new a.a;function H(e,t){var n=this;!function(e,t,n){L.push((function(){e((function(e,i){!function(e,t,n,r){try{e(t,n)}catch(t){r.emit("error",t)}}(t,e,i,n),D=!1,Object(r.o)((function(){j()}))}))})),j()}((function(t){!function(e,t,n){var o=t.name,a=null;function c(e,t){var n=e.objectStore(w);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var i=r.value,o=Object(s.d)(i);i.deletedOrLocal=o?"1":"0",n.put(i),r.continue()}else t()}}function f(e,t){var n=e.objectStore("local-store"),r=e.objectStore(w),i=e.objectStore("by-sequence");r.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var a=o.value,u=a.id,c=Object(s.e)(u),f=Object(s.k)(a);if(c){var l=u+"::"+f,d=u+"::",h=u+"::~",p=i.index("_doc_id_rev"),m=IDBKeyRange.bound(d,h,!1,!1),y=p.openCursor(m);y.onsuccess=function(e){if(y=e.target.result){var t=y.value;t._doc_id_rev===l&&n.put(t),i.delete(y.primaryKey),y.continue()}else r.delete(o.primaryKey),o.continue()}}else o.continue()}else t&&t()}}function l(e,t){var n=e.objectStore("by-sequence"),r=e.objectStore("attach-store"),i=e.objectStore("attach-seq-store");r.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,o=n.primaryKey,a=Object.keys(r._attachments||{}),u={},s=0;s<a.length;s++){u[r._attachments[a[s]].digest]=!0}var c=Object.keys(u);for(s=0;s<c.length;s++){var f=c[s];i.put({seq:o,digestSeq:f+"::"+o})}n.continue()}}}function d(e){var t=e.objectStore("by-sequence"),n=e.objectStore(w);n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var i,o=(i=r.value).data?T(i):(i.deleted="1"===i.deletedOrLocal,i);if(o.winningRev=o.winningRev||Object(s.k)(o),o.seq)return a();!function(){var e=o.id+"::",n=o.id+"::￿",r=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),i=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return o.seq=i,a();var n=t.primaryKey;n>i&&(i=n),t.continue()}}()}function a(){var e=S(o,o.winningRev,o.deleted);n.put(e).onsuccess=function(){r.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=Object(r.v)((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(n,r,i){O(t,n,r,e,a,i)},e._get=function(e,t,n){var r,i,o,c=t.ctx;if(!c){var f=R(a,[w,"by-sequence","attach-store"],"readonly");if(f.error)return n(f.error);c=f.txn}function l(){n(o,{doc:r,metadata:i,ctx:c})}c.objectStore(w).get(e).onsuccess=function(e){if(!(i=T(e.target.result)))return o=Object(u.p)(u.h,"missing"),l();var n;if(t.rev)n=t.latest?Object(s.f)(t.rev,i):t.rev;else if(n=i.winningRev,Object(s.d)(i))return o=Object(u.p)(u.h,"deleted"),l();var a=c.objectStore("by-sequence"),f=i.id+"::"+n;a.index("_doc_id_rev").get(f).onsuccess=function(e){if((r=e.target.result)&&(r=A(r)),!r)return o=Object(u.p)(u.h,"missing"),l();l()}}},e._getAttachment=function(e,t,n,r,i){var o;if(r.ctx)o=r.ctx;else{var u=R(a,[w,"by-sequence","attach-store"],"readonly");if(u.error)return i(u.error);o=u.txn}var s=n.digest,c=n.content_type;o.objectStore("attach-store").get(s).onsuccess=function(e){P(e.target.result.body,c,r.binary,(function(e){i(null,e)}))}},e._info=function(t){var n,r,i=R(a,[E,"by-sequence"],"readonly");if(i.error)return t(i.error);var o=i.txn;o.objectStore(E).get(E).onsuccess=function(e){r=e.target.result.docCount},o.objectStore("by-sequence").openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},o.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){N(e,a,t)},e._changes=function(t){return B(t,e,o,a)},e._close=function(e){a.close(),U.delete(o),e()},e._getRevisionTree=function(e,t){var n=R(a,[w],"readonly");if(n.error)return t(n.error);n.txn.objectStore(w).get(e).onsuccess=function(e){var n=T(e.target.result);n?t(null,n.rev_tree):t(Object(u.p)(u.h))}},e._doCompaction=function(e,t,n){var r=R(a,[w,"by-sequence","attach-store","attach-seq-store"],"readwrite");if(r.error)return n(r.error);var i=r.txn;i.objectStore(w).get(e).onsuccess=function(n){var r=T(n.target.result);Object(s.j)(r.rev_tree,(function(e,n,r,i,o){var a=n+"-"+r;-1!==t.indexOf(a)&&(o.status="missing")})),C(t,e,i);var o=r.winningRev,a=r.deleted;i.objectStore(w).put(S(r,o,a))},i.onabort=_(n),i.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=R(a,["local-store"],"readonly");if(n.error)return t(n.error);var r=n.txn.objectStore("local-store").get(e);r.onerror=_(t),r.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(Object(u.p)(u.h))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,i=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var o,s=t.ctx;if(!s){var c=R(a,["local-store"],"readwrite");if(c.error)return n(c.error);(s=c.txn).onerror=_(n),s.oncomplete=function(){o&&n(null,o)}}var f,l=s.objectStore("local-store");r?(f=l.get(i)).onsuccess=function(i){var a=i.target.result;a&&a._rev===r?l.put(e).onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)}:n(Object(u.p)(u.n))}:((f=l.add(e)).onerror=function(e){n(Object(u.p)(u.n)),e.preventDefault(),e.stopPropagation()},f.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r,i=t.ctx;if(!i){var o=R(a,["local-store"],"readwrite");if(o.error)return n(o.error);(i=o.txn).oncomplete=function(){r&&n(null,r)}}var s=e._id,c=i.objectStore("local-store"),f=c.get(s);f.onerror=_(n),f.onsuccess=function(i){var o=i.target.result;o&&o._rev===e._rev?(c.delete(s),r={ok:!0,id:s,rev:"0-0"},t.ctx&&n(null,r)):n(Object(u.p)(u.h))}},e._destroy=function(e,t){I.removeAllListeners(o);var n=q.get(o);n&&n.result&&(n.result.close(),U.delete(o));var i=indexedDB.deleteDatabase(o);i.onsuccess=function(){q.delete(o),Object(r.k)()&&o in localStorage&&delete localStorage[o],t(null,{ok:!0})},i.onerror=_(t)};var h=U.get(o);if(h)return a=h.idb,e._meta=h.global,Object(r.o)((function(){n(null,e)}));var p=indexedDB.open(o,5);q.set(o,p),p.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(w,{keyPath:"id"});e.createObjectStore("by-sequence",{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore("attach-store",{keyPath:"digest"}),e.createObjectStore(E,{keyPath:"id",autoIncrement:!1}),e.createObjectStore("detect-blob-support"),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore("local-store",{keyPath:"_id"});var n=e.createObjectStore("attach-seq-store",{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore("local-store",{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore("attach-seq-store",{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var r=[c,f,l,d],i=e.oldVersion;!function e(){var t=r[i-1];i++,t&&t(n,e)}()},p.onsuccess=function(t){(a=t.target.result).onversionchange=function(){a.close(),U.delete(o)},a.onabort=function(e){Object(r.j)("error","Database has a global failure",e.target.error),a.close(),U.delete(o)};var u,s,c,f,l=a.transaction([E,"detect-blob-support",w],"readwrite"),d=!1;function h(){void 0!==c&&d&&(e._meta={name:o,instanceId:f,blobSupport:c},U.set(o,{idb:a,global:e._meta}),n(null,e))}function p(){if(void 0!==s&&void 0!==u){var e=o+"_id";e in u?f=u[e]:u[e]=f=Object(r.x)(),u.docCount=s,l.objectStore(E).put(u)}}l.objectStore(E).get(E).onsuccess=function(e){u=e.target.result||{id:E},p()},function(e,t){e.objectStore(w).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}(l,(function(e){s=e,p()})),F||(F=function(e){return new Promise((function(t){var n=Object(i.d)([""]),r=e.objectStore("detect-blob-support").put(n,"key");r.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},r.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}})).catch((function(){return!1}))}(l)),F.then((function(e){c=e,h()})),l.oncomplete=function(){d=!0,h()},l.onabort=_(n)},p.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",Object(r.j)("error",t),n(Object(u.p)(u.d,t))}}(n,e,t)}),t,n.constructor)}H.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};t.default=function(e){e.adapter("idb",H,!0)}}]);